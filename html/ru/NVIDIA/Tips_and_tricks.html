<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NVIDIA (Русский)/Tips and tricks (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NVIDIA_Русский_Tips_and_tricks_Русский rootpage-NVIDIA_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Исправление_разрешения_терминала" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F_%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Исправление разрешения терминала</div>
		</a>
		
		<ul id="toc-Исправление_разрешения_терминала-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Использование_ТВ-выхода" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%A2%D0%92-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Использование ТВ-выхода</div>
		</a>
		
		<ul id="toc-Использование_ТВ-выхода-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-X_с_телевизором_(DFP)_в_качестве_единственного_дисплея" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#X_%D1%81_%D1%82%D0%B5%D0%BB%D0%B5%D0%B2%D0%B8%D0%B7%D0%BE%D1%80%D0%BE%D0%BC_(DFP)_%D0%B2_%D0%BA%D0%B0%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B5_%D0%B5%D0%B4%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D1%8F">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>X с телевизором (DFP) в качестве единственного дисплея</div>
		</a>
		
		<ul id="toc-X_с_телевизором_(DFP)_в_качестве_единственного_дисплея-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Разрешение_без_подключенных_мониторов" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B1%D0%B5%D0%B7_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%BE%D0%B2">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Разрешение без подключенных мониторов</div>
		</a>
		
		<ul id="toc-Разрешение_без_подключенных_мониторов-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Проверка_источника_питания" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%B0_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Проверка источника питания</div>
		</a>
		
		<ul id="toc-Проверка_источника_питания-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Прослушивание_событий_ACPI" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BB%D1%83%D1%88%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9_ACPI">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Прослушивание событий ACPI</div>
		</a>
		
		<ul id="toc-Прослушивание_событий_ACPI-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Отображение_температуры_видеокарты_в_терминале" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%82%D0%B5%D0%BC%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D1%83%D1%80%D1%8B_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D0%BA%D0%B0%D1%80%D1%82%D1%8B_%D0%B2_%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Отображение температуры видеокарты в терминале</div>
		</a>
		
			<button aria-controls="toc-Отображение_температуры_видеокарты_в_терминале-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Отображение температуры видеокарты в терминале subsection</span>
			</button>
		
		<ul id="toc-Отображение_температуры_видеокарты_в_терминале-sublist" class="vector-toc-list">
			<li id="toc-nvidia-settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nvidia-settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>nvidia-settings</div>
			</a>
			
			<ul id="toc-nvidia-settings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nvidia-smi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nvidia-smi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>nvidia-smi</div>
			</a>
			
			<ul id="toc-nvidia-smi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nvclock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nvclock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>nvclock</div>
			</a>
			
			<ul id="toc-nvclock-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Разгон_и_охлаждение" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD_%D0%B8_%D0%BE%D1%85%D0%BB%D0%B0%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Разгон и охлаждение</div>
		</a>
		
			<button aria-controls="toc-Разгон_и_охлаждение-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Разгон и охлаждение subsection</span>
			</button>
		
		<ul id="toc-Разгон_и_охлаждение-sublist" class="vector-toc-list">
			<li id="toc-Включение_разгона" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Включение разгона</div>
			</a>
			
			<ul id="toc-Включение_разгона-sublist" class="vector-toc-list">
				<li id="toc-Настройка_статического_2D/3D_разгона" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_2D/3D_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1.1</span>Настройка статического 2D/3D разгона</div>
			</a>
			
			<ul id="toc-Настройка_статического_2D/3D_разгона-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Понижение_максимальной_частоты" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%BD%D0%B8%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1.2</span>Понижение максимальной частоты</div>
			</a>
			
			<ul id="toc-Понижение_максимальной_частоты-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сохранение_настроек_разгона" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1.3</span>Сохранение настроек разгона</div>
			</a>
			
			<ul id="toc-Сохранение_настроек_разгона-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Изменение_лимита_TDP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%B8%D0%BC%D0%B8%D1%82%D0%B0_TDP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Изменение лимита TDP</div>
			</a>
			
			<ul id="toc-Изменение_лимита_TDP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Установка_скорости_вентилятора_при_входе" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D0%B2%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80%D0%B0_%D0%BF%D1%80%D0%B8_%D0%B2%D1%85%D0%BE%D0%B4%D0%B5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Установка скорости вентилятора при входе</div>
			</a>
			
			<ul id="toc-Установка_скорости_вентилятора_при_входе-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Параметры_модуля_ядра" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F_%D1%8F%D0%B4%D1%80%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Параметры модуля ядра</div>
		</a>
		
		<ul id="toc-Параметры_модуля_ядра-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Сохранение_видеопамяти_в_ждущем_режиме" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8_%D0%B2_%D0%B6%D0%B4%D1%83%D1%89%D0%B5%D0%BC_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Сохранение видеопамяти в ждущем режиме</div>
		</a>
		
		<ul id="toc-Сохранение_видеопамяти_в_ждущем_режиме-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Драйвер_persistence" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_persistence">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>Драйвер persistence</div>
		</a>
		
		<ul id="toc-Драйвер_persistence-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NVIDIA (Русский)/Tips and tricks (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/NVIDIA/Tips_and_tricks.html" title="NVIDIA/Tips and tricks – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NVIDIA/%E3%83%92%E3%83%B3%E3%83%88%E3%81%A8%E3%83%86%E3%82%AF%E3%83%8B%E3%83%83%E3%82%AF" title="NVIDIA/ヒントとテクニック – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA (Русский)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../../en/NVIDIA/Tips_and_tricks.html" title="NVIDIA/Tips and tricks">NVIDIA/Tips and tricks</a>. Дата последней синхронизации: 1 марта 2024. Вы можете <a href="../../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=NVIDIA/Tips_and_tricks&amp;diff=0&amp;oldid=801505">изменения</a>.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.98.D1.81.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D1.8F_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.B0.D0.BB.D0.B0"></span><span class="mw-headline" id="Исправление_разрешения_терминала">Исправление разрешения терминала</span>
</h2>
<p>После перехода с драйвера nouveau вы можете заметить, что разрешение экрана в терминале уменьшилось. Для решения можно настроить разрешение через загрузчик.
</p>
<p>Для GRUB смотрите раздел <a href="../../en/GRUB/Tips_and_tricks.html#Setting_the_framebuffer_resolution" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Setting the framebuffer resolution</a>. <a rel="nofollow" class="external autonumber" href="https://forums.fedoraforum.org/showthread.php?t=306271">[1]</a> <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20170405115954/https://www.reddit.com/r/archlinux/comments/4gwukx/nvidia_drivers_and_high_resolution_tty_possible/">[2]</a>
</p>
<p>Для <a href="../../ru/Systemd-boot.html" title="Systemd-boot (Русский)">systemd-boot</a> установите <code>console-mode</code> в <code><i>esp</i>/EFI/loader/loader.conf</code>, смотрите <a href="../../ru/Systemd-boot.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0" title="Systemd-boot (Русский)">systemd-boot (Русский)#Настройка</a>.
</p>
<p>Для <a href="../../ru/REFInd.html" title="REFInd (Русский)">rEFInd</a> добавьте <code><i>esp</i>/EFI/refind/refind.conf</code> и <code>/etc/refind.d/refind.conf</code> (последний опционален, но рекомендуется): <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/86lqc5/tty_resolution_nvidia_psaish/">[3]</a>
</p>
<pre>use_graphics_for linux
</pre>
<p>Небольшая оговорка заключается в том, что это скроет отображение параметров ядра во время загрузки.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Если описанные выше способы не помогли исправить разрешение в терминале, возможно, необходимо полностью отключить Legacy BIOS (часто называемый Compatibility Support Module, CSM или Legacy Boot) в настройках UEFI. Прежде чем продолжить, убедитесь, что все ваши устройства настроены на использование загрузки UEFI.</div>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.A2.D0.92-.D0.B2.D1.8B.D1.85.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Использование_ТВ-выхода">Использование ТВ-выхода</span>
</h2>
<p>Смотрите <a href="https://en.wikibooks.org/wiki/NVIDIA/TV-OUT" class="extiw" title="wikibooks:NVIDIA/TV-OUT">Wikibooks:NVIDIA/TV-OUT</a>.
</p>
<h2>
<span id="X_.D1.81_.D1.82.D0.B5.D0.BB.D0.B5.D0.B2.D0.B8.D0.B7.D0.BE.D1.80.D0.BE.D0.BC_.28DFP.29_.D0.B2_.D0.BA.D0.B0.D1.87.D0.B5.D1.81.D1.82.D0.B2.D0.B5_.D0.B5.D0.B4.D0.B8.D0.BD.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D0.BF.D0.BB.D0.B5.D1.8F"></span><span class="mw-headline" id="X_с_телевизором_(DFP)_в_качестве_единственного_дисплея">X с телевизором (DFP) в качестве единственного дисплея</span>
</h2>
<p>Если сервер X не обнаруживает подключенные мониторы, он откатывается на использование аналогового вывода (CRT-0). Это может стать проблемой при подключении ТВ через DVI в качестве основного монитора, если сервер X был запущен при выключенном ТВ или он был не подключен.
</p>
<p>Для принудительного использования DFP драйвером NVIDIA сохраните копию EDID в файловой системе там, где его сможет прочитать сервер X, вместо чтения EDID с ТВ/DFP.
</p>
<p>Для получения EDID запустите <i>nvidia-settings</i>, в нём внутри раздела нужной видеокарты (должен называться «GPU-0» или типа того) выберите пункт DFP («DFP-0» или что-то похожее), нажмите кнопку <i>Acquire EDID...</i> и сохраните файл куда-нибудь, например в <code>/etc/X11/dfp0.edid</code>.
</p>
<p>Если у вас не подключена мышь и клавиатура, EDID можно получить через командную строку. Запустите сервер X с нужным логированием для вывода блока EDID:
</p>
<pre>$ startx -- -logverbose 6
</pre>
<p>После окончания инициализации сервера X закройте его; журнал будет сохранён в <code>/var/log/Xorg.0.log</code>. Извлеките блок EDID с помощью <i>nvidia-xconfig</i>:
</p>
<pre>$ nvidia-xconfig --extract-edids-from-file=/var/log/Xorg.0.log --extract-edids-output-file=/etc/X11/dfp0.bin
</pre>
<p>Отредактируйте <code>xorg.conf</code>, добавив в секцию <code>Device</code> строки:
</p>
<pre>Option "ConnectedMonitor" "DFP"
Option "CustomEDID" "DFP-0:/etc/X11/dfp0.bin"
</pre>
<p>Опция <code>ConnectedMonitor</code> принуждает драйвер распознавать DFP так, как будто он подключен. <code>CustomEDID</code> предоставляет данные EDID для устройства и говорит, что при загрузке ТВ/DFP как бы был подключен во время процесса запуска X.
</p>
<p>Таким образом можно автоматически запускать менеджер экрана при загрузке, иметь рабочий и настроенный экран для X до включения питания ТВ.
</p>
<p>Если вышеуказанные изменения не работают, в <code>xorg.conf</code> в секции <code>Device</code> вы можете попробовать удалить строку <code>Option "ConnectedMonitor" "DFP"</code> и добавить следующие строки:
</p>
<pre>Option "ModeValidation" "NoDFPNativeResolutionCheck"
Option "ConnectedMonitor" "DFP-0"
</pre>
<p>Опция драйвера NVIDIA <code>NoDFPNativeResolutionCheck</code> предотвращает отключение всех режимов, которые не подходят к основному разрешению.
</p>
<h2>
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B1.D0.B5.D0.B7_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.BD.D1.8B.D1.85_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.BE.D0.B2"></span><span class="mw-headline" id="Разрешение_без_подключенных_мониторов">Разрешение без подключенных мониторов</span>
</h2>
<p>В headless-режиме выставляется разрешение 640x480, которое будет использоваться в VNC или Steam Link. Чтобы выставить разрешение побольше, например 1920x1080, пропишите <code>Virtual</code> в подсекции <code>Screen</code>:
</p>
<pre>Section "Screen"
   [...]
   SubSection     "Display"
       Depth       24
       Virtual     1920 1080
   EndSubSection
EndSection
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Использование headless-режима может быть сложным и чреватым ошибками. Например, среды рабочего стола и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span> не предоставляют графического способа изменения разрешения. Для облегчения настройки разрешения можно использовать фиктивный адаптер DP или HDMI, который имитирует наличие монитора, подключенного к этому порту. Тогда разрешение можно будет изменить обычными способами с помощью удалённого сеанса, такого как VNC или Steam Link.</div>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B0_.D0.BF.D0.B8.D1.82.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Проверка_источника_питания">Проверка источника питания</span>
</h2>
<p>С помощью драйвера NVIDIA можно узнать текущий источник питания видеокарты. Для этого нужно получить значение параметра 'GPUPowerSource' с помощью утилиты <code>nvidia-settings</code> (0 — питание от сети, 1 — питание от батареи):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q GPUPowerSource -t</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">1</pre>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BB.D1.83.D1.88.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.BE.D0.B1.D1.8B.D1.82.D0.B8.D0.B9_ACPI"></span><span class="mw-headline" id="Прослушивание_событий_ACPI">Прослушивание событий ACPI</span>
</h2>
<p>Драйверы NVIDIA автоматически пытаются подключиться к демону <a href="../../ru/Acpid.html" title="Acpid (Русский)">acpid</a> и получать уведомления о событиях ACPI (подключение/отключение источника питания, некоторые горячие клавиши и т.д.).
Если соединение завершается неудачей, то X.org выведет следующее предупреждение:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/xorg/Xorg.0.log</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NVIDIA(0): ACPI: failed to connect to the ACPI event daemon; the daemon
NVIDIA(0):     may not be running or the "AcpidSocketPath" X
NVIDIA(0):     configuration option may not be set correctly.  When the
NVIDIA(0):     ACPI event daemon is available, the NVIDIA X driver will
NVIDIA(0):     try to use it to receive ACPI event notifications.  For
NVIDIA(0):     details, please see the "ConnectToAcpid" and
NVIDIA(0):     "AcpidSocketPath" X configuration options in Appendix B: X
NVIDIA(0):     Config Options in the README.
</pre>
<p>Вы можете запретить вывод этого сообщения, отключив опцию <code>ConnectToAcpid</code> в вашем конфигурационном файле:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Section "Device"
   ...
   Driver "nvidia"
   Option "ConnectToAcpid" "0"
   ...
 EndSection
</pre>
<p>Однако если вы пользователь ноутбука, то, возможно, более грамотным решением проблемы станет установка и запуск демона <a href="../../ru/Acpid.html" title="Acpid (Русский)">acpid</a>.
</p>
<h2>
<span id=".D0.9E.D1.82.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D1.82.D0.B5.D0.BC.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D1.83.D1.80.D1.8B_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE.D0.BA.D0.B0.D1.80.D1.82.D1.8B_.D0.B2_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.B0.D0.BB.D0.B5"></span><span class="mw-headline" id="Отображение_температуры_видеокарты_в_терминале">Отображение температуры видеокарты в терминале</span>
</h2>
<p>Существует три метода запроса температуры видеокарты. <i>nvidia-settings</i> требует использования X, <i>nvidia-smi</i> или <i>nvclock</i> — не требуют. Также обратите внимание, что <i>nvclock</i> в настоящее время не работает с новыми картами NVIDIA, такими как карты серии GeForce 200, а также интегрированными графическими решениями, такими как Zotac IONITX 8800GS.
</p>
<h3><span class="mw-headline" id="nvidia-settings">nvidia-settings</span></h3>
<p>Для отображения температуры графического ядра в терминале используйте <i>nvidia-settings</i> как указано ниже:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q gpucoretemp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  Attribute 'GPUCoreTemp' (hostname:0[gpu:0]): 49.
    'GPUCoreTemp' is an integer attribute.
    'GPUCoreTemp' is a read-only attribute.
    'GPUCoreTemp' can use the following target types: GPU.
</pre>
<p>Температура графического процессора этой платы 49 °C.
</p>
<p>Пример того, как получить значение температуры для использования в утилитах вроде <i>rrdtool</i> или <i>conky</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q gpucoretemp -t</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">49</pre>
<h3><span class="mw-headline" id="nvidia-smi">nvidia-smi</span></h3>
<p><i>nvidia-smi</i> может читать температуру прямо с графического процессора без использования X, что удобно, например, при работе в Wayland или на сервере без графического интерфейса.
</p>
<p>Отображение температуры графического процессора с использованием <i>nvidia-smi</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-smi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Wed Feb 28 14:27:35 2024
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.54.14              Driver Version: 550.54.14      CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce GTX 1660 Ti     Off |   00000000:01:00.0  On |                  N/A |
|  0%   49C    P8              9W /  120W |     138MiB /   6144MiB |      2%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A    223179      G   weston                                        120MiB |
+-----------------------------------------------------------------------------------------+
</pre>
<p>Только температура:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-smi -q -d TEMPERATURE</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">==============NVSMI LOG==============

Timestamp                                 : Wed Feb 28 14:27:35 2024
Driver Version                            : 550.54.14
CUDA Version                              : 12.4

Attached GPUs                             : 1
GPU 00000000:01:00.0
    Temperature
        GPU Current Temp                  : 49 C
        GPU T.Limit Temp                  : N/A
        GPU Shutdown Temp                 : 95 C
        GPU Slowdown Temp                 : 92 C
        GPU Max Operating Temp            : 90 C
        GPU Target Temperature            : 83 C
        Memory Current Temp               : N/A
        Memory Max Operating Temp         : N/A</pre>
<p>Пример того, как получить значение температуры для использования в утилитах вроде <i>rrdtool</i> или <i>conky</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader,nounits</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">49</pre>
<h3><span class="mw-headline" id="nvclock">nvclock</span></h3>
<p><a href="../../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvclock/">nvclock</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <i>nvclock</i> не может получить доступ к тепловому сенсору на новых видеокартах NVIDIA, например Geforce 200 series.</div>
<p>Могут быть расхождения значений температуры между <i>nvclock</i> и <i>nvidia-settings</i>/<i>nv-control</i>. В соответствии с <a rel="nofollow" class="external text" href="https://sourceforge.net/projects/nvclock/forums/forum/67426/topic/1906899">этим сообщением</a> от автора <i>nvclock</i> (thunderbird), значения, которые выдаёт <i>nvclock</i>, более точные.
</p>
<h2>
<span id=".D0.A0.D0.B0.D0.B7.D0.B3.D0.BE.D0.BD_.D0.B8_.D0.BE.D1.85.D0.BB.D0.B0.D0.B6.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Разгон_и_охлаждение">Разгон и охлаждение</span>
</h2>
<h3>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B3.D0.BE.D0.BD.D0.B0"></span><span class="mw-headline" id="Включение_разгона">Включение разгона</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Помните, что разгон может привести к повреждению оборудования и авторы этой страницы снимают с себя любую ответственность за повреждение оборудования, вся информация, в том числе и возможность разгона, указывается изготовителем в спецификации к оборудованию.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Разгон не работает, если Xorg запущен без прав суперпользователя. <a href="../../ru/Xorg.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Xorg_%D1%81_%D0%BF%D1%80%D0%B0%D0%B2%D0%B0%D0%BC%D0%B8_%D1%81%D1%83%D0%BF%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" title="Xorg (Русский)">Запускайте Xorg с правами root</a>.</li>
<li>Включение DRM kernel mode setting может привести к тому, что разгон станет недоступным, независимо от значения Coolbits.</li>
</ul>
</div>
<p>Разгон контролируется через опцию <i>Coolbits</i> в секции <code>Device</code>, позволяя использовать различные неподдерживаемые свойства:
</p>
<pre>Option "Coolbits" "<i>value</i>"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Опция <i>Coolbits</i> легко контролируется через <i>nvidia-xconfig</i>, которая может управлять файлами конфигурации Xorg: <pre># nvidia-xconfig --cool-bits=<i>value</i></pre>
</div>
<p>Значение <i>Coolbits</i> - сумма его составляющих битов в двоичной системе исчисления. Типы битов:
</p>
<ul>
<li>
<code>1</code> (bit 0) - Включает возможность разгона для старых (до архитектуры Fermi) ядер, вкладка <i>Clock Frequencies</i> в <i>nvidia-settings</i>.</li>
<li>
<code>2</code> (bit 1) - Когда бит установлен, драйвер «будет пытаться инициализировать режим SLI, когда используются два графических процессора с разным количеством видеопамяти».</li>
<li>
<code>4</code> (bit 2) - Включает ручное управление охлаждением графического процессора вкладка <i>Thermal Monitor</i> в <i>nvidia-settings</i>.</li>
<li>
<code>8</code> (bit 3) - Включает возможность разгона на вкладке <i>PowerMizer</i> в <i>nvidia-settings</i>. Доступна с версии 337.12 для архитектур Fermi и новее. <a rel="nofollow" class="external autonumber" href="https://www.phoronix.com/scan.php?px=MTY1OTM&amp;page=news_item">[4]</a>
</li>
<li>
<code>16</code> (bit 4) - Включает возможность повышения напряжения через параметры командной строки <i>nvidia-settings</i>. Доступна с версии 346.16 для архитектур Fermi и новее.<a rel="nofollow" class="external autonumber" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTg0MDI">[5]</a>
</li>
</ul>
<p>Чтобы включить несколько свойств, сложите значения <i>Coolbits</i>. Например, чтобы включить возможности разгона и повышения напряжения для архитектуры Fermi, установите значение <code>Option "Coolbits" "24"</code>.
</p>
<p>Документация по <i>Coolbits</i> находится в <code>/usr/share/doc/nvidia/html/xconfigoptions.html</code> и <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/545.29.06/README/xconfigoptions.html#Coolbits">здесь</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Также можно отредактировать и перепрошить BIOS видеокарты через DOS (предпочтительнее) или в окружении Win32 с помощью <a rel="nofollow" class="external text" href="https://www.techpowerup.com/download/nvidia-nvflash/">nvflash</a> и <a rel="nofollow" class="external text" href="https://www.guru3d.com/files-details/nvidia-bios-editor-download-nibitor.html">NiBiTor 6.0</a>. Преимущество данного способа в том, что он позволяет не только поднять напряжение, но и повысить стабильность по сравнению с программными методами разгона, такими как Coolbits. <a rel="nofollow" class="external text" href="https://ivanvojtko.blogspot.sk/2014/03/how-to-overclock-geforce-460gtx-fermi.html">Руководство по модификации BIOS архитектуры Fermi (англ.)</a>
</div>
<h4>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D1.82.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B3.D0.BE_2D.2F3D_.D1.80.D0.B0.D0.B7.D0.B3.D0.BE.D0.BD.D0.B0"></span><span class="mw-headline" id="Настройка_статического_2D/3D_разгона">Настройка статического 2D/3D разгона</span>
</h4>
<p>Установите следующую строку в секции <code>Device</code> для включения PowerMizer на максимальную производительность (VSync не будет работать без этой строки):
</p>
<pre>Option "RegistryDwords" "PerfLevelSrc=0x2222"
</pre>
<h4>
<span id=".D0.9F.D0.BE.D0.BD.D0.B8.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B0.D0.BA.D1.81.D0.B8.D0.BC.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.87.D0.B0.D1.81.D1.82.D0.BE.D1.82.D1.8B"></span><span class="mw-headline" id="Понижение_максимальной_частоты">Понижение максимальной частоты</span>
</h4>
<p>На современных моделях видеокарт (как минимум на <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NV170">Ampere (NV170/GA<i>XXX</i>)</a> и более новых) увеличение тактовых частот работает по-другому, и допустимый максимум тактовых частот устанавливается на наибольшее поддерживаемое значение при загрузке системы. Если это то, что вам нужно, то дополнительная настройка не требуется.
</p>
<p>Недостатком такого решения является снижение энергоэффективности. При увеличении тактовых частот нужно повышать напряжение для сохранения стабильности, что приводит к нелинейному росту энергопотребления, нагрева и шума вентилятора. Снижение допустимого максимума тактовых частот позволяет повысить эффективность.
</p>
<p>Для изменения можно использовать nvidia-smi от имени суперпользователя:
</p>
<ul>
<li>Просмотр поддерживаемых частот: <pre>$ nvidia-smi -q -d SUPPORTED_CLOCKS</pre>
</li>
<li>Изменение частоты графического чипа на 1695 МГц: <pre># nvidia-smi --lock-gpu-clocks=0,1695 --mode=1</pre>
</li>
<li>Изменение частоты видеопамяти на 5001 МГц: <pre># nvidia-smi --lock-memory-clocks=0,5001</pre>
</li>
</ul>
<p>Для оптимизации энергоэффективности используйте nvidia-smi, чтобы проверить нагрузку видеокарты в любимой игре. Вертикальная синхронизация (VSync) должна быть включена. Снижение тактовой частоты увеличит нагрузку на видеокарту, поскольку она, будучи замедленной, будет тратить больше времени на рендеринг каждого кадра. Наилучшая эффективность достигается при использовании самых низких тактовых частот, при которых ещё не возникают подвисания, вызванные стопроцентной нагрузкой. Тогда каждый кадр будет отрисовываться достаточно быстро, чтобы не отставать от частоты обновления экрана.
</p>
<p>В качестве примера можно привести использование указанных выше настроек вместо стандартных на RTX 3090 Ti при игре в Hitman 3 в 4K@60, что снижает энергопотребление на 30%, температуру с 75 до 63 градусов и скорость вращения вентилятора с 73% до 57%.
</p>
<h4>
<span id=".D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BA_.D1.80.D0.B0.D0.B7.D0.B3.D0.BE.D0.BD.D0.B0"></span><span class="mw-headline" id="Сохранение_настроек_разгона">Сохранение настроек разгона</span>
</h4>
<p>Как правило, изменения частоты и напряжения, сделанные через интерфейс <i>nvidia-settings</i>, не сохраняются, теряясь после перезагрузки.
К счастью, существуют инструменты, предлагающие интерфейс для разгона под проприетарным драйвером, способные сохранять настройки разгона пользователя и автоматически применять их при загрузке.
Вот некоторые из них:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gwe/">gwe</a></span><sup><small>AUR</small></sup> — графический, применяет настройки при запуске сеанса рабочего стола</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvclock/">nvclock</a></span><sup><small>AUR</small></sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-nvclock-unit/">systemd-nvclock-unit</a></span><sup><small>AUR</small></sup> — графический, применяет настройки при загрузке системы</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvoc/">nvoc</a></span><sup><small>AUR</small></sup> — текстовый, профили представляют собой конфигурационные файлы в <code>/etc/nvoc.d/</code>, применяет настройки при запуске сеанса рабочего стола</li>
</ul>
<p>Помимо них, можно прописывать значения атрибутов <code>GPUGraphicsClockOffset</code> и <code>GPUMemoryTransferRateOffset</code> с помощью команды <i>nvidia-settings</i>, добавив её в <a href="../../ru/Autostarting.html" title="Autostarting (Русский)">автозагрузку</a>. Например:
</p>
<pre>$ nvidia-settings -a "GPUGraphicsClockOffset[<i>performance_level</i>]=<i>offset</i>"
$ nvidia-settings -a "GPUMemoryTransferRateOffset[<i>performance_level</i>]=<i>offset</i>"
</pre>
<p>Где <code><i>performance_level</i></code> — наибольший номер «Performance Level», доступный для вашей видеокарты. Если видеокарт несколько, то нужно указать GPU ID: <code>[gpu:<i>gpu_id</i>]GPUGraphicsClockOffset[<i>performance_level</i>]=<i>offset</i></code>.
</p>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BB.D0.B8.D0.BC.D0.B8.D1.82.D0.B0_TDP"></span><span class="mw-headline" id="Изменение_лимита_TDP">Изменение лимита TDP</span>
</h3>
<p>Современные видеокарты NVIDIA сбрасывают частоту, чтобы оставаться в пределах своего TDP и температуры. Для повышения производительности можно изменить предел TDP, что приведёт к повышению температуры и увеличению энергопотребления.
</p>
<p>Например, чтобы установить предел энергопотребления на 160,30 Вт:
</p>
<pre># nvidia-smi -pl 160.30
</pre>
<p>Чтобы установить предел во время загрузки системы:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/nvidia-tdp.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set NVIDIA power limit on boot

[Timer]
OnBootSec=5

[Install]
WantedBy=timers.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/nvidia-tdp.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set NVIDIA power limit

[Service]
Type=oneshot
ExecStart=/usr/bin/nvidia-smi -pl 160.30</pre>
<p>И <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> юнит <code>nvidia-tdp.timer</code>.
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D0.B8_.D0.B2.D0.B5.D0.BD.D1.82.D0.B8.D0.BB.D1.8F.D1.82.D0.BE.D1.80.D0.B0_.D0.BF.D1.80.D0.B8_.D0.B2.D1.85.D0.BE.D0.B4.D0.B5"></span><span class="mw-headline" id="Установка_скорости_вентилятора_при_входе">Установка скорости вентилятора при входе</span>
</h3>
<p>Вы можете выставить скорость вентилятора вашей графической карты с помощью консольного интерфейса <i>nvidia-settings</i>. Сначала убедитесь в том, что в вашем конфигурационном файле Xorg для опции <a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0">Coolbits</a> установлен бит 2.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Для карт GeForce 400/500 series на текущий момент этот метод не устанавливает скорость вентилятора при входе. Также этот метод позволяет настраивать скорость вентилятора только для текущего сеанса X через <i>nvidia-settings</i>.</div>
<p>Поместите следующую строку в ваш файл <a href="../../ru/Xinit.html" title="Xinit (Русский)">xinitrc</a> для управления вентилятором при запуске Xorg. Замените <code><i>n</i></code> на нужное вам значение скорости вентилятора в процентах.
</p>
<pre>nvidia-settings -a "[gpu:0]/GPUFanControlState=1" -a "[fan:0]/GPUTargetFanSpeed=<i>n</i>"
</pre>
<p>Также вы можете указать и второй графический процессор путём увеличения счётчика графического процесора и вентилятора.
</p>
<pre>nvidia-settings -a "[gpu:0]/GPUFanControlState=1" -a "[fan:0]/GPUTargetFanSpeed=<i>n</i>" \
                -a "[gpu:1]/GPUFanControlState=1" -a  [fan:1]/GPUTargetFanSpeed=<i>n</i>" &amp;
</pre>
<p>Если вы используете менеджер входа вроде <a href="../../en/GDM.html" title="GDM">GDM</a> или <a href="../../ru/SDDM.html" title="SDDM (Русский)">SDDM</a>, вы можете создать файл настроек. Создайте <code>~/.config/autostart/nvidia-fan-speed.desktop</code> и вставьте следующий текст. Снова измените <code><i>n</i></code> на нужное вам значение скорости вентилятора в процентах.
</p>
<pre>[Desktop Entry]
Type=Application
Exec=nvidia-settings -a "[gpu:0]/GPUFanControlState=1" -a "[fan:0]/GPUTargetFanSpeed=<i>n</i>"
X-GNOME-Autostart-enabled=true
Name=nvidia-fan-speed
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> До версии драйвера 349.16 вместо опции <code>GPUTargetFanSpeed</code> использовалась опция <code>GPUCurrentFanSpeed</code>. <a rel="nofollow" class="external autonumber" href="https://devtalk.nvidia.com/default/topic/821563/linux/can-t-control-fan-speed-with-beta-driver-349-12/post/4526208/#4526208">[6]</a>
</div>
<p>Чтобы можно было регулировать скорость вращения вентиляторов более чем одной видеокарты, выполните команду:
</p>
<pre>$ nvidia-xconfig --enable-all-gpus
$ nvidia-xconfig --cool-bits=4
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> На некоторых ноутбуках (например, <a rel="nofollow" class="external text" href="https://devtalk.nvidia.com/default/topic/1052110/linux/can-t-control-gtx-1050-ti-max-q-fan-on-thinkpad-x1-extreme-laptop/post/5340658/#5340658">X1 Extreme</a> и <a rel="nofollow" class="external text" href="https://devtalk.nvidia.com/default/topic/1048624/linux/how-to-set-gpu-fan-speed/post/5321818/#5321818">P51/P52</a>) есть два вентилятора, но nvidia их не контролирует.</div>
<h2>
<span id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Параметры_модуля_ядра">Параметры модуля ядра</span>
</h2>
<p>Некоторые параметры могут быть установлены как параметры модуля ядра, полный список можно получить, выполнив <code>modinfo nvidia</code> или посмотрев <code>nv-reg.h</code>. Смотрите также <a href="https://wiki.gentoo.org/wiki/NVidia/nvidia-drivers#Kernel_module_parameters" class="extiw" title="gentoo:NVidia/nvidia-drivers">Gentoo:NVidia/nvidia-drivers#Kernel module parameters</a>.
</p>
<p>Например, включение следующих параметров включит PAT <a rel="nofollow" class="external autonumber" href="https://docs.kernel.org/arch/x86/pat.html">[7]</a>, что влияет на то, как выделяется память. PAT была впервые представлена в Pentium III <a rel="nofollow" class="external autonumber" href="https://www.kernel.org/doc/ols/2008/ols2008v2-pages-135-144.pdf">[8]</a> и поддерживается большинством более новых процессоров (<a href="https://en.wikipedia.org/wiki/Page_attribute_table#Processors" class="extiw" title="wikipedia:Page attribute table">Wikipedia:Page attribute table#Processors</a>). Если ваша система может поддерживать эту функцию, это должно повысить производительность.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options nvidia NVreg_UsePageAttributeTable=1</pre>
<p>На некоторых ноутбуках, чтобы разрешить изменения через nvidia-settings, необходимо включить этот параметр, иначе он будет отвечать «Setting applications clocks is not supported» и т. д.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options nvidia NVreg_RegistryDwords="OverrideMaxPerf=0x1"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> После внесения изменений не забудьте <a href="../../ru/Mkinitcpio.html#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%B0" title="Mkinitcpio (Русский)">пересобрать образ initramfs</a>, если вы используете <a href="../../ru/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA (Русский)">ранний KMS</a>.</div>
<h2>
<span id=".D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8_.D0.B2_.D0.B6.D0.B4.D1.83.D1.89.D0.B5.D0.BC_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B5"></span><span class="mw-headline" id="Сохранение_видеопамяти_в_ждущем_режиме">Сохранение видеопамяти в ждущем режиме</span>
</h2>
<p>По умолчанию драйверы NVIDIA Linux сохраняют и восстанавливают в ждущем режиме только основные распределения видеопамяти. Как сказано в официальной документации:
</p>
<dl><dd>Потеря содержимого видеопамяти частично компенсируется драйверами NVIDIA и некоторыми приложениями, но может привести к таким сбоям, как повреждение рендеринга и сбои приложений при выходе из циклов управления питанием.</dd></dl>
<p>В драйвере есть экспериментальная функция, позволяющая сохранять всю видеопамять (при наличии достаточного места на диске или в оперативной памяти) перед переходом в сон и восстанавливать её при пробуждении из сна.
</p>
<p>Для её включения добавьте <a href="../../ru/Kernel_module.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F" class="mw-redirect" title="Параметр модуля ядра">параметр модуля ядра</a> <code>NVreg_PreserveVideoMemoryAllocations=1</code> для модуля <code>nvidia</code> и <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> службы <code>nvidia-suspend.service</code>, <code>nvidia-hibernate.service</code> и <code>nvidia-resume.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>После внесения изменений не забудьте <a href="../../ru/Mkinitcpio.html#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%B0" title="Mkinitcpio (Русский)">пересобрать образ initramfs</a>, если вы используете <a href="../../ru/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA (Русский)">ранний KMS</a>.</li>
<li>По умолчанию содержимое видеопамяти сохраняется в каталог <code>/tmp</code>, в котором обычно примонтирована файловая система <a href="../../ru/Tmpfs.html" title="Tmpfs (Русский)">tmpfs</a>. <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/545.29.06/README/powermanagement.html#PreserveAllVide719f0">NVIDIA рекомендует</a> указать другую файловую систему для наилучшей производительности. Это также необходимо, если размер оперативной памяти недостаточен для сохранения всей видеопамяти. Указать другое место сохранения можно с помощью параметра модуля ядра <code>NVreg_TemporaryFilePath</code> для того же модуля (например <code>NVreg_TemporaryFilePath=/var/tmp</code>).</li>
<li>Выбранная вами файловая система должна поддерживать «unnamed temporary files» (например, ext4 или XFS) и иметь достаточно свободного места (то есть минимум на 5% больше общего объёма видеопамяти всех подключенных видеокарт NVIDIA). Узнать объём видеопамяти можно с помощью команды <code>nvidia-smi --query-gpu=memory.total --format=csv,noheader,nounits</code>.</li>
<li>Включение службы <code>nvidia-resume.service</code> необязательно, поскольку она делает то же самое, что уже автоматически делается через хук <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-sleep"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-sleep.8">systemd-sleep(8)</a></span> (<code>/usr/lib/systemd/system-sleep/nvidia</code>). Имейте в виду, что <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gdm/-/issues/784">GDM с Wayland</a> требует включение этой службы.</li>
</ul>
</div>
<h2>
<span id=".D0.94.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80_persistence"></span><span class="mw-headline" id="Драйвер_persistence">Драйвер persistence</span>
</h2>
<p>Есть демон, который можно запускать при загрузке. В стандартной настольной среде с одной видеокартой демон не нужен и может создавать проблемы <a rel="nofollow" class="external autonumber" href="https://devtalk.nvidia.com/default/topic/1044421/linux/nvidia-persistenced-causing-60-second-reboot-delays">[9]</a>. Смотрите раздел <a rel="nofollow" class="external text" href="https://docs.nvidia.com/deploy/driver-persistence/index.html#persistence-daemon">Driver Persistence</a> документации NVIDIA для получения подробной информации.
</p>
<p>Для запуска демона persistence <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> службу <code>nvidia-persistenced.service</code>. Для использования вручную смотрите <a rel="nofollow" class="external text" href="https://docs.nvidia.com/deploy/driver-persistence/index.html#usage">документацию разработчика</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../../ru/Category:Graphics.html" title="Category:Graphics (Русский)">Graphics (Русский)</a></li>
<li><a href="../../ru/Category:X_server.html" title="Category:X server (Русский)">X server (Русский)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NVIDIA_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Tips_and_tricks_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=801826">https://wiki.archlinux.org/index.php?title=NVIDIA_(Русский)/Tips_and_tricks_(Русский)&amp;oldid=801826</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 March 2024, at 17:57.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
