<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Data-at-rest encryption (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Data-at-rest_encryption_Русский rootpage-Data-at-rest_encryption_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Зачем_использовать_шифрование?" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%97%D0%B0%D1%87%D0%B5%D0%BC_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5?">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Зачем использовать шифрование?</div>
		</a>
		
		<ul id="toc-Зачем_использовать_шифрование?-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Шифрование_данных_системы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A8%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Шифрование данных системы</div>
		</a>
		
		<ul id="toc-Шифрование_данных_системы-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Доступные_методы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%94%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B5_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Доступные методы</div>
		</a>
		
			<button aria-controls="toc-Доступные_методы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Доступные методы subsection</span>
			</button>
		
		<ul id="toc-Доступные_методы-sublist" class="vector-toc-list">
			<li id="toc-Шифрование_поверх_файловой_системы" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A8%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%B2%D0%B5%D1%80%D1%85_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Шифрование поверх файловой системы</div>
			</a>
			
			<ul id="toc-Шифрование_поверх_файловой_системы-sublist" class="vector-toc-list">
				<li id="toc-Оптимизированное_для_облачных_хранилищ" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%B4%D0%BB%D1%8F_%D0%BE%D0%B1%D0%BB%D0%B0%D1%87%D0%BD%D1%8B%D1%85_%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Оптимизированное для облачных хранилищ</div>
			</a>
			
			<ul id="toc-Оптимизированное_для_облачных_хранилищ-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Шифрование_блочного_устройства" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A8%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B1%D0%BB%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Шифрование блочного устройства</div>
			</a>
			
			<ul id="toc-Шифрование_блочного_устройства-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сравнение_типов_шифрования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%82%D0%B8%D0%BF%D0%BE%D0%B2_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Сравнение типов шифрования</div>
			</a>
			
			<ul id="toc-Сравнение_типов_шифрования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сравнительная_таблица" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Сравнительная таблица</div>
			</a>
			
			<ul id="toc-Сравнительная_таблица-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Подготовка" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Подготовка</div>
		</a>
		
			<button aria-controls="toc-Подготовка-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Подготовка subsection</span>
			</button>
		
		<ul id="toc-Подготовка-sublist" class="vector-toc-list">
			<li id="toc-Выбор_способа_шифрования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%B0_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Выбор способа шифрования</div>
			</a>
			
			<ul id="toc-Выбор_способа_шифрования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Примеры" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Примеры</div>
			</a>
			
			<ul id="toc-Примеры-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Выбор_надёжного_пароля" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_%D0%BD%D0%B0%D0%B4%D1%91%D0%B6%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Выбор надёжного пароля</div>
			</a>
			
			<ul id="toc-Выбор_надёжного_пароля-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Подготовка_диска" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Подготовка диска</div>
			</a>
			
			<ul id="toc-Подготовка_диска-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Как_работает_шифрование" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9A%D0%B0%D0%BA_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Как работает шифрование</div>
		</a>
		
			<button aria-controls="toc-Как_работает_шифрование-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Как работает шифрование subsection</span>
			</button>
		
		<ul id="toc-Как_работает_шифрование-sublist" class="vector-toc-list">
			<li id="toc-Базовый_принцип" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B9_%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Базовый принцип</div>
			</a>
			
			<ul id="toc-Базовый_принцип-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ключи,_файлы_ключей_и_пароли" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9A%D0%BB%D1%8E%D1%87%D0%B8,_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9_%D0%B8_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Ключи, файлы ключей и пароли</div>
			</a>
			
			<ul id="toc-Ключи,_файлы_ключей_и_пароли-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Метаданные_шифрования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9C%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Метаданные шифрования</div>
			</a>
			
			<ul id="toc-Метаданные_шифрования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Алгоритмы_и_режимы_шифрования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D1%8B_%D0%B8_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D1%8B_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Алгоритмы и режимы шифрования</div>
			</a>
			
			<ul id="toc-Алгоритмы_и_режимы_шифрования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Правдоподобное_отрицание" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B0%D0%B2%D0%B4%D0%BE%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%BE%D0%B5_%D0%BE%D1%82%D1%80%D0%B8%D1%86%D0%B0%D0%BD%D0%B8%D0%B5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Правдоподобное отрицание</div>
			</a>
			
			<ul id="toc-Правдоподобное_отрицание-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Сценарии_резервного_копирования_зашифрованного_диска" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B8_%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B7%D0%B0%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Сценарии резервного копирования зашифрованного диска</div>
		</a>
		
			<button aria-controls="toc-Сценарии_резервного_копирования_зашифрованного_диска-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Сценарии резервного копирования зашифрованного диска subsection</span>
			</button>
		
		<ul id="toc-Сценарии_резервного_копирования_зашифрованного_диска-sublist" class="vector-toc-list">
			<li id="toc-Шифрование_блочного_устройства_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A8%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B1%D0%BB%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Шифрование блочного устройства</div>
			</a>
			
			<ul id="toc-Шифрование_блочного_устройства_2-sublist" class="vector-toc-list">
				<li id="toc-Резервное_копирование_блочного_устройства" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B1%D0%BB%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1.1</span>Резервное копирование блочного устройства</div>
			</a>
			
			<ul id="toc-Резервное_копирование_блочного_устройства-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Резервное_копирование_файловой_системы_или_файлов" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D0%B8%D0%BB%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1.2</span>Резервное копирование файловой системы или файлов</div>
			</a>
			
			<ul id="toc-Резервное_копирование_файловой_системы_или_файлов-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Резервное_копирование_заголовка_LUKS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B0_LUKS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1.3</span>Резервное копирование заголовка LUKS</div>
			</a>
			
			<ul id="toc-Резервное_копирование_заголовка_LUKS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Data-at-rest encryption (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Data-at-rest_encryption.html" title="Data-at-rest encryption – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Data-at-rest_encryption.html" title="Data-at-rest encryption – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E6%9A%97%E5%8F%B7%E5%8C%96" title="ディスク暗号化 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Data-at-rest_encryption.html" title="Data-at-rest encryption – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Data-at-rest_encryption" title="Data-at-rest encryption – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Data-at-rest_encryption.html" title="Data-at-rest encryption">Data-at-rest encryption</a>. Дата последней синхронизации: 22 июля 2022. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Data-at-rest_encryption&amp;diff=0&amp;oldid=738742">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt (Русский)</a></li>
<li><a href="../en/VeraCrypt.html" title="VeraCrypt">VeraCrypt</a></li>
<li><a href="../ru/ECryptfs.html" title="ECryptfs (Русский)">eCryptfs (Русский)</a></li>
<li><a href="../en/EncFS.html" title="EncFS">EncFS</a></li>
<li><a href="../en/Gocryptfs.html" title="Gocryptfs">gocryptfs</a></li>
<li><a href="../en/Fscrypt.html" title="Fscrypt">fscrypt</a></li>
<li><a href="../en/Tomb.html" title="Tomb">Tomb</a></li>
<li><a href="../en/Tcplay.html" title="Tcplay">tcplay</a></li>
<li><a href="../ru/GnuPG.html" title="GnuPG (Русский)">GnuPG (Русский)</a></li>
<li><a href="../en/Self-encrypting_drives.html" title="Self-encrypting drives">Self-encrypting drives</a></li>
</ul>
</div>
<p>В этой статье рассматриваются программы для <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0" class="extiw" title="wikipedia:ru:Шифрование диска">шифрования</a> хранимых данных (данных в состоянии покоя, <a href="https://en.wikipedia.org/wiki/Data_at_rest" class="extiw" title="wikipedia:Data at rest">data at rest</a>), которые на лету шифруют и дешифруют данные на <a href="../ru/Device_file.html#%D0%91%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Device file (Русский)">блочном устройстве</a>, <a href="../ru/Partitioning.html" title="Partitioning (Русский)">разделе диска</a> или в каталоге. Примеры блочных устройств — жёсткие диски, флэш-накопители и DVD.
</p>
<p>Шифрование хранимых данных следует рассматривать только как дополнение к существующим механизмам безопасности операционной системы — сфокусированное на защите физического доступа, в то время как <i>другие</i> части системы обеспечивают такие вещи, как сетевая безопасность и контроль доступа пользователей.
</p>
<p>Шифрование всего диска (full-disk encryption, FDE) описано в статье <a href="../en/Dm-crypt/Encrypting_an_entire_system.html" title="Dm-crypt/Encrypting an entire system">dm-crypt/Encrypting an entire system</a>.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.97.D0.B0.D1.87.D0.B5.D0.BC_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5.3F"></span><span class="mw-headline" id="Зачем_использовать_шифрование?">Зачем использовать шифрование?</span>
</h2>
<p>Шифрование данных в состоянии покоя гарантирует, что файлы всегда хранятся на диске в зашифрованном виде. Файлы становятся доступными для операционной системы и приложений в читаемой форме, только когда система включена и разблокирована доверенным пользователем (данные в процессе использования — <a href="https://en.wikipedia.org/wiki/Data_in_use" class="extiw" title="wikipedia:Data in use">data in use</a>, или в процессе перемещения — <a href="https://en.wikipedia.org/wiki/Data_in_transit" class="extiw" title="wikipedia:Data in transit">data in transit</a>). Неавторизованный человек, просматривающий содержимое диска напрямую, вместо реальных файлов увидит лишь что-то похожее на случайный шум.
</p>
<p>Например, это может предотвратить несанкционированный просмотр данных, когда компьютер или жёсткий диск:
</p>
<ul>
<li>расположен в месте, к которому могут получить доступ недоверенные лица, пока вас рядом нет</li>
<li>потерян или украден, как в случае с ноутбуками, нетбуками или внешними устройствами хранения данных</li>
<li>в ремонтной мастерской</li>
<li>выброшен после окончания срока службы</li>
</ul>
<p>Кроме того, шифрование данных в состоянии покоя может использоваться для обеспечения защиты от несанкционированных попыток вмешательства в операционную систему — например, установки кейлоггеров или троянских программ злоумышленниками, которые могут получить физический доступ к системе во время вашего отсутствия.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Шифрование хранимых данных не защитит от вообще всех существующих угроз.</div>
<p>Вы по-прежнему будете уязвимы:
</p>
<ul>
<li>к злоумышленникам, которые могут проникнуть в вашу систему (например, через интернет) во время её работы — после того, как вы уже разблокировали и смонтировали зашифрованные части диска;</li>
<li>к злоумышленникам, которые могут получить физический доступ к компьютеру во время его работы (даже если вы используете блокировщик экрана) — или даже вскоре <i>после</i> его работы, если у них есть ресурсы для проведения <a href="https://en.wikipedia.org/wiki/ru:Cold_boot_attack" class="extiw" title="wikipedia:ru:Cold boot attack">cold boot attack</a>;</li>
<li>к правительственным организациям, которые не только обладают ресурсами для проведения вышеупомянутых атак, но и могут просто заставить вас отдать свои ключи/пароли, используя различные методы <a href="https://en.wikipedia.org/wiki/ru:%D0%A4%D0%B8%D0%B7%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%B8%D0%BB%D0%B8_%D0%BF%D1%81%D0%B8%D1%85%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%BF%D1%80%D0%B8%D0%BD%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5" class="extiw" title="wikipedia:ru:Физическое или психическое принуждение">принуждения</a>. В большинстве недемократических стран мира, а также в США и Великобритании, это может быть законно для правоохранительных органов, если у них есть подозрения, что вы можете скрывать что-то интересное;</li>
<li>к <a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B0%D0%BD%D0%B4%D0%B8%D1%82%D1%81%D0%BA%D0%B8%D0%B9_%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7" class="extiw" title="wikipedia:ru:Бандитский криптоанализ">терморектальному криптоанализу</a>. Смотрите также <a rel="nofollow" class="external text" href="https://xkcd.ru/538/">XKCD #538</a>.</li>
</ul>
<p>Чтобы иметь шанс противостоять профессиональным злоумышленникам, способным вскрыть вашу систему <i>перед</i> её использованием, требуется очень мощная система шифрования диска (например, полное шифрование системы с проверкой подлинности и без незашифрованного загрузочного раздела). И даже в этом случае она не сможет предотвратить все типы взлома (например, аппаратные кейлоггеры). Лучшее, что можно сделать, — это <a href="../en/Self-encrypting_drives.html" title="Self-encrypting drives">аппаратное шифрование всего диска</a> и <a href="https://en.wikipedia.org/wiki/ru:%D0%94%D0%BE%D0%B2%D0%B5%D1%80%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_(%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B5_%D1%81%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%D0%B0)" class="extiw" title="wikipedia:ru:Доверенная загрузка (аппаратные средства)">доверенная загрузка</a> (Trusted Computing).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Шифрование также не защитит вас от того, что кто-то просто <a href="../en/Securely_wipe_disk.html" title="Securely wipe disk">сотрёт ваш диск</a>. Для сохранения данных рекомендуется <a href="../ru/Synchronization_and_backup_programs.html" title="Synchronization and backup programs (Русский)">регулярно создавать резервные копии</a>.</div>
<h2>
<span id=".D0.A8.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Шифрование_данных_системы">Шифрование данных системы</span>
</h2>
<p>Хотя шифрование только пользовательских данных (часто расположенных в домашнем каталоге или на съёмных носителях, например DVD с данными) является самым простым и наименее навязчивым методом, он имеет ряд существенных недостатков.
В современных компьютерных системах существует множество фоновых процессов, которые могут кэшировать и хранить информацию о пользовательских данных или части самих данных в незашифрованных областях жёсткого диска, таких как:
</p>
<dl><dd><ul>
<li>подкачка
<ul><li>(возможные способы решения: отключить подкачку или <a href="../en/Dm-crypt/Swap_encryption.html" title="Dm-crypt/Swap encryption">зашифровать её</a>)</li></ul>
</li>
<li>
<code>/tmp</code> (временные файлы, создаваемые пользовательскими приложениями)
<ul><li>(возможные способы решения: избегать таких приложений; монтировать <code>/tmp</code> как <a href="../ru/Tmpfs.html" title="Tmpfs (Русский)">ram-диск</a>)</li></ul>
</li>
<li>
<code>/var</code> (файлы журналов, базы данных и т.п.; например, <a href="../ru/Locate.html" title="Locate (Русский)">mlocate</a> хранит индекс всех имён файлов в <code>/var/lib/mlocate/mlocate.db</code>).</li>
</ul></dd></dl>
<p>Решением является шифрование и системных, и пользовательских данных, что предотвращает несанкционированный физический доступ к секретным данным, которые могли осесть в кэшах системы. Недостаток такого подхода в том, разблокировка зашифрованных частей диска должна происходить ещё в начале загрузки. Также преимуществом шифрования данных системы является то, что оно усложняет установку вредоносных программ, таких как <a href="https://en.wikipedia.org/wiki/ru:%D0%9A%D0%B5%D0%B9%D0%BB%D0%BE%D0%B3%D0%B5%D1%80" class="extiw" title="wikipedia:ru:Кейлогер">кейлоггеры</a> или руткиты, злоумышленнику с физическим доступом.
</p>
<h2>
<span id=".D0.94.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.BD.D1.8B.D0.B5_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4.D1.8B"></span><span class="mw-headline" id="Доступные_методы">Доступные методы</span>
</h2>
<p>Все перечисленные здесь методы шифрования работают так, что даже если на диске хранятся зашифрованные данные, операционная система и приложения «видят» их как обычные доступные для чтения данные, пока криптографический контейнер (то есть, логическая часть диска, на которой хранятся зашифрованные данные) «разблокирован» и смонтирован.
</p>
<p>Чтобы это произошло, пользователь должен предоставить некоторую «секретную информацию» (обычно в виде файла ключа и/или пароля), из которой может быть получен ключ шифрования (и сохранён в списке ключей ядра на время жизни текущего сеанса).
</p>
<p>Если вы не знакомы с подобными операциями, прочтите также раздел <a href="#%D0%9A%D0%B0%D0%BA_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">#Как работает шифрование</a> ниже.
</p>
<p>Доступные методы шифрования данных в состоянии покоя можно разделить на два типа по уровню их работы:
</p>
<h3>
<span id=".D0.A8.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B2.D0.B5.D1.80.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Шифрование_поверх_файловой_системы">Шифрование поверх файловой системы</span>
</h3>
<p>При шифровании поверх уже существующей файловой системы (stacked filesystem encryption) все файлы, записанные в папку с подключенным шифрованием, шифруются на лету, прежде чем базовая файловая система запишет их на диск, и расшифровываются каждый раз, когда файловая система считывает их с диска. Таким образом, файлы хранятся в файловой системе хоста в зашифрованном виде (это означает, что их содержимое, а также имена файлов/папок заменяются данными, выглядящими как случайный шум, примерно той же длины), но при этом в папке с подключенным шифрованием они выглядят так же, как и без шифрования, в виде обычных файлов / симлинков / хардлинков / и т. п.
</p>
<p>Способ реализации такого метода заключается в том, что для разблокирования папки, хранящей файлы в зашифрованном виде в файловой системе хоста («нижний каталог»), она монтируется (с помощью специальной стековой файловой системы) в себя или, по желанию, в другое место («верхний каталог»), где те же файлы отображаются в читаемом виде — до тех пор, пока не будет выполнено размонтирование или система не будет выключена.
</p>
<p>Такими файловыми системами являются, например, <a href="../ru/ECryptfs.html" title="ECryptfs (Русский)">eCryptfs</a> и <a href="../en/EncFS.html" class="mw-redirect" title="EncFS (Русский)">EncFS</a>.
</p>
<h4>
<span id=".D0.9E.D0.BF.D1.82.D0.B8.D0.BC.D0.B8.D0.B7.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D0.B4.D0.BB.D1.8F_.D0.BE.D0.B1.D0.BB.D0.B0.D1.87.D0.BD.D1.8B.D1.85_.D1.85.D1.80.D0.B0.D0.BD.D0.B8.D0.BB.D0.B8.D1.89"></span><span class="mw-headline" id="Оптимизированное_для_облачных_хранилищ">Оптимизированное для облачных хранилищ</span>
</h4>
<p>Если вы используете шифрование поверх файловой системы, чтобы скрыть данные от используемых вами облачных хранилищ, стоит рассмотреть альтернативы файловым системам eCryptfs и EncFS, поскольку они не оптимизированы для передачи файлов через интернет. Существуют решения, разработанные специально для этой цели:
</p>
<ul>
<li><a href="../en/Gocryptfs.html" title="Gocryptfs">gocryptfs</a></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cryptomator/">cryptomator</a></span><sup><small>AUR</small></sup> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cryptomator-bin/">cryptomator-bin</a></span><sup><small>AUR</small></sup> (кроссплатформенный)</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cryfs">cryfs</a></span></li>
</ul>
<p>Некоторые облачные хралилища предоставляют <a href="../en/List_of_applications/Internet.html#Cloud_synchronization_clients" title="List of applications/Internet">свои приложения</a> с поддержкой шифрования.
</p>
<h3>
<span id=".D0.A8.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B1.D0.BB.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="Шифрование_блочного_устройства">Шифрование блочного устройства</span>
</h3>
<p>Методы шифрования блочных устройств, с другой стороны, работают <i>ниже</i> уровня файловой системы и обеспечивают шифрование всего, что записано на блочное устройство (то есть целый диск, раздел или файл, выступающий в качестве <a href="https://en.wikipedia.org/wiki/Loop_device" class="extiw" title="wikipedia:Loop device">loop-устройства</a>). Это означает, что пока блочное устройство не используется, всё его содержимое выглядит как большой кусок случайных данных, и нет возможности определить, какая файловая система и какие данные на нём содержатся. Доступ к данным происходит, опять же, путём монтирования защищённого контейнера (в данном случае блочного устройства) в произвольное место специальным образом.
</p>
<p>В Arch Linux доступны следующие решения для шифрования блочных устройств:
</p>
<dl>
<dt>loop-AES</dt>
<dd>loop-AES является потомком cryptoloop и представляет собой надёжное и быстрое решение для шифрования системы. Однако loop-AES считается менее удобным для пользователя, чем другие варианты, поскольку требует использования нестандартного ядра.</dd>
</dl>
<dl>
<dt>dm-crypt</dt>
<dd>
<a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt</a> — это стандартная функциональность шифрования device-mapper, предоставляемая ядром Linux. Она может использоваться непосредственно теми, кто хочет иметь полный контроль над всеми аспектами управления разделами и ключами. Управление dm-crypt осуществляется с помощью пользовательского инструмента <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cryptsetup">cryptsetup</a></span>. Она может использоваться для следующих типов шифрования блочных устройств: <i>LUKS</i> (по умолчанию), <i>plain</i>, и имеет ограниченные возможности для устройств <i>loopAES</i> и <i>Truecrypt</i>.
<ul>
<li>LUKS, используемый по умолчанию, представляет собой дополнительный уровень удобства, который хранит всю необходимую информацию о настройках для dm-crypt на само́м диске и абстрагирует управление разделами и ключами с целью упрощения использования и повышения безопасности.</li>
<li>Простой (plain) режим dm-crypt, будучи оригинальной функциональностью ядра, не предоставляет дополнительных удобств. С ним сложнее получить ту же криптографическую стойкость. При этом используются более длинные ключи (пароли или файлы ключей). Однако у него есть преимущества, описанные в следующем разделе <a href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%82%D0%B8%D0%BF%D0%BE%D0%B2_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">#Сравнение типов шифрования</a>.</li>
</ul>
</dd>
</dl>
<dl>
<dt>TrueCrypt/VeraCrypt</dt>
<dd>Переносимый формат, поддерживающий шифрование целых дисков/разделов или файловых контейнеров, с совместимостью со всеми основными операционными системами. Разработка TrueCrypt прекращена его разработчиками в мае 2014 года. Его форк <a href="../en/VeraCrypt.html" title="VeraCrypt">VeraCrypt</a> прошёл аудит безопасности в 2016 году.</dd>
</dl>
<p><a href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%82%D0%B8%D0%BF%D0%BE%D0%B2_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">#Сравнение типов шифрования</a> описывает практические последствия выбора того или иного метода. Смотрите также сравнение в <a rel="nofollow" class="external text" href="https://www.systutorials.com/docs/linux/packages/ecryptfs-utils-111/ecryptfs-faq.html#compare">этой статье про eCryptfs</a>. Список статей о используемых методах, а также инструментах, не включенных таблицу, доступен в <a href="../ru/Category:Encryption.html" title="Category:Encryption (Русский)">Category:Encryption (Русский)</a> (на английском языке: <a href="../en/Category:Encryption.html" title="Category:Encryption">Category:Encryption</a>).
</p>
<h3>
<span id=".D0.A1.D1.80.D0.B0.D0.B2.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.82.D0.B8.D0.BF.D0.BE.D0.B2_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Сравнение_типов_шифрования">Сравнение типов шифрования</span>
</h3>
<table class="wikitable left-align-row-headers" style="text-align:center;">
<tbody>
<tr>
<th>Аспект
</th>
<th data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">Шифрование блочного устройства
</th>
<th data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">Шифрование поверх файловой системы
</th>
</tr>
<tr>
<th>Шифрует
</th>
<td>блочное устройство целиком
</td>
<td>файлы
</td>
</tr>
<tr>
<th>Зашифрованные данные могут храниться...
</th>
<td>на диске целиком, на отдельном разделе или в файле, используемом как loop-устройство
</td>
<td>в каталоге в уже существующей файловой системе
</td>
</tr>
<tr>
<th>Связь с файловой системой
</th>
<td>работает ниже уровня файловой системы: не имеет значения, является ли содержимое зашифрованного блочного устройства файловой системой, таблицей разделов, установкой LVM или чем-либо ещё
</td>
<td>добавляет дополнительный уровень к существующей файловой системе для автоматического шифрования/дешифрования файлов при каждой операции записи/чтения
</td>
</tr>
<tr>
<th>Шифрование метаданных (количество файлов, структура каталогов, размеры, права доступа, даты изменения и т.п.)
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет<br>(хотя имена файлов и каталогов могут быть зашифрованы)
</td>
</tr>
<tr>
<th>Возможность шифрования жёсткого диска целиком (вместе с таблицей разделов)
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Шифрование подкачки
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Может использоваться без предварительного выделения фиксированного объёма под хранение зашифрованных данных
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Может использоваться для защиты существующих файловых систем без доступа к блочным устройствам, например, общих ресурсов NFS или Samba, облачных хранилищ и т.д. <sup>1</sup>
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Возможность резервного копирования отдельных файлов без дешифровки
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
</tbody>
</table>
<ol><li>ну, в блочном шифровании можно использовать файл в качестве контейнера (loop-устройства), но возможности файловой системы всё равно не будут использоваться.</li></ol>
<h3>
<span id=".D0.A1.D1.80.D0.B0.D0.B2.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D0.B0"></span><span class="mw-headline" id="Сравнительная_таблица">Сравнительная таблица</span>
</h3>
<p>В столбце «dm-crypt +/- LUKS» указаны возможности dm-crypt как для режима шифрования LUKS («+»), так и для plain («-»). Если какая-то функция требует использования LUKS, это обозначается как «(с LUKS)». Аналогично «(без LUKS)» указывает на то, что использование LUKS является контрпродуктивным для достижения данной функции и следует использовать режим plain.
</p>
<table class="wikitable left-align-row-headers" style="text-align:center; cell-padding:100px;">
<tbody>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Общая информация
</th>
<th>Loop-AES
</th>
<th>
<a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt</a> +/- LUKS
</th>
<th>
<a href="../en/VeraCrypt.html" title="VeraCrypt">VeraCrypt</a>
</th>
<th>
<a href="../en/ZFS.html" class="mw-redirect" title="ZFS (Русский)">ZFS</a>
</th>
<th>
<a href="../ru/ECryptfs.html" title="ECryptfs (Русский)">eCryptfs</a>
</th>
<th>
<a href="../en/EncFS.html" class="mw-redirect" title="EncFS (Русский)">EncFS</a>
</th>
<th>
<a href="../en/Gocryptfs.html" title="Gocryptfs">gocryptfs</a>
</th>
<th>
<a href="../en/Fscrypt.html" title="Fscrypt">fscrypt</a>
</th>
</tr>
<tr>
<th>Тип шифрования
</th>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">блочное устройство
</td>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">блочное устройство
</td>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">блочное устройство
</td>
<td data-sort-value="2" style="background: #fda; color: inherit; vertical-align: middle; text-align: center;">нативная ФС или блочное устройство
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">стековая ФС
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">стековая ФС
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">стековая ФС
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">нативная ФС
</td>
</tr>
<tr>
<th>Примечание
</th>
<td>появился раньше других; возможно, самый быстрый; работает на старых системах
</td>
<td>стандарт де-факто для шифрования блочных устройств в Linux; очень гибкий
</td>
<td>форк TrueCrypt, может работать с томами TrueCrypt и VeraCrypt
</td>
<td>функция шифрования относительно новая (2019); шифрованные блочные устройства предоставляет компания ZVOL
</td>
<td>немного быстрее, чем EncFS; отдельные зашифр. файлы можно переносить между системами
</td>
<td>самый простой в использовании; можно управлять без прав root
</td>
<td>стремится стать преемником EncFS
</td>
<td>по умолчанию для шифрования Chrome OS и Android
</td>
</tr>
<tr>
<th>Доступность в Arch Linux
</th>
<td>требуется компиляция своего ядра
</td>
<td>
<i>модули ядра:</i> входит в состав стандартного ядра; <i>инструменты:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=device-mapper">device-mapper</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cryptsetup">cryptsetup</a></span>
</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=veracrypt">veracrypt</a></span>
</td>
<td>
<a href="../en/ZFS.html#Installation" title="ZFS">ZFS#Installation</a>
</td>
<td>
<i>модуль ядра:</i> входит в состав стандартного ядра; <i>инструменты:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ecryptfs-utils">ecryptfs-utils</a></span>
</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=encfs">encfs</a></span>
</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gocryptfs">gocryptfs</a></span>
</td>
<td>
<i>модуль ядра:</i> входит в состав стандартного ядра; <i>инструмент:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fscrypt">fscrypt</a></span>
</td>
</tr>
<tr>
<th>Лицензия
</th>
<td>GPL
</td>
<td>GPL
</td>
<td>Apache License 2.0; некоторые части — TrueCrypt License v3.0
</td>
<td>CDDL
</td>
<td>GPL
</td>
<td>GPL
</td>
<td>MIT
</td>
<td>GPL (ядро), Apache 2.0 (инструменты)
</td>
</tr>
<tr>
<th>Шифрование реализовано в...
</th>
<td>пространстве ядра
</td>
<td>пространстве ядра
</td>
<td>пространстве ядра
</td>
<td>пространстве ядра
</td>
<td>пространстве ядра
</td>
<td>пространстве пользователя (<a href="../ru/FUSE.html" title="FUSE (Русский)">FUSE</a>)
</td>
<td>пространстве пользователя (<a href="../ru/FUSE.html" title="FUSE (Русский)">FUSE</a>)
</td>
<td>пространстве ядра
</td>
</tr>
<tr>
<th>Метаданные шифрования хранятся в...
</th>
<td>?
</td>
<td>с LUKS: заголовке LUKS
</td>
<td>начале/конце (расшифр.) устройства (<a rel="nofollow" class="external text" href="https://www.veracrypt.fr/en/VeraCrypt%20Volume%20Format%20Specification.html">описание формата</a>)
</td>
<td>DSL (dataset &amp; snapshot layer; <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=frnLiXclAMo">talk</a>/<a rel="nofollow" class="external text" href="https://blog.heckel.xyz/wp-content/uploads/2017/01/zfs-encryption-nov-2016.pdf">slides</a>)
</td>
<td>заголовке каждого зашифр. файла
</td>
<td>файле настроек в зашифр. каталоге
</td>
<td>?
</td>
<td>каталоге <code>.fscrypt</code> в корне каждой ФС
</td>
</tr>
<tr>
<th>Ключ шифрования хранится в...
</th>
<td>?
</td>
<td>с LUKS: заголовке LUKS
</td>
<td>начале/конце (расшифр.) устройства (<a rel="nofollow" class="external text" href="https://www.veracrypt.fr/en/VeraCrypt%20Volume%20Format%20Specification.html">описание формата</a>)
</td>
<td>DSL (dataset &amp; snapshot layer; <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=frnLiXclAMo">talk</a>/<a rel="nofollow" class="external text" href="https://blog.heckel.xyz/wp-content/uploads/2017/01/zfs-encryption-nov-2016.pdf">slides</a>)
</td>
<td>файле ключа, который можно хранить где угодно
</td>
<td>файле ключа, который можно хранить где угодно
<p><a rel="nofollow" class="external autonumber" href="https://github.com/rfjakob/encfs-next/blob/master/encfs/encfs.pod#environment-variables">[1]</a><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs/issues/48#issuecomment-69301831">[2]</a>
</p>
</td>
<td>?
</td>
<td>каталоге <code>.fscrypt</code> в корне каждой ФС
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Особенности использования
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>VeraCrypt
</th>
<th>ZFS
</th>
<th>eCryptfs
</th>
<th>EncFS
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th>
</tr>
<tr>
<th>Не-root пользователи могут создавать или удалять зашифрованные контейнеры
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>ограниченно
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Графический интерфейс
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
<p><a href="../en/EncFS.html#Gnome_Encfs_Manager" title="EncFS">опционально</a>
</p>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Поддержка автомонтирования при входе
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
<p>с <a href="../en/VeraCrypt.html#Automounting_using_/etc/crypttab" title="VeraCrypt">systemd и /etc/crypttab</a>
</p>
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Автоматическое размонтирование при неактивности
</th>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://github.com/rfjakob/gocryptfs/blob/master/Documentation/MANPAGE.md#-i-duration--idle-duration">[3]</a>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Безопасность
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>VeraCrypt
</th>
<th>ZFS
</th>
<th>eCryptfs
</th>
<th>EncFS
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th>
</tr>
<tr>
<th>Поддержка алгоритмов шифрования
</th>
<td>AES
</td>
<td>AES, Anubis, CAST5/6, Twofish, Serpent, Camellia, Blowfish,… (любые шифры, которые есть в Crypto API ядра)
</td>
<td>AES, Twofish, Serpent, Camellia, Kuznyechik
</td>
<td>AES
</td>
<td>AES, Blowfish, Twofish...
</td>
<td>AES, Blowfish, Twofish и любые другие доступные в системе шифры
</td>
<td>AES
</td>
<td>AES, ChaCha12
</td>
</tr>
<tr>
<th>Проверка целостности
</th>
<td>нет
</td>
<td>опционально в LUKS2
</td>
<td>нет
</td>
<td>CCM, GCM
</td>
<td>нет
</td>
<td>нет (по умолчанию)<br>HMAC (режим максимальной секретности)
</td>
<td>GCM
</td>
<td>нет
</td>
</tr>
<tr>
<th>Поддержка соли
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br>(с LUKS)
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Поддержка каскада из нескольких шифров
</th>
<td>?
</td>
<td>Не в одном устройстве, но можно сделать каскад блочных устройств
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
<p>AES-Twofish, AES-Twofish-Serpent, Serpent-AES, Serpent-Twofish-AES, Twofish-Serpent
</p>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Support for key-slot diffusion
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br>(с LUKS)
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Protection against key scrubbing
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br>(без LUKS)
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Поддержка нескольких (независимых друг от друга) ключей для одних и тех же зашифрованных данных
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br>(с LUKS)
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Скорость
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>VeraCrypt
</th>
<th>ZFS
</th>
<th>eCryptfs
</th>
<th>EncFS
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th>
</tr>
<tr>
<th>Использование нескольких потоков
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://kernelnewbies.org/Linux_2_6_38#head-49f5f735853f8cc7c4d89e5c266fe07316b49f4c">[4]</a>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>?
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Аппаратное ускорение шифрования
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs/issues/118">[5]</a>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Специфичное для шифрования блочных устройств
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>VeraCrypt
</th>
<th>ZFS
</th>
<th colspan="4" rowspan="2" style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">
</th>
</tr>
<tr>
<th>Поддержка (ручного) изменения размера зашифрованного блочного устройства на месте
</th>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Специфичное для шифрования поверх ФС
</th>
<th colspan="3" rowspan="5" style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">
</th>
<th>ZFS
</th>
<th>eCryptfs
</th>
<th>EncFS
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th>
</tr>
<tr>
<th>Поддержка файловых систем
</th>
<td>ZFS
</td>
<td>ext3, ext4, xfs (с оговорками), jfs, nfs...
</td>
<td>ext3, ext4, xfs (с оговорками), jfs, nfs, cifs...
<p><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs">[6]</a>
</p>
</td>
<td>любые
</td>
<td>ext4, F2FS, UBIFS
</td>
</tr>
<tr>
<th>Возможность шифровать имена файлов
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external text" href="https://zfsonlinux.org/manpages/0.8.3/man8/zfs.8.html#lbAO">zfs(8)</a>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th>Возможность <i>не</i> шифровать имена файлов
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://github.com/rfjakob/gocryptfs/blob/master/Documentation/MANPAGE.md#-plaintextnames">[7]</a>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Оптимизации для работы с разреженными (sparse) файлами
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
</tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Совместимость
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>VeraCrypt
</th>
<th>ZFS
</th>
<th>eCryptfs
</th>
<th>EncFS
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th>
</tr>
<tr>
<th>Поддержка версий ядра Linux
</th>
<td>2.0 или новее
</td>
<td>Режим CBC с 2.6.4, ESSIV 2.6.10, LRW 2.6.20, XTS 2.6.24
</td>
<td>?
</td>
<td>2.6.32 или новее (в версии 0.8.3)
</td>
<td>?
</td>
<td>2.4 или новее
</td>
<td>?
</td>
<td>4.1 или новее
</td>
</tr>
<tr>
<th>Доступ к зашифрованным данным из Windows
</th>
<td>?
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external text" href="https://openzfsonwindows.org/">OpenZFS on Windows</a> (<a rel="nofollow" class="external text" href="https://github.com/openzfsonwindows/ZFSin">repo</a>)
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет (нужны админ. права)
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да (порт cppcryptfs)
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Доступ к зашифрованным данным из macOS
</th>
<td>?
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external text" href="https://openzfsonosx.org/">OpenZFS on OS X</a> (<a rel="nofollow" class="external text" href="https://github.com/openzfsonosx/zfs">repo</a>)
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://sites.google.com/a/arg0.net/www/encfs-mac-build">[8]</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-07-30 ⓘ]</sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да (бета)
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>
<tr>
<th>Доступ к зашифрованным данным из FreeBSD
</th>
<td>?
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external text" href="https://zfsonfreebsd.github.io/ZoF/">ZFS on FreeBSD</a> (нативно; <a rel="nofollow" class="external text" href="https://github.com/zfsonfreebsd/ZoF">repo</a>)
</td>
<td>?
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да<br><a rel="nofollow" class="external autonumber" href="https://www.freshports.org/sysutils/fusefs-encfs/">[9]</a>
</td>
<td>?
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
</tr>

<tr>
<th>Используется в
</th>
<td>?
</td>
<td>установщиках Debian и Ubuntu (шифрование системы)<br>установщике Fedora
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>Android, Chrome OS
</td>
</tr>
</tbody>
</table>
<h2>
<span id=".D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Подготовка">Подготовка</span>
</h2>
<h3>
<span id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1.D0.B0_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Выбор_способа_шифрования">Выбор способа шифрования</span>
</h3>
<p>Какой способ шифрования подойдёт вам, зависит от ваших целей (смотрите раздел <a href="#%D0%97%D0%B0%D1%87%D0%B5%D0%BC_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5?">#Зачем использовать шифрование?</a>) и параметров системы.
</p>
<p>Помимо прочего, вам нужно будет ответить на следующие вопросы:
</p>
<dl><dt>От какого типа «злоумышленников» вы хотите защититься?</dt></dl>
<ul>
<li>Случайный пользователь, шныряющий по вашему диску, когда компьютер выключен, украден и т.д.</li>
<li>Профессиональный криптоаналитик, который может получить долговременный доступ на чтение/запись к вашей системе до и после её использования</li>
<li>Любой промежуточный вариант</li>
</ul>
<dl><dt>Что вы хотите зашифровать?</dt></dl>
<ul>
<li>Только пользовательские данные</li>
<li>Систему и пользовательские данные</li>
<li>Только конфиденциальные данные, то есть часть данных</li>
</ul>
<dl><dt>Как быть с подкачкой, <code>/tmp</code> и т.д.?</dt></dl>
<ul>
<li>Отключить или смонтировать как ram-диск</li>
<li>Зашифровать подкачку
<ul>
<li>Файл подкачки как часть шифрования всего диска</li>
<li>Шифровать раздел подкачки отдельно</li>
</ul>
</li>
</ul>
<dl><dt>Как следует разблокировать зашифрованные части диска?</dt></dl>
<ul>
<li>Пароль
<ul>
<li>Такой же, как пароль для входа в систему</li>
<li>Отличается от пароля для входа в систему</li>
</ul>
</li>
<li>Файл ключа (например, на USB-накопителе, который вы храните в безопасном месте или носите с собой)</li>
<li>Оба варианта вместе</li>
</ul>
<dl><dt>
<i>Когда</i> следует разблокировать зашифрованные части диска?</dt></dl>
<ul>
<li>Перед загрузкой</li>
<li>Во время загрузки</li>
<li>При входе в систему</li>
<li>Вручную по требованию <i>(после входа в систему)</i>
</li>
</ul>
<dl><dt>Как следует организовать работу с несколькими пользователями?</dt></dl>
<ul>
<li>Никак</li>
<li>Использовать общий пароль (или файл ключа), известный каждому пользователю</li>
<li>Независимые друг от друга пароли (или файлы ключей) для одной и той же зашифрованной части диска</li>
<li>Отдельные зашифрованные части диска для разных пользователей</li>
</ul>
<p>Ответив на эти вопросы, вы сможете сделать необходимый технический выбор (смотрите раздел <a href="#%D0%94%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B5_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B">#Доступные методы</a> выше и раздел <a href="#%D0%9A%D0%B0%D0%BA_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">#Как работает шифрование</a> ниже), касающийся:
</p>
<ul>
<li>метода шифрования: шифрование поверх файловой системы или шифрование блочного устройства</li>
<li>управления ключами</li>
<li>алгоритма и режима шифрования</li>
<li>хранения метаданных</li>
<li>расположения «нижнего каталога» (при использовании стековой файловой системы)</li>
</ul>
<h3>
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Примеры">Примеры</span>
</h3>
<p>На практике это может выглядеть примерно так:
</p>
<dl>
<dt>Пример 1</dt>
<dd>Простое шифрование данных пользователя (внутренний жёсткий диск) с использованием виртуальной папки <code>~/Private</code> в домашнем каталоге пользователя, зашифрованной с помощью <a href="../en/EncFS.html" class="mw-redirect" title="EncFS (Русский)">EncFS</a>
<ul>
<li>зашифрованные версии файлов хранятся на диске в каталоге <code>~/.Private</code>
</li>
<li>разблокируется по требованию с помощью отдельного пароля</li>
</ul>
</dd>
</dl>
<dl>
<dt>Пример 2</dt>
<dd>Частичное шифрование системы, домашние каталоги пользователей шифруются с помощью <a href="../ru/ECryptfs.html" title="ECryptfs (Русский)">eCryptfs</a>
<ul>
<li>разблокируется при входе пользователя с помощью пароля для входа в систему</li>
<li>разделы подкачки и <code>/tmp</code> зашифрованы с помощью <a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt</a> с LUKS, с использованием автоматически генерируемого на каждый сеанс временного ключа</li>
<li>индексирование/кэширование содержимого раздела <code>/home</code> с помощью <i>slocate</i> (и подобных приложений) отключено.</li>
</ul>
</dd>
</dl>
<dl>
<dt>Пример 3</dt>
<dd>Шифрование системы — весь жёсткий диск, кроме раздела <code>/boot</code> (однако <code>/boot</code> можно зашифровать с помощью <a href="../en/Dm-crypt/Encrypting_an_entire_system.html#Encrypted_boot_partition_(GRUB)" title="Dm-crypt/Encrypting an entire system">GRUB</a>), зашифрован с помощью <a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt</a> с LUKS
<ul>
<li>разблокируется во время загрузки с помощью пароля или USB-накопителя с файлами ключей</li>
<li>Возможно, разные пароли/ключи для каждого пользователя — независимо отзываемые</li>
<li>Возможно шифрование нескольких дисков или гибкая разметка разделов с помощью <a href="../en/Dm-crypt/Encrypting_an_entire_system.html#LUKS_on_LVM" title="Dm-crypt/Encrypting an entire system">LUKS on LVM</a>
</li>
</ul>
</dd>
</dl>
<dl>
<dt>Пример 4</dt>
<dd>Скрытое/простое шифрование системы — весь жёсткий диск зашифрован с помощью <a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">plain dm-crypt</a>
<ul>
<li>USB-загрузка с использованием отдельного пароля плюс USB-накопителя с файлом ключа</li>
<li>проверка целостности данных перед монтированием</li>
<li>раздел <code>/boot</code> располагается на вышеупомянутом USB-накопителе</li>
</ul>
</dd>
</dl>
<dl>
<dt>Пример 5</dt>
<dd>Шифрование файлового контейнера — заранее созданный файл служит зашифрованным контейнером для данных пользователя
<ul>
<li>Файл вроде <code>~/.volume.img</code> шифруется с помощью <a href="../en/Dm-crypt/Encrypting_a_non-root_file_system.html#File_container" title="Dm-crypt/Encrypting a non-root file system">dm-crypt/Encrypting a non-root file system#File container</a>
</li>
<li>Периодическое резервное копирование путём копирования всего контейнера на удалённый хост</li>
</ul>
</dd>
</dl>
<p>Конечно, возможны и многие другие комбинации. Тщательно обдумайте, какой способ организации шифрования лучше подходит для ваших задач.
</p>
<h3>
<span id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BD.D0.B0.D0.B4.D1.91.D0.B6.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8F"></span><span class="mw-headline" id="Выбор_надёжного_пароля">Выбор надёжного пароля</span>
</h3>
<p>Смотрите <a href="../ru/Security.html#%D0%9D%D0%B0%D0%B4%D1%91%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8F" class="mw-redirect" title="Безопасность">Безопасность#Надёжность пароля</a>.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"></span><span class="mw-headline" id="Подготовка_диска">Подготовка диска</span>
</h3>
<p>Перед установкой шифрования на диск (или часть диска), возможно, стоит выполнить безопасное стирание — перезапись всего диска или раздела нулевыми или случайными байтами. Это может понадобиться сделать по следующим причинам:
</p>
<dl><dt>Предотвращение восстановления ранее хранившихся данных</dt></dl>
<p>Шифрование диска не меняет того факта, что отдельные сектора перезаписываются только по необходимости, когда файловая система создаёт или изменяет данные, хранящиеся в этих секторах (смотрите раздел <a href="#%D0%9A%D0%B0%D0%BA_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">#Как работает шифрование</a> ниже). Сектора, которые файловая система считает «неиспользуемыми в данный момент», остаются нетронутыми и могут содержать остатки данных от предыдущих файловых систем. Единственный способ убедиться, что все данные, которые вы ранее хранили на диске, не могут быть <a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" class="extiw" title="wikipedia:ru:Восстановление данных">восстановлены</a>, — стереть их вручную.
Для этой цели не имеет значения, используются ли нулевые или случайные байты (хотя стирание нулевыми байтами будет намного быстрее).
</p>
<dl><dt>Предотвращение раскрытия информации об использовании зашифрованного диска</dt></dl>
<p>В идеале вся зашифрованная часть диска должна быть неотличима от случайных данных с равномерным распределением. Таким образом никто из посторонних не сможет узнать, какие сектора содержат зашифрованные данные — что само по себе может быть желательной целью (как часть истинной конфиденциальности), а также служит дополнительным барьером против злоумышленников, пытающихся взломать шифрование.
Для достижения этой цели очень важно стирать диск с использованием случайных байтов из высококачественного источника случайности.
</p>
<p>Вторая цель имеет смысл только в сочетании с шифрованием блочных устройств, поскольку в случае шифрования поверх существующей файловой системы зашифрованные данные можно легко найти в любом случае (в виде отдельных зашифрованных файлов в файловой системе хоста). Также обратите внимание, что, даже если вы собираетесь зашифровать только определённую папку, вам всё равно придётся стереть весь раздел, если вы хотите избавиться от файлов, которые ранее хранились в этой папке в незашифрованном виде (из-за <a href="https://en.wikipedia.org/wiki/ru:%D0%94%D0%B5%D1%84%D1%80%D0%B0%D0%B3%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0" class="extiw" title="wikipedia:ru:Дефрагментация диска">фрагментации данных на диске</a>). Если на том же разделе есть другие папки, вам придётся сделать их резервную копию и затем перенести обратно.
</p>
<p>После того как вы определились, какой вид стирания диска использовать, обратитесь к статье <a href="../en/Securely_wipe_disk.html" title="Securely wipe disk">Securely wipe disk</a> для получения технических инструкций.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> При выборе метода безопасного стирания жёсткого диска помните, что его достаточно выполнить всего один раз, если после этого данные на диске будут храниться всё время только в зашифрованном виде.</div>
<h2>
<span id=".D0.9A.D0.B0.D0.BA_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Как_работает_шифрование">Как работает шифрование</span>
</h2>
<p>Этот раздел предназначен для ознакомления с концепциями и процессами, которые лежат в основе обычных способов шифрования дисков.
</p>
<p>Он не углубляется в технические или математические детали (для этого обратитесь к соответствующей литературе), но стремится дать системному администратору приблизительное понимание того, как различные варианты настройки (особенно в плане управления ключами) могут повлиять на удобство использования и безопасность.
</p>
<h3>
<span id=".D0.91.D0.B0.D0.B7.D0.BE.D0.B2.D1.8B.D0.B9_.D0.BF.D1.80.D0.B8.D0.BD.D1.86.D0.B8.D0.BF"></span><span class="mw-headline" id="Базовый_принцип">Базовый принцип</span>
</h3>
<p>Для шифрования диска каждое блочное устройство (или отдельный файл в случае шифрования поверх файловой системы) делится на <b>сектора</b> равной длины, например 512 байт (4096 бит). Шифрование/дешифрование выполняется отдельно для каждого сектора, поэтому n-ый сектор блочного устройства или файла на диске будет хранить зашифрованную версию n-ого сектора исходных данных.
</p>
<p>Когда операционная система или приложение запрашивает какие-то данные из блочного устройства или файла, весь сектор (или сектора), содержащий нужные данные, считывается с диска, расшифровывается на лету и временно сохраняется в оперативной памяти:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">             ╔═══════╗
    сектор 1 ║"???.."║
             ╠═══════╣         ╭┈┈┈┈┈┈╮
    сектор 2 ║"???.."║         ┊ ключ ┊
             ╠═══════╣         ╰┈┈┬┈┈┈╯
             :       :            │
             ╠═══════╣            ▼             ┣┉┉┉┉┉┉┉┫
    сектор n ║"???.."║━━━━━━━(дешифровка)━━━━━━▶┋"абв.."┋ сектор n
             ╠═══════╣                          ┣┉┉┉┉┉┉┉┫
             :       :
             ╚═══════╝

 зашифрованное блочное                          расшифрованные
        устройство или                          данные в памяти
         файл на диске
</pre>
<p>Аналогично, при каждой операции записи все затронутые сектора должны быть заново зашифрованы (в то время как остальные сектора остаются нетронутыми).
</p>
<p>Чтобы иметь возможность (де)шифровать данные, система шифрования диска должна знать уникальный секретный «ключ», связанный с ними. Каждый раз, когда нужно смонтировать блочное устройство или папку с шифрованием, нужно предоставить соответствующий ключ (далее он называется «мастер-ключ»).
</p>
<p>Энтропия ключа имеет огромное значение для безопасности шифрования. Случайно сгенерированная байтовая строка определённой длины, например, 32 байта (256 бит), обладает желаемыми свойствами, но её невозможно запомнить и ввести вручную во время монтирования.
</p>
<p>Поэтому вместо использования ключа напрямую используются две вспомогательные техники. Первая — это применение криптографии для повышения энтропийных свойств мастер-ключа, обычно с использованием отдельного пароля, удобного для человека. Соответствующие возможности различных типов шифрования приведены в разделе <a href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0">#Сравнительная таблица</a>. Второй метод заключается в создании файла ключа с высокой энтропией и хранении его на носителе, отдельном от диска с зашифрованными данными.
</p>
<p>Смотрите также <a href="https://en.wikipedia.org/wiki/Authenticated_encryption" class="extiw" title="wikipedia:Authenticated encryption">Wikipedia:Authenticated encryption</a>.
</p>
<h3>
<span id=".D0.9A.D0.BB.D1.8E.D1.87.D0.B8.2C_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9_.D0.B8_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D0.B8"></span><span class="mw-headline" id="Ключи,_файлы_ключей_и_пароли">Ключи, файлы ключей и пароли</span>
</h3>
<p>Примеры хранения и защиты мастер-ключа с помощью файла ключей:
</p>
<dl><dt>Хранение файла ключа открытым текстом</dt></dl>
<p>Обычное хранение главного ключа в файле (в читаемой форме) является самым простым вариантом. Этот файл — так называемый «keyfile» — можно записать на USB-накопитель, который будет храниться в безопасном месте и подключаться к компьютеру только при необходимости смонтировать зашифрованные части диска (например, во время загрузки или при входе в систему).
</p>
<dl><dt>Хранение в защищённой паролем форме на само́м диске</dt></dl>
<p>Мастер-ключ (и, соответственно, зашифрованные данные) можно защитить паролем, который нужно будет запомнить и вводить каждый раз, когда нужно будет смонтировать блочное устройство или папку с шифрованием. Подробности описаны в разделе <a href="#%D0%9C%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">#Метаданные шифрования</a> ниже.
</p>
<dl><dt>Случайная генерация на лету для каждого сеанса</dt></dl>
<p>Иногда, например, при шифровании подкачки или раздела <code>/tmp</code>, нет необходимости хранить постоянный мастер-ключ. Можно генерировать новый случайный ключ для каждого нового сеанса без вмешательства пользователя. Это означает, что после размонтирования все файлы, записанные в такой раздел, не смогут быть расшифрованы <i>никем</i> — что в данных конкретных случаях вполне нормально.
</p>
<h3>
<span id=".D0.9C.D0.B5.D1.82.D0.B0.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D0.B5_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Метаданные_шифрования">Метаданные шифрования</span>
</h3>
<p>Часто в методах шифрования используются криптографические функции для повышения безопасности самого́ мастер-ключа. При монтировании зашифрованного устройства пароль или ключ пропускаются через эти функции, и только результат их выполнения позволяет разблокировать главный мастер-ключ, который позволит расшифровать данные.
</p>
<p>Обычно применяется так называемое «растяжение ключа» («key stretching») к паролю с помощью «функции формирования ключа» («key derivation function»), и полученный таким образом ключ используется для дешифровки главного мастер-ключа (который ранее хранился в зашифрованном виде):
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;"> ╭┈┈┈┈┈┈┈┈╮                             ╭┈┈┈┈┈┈╮
 ┊ пароль ┊━━━━━⎛     функция      ⎞━━━▶┊ ключ ┊
 ╰┈┈┈┈┈┈┈┈╯  ,──⎝формирования ключа⎠    ╰┈┈┬┈┈┈╯
 ╭──────╮   ╱                              │
 │ соль │──´                               │
 ╰──────╯                                  │
 ╭───────────────────────────╮             ▼          ╭┈┈┈┈┈┈┈┈┈┈┈┈┈╮
 │ зашифрованный мастер-ключ │━━━━━━━━(дешифровка)━━━▶┊ мастер-ключ ┊
 ╰───────────────────────────╯                        ╰┈┈┈┈┈┈┈┈┈┈┈┈┈╯
</pre>
<p><b>Функция формирования ключа</b> (например, PBKDF2 или scrypt) специально делается медленной (она применяет много итераций хэш-функции, например, 1000 итераций HMAC-SHA-512), так что узнать пароль путём перебора всех возможных вариантов становится невозможно в разумное время. При обычном использовании эта функция выполняется всего один раз, так что медленная её работа не является проблемой.
Также в качестве аргумента функции передаётся дополнительный кусочек данных, так называемая «<b>соль</b>» — она генерируется случайным образом один раз во время начальной настройки шифрования диска и хранится в открытом виде как часть метаданных. Поскольку в разных установках значение соли будет разным, её использование лишает злоумышленников возможности использовать предварительно подготовленные («радужные») таблицы, которые позволили ли бы ускорить подбор пароля, если бы соли не было.
</p>
<p><b>Зашифрованный мастер-ключ</b> можно хранить на диске вместе с зашифрованными данными. Таким образом, конфиденциальность зашифрованных данных полностью зависит от используемого пароля.
</p>
<p>Дополнительной безопасности можно достичь, если хранить зашифрованный мастер-ключ в отдельном файле, например, на USB-накопителе. Это обеспечивает <b>двухфакторную аутентификацию</b>: для доступа к зашифрованным данным теперь требуется то, что вы <i>знаете</i> (пароль), и то, чем вы <i>владеете</i> (файл ключа).
</p>
<p>Ещё один способ реализации двухфакторной аутентификации — дополнение описанной выше схемы получения ключа математическим «комбинированием» пароля с байтовыми данными, считываемыми из одного или нескольких внешних файлов (расположенных на USB-накопителе или подобных устройствах), перед передачей их в функцию формирования ключа. Файлы могут быть любыми, например, обычными изображениями в формате JPEG, что позволит применить <a href="#%D0%9F%D1%80%D0%B0%D0%B2%D0%B4%D0%BE%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%BE%D0%B5_%D0%BE%D1%82%D1%80%D0%B8%D1%86%D0%B0%D0%BD%D0%B8%D0%B5">#Правдоподобное отрицание</a>. Однако в данном контексте они всё равно называются «файлами ключей».
</p>
<p>После дешифровки главного мастер-ключа он надёжно хранится в памяти (например, в списке ключей ядра), пока зашифрованный контейнер остаётся примонтированным.
</p>
<p>Однако обычно он не используется для (де)шифровки данных на диске напрямую.
Например, в случае шифрования поверх файловой системы для каждого файла может создаваться отдельный ключ шифрования. Когда файл читается или изменяется, этот ключ сначала нужно расшифровать с помощью мастер-ключа, после чего он может использоваться для (де)шифровки содержимого файла:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">                       ╭┈┈┈┈┈┈┈┈┈┈┈┈┈╮
                       ┊ мастер-ключ ┊
   файл на диске:      ╰┈┈┈┈┈┈┬┈┈┈┈┈┈╯
  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ┐         │
  ╎╭───────────────╮╎         ▼          ╭┈┈┈┈┈┈┈┈┈┈┈┈╮
  ╎│ зашифрованный │━━━━(дешифровка)━━━━▶┊ ключ файла ┊
  ╎│ ключ файла    │╎                    ╰┈┈┈┈┈┬┈┈┈┈┈┈╯
  ╎╰───────────────╯╎                          │
  ╎┌───────────────┐╎                          ▼          ┌┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┐
  ╎│ зашифрованное │◀━━━━━━━━━━━━━━━━━━━━(де/шифровка)━━━▶┊ расшифрованное ┊
  ╎│ содержимое    │╎                                     ┊ содержимое     ┊
  ╎│ файла         │╎                                     ┊ файла          ┊
  ╎└───────────────┘╎                                     └┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┘
  └ ─ ─ ─ ─ ─ ─ ─ ─ ┘
</pre>
<p>Аналогичным образом можно использовать отдельный ключ (например, один на папку) для шифрования имён файлов в случае шифрования поверх файловой системы.
</p>
<p>При шифровании блочного устройства используется один мастер-ключ на устройство и, следовательно, на все данные. Некоторые методы позволяют создать несколько паролей для одного устройства, некоторые — нет. Некоторые используют вышеупомянутые функции для защиты мастер-ключа, а другие предоставляют полный контроль над безопасностью ключа пользователю. Два примера объясняются криптографическими параметрами, используемыми <a href="../en/Dm-crypt.html" class="mw-redirect" title="Dm-crypt (Русский)">dm-crypt</a> в plain или LUKS режимах.
</p>
<p>При сравнении параметров, используемых обоими режимами, можно заметить, что plain-режим dm-crypt имеет параметры, относящиеся к расположению ключа (например, <code>--keyfile-size</code>, <code>--keyfile-offset</code>). Для LUKS они не нужны, поскольку каждое блочное устройство содержит в начале заголовок с метаданными. В заголовке указаны используемый алгоритм шифрования, сам зашифрованный мастер-ключ и параметры для функции формирования ключа. Последние, в свою очередь, задаются опциями при начальном шифровании мастер-ключа (например, <code>--iter-time</code>, <code>--use-random</code>).
</p>
<p>Преимущества и недостатки различных техник можно узнать в <a href="#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0">сравнительной таблице</a> или на конкретных страницах.
</p>
<p>Смотрите также:
</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Passphrase" class="extiw" title="wikipedia:Passphrase">Wikipedia:Passphrase</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%9A%D0%BB%D1%8E%D1%87_(%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F)" class="extiw" title="wikipedia:ru:Ключ (криптография)">Wikipedia:ru:Ключ (криптография)</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%BC%D0%B8" class="extiw" title="wikipedia:ru:Управление ключами">Wikipedia:ru:Управление ключами</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BB%D1%8E%D1%87%D0%B0" class="extiw" title="wikipedia:ru:Функция формирования ключа">Wikipedia:ru:Функция формирования ключа</a></li>
</ul>
<h3>
<span id=".D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC.D1.8B_.D0.B8_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D1.8B_.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Алгоритмы_и_режимы_шифрования">Алгоритмы и режимы шифрования</span>
</h3>
<p>Алгоритм, преобразующий незашифрованные фрагменты данных в зашифрованные (так называемые «открытый текст» и «шифротекст») и наоборот с использованием заданного ключа шифрования, называется «<b>шифром</b>».
</p>
<p>Для шифрования диска используются «блочные шифры», которые работают с блоками данных фиксированной длины, например, 16 байт (128 бит). На момент написания данной статьи наиболее распространёнными шифрами являются:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>
</th>
<th>размер блока
</th>
<th>размер ключа
</th>
<th>комментарий
</th>
</tr>
<tr>
<td>
<a href="https://en.wikipedia.org/wiki/ru:AES_(%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)" class="extiw" title="wikipedia:ru:AES (стандарт шифрования)">AES</a>
</td>
<td>128 бит
</td>
<td>128, 192 или 256 бит
</td>
<td>одобрен АНБ для защиты информации «SECRET» и «TOP SECRET» правительства США (при использовании ключа размером 192 или 256 бит)
</td>
</tr>
<tr>
<td>
<a href="https://en.wikipedia.org/wiki/ru:Blowfish" class="extiw" title="wikipedia:ru:Blowfish">Blowfish</a>
</td>
<td>64 бита
</td>
<td>32–448 бит
</td>
<td>один из первых беспатентных безопасных шифров, который стал общедоступным, поэтому очень хорошо зарекомендовал себя в Linux
</td>
</tr>
<tr>
<td>
<a href="https://en.wikipedia.org/wiki/ru:Twofish" class="extiw" title="wikipedia:ru:Twofish">Twofish</a>
</td>
<td>128 бит
</td>
<td>128, 192 или 256 бит
</td>
<td>разработан как преемник Blowfish, но не получил столь широкого распространения
</td>
</tr>
<tr>
<td>
<a href="https://en.wikipedia.org/wiki/ru:Serpent" class="extiw" title="wikipedia:ru:Serpent">Serpent</a>
</td>
<td>128 бит
</td>
<td>128, 192 или 256 бит
</td>
<td>Считается самым безопасным из пяти финалистов конкурса AES<a rel="nofollow" class="external autonumber" href="https://csrc.nist.gov/archive/aes/round2/r2report.pdf">[10]</a><a rel="nofollow" class="external autonumber" href="https://www.cl.cam.ac.uk/~rja14/Papers/serpentcase.pdf">[11]</a><a rel="nofollow" class="external autonumber" href="https://www.cl.cam.ac.uk/~rja14/Papers/serpent.pdf">[12]</a>.
</td>
</tr>
</tbody>
</table>
<p>Шифрование/дешифрование сектора (<a href="#%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B9_%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF">#Базовый принцип</a>) достигается путём разделения его на небольшие блоки, соответствующие размеру блока шифра, и следования определённому набору правил последовательного применения шифра к отдельным блокам (так называемый «<b>режим шифрования</b>»).
</p>
<p>Простое применение шифра к каждому блоку отдельно без изменений (так называемый «<i>режим электронной кодовой книги</i>» — «<i>electronic codebook (ECB)</i>») не будет безопасным, так как если одни и те же 16 байт открытого текста будут всегда давать одни и те же 16 байт шифротекста, то злоумышленник сможет легко распознать паттерны в шифротексте, хранящемся на диске.
</p>
<p>Самым простым (и распространённым) режимом шифрования, используемым на практике, является «<i>режим сцепления блоков шифротекста</i>» — «<i>cipher-block chaining (CBC)</i>». При шифровании сектора в этом режиме каждый блок данных открытого текста объединяется математическим способом с шифротекстом предыдущего блока перед его шифрованием. Для первого блока, так как перед ним нет предыдущего блока, используется специальный предварительно сгенерированный блок данных, хранящийся вместе с криптографическими метаданными сектора и называемый «<b>вектор инициализации</b>» — «<b>initialization vector (IV)</b>»:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">                                          ╭─────────────╮
                                          │вектор       │
                                          │инициализации│
                                          ╰───────┬─────╯
                 ╭  ╠══════════╣       ╭─ключ     │      ┣┉┉┉┉┉┉┉┉┉┉┫
                 │  ║          ║       ▼          ▼      ┋          ┋         . СТАРТ
                 ┴  ║"????????"║◀━━━(шифр)━━━━━━━(+)━━━━━┋"Привет, "┋ блок   ╱╰────┐
           сектор n ║          ║                         ┋          ┋ 1      ╲╭────┘
     в файле или на ║          ║──────────────────╮      ┋          ┋         '
 блочном устройстве ╟──────────╢       ╭─ключ     │      ┠┈┈┈┈┈┈┈┈┈┈┨
                 ┬  ║          ║       ▼          ▼      ┋          ┋
                 │  ║"????????"║◀━━━(шифр)━━━━━━━(+)━━━━━┋"мир !!! "┋ блок
                 │  ║          ║                         ┋          ┋ 2
                 │  ║          ║──────────────────╮      ┋          ┋
                 │  ╟──────────╢                  │      ┠┈┈┈┈┈┈┈┈┈┈┨
                 │  ║          ║                  ▼      ┋          ┋
                 :  :   ...    :        ...      ...     :   ...    : ...

                      шифротекст                         открытый текст
                        на диске                         в памяти
</pre>
<p>При дешифровке процедура аналогичная, только в обратном порядке.
</p>
<p>Стоит обратить внимание на генерацию уникального вектора инициализации для каждого сектора. Самый простой вариант — вычислить его предсказуемым образом из легкодоступного значения, такого как номер сектора. Однако это может позволить злоумышленнику с постоянным доступом к системе выполнить <a href="https://en.wikipedia.org/wiki/Watermarking_attack" class="extiw" title="wikipedia:Watermarking attack">watermarking attack</a>. Чтобы предотвратить это, можно использовать метод под названием «Encrypted salt-sector initialization vector (<b>ESSIV</b>)» для генерации векторов инициализации таким образом, чтобы для потенциального злоумышленника они выглядели совершенно случайными.
</p>
<p>Существует также ряд других, более сложных режимов для шифрования дисков, которые имеют встроенную защиту от таких атак (и, следовательно, не требуют ESSIV).
Некоторые из них также могут дополнительно гарантировать подлинность зашифрованных данных (то есть подтвердить, что они не были изменены/повреждены кем-то, кто не имеет доступа к ключу).
</p>
<p>Смотрите также:
</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0" class="extiw" title="wikipedia:ru:Теория шифрования диска">Wikipedia:ru:Теория шифрования диска</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B9_%D1%88%D0%B8%D1%84%D1%80" class="extiw" title="wikipedia:ru:Блочный шифр">Wikipedia:ru:Блочный шифр</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:%D0%A0%D0%B5%D0%B6%D0%B8%D0%BC_%D1%88%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" class="extiw" title="wikipedia:ru:Режим шифрования">Wikipedia:ru:Режим шифрования</a></li>
</ul>
<h3>
<span id=".D0.9F.D1.80.D0.B0.D0.B2.D0.B4.D0.BE.D0.BF.D0.BE.D0.B4.D0.BE.D0.B1.D0.BD.D0.BE.D0.B5_.D0.BE.D1.82.D1.80.D0.B8.D1.86.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Правдоподобное_отрицание">Правдоподобное отрицание</span>
</h3>
<p>Смотрите <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D1%80%D0%B0%D0%B2%D0%B4%D0%BE%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%BE%D0%B5_%D0%BE%D1%82%D1%80%D0%B8%D1%86%D0%B0%D0%BD%D0%B8%D0%B5" class="extiw" title="wikipedia:ru:Правдоподобное отрицание">Wikipedia:ru:Правдоподобное отрицание</a>.
</p>
<h2>
<span id=".D0.A1.D1.86.D0.B5.D0.BD.D0.B0.D1.80.D0.B8.D0.B8_.D1.80.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B7.D0.B0.D1.88.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0"></span><span class="mw-headline" id="Сценарии_резервного_копирования_зашифрованного_диска">Сценарии резервного копирования зашифрованного диска</span>
</h2>
<p>Создавайте <a href="../ru/System_maintenance.html#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" title="System maintenance (Русский)">резервные копии</a> пользовательских данных, чтобы не потерять их. Как правило, резервная копия зашифрованных данных также должна быть зашифрована.
</p>
<h3>
<span id=".D0.A8.D0.B8.D1.84.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B1.D0.BB.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0_2"></span><span class="mw-headline" id="Шифрование_блочного_устройства_2">Шифрование блочного устройства</span>
</h3>
<p>Есть несколько вариантов; можно создать резервную зашифрованного блочного устройства в виде образа, например, <code>/dev/sd<i>x</i></code>, или создать резервную копию файловой системы внутри зашифрованного контейнера, например, <code>/dev/mapper/<i>dm_name</i></code>, или создать резервную копию файлов, например, с помощью <a href="../ru/Rsync.html" title="Rsync (Русский)">rsync</a>. В следующих разделах описаны преимущества и недостатки каждого варианта.
</p>
<h4>
<span id=".D0.A0.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B5_.D0.BA.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B1.D0.BB.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="Резервное_копирование_блочного_устройства">Резервное копирование блочного устройства</span>
</h4>
<p>Резервная копия блочного устройства:
</p>
<ul>
<li>зашифрована как есть с тем же уровнем безопасности, что и рабочая копия</li>
<li>содержит заголовок LUKS</li>
<li>всегда имеет такой же размер, как и исходное блочное устройство</li>
<li>не позволяет легко использовать расширенные стратегии резервного копирования, такие как инкрементное резервное копирование, сжатие или дедупликация</li>
<li>легко восстанавливается на новый диск</li>
</ul>
<h4>
<span id=".D0.A0.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B5_.D0.BA.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B8.D0.BB.D0.B8_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Резервное_копирование_файловой_системы_или_файлов">Резервное копирование файловой системы или файлов</span>
</h4>
<p>Резервная копия файловой системы или файлов:
</p>
<ul>
<li>
<i>не</i> зашифрована как есть</li>
<li>должна быть зашифрована перед передачей по сети или при сохранении на диск, что требует дополнительных усилий</li>
<li>не обязательно шифруется с тем же уровнем безопасности, что и рабочая копия</li>
<li>не содержит заголовок LUKS</li>
<li>может занимать лишь столько места, сколько занято в файловой системе; смотрите, например, <a href="../ru/Partclone.html" title="Partclone (Русский)">partclone</a>
</li>
<li>позволяет использовать расширенные стратегии резервного копирования, такие как инкрементное резервное копирование, сжатие или дедупликация</li>
<li>требует ручного восстановления контейнера шифрования на новый диск, например, путём восстановления резервной копии заголовка LUKS</li>
</ul>
<h4>
<span id=".D0.A0.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B5_.D0.BA.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.B3.D0.BE.D0.BB.D0.BE.D0.B2.D0.BA.D0.B0_LUKS"></span><span class="mw-headline" id="Резервное_копирование_заголовка_LUKS">Резервное копирование заголовка LUKS</span>
</h4>
<p>При использовании LUKS можно выполнить <a href="../en/Dm-crypt/Device_encryption.html#Backup_and_restore" title="Dm-crypt/Device encryption">резервное копирование заголовков LUKS</a>: может иметь смысл периодически проверять и синхронизировать эти резервные копии, особенно если выполнялся отзыв паролей.
</p>
<p>Однако, если у вас есть резервная копия данных и вы хотите восстановить их, можно воссоздать зашифрованный LUKS-раздел с нуля с помощью cryptsetup и затем восстановить данные, поэтому резервное копирование заголовков LUKS менее важно, чем резервное копирование данных.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Data-at-rest_encryption.html" title="Category:Data-at-rest encryption (Русский)">Data-at-rest encryption (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Data-at-rest_encryption_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=813287">https://wiki.archlinux.org/index.php?title=Data-at-rest_encryption_(Русский)&amp;oldid=813287</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 06:03.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
