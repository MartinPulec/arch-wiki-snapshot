<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Silent boot (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Silent_boot_Русский rootpage-Silent_boot_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Параметры_ядра" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D1%8F%D0%B4%D1%80%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Параметры ядра</div>
		</a>
		
		<ul id="toc-Параметры_ядра-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Отключение_мигания_курсора" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%B8%D0%B3%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BA%D1%83%D1%80%D1%81%D0%BE%D1%80%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Отключение мигания курсора</div>
		</a>
		
		<ul id="toc-Отключение_мигания_курсора-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-sysctl" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#sysctl">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>sysctl</div>
		</a>
		
		<ul id="toc-sysctl-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-agetty" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#agetty">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>agetty</div>
		</a>
		
		<ul id="toc-agetty-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-startx" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#startx">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>startx</div>
		</a>
		
		<ul id="toc-startx-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-fsck" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#fsck">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>fsck</div>
		</a>
		
		<ul id="toc-fsck-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Тихий_GRUB" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A2%D0%B8%D1%85%D0%B8%D0%B9_GRUB">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Тихий GRUB</div>
		</a>
		
		<ul id="toc-Тихий_GRUB-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Логотип_производителя_из_BIOS" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9B%D0%BE%D0%B3%D0%BE%D1%82%D0%B8%D0%BF_%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8F_%D0%B8%D0%B7_BIOS">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Логотип производителя из BIOS</div>
		</a>
		
			<button aria-controls="toc-Логотип_производителя_из_BIOS-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Логотип производителя из BIOS subsection</span>
			</button>
		
		<ul id="toc-Логотип_производителя_из_BIOS-sublist" class="vector-toc-list">
			<li id="toc-Отключение_отложенной_очистки_экрана" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D1%82%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BE%D1%87%D0%B8%D1%81%D1%82%D0%BA%D0%B8_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Отключение отложенной очистки экрана</div>
			</a>
			
			<ul id="toc-Отключение_отложенной_очистки_экрана-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Silent boot (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Silent_boot.html" title="Silent boot – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%82%B5%E3%82%A4%E3%83%AC%E3%83%B3%E3%83%88%E3%83%96%E3%83%BC%E3%83%88" title="サイレントブート – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Silent_boot.html" title="Silent boot – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Silent_boot" title="Silent boot – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Silent_boot.html" title="Silent boot">Silent boot</a>. Дата последней синхронизации: 21 октября 2023. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Silent_boot&amp;diff=0&amp;oldid=788595">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Plymouth.html" title="Plymouth (Русский)">Plymouth (Русский)</a></li>
</ul>
</div>
<p>Эта статья описывает, как убрать весь текст, выводимый в процессе загрузки. <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=tuqhsqrhXk0">Видео-демонстрация</a>
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Параметры_ядра">Параметры ядра</span>
</h2>
<p>Измените <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметры ядра">параметры ядра</a> в настройках вашего <a href="../ru/Arch_boot_process.html" title="Arch boot process (Русский)">загрузчика</a>, добавив:
</p>
<pre>quiet
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Добавление параметра <code>vga=current</code> может позволить избежать странного поведения, например <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/32309">FS#32309</a>. Помните, что это конфликтует с <a href="../ru/Kernel_mode_setting.html" title="Kernel mode setting (Русский)">KMS</a>, поэтому добавляйте этот параметр, только если есть какие-то проблемы.</div>
<p>Если в консоль всё равно печатаются какие-то сообщения, это может быть <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">dmesg</a>, выводящий что-то, что он считает важными сообщениями. Вы можете изменить уровень выводимых сообщений, используя <code>quiet loglevel=<i>уровень</i></code>, где <code><i>уровень</i></code> — число от 0 (критические сообщения) до 7 (отладочные сообщения).
</p>
<pre>quiet loglevel=3
</pre>
<p>Обратите внимание, что это работает, только если используются оба параметра и именно в таком порядке (quiet должен стоять первым). Параметр loglevel влияет только на то, что выводится на консоль; сообщения, которые не вывелись, по-прежнему можно будет прочитать как через журнал, так и через <i>dmesg</i>. Более подробная информация есть в <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/kernel-parameters.html">документации ядра</a>.
</p>
<p>Чтобы systemd-udevd перестал выводить номер своей версии в процессе загрузки, добавьте <code>udev.log_level=3</code> в параметры ядра. Если systemd используется в <a href="../ru/Arch_boot_process.html#initramfs" title="Arch boot process (Русский)">initramfs</a>, используйте другой параметр <code>rd.udev.log_level=3</code>. Подробнее в документации: <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-udevd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-udevd.service.8#KERNEL_COMMAND_LINE">systemd-udevd.service(8) § KERNEL COMMAND LINE</a></span>.
</p>
<p>Если вы используете хук <code>systemd</code> в <a href="../ru/Arch_boot_process.html#initramfs" title="Arch boot process (Русский)">initramfs</a>, он может выводить сообщения во время инициализации initramfs. Можно добавить <code>systemd.show_status=false</code> для их скрытия, или <code>systemd.show_status=auto</code>, чтобы скрыть только сообщения об успехе (что позволит вам увидеть сообщения об ошибках, если они будут). На самом деле, <code>auto</code> уже используется по умолчанию при наличии параметра <code>quiet</code>, однако иногда по какой-то причине systemd внутри initramfs не получает его. Ниже приведены параметры ядра, позволяющие получить полностью чистую загрузку с systemd в <a href="../ru/Arch_boot_process.html#initramfs" title="Arch boot process (Русский)">initramfs</a>:
</p>
<pre>quiet loglevel=3 systemd.show_status=auto rd.udev.log_level=3
</pre>
<p>Также можно выполнить <code>touch ~/.hushlogin</code> для скрытия сообщения «Last login».
</p>
<h2>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B8.D0.B3.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA.D1.83.D1.80.D1.81.D0.BE.D1.80.D0.B0"></span><span class="mw-headline" id="Отключение_мигания_курсора">Отключение мигания курсора</span>
</h2>
<p>Курсор консоли при загрузке продолжает мигать, если вы следуете этим инструкциям. Это можно решить параметром ядра <code>vt.global_cursor_default=0</code> <a rel="nofollow" class="external autonumber" href="http://www.friendlyarm.net/forum/topic/2998">[1]</a>.
</p>
<p>Чтобы восстановить курсор в TTY, выполните:
</p>
<pre># setterm -cursor on &gt;&gt; /etc/issue
</pre>
<h2><span class="mw-headline" id="sysctl">sysctl</span></h2>
<p>Чтобы скрыть любые сообщения ядра с консоли, добавьте или измените <code>kernel.printk</code> <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/a/45525">[2]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/20-quiet-printk.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">kernel.printk = 3 3 3 3</pre>
<h2><span class="mw-headline" id="agetty">agetty</span></h2>
<p>Чтобы скрыть из консоли приглашение «login:» от agetty<a rel="nofollow" class="external autonumber" href="https://github.com/karelzak/util-linux/commit/933956cb499e12d0d0e5228b6de34ffa5c9a9e08">[3]</a>, создайте <a href="../ru/Systemd.html#Drop-in_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B" class="mw-redirect" title="Drop-in файл">drop-in файл</a> для службы <code>getty@tty1.service</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/getty@tty1.service.d/skip-prompt.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=-/usr/bin/agetty <b>--skip-login</b> --nonewline --noissue --autologin <i>username</i> --noclear %I $TERM</pre>
<h2><span class="mw-headline" id="startx">startx</span></h2>
<p>Чтобы скрыть сообщения <code>startx</code>, можно перенаправить его вывод на <code>/dev/null</code> в <a rel="nofollow" class="external text" href="https://github.com/kaihendry/Kai-s--HOME/blob/master/.bash_profile">.bash_profile</a> примерно так:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Это не работает при использовании Xorg без прав суперпользователя. Смотрите <a href="../ru/Xorg.html#%D0%9F%D0%B5%D1%80%D0%B5%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0_%D1%81%D0%B5%D0%B0%D0%BD%D1%81%D0%B0" title="Xorg (Русский)">Xorg (Русский)#Перенаправление журнала сеанса</a>.</div>
<pre>$ [[ $(fgconsole 2&gt;/dev/null) == 1 ]] &amp;&amp; exec startx -- vt1 &amp;&gt; /dev/null
</pre>
<h2><span class="mw-headline" id="fsck">fsck</span></h2>
<p>Чтобы скрыть сообщения fsck во время загрузки, перенастройте проверку корневой файловой системы на systemd. Для этого замените хук <i>udev</i> на <i>systemd</i>:
</p>
<pre>HOOKS=( base systemd fsck )
</pre>
<p>в файле <code>/etc/mkinitcpio.conf</code> и <a href="../ru/Mkinitcpio.html#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%B0" title="Mkinitcpio (Русский)">пересоберите образ initramfs</a>.
</p>
<p>Затем <a href="../ru/Systemd.html#%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Отредактируйте">отредактируйте</a> службы <code>systemd-fsck-root.service</code> и <code>systemd-fsck@.service</code>, настроив <code>StandardOutput</code> и <code>StandardError</code>:
</p>
<pre>[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=/usr/lib/systemd/systemd-fsck
StandardOutput=null
StandardError=journal+console
TimeoutSec=0
</pre>
<p>Информацию об опциях <code>systemd-fsck</code> можно почитать в <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-fsck@.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-fsck%40.service.8">systemd-fsck@.service(8)</a></span> — например, можно настроить, как часто проверять (или не проверять) файловые системы.
</p>
<h2>
<span id=".D0.A2.D0.B8.D1.85.D0.B8.D0.B9_GRUB"></span><span class="mw-headline" id="Тихий_GRUB">Тихий GRUB</span>
</h2>
<p>Чтобы скрыть сообщения приветствия и загрузки GRUB, можно использовать неофициальный пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-silent/">grub-silent</a></span><sup><small>AUR</small></sup>.
</p>
<p>После установки пакета необходимо переустановить <a href="../ru/GRUB.html" title="GRUB (Русский)">GRUB</a> на нужный раздел.
</p>
<p>Затем внесите необходимые изменения в <code>/etc/default/grub</code>.
</p>
<p>Нужны эти три строки:
</p>
<pre>GRUB_DEFAULT=0
GRUB_TIMEOUT=0
GRUB_RECORDFAIL_TIMEOUT=$GRUB_TIMEOUT
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы установили <code>GRUB_TIMEOUT=0</code> и <code>GRUB_HIDDEN_TIMEOUT=1</code> (или любое другое положительное значение), также установите <code>GRUB_RECORDFAIL_TIMEOUT=$GRUB_HIDDEN_TIMEOUT</code> вместо <code>GRUB_RECORDFAIL_TIMEOUT=$GRUB_TIMEOUT</code>. Иначе нажатие <code>Esc</code> для отображения меню GRUB не будет работать.</div>
<p>После этого перегенерируйте файл настроек <code>grub.cfg</code>.
</p>
<h2>
<span id=".D0.9B.D0.BE.D0.B3.D0.BE.D1.82.D0.B8.D0.BF_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F_.D0.B8.D0.B7_BIOS"></span><span class="mw-headline" id="Логотип_производителя_из_BIOS">Логотип производителя из BIOS</span>
</h2>
<p>Современные системы UEFI отображают логотип производителя при загрузке до передачи управления загрузчику; например, ноутбуки Lenovo отображают ярко-красный логотип Lenovo. Он обычно убирается с экрана загрузчиком (если используется стандартный GRUB) или ядром.
</p>
<p>Чтобы ядро не убирало логотип производителя, в Linux 4.19 появилась новая настройка <code>FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER</code>, при включении которой ядро не будет очищать фреймбуфер до момента, пока не потребуется вывести текст на консоль фреймбуфера. По состоянию на ноябрь 2018 года (Linux 4.19.1) официальные ядра Arch Linux компилируются с <code>CONFIG_FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER=y</code>.
</p>
<p>В сочетании с настроенным loglevel (для предотвращения вывода текста) это позволяет оставить логотип производителя на экране в процессе загрузки системы. Обратите внимание, что GRUB в стандартной конфигурации очищает экран; попробуйте использовать <a href="../en/EFI_boot_stub.html" class="mw-redirect" title="EFISTUB (Русский)">EFISTUB</a>, чтобы загружаться напрямую в ядро и таким образом использовать отложенную очистку экрана.
</p>
<p><a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=5DW2JgJmsuY">Видео-демонстрация</a>
</p>
<p>В параметры ядра нужно добавить <code>loglevel=3</code> или <code>rd.udev.log_level=3</code>, как упоминалось выше. Обратите внимание, что если вы часто получаете сообщения <code>Core temperature above threshold, cpu clock throttled</code> в журнале ядра, вам нужно использовать log level 2, чтобы скрыть их во время загрузки. В качестве альтернативы, если вы компилируете собственное ядро, настройте loglevel для этого сообщения в файле <code>arch/x86/kernel/cpu/mcheck/therm_throt.c</code>.
</p>
<p>Если вы используете видеокарту Intel, смотрите также <a href="../ru/Intel_graphics.html#Fastboot" title="Intel graphics (Русский)">Intel graphics (Русский)#Fastboot</a>.
</p>
<p>Дополнительное чтение:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-4.19-FBDEV-Defer-Console">Phoronix: Linux 4.19 Adds Deferred Console Takeover Support For FBDEV - Cleaner Boot Process</a></li>
<li><a rel="nofollow" class="external text" href="https://lists.fedoraproject.org/archives/list/kernel@lists.fedoraproject.org/thread/3MWCKJ2DVJPC4INXPKB4ECFZLA7X5RTI/">Hans de Goede: Adding deferred fbcon console takeover to the Fedora kernels</a></li>
</ul>
<h3>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D1.82.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9_.D0.BE.D1.87.D0.B8.D1.81.D1.82.D0.BA.D0.B8_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0"></span><span class="mw-headline" id="Отключение_отложенной_очистки_экрана">Отключение отложенной очистки экрана</span>
</h3>
<p>Если новое поведение вызывает проблемы, вы можете отключить отложенную очистку экрана, добавив <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>fbcon=nodefer</code>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Boot_process.html" title="Category:Boot process (Русский)">Boot process (Русский)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Silent_boot_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=790612">https://wiki.archlinux.org/index.php?title=Silent_boot_(Русский)&amp;oldid=790612</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 21 October 2023, at 18:53.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
