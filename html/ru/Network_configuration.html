<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_Русский rootpage-Network_configuration_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Проверка_подключения" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Проверка подключения</span>
			</div>
		</a>
		
			<button aria-controls="toc-Проверка_подключения-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Проверка подключения subsection</span>
			</button>
		
		<ul id="toc-Проверка_подключения-sublist" class="vector-toc-list">
			<li id="toc-Ping" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ping">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Ping</span>
				</div>
			</a>
			
			<ul id="toc-Ping-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Управление_сетевым_подключением" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%BC_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Управление сетевым подключением</span>
			</div>
		</a>
		
			<button aria-controls="toc-Управление_сетевым_подключением-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Управление сетевым подключением subsection</span>
			</button>
		
		<ul id="toc-Управление_сетевым_подключением-sublist" class="vector-toc-list">
			<li id="toc-Вручную" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Вручную</span>
				</div>
			</a>
			
			<ul id="toc-Вручную-sublist" class="vector-toc-list">
				<li id="toc-iproute2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#iproute2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>iproute2</span>
				</div>
			</a>
			
			<ul id="toc-iproute2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Статический_IP-адрес" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Статический IP-адрес</span>
				</div>
			</a>
			
			<ul id="toc-Статический_IP-адрес-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-IP-адреса" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.3</span>
					<span>IP-адреса</span>
				</div>
			</a>
			
			<ul id="toc-IP-адреса-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Таблицы_маршрутизации" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.4</span>
					<span>Таблицы маршрутизации</span>
				</div>
			</a>
			
			<ul id="toc-Таблицы_маршрутизации-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Автоматически" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Автоматически</span>
				</div>
			</a>
			
			<ul id="toc-Автоматически-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сетевые_менеджеры" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Сетевые менеджеры</span>
				</div>
			</a>
			
			<ul id="toc-Сетевые_менеджеры-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Сетевые_интерфейсы" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Сетевые интерфейсы</span>
			</div>
		</a>
		
			<button aria-controls="toc-Сетевые_интерфейсы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Сетевые интерфейсы subsection</span>
			</button>
		
		<ul id="toc-Сетевые_интерфейсы-sublist" class="vector-toc-list">
			<li id="toc-Обнаружение_сетевых_интерфейсов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Обнаружение сетевых интерфейсов</span>
				</div>
			</a>
			
			<ul id="toc-Обнаружение_сетевых_интерфейсов-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Включение_и_отключение_сетевых_интерфейсов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Включение и отключение сетевых интерфейсов</span>
				</div>
			</a>
			
			<ul id="toc-Включение_и_отключение_сетевых_интерфейсов-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Смена_имени_интерфейса" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Смена имени интерфейса</span>
				</div>
			</a>
			
			<ul id="toc-Смена_имени_интерфейса-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Традиционные_названия_интерфейсов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Традиционные названия интерфейсов</span>
				</div>
			</a>
			
			<ul id="toc-Традиционные_названия_интерфейсов-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Установка_MTU_и_длины_очереди" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_MTU_%D0%B8_%D0%B4%D0%BB%D0%B8%D0%BD%D1%8B_%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Установка MTU и длины очереди</span>
				</div>
			</a>
			
			<ul id="toc-Установка_MTU_и_длины_очереди-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Имя_хоста" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D0%BC%D1%8F_%D1%85%D0%BE%D1%81%D1%82%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Имя хоста</span>
			</div>
		</a>
		
			<button aria-controls="toc-Имя_хоста-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Имя хоста subsection</span>
			</button>
		
		<ul id="toc-Имя_хоста-sublist" class="vector-toc-list">
			<li id="toc-Разрешение_имён_в_локальной_сети" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D1%91%D0%BD_%D0%B2_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%81%D0%B5%D1%82%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Разрешение имён в локальной сети</span>
				</div>
			</a>
			
			<ul id="toc-Разрешение_имён_в_локальной_сети-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Советы и рекомендации</span>
			</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-Объединение_сетевых_интерфейсов_(bonding)_или_LAG" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2_(bonding)_%D0%B8%D0%BB%D0%B8_LAG">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Объединение сетевых интерфейсов (bonding) или LAG</span>
				</div>
			</a>
			
			<ul id="toc-Объединение_сетевых_интерфейсов_(bonding)_или_LAG-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Псевдонимы_для_IP-адресов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%81%D0%B5%D0%B2%D0%B4%D0%BE%D0%BD%D0%B8%D0%BC%D1%8B_%D0%B4%D0%BB%D1%8F_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Псевдонимы для IP-адресов</span>
				</div>
			</a>
			
			<ul id="toc-Псевдонимы_для_IP-адресов-sublist" class="vector-toc-list">
				<li id="toc-Пример" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2.1</span>
					<span>Пример</span>
				</div>
			</a>
			
			<ul id="toc-Пример-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Promiscuous_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Promiscuous_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Promiscuous mode</span>
				</div>
			</a>
			
			<ul id="toc-Promiscuous_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Получение_информации_о_сокетах" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%B8_%D0%BE_%D1%81%D0%BE%D0%BA%D0%B5%D1%82%D0%B0%D1%85">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Получение информации о сокетах</span>
				</div>
			</a>
			
			<ul id="toc-Получение_информации_о_сокетах-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Решение проблем</span>
			</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Проблема_масштабирования_TCP_window" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0_%D0%BC%D0%B0%D1%81%D1%88%D1%82%D0%B0%D0%B1%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_TCP_window">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Проблема масштабирования TCP window</span>
				</div>
			</a>
			
			<ul id="toc-Проблема_масштабирования_TCP_window-sublist" class="vector-toc-list">
				<li id="toc-Диагностика" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%94%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.1</span>
					<span>Диагностика</span>
				</div>
			</a>
			
			<ul id="toc-Диагностика-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Способы_решения_проблемы" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A1%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D1%8B_%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2</span>
					<span>Способы решения проблемы</span>
				</div>
			</a>
			
			<ul id="toc-Способы_решения_проблемы-sublist" class="vector-toc-list">
				<li id="toc-Плохой" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%9F%D0%BB%D0%BE%D1%85%D0%BE%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2.1</span>
					<span>Плохой</span>
				</div>
			</a>
			
			<ul id="toc-Плохой-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Хороший" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%A5%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2.2</span>
					<span>Хороший</span>
				</div>
			</a>
			
			<ul id="toc-Хороший-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Лучший" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%9B%D1%83%D1%87%D1%88%D0%B8%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2.3</span>
					<span>Лучший</span>
				</div>
			</a>
			
			<ul id="toc-Лучший-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Дополнительная_информация" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.3</span>
					<span>Дополнительная информация</span>
				</div>
			</a>
			
			<ul id="toc-Дополнительная_информация-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Нет_подключения_к_локальной_сети_через_мост" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D1%82_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%81%D0%B5%D1%82%D0%B8_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D0%BC%D0%BE%D1%81%D1%82">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Нет подключения к локальной сети через мост</span>
				</div>
			</a>
			
			<ul id="toc-Нет_подключения_к_локальной_сети_через_мост-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Разрешение_имени_localhost_выполняется_через_сеть" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_localhost_%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D1%81%D0%B5%D1%82%D1%8C">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Разрешение имени localhost выполняется через сеть</span>
				</div>
			</a>
			
			<ul id="toc-Разрешение_имени_localhost_выполняется_через_сеть-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Network configuration (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 9 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-9" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">9 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-cs mw-list-item"><a href="../cs/Network_configuration.html" title="Network configuration – čeština" lang="cs" hreflang="cs" data-title="Network configuration" data-language-autonym="Čeština" data-language-local-name="čeština" class="interlanguage-link-target"><span>Čeština</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Network_configuration.html" title="Network configuration – English" lang="en" hreflang="en" data-title="Network configuration" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Network_configuration.html" title="Network configuration – español" lang="es" hreflang="es" data-title="Network configuration" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fi mw-list-item"><a href="../fi/Network_configuration.html" title="Network configuration – suomi" lang="fi" hreflang="fi" data-title="Network configuration" data-language-autonym="Suomi" data-language-local-name="suomi" class="interlanguage-link-target"><span>Suomi</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/Network_configuration.html" title="Network configuration – magyar" lang="hu" hreflang="hu" data-title="Network configuration" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-it mw-list-item"><a href="../it/Network_configuration.html" title="Network configuration – italiano" lang="it" hreflang="it" data-title="Network configuration" data-language-autonym="Italiano" data-language-local-name="italiano" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E8%A8%AD%E5%AE%9A" title="ネットワーク設定 – 日本語" lang="ja" hreflang="ja" data-title="ネットワーク設定" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Network_configuration.html" title="Network configuration – português" lang="pt" hreflang="pt" data-title="Network configuration" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Network_configuration" title="Network configuration – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Network configuration" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a>. Дата последней синхронизации: 12 октября 2023. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Network_configuration&amp;diff=0&amp;oldid=789621">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../en/Network_Debugging.html" title="Network Debugging">Network Debugging</a></li>
<li><a href="../ru/Category:Firewalls.html" class="mw-redirect" title="Межсетевой экран">Межсетевой экран</a></li>
<li><a href="../ru/Internet_sharing.html" class="mw-redirect" title="Раздача интернета">Раздача интернета</a></li>
<li><a href="../en/Router.html" title="Router">Router</a></li>
</ul>
</div>
<p>В статье описана настройка сетевого подключения на <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D1%8F" class="extiw" title="wikipedia:ru:Протоколы сетевого уровня">3-м уровне модели OSI</a> и выше. Вещи, специфичные для конкретного способа подключения, рассматриваются на подстраницах <a href="../ru/Network_configuration/Ethernet.html" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet</a> (для проводной сети) и <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">/Wireless</a> (для беспроводной).
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Проверка_подключения">
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"></span>Проверка подключения</h2></div>
<p>При проблемах с подключением к сети последовательно проверьте, что:
</p>
<ol>
<li>
<a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">Сетевой интерфейс</a> обнаружен и включён. В противном случае проверьте драйвер устройства – см. <a href="../ru/Network_configuration/Ethernet.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet#Драйвер устройства</a> и <a href="../ru/Network_configuration/Wireless.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Драйвер устройства</a>.</li>
<li>Вы подключены к сети: воткнут сетевой кабель или есть <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">подключение к беспроводной сети</a>.</li>
<li>Сетевому интерфейсу присвоен <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">IP-адрес</a>.</li>
<li>Правильно настроена <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблица маршрутизации</a>.</li>
<li>Возможно <a href="#Ping">пропинговать</a> локальный IP-адрес (например, <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%BB%D1%8E%D0%B7_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E" class="extiw" title="wikipedia:ru:Шлюз по умолчанию">шлюз по умолчанию</a>).</li>
<li>Возможно <a href="#Ping">пропинговать</a> публичный IP-адрес (например, <code>9.9.9.9</code> — DNS-сервер Quad9 Foundation, имеющий удобный для тестирования адрес).</li>
<li>Работает <a href="../ru/Domain_name_resolution.html#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%B8%D0%BC%D1%91%D0%BD_%D1%81_NSS" title="Domain name resolution (Русский)">разрешение доменных имён</a> (например, <code>archlinux.org</code>).</li>
</ol>
<div class="mw-heading mw-heading3"><h3 id="Ping">Ping</h3></div>
<p>Для проверки достижимости хоста используется утилита <a href="https://en.wikipedia.org/wiki/ru:ping" class="extiw" title="wikipedia:ru:ping">ping</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ping www.example.com</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PING www.example.com (93.184.216.34) 56(84) bytes of data.
64 bytes from 93.184.216.34 (93.184.216.34): icmp_seq=1 ttl=56 time=11.632 ms
64 bytes from 93.184.216.34 (93.184.216.34): icmp_seq=2 ttl=56 time=11.726 ms
64 bytes from 93.184.216.34 (93.184.216.34): icmp_seq=3 ttl=56 time=10.683 ms
...</pre>
<p>Для каждого полученного ответа <i>ping</i> выводит строку, подобную приведённым выше. Для остановки используйте <code>Ctrl+c</code>. Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 8 ping"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ping.8">ping(8)</a></span>. Учтите, что удалённый хост может быть настроен игнорировать ICMP-запросы <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/412446/how-to-disable-ping-response-icmp-echo-in-linux-all-the-time">[1]</a>.
</p>
<p>Если вместо ответов вы получаете ошибку (смотрите <a href="https://en.wikipedia.org/wiki/Ping_(networking_utility)#Error_indications" class="extiw" title="wikipedia:Ping (networking utility)">ping error indications</a>) или не получаете ничего, это может быть связано с настройками сети, но также могут быть проблемы со шлюзом по умолчанию или интернет-провайдером. Воспользуйтесь утилитой <a href="../ru/Network_tools.html#Traceroute" title="Network tools (Русский)">traceroute</a> для диагностики маршрута к хосту.
</p>
<div class="mw-heading mw-heading2"><h2 id="Управление_сетевым_подключением">
<span id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.BC_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC"></span>Управление сетевым подключением</h2></div>
<p>Для настройки сетевого подключения сделайте следующее:
</p>
<ol>
<li>Убедитесь, что <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">сетевой интерфейс</a> обнаружен и включён.</li>
<li>Подключитесь к сети. Вставьте Ethernet-кабель или <a href="../ru/Network_configuration/Wireless.html" title="Network configuration (Русский)/Wireless (Русский)">подключитесь к беспроводной сети</a>.</li>
<li>Настройте сетевое подключение:
<ul>
<li>Большинство сетей использует <a href="https://en.wikipedia.org/wiki/ru:DHCP" class="extiw" title="wikipedia:ru:DHCP">Dynamic Host Configuration Protocol</a> для настройки. Клиенты автоматически получают динамический или статический IP-адрес от DHCP-сервера с помощью <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">отдельного DHCP-клиента или сетевого менеджера</a>.</li>
<li>Если сеть не использует DHCP-сервер, вы можете настроить <a href="#%D0%A1%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81">статический IP-адрес</a>, маршруты, шлюз по умолчанию и DNS-серверы вручную.</li>
</ul>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> В установочном образе используются
<ul>
<li>
<a href="../ru/Systemd-networkd.html" title="Systemd-networkd (Русский)">systemd-networkd</a> в качестве DHCP-клиента для всех типов сетевых интерфейсов — <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-ethernet.network">Ethernet</a>, <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wlan.network">WLAN</a> и <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wwan.network">WWAN</a>, и</li>
<li>
<a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a> для работы с <a href="../ru/Domain_name_resolution.html" title="Domain name resolution (Русский)">DNS</a>, смотрите <a href="../ru/Systemd-resolved.html#DNS" title="Systemd-resolved (Русский)">systemd-resolved (Русский)#DNS</a>.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="Вручную">
<span id=".D0.92.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E"></span>Вручную</h3></div>
<div class="mw-heading mw-heading4"><h4 id="iproute2">iproute2</h4></div>
<p><a href="https://en.wikipedia.org/wiki/ru:iproute2" class="extiw" title="wikipedia:ru:iproute2">iproute2</a> (зависимость <a href="../ru/Meta_package_and_package_group.html#%D0%A0%D0%B0%D0%B7%D0%BD%D0%B8%D1%86%D0%B0_%D0%BC%D0%B5%D0%B6%D0%B4%D1%83_%D0%BC%D0%B5%D1%82%D0%B0-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%BC_%D0%B8_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B9_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Мета-пакета">мета-пакета</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>) предоставляет утилиту командной строки <span class="plainlinks archwiki-template-man" title="$ man 8 ip"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip.8">ip(8)</a></span> для управления <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">сетевыми интерфейсами</a>, <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">IP-адресами</a> и <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблицей маршрутизации</a>. Учтите, что сделанные с помощью <code>ip</code> настройки исчезнут после перезагрузки. Для задания постоянных настроек используйте <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">сетевой менеджер</a> или автоматизируйте <i>ip</i>-команды с помощью сценариев или <a href="../ru/Systemd.html#%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">юнитов systemd</a>. Также обратите внимание, что многие команды <code>ip</code> имеют сокращённую форму, но в этой статье для ясности они указываются полностью.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Утилиты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> считаются устаревшими; рекомендуется использовать пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>.<a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-net-tools/">[2]</a> Смотрите также <a rel="nofollow" class="external text" href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/">Deprecated Linux networking commands and their replacements</a>.</div>
<div class="mw-heading mw-heading4"><h4 id="Статический_IP-адрес">
<span id=".D0.A1.D1.82.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81"></span>Статический IP-адрес</h4></div>
<p>Настройка статического IP-адреса производится либо посредством <a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">сетевого менеджера</a>, либо с помощью демона <a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a>.
</p>
<p>Чтобы настроить статический IP-адрес вручную, добавьте IP-адрес по рекомендациям в разделе <a href="#IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0">#IP-адреса</a>, настройте <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">таблицу маршрутизации</a> и <a href="../ru/Domain_name_resolution.html" title="Domain name resolution (Русский)">DNS-сервер</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="IP-адреса">
<span id="IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.B0"></span>IP-адреса</h4></div>
<p>Для управления <a href="https://en.wikipedia.org/wiki/ru:IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" class="extiw" title="wikipedia:ru:IP-адрес">IP-адресами</a> используется команда <span class="plainlinks archwiki-template-man" title="$ man 8 ip-address"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-address.8">ip-address(8)</a></span>.
</p>
<p>Показать существующие IP-адреса:
</p>
<pre>$ ip address show
</pre>
<p>Добавить IP-адрес к сетевому интерфейсу:
</p>
<pre># ip address add <i>адрес/длина_префикса</i> broadcast + dev <i>интерфейс</i>
</pre>
<dl><dd>Обратите внимание:</dd></dl>
<dl>
<dd><ul>
<li>адрес указывается в <a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F" class="extiw" title="wikipedia:ru:Бесклассовая адресация">CIDR-нотации</a> с <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D0%BE%D0%B4%D1%81%D0%B5%D1%82%D1%8C" class="extiw" title="wikipedia:ru:Подсеть">маской подсети</a>;</li>
<li>спецсимвол <code>+</code> говорит утилите <code>ip</code> вычислить <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%B8%D1%80%D0%BE%D0%BA%D0%BE%D0%B2%D0%B5%D1%89%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B0%D0%B4%D1%80%D0%B5%D1%81" class="extiw" title="wikipedia:ru:Широковещательный адрес">широковещательный адрес</a> на основе IP-адреса и маски подсети.</li>
</ul></dd>
<dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Убедитесь, что добавленные вручную IP-адреса не конфликтуют с адресами, полученными через DHCP.</div></dd>
</dl>
<p>Удалить IP-адрес интерфейса:
</p>
<pre># ip address del <i>адрес/длина_префикса</i> dev <i>интерфейс</i>
</pre>
<p>Удалить все адреса определённого интерфейса:
</p>
<pre># ip address flush dev <i>интерфейс</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong> Адреса IPv4 можно вычислить с помощью <a rel="nofollow" class="external text" href="https://jodies.de/ipcalc">ipcalc</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipcalc">ipcalc</a></span>).</div>
<div class="mw-heading mw-heading4"><h4 id="Таблицы_маршрутизации">
<span id=".D0.A2.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D0.B8"></span>Таблицы маршрутизации</h4></div>
<p><a href="https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8" class="extiw" title="wikipedia:ru:Таблица маршрутизации">Таблица маршрутизации</a> определяет, можно ли связаться с удалённым хостом напрямую или нужно использовать какой-то шлюз (маршрутизатор). Если подходящего маршрута в таблице нет, то используется <a href="https://en.wikipedia.org/wiki/ru:%D0%A8%D0%BB%D1%8E%D0%B7_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E" class="extiw" title="wikipedia:ru:Шлюз по умолчанию">шлюз по умолчанию</a>.
</p>
<p>Настройка таблицы маршрутизации производится командой <span class="plainlinks archwiki-template-man" title="$ man 8 ip-route"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-route.8">ip-route(8)</a></span>.
</p>
<p>В примерах ниже значение <i>ПРЕФИКС</i> либо указывается в <a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F" class="extiw" title="wikipedia:ru:Бесклассовая адресация">CIDR-нотации</a>, либо принимает значение <code>default</code> для шлюза по умолчанию.
</p>
<p>Показать маршруты IPv4:
</p>
<pre>$ ip route show
</pre>
<p>Показать маршруты IPv6:
</p>
<pre>$ ip -6 route show
</pre>
<p>Добавить маршрут:
</p>
<pre># ip route add <i>ПРЕФИКС</i> via <i>адрес</i> dev <i>интерфейс</i>
</pre>
<p>Удалить маршрут:
</p>
<pre># ip route del <i>ПРЕФИКС</i> via <i>адрес</i> dev <i>интерфейс</i>
</pre>
<div class="mw-heading mw-heading3"><h3 id="Автоматически">
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8"></span>Автоматически</h3></div>
<p>Автоматическая настройка сети осуществляется с помощью <a href="https://en.wikipedia.org/wiki/ru:DHCP" class="extiw" title="wikipedia:ru:DHCP">Dynamic Host Configuration Protocol</a> (DHCP). DHCP-сервер в сети назначает IP-адреса, сообщает IP-адреса шлюза по умолчанию и, как вариант, DNS-серверы по запросу DHCP-клиента.
</p>
<p>Сравнительная таблица DHCP-серверов приведена в разделе <a href="../en/Router.html#DNS_and_DHCP" title="Router">Router#DNS and DHCP</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Сетевые_менеджеры">
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D1.8B"></span>Сетевые менеджеры</h3></div>
<p>Сетевой менеджер позволяет создавать т.н. «сетевые профили» с настройками подключений, что облегчает переключение между сетями.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong> Проверить, запущен ли DHCPv4-сервер, можно с помощью <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcping">dhcping</a></span>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Каждый отдельно взятый сетевой интерфейс должен управляться только одним DHCP-клиентом или сетевым менеджером, поэтому скорее всего в системе должен быть запущен только один DHCP-клиент или сетевой менеджер.</div>
<table class="wikitable sortable">
<tbody>
<tr>
<th rowspan="2">Программа
</th>
<th colspan="3">Тип соединения
</th>
<th colspan="2">
<a href="../ru/Network_configuration/Wireless.html#%D0%90%D1%83%D1%82%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F" title="Network configuration (Русский)/Wireless (Русский)">Аутентификация Wi-Fi</a>
</th>
<th colspan="3">IP-адреса, маршруты и DNS
</th>
<th colspan="3">Интерфейс
</th>
</tr>
<tr>
<th>Ethernet
</th>
<th>PPPoE
</th>
<th>
<a href="../en/Mobile_broadband_modem.html" title="Mobile broadband modem">Мобильный интернет</a>
</th>
<th>WPA/WPA2
</th>
<th>WPA3
</th>
<th>Статический IP
</th>
<th>DHCP-клиент
</th>
<th>
<a href="../ru/Domain_name_resolution.html" class="mw-redirect" title="Разрешение доменных имён">Разрешение доменных имён</a>
</th>
<th>CLI
</th>
<th>TUI
</th>
<th>GUI
</th>
</tr>
<tr>
<th>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span><sup>1</sup>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td colspan="2" class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет<sup>2</sup>
</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">встроенный</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (записывает <code>/etc/resolv.conf</code>)</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет
</td>
</tr>
<tr>
<th>
<a href="../ru/Dhcpcd.html" title="Dhcpcd (Русский)">dhcpcd</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td colspan="2" class="archwiki-table-cell archwiki-template-y" data-sort-value="3">
<a href="../ru/Dhcpcd.html#10-wpa_supplicant" title="Dhcpcd (Русский)">Запускает wpa_supplicant</a><sup>3</sup>
</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">встроенный</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../ru/Dhcpcd.html#/etc/resolv.conf" title="Dhcpcd (Русский)">Да</a> (использует <a href="../ru/Openresolv.html" title="Openresolv (Русский)">resolvconf</a> или записывает <code>/etc/resolv.conf</code>)</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dhcpcd-ui/">dhcpcd-ui</a></span><sup><small>AUR</small></sup>
</td>
</tr>
<tr>
<th>
<a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1"><a rel="nofollow" class="external text" href="https://web.archive.org/web/20131231103723/https://01.org/jira/browse/CM-63">Нет</a></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ofono/">ofono</a></span><sup><small>AUR</small></sup>)</td>
<td colspan="2" class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">встроенный</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/ConnMan.html#DNS_management" title="ConnMan">Да</a> (запускает встроенный распознаватель и записывает <code>/etc/resolv.conf</code>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><a href="../en/ConnMan.html#Front-ends" title="ConnMan">Да</a></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/ConnMan.html#Front-ends" title="ConnMan">Да</a>
</td>
</tr>
<tr>
<th>
<a href="../en/Netctl.html" class="mw-redirect" title="Netctl (Русский)">netctl</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/Netctl.html#Installation" title="Netctl">Да</a> (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ppp">ppp</a></span>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ppp">ppp</a></span>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span>)</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/Netctl.html#/etc/resolv.conf" title="Netctl">Да</a> (использует <a href="../ru/Openresolv.html" title="Openresolv (Русский)">resolvconf</a>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-y" data-sort-value="3">
<span class="plainlinks archwiki-template-man" title="$ man 1 wifi-menu"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wifi-menu.1">wifi-menu(1)</a></span><sup>4</sup>
</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет
</td>
</tr>
<tr>
<th>
<a href="../ru/NetworkManager.html" title="NetworkManager (Русский)">NetworkManager</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/NetworkManager.html#PPPoE_/_DSL_support" title="NetworkManager">Да</a> (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rp-pppoe">rp-pppoe</a></span>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/NetworkManager.html#Mobile_broadband_support" title="NetworkManager">Да</a> (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=modemmanager">modemmanager</a></span>)</td>
<td colspan="2" class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> <a href="../en/NetworkManager.html#Using_iwd_as_the_Wi-Fi_backend" title="NetworkManager">или iwd</a>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">встроенный, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span>
</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/NetworkManager.html#DNS_management" title="NetworkManager">Да</a> (использует <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a>, <a href="../ru/Openresolv.html" title="Openresolv (Русский)">resolvconf</a> или записывает <code>/etc/resolv.conf</code>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../en/NetworkManager.html#Front-ends" title="NetworkManager">Да</a>
</td>
</tr>
<tr>
<th>
<a href="../ru/Systemd-networkd.html" title="Systemd-networkd (Русский)">systemd-networkd</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1"><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/481">Нет</a></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1"><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/20370">Нет</a></td>
<td colspan="2" class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет<sup>2</sup>
</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">встроенный</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да (использует <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 networkctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/networkctl.1">networkctl(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет
</td>
</tr>
<tr>
<th>
<a href="../en/Wpa_supplicant.html" class="mw-redirect" title="Wpa supplicant (Русский)">wpa_supplicant</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><a href="https://en.wikipedia.org/wiki/IEEE_802.1X" class="extiw" title="wikipedia:IEEE 802.1X">IEEE 802.1X</a></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td colspan="3" class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 8 wpa_cli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wpa_cli.8">wpa_cli(8)</a></span></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_supplicant_gui/">wpa_supplicant_gui</a></span><sup><small>AUR</small></sup>
</td>
</tr>
<tr>
<th>
<a href="../ru/Iwd.html" title="Iwd (Русский)">iwd</a>
</th>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><a href="https://en.wikipedia.org/wiki/IEEE_802.1X" class="extiw" title="wikipedia:IEEE 802.1X">IEEE 802.1X</a></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Да</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><a href="../ru/Iwd.html#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D1%81%D0%B5%D1%82%D0%B8" title="Iwd (Русский)">Да</a></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><a href="../ru/Iwd.html#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D1%81%D0%B5%D1%82%D0%B8" title="Iwd (Русский)">встроенный</a></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<a href="../ru/Iwd.html#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_DNS-%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0" title="Iwd (Русский)">Да</a> (использует <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a> или <a href="../ru/Openresolv.html" title="Openresolv (Русский)">resolvconf</a>)</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5"><span class="plainlinks archwiki-template-man" title="$ man 1 iwctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iwctl.1">iwctl(1)</a></span></td>
<td class="archwiki-table-cell archwiki-template-r" data-sort-value="1">Нет</td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iwgtk/">iwgtk</a></span><sup><small>AUR</small></sup>
</td>
</tr>
</tbody>
</table>
<ol>
<li>Не поддерживается с 2022 года. ISC не рекомендует использовать его.</li>
<li>Беспроводная аутентификация может быть настроена отдельно с помощью <a href="../en/Wpa_supplicant.html" class="mw-redirect" title="Wpa supplicant (Русский)">wpa_supplicant</a> или <a href="../ru/Iwd.html" title="Iwd (Русский)">iwd</a>.</li>
<li>Беспроводная аутентификация должна быть настроена отдельно с помощью <a href="../en/Wpa_supplicant.html" class="mw-redirect" title="Wpa supplicant (Русский)">wpa_supplicant</a>.</li>
<li>Позволяет управлять только Wi-Fi соединениями.</li>
</ol>
<div class="mw-heading mw-heading2"><h2 id="Сетевые_интерфейсы">
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B"></span>Сетевые интерфейсы</h2></div>
<p><a href="../ru/Udev.html" title="Udev (Русский)">udev</a> назначает имена сетевых интерфейсов в соответствии со <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">схемой именования</a>, в которой тип устройства обозначается двухбуквенным префиксом: <code>en</code> (проводной/<a href="https://en.wikipedia.org/wiki/ru:Ethernet" class="extiw" title="wikipedia:ru:Ethernet">Ethernet</a>), <code>wl</code> (беспроводной/<a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" class="extiw" title="wikipedia:ru:Беспроводная локальная сеть">WLAN</a>) или <code>ww</code> (<a href="https://en.wikipedia.org/wiki/ru:WWAN" class="extiw" title="wikipedia:ru:WWAN">WWAN</a>). Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.net-naming-scheme"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.net-naming-scheme.7">systemd.net-naming-scheme(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong> Смена имени интерфейса описана в разделах <a href="#%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">#Смена имени интерфейса</a> и <a href="#%D0%A2%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2">#Традиционные названия интерфейсов</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="Обнаружение_сетевых_интерфейсов">
<span id=".D0.9E.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span>Обнаружение сетевых интерфейсов</h3></div>
<p>Имена как проводных, так и беспроводных интерфейсов можно узнать командами <code>ls /sys/class/net</code> и <code>ip link</code>. Имейте в виду, что префиксом <code>lo</code> обозначается <a href="https://en.wikipedia.org/wiki/ru:Loopback#.D0.92.D0.B8.D1.80.D1.82.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B9_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81" class="extiw" title="wikipedia:ru:Loopback">петлевое устройство</a>, которое не используется для сетевых соединений.
</p>
<p>Имена беспроводных устройств можно узнать командой <code>iw dev</code>. См. также <a href="../ru/Network_configuration/Wireless.html#%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Определение имени интерфейса</a>.
</p>
<p>Если сетевой интерфейс не обнаружен, убедитесь, что его драйвер был загружен (cм. <a href="../ru/Network_configuration/Ethernet.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Ethernet (Русский)">/Ethernet#Драйвер устройства</a> и <a href="../ru/Network_configuration/Wireless.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Network configuration (Русский)/Wireless (Русский)">/Wireless#Драйвер устройства</a>).
</p>
<div class="mw-heading mw-heading3"><h3 id="Включение_и_отключение_сетевых_интерфейсов">
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.BE.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span>Включение и отключение сетевых интерфейсов</h3></div>
<p>Включение и выключение интерфейса производится командой <code>ip link set <i>интерфейс</i> up|down</code> (подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span>).
</p>
<p>Для проверки текущего состояния интерфейса (например, <code>enp2s0</code>) выполните:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip link show dev enp2s0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT qlen 1000
...
</pre>
<p>На состояние интерфейса указывает <code>UP</code> в <code>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</code>, а не <code>state DOWN</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Если выключить интерфейс, через который проходит маршрут по умолчанию, то маршрут будет удалён. Последующее включение интерфейса не восстановит автоматически исходный маршрут. Восстановление маршрута описано в разделе <a href="#%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">#Таблицы маршрутизации</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="Смена_имени_интерфейса">
<span id=".D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"></span>Смена имени интерфейса</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> При изменении схемы именования не забудьте обновить все связанные с сетью файлы настроек и юниты systemd, чтобы применить в них проведённое изменение.</div>
<p>Вы можете изменить имя устройства, установив его вручную с помощью файла <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.link.5">systemd.link(5)</a></span>. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/10-net0.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
PermanentMACAddress=aa:bb:cc:dd:ee:ff

[Link]
Name=net0</pre>
<p>В качестве альтернативы можно использовать правило udev:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="aa:bb:cc:dd:ee:ff", NAME="net0"</pre>
<p>Эти правила будут применяться автоматически при загрузке.
Чтобы применить изменения сразу, запустите trigger вручную для подсистемы <code>net</code>:
</p>
<pre># udevadm trigger --verbose --subsystem-match=net --action=add
</pre>
<p><a href="../ru/Udev.html#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB_%D0%BF%D0%B5%D1%80%D0%B5%D0%B4_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%BE%D0%B9" title="Udev (Русский)">Проверить</a> созданное правило из пространства пользователя можно командой <code>udevadm --debug test /sys/class/net/*</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> 
<ul>
<li>Приоритет <code>Name</code> ниже чем <code>NamePolicy</code>, поэтому убедитесь, что последний параметр не установлен или пуст, иначе имя не будет изменено. <code>99-default.link</code> устанавливает <code>NamePolicy</code>, из чего следует, что пользовательская конфигурация должна находиться по порядку перед этим файлом, то есть должна иметь числовой префикс.</li>
<li>Перед изменением имени сетевой интерфейс должен быть отключен. <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/issues/26601">[3]</a>
</li>
<li>Чтобы получить MAC-адрес каждой карты, выполните команду <code>ip link</code>.</li>
<li>Убедитесь, что в правилах udev используются шестнадцатеричные значения в нижнем регистре. Он не любит верхний регистр.</li>
</ul>
</div>
<p>Если сетевой интерфейс имеет динамический MAC-адрес, можно использовать <code>Path</code> (узнать который можно с помощью <code>networkctl status <i>интерфейс</i></code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/10-net1.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Path=pci-0000:01:00.0

[Link]
Name=net1</pre>
<p>Для правила udev можно использовать <code>DEVPATH</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", DEVPATH=="/devices/pci*/*1c.0/*/net/*", NAME="net1"</pre>
<p><code>DEVPATH</code> подключённых устройств можно узнать по символическим ссылкам в каталоге <code>/sys/class/net/</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ file /sys/class/net/*</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/class/net/enp0s20f0u4u1: symbolic link to ../../devices/pci0000:00/0000:00:14.0/usb2/2-4/2-4.1/2-4.1:1.0/net/enp0s20f0u4u1
/sys/class/net/enp0s31f6:     symbolic link to ../../devices/pci0000:00/0000:00:1f.6/net/enp0s31f6
/sys/class/net/lo:            symbolic link to ../../devices/virtual/net/lo
/sys/class/net/wlp4s0:        symbolic link to ../../devices/pci0000:00/0000:00:1c.6/0000:04:00.0/net/wlp4s0
</pre>
<p>Паттерн пути устройства (DEVPATH) должен подходить для обоих названий устройств, и нового, и старого, поскольку одно и то же правило udev может срабатывать несколько раз в процессе загрузки. Например, во втором правиле в примере выше шаблон <code>"/devices/pci*/*1c.0/*/net/en*"</code> будет ошибочным, поскольку после изменения имени на <code>net1</code> он перестанет совпадать, и если после этого сработает системное правило по умолчанию, то вернётся старое имя.
</p>
<p>Если вы используете USB-интерфейс (например, подключаясь через Android-смартфон) с динамическим MAC-адресом и хотите иметь возможность использовать разные USB-порты, можно создать правило на основе данных о производителе и ID устройства:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/20-net2.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Property=ID_VENDOR_ID=12ab ID_MODEL_ID=3cd4

[Link]
Name=net2</pre>
<p>или
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTRS{idVendor}=="12ab", ATTRS{idProduct}=="3cd4", NAME="net2"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> При выборе статических имен <b>вы должны избегать использования формата "eth<i>X</i>" и "wlan<i>X</i>"</b>, поскольку это может привести к состоянию гонки между ядром и udev во время загрузки системы. Вместо этого лучше взять имена интерфейсов, которые не используются по умолчанию в ядре, например: <code>net0</code>, <code>net1</code>, <code>wifi0</code>, <code>wifi1</code>. Подробнее см. документацию <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">systemd</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="Традиционные_названия_интерфейсов">
<span id=".D0.A2.D1.80.D0.B0.D0.B4.D0.B8.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BD.D0.B0.D0.B7.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></span>Традиционные названия интерфейсов</h3></div>
<p>Если вы предпочитаете традиционные названия интерфейсов вроде <code>eth0</code>, отключите назначение <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">предсказуемых имён интерфейсов</a>, изменив <code>NamePolicy</code> для <code>net_setup_link</code> из udev:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/99-default.link.d/traditional-naming.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Link]
NamePolicy=keep kernel</pre>
<p>Или можно полностью отключить <code>net_setup_link</code>, создав маску для правила udev.
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</pre>
<p>Другой способ — добавить <code>net.ifnames=0</code> в <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметры ядра</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно</strong> <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.link.5">systemd.link(5)</a></span> полагается на <code>net_setup_link</code> для своей работы. Используйте первый способ, если вы не имеете полное представление о том, что вы делаете.</div>
<div class="mw-heading mw-heading3"><h3 id="Установка_MTU_и_длины_очереди">
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_MTU_.D0.B8_.D0.B4.D0.BB.D0.B8.D0.BD.D1.8B_.D0.BE.D1.87.D0.B5.D1.80.D0.B5.D0.B4.D0.B8"></span>Установка MTU и длины очереди</h3></div>
<p>Вы можете изменить <a href="https://en.wikipedia.org/wiki/ru:Maximum_transmission_unit" class="extiw" title="wikipedia:ru:Maximum transmission unit">MTU</a> и длину очереди для устройства, определив их вручную с помощью настроек в <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.link.5">systemd.link(5)</a></span>. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/30-mtu.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Type=wlan

[Link]
MTUBytes=1500
TransmitQueueLength=2000</pre>
<p>Или с помощью правила udev:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="net", KERNEL=="wl*", ATTR{mtu}="1500", ATTR{tx_queue_len}="2000"</pre>
<p><code>MTUBytes</code>: Значение выше 1500 (т.н. <a href="https://en.wikipedia.org/wiki/ru:Jumbo-%D0%BA%D0%B0%D0%B4%D1%80" class="extiw" title="wikipedia:ru:Jumbo-кадр">jumbo-кадры</a>) может значительно повысить скорость передачи информации. Имейте в виду, что указанное значение MTU должны поддерживать все сетевые интерфейсы, в том числе коммутаторы в локальной сети, иначе передача jumbo-кадров завершится неудачно. Для PPPoE величина MTU не должна превышать 1492. Также значение MTU можно задать посредством <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.netdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.netdev.5">systemd.netdev(5)</a></span>.
</p>
<p><code>TransmitQueueLength</code>: Малые значения — для медленных устройств с высокой задержкой (<a href="https://en.wikipedia.org/wiki/ru:ADSL" class="extiw" title="wikipedia:ru:ADSL">ADSL</a>, <a href="https://en.wikipedia.org/wiki/ru:ISDN" class="extiw" title="wikipedia:ru:ISDN">ISDN</a>). Большие значения рекомендованы для высокоскоростных соединений с серверами, где предполагается передача значительных объёмов данных.
</p>
<div class="mw-heading mw-heading2"><h2 id="Имя_хоста">
<span id=".D0.98.D0.BC.D1.8F_.D1.85.D0.BE.D1.81.D1.82.D0.B0"></span>Имя хоста</h2></div>
<p><a href="https://en.wikipedia.org/wiki/Hostname" class="extiw" title="wikipedia:Hostname">Имя хоста</a> — уникальное имя-идентификатор машины в сети. Имя хоста хранится в файле <code>/etc/hostname</code> (см. <span class="plainlinks archwiki-template-man" title="$ man 5 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.5">hostname(5)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 7 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.7">hostname(7)</a></span>). В файле также может храниться доменное имя системы, если таковое имеется. Чтобы задать имя хоста, добавьте в файл <code>/etc/hostname</code> одну строку:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>имя-хоста</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong> Рекомендации по выбору имени хоста приведены в <a href="https://tools.ietf.org/html/rfc1178" class="extiw" title="rfc:1178">RFC 1178</a>.</div>
<p>В качестве альтернативы имя хоста можно задать утилитой <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>:
</p>
<pre># hostnamectl set-hostname <i>имя-хоста</i>
</pre>
<p>Утилита <span class="plainlinks archwiki-template-man" title="$ man 1 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.1">hostname(1)</a></span> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inetutils">inetutils</a></span> позволяет задать имя хоста временно, до первой перезагрузки:
</p>
<pre># hostname <i>имя-хоста</i>
</pre>
<p>Смотрите <span class="plainlinks archwiki-template-man" title="$ man 5 machine-info"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-info.5">machine-info(5)</a></span> о том, как настроить «красивое» имя машины и другие метаданные.
</p>
<div class="mw-heading mw-heading3"><h3 id="Разрешение_имён_в_локальной_сети">
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BC.D1.91.D0.BD_.D0.B2_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.81.D0.B5.D1.82.D0.B8"></span>Разрешение имён в локальной сети</h3></div>
<p>Чтобы машина была доступна по локальной сети по имени хоста, следует выбрать один из вариантов:
</p>
<ul>
<li>отредактировать файл <code>/etc/hosts</code> на каждом устройстве вашей локальной сети, см. <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>;</li>
<li>выбрать <a href="../ru/Domain_name_resolution.html#DNS-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%8B" title="Domain name resolution (Русский)">DNS-сервер</a> для разрешения вашего имени хоста и настроить все машины в локальной сети использовать его (например, посредством <a href="../en/Router.html#DNS_and_DHCP" title="Router">DHCP</a>);</li>
<li>использовать <a href="https://en.wikipedia.org/wiki/ru:Zeroconf" class="extiw" title="wikipedia:ru:Zeroconf">Zeroconf</a>-сервис, автоматически создающий IP-сети без необходимости выполнения ручных настроек. Можно выбрать одну из двух реализаций:
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/ru:NetBIOS" class="extiw" title="wikipedia:ru:NetBIOS">NetBIOS</a>. Разработан компанией Microsoft, входит в состав <a href="../ru/Samba.html" title="Samba (Русский)">Samba</a>. Всё, что необходимо — запустить <code>nmb.service</code>. Машины с операционными системами Windows, macOS или Linux и работающим <code>nmb</code> смогут найти ваш компьютер в сети;</li>
<li>
<a href="https://en.wikipedia.org/wiki/Multicast_DNS" class="extiw" title="wikipedia:Multicast DNS">mDNS</a>. Возможны два варианта использования: <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">Avahi</a> и <a href="../ru/Systemd-resolved.html" title="Systemd-resolved (Русский)">systemd-resolved</a>. Компьютеры с macOS или Linux, на которых запущен Avahi или systemd-resolved, смогут обнаружить ваш хост. Windows не имеет встроенного mDNS клиента или демона. Старый Win32 API не поддерживает mDNS, что может помешать старым приложениям Windows получить доступ к вашей системе.</li>
</ul>
</li>
</ul>
<div class="mw-heading mw-heading2"><h2 id="Советы_и_рекомендации">
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span>Советы и рекомендации</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Объединение_сетевых_интерфейсов_(bonding)_или_LAG">
<span id=".D0.9E.D0.B1.D1.8A.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2_.28bonding.29_.D0.B8.D0.BB.D0.B8_LAG"></span>Объединение сетевых интерфейсов (bonding) или LAG</h3></div>
<p>Бондинг — объединение нескольких сетевых интерфейсов в одно логическое устройство. См. статьи <a href="../en/Netctl.html#Bonding" title="Netctl">netctl</a>, <a href="../ru/Systemd-networkd.html#%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B8_%D0%B1%D0%B5%D1%81%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2" title="Systemd-networkd (Русский)">systemd-networkd</a> и <a href="../en/Wireless_bonding.html" title="Wireless bonding">Wireless bonding</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Псевдонимы_для_IP-адресов">
<span id=".D0.9F.D1.81.D0.B5.D0.B2.D0.B4.D0.BE.D0.BD.D0.B8.D0.BC.D1.8B_.D0.B4.D0.BB.D1.8F_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2"></span>Псевдонимы для IP-адресов</h3></div>
<p>Псевдонимы (aliases) необходимы для назначения нескольких IP-адресов одному сетевому интерфейсу. Благодаря этому один узел сети может иметь несколько подключений, каждое из которых будет использоваться для конкретной цели. Типичное применение этой возможности — виртуальный хостинг Web- и FTP-серверов или реорганизация серверов без необходимости обновления каких-либо других машин (особенно полезно для серверов имен).
</p>
<div class="mw-heading mw-heading4"><h4 id="Пример">
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"></span>Пример</h4></div>
<p>Чтобы вручную назначить псевдоним для определенного сетевого интерфейса (например, <code>enp2s0</code>) используйте утилиту <i>ip</i> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>:
</p>
<pre># ip addr add 192.168.2.101/24 dev enp2s0 label enp2s0:1
</pre>
<p>Для удаления псевдонима выполните:
</p>
<pre># ip addr del 192.168.2.101/24 dev enp2s0:1
</pre>
<p>По умолчанию для исходящих из определённой подсети пакетов используется основной псевдоним устройства. Если же отправитель находится в подсети вторичного псевдонима, то IP-адрес отправителя в заголовке пакета будет соответствующим. В случае наличия более чем одного сетевого интерфейса маршруты по умолчанию можно узнать командой <code>ip route</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Promiscuous_mode">Promiscuous mode</h3></div>
<p><a href="https://en.wikipedia.org/wiki/ru:Promiscuous_mode" class="extiw" title="wikipedia:ru:Promiscuous mode">Promiscuous mode</a> («неразборчивый» режим) предполагает, что (беспроводной) сетевой интерфейс перенаправляет весь входящий трафик ядру операционной системы для дальнейшей обработки. Это противоположность «нормальному» режиму, при котором интерфейс отбрасывает пакеты, которые не ожидались быть полученными. Чаще всего эта возможность используется для решения сетевых проблем и <a href="https://en.wikipedia.org/wiki/ru:%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80_%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0" class="extiw" title="wikipedia:ru:Анализатор трафика">анализа пакетов</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/promiscuous@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set %i interface in promiscuous mode
After=network.target

[Service]
Type=oneshot
ExecStart=/usr/bin/ip link set dev %i promisc on
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</pre>
<p>Чтобы включить «неразборчивый» режим для интерфейса <code>enp2s0</code>, <a href="../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> <code>promiscuous@enp2s0.service</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Получение_информации_о_сокетах">
<span id=".D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8_.D0.BE_.D1.81.D0.BE.D0.BA.D0.B5.D1.82.D0.B0.D1.85"></span>Получение информации о сокетах</h3></div>
<p>Входящая в состав пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> утилита <i>ss</i> используется для вывода информации о сокетах. Обладает схожим функционалом со считающейся <a rel="nofollow" class="external text" href="https://archlinux.org/news/deprecation-of-net-tools/">устаревшей</a> утилитой netstat.
</p>
<p>Примеры использования:
</p>
<p>Показать все TCP-сокеты с названиями сервисов:
</p>
<pre>$ ss -at
</pre>
<p>Показать все TCP-сокеты с номерами портов:
</p>
<pre>$ ss -atn
</pre>
<p>Показать все UDP-сокеты:
</p>
<pre>$ ss -au
</pre>
<p>За подробной информацией обращайтесь к справочной странице <span class="plainlinks archwiki-template-man" title="$ man 8 ss"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ss.8">ss(8)</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Решение_проблем">
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span>Решение проблем</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Проблема_масштабирования_TCP_window">
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D0.B0_.D0.BC.D0.B0.D1.81.D1.88.D1.82.D0.B0.D0.B1.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_TCP_window"></span>Проблема масштабирования TCP window</h3></div>
<p>Заголовок TCP-пакета содержит поле «Window», которое определяет, какое количество данных может быть прислано в ответ другим хостом. Ширина поля составляет 16 бит, следовательно, размер окна не может превышать 64 КиБ. С учётом кэширования пакетов, связанного с необходимостью восстановить их исходный порядок, значение окна легко может быть превышено.
</p>
<p>В 1992 году ввиду того, что объём памяти, доступной компьютерам, всё увеличивался, был разработан <a href="https://tools.ietf.org/html/rfc1323" class="extiw" title="rfc:1323">RFC:1323</a>, призванный решить проблему с помощью масштабирования окна (Window Scaling). Содержащееся в заголовке пакета значение «Window» корректировалось коэффициентом масштабирования (Scale Factor), который определялся один раз в начале подключения. Этот 8-битный коэффициент позволяет увеличить исходное окно размером 64 КиБ в 32 раза.
</p>
<p>Некоторые сломанные маршрутизаторы и межсетевые экраны переопределяют это значение на 0, что вызывает недопонимание между хостами. В ядре Linux версии 2.6.17 была введена в действие новая методика вычисления коэффициента масштабирования, в результате чего проблема с неправильно настроенными маршрутизаторами и экранами стала проявляться очень ярко.
</p>
<p>В итоге соединение в лучшем случае очень медленное или часто прерывается.
</p>
<div class="mw-heading mw-heading4"><h4 id="Диагностика">
<span id=".D0.94.D0.B8.D0.B0.D0.B3.D0.BD.D0.BE.D1.81.D1.82.D0.B8.D0.BA.D0.B0"></span>Диагностика</h4></div>
<p>Прежде всего, необходимо пояснить: это довольно странная проблема. В некоторых случаях вы вообще не сможете использовать соединения TCP (HTTP, FTP и т. д.), в других — сможете обращаться к некоторым узлам (почти ни к каким).
</p>
<p>Если у вас появилась такая проблема, вывод <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">dmesg</a> будет нормальным, логи — чистыми, а <code>ip addr</code> сообщит о нормальном состоянии... Всё будет выглядеть нормально.
</p>
<p>Если вы не можете просматривать никакие веб-сайты, но можете отправлять запросы ping на некоторые узлы, высока вероятность, что у вас именно эта проблема: ping использует ICMP, поэтому проблемы TCP на него не влияют.
</p>
<p>С помощью <a href="../ru/Wireshark.html" title="Wireshark (Русский)">Wireshark</a> можно будет увидеть, что UDP- и ICMP-соединения работают, а TCP-соединение с внешними узлами установить не удаётся.
</p>
<div class="mw-heading mw-heading4"><h4 id="Способы_решения_проблемы">
<span id=".D0.A1.D0.BF.D0.BE.D1.81.D0.BE.D0.B1.D1.8B_.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"></span>Способы решения проблемы</h4></div>
<div class="mw-heading mw-heading5"><h5 id="Плохой">
<span id=".D0.9F.D0.BB.D0.BE.D1.85.D0.BE.D0.B9"></span>Плохой</h5></div>
<p>Плохой способ заключается в изменении значения <code>tcp_rmem</code>, на основе которого вычисляется коэффициент масштабирования. Скорее всего, это решит проблему, кроме случая связи с особо удалёнными хостами.
</p>
<pre># echo "4096 87380 174760" &gt; /proc/sys/net/ipv4/tcp_rmem
</pre>
<div class="mw-heading mw-heading5"><h5 id="Хороший">
<span id=".D0.A5.D0.BE.D1.80.D0.BE.D1.88.D0.B8.D0.B9"></span>Хороший</h5></div>
<p>Просто отключите масштабирование. Эта функция — довольно приятное дополнение к стандартному TCP, и без неё может быть некомфортно, особенно если вы не имеете возможности перенастроить неправильно работающий маршрутизатор. Есть несколько способов отключения масштабирования, и, кажется, наиболее надёжный из них (работает с большинством ядер) — добавить следующую строку в файл <code>/etc/sysctl.d/99-disable_window_scaling.conf</code> (смотрите также статью <a href="../ru/Sysctl.html" title="Sysctl (Русский)">sysctl (Русский)</a>):
</p>
<pre>net.ipv4.tcp_window_scaling = 0
</pre>
<div class="mw-heading mw-heading5"><h5 id="Лучший">
<span id=".D0.9B.D1.83.D1.87.D1.88.D0.B8.D0.B9"></span>Лучший</h5></div>
<p>Проблема вызвана неправильно работающим маршрутизатором/межсетевыми экранами, поэтому просто замените его. Некоторые пользователи отмечали, что таким маршрутизатором был их собственный маршрутизатор DSL.
</p>
<div class="mw-heading mw-heading4"><h4 id="Дополнительная_информация">
<span id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></span>Дополнительная информация</h4></div>
<p>Этот раздел основывается на статье LWN <a rel="nofollow" class="external text" href="https://lwn.net/Articles/92727/">TCP window scaling and broken routers</a> и архивной статье Kernel Trap <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120426135627/http://kerneltrap.org:80/node/6723">Window Scaling on the Internet</a>.
</p>
<p>На странице LKML есть также несколько ссылок по теме.
</p>
<div class="mw-heading mw-heading3"><h3 id="Нет_подключения_к_локальной_сети_через_мост">
<span id=".D0.9D.D0.B5.D1.82_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BA_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.81.D0.B5.D1.82.D0.B8_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_.D0.BC.D0.BE.D1.81.D1.82"></span>Нет подключения к локальной сети через мост</h3></div>
<p>Первый компьютер подключён к двум локальным сетям. Второй — к одной локальной сети и первому компьютеру. Выполните следующие команды, чтобы дать второму компьютеру доступ к сети за мостовым интерфейсом (на первой машине):
</p>
<pre># sysctl net.bridge.bridge-nf-filter-pppoe-tagged=0
# sysctl net.bridge.bridge-nf-filter-vlan-tagged=0
# sysctl net.bridge.bridge-nf-call-ip6tables=0
# sysctl net.bridge.bridge-nf-call-iptables=0
# sysctl net.bridge.bridge-nf-call-arptables=0
</pre>
<div class="mw-heading mw-heading3"><h3 id="Разрешение_имени_localhost_выполняется_через_сеть">
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_localhost_.D0.B2.D1.8B.D0.BF.D0.BE.D0.BB.D0.BD.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_.D1.81.D0.B5.D1.82.D1.8C"></span>Разрешение имени localhost выполняется через сеть</h3></div>
<p>Модуль <span class="plainlinks archwiki-template-man" title="$ man 8 nss-myhostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nss-myhostname.8">nss-myhostname(8)</a></span> входящей в состав <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> службы <a href="../ru/Domain_name_resolution.html#Name_Service_Switch" title="Domain name resolution (Русский)">NSS</a> (включен по умолчанию в <code>/etc/nsswitch.conf</code>) позволяет выполнять разрешение имени локально без обращения к файлу <code>/etc/hosts</code>. Однако следует иметь в виду, что некоторые программы всё же полагаются на файл <code>/etc/hosts</code>. <a rel="nofollow" class="external autonumber" href="https://lists.debian.org/debian-devel/2013/07/msg00809.html">[4]</a>, <a rel="nofollow" class="external autonumber" href="https://bugzilla.mozilla.org/show_bug.cgi?id=87717#c55">[5]</a>
</p>
<p>Чтобы такие программы не пытались выполнить разрешение имени <code>localhost</code> через сеть (что небезопасно), добавьте следующие строки в файл <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1        localhost
::1              localhost
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Сообщайте о программах, затронутых этой проблемой, в <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/56684">FS#56684</a>. Это может помочь добиться добавления записей <code>localhost</code> в стандартный файл <code>/etc/hosts</code>.</div>
<p>Чтобы выполнять разрешение локального имени хоста, добавьте в файл <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span> и его тоже:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1        localhost
::1              localhost
127.0.1.1        <i>имя-хоста</i>
</pre>
<p>Если хост использует статический IP-адрес, то его следует указать вместо <code>127.0.1.1</code>.
Если у системы есть <a href="https://en.wikipedia.org/wiki/ru:FQDN" class="extiw" title="wikipedia:ru:FQDN">fully qualified domain name</a> (FQDN), вставьте его перед именем хоста (обоснование описано <a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution">здесь</a>). Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1        localhost
::1              localhost
203.0.113.45     host1.fqdomain.example host1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Порядок имён/псевдонимов после IP-адреса имеет значение. Сразу после IP-адреса следует «каноническое» имя хоста, к которому при необходимости может присоединиться название родительского домена, отделённое от имени точкой. Все последующие значения на той же строке считаются псевдонимами. Подробнее смотрите <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>.</div>
<p>В результате используются обе записи:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getent hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1       localhost
127.0.0.1       localhost
127.0.1.1       <i>имя-хоста</i>
</pre>
<div class="mw-heading mw-heading2"><h2 id="Смотрите_также">
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span>Смотрите также</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/LDP/nag2/index.html">Linux Network Administrators Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html">Debian Reference: Network setup</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/">RHEL7: Networking Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/">Monitoring and tuning the Linux Networking Stack: Receiving data</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2017/02/06/monitoring-tuning-linux-networking-stack-sending-data/">Monitoring and tuning the Linux Networking Stack: Sending data</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.yadutaf.fr/2017/07/28/tracing-a-packet-journey-using-linux-tracepoints-perf-ebpf/">Tracing a packet journey using tracepoints, perf and eBPF</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Network_configuration.html" title="Category:Network configuration (Русский)">Network configuration (Русский)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=843327">https://wiki.archlinux.org/index.php?title=Network_configuration_(Русский)&amp;oldid=843327</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 11 August 2025, at 06:21.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Network configuration (Русский)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
