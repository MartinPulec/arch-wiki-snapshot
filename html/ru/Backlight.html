<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Backlight (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Backlight_Русский rootpage-Backlight_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Аппаратные_интерфейсы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B5_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Аппаратные интерфейсы</span>
			</div>
		</a>
		
			<button aria-controls="toc-Аппаратные_интерфейсы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Аппаратные интерфейсы subsection</span>
			</button>
		
		<ul id="toc-Аппаратные_интерфейсы-sublist" class="vector-toc-list">
			<li id="toc-ACPI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ACPI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>ACPI</span>
				</div>
			</a>
			
			<ul id="toc-ACPI-sublist" class="vector-toc-list">
				<li id="toc-Параметры_ядра" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D1%8F%D0%B4%D1%80%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.1</span>
					<span>Параметры ядра</span>
				</div>
			</a>
			
			<ul id="toc-Параметры_ядра-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Правило_udev" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%BE_udev">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.2</span>
					<span>Правило udev</span>
				</div>
			</a>
			
			<ul id="toc-Правило_udev-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-setpci" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#setpci">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>setpci</span>
				</div>
			</a>
			
			<ul id="toc-setpci-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Внешние_мониторы" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D1%8B">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>Внешние мониторы</span>
				</div>
			</a>
			
			<ul id="toc-Внешние_мониторы-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Выключение_подсветки" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%B4%D1%81%D0%B2%D0%B5%D1%82%D0%BA%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Выключение подсветки</span>
			</div>
		</a>
		
		<ul id="toc-Выключение_подсветки-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Сохранение_и_восстановление" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Сохранение и восстановление</span>
			</div>
		</a>
		
		<ul id="toc-Сохранение_и_восстановление-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Утилиты_настройки" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Утилиты настройки</span>
			</div>
		</a>
		
			<button aria-controls="toc-Утилиты_настройки-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Утилиты настройки subsection</span>
			</button>
		
		<ul id="toc-Утилиты_настройки-sublist" class="vector-toc-list">
			<li id="toc-xbacklight" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xbacklight">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>xbacklight</span>
				</div>
			</a>
			
			<ul id="toc-xbacklight-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-light" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#light">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>light</span>
				</div>
			</a>
			
			<ul id="toc-light-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_DBus_с_GNOME" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_DBus_%D1%81_GNOME">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Использование DBus с GNOME</span>
				</div>
			</a>
			
			<ul id="toc-Использование_DBus_с_GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_DBus_с_KDE" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_DBus_%D1%81_KDE">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Использование DBus с KDE</span>
				</div>
			</a>
			
			<ul id="toc-Использование_DBus_с_KDE-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Цветовая_коррекция" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A6%D0%B2%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%8F_%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%86%D0%B8%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Цветовая коррекция</span>
			</div>
		</a>
		
			<button aria-controls="toc-Цветовая_коррекция-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Цветовая коррекция subsection</span>
			</button>
		
		<ul id="toc-Цветовая_коррекция-sublist" class="vector-toc-list">
			<li id="toc-Wayland" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wayland">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Wayland</span>
				</div>
			</a>
			
			<ul id="toc-Wayland-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg:_настройка_воспринимаемой_яркости_с_помощью_xrandr" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg:_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%B2%D0%BE%D1%81%D0%BF%D1%80%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%B5%D0%BC%D0%BE%D0%B9_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_xrandr">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Xorg: настройка воспринимаемой яркости с помощью xrandr</span>
				</div>
			</a>
			
			<ul id="toc-Xorg:_настройка_воспринимаемой_яркости_с_помощью_xrandr-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NVIDIA_settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NVIDIA_settings">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>NVIDIA settings</span>
				</div>
			</a>
			
			<ul id="toc-NVIDIA_settings-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Решение проблем</span>
			</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Частота_ШИМ-модуляции_подсветки_(только_для_Intel_i915)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A7%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0_%D0%A8%D0%98%D0%9C-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D0%B8_%D0%BF%D0%BE%D0%B4%D1%81%D0%B2%D0%B5%D1%82%D0%BA%D0%B8_(%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B4%D0%BB%D1%8F_Intel_i915)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Частота ШИМ-модуляции подсветки (только для Intel i915)</span>
				</div>
			</a>
			
			<ul id="toc-Частота_ШИМ-модуляции_подсветки_(только_для_Intel_i915)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Инвертированная_яркость_(только_для_Intel_i915)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D0%B2%D0%B5%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D1%8C_(%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B4%D0%BB%D1%8F_Intel_i915)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Инвертированная яркость (только для Intel i915)</span>
				</div>
			</a>
			
			<ul id="toc-Инвертированная_яркость_(только_для_Intel_i915)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Не_работает_управление_яркостью_панели_eDP_(только_для_Intel_i915)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D1%8C%D1%8E_%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D0%B8_eDP_(%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B4%D0%BB%D1%8F_Intel_i915)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Не работает управление яркостью панели eDP (только для Intel i915)</span>
				</div>
			</a>
			
			<ul id="toc-Не_работает_управление_яркостью_панели_eDP_(только_для_Intel_i915)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-sysfs_редактируется,_но_яркость_не_меняется" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#sysfs_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D1%83%D0%B5%D1%82%D1%81%D1%8F,_%D0%BD%D0%BE_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D1%8C_%D0%BD%D0%B5_%D0%BC%D0%B5%D0%BD%D1%8F%D0%B5%D1%82%D1%81%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>sysfs редактируется, но яркость не меняется</span>
				</div>
			</a>
			
			<ul id="toc-sysfs_редактируется,_но_яркость_не_меняется-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Не_работает_управление_подсветкой_в_MATE" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%B4%D1%81%D0%B2%D0%B5%D1%82%D0%BA%D0%BE%D0%B9_%D0%B2_MATE">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>Не работает управление подсветкой в MATE</span>
				</div>
			</a>
			
			<ul id="toc-Не_работает_управление_подсветкой_в_MATE-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Не_работают_клавиши_управления_подсветкой_в_Xfce" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%D1%82_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%BE%D0%B4%D1%81%D0%B2%D0%B5%D1%82%D0%BA%D0%BE%D0%B9_%D0%B2_Xfce">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Не работают клавиши управления подсветкой в Xfce</span>
				</div>
			</a>
			
			<ul id="toc-Не_работают_клавиши_управления_подсветкой_в_Xfce-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xbacklight_выдаёт:_No_outputs_have_backlight_property" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xbacklight_%D0%B2%D1%8B%D0%B4%D0%B0%D1%91%D1%82:_No_outputs_have_backlight_property">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.7</span>
					<span>xbacklight выдаёт: No outputs have backlight property</span>
				</div>
			</a>
			
			<ul id="toc-xbacklight_выдаёт:_No_outputs_have_backlight_property-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-На_драйвере_amdgpu_после_перезагрузки_подсветка_всегда_имеет_максимальную_яркость" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B5_amdgpu_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_%D0%BF%D0%BE%D0%B4%D1%81%D0%B2%D0%B5%D1%82%D0%BA%D0%B0_%D0%B2%D1%81%D0%B5%D0%B3%D0%B4%D0%B0_%D0%B8%D0%BC%D0%B5%D0%B5%D1%82_%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%83%D1%8E_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D1%8C">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8</span>
					<span>На драйвере amdgpu после перезагрузки подсветка всегда имеет максимальную яркость</span>
				</div>
			</a>
			
			<ul id="toc-На_драйвере_amdgpu_после_перезагрузки_подсветка_всегда_имеет_максимальную_яркость-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сохранение_яркости_&lt;5%_при_перезагрузке" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D0%B8_&lt;5%_%D0%BF%D1%80%D0%B8_%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9</span>
					<span>Сохранение яркости &lt;5% при перезагрузке</span>
				</div>
			</a>
			
			<ul id="toc-Сохранение_яркости_&lt;5%_при_перезагрузке-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Backlight (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Backlight.html" title="Backlight – English" lang="en" hreflang="en" data-title="Backlight" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%90%E3%83%83%E3%82%AF%E3%83%A9%E3%82%A4%E3%83%88" title="バックライト – 日本語" lang="ja" hreflang="ja" data-title="バックライト" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Backlight" title="Backlight – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Backlight" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Backlight.html" title="Backlight">Backlight</a>. Дата последней синхронизации: 4 февраля 2024. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Backlight&amp;diff=0&amp;oldid=799622">изменения</a>.</div>
<p>Контролировать яркость экрана может оказаться непросто. На некоторых компьютерах нет физического переключателя, а программные решения могут не работать как положено. Тем не менее, как правило, можно найти работающий способ для вашего оборудования. Цель этой статьи — обобщить все возможные способы регулировки подсветки.
</p>
<p>Существует много способов управлять яркостью монитора, экрана ноутбука или встроенной экранной панели (как в iMac). В соответствии с <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bug/397617">этими</a> <a rel="nofollow" class="external text" href="https://lore.kernel.org/patchwork/patch/528936/#708706">обсуждениями</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-10-12 ⓘ]</sup> и <a rel="nofollow" class="external text" href="https://wiki.ubuntu.com/Kernel/Debugging/Backlight">этой страницей на Ubuntu Wiki</a> можно разделить способы управления на следующие категории:
</p>
<ul>
<li>яркость управляется горячей клавишей, определённой производителем, и нет интерфейса для того, чтобы ОС могла настраивать яркость;</li>
<li>яркость можно контролировать через <a href="#ACPI">ACPI</a>, через графический драйвер или драйвер платформы. В этом случае управление подсветкой доступно пользователю через <code>/sys/class/backlight</code>, который может использоваться <a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">утилитами настройки</a>;</li>
<li>яркость можно контролировать посредством аппаратного регистра с помощью <a href="#setpci">setpci</a>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Поскольку OLED-экраны не имеют подсветки, менять яркость на ноутбуках с OLED-экранами путём изменения яркости подсветки не получится. В этом случае воспринимаемую яркость экрана можно регулировать с помощью ШИМ-управления (не реализовано в ядре Linux) или с помощью <a href="#%D0%A6%D0%B2%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%8F_%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%86%D0%B8%D1%8F">программной цветокоррекции</a>.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B"></span><span class="mw-headline" id="Аппаратные_интерфейсы">Аппаратные интерфейсы</span>
</h2>
<h3><span class="mw-headline" id="ACPI">ACPI</span></h3>
<p>Яркость подсветки экрана регулируется установкой уровня питания светодиодов или катодов. Зачастую уровень питания можно контролировать с помощью ACPI модуля ядра для видео. Интерфейс к этому модулю доступен через <span class="plainlinks archwiki-template-man" title="$ man 5 sysfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysfs.5">sysfs(5)</a></span> в <code>/sys/class/backlight/</code>.
</p>
<p>Имя каталога зависит от модели видеокарты.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls /sys/class/backlight/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">acpi_video0
</pre>
<p>В данном случае подсветкой управляет видеокарта ATI. В случае с картой Intel каталог будет называться <code>intel_backlight</code>. В следующих примерах используется <code>acpi_video0</code>. Если вы используете карту Intel, просто замените в примерах <code>acpi_video0</code> на <code>intel_backlight</code>.
</p>
<p>Каталог содержит следующие файлы и подкаталоги:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls /sys/class/backlight/acpi_video0/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">actual_brightness  brightness         max_brightness     subsystem/    uevent
bl_power           device/            power/             type
</pre>
<p>Максимальную яркость можно прочитать из файла <code>max_brightness</code>, и она обычно равна 15.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/class/backlight/acpi_video0/max_brightness</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">15
</pre>
<p>Яркость можно изменить путём записи числа в файл <code>brightness</code>. Установить яркость выше максимальной не получится.
</p>
<pre># echo 5 &gt; /sys/class/backlight/acpi_video0/brightness
</pre>
<p>По умолчанию только <code>root</code> может менять яркость таким способом. Чтобы управлять яркостью могли пользователи из группы <code>video</code>, можно использовать правило <a href="../ru/Udev.html" title="Udev (Русский)">udev</a> (для применения может понадобиться перезагрузка):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/backlight.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="backlight", RUN+="/bin/chgrp video $sys$devpath/brightness", RUN+="/bin/chmod g+w $sys$devpath/brightness"</pre>
<h4>
<span id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Параметры_ядра">Параметры ядра</span>
</h4>
<p>Иногда ACPI не работает должным образом из-за различных реализаций материнских плат и особенностей ACPI, что может приводить, например, к некорректным уведомлениям о яркости. Этому могут быть подвержены некоторые ноутбуки с двойной графикой (например, дискретная видеокарта NVIDIA/AMD вместе с интегрированной Intel/AMD). Кроме того, иногда для ACPI может быть необходимо зарегистрировать свою собственную подсветку <code>acpi_video0</code>, даже если уже существует другая (например, <code>intel_backlight</code>), что может быть достигнуто добавлением следующих <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметров ядра</a>:
</p>
<pre>acpi_backlight=video
acpi_backlight=vendor
acpi_backlight=native
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>На ноутбуках NVIDIA Optimus параметр ядра <code>nomodeset</code> может препятствовать регулировке подсветки.</li>
<li>На ноутбуках Asus вам может также понадобиться загрузить <a href="../ru/Kernel_module.html" class="mw-redirect" title="Модуль ядра">модуль ядра</a> <code>asus-nb-wmi</code>.</li>
<li>Отключение legacy-загрузки на Dell XPS13 приводит к невозможности изменить подсветку.</li>
<li>В Linux 6.1 подсистема подсветки была <a rel="nofollow" class="external text" href="https://hansdegoede.livejournal.com/26427.html">переработана</a>. Если после обновления подсветка не работает, сперва попробуйте удалить существующий параметр ядра <code>acpi_backlight</code>. На некоторых ноутбуках Optimus можно попробовать загрузиться с параметром <code>acpi_backlight=nvidia_wmi_ec</code>.</li>
</ul>
</div>
<h4>
<span id=".D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D0.BE_udev"></span><span class="mw-headline" id="Правило_udev">Правило udev</span>
</h4>
<p>Если доступен интерфейс ACPI, уровень подсветки может быть установлен во время загрузки с помощью правила <a href="../ru/Udev.html" title="Udev (Русский)">udev</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/81-backlight.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Установить уровень подсветки равным 8
SUBSYSTEM=="backlight", ACTION=="add", KERNEL=="acpi_video0", ATTR{brightness}="8"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Служба systemd-backlight восстанавливает предыдущий уровень яркости подсветки во время загрузки. Для предотвращения конфликта с этим правилом смотрите раздел <a href="#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">#Сохранение и восстановление</a>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Чтобы менять подсветку в зависимости от состояния питания, используйте нужную вам <a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">утилиту настройки</a> вместе с udev, как описано в разделе <a href="../ru/Power_management.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0_%D1%81_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%BE%D0%BC_udev" class="mw-redirect" title="Управление питанием">Управление питанием#Использование скрипта с правилом udev</a>.</div>
<h3><span class="mw-headline" id="setpci">setpci</span></h3>
<p>В некоторых случаях (например, Intel Mobile 945GME <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bug/397617">[1]</a>) можно задать регистр видеокарты для регулировки подсветки. Это означает регулировку подсветки путём непосредственного манипулирования оборудованием, что может быть рискованно и, как правило, не является хорошей идеей. Не все видеокарты поддерживают этот метод.
</p>
<p>При использовании этого метода сперва используйте <code>lspci</code>, чтобы узнать, где находится ваша видеокарта.
</p>
<pre># setpci -s 00:02.0 F4.B=0
</pre>
<h3>
<span id=".D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D1.8B"></span><span class="mw-headline" id="Внешние_мониторы">Внешние мониторы</span>
</h3>
<p><a href="https://en.wikipedia.org/wiki/ru:Display_Data_Channel#.D0.A1.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82_VESA_DDC.2FCI" class="extiw" title="wikipedia:ru:Display Data Channel">DDC/CI</a> (Display Data Channel Command Interface — командный интерфейс обмена данными между компьютером и монитором) может использоваться для связи с внешними мониторами, реализующими стандарт MCCS (Monitor Control Command Set) по шине I2C.
DDC может контролировать яркость, контрастность, входы и т.д. на поддерживаемых мониторах. Настройки, доступные с панели OSD (экранное меню), также могут управляться через DDC.
Может понадобиться загрузить <a href="../ru/Kernel_module.html" class="mw-redirect" title="Модуль ядра">модуль ядра</a> <code>i2c-dev</code>, если устройства <code>/dev/i2c-*</code> отсутствуют.
</p>
<p>Для получения или изменения яркости можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddcutil">ddcutil</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># ddcutil capabilities | grep "Feature: 10"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  Feature: 10 (Brightness)
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># ddcutil getvcp 10</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">VCP code 0x10 (Brightness                    ): current value =    60, max value =   100</pre>
<pre># ddcutil setvcp 10 70
</pre>
<p>Также можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ddcci-driver-linux-dkms/">ddcci-driver-linux-dkms</a></span><sup><small>AUR</small></sup> для добавления внешних мониторов в sysfs. После установки этого пакета и загрузки <a href="../ru/Kernel_module.html" title="Kernel module (Русский)">модуля ядра</a> <code>ddcci</code> можно будет использовать любую <a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">утилиту настройки</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Одновременное использование <code>ddcci</code> и <code>i2c-dev</code> может привести к конфликтам ресурсов и появлению ошибок вроде <code>Device or resource busy</code>.</li>
<li>Для проприетарного драйвера <a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA</a> может понадобиться добавить <code>Option "RegistryDwords" "RMUseSwI2c=0x01; RMI2cSpeed=100"</code> в секцию <code>Device</code> в <a href="../ru/NVIDIA.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_Xorg" title="NVIDIA (Русский)">настройках Xorg</a> или <a href="../ru/Kernel_module.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F" title="Kernel module (Русский)">параметр модуля ядра</a> <code>NVreg_RegistryDwords=RMUseSwI2c=0x01;RMI2cSpeed=100</code> для модуля <code>nvidia</code>. <a rel="nofollow" class="external autonumber" href="https://forums.developer.nvidia.com/t/gddccontrol-issues-with-nvidia-drivers-i2c-monitor-display-ddc-dp-hdmi-failing/30427/33">[2]</a> <a rel="nofollow" class="external autonumber" href="https://forums.developer.nvidia.com/t/gddccontrol-issues-with-nvidia-drivers-i2c-monitor-display-ddc-dp-hdmi-failing/30427/61">[3]</a>
</li>
<li>
<code>ddcutil</code> может не работать с некоторыми возможностями VCP, если на мониторе включена функция, которая уже автоматически их настраивает (например, <a href="https://en.wikipedia.org/wiki/Contrast_ratio#Dynamic_contrast_.28DC.29" class="extiw" title="wikipedia:Contrast ratio">Dynamic Contrast Ratio</a> или BenQ <i>Eye Care</i>).</li>
<li>Чтобы упростить настройку горячих клавиш для управления яркостью, может быть удобно предоставить доступ обычному пользователю к соответствующим устройствам I2C. Для этого создайте группу <code>i2c</code> и настройте <a href="../ru/Udev.html" title="Udev (Русский)">udev</a> на назначение этой группы устройствам I2C. <a rel="nofollow" class="external autonumber" href="https://raspberrypi.stackexchange.com/a/4472">[4]</a>
</li>
<li>Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddcutil">ddcutil</a></span> предоставляет файл <code>/usr/share/ddcutil/data/90-nvidia-i2c.conf</code>, который можно скопировать в <code>/etc/X11/xorg.conf.d/</code> вместо ручной настройки <a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg</a>. Также он предоставляет правила <a href="../ru/Udev.html" title="Udev (Русский)">udev</a> <code>/usr/share/ddcutil/data/60-ddcutil-i2c.rules</code> и <code>/usr/share/ddcutil/data/60-ddcutil-usb.rules</code>.</li>
</ul>
</div>
<h2>
<span id=".D0.92.D1.8B.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.B8"></span><span class="mw-headline" id="Выключение_подсветки">Выключение подсветки</span>
</h2>
<p>Выключение подсветки (например, при закрытии крышки ноутбука) может быть полезно для сохранения заряда батареи. Выполните следующую команду:
</p>
<pre>$ xset dpms force off
</pre>
<p>Подсветка должна включиться снова при движении мыши или вводе с клавиатуры. Также можно использовать <code>xset s</code>.
</p>
<p>Если предыдущая команда не работает, есть шанс, что <i>vbetool</i> заработает. Однако имейте в виду, что в этом случае снова активировать подсветку нужно вручную. Выполните:
</p>
<pre>$ vbetool dpms off
</pre>
<p>Чтобы снова включить подсветку:
</p>
<pre>$ vbetool dpms on
</pre>
<p>Например, это можно использовать при закрытии крышки ноутбука с помощью <a href="../ru/Acpid.html" title="Acpid (Русский)">acpid</a>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.B2.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Сохранение_и_восстановление">Сохранение и восстановление</span>
</h2>
<p>Пакет <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> предоставляет «static» службу <code>systemd-backlight@.service</code>, которая включена по умолчанию. Она сохраняет яркость подсветки во время выключения ПК и восстанавливает при включении. Эта служба использует метод ACPI, описанный в разделе <a href="#ACPI">#ACPI</a>, создавая службы для каждого каталога, найденного в <code>/sys/class/backlight/</code>. Например, если есть каталог <code>acpi_video0</code>, она создаст службу <code>systemd-backlight@backlight:acpi_video0.service</code>. Если вы используете другие методы установки яркости во время загрузки, рекомендуется отключить systemd-backlight путём добавления <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметра ядра</a> <code>systemd.restore_state=0</code>. Смотрите <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-backlight@.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-backlight%40.service.8">systemd-backlight@.service(8)</a></span> для более подробной информации.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Некоторые ноутбуки имеют несколько видеокарт (например, Optimus) и восстановление подсветки может не сработать. Попробуйте <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">замаскировать</a> отдельный экземпляр этой службы, например <code>systemd-backlight@backlight:acpi_video1</code> в случае <code>acpi_video1</code>.</div>
<p>Кроме того, утилиты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/brillo/">brillo</a></span><sup><small>AUR</small></sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/light/">light</a></span><sup><small>AUR</small></sup> поддерживают функцию сохранения и восстановления. Эти две утилиты могут быть более полезны, если вы хотите сохранять яркость для отдельных пользователей, однако для этого не предусмотрено никаких юнитов systemd.
</p>
<h2>
<span id=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8"></span><span class="mw-headline" id="Утилиты_настройки">Утилиты настройки</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Приведённые в таблице утилиты можно использовать для управления яркостью экрана. Все они совместимы с Wayland и не требуют X. Некоторые (например, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=brightnessctl">brightnessctl</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/light/">light</a></span><sup><small>AUR</small></sup>) добавляют правила udev, разрешающие пользователям из группы <code>video</code> (или <code>input</code>) изменять яркость.</div>
<table class="wikitable sortable">
<tbody>
<tr>
<th>Пакет
</th>
<th>Управление подсветкой клавиатуры
</th>
<th>Реагирование на освещённость
</th>
<th>Язык
</th>
<th>Лицензия
</th>
<th>Примечания
</th>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpilight">acpilight</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>Python3
</td>
<td>GPL 3.0 или новее
</td>
<td>Предоставляет исполняемый файл «xbacklight»
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/backlight_control/">backlight_control</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>MIT
</td>
<td>Очень маленькая и простая программа. Поддерживает относительную регулировку.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/blight/">blight</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>Python3
</td>
<td>ISC
</td>
<td>Использует интерфейс logind. Работает только с локальными пользователями, но не требует suid или группы video.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/brightd/">brightd</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>GPL 2.0
</td>
<td>Затемняет экран при неактивности.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=brightnessctl">brightnessctl</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>MIT
</td>
<td>-
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/brillo/">brillo</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>GPL 3.0
</td>
<td>Поддерживает плавную и относительную регулировку.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/clight/">clight</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>C
</td>
<td>GPL 3.0 или новее
</td>
<td>Управляет температурой экрана (только <a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg</a>) и плавно снижает яркость по истечении времени. Поддержка датчиков освещённости <a rel="nofollow" class="external autonumber" href="https://github.com/FedeDP/Clightd/wiki/Sensors">[5]</a>. Позволяет превратить веб-камеру в датчик освещённости.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/enlighten-git/">enlighten-git</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>GPL 3.0 или новее
</td>
<td>-
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/illum-git/">illum-git</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>AGPL 3.0
</td>
<td>Реагирует на нажатие клавиш.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/light/">light</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>GPL 3.0
</td>
<td>Нет зависимостей. Не зависит от X-сервера.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lux/">lux</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>Shell
</td>
<td>MIT
</td>
<td>-
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/macbook-lighter/">macbook-lighter</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>Bash
</td>
<td>GPL
</td>
<td>Консольный интерфейс управления подсветкой экрана/клавиатуры Macbook и автоматическая регулировка в зависимости от освещённости.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wlr-brightness-git/">wlr-brightness-git</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>MIT
</td>
<td>Также поддерживает новые OLED-дисплеи, которым требуется настройка гаммы. Использует wlroots.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wluma/">wluma</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Да
</td>
<td>Rust
</td>
<td>ISC
</td>
<td>Автоматическая регулировка яркости в зависимости от содержимого экрана и освещённости. Можно использовать веб-камеру или время для имитации датчика освещённости. Поддержка клавиатур и внешних мониторов. Использует wlroots.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ybacklight/">ybacklight</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>Perl
</td>
<td>GPL 2.0
</td>
<td>Небольшой Perl-скрипт, похожий на xbacklight, но использующий драйверы sysfs.
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xbacklight-notify/">xbacklight-notify</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>MIT
</td>
<td>Простой демон уведомлений для X11 (считывает RandR-свойство backlight)
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/acpi-backlight-notify/">acpi-backlight-notify</a></span><sup><small>AUR</small></sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Нет
</td>
<td>C
</td>
<td>MIT
</td>
<td>Простой демон уведомлений для интерфейса ACPI (считывает <code>/sys/class/backlight/</code>)
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Команды для запуска этих утилит можно привязать к клавишам <code>XF86MonBrightnessUp</code> и <code>XF86MonBrightnessDown</code>, как описано в разделе <a href="../ru/Keyboard_shortcuts.html#Xorg" class="mw-redirect" title="Горячие клавиши">Горячие клавиши#Xorg</a>.</div>
<h3><span class="mw-headline" id="xbacklight">xbacklight</span></h3>
<p>Яркость может быть установлена с помощью пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>xbacklight работает только с <a href="../ru/Intel_graphics.html" title="Intel graphics (Русский)">Intel</a>. Другие драйверы не поддерживают RandR-свойство backlight.</li>
<li>xbacklight в настоящий момент не работает с драйвером modesetting <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/xorg/xserver/issues/47">[6]</a>.</li>
</ul>
</div>
<p>Чтобы установить яркость в 50% от максимальной:
</p>
<pre>$ xbacklight -set 50
</pre>
<p>Приращения могут использоваться вместо абсолютных значений, например, для увеличения или уменьшения яркости на 10%:
</p>
<pre>$ xbacklight -inc 10
$ xbacklight -dec 10
</pre>
<p>Если вы получаете ошибку «No outputs have backlight property», это потому, что xrandr/xbacklight не выбирает правильный каталог в <code>/sys/class/backlight</code>. Вы можете указать каталог, задав опцию <code>Backlight</code> в разделе <code>Device</code> в файле <code>/etc/X11/xorg.conf.d/20-<i>video</i>.conf</code>. Например, если имя каталога <code>intel_backlight</code> и используется драйвер <a href="../ru/Intel_graphics.html" title="Intel graphics (Русский)">Intel</a>, раздел <code>Device</code> может выглядеть так:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-intel.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
    Identifier  "Intel Graphics"
    Driver      "intel"
    Option      "Backlight"  "intel_backlight"
EndSection</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Использование этого в связке со встроенной и дискретной видеокартами может привести к непредсказуемым задержкам обновления экрана и/или мерцанию интерфейса в приложениях, которые работают на дискретной видеокарте. Используйте это только в том случае, если всё остальное не помогает.</div>
<p>Смотрите <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/27677">FS#27677</a> и <a rel="nofollow" class="external free" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=651741">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=651741</a> для подробностей.
</p>
<p>Если у вас включена функция <a href="../ru/Intel_graphics.html#Fastboot" title="Intel graphics (Русский)">Intel Fastboot</a>, может возникнуть ошибка <code>No outputs have backlight property</code>. В этом случае попытка применить описанный выше метод может привести к сбою Xorg при запуске. Чтобы решить проблему, Fastboot следует отключить. <a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=108225">Известно</a>, что он вызывает проблемы с управлением яркостью.
</p>
<h3><span class="mw-headline" id="light">light</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> С марта 2023 года проект <a rel="nofollow" class="external text" href="https://github.com/perkele1989/light">не поддерживается</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-03-03 ⓘ]</sup>.</div>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/light/">light</a></span><sup><small>AUR</small></sup> и добавьте своего пользователя в <a href="../ru/Users_and_groups.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B0%D0%BC%D0%B8" title="Users and groups (Русский)">группу</a> <code>video</code>.
</p>
<p>Увеличение яркости на 5 процентов:
</p>
<pre>$ light -A 5
</pre>
<p>Уменьшение яркости на 5 процентов:
</p>
<pre>$ light -U 5
</pre>
<p>Установка яркости на 100 процентов:
</p>
<pre>$ light -S 100
</pre>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_DBus_.D1.81_GNOME"></span><span class="mw-headline" id="Использование_DBus_с_GNOME">Использование DBus с GNOME</span>
</h3>
<p>Яркость также можно регулировать с помощью настроек gnome. При использовании этого метода изменения отражаются в интерфейсе gnome.
</p>
<pre>$ gdbus call --session --dest org.gnome.SettingsDaemon.Power --object-path /org/gnome/SettingsDaemon/Power --method org.freedesktop.DBus.Properties.Set org.gnome.SettingsDaemon.Power.Screen Brightness "&lt;int32 50&gt;"
</pre>
<p>Пошаговое изменение яркости (для контроля с клавиатуры) также может быть реализовано этим методом.
</p>
<pre>$ gdbus call --session --dest org.gnome.SettingsDaemon.Power --object-path /org/gnome/SettingsDaemon/Power --method org.gnome.SettingsDaemon.Power.Screen.StepUp
$ gdbus call --session --dest org.gnome.SettingsDaemon.Power --object-path /org/gnome/SettingsDaemon/Power --method org.gnome.SettingsDaemon.Power.Screen.StepDown
</pre>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_DBus_.D1.81_KDE"></span><span class="mw-headline" id="Использование_DBus_с_KDE">Использование DBus с KDE</span>
</h3>
<p>Смотрите <a rel="nofollow" class="external free" href="https://userbase.kde.org/KDE_Connect/Tutorials/Useful_commands#Brightness_settings">https://userbase.kde.org/KDE_Connect/Tutorials/Useful_commands#Brightness_settings</a>.
</p>
<h2>
<span id=".D0.A6.D0.B2.D0.B5.D1.82.D0.BE.D0.B2.D0.B0.D1.8F_.D0.BA.D0.BE.D1.80.D1.80.D0.B5.D0.BA.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Цветовая_коррекция">Цветовая коррекция</span>
</h2>
<p>Цветокоррекция не меняет яркость подсветки, а просто меняет <a href="https://en.wikipedia.org/wiki/Lookup_table#Lookup_tables_in_image_processing" class="extiw" title="wikipedia:Lookup table">LUT</a>, то есть не влияет на время работы от батареи. Тем не менее, она может быть полезна, когда управление подсветкой недоступно (на настольных ПК или ноутбуках с OLED-экранами).
</p>
<ul><li>
<b>Clight</b> — Пользовательская утилита-демон, предназначенная для полного управления вашим дисплеем. Она может управлять температурой изображения в зависимости от текущего времени суток подобно redshift. Она пытается использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=geoclue">geoclue</a></span> для получения местоположения пользователя, если в файле настроек не заданы широта и долгота. Она также поддерживает фиксированное время восхода и захода солнца.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/FedeDP/Clight">https://github.com/FedeDP/Clight</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/clight/">clight</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>icc-brightness</b> — Управление яркостью OLED-дисплеев путём применения цветовых профилей ICC.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/udifuchs/icc-brightness">https://github.com/udifuchs/icc-brightness</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/icc-brightness-gnome-git/">icc-brightness-gnome-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Monica</b> — Инструмент для калибровки монитора. Работает как фронтенд к xgamma для изменения гамма-коррекции.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://web.archive.org/web/20090815224839/http://www.pcbypaul.com/software/monica.html">https://web.archive.org/web/20090815224839/http://www.pcbypaul.com/software/monica.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/monica/">monica</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Redshift.html" class="mw-redirect" title="Redshift (Русский)">Redshift</a></b> — Инструмент для настройки цветовой температуры. Регулирует цветовую температуру изображения в зависимости от окружения. Это может снизить нагрузку на глаза, если вы работаете по ночам. Вдохновлён программой <a href="https://en.wikipedia.org/wiki/ru:f.lux" class="extiw" title="wikipedia:ru:f.lux">f.lux</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://jonls.dk/redshift/">http://jonls.dk/redshift/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=redshift">redshift</a></span>
</dd></dl>
<ul><li>
<b>xcalib</b> — Лёгкий загрузчик параметров калибровки монитора. Может загружать ICC-профиль монитора для совместного использования в настольных приложениях.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/OpenICC/xcalib">https://github.com/OpenICC/xcalib</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xcalib">xcalib</a></span>
</dd></dl>
<ul><li>
<b>xgamma</b> — Настройка гамма-коррекции монитора.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://xorg.freedesktop.org/">https://xorg.freedesktop.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xgamma">xorg-xgamma</a></span>
</dd></dl>
<h3><span class="mw-headline" id="Wayland">Wayland</span></h3>
<p><a href="../en/Redshift.html" class="mw-redirect" title="Redshift (Русский)">Redshift</a> не поддерживает Wayland (но есть форк <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/redshift-wayland-git/">redshift-wayland-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>). Можно применить нужную температуру в <a href="../ru/Getty.html" title="Getty (Русский)">tty</a> перед запуском композитора. Например:
</p>
<pre>$ redshift -m drm -PO 3000
</pre>
<p>Некоторые композиторы позволяют применять цветокоррекцию во время работы:
</p>
<ul>
<li>Для <a href="../ru/GNOME.html" title="GNOME (Русский)">GNOME</a> можно использовать встроенный <a href="../ru/GNOME.html#Night_Light" title="GNOME (Русский)">ночной свет</a>.</li>
<li>Для <a href="../ru/KDE.html" title="KDE (Русский)">KDE</a> можно использовать встроенную <a href="../ru/KDE.html#%D0%9D%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D1%86%D0%B2%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D1%85%D0%B5%D0%BC%D0%B0" title="KDE (Русский)">ночную цветовую схему</a>.</li>
<li>Для Sway и других композиторов на основе wlroots, а также для Orbital можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gammastep">gammastep</a></span> (форк Redshift), <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/clight/">clight</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wlsunset-git/">wlsunset-git</a></span><sup><small>AUR</small></sup> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wl-gammarelay/">wl-gammarelay</a></span><sup><small>AUR</small></sup>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Ни в GNOME, ни в KDE не работает ночной режим в Wayland на видеокартах <a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA</a> из-за того, что драйвер не поддерживает некоторые функции LUT. Смотрите <a rel="nofollow" class="external text" href="https://github.com/NVIDIA/open-gpu-kernel-modules/issues/162">issue 162</a> на GitHub и <a rel="nofollow" class="external text" href="https://pointieststick.com/2023/05/26/this-week-in-kde-night-color-on-wayland-with-nvidia/">эту новость</a> о попытках разработчиков KDE заставить это работать.</div>
<h3>
<span id="Xorg:_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B2.D0.BE.D1.81.D0.BF.D1.80.D0.B8.D0.BD.D0.B8.D0.BC.D0.B0.D0.B5.D0.BC.D0.BE.D0.B9_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D0.B8_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_xrandr"></span><span class="mw-headline" id="Xorg:_настройка_воспринимаемой_яркости_с_помощью_xrandr">Xorg: настройка воспринимаемой яркости с помощью xrandr</span>
</h3>
<p>Можно использовать <a href="../en/Xrandr.html" class="mw-redirect" title="Xrandr (Русский)">xrandr</a> для изменения воспринимаемой яркости.
</p>
<p>Для установки воспринимаемой яркости выше максимального уровня (действуют вышеупомянутые предостережения для NVIDIA):
</p>
<pre>$ xrandr --output <i>название_вывода</i> --brightness 2
</pre>
<p>Это должно примерно вдвое увеличить яркость изображения. Это приведёт к снижению качества цвета в пользу яркости, тем не менее оно особенно подходит для ситуаций, когда окружающий свет очень яркий (например, солнечный свет).
</p>
<p>Это также можно использовать для уменьшения воспринимаемой яркости в тёмной комнате, указав значение меньше 1 (например, 0.5). Это полезно, когда нет возможности регулировать подсветку (например, на настольном компьютере).
</p>
<p>Определить <i>название вывода</i> подключенного устройства можно такой командой:
</p>
<pre>$ xrandr | grep -w connected | cut -f '1' -d ' '
</pre>
<p>Для удобства можно сделать <a href="../ru/Bash.html#%D0%9F%D1%81%D0%B5%D0%B2%D0%B4%D0%BE%D0%BD%D0%B8%D0%BC%D1%8B" title="Bash (Русский)">псевдоним</a>:
</p>
<pre>$ alias b='echo -e "Введите яркость:\n"; read val; xrandr --output <i>название_вывода</i> --brightness "${val}"'
</pre>
<p>Чтобы автоматически запускать xrandr при изменении файла, содержащего информацию о яркости подсветки, можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oled_shmoled/">oled_shmoled</a></span><sup><small>AUR</small></sup>:
</p>
<pre>$ oled_shmoled <i>название_вывода</i>
</pre>
<h3><span class="mw-headline" id="NVIDIA_settings">NVIDIA settings</span></h3>
<p>Пользователи проприетарных драйверов <a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA</a> могут менять яркость дисплея с помощью утилиты <a href="../ru/NVIDIA.html#nvidia-settings" title="NVIDIA (Русский)">nvidia-settings</a> в разделе «X Server Color Correction». Однако имейте в виду, что это не имеет ничего общего с подсветкой (Интенсивность), она всего лишь регулирует цветность. (Уменьшение яркости таким образом не является энергоэффективным. Используйте его в последнюю очередь, если все другие варианты не срабатывают; увеличение яркости портит цвета на экране полностью, по аналогии с засвеченностью фотографий.)
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id=".D0.A7.D0.B0.D1.81.D1.82.D0.BE.D1.82.D0.B0_.D0.A8.D0.98.D0.9C-.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.B8_.28.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B4.D0.BB.D1.8F_Intel_i915.29"></span><span class="mw-headline" id="Частота_ШИМ-модуляции_подсветки_(только_для_Intel_i915)">Частота ШИМ-модуляции подсветки (только для Intel i915)</span>
</h3>
<p>Известно, что на ноутбуках со светодиодной подсветкой иногда мерцает экран. Это объясняется тем, что наиболее эффективным способом управления яркостью подсветки светодиодов является быстрое включение и выключение светодиодов, изменяя время их свечения.
</p>
<p>Однако частота переключения, так называемая частота ШИМ (широтно-импульсная модуляция) может быть недостаточно высокой, чтобы глаз воспринимал её как непрерывное свечение, и вместо этого видно мерцание. Это вызывает у некоторых людей такие симптомы, как головные боли и усталость глаз.
</p>
<p>Если у вас графический адаптер Intel i915, то возможно настроить частоту ШИМ, чтобы устранить мерцание.
</p>
<p>Период ШИМ (обратно пропорциональный частоте) записывается в 2 старших байта регистра <code>0xC8254</code> (если вы используете чипсет Intel GM45, вместо этого используйте адрес <code>0x61254</code>). Чтобы манипулировать значениями регистров, <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-gpu-tools">intel-gpu-tools</a></span>.
</p>
<p>Чтобы увеличить частоту, период должен быть уменьшен. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># intel_reg read 0xC8254</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">0xC8254 : 0x12281228</pre>
<p>Затем, чтобы удвоить частоту ШИМ, разделите 2 старших байта (4 шестнадцатеричные цифры) на 2 и запишите полученное значение, сохраняя нижние байты неизменными:
</p>
<pre># intel_reg write 0xC8254 0x09141228
</pre>
<p>Вы можете использовать онлайн-калькулятор для расчета желаемого значения
<a rel="nofollow" class="external free" href="https://devbraindom.blogspot.com/2013/03/eliminate-led-screen-flicker-with-intel.html">https://devbraindom.blogspot.com/2013/03/eliminate-led-screen-flicker-with-intel.html</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2025-03-15 ⓘ]</sup>
</p>
<p>Чтобы установить новую частоту автоматически, попробуйте написать правило udev или установить <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/intelpwm-udev/">intelpwm-udev</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id=".D0.98.D0.BD.D0.B2.D0.B5.D1.80.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.B0.D1.8F_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D1.8C_.28.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B4.D0.BB.D1.8F_Intel_i915.29"></span><span class="mw-headline" id="Инвертированная_яркость_(только_для_Intel_i915)">Инвертированная яркость (только для Intel i915)</span>
</h3>
<p>Симптомы:
</p>
<ul>
<li>после установки <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> systemd-backlight.service выключает подсветку во время загрузки
<ul><li>возможное решение: маскировать systemd-backlight.service</li></ul>
</li>
<li>переключение с X на другую виртуальную консоль выключает подсветку</li>
<li>кнопки регулировки подсветки инвертированы (то есть увеличение яркости делает экран темнее)</li>
</ul>
<p>Эта проблема может быть решена добавлением <code>i915.invert_brightness=1</code> в список <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметров ядра</a>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D1.8C.D1.8E_.D0.BF.D0.B0.D0.BD.D0.B5.D0.BB.D0.B8_eDP_.28.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B4.D0.BB.D1.8F_Intel_i915.29"></span><span class="mw-headline" id="Не_работает_управление_яркостью_панели_eDP_(только_для_Intel_i915)">Не работает управление яркостью панели eDP (только для Intel i915)</span>
</h3>
<p>Embedded Display Port (eDP) v1.2 добавил новый протокол управления панелью дисплея для подсветки и других элементов управления, который работает через канал AUX <a rel="nofollow" class="external autonumber" href="https://www.vesa.org/wp-content/uploads/2010/12/DisplayPort-DevCon-Presentation-eDP-Dec-2010-v3.pdf">[7]</a>
</p>
<p>По умолчанию драйвер i915 пытается использовать ШИМ для управления яркостью подсветки, что может не сработать.
</p>
<p>Чтобы менять подсветку путём записи в регистры DPCD по каналу AUX, пропишите <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>i915.enable_dpcd_backlight=1</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> 5.4 параметр изменился с bool на int.</div>
<h3>
<span id="sysfs_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D1.83.D0.B5.D1.82.D1.81.D1.8F.2C_.D0.BD.D0.BE_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D1.8C_.D0.BD.D0.B5_.D0.BC.D0.B5.D0.BD.D1.8F.D0.B5.D1.82.D1.81.D1.8F"></span><span class="mw-headline" id="sysfs_редактируется,_но_яркость_не_меняется">sysfs редактируется, но яркость не меняется</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Такое поведение и способы его обхода были подтверждены на Dell M6700 с Nvidia K5000m (версия BIOS до A10) и Clevo P750ZM (Eurocom P5 Pro Extreme) с Nvidia 980m.</div>
<p>На некоторых системах клавиши изменения яркости корректно меняют значения интерфейса acpi в <code>/sys/class/backlight/acpi_video0/actual_brightness</code>, но яркость экрана не изменяется. Апплеты яркости в <a href="../ru/Desktop_environment.html" title="Desktop environment (Русский)">средах рабочего стола</a> тоже могут показывать изменения без реального влияния на яркость.
</p>
<p>Если вы протестировали рекомендуемые параметры ядра и только <code>xbacklight</code> работает, то, возможно, вы столкнулись с несовместимостью между вашим BIOS и драйвером ядра.
</p>
<p>В этом случае единственное решение — дождаться исправления от производителя BIOS или драйвера видеокарты.
</p>
<p>Обходной путь — использовать inotify для запуска <code>xbacklight</code> после каждого изменения значения <code>/sys/class/backlight/acpi_video0/actual_brightness</code>.
</p>
<p>Сперва <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inotify-tools">inotify-tools</a></span>. Затем создайте скрипт, который будет запускаться при каждом включении с помощью <a href="../ru/Autostarting.html" title="Autostarting (Русский)">автозагрузки</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/xbacklightmon</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

path=/sys/class/backlight/acpi_video0

luminance() {
    read -r level &lt; "$path"/actual_brightness
    factor=$(printf "$max" | awk '{print 100/$1}')
    printf "$level $factor" | awk '{print int($1*$2)}'
}

read -r max &lt; "$path"/max_brightness

xbacklight -set "$(luminance)"

inotifywait -me modify --format '' "$path"/actual_brightness | while read; do
    xbacklight -set "$(luminance)"
done
</pre>
<h3>
<span id=".D0.9D.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.BE.D0.B9_.D0.B2_MATE"></span><span class="mw-headline" id="Не_работает_управление_подсветкой_в_MATE">Не работает управление подсветкой в MATE</span>
</h3>
<p>Убедитесь, что <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установлен">установлен</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mate-power-manager">mate-power-manager</a></span>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D1.8E.D1.82_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88.D0.B8_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.BE.D0.B9_.D0.B2_Xfce"></span><span class="mw-headline" id="Не_работают_клавиши_управления_подсветкой_в_Xfce">Не работают клавиши управления подсветкой в Xfce</span>
</h3>
<p>В Xfce4 за обработку клавиш управления подсветкой отвечает <a rel="nofollow" class="external text" href="https://docs.xfce.org/xfce/xfce4-power-manager/start">Менеджер питания</a>.
</p>
<p>Иногда параметр «Обрабатывать кнопки яркости экрана» может оказаться отключен по умолчанию.
</p>
<p>Чтобы включить их обработку, откройте <a rel="nofollow" class="external text" href="https://docs.xfce.org/xfce/xfce4-power-manager/preferences">настройки менеджера питания</a> и включите соответствующий параметр:
</p>
<pre>$ xfce4-power-manager -c
</pre>
<h3>
<span id="xbacklight_.D0.B2.D1.8B.D0.B4.D0.B0.D1.91.D1.82:_No_outputs_have_backlight_property"></span><span class="mw-headline" id="xbacklight_выдаёт:_No_outputs_have_backlight_property">xbacklight выдаёт: No outputs have backlight property</span>
</h3>
<p>Иногда, в зависимости от установленной видеокарты, xbacklight из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span> может выдать сообщение «No outputs have backlight property». Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpilight">acpilight</a></span> предоставляет альтернативную реализацию xbacklight, которая может оказаться рабочей.
</p>
<h3>
<span id=".D0.9D.D0.B0_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B5_amdgpu_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8_.D0.BF.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.B0_.D0.B2.D1.81.D0.B5.D0.B3.D0.B4.D0.B0_.D0.B8.D0.BC.D0.B5.D0.B5.D1.82_.D0.BC.D0.B0.D0.BA.D1.81.D0.B8.D0.BC.D0.B0.D0.BB.D1.8C.D0.BD.D1.83.D1.8E_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D1.8C"></span><span class="mw-headline" id="На_драйвере_amdgpu_после_перезагрузки_подсветка_всегда_имеет_максимальную_яркость">На драйвере amdgpu после перезагрузки подсветка всегда имеет максимальную яркость</span>
</h3>
<p>Из-за <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=203905">бага</a> в драйвере amdgpu значение <code>actual_brightness</code> подсветки сообщается как 16-битное целое число, которое находится за пределами 8-битного диапазона, указанного в <code>max_brightness</code>. Это приводит к тому, что служба <code>systemd-backlight</code> при загрузке пытается установить слишком большое значение, которое в итоге уменьшается до максимальной яркости (255).
</p>
<p>Пока баг не исправлен, одним из возможных обходных путей является преобразование сохранённой яркости в пределы правильного диапазона перед её установкой. Это можно сделать с помощью скрипта и юнита службы:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">fix-brightness.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

# Адаптируйте эту строку под ваше оборудование
BRIGHTNESS_FILE="/var/lib/systemd/backlight/pci-0000:04:00.0:backlight:amdgpu_bl0"
BRIGHTNESS=$(cat "$BRIGHTNESS_FILE")
BRIGHTNESS=$(($BRIGHTNESS*255/65535))
BRIGHTNESS=${BRIGHTNESS/.*} # преобразование в целое число на всякий случай
echo $BRIGHTNESS &gt; "$BRIGHTNESS_FILE"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">fix-brightness.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Convert 16-bit brightness values to 8-bit before systemd-backlight applies it
Before=systemd-backlight@backlight:amdgpu_bl0.service

[Service]
Type=oneshot
ExecStart=<i>путь/к/fix-brightness.sh</i>

[Install]
WantedBy=multi-user.target</pre>
<p>На некоторых системах уровень подсветки, о котором сообщает драйвер, находится в правильном диапазоне [0, 255], но systemd всё равно не может восстановить правильное значение. Вероятно, это связано с <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1337">гонкой в ядре</a>. В этом случае преобразование уровня яркости не поможет, так как он уже находится в правильном диапазоне. Вместо этого в качестве обходного пути можно сохранить уровень яркости в systemd перед выключением. Этого можно добиться с помощью следующего скрипта и юнита службы:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">fix-brightness.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Уровень подсветки с точки зрения systemd (измените при необходимости)
readonly SYSTEMD_BACKLIGHT_FILE='/var/lib/systemd/backlight/pci-0000:04:00.0:backlight:amdgpu_bl0'

# Уровень подсветки из драйвера AMDGPU
readonly AMDGPU_BACKLIGHT_FILE='/sys/class/backlight/amdgpu_bl0/brightness'

# Читаем текущее значение из драйвера и применяем его в systemd
readonly AMDGPU_BACKLIGHT_VALUE=$(cat "$AMDGPU_BACKLIGHT_FILE")
echo "$AMDGPU_BACKLIGHT_VALUE" &gt; "$SYSTEMD_BACKLIGHT_FILE"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">fix-brightness.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Save brightness value from AMDGPU
DefaultDependencies=no
After=final.target

[Service]
Type=oneshot
ExecStart=<i>путь/к/fix-brightness.sh</i>

[Install]
WantedBy=final.target</pre>
<h3>
<span id=".D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8F.D1.80.D0.BA.D0.BE.D1.81.D1.82.D0.B8_.3C5.25_.D0.BF.D1.80.D0.B8_.D0.BF.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5"></span><span class="mw-headline" id="Сохранение_яркости_&lt;5%_при_перезагрузке">Сохранение яркости &lt;5% при перезагрузке</span>
</h3>
<p>Согласно <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-backlight@.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-backlight%40.service.8">systemd-backlight@.service(8)</a></span>, если свойство udev <code>ID_BACKLIGHT_CLAMP</code> не установлено в false, минимальное допустимое значение сохраняемой яркости — 1 или 5% от максимальной яркости, в зависимости от того, что больше. Это ограничение будет снято, когда ядро позволит надёжно устанавливать в пользовательском пространстве значение яркости, не приводящее к выключению дисплея.
</p>
<p>Чтобы яркость &lt;5% сохранялась при перезагрузке, создайте правило <a href="../ru/Udev.html" title="Udev (Русский)">udev</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-backlight_clamp.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Разрешить сохранять яркость &lt;5% при перезагрузке
SUBSYSTEM=="backlight", ENV{ID_BACKLIGHT_CLAMP}="0"</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Display_control.html" title="Category:Display control (Русский)">Display control (Русский)</a></li>
<li><a href="../ru/Category:Laptops.html" title="Category:Laptops (Русский)">Laptops (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Backlight_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=829058">https://wiki.archlinux.org/index.php?title=Backlight_(Русский)&amp;oldid=829058</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 March 2025, at 22:06.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
