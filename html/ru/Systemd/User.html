<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd (Русский)/User (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_Русский_User_Русский rootpage-Systemd_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Как_это_работает" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9A%D0%B0%D0%BA_%D1%8D%D1%82%D0%BE_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Как это работает</span>
			</div>
		</a>
		
		<ul id="toc-Как_это_работает-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Основные_настройки" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Основные настройки</span>
			</div>
		</a>
		
			<button aria-controls="toc-Основные_настройки-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Основные настройки subsection</span>
			</button>
		
		<ul id="toc-Основные_настройки-sublist" class="vector-toc-list">
			<li id="toc-Переменные_окружения" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Переменные окружения</span>
				</div>
			</a>
			
			<ul id="toc-Переменные_окружения-sublist" class="vector-toc-list">
				<li id="toc-Пример_службы" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80_%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D1%8B">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Пример службы</span>
				</div>
			</a>
			
			<ul id="toc-Пример_службы-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DISPLAY_и_XAUTHORITY" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#DISPLAY_%D0%B8_XAUTHORITY">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>DISPLAY и XAUTHORITY</span>
				</div>
			</a>
			
			<ul id="toc-DISPLAY_и_XAUTHORITY-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PATH" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#PATH">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.3</span>
					<span>PATH</span>
				</div>
			</a>
			
			<ul id="toc-PATH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-pam_env" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#pam_env">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.4</span>
					<span>pam_env</span>
				</div>
			</a>
			
			<ul id="toc-pam_env-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Автоматический_запуск_systemd_от_имени_пользователя" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_systemd_%D0%BE%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Автоматический запуск systemd от имени пользователя</span>
				</div>
			</a>
			
			<ul id="toc-Автоматический_запуск_systemd_от_имени_пользователя-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Написание_пользовательских_юнитов" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D1%85_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Написание пользовательских юнитов</span>
			</div>
		</a>
		
			<button aria-controls="toc-Написание_пользовательских_юнитов-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Написание пользовательских юнитов subsection</span>
			</button>
		
		<ul id="toc-Написание_пользовательских_юнитов-sublist" class="vector-toc-list">
			<li id="toc-Пример" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Пример</span>
				</div>
			</a>
			
			<ul id="toc-Пример-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Пример_с_переменными" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80_%D1%81_%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Пример с переменными</span>
				</div>
			</a>
			
			<ul id="toc-Пример_с_переменными-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Чтение_журнала" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A7%D1%82%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Чтение журнала</span>
				</div>
			</a>
			
			<ul id="toc-Чтение_журнала-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Временные_файлы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Временные файлы</span>
			</div>
		</a>
		
		<ul id="toc-Временные_файлы-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Xorg_и_systemd" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Xorg_%D0%B8_systemd">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Xorg и systemd</span>
			</div>
		</a>
		
			<button aria-controls="toc-Xorg_и_systemd-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Xorg и systemd subsection</span>
			</button>
		
		<ul id="toc-Xorg_и_systemd-sublist" class="vector-toc-list">
			<li id="toc-Автоматический_логин_в_Xorg_без_экранного_менеджера" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD_%D0%B2_Xorg_%D0%B1%D0%B5%D0%B7_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Автоматический логин в Xorg без экранного менеджера</span>
				</div>
			</a>
			
			<ul id="toc-Автоматический_логин_в_Xorg_без_экранного_менеджера-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg_как_пользовательская_служба_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg_%D0%BA%D0%B0%D0%BA_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0_systemd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Xorg как пользовательская служба systemd</span>
				</div>
			</a>
			
			<ul id="toc-Xorg_как_пользовательская_служба_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Некоторые_случаи_использования" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9D%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5_%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B8_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Некоторые случаи использования</span>
			</div>
		</a>
		
			<button aria-controls="toc-Некоторые_случаи_использования-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Некоторые случаи использования subsection</span>
			</button>
		
		<ul id="toc-Некоторые_случаи_использования-sublist" class="vector-toc-list">
			<li id="toc-Постоянный_терминальный_мультиплексор" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%BD%D1%8B%D0%B9_%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BC%D1%83%D0%BB%D1%8C%D1%82%D0%B8%D0%BF%D0%BB%D0%B5%D0%BA%D1%81%D0%BE%D1%80">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Постоянный терминальный мультиплексор</span>
				</div>
			</a>
			
			<ul id="toc-Постоянный_терминальный_мультиплексор-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Оконный_менеджер" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%BA%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Оконный менеджер</span>
				</div>
			</a>
			
			<ul id="toc-Оконный_менеджер-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Завершение_процессов_пользователя_при_выходе_из_системы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%97%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%B2_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B5_%D0%B8%D0%B7_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Завершение процессов пользователя при выходе из системы</span>
			</div>
		</a>
		
		<ul id="toc-Завершение_процессов_пользователя_при_выходе_из_системы-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Решение проблем</span>
			</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Runtime_directory_'/run/user/1000'_is_not_owned_by_UID_1000,_as_it_should" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Runtime_directory_'/run/user/1000'_is_not_owned_by_UID_1000,_as_it_should">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>Runtime directory '/run/user/1000' is not owned by UID 1000, as it should</span>
				</div>
			</a>
			
			<ul id="toc-Runtime_directory_'/run/user/1000'_is_not_owned_by_UID_1000,_as_it_should-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd (Русский)/User (Русский)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/Systemd/User.html" title="Systemd/User – English" lang="en" hreflang="en" data-title="Systemd/User" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../../fr/Systemd/User.html" title="Systemd (Français)/User – français" lang="fr" hreflang="fr" data-title="Systemd (Français)/User" data-language-autonym="Français" data-language-local-name="français" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../../hu/Systemd/User.html" title="Systemd (Magyar)/User – magyar" lang="hu" hreflang="hu" data-title="Systemd (Magyar)/User" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-it mw-list-item"><a href="../../it/Systemd/User.html" title="Systemd (Italiano)/User – italiano" lang="it" hreflang="it" data-title="Systemd (Italiano)/User" data-language-autonym="Italiano" data-language-local-name="italiano" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd/%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC" title="Systemd/ユーザー – 日本語" lang="ja" hreflang="ja" data-title="Systemd/ユーザー" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd/User" title="Systemd/User – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Systemd/User" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <bdi dir="ltr"><a href="../../ru/Systemd.html" title="Systemd (Русский)">Systemd (Русский)</a></bdi>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../../ru/Systemd.html" title="Systemd (Русский)">systemd (Русский)</a></li>
<li><a href="../../ru/Getty.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B2%D1%85%D0%BE%D0%B4_%D0%B2_%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%83%D1%8E_%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C" class="mw-redirect" title="Автоматический вход в виртуальную консоль">Автоматический вход в виртуальную консоль</a></li>
<li><a href="../../ru/Xinit.html#%D0%90%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_X_%D0%BF%D1%80%D0%B8_%D0%B2%D1%85%D0%BE%D0%B4%D0%B5_%D0%B2_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83" class="mw-redirect" title="Xinitrc (Русский)">xinitrc (Русский)#Автозапуск X при входе в систему</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../../en/Systemd/User.html" title="Systemd/User">systemd/User</a>. Дата последней синхронизации: 12 июля 2021. Вы можете <a href="../../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd/User&amp;diff=0&amp;oldid=679973">изменения</a>.</div>
<p><a href="../../ru/Systemd.html" title="Systemd (Русский)">systemd</a> позволяет пользователю управлять службами в личном, отдельном экземпляре systemd. Благодаря этому пользователь может запускать, останавливать, включать и отключать свои собственные юниты. Это очень удобно в случае демонов и служб, которые обычно запускаются для отдельного пользователя (<a href="../../en/Music_Player_Daemon.html" title="Music Player Daemon">mpd</a>), или выполнения автоматизированных задач (например, скачивание почты).
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Как_это_работает">
<span id=".D0.9A.D0.B0.D0.BA_.D1.8D.D1.82.D0.BE_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82"></span>Как это работает</h2></div>
<p>В соответствии с конфигурацией по умолчанию в <code>/etc/pam.d/system-login</code>, модуль <code>pam_systemd</code> автоматически запускает <code>systemd --user</code> в случае, когда пользователь в первый раз входит в систему . Этот процесс будет работать до тех пор, пока существует сессия этого пользователя, и будет убит, как только последний сеанс для пользователя будет закрыт. Когда включен <a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_systemd_%D0%BE%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">#Автоматический запуск systemd от имени пользователя</a>, то процесс запускается при загрузке и убит не будет. Пользовательский процесс systemd отвечает за управление службами пользователей, которые могут быть использованы для запуска демонов или автоматизированных задач, со всеми преимуществами systemd, таких как активация сокета, таймеры, системы зависимостей или строгий контроль процесса через контрольные группы.
</p>
<p>Аналогично системным службам, пользовательские службы расположены в следующих каталогах (отсортированы по возрастанию приоритета):
</p>
<ul>
<li>
<code>/usr/lib/systemd/user/</code> где находятся службы, относящиеся к установленным пакетам.</li>
<li>
<code>~/.local/share/systemd/user/</code> где находятся службы, относящиеся к пакетам, установленным в домашний каталог.</li>
<li>
<code>/etc/systemd/user/</code> где находятся общесистемные пользовательские службы, созданные системным администратором.</li>
<li>
<code>~/.config/systemd/user/</code> где пользователь размещает свои собственные службы.</li>
</ul>
<p>При запуске пользовательского процесса systemd он привязывается к пользовательской же (то есть отдельной для каждого пользователя) цели <code>default.target</code>. Другие службы могут управляться вручную с помощью команды <code>systemctl --user</code>. См. <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.special"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.special.7#UNITS_MANAGED_BY_THE_USER_SERVICE_MANAGER">systemd.special(7) § UNITS MANAGED BY THE USER SERVICE MANAGER</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> 
<ul>
<li>Имейте в виду, что <code>systemd --user</code> представляет собой процесс для каждого пользователя, а не для сессии. Смысл заключается в том, что большая часть ресурсов, обрабатываемых пользовательскими службами, такие как сокеты или файлы состояния будут создаваться отдельно для каждого пользователя (в его домашнем каталоге), и не за один сеанс. Это означает, что все пользовательские службы работают вне сеанса. Как следствие, программы, которые должны быть запущены внутри сессии, вероятно, прервут выполнение пользовательских служб. С помощью systemd в пользовательском сеансе обрабатывается довольно много данных. См <a rel="nofollow" class="external autonumber" href="https://mail.gnome.org/archives/desktop-devel-list/2014-January/msg00079.html">[1]</a> и <a rel="nofollow" class="external autonumber" href="https://lists.freedesktop.org/archives/systemd-devel/2014-March/017552.html">[2]</a> для получения подсказок о том, как идут дела.</li>
<li>
<code>systemd --user</code> выполняется как процесс, отдельный от родительского процесса <code>systemd --system</code>. Службы пользователей не могут ссылаться или зависеть от системных юнитов или юнитов других пользователей.</li>
</ul>
</div>
<div class="mw-heading mw-heading2"><h2 id="Основные_настройки">
<span id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D1.8B.D0.B5_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8"></span>Основные настройки</h2></div>
<p>Все пользовательские службы размещаются в <code>~/.config/systemd/user/</code>. Если вы хотите запускать службы при первом входе в систему, выполните <code>systemctl --user enable <i>service</i></code> для любой службы, которую вы хотите сделать автозагрузочной.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong>  Если вы хотите включить службу для всех пользователей, а не для пользователя, выполняющего команду <i>systemctl </i>, запустите <code>systemctl --user --global enable <i>service</i></code> от имени суперпользователя.</div>
<div class="mw-heading mw-heading3"><h3 id="Переменные_окружения">
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span>Переменные окружения</h3></div>
<p>Пользовательский процесс systemd не наследует какую-либо из <a href="../../ru/Environment_variables.html" title="Environment variables (Русский)">переменных окружения</a>, установленных в <code>.bashrc</code> или других. Существует несколько способов установить переменные окружения для systemd:
</p>
<ol><li>Для переменной <code>$HOME</code> пользовательского каталога, создайте файл <i>.conf</i> в каталоге <code>~/.config/environment.d/</code> со строками вида {{ic | 1 = NAME = VAL}. Применяется только к части пользовательских служб.</li></ol>
<p>Смотрите <span class="plainlinks archwiki-template-man" title="$ man 5 environment.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/environment.d.5">environment.d(5)</a></span> для получения дополнительной информации.
</p>
<ol>
<li>Используйте опцию <code>DefaultEnvironment</code> в <code>/etc/systemd/user.conf</code>. Применяется ко всем пользовательским службам.</li>
<li>Добавление конфигурационного файла в <code>/etc/systemd/system/user@.service.d/</code>. Применяется ко всем пользовательским процессам; см <a href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80_%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D1%8B">#Пример службы</a>
</li>
<li>Для временного изменения используйте <code>systemctl --user set-environment</code> или <code>systemctl --user import-environment</code>. Применяется ко всем пользовательским службам, созданным после установки переменных окружения, но не к службам, которые уже были запущены.</li>
<li>Используйте <code>dbus-update-activation-environment --systemd --all</code> — команду, которую предоставляет <a href="../../ru/D-Bus.html" title="D-Bus (Русский)">D-Bus</a>. Имеет тот же эффект, что и <code>systemctl --user import-environment</code>, но также влияет на сессию D-Bus. Вы можете добавить это в конец вашего файла инициализации оболочки.</li>
<li>Для "глобальных" переменных пользовательского окружения вы можете использовать каталоги <code>environment.d</code>, которые анализируются генераторами systemd. Подробнее см. <span class="plainlinks archwiki-template-man" title="$ man 5 environment.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/environment.d.5">environment.d(5)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.generator.7">systemd.generator(7)</a></span>.</li>
<li>Вы также можете написать скрипт генератора среды, который может создавать переменные среды, которые варьируются от пользователя к пользователю. Это, вероятно, лучший способ, если вам нужны индивидуальные среды (это относится к <code>XDG_RUNTIME_DIR</code>, <code>DBUS_SESSION_BUS_ADDRESS</code> и т.д.). Смотрите <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.environment-generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.environment-generator.7">systemd.environment-generator(7)</a></span>.</li>
</ol>
<p>Одну переменную Вы можете установить в <code>PATH</code>.
</p>
<p>После настройки можно использовать команду <code>systemctl --user show-environment</code> для проверки правильности значений.
</p>
<div class="mw-heading mw-heading4"><h4 id="Пример_службы">
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_.D1.81.D0.BB.D1.83.D0.B6.D0.B1.D1.8B"></span>Пример службы</h4></div>
<p>Создайте <a href="../../en/Systemd.html#Drop-in_files" title="Systemd">drop-in</a> каталог <code>/etc/systemd/system/user@.service.d/</code> и внутри создайте файл с расширением <code>.conf</code> (например, <code>local.conf</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/user@.service.d/local.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
Environment="PATH=/usr/lib/ccache/bin:/usr/local/bin:/usr/bin:/bin"
Environment="EDITOR=nano -c"
Environment="BROWSER=firefox"
Environment="NO_AT_BRIDGE=1"</pre>
<div class="mw-heading mw-heading4"><h4 id="DISPLAY_и_XAUTHORITY">
<span id="DISPLAY_.D0.B8_XAUTHORITY"></span>DISPLAY и XAUTHORITY</h4></div>
<p>Переменная <code>DISPLAY</code> используется любым графическим приложением, чтобы знать, какой дисплей использовать, <code>XAUTHORITY</code>, чтобы указать путь к пользовательскому файлу <code>.Xauthority</code>, а также куки, необходимые для запуска Х-сервера. Если Вы планируете запускать графические приложения из процесса systemd, то эти переменные обязательно должны быть установлены. Systemd предоставляет скрипт в <code>/etc/X11/xinit/xinitrc.d/50-systemd-user.sh</code> для импорта этих переменных в пользовательскую сессию systemd на запуск X. <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/blob/v219/NEWS#L194">[3]</a> Так что если Вы не запускаете Х нестандартным образом, пользовательские службы должны знать переменные <code>DISPLAY</code> и <code>XAUTHORITY</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="PATH">PATH</h4></div>
<p>Если изменить <code>PATH</code> и запланированный запуск приложений, которые используют службу systemd, Вы должны убедиться, что модифицированный <code>PATH</code> установлен и в среде systemd. Если предположить, что Вы установили переменную <code>PATH</code> в <code>.bash_profile</code>, то лучшим способом сделать systemd осведомленным о модификации <code>PATH</code> будет добавление в <code>.bash_profile</code> после <code>PATH</code> заданной переменной:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bash_profile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">systemctl --user import-environment PATH
</pre>
<p>Обратите внимание, что это не повлияет на службы systemd, запущенные до импортирования PATH.
</p>
<div class="mw-heading mw-heading4"><h4 id="pam_env">pam_env</h4></div>
<p>Переменные среды можно сделать доступными с помощью модуля <code>pam_env.so</code>. Смотрите <a href="../../en/Environment_variables.html#Using_pam_env" title="Environment variables">Environment variables#Using pam_env</a> для деталей конфигурации.
</p>
<div class="mw-heading mw-heading3"><h3 id="Автоматический_запуск_systemd_от_имени_пользователя">
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_systemd_.D0.BE.D1.82_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"></span>Автоматический запуск systemd от имени пользователя</h3></div>
<p>Пользовательский процесс systemd запускается сразу после первого входа пользователя в систему, и будет убит после завершения последнего сеанса пользователя. Иногда может быть полезно запустить службу сразу после загрузки, и поддерживать процесс systemd запущенным даже после завершения последнего сеанса пользователя, например, чтобы некоторый пользовательский процесс работал без какой-либо открытой сессии. Для этой цели используются долговременные службы.  Используйте следующую команду, чтобы включить долговременную службу для конкретного пользователя:
</p>
<pre># loginctl enable-linger <i>username</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно</strong> Служба systemd находится <b>вне</b> сессии, она запускается за пределами <i>logind</i>. Не используйте долговременные службы для включения автоматического входа в систему, иначе будет <a href="../../ru/General_troubleshooting.html#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%B8" title="General troubleshooting (Русский)">перерыв в работе сессии</a>.</div>
<div class="mw-heading mw-heading2"><h2 id="Написание_пользовательских_юнитов">
<span id=".D0.9D.D0.B0.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D1.85_.D1.8E.D0.BD.D0.B8.D1.82.D0.BE.D0.B2"></span>Написание пользовательских юнитов</h2></div>
<p>Смотрите <a href="../../en/Systemd.html#Writing_unit_files" title="Systemd">systemd#Writing unit files</a> для получения общей информации о написании юнитов модулей systemd.
</p>
<div class="mw-heading mw-heading3"><h3 id="Пример">
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"></span>Пример</h3></div>
<p>Ниже приведен пример варианта пользовательской службы mpd.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/mpd.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Music Player Daemon

[Service]
ExecStart=/usr/bin/mpd --no-daemon

[Install]
WantedBy=default.target
</pre>
<div class="mw-heading mw-heading3"><h3 id="Пример_с_переменными">
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_.D1.81_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.BC.D0.B8"></span>Пример с переменными</h3></div>
<p>Ниже приведен пример пользовательской версии <code>sickbeard.service</code>, которая учитывает все переменные окружения пользовательских каталогов, где SickBeard может найти некоторые файлы:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/sickbeard.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=SickBeard Daemon

[Service]
ExecStart=/usr/bin/env python2 /opt/sickbeard/SickBeard.py --config %h/.sickbeard/config.ini --datadir %h/.sickbeard

[Install]
WantedBy=default.target
</pre>
<p>Как указано в <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span>, переменная <code>%h</code> заменяется домашней директорией пользователя, запускающего службу. Есть и другие переменные, которые учитываются на странице руководства <a href="../../en/Systemd.html" title="Systemd">systemd</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Чтение_журнала">
<span id=".D0.A7.D1.82.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B6.D1.83.D1.80.D0.BD.D0.B0.D0.BB.D0.B0"></span>Чтение журнала</h3></div>
<p>Журнал для пользователя может быть прочитан с помощью аналогичной команды:
</p>
<pre>$ journalctl --user
</pre>
<p>Чтобы указать юнит, можно использовать
</p>
<pre>$ journalctl --user -u myunit.service
</pre>
<p>Эквивалентная команда
</p>
<pre>$ journalctl --user --user-unit myunit.service
</pre>
<p>Обратите внимание, что journald не будет писать пользовательские журналы для пользователей с UID ниже 1000, вместо этого <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/blob/a33687b792908aa6c9f4c0b22e8935643ee0ddb6/src/journal/journald-server.c#L402">перенаправляя </a> всё в системный журнал.
</p>
<div class="mw-heading mw-heading2"><h2 id="Временные_файлы">
<span id=".D0.92.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B"></span>Временные файлы</h2></div>
<p><i>systemd-tmpfiles</i> позволяет пользователям управлять нестабильными и временными файлами и каталогами так же, как общесистемным способом (см. <a href="../../ru/Systemd.html#systemd-tmpfiles_%E2%80%94_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B" title="Systemd (Русский)">systemd#systemd-tmpfiles — временные файлы</a>). Пользовательские файлы конфигурации считываются из <code>~/.config/user-tmpfiles.d/</code> и <code>~/.local/share/user-tmpfiles.d/</code> в указанном порядке. Для использования этой функциональности требуется включить необходимые пользовательские юниты systemd для вашего пользователя:
</p>
<pre>$ systemctl --user enable systemd-tmpfiles-setup.service systemd-tmpfiles-clean.timer
</pre>
<p>Синтаксис конфигурационных файлов такой же, как и для всей системы. Для получения дополнительной информации смотрите справочные страницы <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-tmpfiles.8">systemd-tmpfiles(8)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tmpfiles.d.5">tmpfiles.d(5)</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Xorg_и_systemd">
<span id="Xorg_.D0.B8_systemd"></span>Xorg и systemd</h2></div>
<p>Есть несколько способов запустить xorg в системных модулях. Ниже представлены два варианта: либо запустить новый пользовательский сеанс с процессом xorg, либо запустить xorg из пользовательской службы systemd.
</p>
<div class="mw-heading mw-heading3"><h3 id="Автоматический_логин_в_Xorg_без_экранного_менеджера">
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.BB.D0.BE.D0.B3.D0.B8.D0.BD_.D0.B2_Xorg_.D0.B1.D0.B5.D0.B7_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D0.B0"></span>Автоматический логин в Xorg без экранного менеджера</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Спорная информация в оригинале: This setup ends up with two user D-Bus buses, one for the desktop, and an other for systemd. Why can't we use the systemd one alone?  (Discuss in <a rel="nofollow" class="external text" href="../../ru/Talk:Systemd/User.html">Talk:Systemd (Русский)/User (Русский)</a>)</div>
</div>
<p>Эта опция запускает системный блок, который запускает сеанс пользователя с сервером xorg, а затем запускает обычный <code>~/.xinitrc</code> для запуска оконного менеджера и т.д.
</p>
<p>Вам необходим установленный <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xlogin-git/">xlogin-git</a></span><sup><small>AUR</small></sup>. Настройте свой xinitrc, как указано в разделе <a href="../../en/Xinit.html#xinitrc" title="Xinit">Xinit#xinitrc</a>.
</p>
<p>Сеанс будет использовать собственный  dbus демон, но различные утилиты systemd будут автоматически подключаться к экземпляру <code>dbus.service</code>. Наконец, <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> службу <code>xlogin@<i>username</i></code> для автоматического входа при загрузке.Сеанс пользователя полностью находится в области видимости systemd, и все в сеансе пользователя должно работать нормально.
</p>
<div class="mw-heading mw-heading3"><h3 id="Xorg_как_пользовательская_служба_systemd">
<span id="Xorg_.D0.BA.D0.B0.D0.BA_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B0.D1.8F_.D1.81.D0.BB.D1.83.D0.B6.D0.B1.D0.B0_systemd"></span>Xorg как пользовательская служба systemd</h3></div>
<p>Кроме того, <a href="../../ru/Xorg.html" title="Xorg (Русский)">Xorg</a> можно запустить из службы пользователя systemd. Это хорошо, поскольку другие связанные с X юниты могут зависеть от xorg и т. д. Но с другой стороны, у этого есть некоторые недостатки, объясненные ниже.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server">xorg-server</a></span> обеспечивает интеграцию с systemd двумя способами:
</p>
<ul>
<li>Может быть запущен непривилегированным, делегируя управление устройствами logind (смотрите коммиты Hans de Goede <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/xorg/xserver/-/commit/82863656ec449644cd34a86388ba40f36cea11e9">коммит</a>).</li>
<li>Может быть превращен в сервис, активируемый сокетом (смотрите <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/xorg/xserver/-/commit/b3d3ffd19937827bcbdb833a628f9b1814a6e189">этот коммит</a>).</li>
</ul>
<p>К сожалению, чтобы иметь возможность запускать xorg в непривилегированном режиме, он должен запускаться внутри сеанса. Итак, в данный момент недостаток запуска xorg в качестве пользовательской службы заключается в том, что он должен запускаться с привилегиями суперпользователя (как до 1.16) и не может использовать преимущества непривилегированного режима, представленного в 1.16.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Это не является фундаментальным ограничением, налагаемым logind, но причина, по-видимому, заключается в том, что xorg нужно знать, какой сеанс взять на себя, и сейчас он получает эту информацию, вызывая <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/logind">logind</a>'s <code>GetSessionByPID</code> используя свой собственный pid в качестве аргумента. Смотрите <a rel="nofollow" class="external text" href="https://lists.x.org/archives/xorg-devel/2014-February/040476.html">this thread</a> и <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/xorg/xserver/-/blob/master/hw/xfree86/os-support/linux/systemd-logind.c">xorg sources</a>. Кажется вероятным, что xorg можно изменить, чтобы получить сеанс от tty, к которому он подключен, и затем он мог бы работать непривилегированным из пользовательской службы вне сеанса.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно</strong> В xorg 1.18  активация сокета, кажется, сломана. Клиент, вызывающий активацию, зависает. Смотрите вышестоящий отчет об ошибках <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/xorg/xserver/issues/491">[4]</a>. В качестве временного обходного пути вы можете запустить сервер xorg без активации сокета, убедившись, что клиенты подключаются после задержки, поэтому сервер полностью запускается. Кажется, нет никакого удобного механизма, чтобы получить уведомление о запуске для X сервера.</div>
<p>Вот как запустить xorg из пользовательского сервиса:
</p>
<p>1. Заставить xorg работать с правами суперпользователя и для любого пользователя путем редактирования <code>/etc/X11/Xwrapper.config</code> 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/Xwrapper.config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">allowed_users=anybody
needs_root_rights=yes
</pre>
<p>2. Добавить следующие юниты в <code>~/.config/systemd/user</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/xorg@.socket</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Socket for xorg at display %i

[Socket]
ListenStream=/tmp/.X11-unix/X%i
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/xorg@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Xorg server at display %i

Requires=xorg@%i.socket
After=xorg@%i.socket

[Service]
Type=simple
SuccessExitStatus=0 1

ExecStart=/usr/bin/Xorg :%i -nolisten tcp -noreset -verbose 2 "vt${XDG_VTNR}"
</pre>
<p>где <code>${XDG_VTNR</code>} - виртуальный терминал, на котором будет запущен xorg, либо прописанный в сервисном модуле, либо установленный в среде systemd с помощью
</p>
<pre>$ systemctl --user set-environment XDG_VTNR=1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> xorg должен быть запущен на том же виртуальном терминале, где пользователь вошел в систему. В противном случае logind будет считать сеанс неактивным.</div>
<p>3. Обязательно настройте переменную среды <code>DISPLAY</code>, как описано <a href="#DISPLAY_%D0%B8_XAUTHORITY">выше</a>.
</p>
<p>4. Затем, чтобы активировать сокет для xorg на дисплее 0 и tty 2, следует выполнить:
</p>
<pre>$ systemctl --user set-environment XDG_VTNR=2     # Так что xorg@.service знает, какой vt использовать
$ systemctl --user start xorg@0.socket            # начинает слушать на сокете для дисплея 0
</pre>
<p>Теперь запуск любого X приложения  автоматически запустит xorg на виртуальном терминале 2.
</p>
<p>Переменная среды <code>XDG_VTNR</code> может быть установлена в среде systemd из <code>.bash_profile</code>, а затем можно запустить любое приложение X, включая диспетчер окон, как системный модуль, зависящий от <code>xorg@0.socket</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно</strong> В настоящее время запуск оконного менеджера в качестве пользовательской службы означает, что он работает работает за пределами сеанса, с проблемами, которые могут возникнуть: <a href="../../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">break the session</a>. Однако, похоже, что разработчики systemd намерены сделать что-то подобное возможным. Смотрите <a rel="nofollow" class="external autonumber" href="https://mail.gnome.org/archives/desktop-devel-list/2014-January/msg00079.html">[5]</a> и <a rel="nofollow" class="external autonumber" href="https://lists.freedesktop.org/archives/systemd-devel/2014-March/017552.html">[6]</a>
</div>
<div class="mw-heading mw-heading2"><h2 id="Некоторые_случаи_использования">
<span id=".D0.9D.D0.B5.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D1.8B.D0.B5_.D1.81.D0.BB.D1.83.D1.87.D0.B0.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span>Некоторые случаи использования</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Постоянный_терминальный_мультиплексор">
<span id=".D0.9F.D0.BE.D1.81.D1.82.D0.BE.D1.8F.D0.BD.D0.BD.D1.8B.D0.B9_.D1.82.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D0.BC.D1.83.D0.BB.D1.8C.D1.82.D0.B8.D0.BF.D0.BB.D0.B5.D0.BA.D1.81.D0.BE.D1.80"></span>Постоянный терминальный мультиплексор</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Устаревшая информация в оригинале: Ссылается на <code>user-session@.service</code> вместо <code>user@.service</code>; последний не содержит <code>Conflicts=getty@tty1.service</code>. (Discuss in <a rel="nofollow" class="external text" href="../../ru/Talk:Systemd/User.html">Talk:Systemd (Русский)/User (Русский)</a>)</div>
</div>
<p>Возможно, вы захотите, чтобы в сеансе пользователя по умолчанию использовался терминальный мультиплексор, например <a href="../../ru/GNU_Screen.html" title="GNU Screen (Русский)">GNU Screen</a> или <a href="../../en/Tmux.html" title="Tmux">Tmux</a>, в фоновом режиме, а не для входа в сеанс оконного менеджера. Разделение входа в систему от входа в систему X, скорее всего, полезно только для тех, кто загружается с TTY, а не с экранным менеджером (в этом случае вы можете просто связать все, что вы запускаете, с myStuff.target). 
</p>
<p>Чтобы создать пользовательский сеанс такого типа, действуйте, как указано выше, но вместо создания wm.target создайте multiplexer.target:
</p>
<pre>[Unit]
Description=Terminal multiplexer
Documentation=info:screen man:screen(1) man:tmux(1)
After=cruft.target
Wants=cruft.target

[Install]
Alias=default.target</pre>
<p><code>cruft.target</code>, как <code>mystuff.target</code> выше, должен запускать все, что, по вашему мнению, должно запускаться до запуска tmux или экрана (или что вы хотите запустить при загрузке независимо от времени), например сеанс демона GnuPG.
</p>
<p>Затем вам нужно создать сервис для сеанса мультиплексора. Вот пример службы, использующей tmux в качестве примера и использующей сеанс gpg-agent, который записал свою информацию в <code>/tmp/gpg-agent-info</code>. Этот пример сеанса при запуске X также сможет запускать программы X, так как установлен DISPLAY.
</p>
<pre>[Unit]
Description=tmux: A terminal multiplixer 
Documentation=man:tmux(1)
After=gpg-agent.service
Wants=gpg-agent.service

[Service]
Type=forking
ExecStart=/usr/bin/tmux start
ExecStop=/usr/bin/tmux kill-server
Environment=DISPLAY=:0
EnvironmentFile=/tmp/gpg-agent-info

[Install]
WantedBy=multiplexer.target</pre>
<p>Как только это будет сделано, <code>systemctl --user enable</code> <code>tmux.service</code>, <code>multiplexer.target</code> и любые сервисы, которые вы создали для запуска <code>cruft.target</code>, и вы должны быть готовы к работе! Активирован <code>user-session@.service</code>, как описано выше, но обязательно удалите <code>Conflicts=getty@tty1.service</code> из {{ic|user-session@.service} }, поскольку ваш пользовательский сеанс не будет принимать TTY. Поздравляем! У вас есть работающий терминальный мультиплексор и некоторые другие полезные программы, готовые к запуску при загрузке!
</p>
<div class="mw-heading mw-heading3"><h3 id="Оконный_менеджер">
<span id=".D0.9E.D0.BA.D0.BE.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80"></span>Оконный менеджер</h3></div>
<p>Чтобы запустить оконный менеджер в качестве службы systemd, сначала необходимо запустить <a href="#Xorg_%D0%BA%D0%B0%D0%BA_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0_systemd">Xorg как пользовательскую службу systemd</a>. В следующем примере мы будем использовать <a href="../../ru/Awesome.html" title="Awesome (Русский)">awesome (Русский)</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/awesome.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Awesome window manager
After=xorg.target
Requires=xorg.target

[Service]
ExecStart=/usr/bin/awesome
Restart=always
RestartSec=10
 
[Install]
WantedBy=wm.target
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Раздел <code>[Install]</code> содержит часть <code>WantedBy</code>. При использовании <code>systemctl --user enable</code> он будет связывать это как <code>~/.config/systemd/user/wm.target.wants /<i>window_manager</i>.service</code>, позволяя ему стартовать при входе в систему. Рекомендуется включить этот сервис, а не связывать его вручную.</div>
<div class="mw-heading mw-heading2"><h2 id="Завершение_процессов_пользователя_при_выходе_из_системы">
<span id=".D0.97.D0.B0.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.86.D0.B5.D1.81.D1.81.D0.BE.D0.B2_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4.D0.B5_.D0.B8.D0.B7_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span>Завершение процессов пользователя при выходе из системы</h2></div>
<p>Arch Linux создает пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> с помощью <code>--without-kill-user-process</code>, устанавливая <code>KillUserProcesses</code> равным <code>no</code> по умолчанию. Этот параметр предотвращает уничтожение пользовательских процессов, когда пользователь полностью выходит из системы. Чтобы изменить это поведение и убить все пользовательские процессы при выходе из системы, установите <code>KillUserProcesses=yes</code> в <code>/etc/systemd/logind.conf</code>.
</p>
<p>Обратите внимание, что изменение этого параметра нарушает работу мультиплексоров терминала, таких как <a href="../../en/Tmux.html" title="Tmux">tmux</a> и <a href="../../ru/GNU_Screen.html" title="GNU Screen (Русский)">GNU Screen (Русский)</a>. Если вы измените этот параметр, вы все равно сможете использовать терминальный мультиплексор, используя <code>systemd-run</code> следующим образом:
</p>
<pre>$ systemd-run --scope --user <i>command</i> <i>args</i>
</pre>
<p>Например, чтобы запустить <code>screen</code>, вы должны сделать:
</p>
<pre>$ systemd-run --scope --user screen -S <i>foo</i>
</pre>
<p>Запущенные с помощью <code>systemd-run</code> процессы продолжат работу даже после выхода пользователя, если он залогинен в системе где-то ещё и служба <code>user@.service</code> всё ещё работает.
</p>
<p>После завершения всех активных сеансов <code>user@.service</code> прекращает работу, если для этого пользователя не был включён <i>lingering</i> <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/blob/76153ad45f09b6ae45464f2e03d3afefbb4b2afe/NEWS#L274">[7]</a>. Поэтому для запуска и работы долгосрочных процессов после полного выхода пользователя из системы необходимо включить lingering. Подробнее см. <a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_systemd_%D0%BE%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">#Автоматический запуск systemd от имени пользователя</a> и <span class="plainlinks archwiki-template-man" title="$ man 1 loginctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loginctl.1">loginctl(1)</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Решение_проблем">
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span>Решение проблем</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Runtime_directory_'/run/user/1000'_is_not_owned_by_UID_1000,_as_it_should">
<span id="Runtime_directory_.27.2Frun.2Fuser.2F1000.27_is_not_owned_by_UID_1000.2C_as_it_should"></span>Runtime directory '/run/user/1000' is not owned by UID 1000, as it should</h3></div>
<pre>systemd[1867]: pam_systemd(systemd-user:session): Runtime directory '/run/user/1000' is not owned by UID 1000, as it should.
systemd[1867]: Trying to run as user instance, but $XDG_RUNTIME_DIR is not set
</pre>
<p>Если вы видите такую ошибку и ваш сеанс в порядке, то возможно, что другая системная (не пользовательская) служба создала этот каталог. Например, такое могло произойти при использовании контейнера <a href="../../en/Docker.html" title="Docker">docker</a>, который выполнил bind-монтирование в каталог <code>/run/user/1000</code>. Чтобы это исправить, либо отредактируйте контейнер, удалив монтирование, либо отключите/отложите службу docker.
</p>
<div class="mw-heading mw-heading2"><h2 id="Смотрите_также">
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span>Смотрите также</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://bitbucket.org/KaiSforza/systemd-user-units/wiki/Home">Вики-ресурс пользователя KaiSforza на Bitbucket</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/zoqaeski/systemd-user-units">Файлы юнитов пользователя Zoqaeski на GitHub</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=167115">Ветка форума Arch Linux об изменениях пользовательских экземпляров в systemd 206</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../ru/Category:System_administration.html" title="Category:System administration (Русский)">System administration (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/User_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=839824">https://wiki.archlinux.org/index.php?title=Systemd_(Русский)/User_(Русский)&amp;oldid=839824</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 2 July 2025, at 05:16.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true">systemd (Русский)/User (Русский)</div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
