<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Improving performance (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Improving_performance_Русский rootpage-Improving_performance_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Основы" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Основы</div>
		</a>
		
			<button aria-controls="toc-Основы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Основы subsection</span>
			</button>
		
		<ul id="toc-Основы-sublist" class="vector-toc-list">
			<li id="toc-Узнай_свою_систему" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D0%B7%D0%BD%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D1%8E_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Узнай свою систему</div>
			</a>
			
			<ul id="toc-Узнай_свою_систему-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Тестирование_производительности" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Тестирование производительности</div>
			</a>
			
			<ul id="toc-Тестирование_производительности-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Устройства_хранения" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0_%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Устройства хранения</div>
		</a>
		
			<button aria-controls="toc-Устройства_хранения-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Устройства хранения subsection</span>
			</button>
		
		<ul id="toc-Устройства_хранения-sublist" class="vector-toc-list">
			<li id="toc-Несколько_аппаратных_путей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D1%85_%D0%BF%D1%83%D1%82%D0%B5%D0%B9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Несколько аппаратных путей</div>
			</a>
			
			<ul id="toc-Несколько_аппаратных_путей-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Разметка_дисков" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D0%BC%D0%B5%D1%82%D0%BA%D0%B0_%D0%B4%D0%B8%D1%81%D0%BA%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Разметка дисков</div>
			</a>
			
			<ul id="toc-Разметка_дисков-sublist" class="vector-toc-list">
				<li id="toc-Несколько_дисков" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B4%D0%B8%D1%81%D0%BA%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Несколько дисков</div>
			</a>
			
			<ul id="toc-Несколько_дисков-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Расположение_на_HDD" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D1%81%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B0_HDD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Расположение на HDD</div>
			</a>
			
			<ul id="toc-Расположение_на_HDD-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Выбор_и_настройка_файловых_систем" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%8B%D1%85_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Выбор и настройка файловых систем</div>
			</a>
			
			<ul id="toc-Выбор_и_настройка_файловых_систем-sublist" class="vector-toc-list">
				<li id="toc-Параметры_монтирования" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Параметры монтирования</div>
			</a>
			
			<ul id="toc-Параметры_монтирования-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Изменение_параметров_ядра" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D1%8F%D0%B4%D1%80%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Изменение параметров ядра</div>
			</a>
			
			<ul id="toc-Изменение_параметров_ядра-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Планировщики_ввода-вывода" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA%D0%B8_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Планировщики ввода-вывода</div>
			</a>
			
			<ul id="toc-Планировщики_ввода-вывода-sublist" class="vector-toc-list">
				<li id="toc-Информация" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.1</span>Информация</div>
			</a>
			
			<ul id="toc-Информация-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Алгоритмы_планирования" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D1%8B_%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.2</span>Алгоритмы планирования</div>
			</a>
			
			<ul id="toc-Алгоритмы_планирования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Планировщики_ввода-вывода_в_ядре" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA%D0%B8_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0_%D0%B2_%D1%8F%D0%B4%D1%80%D0%B5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.3</span>Планировщики ввода-вывода в ядре</div>
			</a>
			
			<ul id="toc-Планировщики_ввода-вывода_в_ядре-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Изменение_планировщика_ввода-вывода" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA%D0%B0_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.4</span>Изменение планировщика ввода-вывода</div>
			</a>
			
			<ul id="toc-Изменение_планировщика_ввода-вывода-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Настройка_планировщика_ввода-вывода" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA%D0%B0_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.5</span>Настройка планировщика ввода-вывода</div>
			</a>
			
			<ul id="toc-Настройка_планировщика_ввода-вывода-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Настройка_управления_питанием_и_кэшем_записи" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC_%D0%B8_%D0%BA%D1%8D%D1%88%D0%B5%D0%BC_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>Настройка управления питанием и кэшем записи</div>
			</a>
			
			<ul id="toc-Настройка_управления_питанием_и_кэшем_записи-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Уменьшение_числа_операций_чтения/записи" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D0%BC%D0%B5%D0%BD%D1%8C%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%B0_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B9_%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D1%8F/%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7</span>Уменьшение числа операций чтения/записи</div>
			</a>
			
			<ul id="toc-Уменьшение_числа_операций_чтения/записи-sublist" class="vector-toc-list">
				<li id="toc-Отслеживание_записи_на_диск" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D1%81%D0%BB%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8_%D0%BD%D0%B0_%D0%B4%D0%B8%D1%81%D0%BA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.1</span>Отслеживание записи на диск</div>
			</a>
			
			<ul id="toc-Отслеживание_записи_на_диск-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Перемещение_файлов_в_tmpfs" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%B2_tmpfs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.2</span>Перемещение файлов в tmpfs</div>
			</a>
			
			<ul id="toc-Перемещение_файлов_в_tmpfs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Файловые_системы" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%8B%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.3</span>Файловые системы</div>
			</a>
			
			<ul id="toc-Файловые_системы-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Подкачка" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.4</span>Подкачка</div>
			</a>
			
			<ul id="toc-Подкачка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Интервал_writeback_и_размер_буфера" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB_writeback_%D0%B8_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80_%D0%B1%D1%83%D1%84%D0%B5%D1%80%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.5</span>Интервал writeback и размер буфера</div>
			</a>
			
			<ul id="toc-Интервал_writeback_и_размер_буфера-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отключение_дампов_памяти" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BC%D0%BF%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7.6</span>Отключение дампов памяти</div>
			</a>
			
			<ul id="toc-Отключение_дампов_памяти-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Планирование_ввода-вывода_с_ionice" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0_%D1%81_ionice">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.8</span>Планирование ввода-вывода с ionice</div>
			</a>
			
			<ul id="toc-Планирование_ввода-вывода_с_ionice-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Процессор" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Процессор</div>
		</a>
		
			<button aria-controls="toc-Процессор-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Процессор subsection</span>
			</button>
		
		<ul id="toc-Процессор-sublist" class="vector-toc-list">
			<li id="toc-Оверклокинг" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B2%D0%B5%D1%80%D0%BA%D0%BB%D0%BE%D0%BA%D0%B8%D0%BD%D0%B3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Оверклокинг</div>
			</a>
			
			<ul id="toc-Оверклокинг-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Изменение_частоты_процессора" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D1%8B_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Изменение частоты процессора</div>
			</a>
			
			<ul id="toc-Изменение_частоты_процессора-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Планировщик" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Планировщик</div>
			</a>
			
			<ul id="toc-Планировщик-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ядро_реального_времени" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%AF%D0%B4%D1%80%D0%BE_%D1%80%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Ядро реального времени</div>
			</a>
			
			<ul id="toc-Ядро_реального_времени-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Настройка_приоритета_процессов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BF%D1%80%D0%B8%D0%BE%D1%80%D0%B8%D1%82%D0%B5%D1%82%D0%B0_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Настройка приоритета процессов</div>
			</a>
			
			<ul id="toc-Настройка_приоритета_процессов-sublist" class="vector-toc-list">
				<li id="toc-Ananicy" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ananicy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>Ananicy</div>
			</a>
			
			<ul id="toc-Ananicy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-cgroups" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#cgroups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.2</span>cgroups</div>
			</a>
			
			<ul id="toc-cgroups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cpulimit" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Cpulimit">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.3</span>Cpulimit</div>
			</a>
			
			<ul id="toc-Cpulimit-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-irqbalance" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#irqbalance">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>irqbalance</div>
			</a>
			
			<ul id="toc-irqbalance-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отключение_защиты_от_уязвимостей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D1%8B_%D0%BE%D1%82_%D1%83%D1%8F%D0%B7%D0%B2%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Отключение защиты от уязвимостей</div>
			</a>
			
			<ul id="toc-Отключение_защиты_от_уязвимостей-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Графика" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%93%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Графика</div>
		</a>
		
			<button aria-controls="toc-Графика-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Графика subsection</span>
			</button>
		
		<ul id="toc-Графика-sublist" class="vector-toc-list">
			<li id="toc-Настройка_Xorg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Настройка Xorg</div>
			</a>
			
			<ul id="toc-Настройка_Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Настройка_Mesa" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_Mesa">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Настройка Mesa</div>
			</a>
			
			<ul id="toc-Настройка_Mesa-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Аппаратное_ускорение_видео" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D1%83%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Аппаратное ускорение видео</div>
			</a>
			
			<ul id="toc-Аппаратное_ускорение_видео-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Оверклокинг_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B2%D0%B5%D1%80%D0%BA%D0%BB%D0%BE%D0%BA%D0%B8%D0%BD%D0%B3_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Оверклокинг</div>
			</a>
			
			<ul id="toc-Оверклокинг_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Включение_PCI_resizable_BAR" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_PCI_resizable_BAR">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Включение PCI resizable BAR</div>
			</a>
			
			<ul id="toc-Включение_PCI_resizable_BAR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Оперативная_память,_подкачка_и_обработка_нехватки_памяти" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D0%B0%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C,_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B0_%D0%B8_%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0_%D0%BD%D0%B5%D1%85%D0%B2%D0%B0%D1%82%D0%BA%D0%B8_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Оперативная память, подкачка и обработка нехватки памяти</div>
		</a>
		
			<button aria-controls="toc-Оперативная_память,_подкачка_и_обработка_нехватки_памяти-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Оперативная память, подкачка и обработка нехватки памяти subsection</span>
			</button>
		
		<ul id="toc-Оперативная_память,_подкачка_и_обработка_нехватки_памяти-sublist" class="vector-toc-list">
			<li id="toc-Тактовая_частота_и_тайминги" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B0%D0%BA%D1%82%D0%BE%D0%B2%D0%B0%D1%8F_%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0_%D0%B8_%D1%82%D0%B0%D0%B9%D0%BC%D0%B8%D0%BD%D0%B3%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Тактовая частота и тайминги</div>
			</a>
			
			<ul id="toc-Тактовая_частота_и_тайминги-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Корневая_ФС_на_ОЗУ-оверлее" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9A%D0%BE%D1%80%D0%BD%D0%B5%D0%B2%D0%B0%D1%8F_%D0%A4%D0%A1_%D0%BD%D0%B0_%D0%9E%D0%97%D0%A3-%D0%BE%D0%B2%D0%B5%D1%80%D0%BB%D0%B5%D0%B5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Корневая ФС на ОЗУ-оверлее</div>
			</a>
			
			<ul id="toc-Корневая_ФС_на_ОЗУ-оверлее-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-zram_или_zswap" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#zram_%D0%B8%D0%BB%D0%B8_zswap">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>zram или zswap</div>
			</a>
			
			<ul id="toc-zram_или_zswap-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_памяти_видеокарты" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D0%BA%D0%B0%D1%80%D1%82%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Использование памяти видеокарты</div>
			</a>
			
			<ul id="toc-Использование_памяти_видеокарты-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Повышение_отзывчивости_системы_в_условиях_нехватки_памяти" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B2%D1%8B%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D1%82%D0%B7%D1%8B%D0%B2%D1%87%D0%B8%D0%B2%D0%BE%D1%81%D1%82%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D0%B2_%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F%D1%85_%D0%BD%D0%B5%D1%85%D0%B2%D0%B0%D1%82%D0%BA%D0%B8_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Повышение отзывчивости системы в условиях нехватки памяти</div>
			</a>
			
			<ul id="toc-Повышение_отзывчивости_системы_в_условиях_нехватки_памяти-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Сеть" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%B5%D1%82%D1%8C">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Сеть</div>
		</a>
		
		<ul id="toc-Сеть-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Сторожевые_таймеры" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D1%82%D0%BE%D1%80%D0%BE%D0%B6%D0%B5%D0%B2%D1%8B%D0%B5_%D1%82%D0%B0%D0%B9%D0%BC%D0%B5%D1%80%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Сторожевые таймеры</div>
		</a>
		
		<ul id="toc-Сторожевые_таймеры-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Смотрите также</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Improving performance (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 7 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-7" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">7 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Improving_performance.html" title="Improving performance – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Improving_performance.html" title="Improving performance – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Improving_performance.html" title="Improving performance – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E5%90%91%E4%B8%8A" title="パフォーマンスの向上 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pl mw-list-item"><a href="../pl/Improving_performance.html" title="Improving performance – polski" lang="pl" hreflang="pl" class="interlanguage-link-target"><span>Polski</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Improving_performance.html" title="Improving performance – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Improving_performance" title="Improving performance – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Improving_performance.html" title="Improving performance">Improving performance</a>. Дата последней синхронизации: 28 января 2024. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Improving_performance&amp;diff=0&amp;oldid=792816">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Improving_performance/Boot_process.html" title="Improving performance (Русский)/Boot process (Русский)">Ускорение загрузки системы</a></li>
<li><a href="../ru/Pacman/Tips_and_tricks.html#%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C" class="mw-redirect" title="Pacman/Советы и приёмы">Pacman/Советы и приёмы#Производительность</a></li>
<li><a href="../ru/OpenSSH.html#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_SSH" title="OpenSSH (Русский)">OpenSSH (Русский)#Увеличение скорости SSH</a></li>
<li><a href="../en/Apache_OpenOffice.html#Speed_up_OpenOffice" class="mw-redirect" title="Openoffice">Openoffice#Speed up OpenOffice</a></li>
<li><a href="../en/Laptop.html" class="mw-redirect" title="Ноутбук">Ноутбук</a></li>
<li><a href="../en/Preload.html" title="Preload">Preload</a></li>
</ul>
</div>
<p>В этой статье представлена информация о базовой диагностике системы, относящейся к производительности, а также о шагах, которые могут быть предприняты для снижения потребления ресурсов или иным образом для оптимизации системы с целью улучшения производительности.
В разделе <a href="../en/Gaming.html#Improving_performance" title="Gaming">Gaming#Improving performance</a> также есть дополнительные рекомендации для игр и снижения задержек.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D1.8B"></span><span class="mw-headline" id="Основы">Основы</span>
</h2>
<h3>
<span id=".D0.A3.D0.B7.D0.BD.D0.B0.D0.B9_.D1.81.D0.B2.D0.BE.D1.8E_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.83"></span><span class="mw-headline" id="Узнай_свою_систему">Узнай свою систему</span>
</h3>
<p>Лучший способ настроить систему — определить «узкие места», т.е. подсистемы, которые снижают общую скорость работы. Знание характеристик системы поможет определить их, но также есть несколько основных симптомов.
</p>
<ul>
<li>Если компьютер начинает медленнее работать при одновременном запуске нескольких «больших» приложений (таких как LibreOffice и Firefox), то существует большая вероятность того, что не хватает оперативной памяти. Чтобы проверить объём свободной памяти, выполните эту команду и посмотрите столбец "available": <pre>$ free -h</pre>
</li>
<li>Если время загрузки очень большое и если приложения запускаются медленно только при первом запуске, а потом работают нормально, то скорее всего виноват жёсткий диск. Его скорость может быть измерена с помощью команды <code>hdparm</code>: <pre># hdparm -t /dev/sd<i>X</i></pre> <div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hdparm">hdparm</a></span> измеряет только чистую скорость чтения жёсткого диска и не может считаться полноценным тестом производительности. Тем не менее, значение скорости выше 40 МБ/с (при бездействии) можно считать приемлемым для средней системы.</div>
</li>
<li>Если загрузка процессора постоянно высокая, даже когда есть достаточно оперативной памяти, попробуйте снизить нагрузку, остановив работающие <a href="../ru/Daemons.html" class="mw-redirect" title="Демоны">демоны</a> и/или процессы. Загрузку процессора можно контролировать множеством способов, например с помощью <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=htop">htop</a></span>, <code>pstree</code> или любого другого <a href="../en/List_of_applications/Utilities.html#System_monitors" title="List of applications/Utilities">инструмента для мониторинга</a>: <pre>$ htop</pre>
</li>
<li>Если медленно работают только те приложения, которые используют ускорение (direct rendering), т.е. где используется видеокарта (видеоплееры, игры или даже <a href="../ru/Window_manager.html" class="mw-redirect" title="Оконный менеджер">оконный менеджер</a>), то увеличение производительности видеокарты должно помочь. Сперва нужно проверить, включен ли direct rendering. Это можно проверить с помощью команды <code>glxinfo</code>, которая входит в состав пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-utils">mesa-utils</a></span>, которая должна вернуть <code>direct rendering: Yes</code> в ответ на команду <pre>$ glxinfo | grep "direct rendering"</pre>
</li>
<li>Если вы используете <a href="../ru/Desktop_environment.html" title="Desktop environment (Русский)">среду рабочего стола</a>, отключение (ненужных) визуальных эффектов может уменьшить нагрузку на видеокарту. Попробуйте использовать более легковесную среду или создайте <a href="../ru/Desktop_environment.html#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%80%D1%81%D0%BE%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B9_%D1%81%D1%80%D0%B5%D0%B4%D1%8B" title="Desktop environment (Русский)">свою собственную среду</a>, если существующие не подходят под ваши требования или требования железа.</li>
<li>Использование оптимизированного <a href="../ru/Kernel.html" class="mw-redirect" title="Ядра">ядра</a> улучшает производительность. Обычно <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-zen">linux-zen</a></span> является хорошим выбором. Однако стандартное ядро тоже может быть настроено для повышения производительности, как показано далее в статье.</li>
</ul>
<h3>
<span id=".D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Тестирование_производительности">Тестирование производительности</span>
</h3>
<p>Результаты оптимизации часто трудно оценить. Однако их можно измерить с помощью <a href="../ru/Benchmarking.html" title="Benchmarking (Русский)">инструментов тестирования производительности</a>.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0_.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Устройства_хранения">Устройства хранения</span>
</h2>
<h3>
<span id=".D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B0.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D1.85_.D0.BF.D1.83.D1.82.D0.B5.D0.B9"></span><span class="mw-headline" id="Несколько_аппаратных_путей">Несколько аппаратных путей</span>
</h3>
<p>Внутренний аппаратный путь (internal hardware path) описывает способ подключения устройства через материнскую плату. Существуют различные способы подключения через материнскую плату: NIC, PCIe, Firewire, Raid Card, USB и т. д. Распределяя устройства хранения по разным точкам подключения, вы можете избежать появления узких мест. Причина в том, что каждый «путь входа» в материнскую плату «похож на канал», и у этих каналов существует предел пропускной способности. Хорошая новость в том, что на материнской плате обычно несколько каналов, которые можно использовать.
</p>
<p>В качестве конкретного примера можно привести ситуацию, когда у вас есть 2 USB-порта на передней панели вашего компьютера и 4 USB-порта на задней панели, и вам нужно подключить 4 диска: вероятно, будет быстрее всего поставить 2 спереди и 2 сзади, чем 3 сзади и 1 спереди. Это связано с тем, что обычно передние порты обрабатываются отдельным от задних корневым концентратором (хабом), что означает возможность отправки вдвое большего количества данных с использованием обоих концентраторов.
</p>
<p>Следующие команды помогут определить различные пути в вашем компьютере.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">USB Device Tree</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$ lsusb -t</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PCI Device Tree</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$ lspci -tv</pre>
<h3>
<span id=".D0.A0.D0.B0.D0.B7.D0.BC.D0.B5.D1.82.D0.BA.D0.B0_.D0.B4.D0.B8.D1.81.D0.BA.D0.BE.D0.B2"></span><span class="mw-headline" id="Разметка_дисков">Разметка дисков</span>
</h3>
<p>Убедитесь, что разделы на ваших дисках <a href="../ru/Partitioning.html#%D0%92%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2" title="Partitioning (Русский)">правильно выровнены</a>.
</p>
<h4>
<span id=".D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B4.D0.B8.D1.81.D0.BA.D0.BE.D0.B2"></span><span class="mw-headline" id="Несколько_дисков">Несколько дисков</span>
</h4>
<p>Если у вас есть несколько дисков, их можно объединить в программный <a href="../en/RAID.html" class="mw-redirect" title="RAID (Русский)">RAID</a>, что сильно увеличит скорость.
</p>
<p>Размещение <a href="../ru/Swap.html" title="Swap (Русский)">подкачки</a> на отдельном диске также может немного помочь, особенно если ваш компьютер часто обращается к ней.
</p>
<h4>
<span id=".D0.A0.D0.B0.D1.81.D0.BF.D0.BE.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_HDD"></span><span class="mw-headline" id="Расположение_на_HDD">Расположение на HDD</span>
</h4>
<p>При использовании обычных HDD с вращающимися пластинами структура разделов может повлиять на производительность системы. Секторы в начале диска (ближе к внешней стороне диска) быстрее, чем в конце. Кроме того, меньший раздел требует меньше движений головки диска и, следовательно, ускоряет операции с диском. Поэтому рекомендуется создать небольшой раздел (15-20 ГиБ плюс-минус зависимости от ваших потребностей) только под вашу систему, как можно ближе к началу диска. Остальные данные (изображения, видео) следует хранить в отдельном разделе, и это обычно достигается путём отделения домашнего каталога (<code>/home</code>) от системы (<code>/</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Как и со всеми советами из данной статьи, измеряйте получаемое изменение производительности: без <a rel="nofollow" class="external text" href="https://blog.stuffedcow.net/2019/09/hard-disk-geometry-microbenchmarking/#shortstroke">short stroking</a> (использования лишь небольшой части объёма диска) разделение разделов улучшит время доступа лишь на несколько процентов, поскольку операции чтения/записи всё равно будут распределяться по всему диску при общем использовании. Для сравнения, переход на SSD повысит производительность более чем на порядок.</div>
<h3>
<span id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC"></span><span class="mw-headline" id="Выбор_и_настройка_файловых_систем">Выбор и настройка файловых систем</span>
</h3>
<p>Выбор лучшей файловой системы под особенности системы является очень важным, так как каждая файловая система имеет свои сильные стороны. В статье <a href="../ru/File_systems.html" class="mw-redirect" title="Файловые системы">Файловые системы</a> кратко рассматриваются наиболее популярные файловые системы. Вы можете также найти полезные статьи <a href="../en/Category:File_systems.html" title="Category:File systems">здесь</a>.
</p>
<h4>
<span id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Параметры_монтирования">Параметры монтирования</span>
</h4>
<p>Различные параметры <a href="../ru/Fstab.html#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_atime" title="Fstab (Русский)">*atime</a> могут повысить производительность относительно <code>strictatime</code>.
</p>
<p>Другие параметры специфичны для конкретных ФС, поэтому смотрите соответствующие статьи:
</p>
<ul>
<li><a href="../en/Ext3.html" class="mw-redirect" title="Ext3 (Русский)">Ext3 (Русский)</a></li>
<li><a href="../en/Ext4.html#Improving_performance" title="Ext4">Ext4#Improving performance</a></li>
<li><a href="../en/JFS.html#Optimizations" title="JFS">JFS#Optimizations</a></li>
<li><a href="../ru/XFS.html#%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C" title="XFS (Русский)">XFS (Русский)#Производительность</a></li>
<li>
<a href="../ru/Btrfs.html#%D0%94%D0%B5%D1%84%D1%80%D0%B0%D0%B3%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F" title="Btrfs (Русский)">Btrfs (Русский)#Дефрагментация</a>, <a href="../ru/Btrfs.html#%D0%A1%D0%B6%D0%B0%D1%82%D0%B8%D0%B5" title="Btrfs (Русский)">Btrfs (Русский)#Сжатие</a> и <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5">btrfs(5)</a></span>
</li>
<li><a href="../en/ZFS.html#Tuning" title="ZFS">ZFS#Tuning</a></li>
<li><a href="../ru/NTFS.html#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="NTFS (Русский)">NTFS (Русский)#Увеличение производительности</a></li>
</ul>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Изменение_параметров_ядра">Изменение параметров ядра</span>
</h3>
<p>Есть несколько ключевых параметров, влияющих на производительность блочных устройств, смотрите <a href="../ru/Sysctl.html#%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C" title="Sysctl (Русский)">sysctl (Русский)#Виртуальная память</a>.
</p>
<h3>
<span id=".D0.9F.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D1.89.D0.B8.D0.BA.D0.B8_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0-.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Планировщики_ввода-вывода">Планировщики ввода-вывода</span>
</h3>
<h4>
<span id=".D0.98.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Информация">Информация</span>
</h4>
<p>Планировщик ввода-вывода <i>(I/O scheduler)</i> — это компонент ядра, который решает, в каком порядке операции блочного ввода-вывода отправляются на запоминающие устройства. Здесь полезно вспомнить особенности двух основных типов дисков, потому что цель планировщика ввода-вывода — оптимизировать способ обработки запросов на чтение:
</p>
<ul><li>У обычного жёсткого диска (HDD) есть вращающиеся диски и головка, которая физически перемещается в нужное место. Следовательно, задержки случайных операций довольно высоки и составляют от 3 до 12 мс (будь то высокопроизводительный серверный накопитель или накопитель портативного компьютера и в обход буфера записи контроллера диска), в то время как последовательный доступ обеспечивает гораздо более высокую пропускную способность. Типичная пропускная способность жесткого диска составляет около 200 операций ввода-вывода в секунду (<i>IOPS</i>).</li></ul>
<ul><li>Твердотельный накопитель (SSD) не имеет движущихся частей, случайные операции выполняются так же быстро, как и последовательный доступ, обычно менее 0,1 мс, и он может обрабатывать несколько одновременных запросов. Типичная пропускная способность SSD превышает 10000 IOPS, что больше, чем требуется при обычных рабочих нагрузках.</li></ul>
<p>Если есть много процессов, выполняющих запросы ввода-вывода к разным частям хранилища, могут быть сгенерированы тысячи операций ввода-вывода в секунду, в то время как обычный жёсткий диск может обрабатывать только около 200 операций. Есть очередь запросов, которые должны ждать доступа к хранилищу. Поэтому здесь есть планировщики ввода-вывода, выполняющие оптимизацию.
</p>
<h4>
<span id=".D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC.D1.8B_.D0.BF.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Алгоритмы_планирования">Алгоритмы планирования</span>
</h4>
<p>Одним из способов повышения пропускной способности является линеаризация доступа: упорядочивание ожидающих запросов по их логическим адресам и группировка самых близких из них. Исторически это был первый планировщик ввода-вывода Linux под названием <a href="https://en.wikipedia.org/wiki/Elevator_algorithm" class="extiw" title="wikipedia:Elevator algorithm">elevator</a>.
</p>
<p>Проблема этого алгоритма в том, что он не оптимален для процесса, выполняющего последовательный доступ: чтение блока данных, его обработка в течение нескольких микросекунд, затем чтение следующего блока и так далее. Планировщик не знает, что процесс собирается прочитать другой блок поблизости и переходит к другому запросу от другого процесса в другом месте диска. Планировщик <a href="https://en.wikipedia.org/wiki/Anticipatory_scheduling" class="extiw" title="wikipedia:Anticipatory scheduling">anticipatory</a> решает проблему: он делает паузу на несколько миллисекунд в ожидании следующей операции чтения, прежде чем обработать другой запрос.
</p>
<p>Хотя эти планировщики пытаются улучшить общую пропускную способность, они могут оставлять некоторые невезучие запросы в ожидании очень долгое время. Например, представьте, что большинство процессов отправляют запросы в начало диска, в то время как невезучий процесс делает запрос в другой конец диска. Это потенциально бесконечное откладывание процесса называется голоданием (starvation). Для повышения справедливости (fairness) был разработан алгоритм <a href="https://en.wikipedia.org/wiki/Deadline_scheduler" class="extiw" title="wikipedia:Deadline scheduler">deadline</a>. У него есть очередь, упорядоченная по адресу, аналогичная elevator, но если какой-либо запрос находится в этой очереди слишком долго, он перемещается в очередь «истёкших» запросов, упорядоченную по времени истечения. Планировщик сначала проверяет очередь «истёкших» запросов, обрабатывает запросы оттуда и только затем переходит в очередь elevator. Обратите внимание, что такая справедливость отрицательно сказывается на общей пропускной способности.
</p>
<p><a href="https://en.wikipedia.org/wiki/CFQ" class="extiw" title="wikipedia:CFQ">Completely Fair Queuing (CFQ)</a> («абсолютно справедливая очередь») подходит к проблеме иначе, выделяя временной интервал и количество разрешённых запросов по очереди в зависимости от приоритета процесса, отправляющего их. Он поддерживает <a href="../en/Cgroups.html" title="Cgroups">cgroups</a>, что позволяет зарезервировать некоторый объём ввода-вывода для определённого набора процессов. Это особенно полезно для общего и облачного хостинга: пользователи, которые заплатили за определённое число IOPS, хотят получать свою долю, когда это необходимо. Кроме того, он простаивает в конце синхронного ввода-вывода в ожидании других ближайших операций, переняв эту функцию у <i>anticipatory</i> планировщика и внеся некоторые улучшения. Планировщики <i>anticipatory</i> и <i>elevator</i> были выведены из эксплуатации из ядра Linux и заменены более продвинутыми альтернативами, представленными ниже.
</p>
<p><a rel="nofollow" class="external text" href="https://algo.ing.unimo.it/people/paolo/disk_sched/">Budget Fair Queuing (BFQ)</a><sup title="Статус последней проверки: SSL error">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-12-15 ⓘ]</sup> основан на коде CFQ и содержит некоторые улучшения. Он не предоставляет диск каждому процессу на фиксированный отрезок времени, но назначает процессу «бюджет», измеряемый в количестве секторов, и использует эвристики. Это относительно сложный планировщик, он может быть более адаптирован для HDD и медленных SSD, поскольку его высокие накладные расходы на операцию, особенно если они связаны с медленным процессором, могут замедлять работу быстрых устройств. Цель BFQ в персональных системах состоит в том, чтобы при интерактивных задачах запоминающее устройство реагировало практически так же, как если бы оно простаивало. В своей конфигурации по умолчанию он ориентирован на обеспечение минимальной задержки, а не на достижение максимальной пропускной способности, что порой может сильно <a rel="nofollow" class="external text" href="https://www.phoronix.com/review/linux-50hdd-io/2">ускорить запуск приложений</a> на HDD.
</p>
<p><a rel="nofollow" class="external text" href="https://lwn.net/Articles/720675/">Kyber</a> — относительно новый планировщик, созданный на основе методов активного управления очередью, используемых для сетевой маршрутизации. Реализация основана на «токенах», которые служат механизмом ограничения запросов. Токен очереди необходим для выделения запроса, он используется для предотвращения голодания. Dispatch-токен также необходим и ограничивает операции определённого приоритета на данном устройстве. Наконец, определяется целевая задержка чтения, и планировщик настраивается для достижения этой цели. Реализация алгоритма относительно проста и считается эффективной для быстрых устройств.
</p>
<h4>
<span id=".D0.9F.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D1.89.D0.B8.D0.BA.D0.B8_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0-.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0_.D0.B2_.D1.8F.D0.B4.D1.80.D0.B5"></span><span class="mw-headline" id="Планировщики_ввода-вывода_в_ядре">Планировщики ввода-вывода в ядре</span>
</h4>
<p>Хотя некоторые из ранних алгоритмов уже списаны, официальное ядро Linux поддерживает ряд планировщиков ввода-вывода, которые можно разделить на две категории:
</p>
<ul>
<li>
<b>Планировщики с несколькими очередями</b> доступны по умолчанию. <a rel="nofollow" class="external text" href="https://www.thomas-krenn.com/en/wiki/Linux_Multi-Queue_Block_IO_Queueing_Mechanism_(blk-mq)">Multi-Queue Block I/O Queuing Mechanism (blk-mq)</a> отображает запросы ввода-вывода в несколько очередей, задачи распределяются по потокам и, следовательно, ядрам процессора. В рамках этого фреймворка доступны следующие планировщики:
<ul>
<li>
<i>None</i>, где не применяется алгоритм организации очередей.</li>
<li>
<i>mq-deadline</i>, адаптация планировщика deadline (смотрите ниже) к многопоточности.</li>
<li><i>Kyber</i></li>
<li><i>BFQ</i></li>
</ul>
</li>
<li>
<b>Планировщики с одной очередью</b> являются наследием:
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/Noop_scheduler" class="extiw" title="w:Noop scheduler">NOOP</a> — это простейший планировщик, он вставляет все входящие запросы ввода-вывода в простую очередь FIFO и реализует объединение запросов. В этом алгоритме нет переупорядочивания запроса на основе номера сектора. Поэтому его можно использовать, если упорядочивание выполняется на другом уровне, например, на уровне устройства, или если это не имеет значения, например для SSD.</li>
<li><a href="https://en.wikipedia.org/wiki/Deadline_scheduler" class="extiw" title="w:Deadline scheduler">Deadline</a></li>
<li><a href="https://en.wikipedia.org/wiki/CFQ" class="extiw" title="w:CFQ">CFQ</a></li>
</ul>
</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Планировщики с одной очередью <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f382fb0bcef4c37dc049e9f6963e3baf204d815c">были удалены в Linux 5.0</a>.</div></dd></dl>
<h4>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D1.89.D0.B8.D0.BA.D0.B0_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0-.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Изменение_планировщика_ввода-вывода">Изменение планировщика ввода-вывода</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Лучший выбор планировщика зависит как от устройства, так и от конкретной рабочей нагрузки. Кроме того, пропускная способность в МБ/с — не единственный показатель производительности: deadline или fairness ухудшают общую пропускную способность, но могут улучшить скорость реакции системы. <a href="../ru/Benchmarking.html" title="Benchmarking (Русский)">Тестирование производительности</a> может быть полезным для определения производительности каждого планировщика ввода-вывода.</div>
<p>Чтобы посмотреть список доступных планировщиков и текущий планировщик (в квадратных скобках):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/block/<i><b>sda</b></i>/queue/scheduler</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">mq-deadline kyber [bfq] none
</pre>
<p>Чтобы посмотреть доступные планировщики для всех устройств:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ grep "" /sys/block/<b>*</b>/queue/scheduler</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/block/pktcdvd0/queue/scheduler:none
/sys/block/sda/queue/scheduler:mq-deadline kyber [bfq] none
/sys/block/sr0/queue/scheduler:[mq-deadline] kyber bfq none
</pre>
<p>Чтобы изменить планировщик на <i>bfq</i> для устройства <i>sda</i>:
</p>
<pre># echo <i><b>bfq</b></i> &gt; /sys/block/<i><b>sda</b></i>/queue/scheduler
</pre>
<p>Процесс изменения планировщика ввода-вывода в зависимости от того, вращающийся ли диск или нет, может быть автоматизирован и сохранён между перезагрузками. Например, приведённые ниже правила <a href="../ru/Udev.html" title="Udev (Русский)">udev</a> устанавливают планировщик <i>bfq</i> для вращающихся дисков, <i>bfq</i> для <a href="../ru/Solid_state_drive.html" title="Solid state drive (Русский)">SSD</a>/eMMC и <i>none</i> для <a href="../en/Solid_state_drive/NVMe.html" class="mw-redirect" title="NVMe">NVMe</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/60-ioschedulers.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># HDD
ACTION=="add|change", KERNEL=="sd[a-z]*", ATTR{queue/rotational}=="1", ATTR{queue/scheduler}="bfq"

# SSD
ACTION=="add|change", KERNEL=="sd[a-z]*|mmcblk[0-9]*", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="bfq"

# NVMe SSD
ACTION=="add|change", KERNEL=="nvme[0-9]*", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="none"
</pre>
<p>Перезагрузитесь или <a href="../ru/Udev.html#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D0%BD%D0%BE%D0%B2%D1%8B%D1%85_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB" title="Udev (Русский)">загрузите новые правила</a>.
</p>
<h4>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D1.89.D0.B8.D0.BA.D0.B0_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0-.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Настройка_планировщика_ввода-вывода">Настройка планировщика ввода-вывода</span>
</h4>
<p>Каждый планировщик ввода-вывода имеет свои собственные параметры, такие как время задержки, время истечения срока действия или параметры FIFO. Они помогают адаптировать алгоритм к конкретной комбинации устройства и рабочей нагрузки. Обычно это делается для достижения более высокой пропускной способности или меньшей задержки при заданном использовании.
Параметры и их описания можно найти в <a rel="nofollow" class="external text" href="https://docs.kernel.org/block/index.html">документации ядра</a>.
</p>
<p>Чтобы посмотреть доступные настройки для устройства, в примере ниже <i>sdb</i>, который использует <i>deadline</i>, используйте:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls /sys/block/<i><b>sdb</b></i>/queue/iosched</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">fifo_batch  front_merges  read_expire  write_expire  writes_starved</pre>
<p>Чтобы улучшить пропускную способность <i>deadline</i> ценой увеличения задержки, можно увеличить <code>fifo_batch</code> с помощью команды:
</p>
<pre># echo <i>32</i> &gt; /sys/block/<i><b>sdb</b></i>/queue/iosched/<b>fifo_batch</b></pre>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.B8.D1.82.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_.D0.B8_.D0.BA.D1.8D.D1.88.D0.B5.D0.BC_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8"></span><span class="mw-headline" id="Настройка_управления_питанием_и_кэшем_записи">Настройка управления питанием и кэшем записи</span>
</h3>
<p>При работе с традиционными вращающимися дисками (HDD) вы можете захотеть полностью уменьшить или отключить функции энергосбережения и убедиться, что кэш записи включен.
</p>
<p>Смотрите <a href="../ru/Hdparm.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC" title="Hdparm (Русский)">hdparm (Русский)#Настройка управления питанием</a> и <a href="../ru/Hdparm.html#%D0%9A%D1%8D%D1%88_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8" title="Hdparm (Русский)">hdparm (Русский)#Кэш записи</a>.
</p>
<p>После этого вы можете <a href="../ru/Hdparm.html#%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0_udev" title="Hdparm (Русский)">создать правило udev</a>, чтобы применять их при загрузке системы.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> <a href="../ru/GNOME.html" title="GNOME (Русский)">GNOME</a> позволяет установить некоторые из этих параметров через приложение «Диски» и не требует создания правила udev.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Некоторые функции могут не поддерживаться вашим жёстким диском — hdparm уведомит вас об этом. В таком случае просто пропустите настройку таких функций.</div>
<h3>
<span id=".D0.A3.D0.BC.D0.B5.D0.BD.D1.8C.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D1.87.D0.B8.D1.81.D0.BB.D0.B0_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D0.B9_.D1.87.D1.82.D0.B5.D0.BD.D0.B8.D1.8F.2F.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8"></span><span class="mw-headline" id="Уменьшение_числа_операций_чтения/записи">Уменьшение числа операций чтения/записи</span>
</h3>
<p>Избегание ненужного доступа к медленным накопителям полезно для производительности, а также увеличивает срок службы устройств, хотя на современном оборудовании разница в ожидаемом сроке службы обычно незначительна.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 32ГБ SSD с посредственным 10-кратным коэффициентом усиления записи (write amplification factor), стандартным циклом записи/стирания 10000 и <b>записью 10ГБ данных в день</b>, будет иметь <b>ожидаемый срок службы 8 лет</b>. Это становится лучше с более крупными SSD и современными контроллерами с меньшим усилением записи. Посмотрите также <a rel="nofollow" class="external text" href="https://techreport.com/review/27909/the-ssd-endurance-experiment-theyre-all-dead/">этот эксперимент на выносливость</a> при рассмотрении вопроса о том, действительно ли необходима какая-либо конкретная стратегия для ограничения записи на диск.</div>
<h4>
<span id=".D0.9E.D1.82.D1.81.D0.BB.D0.B5.D0.B6.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.BD.D0.B0_.D0.B4.D0.B8.D1.81.D0.BA"></span><span class="mw-headline" id="Отслеживание_записи_на_диск">Отслеживание записи на диск</span>
</h4>
<p>Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iotop">iotop</a></span> позволяет сортировать процессы по уровню записи на диск и показывать, сколько и как часто программы записывают на диск. Подробнее смотрите <span class="plainlinks archwiki-template-man" title="$ man 8 iotop"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iotop.8">iotop(8)</a></span>.
</p>
<h4>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B5.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.B2_tmpfs"></span><span class="mw-headline" id="Перемещение_файлов_в_tmpfs">Перемещение файлов в tmpfs</span>
</h4>
<p>Можно переместить файлы, такие как профиль вашего браузера, в файловую систему <a href="../ru/Tmpfs.html" title="Tmpfs (Русский)">tmpfs</a>, чтобы улучшить отзывчивость приложения, поскольку все файлы теперь хранятся в оперативной памяти:
</p>
<ul>
<li>Смотрите <a href="../ru/Profile-sync-daemon.html" title="Profile-sync-daemon (Русский)">Profile-sync-daemon</a> для синхронизации профилей браузера. Некоторым браузерам может потребоваться особое внимание; смотрите, например, <a href="../ru/Firefox/Profile_on_RAM.html" class="mw-redirect" title="Firefox/Profile on RAM (Русский)">Firefox/Profile on RAM (Русский)</a>.</li>
<li>Смотрите <a href="../ru/Anything-sync-daemon.html" title="Anything-sync-daemon (Русский)">Anything-sync-daemon</a> для синхронизации любого указанного каталога.</li>
<li>Смотрите <a href="../ru/Makepkg.html#%D0%A1%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8_%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B8" title="Makepkg (Русский)">makepkg (Русский)#Сокращение времени сборки</a> для ускорения времени компиляции путём сборки пакетов в tmpfs.</li>
</ul>
<h4>
<span id=".D0.A4.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Файловые_системы">Файловые системы</span>
</h4>
<p>Смотрите статью для соответствующей <a href="../ru/File_systems.html" title="File systems (Русский)">файловой системы</a>, например <a href="../en/Ext4.html#Improving_performance" title="Ext4">Ext4#Improving performance</a> и <a href="../ru/XFS.html#%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C" title="XFS (Русский)">XFS (Русский)#Производительность</a>.
</p>
<h4>
<span id=".D0.9F.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B0"></span><span class="mw-headline" id="Подкачка">Подкачка</span>
</h4>
<p>Смотрите <a href="../ru/Swap.html#%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C" title="Swap (Русский)">Swap (Русский)#Производительность</a>.
</p>
<h4>
<span id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D0.B2.D0.B0.D0.BB_writeback_.D0.B8_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80_.D0.B1.D1.83.D1.84.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Интервал_writeback_и_размер_буфера">Интервал writeback и размер буфера</span>
</h4>
<p>Смотрите <a href="../ru/Sysctl.html#%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C" title="Sysctl (Русский)">sysctl (Русский)#Виртуальная память</a>.
</p>
<h4>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BC.D0.BF.D0.BE.D0.B2_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span><span class="mw-headline" id="Отключение_дампов_памяти">Отключение дампов памяти</span>
</h4>
<p>Смотрите <a href="../ru/Core_dump.html#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85_%D0%B4%D0%B0%D0%BC%D0%BF%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8" class="mw-redirect" title="Дамп памяти">Дамп памяти#Отключение автоматических дампов памяти</a>.
</p>
<h3>
<span id=".D0.9F.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0-.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0_.D1.81_ionice"></span><span class="mw-headline" id="Планирование_ввода-вывода_с_ionice">Планирование ввода-вывода с ionice</span>
</h3>
<p>Многие задачи, такие как резервное копирование, не требуют маленьких задержек ввода-вывода или высокой пропускной способности для выполнения своей задачи, их можно классифицировать как фоновые задачи. С другой стороны, быстрый ввод-вывод необходим для хорошей отзывчивости пользовательского интерфейса на рабочем столе. Поэтому полезно уменьшить пропускную способность, доступной для фоновых задач, когда ввода-вывод нужен для других задач. Это может быть достигнуто использованием планировщика ввода-вывода Linux CFQ, который позволяет устанавливать различные приоритеты для процессов.
</p>
<p>Приоритет ввода-вывода фонового процесса можно снизить до уровня «Ожидание» («Idle»), запустив его с помощью команды
</p>
<pre># ionice -c 3 <i>команда</i>
</pre>
<p>Подробности доступны в <a rel="nofollow" class="external text" href="https://www.cyberciti.biz/tips/linux-set-io-scheduling-class-priority.html">кратком введении в ionice</a> и <span class="plainlinks archwiki-template-man" title="$ man 1 ionice"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ionice.1">ionice(1)</a></span>.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D1.86.D0.B5.D1.81.D1.81.D0.BE.D1.80"></span><span class="mw-headline" id="Процессор">Процессор</span>
</h2>
<h3>
<span id=".D0.9E.D0.B2.D0.B5.D1.80.D0.BA.D0.BB.D0.BE.D0.BA.D0.B8.D0.BD.D0.B3"></span><span class="mw-headline" id="Оверклокинг">Оверклокинг</span>
</h3>
<p>Разгон процессора (<a href="https://en.wikipedia.org/wiki/ru:%D0%9E%D0%B2%D0%B5%D1%80%D0%BA%D0%BB%D0%BE%D0%BA%D0%B8%D0%BD%D0%B3" class="extiw" title="wikipedia:ru:Оверклокинг">оверклокинг</a>) улучшает его вычислительную производительность за счёт увеличения его пиковой тактовой частоты. Возможность разгона зависит от комбинации модели процессора и модели материнской платы. Чаще всего это делается через BIOS. У разгона тоже есть недостатки и риски, так что выполнять его не рекомендуется.
</p>
<p>Многие чипы Intel неправильно сообщают о своей тактовой частоте в acpi_cpufreq и большинстве других утилит. Это приводит к появлению большого количества сообщений в <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">dmesg</a>, чего можно избежать, выгрузив и занеся в чёрный список модуль ядра <code>acpi_cpufreq</code>. Чтобы узнать тактовую частоту, используйте <i>i7z</i> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=i7z">i7z</a></span>. Для проверки корректности работы разогнанного процессора рекомендуется провести <a href="../en/Stress_testing.html" title="Stress testing">стресс-тестирование</a>.
</p>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.87.D0.B0.D1.81.D1.82.D0.BE.D1.82.D1.8B_.D0.BF.D1.80.D0.BE.D1.86.D0.B5.D1.81.D1.81.D0.BE.D1.80.D0.B0"></span><span class="mw-headline" id="Изменение_частоты_процессора">Изменение частоты процессора</span>
</h3>
<p>Смотрите <a href="../en/CPU_frequency_scaling.html" class="mw-redirect" title="Управление частотой процессора">Управление частотой процессора</a>.
</p>
<h3>
<span id=".D0.9F.D0.BB.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D1.89.D0.B8.D0.BA"></span><span class="mw-headline" id="Планировщик">Планировщик</span>
</h3>
<p>Планировщик (CPU scheduler), используемый по умолчанию в mainline Linux, — <a rel="nofollow" class="external text" href="https://lwn.net/Articles/925371/">EEVDF</a>.
</p>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/Brain_Fuck_Scheduler#MuQSS" class="extiw" title="wikipedia:Brain Fuck Scheduler">MuQSS</a></b> — Планировщик MuQSS (родившийся из "Brain Fuck Scheduler") призван улучшить отзывчивость системы для настольных компьютеров и других рабочих нагрузок. Доступен с набором патчей <code>-ck</code> разработанным <a href="https://en.wikipedia.org/wiki/Con_Kolivas" class="extiw" title="wikipedia:Con Kolivas">Con Kolivas</a>.</li></ul>
<dl><dd>
<a href="../en/Unofficial_user_repositories/Repo-ck.html" title="Unofficial user repositories/Repo-ck">Unofficial user repositories/Repo-ck</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-ck/">linux-ck</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a rel="nofollow" class="external text" href="https://cchalpha.blogspot.com/search/label/PDS">PDS</a></b> — Планировщик PDS расшифровывается как "планировщик множественных очередей на основе приоритетов и дедлайнов Skiplist", который является производным от бывшего планировщика BFS Кона Коливаса с поддержкой очереди переменного выполнения (VRQ), но при этом отличается от текущего планировщика MuQSS.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://cchalpha.blogspot.com/">https://cchalpha.blogspot.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-pds/">linux-pds</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b><a rel="nofollow" class="external text" href="https://cchalpha.blogspot.com/search/label/BMQ">BMQ</a></b> — Планировщик BMQ "BitMap Queue" был создан на основе имеющегося опыта разработки PDS и вдохновлён планировщиком из Zircon — ядра, на котором работает Fuchsia OS от Google. Доступен с набором патчей от CachyOS.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://cchalpha.blogspot.com/">https://cchalpha.blogspot.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-cachyos-bmq/">linux-cachyos-bmq</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b><a rel="nofollow" class="external text" href="https://cchalpha.blogspot.com/2020/05/project-c-announcement.html">Project C</a></b> — Кросс-проект по рефакторингу BMQ в Project C, с пересозданием PDS на основе кодовой базы Project C. Таким образом это слияние двух проектов, с последующим обновлением PDS в виде Project C. Рекомендуется как более свежая разработка.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://cchalpha.blogspot.com/">https://cchalpha.blogspot.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-prjc/">linux-prjc</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a rel="nofollow" class="external text" href="https://github.com/hamadmarri/TT-CPU-Scheduler">TT</a></b> — Цель планировщика Task Type (TT) — определить типы задач на основе их поведения и управлять планированием на основе их типов.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/hamadmarri/TT-CPU-Scheduler">https://github.com/hamadmarri/TT-CPU-Scheduler</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-tt/">linux-tt</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b><a rel="nofollow" class="external text" href="https://github.com/firelzrd/bore-scheduler">BORE</a></b> — Планировщик BORE сосредоточен на том, чтобы пожертвовать некоторой справедливостью ради меньшей задержки планирования интерактивных задач, он построен поверх CFS и корректируется только для обновления кода vruntime, поэтому общие изменения довольно малы по сравнению с другими неофициальными планировщиками CPU.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/firelzrd/bore-scheduler">https://github.com/firelzrd/bore-scheduler</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-cachyos-bore/">linux-cachyos-bore</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3>
<span id=".D0.AF.D0.B4.D1.80.D0.BE_.D1.80.D0.B5.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8"></span><span class="mw-headline" id="Ядро_реального_времени">Ядро реального времени</span>
</h3>
<p>Некоторые приложения, такие как запуск ТВ-тюнера в разрешении Full HD (1080p), могут выиграть от использования <a href="../en/Realtime_kernel_patchset.html" class="mw-redirect" title="Realtime kernel">ядра с функционалом реального времени</a>.
</p>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D1.80.D0.B8.D0.BE.D1.80.D0.B8.D1.82.D0.B5.D1.82.D0.B0_.D0.BF.D1.80.D0.BE.D1.86.D0.B5.D1.81.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Настройка_приоритета_процессов">Настройка приоритета процессов</span>
</h3>
<p>Смотрите также <span class="plainlinks archwiki-template-man" title="$ man 1 nice"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nice.1">nice(1)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 1 renice"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/renice.1">renice(1)</a></span>.
</p>
<h4><span class="mw-headline" id="Ananicy">Ananicy</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/Nefelim4ag/Ananicy">Ananicy</a> — демон, доступный в пакете <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ananicy-git/">ananicy-git</a></span><sup><small>AUR</small></sup> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ananicy-cpp">ananicy-cpp</a></span>, предназначенный для автоматической настройки приоритета.
</p>
<h4><span class="mw-headline" id="cgroups">cgroups</span></h4>
<p>Смотрите <a href="../en/Cgroups.html" title="Cgroups">cgroups</a>.
</p>
<h4><span class="mw-headline" id="Cpulimit">Cpulimit</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/opsengine/cpulimit">Cpulimit</a> — программа, ограничивающая использование процессора для определённого процесса. После установки <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cpulimit/">cpulimit</a></span><sup><small>AUR</small></sup> вы можете ограничить использование ЦП процессами по их PID, используя шкалу от 0 до 100, умноженную на число ядер вашего процессора. Например, если у вас восьмиядерный процессор, то вы можете задать значение от 0 до 800. Использование:
</p>
<pre>$ cpulimit -l 50 -p 5081
</pre>
<h3><span class="mw-headline" id="irqbalance">irqbalance</span></h3>
<p>Цель <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=irqbalance">irqbalance</a></span> — распределить аппаратные прерывания между процессорами в многопроцессорной системе для повышения производительности. Его можно контролировать с помощью службы <code>irqbalance.service</code>.
</p>
<h3>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B0.D1.89.D0.B8.D1.82.D1.8B_.D0.BE.D1.82_.D1.83.D1.8F.D0.B7.D0.B2.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B5.D0.B9"></span><span class="mw-headline" id="Отключение_защиты_от_уязвимостей">Отключение защиты от уязвимостей</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Не применяйте этот параметр без понимания уязвимостей, которые он открывает. Более подробную информацию смотрите <a rel="nofollow" class="external text" href="https://phoronix.com/scan.php?page=news_item&amp;px=Linux-Improve-CPU-Spec-Switches">здесь</a> и <a rel="nofollow" class="external text" href="https://linuxreviews.org/HOWTO_make_Linux_run_blazing_fast_(again)_on_Intel_CPUs">здесь</a>.</div>
<p>Отключение защиты от уязвимостей процессора может улучшить производительность. Используйте следующий <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> для отключения всех защит:
</p>
<pre>mitigations=off
</pre>
<p>Описание всех опций, которые он переключает, доступно на <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/kernel-parameters.html">kernel.org</a>. Вы можете использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spectre-meltdown-checker/">spectre-meltdown-checker</a></span><sup><small>AUR</small></sup> или <span class="plainlinks archwiki-template-man" title="$ man 1 lscpu"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lscpu.1">lscpu(1)</a></span> (из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>) для проверки наличия уязвимостей.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> При использовании процессора Intel поколения 10 и новее или AMD Ryzen series 1000 и новее ускорение от отключения защиты будет лишь в пределах 5%, а не 25%, как в предыдущих поколениях. Смотрите <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=3-years-specmelt">общий обзор на начало 2021 года</a>, <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=spectre-rocket-lake">тест Rocket Lake</a> и <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=alder-lake-mitigations">тест Alder Lake</a>
</div>
<h2>
<span id=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B0"></span><span class="mw-headline" id="Графика">Графика</span>
</h2>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_Xorg"></span><span class="mw-headline" id="Настройка_Xorg">Настройка Xorg</span>
</h3>
<p>Производительность графики может зависеть от настроек в <span class="plainlinks archwiki-template-man" title="$ man 5 xorg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xorg.conf.5">xorg.conf(5)</a></span>; смотрите статьи <a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA</a>, <a href="../en/AMDGPU.html" class="mw-redirect" title="AMDGPU (Русский)">AMDGPU</a> и <a href="../ru/Intel_graphics.html" title="Intel graphics (Русский)">Intel</a>. Неправильные настройки могут помешать запуску Xorg, поэтому будьте осторожны.
</p>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_Mesa"></span><span class="mw-headline" id="Настройка_Mesa">Настройка Mesa</span>
</h3>
<p>Производительность драйверов Mesa можно настроить через <a rel="nofollow" class="external text" href="https://dri.freedesktop.org/wiki/ConfigurationInfrastructure/">drirc</a>.
Есть инструменты с графическим интерфейсом:
</p>
<ul><li>
<b>adriconf (Advanced DRI Configurator)</b> — Записывает опции в стандартный файл drirc.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/mesa/adriconf/">https://gitlab.freedesktop.org/mesa/adriconf/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=adriconf">adriconf</a></span>
</dd></dl>
<ul><li>
<b>DRIconf</b> — Апплет конфигурации для Direct Rendering Infrastructure. Позволяет настраивать параметры производительности и визуального качества OpenGL на уровне драйвера, экрана и/или приложения.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://dri.freedesktop.org/wiki/DriConf/">https://dri.freedesktop.org/wiki/DriConf/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/driconf/">driconf</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</dd></dl>
<h3>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B5_.D1.83.D1.81.D0.BA.D0.BE.D1.80.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE"></span><span class="mw-headline" id="Аппаратное_ускорение_видео">Аппаратное ускорение видео</span>
</h3>
<p><a href="../ru/Hardware_video_acceleration.html" class="mw-redirect" title="Аппаратное ускорение видео">Аппаратное ускорение видео</a> даёт возможность декодировать или кодировать видео с помощью видеокарты.
</p>
<h3>
<span id=".D0.9E.D0.B2.D0.B5.D1.80.D0.BA.D0.BB.D0.BE.D0.BA.D0.B8.D0.BD.D0.B3_2"></span><span class="mw-headline" id="Оверклокинг_2">Оверклокинг</span>
</h3>
<p>Как и с процессорами, разгон видеокарт может напрямую улучшить производительность, но обычно делать его не рекомендуется. Доступно несколько пакетов: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rovclock/">rovclock</a></span><sup><small>AUR</small></sup> (для ATI), <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rocm-smi-lib">rocm-smi-lib</a></span> (для новых AMD), <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvclock/">nvclock</a></span><sup><small>AUR</small></sup> (старые NVIDIA до Geforce 9), <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span> (для новых NVIDIA).
</p>
<p>Смотрите <a href="../en/AMDGPU.html#Overclocking" title="AMDGPU">AMDGPU#Overclocking</a> или <a href="../ru/NVIDIA/Tips_and_tricks.html#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0" class="mw-redirect" title="NVIDIA/Советы и приёмы">NVIDIA/Советы и приёмы#Включение разгона</a>.
</p>
<h3>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_PCI_resizable_BAR"></span><span class="mw-headline" id="Включение_PCI_resizable_BAR">Включение PCI resizable BAR</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>На некоторых системах включение PCI resizable BAR может привести к значительной потере производительности. Проведите тестирование, чтобы убедиться, что производительность действительно увеличивается.</li>
<li>CSM в настройках UEFI должен быть отключен.</li>
</ul>
</div>
<p>Спецификация PCI позволяет использовать базовые адресные регистры (<a href="https://en.wikipedia.org/wiki/ru:%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%81%D1%82%D0%B2%D0%BE_PCI#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B0.D1.8F_.D0.B8.D0.BD.D0.B8.D1.86.D0.B8.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.B0.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D1.83.D1.80.D1.8B_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.B0" class="extiw" title="wikipedia:ru:Конфигурационное пространство PCI">Base Address Registers</a>, BAR'ы) большего размера для предоставления доступа к памяти PCI-устройств контроллеру PCI. Доступ ко всей видеопамяти повышает производительность, а также позволяет задействовать оптимизации в графическом драйвере. Комбинация Resizable BAR, Above 4G Decoding и оптимизаций в драйвере — это то, что AMD называет <a rel="nofollow" class="external text" href="https://www.amd.com/en/technologies/smart-access-memory">AMD Smart Access Memory</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-07-30 ⓘ]</sup>, которая изначально стала доступна на материнских платах с набором микросхем AMD Series 500, а затем была добавлена в AMD Series 400, Intel Series 300 и более поздние через обновления UEFI. Этот параметр может быть доступен не на всех материнских платах и, как известно, иногда вызывает проблемы с загрузкой на некоторых платах.
</p>
<p>Если BAR имеет размер 256M, функция не включена или не поддерживается:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep BAR=</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[drm] Detected VRAM RAM=8176M, BAR=256M</pre>
<p>Найдите и включите опцию, которая обычно называется «Above 4G Decode» или «&gt;4GB MMIO» в настройках вашей материнской платы, и после этого BAR должен стать больше:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep BAR=</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[drm] Detected VRAM RAM=8176M, BAR=8192M</pre>
<h2>
<span id=".D0.9E.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D0.B0.D1.8F_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D1.8C.2C_.D0.BF.D0.BE.D0.B4.D0.BA.D0.B0.D1.87.D0.BA.D0.B0_.D0.B8_.D0.BE.D0.B1.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.BA.D0.B0_.D0.BD.D0.B5.D1.85.D0.B2.D0.B0.D1.82.D0.BA.D0.B8_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span><span class="mw-headline" id="Оперативная_память,_подкачка_и_обработка_нехватки_памяти">Оперативная память, подкачка и обработка нехватки памяти</span>
</h2>
<h3>
<span id=".D0.A2.D0.B0.D0.BA.D1.82.D0.BE.D0.B2.D0.B0.D1.8F_.D1.87.D0.B0.D1.81.D1.82.D0.BE.D1.82.D0.B0_.D0.B8_.D1.82.D0.B0.D0.B9.D0.BC.D0.B8.D0.BD.D0.B3.D0.B8"></span><span class="mw-headline" id="Тактовая_частота_и_тайминги">Тактовая частота и тайминги</span>
</h3>
<p>Память может работать на разных тактовых частотах и таймингах, которые можно настроить в BIOS. Производительность памяти зависит от обоих значений. Выбор максимальной предустановки, представленной в BIOS, обычно улучшает производительность по сравнению с настройкой по умолчанию. Обратите внимание, что увеличение частоты до значений, не поддерживаемых производителем материнской платы и оперативной памяти, является разгоном, и при этом возникают аналогичные риски и недостатки (смотрите <a href="#%D0%9E%D0%B2%D0%B5%D1%80%D0%BA%D0%BB%D0%BE%D0%BA%D0%B8%D0%BD%D0%B3">#Оверклокинг</a>).
</p>
<h3>
<span id=".D0.9A.D0.BE.D1.80.D0.BD.D0.B5.D0.B2.D0.B0.D1.8F_.D0.A4.D0.A1_.D0.BD.D0.B0_.D0.9E.D0.97.D0.A3-.D0.BE.D0.B2.D0.B5.D1.80.D0.BB.D0.B5.D0.B5"></span><span class="mw-headline" id="Корневая_ФС_на_ОЗУ-оверлее">Корневая ФС на ОЗУ-оверлее</span>
</h3>
<p>Если система загружается с медленно записывающего носителя (USB, HDD) и требования к хранилищу небольшие, можно разместить корневую файловую систему в оперативной памяти, сделав её оверлеем поверх реального корня, хранящегося на диске. Это может сильно повысить производительность ценой ограничения доступного для записи места. Смотрите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/liveroot/">liveroot</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="zram_.D0.B8.D0.BB.D0.B8_zswap"></span><span class="mw-headline" id="zram_или_zswap">zram или zswap</span>
</h3>
<p>Похожие преимущества (с похожими затратами) можно получить с использованием <a href="../ru/Zswap.html" title="Zswap (Русский)">zswap</a> или <a href="../ru/Zram.html" title="Zram (Русский)">zram</a>. Они в целом похожи по назначению, но работают по-разному: zswap работает как сжатый кэш ОЗУ и не требует (и не допускает) обширной конфигурации в пространстве пользователя, в то время как zram — это модуль ядра, который позволяет создать сжатое блочное устройство в памяти и использовать его для любых целей. Zswap работает в связке с обычной подкачкой, а zram-устройство может использоваться как подкачка само по себе.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE.D0.BA.D0.B0.D1.80.D1.82.D1.8B"></span><span class="mw-headline" id="Использование_памяти_видеокарты">Использование памяти видеокарты</span>
</h3>
<p>В том маловероятном случае, когда у вас очень мало ОЗУ и много лишней видеопамяти, можно использовать последнюю в качестве подкачки. Смотрите <a href="../en/Swap_on_video_RAM.html" title="Swap on video RAM">Swap on video RAM</a>.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B2.D1.8B.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D1.82.D0.B7.D1.8B.D0.B2.D1.87.D0.B8.D0.B2.D0.BE.D1.81.D1.82.D0.B8_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B2_.D1.83.D1.81.D0.BB.D0.BE.D0.B2.D0.B8.D1.8F.D1.85_.D0.BD.D0.B5.D1.85.D0.B2.D0.B0.D1.82.D0.BA.D0.B8_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span><span class="mw-headline" id="Повышение_отзывчивости_системы_в_условиях_нехватки_памяти">Повышение отзывчивости системы в условиях нехватки памяти</span>
</h3>
<p>В традиционной системе GNU/Linux, особенно для графических рабочих станций, когда выделенная память оказывается перегружена (overcommitted), общая отзывчивость системы может упасть до почти непригодного для использования состояния раньше чем успеет сработать встроенный в ядро OOM-киллер или освободится достаточно памяти (что вряд ли произойдёт быстро, так как у вас с трудом получится закрыть ресурсоёмкие приложения в условиях плохой отзывчивости системы). Поведение также зависит от конкретных настроек и условий, возврат к нормальному состоянию отклика может занять от нескольких секунд до более получаса, что может быть болезненным при ожидании в серьёзном сценарии, например во время презентации на конференции.
</p>
<p>Хотя поведение ядра и пользовательского пространства в условиях нехватки памяти может улучшиться в будущем, как это обсуждается в списках рассылки <a rel="nofollow" class="external text" href="https://lore.kernel.org/lkml/d9802b6a-949b-b327-c4a6-3dbca485ec20@gmx.com/T/">kernel</a> и <a rel="nofollow" class="external text" href="https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/XUZLHJ5O32OX24LG44R7UZ2TMN6NY47N/">Fedora</a>, пользователи могут использовать более эффективные варианты, чем полный сброс системы или настройка <a href="../ru/Sysctl.html" title="Sysctl (Русский)">sysctl</a> параметров <code>vm.overcommit_*</code>:
</p>
<ul>
<li>Запустить OOM-киллер вручную с помощью <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/sysrq.html">Magic SysRq key</a> — <code>Alt+SysRq+f</code>.</li>
<li>Использовать OOM-демон для решения этих проблем автоматически (или в интерактивном режиме).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Запуск OOM-киллера для уничтожения запущенных приложений может привести к потере несохранённой работы. Вам решать, набраться ли терпения и подождать в надежде, что приложения наконец-то освободят память, или как можно скорее вернуть в отзывчивое состояние систему, не отвечающую на запросы.</div>
<p>Иногда пользователь может предпочесть демон OOM в пространстве пользователя вместо SysRq, потому что в OOM-киллере ядра вы не можете установить приоритет того, какие процессы убивать (или не убивать). Список некоторых демонов OOM:
</p>
<ul><li>
<b>systemd-oomd</b> — Предоставляется <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> как <code>systemd-oomd.service</code>, который использует cgroups-v2 и pressure stall information (PSI) для мониторинга и принятия мер до того, как запустится OOM-киллер в ядре.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/systemd/systemd">https://github.com/systemd/systemd</a>, <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-oomd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-oomd.8">systemd-oomd(8)</a></span> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>
</dd></dl>
<ul><li>
<b>earlyoom</b> — Простая реализация OOM-киллера, написанная на C.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rfjakob/earlyoom">https://github.com/rfjakob/earlyoom</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=earlyoom">earlyoom</a></span>
</dd></dl>
<ul><li>
<b>oomd</b> — Реализация OOM-киллера на основе <a rel="nofollow" class="external text" href="https://lwn.net/Articles/759781/">PSI</a>, требует ядро Linux версии 4.20+. Конфигурация в JSON и довольно сложна. Используется в производственной среде Facebook.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/facebookincubator/oomd">https://github.com/facebookincubator/oomd</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oomd/">oomd</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>nohang</b> — Сложный обработчик OOM, написанный на Python, с опциональной поддержкой PSI, более настраиваемый чем earlyoom.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/hakavlad/nohang">https://github.com/hakavlad/nohang</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nohang-git/">nohang-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>low-memory-monitor</b> — GNOME developer's effort that aims to provides better communication to userspace applications to indicate the low memory state, besides that it could be configured to trigger the kernel OOM-killer. Based on PSI, requires Linux 5.2+.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/hadess/low-memory-monitor/">https://gitlab.freedesktop.org/hadess/low-memory-monitor/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/low-memory-monitor-git/">low-memory-monitor-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>uresourced</b> — Небольшой демон, который включает защиту ресурсов на базе cgroups для активного графического пользовательского сеанса.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/benzea/uresourced">https://gitlab.freedesktop.org/benzea/uresourced</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uresourced/">uresourced</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id=".D0.A1.D0.B5.D1.82.D1.8C"></span><span class="mw-headline" id="Сеть">Сеть</span>
</h2>
<ul>
<li>Настройка параметров ядра: смотрите <a href="../ru/Sysctl.html#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="Sysctl (Русский)">sysctl (Русский)#Увеличение производительности</a>
</li>
<li>Сетевая карта (NIC): смотрите <a href="../ru/Network_configuration.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_MTU_%D0%B8_%D0%B4%D0%BB%D0%B8%D0%BD%D1%8B_%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D0%B8" class="mw-redirect" title="Настройка сети">Настройка сети#Установка MTU и длины очереди</a>
</li>
<li>DNS: используйте кэширующий резолвер DNS, смотрите <a href="../ru/Domain_name_resolution.html#DNS-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%8B" class="mw-redirect" title="Разрешение доменных имён">Разрешение доменных имён#DNS-серверы</a>
</li>
<li>Samba: смотрите <a href="../ru/Samba.html#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%BD%D0%BE%D0%B9_%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="Samba (Русский)">Samba (Русский)#Увеличение пропускной способности</a>
</li>
</ul>
<h2>
<span id=".D0.A1.D1.82.D0.BE.D1.80.D0.BE.D0.B6.D0.B5.D0.B2.D1.8B.D0.B5_.D1.82.D0.B0.D0.B9.D0.BC.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Сторожевые_таймеры">Сторожевые таймеры</span>
</h2>
<p>Как пишет <a href="https://en.wikipedia.org/wiki/ru:%D0%A1%D1%82%D0%BE%D1%80%D0%BE%D0%B6%D0%B5%D0%B2%D0%BE%D0%B9_%D1%82%D0%B0%D0%B9%D0%BC%D0%B5%D1%80" class="extiw" title="wikipedia:ru:Сторожевой таймер">Wikipedia:ru:Сторожевой таймер</a>:
</p>
<dl><dd>Сторожевой таймер (watchdog) — аппаратно реализованная схема контроля над зависанием системы. Представляет собой таймер, который периодически сбрасывается контролируемой системой. Если сброса не произошло в течение некоторого интервала времени, происходит принудительная перезагрузка системы.</dd></dl>
<p>Многим пользователям эта функция нужна из-за критически важной роли их системы (например, серверов) или из-за отсутствия возможности сброса питания (например, встроенных устройств). Таким образом, эта функция требуется для нормальной работы в некоторых ситуациях. С другой стороны, обычным пользователям (например, на настольных компьютерах и ноутбуках) эта функция не нужна, и они могут её отключить.
</p>
<p>Чтобы отключить сторожевые таймеры (как программные, так и аппаратные), добавьте <code>nowatchdog</code> к параметрам загрузки.
</p>
<p>Параметр загрузки <code>nowatchdog</code> может не работать для аппаратного сторожевого таймера Intel TCO <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=221239">[1]</a>. В этом случае можно отключить модуль ядра для TCO, добавив <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>modprobe.blacklist=iTCO_wdt</code>.
</p>
<p>При использовании процессора AMD Ryzen проверьте наличие <code>sp5100-tco</code> в <a href="../ru/Systemd/Journal.html" title="Systemd (Русский)/Journal (Русский)">журнале</a>. Это аппаратный сторожевой таймер внутри <a href="https://en.wikipedia.org/wiki/AMD_700_chipset_series" class="extiw" title="wikipedia:AMD 700 chipset series">чипсетов серии AMD 700</a>. Для его отключения:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/disable-sp5100-watchdog.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist sp5100_tco
</pre>
<p>Или используйте <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>modprobe.blacklist=sp5100_tco</code>.
</p>
<p>Для проверки изменений выполните <code>cat /proc/sys/kernel/watchdog</code> или <code>wdctl</code>.
</p>
<p>Это ускорит загрузку и завершение работы системы, потому что загружается на один модуль меньше. Кроме того, отключение сторожевых таймеров увеличивает производительность и <a href="../ru/Power_management.html#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D1%82%D0%BE%D1%80%D0%BE%D0%B6%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_%D1%82%D0%B0%D0%B9%D0%BC%D0%B5%D1%80%D0%B0_%D1%81_NMI" title="Power management (Русский)">снижает энергопотребление</a>.
</p>
<p>Для более подробной информации смотрите <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=163768">[2]</a>, <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=165834">[3]</a>, <a rel="nofollow" class="external autonumber" href="https://0pointer.de/blog/projects/watchdog.html">[4]</a> и <a rel="nofollow" class="external autonumber" href="https://docs.kernel.org/watchdog/watchdog-parameters.html">[5]</a>.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Performance_Tuning_Guide/index.html">Red Hat Performance Tuning Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://www.thomas-krenn.com/en/wiki/Linux_Performance_Measurements_using_vmstat">Linux Performance Measurements using vmstat</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Hardware.html" title="Category:Hardware (Русский)">Hardware (Русский)</a></li>
<li><a href="../ru/Category:System_administration.html" title="Category:System administration (Русский)">System administration (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Improving_performance_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=823163">https://wiki.archlinux.org/index.php?title=Improving_performance_(Русский)&amp;oldid=823163</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 December 2024, at 08:53.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
