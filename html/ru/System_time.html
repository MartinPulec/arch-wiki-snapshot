<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System time (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System_time_Русский rootpage-System_time_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Аппаратные_часы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B5_%D1%87%D0%B0%D1%81%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Аппаратные часы</div>
		</a>
		
			<button aria-controls="toc-Аппаратные_часы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Аппаратные часы subsection</span>
			</button>
		
		<ul id="toc-Аппаратные_часы-sublist" class="vector-toc-list">
			<li id="toc-Просмотр_времени_из_аппаратных_часов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B8%D0%B7_%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D1%85_%D1%87%D0%B0%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Просмотр времени из аппаратных часов</div>
			</a>
			
			<ul id="toc-Просмотр_времени_из_аппаратных_часов-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Изменение_времени_аппаратных_часов_по_системным_часам" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8_%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D1%85_%D1%87%D0%B0%D1%81%D0%BE%D0%B2_%D0%BF%D0%BE_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%BC_%D1%87%D0%B0%D1%81%D0%B0%D0%BC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Изменение времени аппаратных часов по системным часам</div>
			</a>
			
			<ul id="toc-Изменение_времени_аппаратных_часов_по_системным_часам-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Системные_часы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B5_%D1%87%D0%B0%D1%81%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Системные часы</div>
		</a>
		
			<button aria-controls="toc-Системные_часы-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Системные часы subsection</span>
			</button>
		
		<ul id="toc-Системные_часы-sublist" class="vector-toc-list">
			<li id="toc-Просмотр_времени" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Просмотр времени</div>
			</a>
			
			<ul id="toc-Просмотр_времени-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Изменение_времени_системых_часов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B%D1%85_%D1%87%D0%B0%D1%81%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Изменение времени системых часов</div>
			</a>
			
			<ul id="toc-Изменение_времени_системых_часов-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Стандарт_времени" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Стандарт времени</div>
		</a>
		
			<button aria-controls="toc-Стандарт_времени-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Стандарт времени subsection</span>
			</button>
		
		<ul id="toc-Стандарт_времени-sublist" class="vector-toc-list">
			<li id="toc-UTC_в_Microsoft_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UTC_%D0%B2_Microsoft_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>UTC в Microsoft Windows</div>
			</a>
			
			<ul id="toc-UTC_в_Microsoft_Windows-sublist" class="vector-toc-list">
				<li id="toc-Исторические_примечания" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%87%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Исторические примечания</div>
			</a>
			
			<ul id="toc-Исторические_примечания-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-UTC_в_Ubuntu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UTC_%D0%B2_Ubuntu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>UTC в Ubuntu</div>
			</a>
			
			<ul id="toc-UTC_в_Ubuntu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Часовой_пояс" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A7%D0%B0%D1%81%D0%BE%D0%B2%D0%BE%D0%B9_%D0%BF%D0%BE%D1%8F%D1%81">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Часовой пояс</div>
		</a>
		
			<button aria-controls="toc-Часовой_пояс-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Часовой пояс subsection</span>
			</button>
		
		<ul id="toc-Часовой_пояс-sublist" class="vector-toc-list">
			<li id="toc-Выбор_на_основе_геолокации" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_%D0%BD%D0%B0_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5_%D0%B3%D0%B5%D0%BE%D0%BB%D0%BE%D0%BA%D0%B0%D1%86%D0%B8%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Выбор на основе геолокации</div>
			</a>
			
			<ul id="toc-Выбор_на_основе_геолокации-sublist" class="vector-toc-list">
				<li id="toc-Обновление_часового_пояса_после_подключения_к_сети_через_NetworkManager" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%87%D0%B0%D1%81%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE_%D0%BF%D0%BE%D1%8F%D1%81%D0%B0_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA_%D1%81%D0%B5%D1%82%D0%B8_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_NetworkManager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Обновление часового пояса после подключения к сети через NetworkManager</div>
			</a>
			
			<ul id="toc-Обновление_часового_пояса_после_подключения_к_сети_через_NetworkManager-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Погрешность_часов" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B3%D1%80%D0%B5%D1%88%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D1%87%D0%B0%D1%81%D0%BE%D0%B2">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Погрешность часов</div>
		</a>
		
		<ul id="toc-Погрешность_часов-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Синхронизация_времени" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Синхронизация времени</div>
		</a>
		
		<ul id="toc-Синхронизация_времени-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Настройки_для_пользователя/сессии_или_временные_настройки" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D0%B4%D0%BB%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F/%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%B8_%D0%B8%D0%BB%D0%B8_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Настройки для пользователя/сессии или временные настройки</div>
		</a>
		
		<ul id="toc-Настройки_для_пользователя/сессии_или_временные_настройки-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Советы и рекомендации</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-fake-hwclock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fake-hwclock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>fake-hwclock</div>
			</a>
			
			<ul id="toc-fake-hwclock-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Решение проблем</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Часы_показывают_значение,_которое_не_является_ни_UTC,_ни_местным_временем" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A7%D0%B0%D1%81%D1%8B_%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D1%8B%D0%B2%D0%B0%D1%8E%D1%82_%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5,_%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B5_%D0%BD%D0%B5_%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%D0%BD%D0%B8_UTC,_%D0%BD%D0%B8_%D0%BC%D0%B5%D1%81%D1%82%D0%BD%D1%8B%D0%BC_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B5%D0%BC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Часы показывают значение, которое не является ни UTC, ни местным временем</div>
			</a>
			
			<ul id="toc-Часы_показывают_значение,_которое_не_является_ни_UTC,_ни_местным_временем-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Смотрите также</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">System time (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/System_time.html" title="System time – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/System_time.html" title="System time – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E6%99%82%E5%88%BB" title="時刻 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/System_time" title="System time – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/System_time.html" title="System time">System time</a>. Дата последней синхронизации: 4 февраля 2022. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=System_time&amp;diff=0&amp;oldid=713381">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon (Русский)">Network Time Protocol daemon (Русский)</a></li>
<li><a href="../en/OpenNTPD.html" title="OpenNTPD">OpenNTPD</a></li>
<li><a href="../en/Chrony.html" title="Chrony">Chrony</a></li>
<li><a href="../ru/Systemd-timesyncd.html" title="Systemd-timesyncd (Русский)">systemd-timesyncd (Русский)</a></li>
</ul>
</div>
<p>В операционной системе время (часы) определяется тремя понятиями: значением времени (будь то местное время, UTC или что-то другое), часовым поясом и информацией о переходе на летнее время (DST), если это применимо. Эта статья рассказывает, что это такое и как их читать и менять. В системах присутствуют двое часов: аппаратные часы и системные часы, которые также подробно описаны в этой статье.
</p>
<p>Стандартное поведение большинства операционных систем таково:
</p>
<ul>
<li>При загрузке для системных часов устанавливается значение из аппаратных часов.</li>
<li>Поддерживается точное время системных часов; смотрите <a href="#%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">#Синхронизация времени</a>.</li>
<li>При выключении для аппаратных часов устанавливается значение из системных часов.</li>
</ul>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D0.B5_.D1.87.D0.B0.D1.81.D1.8B"></span><span class="mw-headline" id="Аппаратные_часы">Аппаратные часы</span>
</h2>
<p><b>Аппаратные часы</b> (они же часы реального времени (RTC) или часы CMOS) хранят следующие значения: год, месяц, день, час, минута и секунда. Только в прошивках <a href="../ru/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface (Русский)">UEFI</a> 2016 года или новее есть возможность хранить часовой пояс, а также информацию о переходе на летнее время.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B8.D0.B7_.D0.B0.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D1.85_.D1.87.D0.B0.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Просмотр_времени_из_аппаратных_часов">Просмотр времени из аппаратных часов</span>
</h3>
<pre># hwclock --show
</pre>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D0.B0.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D1.85_.D1.87.D0.B0.D1.81.D0.BE.D0.B2_.D0.BF.D0.BE_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.BC_.D1.87.D0.B0.D1.81.D0.B0.D0.BC"></span><span class="mw-headline" id="Изменение_времени_аппаратных_часов_по_системным_часам">Изменение времени аппаратных часов по системным часам</span>
</h3>
<p>Следующая команда устанавливает время в аппаратных часах, беря значение из системных часов. Кроме того, она обновляет файл <code>/etc/adjtime</code> или создаёт его, если он отсутствует. Смотрите раздел "The Adjtime File" в <span class="plainlinks archwiki-template-man" title="$ man 8 hwclock"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hwclock.8">hwclock(8)</a></span> для более подробной информации, а также раздел <a href="#%D0%9F%D0%BE%D0%B3%D1%80%D0%B5%D1%88%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D1%87%D0%B0%D1%81%D0%BE%D0%B2">#Погрешность часов</a>.
</p>
<pre># hwclock --systohc
</pre>
<h2>
<span id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.87.D0.B0.D1.81.D1.8B"></span><span class="mw-headline" id="Системные_часы">Системные часы</span>
</h2>
<p><b>Системные часы</b> (они же программные часы) отслеживают время, часовой пояс и информацию о переходе на летнее время, если применимо. В ядре Linux они представлены как количество секунд, прошедших с полуночи 1 января 1970 года по UTC. Начальное значение системных часов вычисляется из аппаратных часов в зависимости от содержимого файла <code>/etc/adjtime</code>. После завершения загрузки системные часы работают независимо от аппаратных часов. Ядро Linux отслеживает системные часы путём подсчета прерываний таймера.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8"></span><span class="mw-headline" id="Просмотр_времени">Просмотр времени</span>
</h3>
<p>Для проверки текущего времени системных часов (представленных как в местном времени, так и в UTC), а также RTC (аппаратных часов):
</p>
<pre>$ timedatectl
</pre>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B.D1.85_.D1.87.D0.B0.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Изменение_времени_системых_часов">Изменение времени системых часов</span>
</h3>
<p>Установка местного времени для системых часов:
</p>
<pre># timedatectl set-time "гггг-ММ-дд чч:мм:сс"
</pre>
<p>Например:
</p>
<pre># timedatectl set-time "2014-05-26 11:13:54"
</pre>
<p>Установит 26 мая 2014 года, 11 часов 13 минут 54 секунды.
</p>
<h2>
<span id=".D0.A1.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8"></span><span class="mw-headline" id="Стандарт_времени">Стандарт времени</span>
</h2>
<p>Есть два основных стандарта времени: местное (локальное) время (localtime) и <a href="https://en.wikipedia.org/wiki/ru:%D0%92%D1%81%D0%B5%D0%BC%D0%B8%D1%80%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%BE%D1%80%D0%B4%D0%B8%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F" class="extiw" title="wikipedia:ru:Всемирное координированное время">Всемирное координированное время</a> (Coordinated Universal Time, UTC). Местное время зависит от текущего часового пояса, а время UTC — это глобальное время, которое одинаково для всех и не зависит от часовых поясов. UTC иногда называют <a href="https://en.wikipedia.org/wiki/ru:%D0%A1%D1%80%D0%B5%D0%B4%D0%BD%D0%B5%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F_%D0%BF%D0%BE_%D0%93%D1%80%D0%B8%D0%BD%D0%B2%D0%B8%D1%87%D1%83" class="extiw" title="wikipedia:ru:Среднее время по Гринвичу">гринвичским временем</a> (GMT), хотя это немного разные вещи.
</p>
<p>Стандарт, который будет использоваться в аппаратных часах, выбирается операционной системой. По умолчанию Windows использует местное время, macOS использует UTC, а другие UNIX и UNIX-подобные системы используют разные стандарты. ОС, использующая стандарт UTC, обычно рассматривает аппаратные часы как UTC и вносит в них поправку для установки времени ОС при загрузке в соответствии с часовым поясом.
</p>
<p>Если на машине установлено несколько операционных систем, все они будут получать текущее время от одних и тех же аппаратных часов: рекомендуется настроить их на использование UTC, чтобы избежать конфликтов. В противном случае, если аппаратные часы установлены на местное время, сразу несколько операционных систем могут попытаться скорректировать его, например, после перехода на летнее/зимнее время, что приведёт к избыточной коррекции; проблемы могут также возникнуть при перемещении между различными часовыми поясами и использовании одной из операционных систем для сброса системных/аппаратных часов.
</p>
<p>Значение аппаратных часов можно прочитать и изменить с помощью команды <code>timedatectl</code>.
Вы можете узнать текущий стандарт, который Arch использует для работы с аппаратными часами, с помощью следующей команды:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ timedatectl | grep local</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">RTC in local TZ: no
</pre>
<p>Переход на использование местного времени для аппаратных часов:
</p>
<pre># timedatectl set-local-rtc <b>1</b>
</pre>
<p>Переход на использование UTC для аппаратных часов:
</p>
<pre># timedatectl set-local-rtc <b>0</b>
</pre>
<p>Эти команды автоматически обновят аппаратные часы и файл <code>/etc/adjtime</code>, дополнительные действия не требуются.
</p>
<p>Во время запуска ядра, в момент загрузки драйвера RTC, значение системных часов может быть установлено по аппаратным часам. Произойдет ли это, зависит от аппаратной платформы, версии ядра и опций сборки ядра. Если это происходит, то в этот момент последовательности загрузки время аппаратных часов принимается за UTC и значение <code>/sys/class/rtc/rtc<i>N</i>/hctosys</code> (N=0,1,2,..) будет установлено в 1.
</p>
<p>Позже systemd снова обновляет системное время по аппаратным часам, опираясь на значения в <code>/etc/adjtime</code>. Следовательно, использование аппаратных часов с местным временем может привести к неожиданному поведению во время загрузки, например, системные часы могут перескочить назад по времени, что всегда является плохой идеей (<a rel="nofollow" class="external text" href="https://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html">это ещё не всё</a>). Чтобы избежать этого, systemd будет <a rel="nofollow" class="external text" href="https://lists.archlinux.org/archives/list/arch-dev-public@lists.archlinux.org/message/YUGQ47YQVRL6J2BO3D5G7LQM42H6RCCE/">синхронизироваться назад</a>, только если аппаратные часы установлены в UTC, и не будет информировать ядро о локальном часовом поясе. Как следствие, временные метки на файловой системе FAT, которые изменены через Linux, будут в UTC.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Использование <code>timedatectl</code> требует активной шины <a href="../ru/D-Bus.html" title="D-Bus (Русский)">D-Bus</a>. Поэтому использование этой команды под <a href="../ru/Chroot.html" title="Chroot (Русский)">chroot</a> (например, во время установки) может оказаться невозможным. В таких случаях можно вернуться к команде hwclock или использовать <a href="../en/Systemd-nspawn.html" class="mw-redirect" title="Systemd-nspawn (Русский)">systemd-nspawn</a> вместо chroot.</li>
<li>Если файл <code>/etc/adjtime</code> отсутствует, systemd по умолчанию считает, что аппаратные часы используют UTC.</li>
</ul>
</div>
<h3>
<span id="UTC_.D0.B2_Microsoft_Windows"></span><span class="mw-headline" id="UTC_в_Microsoft_Windows">UTC в Microsoft Windows</span>
</h3>
<p>При <a href="../en/Dual_boot_with_Windows.html" class="mw-redirect" title="Dual boot with Windows (Русский)">двойной загрузке с Windows</a> рекомендуется настроить Windows на использование UTC, а не настраивать Linux на использование местного времени. (По умолчанию Windows использует местное время <a rel="nofollow" class="external autonumber" href="https://devblogs.microsoft.com/oldnewthing/20040902-00/?p=37983">[1]</a>.)
</p>
<p>Это делается простым изменением в реестре: откройте <code>regedit</code> и добавьте <code>DWORD</code> ключ со значением <code>1</code> здесь:
</p>
<pre>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation\RealTimeIsUniversal
</pre>
<p>Это можно сделать одной командой в командной строке, запущенной от имени администратора:
</p>
<pre>reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation" /v RealTimeIsUniversal /d 1 /t REG_DWORD /f
</pre>
<p>Также можно создать <code>*.reg</code> файл и импортировать его в реестр двойным щелчком мыши:
</p>
<pre>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]
"RealTimeIsUniversal"=dword:00000001
</pre>
<p>Если Windows попросит обновить часы в связи с изменениями DST, позвольте ей это сделать. Часы останутся в UTC, как и ожидалось, скорректируется только отображаемое время.
</p>
<p>После этого <a href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B5_%D1%87%D0%B0%D1%81%D1%8B">#Аппаратные часы</a> и <a href="#%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B5_%D1%87%D0%B0%D1%81%D1%8B">#Системные часы</a> может понадобиться обновить.
</p>
<p>Если у вас проблемы со смещением времени, попробуйте переустановить <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tzdata">tzdata</a></span> и заново установить часовой пояс:
</p>
<pre># timedatectl set-timezone Europe/Moscow
</pre>
<h4>
<span id=".D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.87.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Исторические_примечания">Исторические примечания</span>
</h4>
<p>В очень старых версиях Windows это всё не работает из-за их багов. Более конкретно,
</p>
<ul>
<li>В 64-битных версиях Windows 7 и старых сборках Windows 10 существовала ошибка, из-за которой требовалось значение <code>QWORD</code> со значением <code>1</code> вместо <code>DWORD</code>. Эта ошибка была исправлена в новых сборках, и теперь работает только <code>DWORD</code>.</li>
<li>До Vista SP2 существовала ошибка, которая сбрасывала часы на местное время после возвращения из ждущего или спящего режима.</li>
<li>В XP и более старых версиях есть ошибка, связанная с переходом на летнее время. Подробнее: <a rel="nofollow" class="external autonumber" href="https://mskb.pkisolutions.com/kb/2687252">[2]</a>
</li>
<li>Для еще более старых версий Windows лучше прочитать <a rel="nofollow" class="external free" href="https://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html">https://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html</a> — тогда эта функциональность даже не была задокументирована и официально не поддерживалась.</li>
</ul>
<p>Для этих операционных систем рекомендуется использовать местное время.
</p>
<h3>
<span id="UTC_.D0.B2_Ubuntu"></span><span class="mw-headline" id="UTC_в_Ubuntu">UTC в Ubuntu</span>
</h3>
<p>Если Ubuntu на любом диске обнаруживает Windows в процессе установки, то для аппаратных часов она автоматически начинает использовать местное время. Очевидно, это сделано специально, чтобы позволить новым пользователям Linux опробовать Ubuntu на своих компьютерах с Windows без редактирования реестра.
</p>
<p>Изменить это поведение можно так же, как описано выше.
</p>
<h2>
<span id=".D0.A7.D0.B0.D1.81.D0.BE.D0.B2.D0.BE.D0.B9_.D0.BF.D0.BE.D1.8F.D1.81"></span><span class="mw-headline" id="Часовой_пояс">Часовой пояс</span>
</h2>
<p>Узнать текущий часовой пояс, установленный в системе:
</p>
<pre>$ timedatectl status
</pre>
<p>Просмотр списка доступных часовых поясов:
</p>
<pre>$ timedatectl list-timezones
</pre>
<p>Изменение часового пояса:
</p>
<pre># timedatectl set-timezone <i>Регион</i>/<i>Город</i>
</pre>
<p>Например:
</p>
<pre># timedatectl set-timezone Europe/Moscow
</pre>
<p>Эта команда создаст символическую ссылку <code>/etc/localtime</code>, которая ведёт на соответствующий файл с информацией о зоне в <code>/usr/share/zoneinfo/</code>. Если вам нужно создать её вручную (например, внутри <a href="../ru/Chroot.html" title="Chroot (Русский)">chroot</a>, где <code>timedatectl</code> не работает), имейте в виду, что это должна быть именно символическая ссылка:
</p>
<pre># ln -sf /usr/share/zoneinfo/<i>Регион</i>/<i>Город</i> /etc/localtime
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Можно найти и выбрать нужный часовой пояс с помощью интерактивного помощника <i>tzselect</i>.</div>
<p>Смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 timedatectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timedatectl.1">timedatectl(1)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 5 localtime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localtime.5">localtime(5)</a></span> для более подробной информации.
</p>
<h3>
<span id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BD.D0.B0_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B5_.D0.B3.D0.B5.D0.BE.D0.BB.D0.BE.D0.BA.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Выбор_на_основе_геолокации">Выбор на основе геолокации</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Некоторые среды рабочего стола поддерживают автоматический выбор часового пояса (например, смотрите <a href="../ru/GNOME.html#%D0%94%D0%B0%D1%82%D0%B0_%D0%B8_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F" title="GNOME (Русский)">GNOME (Русский)#Дата и время</a>).</div>
<p>Чтобы автоматически выбрать часовой пояс на основе информации об IP-адресе, можно использовать какой-нибудь API геолокации для получения часового пояса (нпример <code>curl https://ipapi.co/timezone</code>) и передать его вывод в команду <code>timedatectl set-timezone</code>. Примеры бесплатных или частично бесплатных GeoIP API:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.abstractapi.com/ip-geolocation-api">Abstract IP geolocation API</a></li>
<li><a rel="nofollow" class="external text" href="https://freegeoip.app">FreegeoIP</a></li>
<li><a rel="nofollow" class="external text" href="https://ip-api.com/">IP-api</a></li>
<li><a rel="nofollow" class="external text" href="https://ipapi.co/">IPAPI</a></li>
<li><a rel="nofollow" class="external text" href="https://ipdata.co">Ipdata</a></li>
<li><a rel="nofollow" class="external text" href="https://ipstack.com/">Ipstack</a></li>
<li><a rel="nofollow" class="external text" href="https://timezoneapi.io/">TimezoneApi</a></li>
</ul>
<h4>
<span id=".D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.87.D0.B0.D1.81.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D1.8F.D1.81.D0.B0_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BA_.D1.81.D0.B5.D1.82.D0.B8_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_NetworkManager"></span><span class="mw-headline" id="Обновление_часового_пояса_после_подключения_к_сети_через_NetworkManager">Обновление часового пояса после подключения к сети через NetworkManager</span>
</h4>
<p>Создайте <a href="../en/NetworkManager.html#Network_services_with_NetworkManager_dispatcher" title="NetworkManager">скрипт NetworkManager dispatcher</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/09-timezone</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
case "$2" in
    up)
        timedatectl set-timezone "$(curl --fail https://ipapi.co/timezone)"
    ;;
esac
</pre>
<p>Также можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tzupdate/">tzupdate</a></span><sup><small>AUR</small></sup> для автоматического выбора часового пояса по IP-адресу. <a rel="nofollow" class="external text" href="https://medium.com/@ipdata_co/what-is-the-best-commercial-ip-geolocation-api-d8195cda7027">Сравнение наиболее популярных API IP-геолокации</a> поможет выбрать подходящий вариант.
</p>
<h2>
<span id=".D0.9F.D0.BE.D0.B3.D1.80.D0.B5.D1.88.D0.BD.D0.BE.D1.81.D1.82.D1.8C_.D1.87.D0.B0.D1.81.D0.BE.D0.B2"></span><span class="mw-headline" id="Погрешность_часов">Погрешность часов</span>
</h2>
<p>Нет ничего идеального. В том числе и часов. Время на любых часах хоть немного но отличается от реального. Одними из наиболее точных считаются <a href="https://en.wikipedia.org/wiki/ru:%D0%9C%D0%B5%D0%B6%D0%B4%D1%83%D0%BD%D0%B0%D1%80%D0%BE%D0%B4%D0%BD%D0%BE%D0%B5_%D0%B0%D1%82%D0%BE%D0%BC%D0%BD%D0%BE%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F" class="extiw" title="wikipedia:ru:Международное атомное время">атомные часы</a>. Кварцевые часы, используемые в компьютерах, также не являются абсолютно точными, зато имеют относительно постоянную погрешность.
</p>
<p>При установке аппаратных часов с помощью <code>hwclock</code> рассчитывается новое значение дрейфа в секундах в день. Значение дрейфа вычисляется с помощью разницы между новым установленным значением и значением аппаратных часов непосредственно перед установкой, с учётом значения предыдущего значения дрейфа и времени последней установки аппаратных часов. Новое значение дрейфа и время, когда часы были установлены, записываются в файл <code>/etc/adjtime</code>, перезаписывая предыдущие значения. Таким образом, аппаратные часы могут быть скорректированы с учётом дрейфа при выполнении команды <code>hwclock --adjust</code>; это также происходит при выключении, но только если демон <code>hwclock</code> включен, поэтому в Arch-системах, использующих systemd, этого не происходит.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если время аппаратных часов устанавливается повторно менее чем через 24 часа после предыдущей установки, дрейф не пересчитывается, поскольку <code>hwclock</code> считает прошедший период времени слишком коротким для точного расчёта дрейфа.</div>
<p>Если аппаратные часы продолжают терять или набирать время с большим шагом, возможно, что был записан некорректный дрейф (но это применимо только в том случае, если запущен демон hwclock). Это может произойти, если вы неправильно установили время аппаратных часов или ваш <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">стандарт времени</a> не совпадает со стандартом времени в Windows или macOS. Значение дрейфа можно сбросить, сначала удалив файл <code>/etc/adjtime</code>, а затем установив правильное время аппаратных и системных часов. Затем следует проверить правильность используемого стандарта времени.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы хотите использовать значение дрейфа, хранящееся в <code>/etc/adjtime</code>, даже при использовании systemd (например, вы не можете или не хотите использовать NTP), вы должны регулярно вызывать <code>hwclock --adjust</code>, например, создав задание <a href="../en/Cron.html" class="mw-redirect" title="Cron (Русский)">cron</a>.</div>
<p>Программные часы очень точны, но, как и большинство часов, не идеально точны и могут дрейфовать. Хотя и редко, системные часы могут потерять точность, если ядро пропускает прерывания. Существуют некоторые инструменты для повышения точности программных часов; смотрите <a href="#%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">#Синхронизация времени</a>.
</p>
<h2>
<span id=".D0.A1.D0.B8.D0.BD.D1.85.D1.80.D0.BE.D0.BD.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8"></span><span class="mw-headline" id="Синхронизация_времени">Синхронизация времени</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/ru:NTP" class="extiw" title="wikipedia:ru:NTP">Network Time Protocol</a> (NTP) — это протокол для синхронизации часов компьютерных систем в сетях передачи данных с коммутацией пакетов и переменной задержкой. Ниже приведены реализации NTP, доступные для Arch Linux:
</p>
<ul><li>
<b><a href="../en/Chrony.html" title="Chrony">Chrony</a></b> — Клиент и сервер, дружественный к роумингу и разработанный специально для систем, которые не находятся в сети постоянно.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://chrony.tuxfamily.org/">https://chrony.tuxfamily.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=chrony">chrony</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/ConnMan.html" title="ConnMan">ConnMan</a></b> — Лёгкий сетевой менеджер с поддержкой NTP.</li></ul>
<dl><dd>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20210224075615/https://01.org/connman">https://01.org/connman (waybackmachine)</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span>
</dd></dl>
<ul><li>
<b><a href="../ru/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon (Русский)">Network Time Protocol daemon</a></b> — Эталонная реализация протокола, особенно рекомендуемая для использования на серверах времени. Она также может регулировать частоту прерываний и количество тиков в секунду для уменьшения дрейфа системных часов и будет вызывать повторную синхронизацию аппаратных часов каждые 11 минут.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.ntp.org/">https://www.ntp.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntp">ntp</a></span>
</dd></dl>
<ul><li>
<b>ntpclient</b> — Простой NTP-клиент с интерфейсом командной строки.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://doolittle.icarus.com/ntpclient/">http://doolittle.icarus.com/ntpclient/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntpclient/">ntpclient</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/NTPsec.html" title="NTPsec">NTPsec</a></b> — Форк NTPd, ориентированный на безопасность.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://ntpsec.org/">https://ntpsec.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntpsec/">ntpsec</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/OpenNTPD.html" title="OpenNTPD">OpenNTPD</a></b> — Является частью проекта OpenBSD и реализует как клиент, так и сервер.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.openntpd.org/">https://www.openntpd.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openntpd">openntpd</a></span>
</dd></dl>
<ul><li>
<b>sntp</b> — Клиент <a href="https://en.wikipedia.org/wiki/ru:SNTP" class="extiw" title="wikipedia:ru:SNTP">SNTP</a>, который поставляется вместе с NTPd. Он заменяет ntpdate и рекомендуется в несерверных средах.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.ntp.org/">https://www.ntp.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntp">ntp</a></span>
</dd></dl>
<ul><li>
<b><a href="../ru/Systemd-timesyncd.html" title="Systemd-timesyncd (Русский)">systemd-timesyncd</a></b> — Простой демон <a href="https://en.wikipedia.org/wiki/ru:SNTP" class="extiw" title="wikipedia:ru:SNTP">SNTP</a>, который реализует только клиентскую часть, фокусируясь только на запросе времени с одного удалённого сервера. Он должен быть более чем подходящим для большинства установок.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://systemd.io/">https://systemd.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>
</dd></dl>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.2F.D1.81.D0.B5.D1.81.D1.81.D0.B8.D0.B8_.D0.B8.D0.BB.D0.B8_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8"></span><span class="mw-headline" id="Настройки_для_пользователя/сессии_или_временные_настройки">Настройки для пользователя/сессии или временные настройки</span>
</h2>
<p>В некоторых случаях может быть полезно изменить настройки времени, не затрагивая глобальные системные значения. Например, для тестирования приложений, полагающихся на время во время разработки, или для настройки системного часового пояса при удалённом входе на сервер из другой зоны.
</p>
<p>Чтобы заставить приложение «видеть» дату/время, отличное от системного, можно воспользоваться утилитой <span class="plainlinks archwiki-template-man" title="$ man 1 faketime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/faketime.1">faketime(1)</a></span> (из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfaketime">libfaketime</a></span>).
</p>
<p>Если вы хотите, чтобы приложение «видело» часовой пояс, отличный от системного, установите <a href="../ru/Environment_variables.html" title="Environment variables (Русский)">переменную окружения</a> <code>TZ</code>, например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ date &amp;&amp; export TZ=":/usr/share/zoneinfo/Pacific/Fiji" &amp;&amp; date</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Вт 01 ноя 2016 16:34:51 MSK
Ср 02 ноя 2016 01:34:51 +12</pre>
<p>Это отличается от простой установки времени, поскольку, например, позволяет протестировать поведение программы с положительными или отрицательными значениями смещения UTC, или влияние изменений летнего/зимнего времени при разработке на системах с часовым поясом, в котором нет переходов на летнее/зимнее время.
</p>
<p>Другим вариантом использования является установка разных часовых поясов для разных пользователей одной системы: это можно сделать, установив переменную <code>TZ</code> в конфигурационном файле оболочки; смотрите <a href="../ru/Environment_variables.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85" class="mw-redirect" title="Переменные окружения">Переменные окружения#Установка переменных</a>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3><span class="mw-headline" id="fake-hwclock">fake-hwclock</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/xanmanning/alarm-fake-hwclock">alarm-fake-hwclock</a> разработан специально для систем без нормально работающих аппаратных часов. Он включает в себя службу systemd, которая при выключении сохраняет текущее время, а при следующем запуске восстанавливает сохранённое время, таким образом избегая странных ошибок путешествия во времени.
</p>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fake-hwclock-git/">fake-hwclock-git</a></span><sup><small>AUR</small></sup>, <a href="../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Запустите">запустите</a> и <a href="../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> службу <code>fake-hwclock.service</code>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id=".D0.A7.D0.B0.D1.81.D1.8B_.D0.BF.D0.BE.D0.BA.D0.B0.D0.B7.D1.8B.D0.B2.D0.B0.D1.8E.D1.82_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D0.B5.2C_.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D0.BE.D0.B5_.D0.BD.D0.B5_.D1.8F.D0.B2.D0.BB.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D0.BD.D0.B8_UTC.2C_.D0.BD.D0.B8_.D0.BC.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.BC_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B5.D0.BC"></span><span class="mw-headline" id="Часы_показывают_значение,_которое_не_является_ни_UTC,_ни_местным_временем">Часы показывают значение, которое не является ни UTC, ни местным временем</span>
</h3>
<p>Это может быть вызвано рядом причин. Например, если ваши аппаратные часы используют местное время, но <code>timedatectl</code> настроен на то, чтобы считать, что они используют UTC, в результате смещение вашего часового пояса относительно UTC будет применено дважды, что приведёт к неправильным значениям местного времени и UTC.
</p>
<p>Чтобы заставить ваши часы показывать правильное время, а также записать правильный UTC в ваши аппаратные часы, выполните следующие шаги:
</p>
<ul>
<li>Настройте <a href="../ru/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon (Русский)">ntpd</a> (включать его как службу не обязательно).</li>
<li>Установите правильный <a href="#%D0%A7%D0%B0%D1%81%D0%BE%D0%B2%D0%BE%D0%B9_%D0%BF%D0%BE%D1%8F%D1%81">часовой пояс</a>.</li>
<li>Запустите <code>ntpd -qg</code> для ручной синхронизации ваших часов с сетью, игнорируя большие отклонения между локальным UTC и сетевым UTC.</li>
<li>Запустите <code>hwclock --systohc</code> для записи текущего системного времени в аппаратные часы.</li>
</ul>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://sunnyan.tistory.com/entry/Linux-Clocks-and-Time">Linux Tips - Linux, Clocks, and Time</a></li>
<li><a rel="nofollow" class="external text" href="https://opensource.com/article/17/6/timekeeping-linux-vms">An introduction to timekeeping in Linux VMs</a></li>
<li>
<a rel="nofollow" class="external text" href="https://data.iana.org/time-zones/tz-link.html">Источники данных, определяющие часовые пояса и переход на летнее время</a> для пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tzdata">tzdata</a></span>
</li>
<li><a rel="nofollow" class="external text" href="https://www.ucolick.org/~sla/leapsecs/timescales.html">Time Scales</a></li>
<li><a href="https://wiki.gentoo.org/wiki/System_time" class="extiw" title="gentoo:System time">Gentoo:System time</a></li>
<li>
<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D1%80%D0%B5%D0%BC%D1%8F" class="extiw" title="wikipedia:ru:Время">Время</a> (Википедия)</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Mainboards_and_BIOS.html" title="Category:Mainboards and BIOS (Русский)">Mainboards and BIOS (Русский)</a></li>
<li><a href="../ru/Category:System_administration.html" title="Category:System administration (Русский)">System administration (Русский)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System_time_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=806955">https://wiki.archlinux.org/index.php?title=System_time_(Русский)&amp;oldid=806955</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 April 2024, at 06:54.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
