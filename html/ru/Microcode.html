<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Microcode (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Microcode_Русский rootpage-Microcode_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Установка</span>
			</div>
		</a>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Включение_раннего_обновления_микрокода" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%BD%D0%BD%D0%B5%D0%B3%D0%BE_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Включение раннего обновления микрокода</span>
			</div>
		</a>
		
			<button aria-controls="toc-Включение_раннего_обновления_микрокода-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Включение раннего обновления микрокода subsection</span>
			</button>
		
		<ul id="toc-Включение_раннего_обновления_микрокода-sublist" class="vector-toc-list">
			<li id="toc-GRUB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>GRUB</span>
				</div>
			</a>
			
			<ul id="toc-GRUB-sublist" class="vector-toc-list">
				<li id="toc-Автоматический_способ" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Автоматический способ</span>
				</div>
			</a>
			
			<ul id="toc-Автоматический_способ-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ручной_способ" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%BE%D0%B9_%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Ручной способ</span>
				</div>
			</a>
			
			<ul id="toc-Ручной_способ-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-systemd-boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>systemd-boot</span>
				</div>
			</a>
			
			<ul id="toc-systemd-boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-EFI_boot_stub_/_EFI_handover" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#EFI_boot_stub_/_EFI_handover">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>EFI boot stub / EFI handover</span>
				</div>
			</a>
			
			<ul id="toc-EFI_boot_stub_/_EFI_handover-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-rEFInd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#rEFInd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>rEFInd</span>
				</div>
			</a>
			
			<ul id="toc-rEFInd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Syslinux" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Syslinux">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Syslinux</span>
				</div>
			</a>
			
			<ul id="toc-Syslinux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LILO" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LILO">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.6</span>
					<span>LILO</span>
				</div>
			</a>
			
			<ul id="toc-LILO-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Позднее_обновление_микрокода" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B7%D0%B4%D0%BD%D0%B5%D0%B5_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Позднее обновление микрокода</span>
			</div>
		</a>
		
			<button aria-controls="toc-Позднее_обновление_микрокода-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Позднее обновление микрокода subsection</span>
			</button>
		
		<ul id="toc-Позднее_обновление_микрокода-sublist" class="vector-toc-list">
			<li id="toc-Включение_позднего_обновления_микрокода" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%B7%D0%B4%D0%BD%D0%B5%D0%B3%D0%BE_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Включение позднего обновления микрокода</span>
				</div>
			</a>
			
			<ul id="toc-Включение_позднего_обновления_микрокода-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отключение_позднего_обновления_микрокода" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D0%B7%D0%B4%D0%BD%D0%B5%D0%B3%D0%BE_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Отключение позднего обновления микрокода</span>
				</div>
			</a>
			
			<ul id="toc-Отключение_позднего_обновления_микрокода-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Проверим,_обновился_ли_microcode_при_загрузке" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%B8%D0%BC,_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D0%BB%D1%81%D1%8F_%D0%BB%D0%B8_microcode_%D0%BF%D1%80%D0%B8_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Проверим, обновился ли microcode при загрузке</span>
			</div>
		</a>
		
		<ul id="toc-Проверим,_обновился_ли_microcode_при_загрузке-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Каким_ЦП_нужны_обновления_микрокода" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9A%D0%B0%D0%BA%D0%B8%D0%BC_%D0%A6%D0%9F_%D0%BD%D1%83%D0%B6%D0%BD%D1%8B_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Каким ЦП нужны обновления микрокода</span>
			</div>
		</a>
		
			<button aria-controls="toc-Каким_ЦП_нужны_обновления_микрокода-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Каким ЦП нужны обновления микрокода subsection</span>
			</button>
		
		<ul id="toc-Каким_ЦП_нужны_обновления_микрокода-sublist" class="vector-toc-list">
			<li id="toc-Обнаружение_доступного_обновления_микрокода" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Обнаружение доступного обновления микрокода</span>
				</div>
			</a>
			
			<ul id="toc-Обнаружение_доступного_обновления_микрокода-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Применение_ранней_загрузки_микрокода_в_кастомных_ядрах" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%BD%D0%BD%D0%B5%D0%B9_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B0_%D0%B2_%D0%BA%D0%B0%D1%81%D1%82%D0%BE%D0%BC%D0%BD%D1%8B%D1%85_%D1%8F%D0%B4%D1%80%D0%B0%D1%85">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Применение ранней загрузки микрокода в кастомных ядрах</span>
			</div>
		</a>
		
		<ul id="toc-Применение_ранней_загрузки_микрокода_в_кастомных_ядрах-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Microcode (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Microcode" title="Microcode – Deutsch" lang="de" hreflang="de" data-title="Microcode" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Microcode.html" title="Microcode – English" lang="en" hreflang="en" data-title="Microcode" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Microcode.html" title="Microcode – español" lang="es" hreflang="es" data-title="Microcode" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/Microcode.html" title="Microcode – magyar" lang="hu" hreflang="hu" data-title="Microcode" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%B3%E3%83%BC%E3%83%89" title="マイクロコード – 日本語" lang="ja" hreflang="ja" data-title="マイクロコード" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Microcode" title="Microcode – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Microcode" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Microcode.html" title="Microcode">Microcode</a>. Дата последней синхронизации: 29 ноября 2018. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Microcode&amp;diff=0&amp;oldid=557775">изменения</a>.</div>
<p>Производители процессоров выпускают обновления стабильности и безопасности для <a href="https://en.wikipedia.org/wiki/ru:%D0%9C%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4" class="extiw" title="wikipedia:ru:Микрокод">микрокода</a> процессора. Несмотря на то, что микрокод можно обновить с помощью BIOS, ядро Linux также может применять эти обновления во время загрузки. Эти обновления предоставляют исправления ошибок, которые могут быть критичны для стабильности вашей системы. Без этих обновлений вы можете наблюдать ложные падения или неожиданные зависания системы, которые может быть сложно отследить.
</p>
<p>Особенно пользователи процессоров семейства Intel Haswell и Broadwell должны установить эти обновления, чтобы обеспечить стабильность системы. Но, понятное дело, все пользователи должны устанавливать эти обновления.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Установка">
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span>Установка</h2></div>
<p>Для процессоров AMD <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span>.
</p>
<p>Для процессоров Intel <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>.
</p>
<p>Если Arch находится на <a href="../en/Install_Arch_Linux_on_a_removable_medium.html" class="mw-redirect" title="Installing Arch Linux on a USB key">съемном носителе</a>, вы должны установить микрокод для обоих производителей процессоров.
</p>
<div class="mw-heading mw-heading2"><h2 id="Включение_раннего_обновления_микрокода">
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.BD.D0.BD.D0.B5.D0.B3.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Включение раннего обновления микрокода</h2></div>
<p>Микрокод должен быть загружен <a href="../ru/Arch_boot_process.html#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA" class="mw-redirect" title="Загрузчик">загрузчик</a>ом. Из-за большого разнообразия конфигураций ранней загрузки у пользователей обновления микрокода могут быть не применены автоматически конфигурацией Arch по умолчанию. Многие <a href="../ru/Kernel.html" class="mw-redirect" title="Ядра">ядра</a> в AUR пошли по пути официальных ядер Arch в этом вопросе.
</p>
<p>Чтобы применить эти обновления, добавьте <code>/boot/amd-ucode.img</code> или <code>/boot/intel-ucode.img</code> в качестве <b>первого initrd в конфигурационном файле загрузчика</b>. Это в дополнение к обычному initrd файлу. Смотрите ниже инструкции для популярных загрузчиков.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> В следующих разделах замените строку <code><i>производитель_цп</i></code> вашим производителем, например, <code>amd</code> или <code>intel</code>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет</strong> Для <a href="../en/Install_Arch_Linux_on_a_removable_medium.html" class="mw-redirect" title="Installing Arch Linux on a USB key">Arch Linux на съемном носителе</a> добавьте оба файла <code>initrd</code> в настройки загрузчика. Их порядок не имеет значения, если они оба указаны до реального образа initramfs.</div>
<div class="mw-heading mw-heading3"><h3 id="GRUB">GRUB</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Автоматический_способ">
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1"></span>Автоматический способ</h4></div>
<p>Утилита <i>grub-mkconfig</i> автоматически определит обновления микрокода и настроит соответственным образом <a href="../ru/GRUB.html" title="GRUB (Русский)">GRUB</a>. После установки пакета микрокода, перегенерируйте настройки GRUB, чтобы включить обновление микрокода при запуске:
</p>
<pre># grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<div class="mw-heading mw-heading4"><h4 id="Ручной_способ">
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.BE.D0.B9_.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1"></span>Ручной способ</h4></div>
<p>Альтернативно пользователи, управляющие настройками GRUB вручную, могут добавить <code>/boot/<i>производитель_цп</i>-ucode.img</code> (или <code>/<i>производитель_цп</i>-ucode.img</code>, если есть отдельный раздел <code>/boot</code>) следующим образом:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
echo 'Loading initial ramdisk'
initrd <b>/boot/<i>производитель_цп</i>-ucode.img</b> /boot/initramfs-linux.img
...
</pre>
<p>Повторите это для каждой записи в меню.
</p>
<div class="mw-heading mw-heading3"><h3 id="systemd-boot">systemd-boot</h3></div>
<p>Используйте параметры <code>initrd</code> для загрузки микрокода перед исходным ramdisk следующим образом:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/loader/entries/<i>запись</i>.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title   Arch Linux
linux   /vmlinuz-linux
<b>initrd  /<i>производитель_цп</i>-ucode.img</b>
initrd  /initramfs-linux.img
...
</pre>
<p>Самый последний микрокод <code><i>производитель_цп</i>-ucode.img</code> должен быть доступен во время загрузки вашего <a href="../ru/EFI_system_partition.html" class="mw-redirect" title="Системный раздел EFI">системного раздела EFI</a> (ESP). ESP должен быть смонтирован как <code>/boot</code>, чтобы обновлять микрокод каждый раз, когда обновляется <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>. В противном случае копируйте <code>/boot/<i>производитель_цп</i>-ucode.img</code> в ваш ESP при каждом обновлении пакета микрокода.
</p>
<div class="mw-heading mw-heading3"><h3 id="EFI_boot_stub_/_EFI_handover">
<span id="EFI_boot_stub_.2F_EFI_handover"></span>EFI boot stub / EFI handover</h3></div>
<p>Добавьте два параметра <code>initrd=</code>:
</p>
<pre><b>initrd=/<i>производитель_цп</i>-ucode.img</b> initrd=/initramfs-linux.img
</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Что это делает, почему этого недостаточно, и почему/как это специфично для данного раздела? (Discuss in <a href="/index.php?title=Talk:Microcode_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=edit&amp;redlink=1" class="new" title="Talk:Microcode (Русский) (page does not exist)">Talk:Microcode (Русский)#Addition in EFI Boot stub</a>)</div>
</div>
<p>Для ядер, которые были сгенерированы как один файл, содержащий все initrd, cmdline и ядро, сначала сгенерируйте initrd для интеграции, создав новый, следующим образом:
</p>
<pre>cat /boot/<i>производитель_цп</i>-ucode.img /boot/initramfs-linux.img &gt; my_new_initrd
objcopy ... --add-section .initrd=my_new_initrd</pre>
<div class="mw-heading mw-heading3"><h3 id="rEFInd">rEFInd</h3></div>
<p>Отредактируйте опции загрузки в <code>/boot/refind_linux.conf</code> также как в примере EFI boot stub выше, например:
</p>
<pre>"Boot with standard options" "rw root=UUID=(...) <b>initrd=/boot/<i>производитель_цп</i>-ucode.img</b> initrd=/boot/initramfs-linux.img"
</pre>
<p>Пользователи, использующие <a href="../en/REFInd.html#For_manual_boot_stanzas" title="REFInd">ручные строфы</a> в <code><i>esp</i>/EFI/refind/refind.conf</code> для определения ядер, должны просто добавить <code>initrd=/boot/<i>производитель_цп</i>-ucode.img</code> (или <code>/<i>производитель_цп</i>-ucode.img</code>, если есть отдельный раздел <code>/boot</code>), как требуется для строки опций, а не в основной части строфы. Например:
</p>
<pre>options  "root=root=UUID=(...) rw add_efi_memmap <b>initrd=/boot/<i>производитель_цп</i>-ucode.img</b>"
</pre>
<div class="mw-heading mw-heading3"><h3 id="Syslinux">Syslinux</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Между указаниями файлов initrd <code><i>производитель_цп</i>-ucode.img</code> и <code>initramfs-linux.img</code> не должно быть пробелов. Строка <code>INITRD</code> должна быть точно такой, как показано ниже.</div>
<p>Несколько файлов initrd могут быть разделены запятыми в <code>/boot/syslinux/syslinux.cfg</code>:
</p>
<pre>LABEL arch
    MENU LABEL Arch Linux
    LINUX ../vmlinuz-linux
    INITRD <b>../<i>производитель_цп</i>-ucode.img</b>,../initramfs-linux.img
...
</pre>
<div class="mw-heading mw-heading3"><h3 id="LILO">LILO</h3></div>
<p>LILO и потенциально другие старые загрузчики не поддерживают несколько образов initrd. В этом случае необходимо объединить <code><i>производитель_цп</i>-ucode.img</code> и <code>initramfs-linux.img</code> в один образ.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно</strong> Объединенный образ нужно пересоздавать после каждого обновления ядра!</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Порядок важен. Исходный образ <code>initramfs-linux.img</code> должен находиться <b>сверху</b> над образом <code><i>производитель_цп</i>-ucode.img</code>.</div>
<p>Чтобы объединить образы в один <code>initramfs-merged.img</code>, можно использовать следующую команду:
</p>
<pre># cat /boot/<i>производитель_цп</i>-ucode.img /boot/initramfs-linux.img &gt; /boot/initramfs-merged.img
</pre>
<p>Теперь отредактируйте <code>/etc/lilo.conf</code> для загрузки нового образа.
</p>
<pre>...
initrd=/boot/initramfs-merged.img
...
</pre>
<p>И запустите <code>lilo</code> от суперпользователя:
</p>
<pre># lilo
</pre>
<div class="mw-heading mw-heading2"><h2 id="Позднее_обновление_микрокода">
<span id=".D0.9F.D0.BE.D0.B7.D0.B4.D0.BD.D0.B5.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Позднее обновление микрокода</h2></div>
<p>Поздняя загрузка обновления микрокода происходит после запуска системы. Для этого используются файлы в <code>/usr/lib/firmware/amd-ucode/</code> и <code>/usr/lib/firmware/intel-ucode/</code>.
</p>
<p>Для процессоров AMD файлы обновления микрокода предоставляются пакетом <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>.
</p>
<p>Для процессоров Intel ни один пакет не предоставляет файлы обновления микрокода (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/59841">FS#59841</a>). Чтобы использовать позднюю загрузку, вам необходимо вручную извлечь <code>intel-ucode/</code> из предоставленного Intel архива.
</p>
<div class="mw-heading mw-heading3"><h3 id="Включение_позднего_обновления_микрокода">
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B7.D0.B4.D0.BD.D0.B5.D0.B3.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Включение позднего обновления микрокода</h3></div>
<p>В отличие от ранней загрузки, поздняя загрузка обновлений микрокода в Arch Linux включена по умолчанию, используя <code>/usr/lib/tmpfiles.d/linux-firmware.conf</code>. После загрузки файл анализируется с помощью <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles-setup.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-tmpfiles-setup.service.8">systemd-tmpfiles-setup.service(8)</a></span>, а микрокод ЦП обновляется.
</p>
<p>Для ручного обновления микрокода на запущенной системе запустите:
</p>
<pre># echo 1 &gt; /sys/devices/system/cpu/microcode/reload
</pre>
<p>Это позволяет применять обновления микрокода после обновления <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> без перезагрузки системы. Вы можете даже автоматизировать это с помощью <a href="../ru/Pacman.html#%D0%A5%D1%83%D0%BA%D0%B8" title="Pacman (Русский)">хука pacman</a>, например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/microcode_reload.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Operation = Remove
Type = File
Target = usr/lib/firmware/amd-ucode/*	

[Action]
Description = Applying CPU microcode updates...
When = PostTransaction
Depends = sh
Exec = /bin/sh -c 'echo 1 &gt; /sys/devices/system/cpu/microcode/reload'</pre>
<div class="mw-heading mw-heading3"><h3 id="Отключение_позднего_обновления_микрокода">
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B7.D0.B4.D0.BD.D0.B5.D0.B3.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Отключение позднего обновления микрокода</h3></div>
<p>Для систем AMD микрокод процессора будет обновляться, даже если пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span> не установлен, так как файлы предоставлены <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/59840">FS#59840</a>). Чтобы отключить позднюю загрузку, вы должны переопределить <a href="../ru/Systemd.html#systemd-tmpfiles_%E2%80%94_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B" title="Systemd (Русский)">временные файлы</a> <code>/usr/lib/tmpfiles.d/linux-firmware.conf</code>. Это можно сделать, создав файл с тем же именем в <code>/etc/tmpfiles.d/</code>:
</p>
<pre># ln -s /dev/null /etc/tmpfiles.d/linux-firmware.conf
</pre>
<div class="mw-heading mw-heading2"><h2 id="Проверим,_обновился_ли_microcode_при_загрузке">
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.B8.D0.BC.2C_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.B8.D0.BB.D1.81.D1.8F_.D0.BB.D0.B8_microcode_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5"></span>Проверим, обновился ли microcode при загрузке</h2></div>
<p>Чтобы убедиться, что микрокод обновился, воспользуемся <i>dmesg</i>:
</p>
<pre># dmesg | grep microcode
</pre>
<p>На системах Intel вы должны увидеть что-то похожее на это при каждой загрузке, что говорит о том, что микрокод обновился рано:
</p>
<pre>[    0.000000] CPU0 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.221951] CPU1 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.242064] CPU2 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.262349] CPU3 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.507267] microcode: CPU0 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507272] microcode: CPU1 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507276] microcode: CPU2 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507281] microcode: CPU3 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507286] microcode: CPU4 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507292] microcode: CPU5 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507296] microcode: CPU6 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507300] microcode: CPU7 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507335] microcode: Microcode Update Driver: v2.2.
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Отображаемая дата отвечает не за версию установленного пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>. Это дата последнего обновления микрокода от Intel для вашего конкретного процессора.</div>
<p>Вполне возможно, особенно с новым аппаратным обеспечением, что для вашего CPU нет обновления микрокода. В этом случае вы можете увидеть примерно следующее:
</p>
<pre>[    0.292893] microcode: CPU0 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292899] microcode: CPU1 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292906] microcode: CPU2 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292912] microcode: CPU3 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292956] microcode: Microcode Update Driver: v2.2.
</pre>
<p>На системах AMD, использующих раннюю загрузку, вывод будет выглядеть примерно так:
</p>
<pre>[    2.119089] microcode: microcode updated early to new patch_level=0x0700010f
[    2.119157] microcode: CPU0: patch_level=0x0700010f
[    2.119171] microcode: CPU1: patch_level=0x0700010f
[    2.119183] microcode: CPU2: patch_level=0x0700010f
[    2.119189] microcode: CPU3: patch_lev
[    2.119269] microcode: Microcode Update Driver: v2.2.
</pre>
<p>На системах AMD, использующих позднюю загрузку, в выводе будет отображаться версия старого микрокода перед перезагрузкой микрокода, а новая - после перезагрузки. Это будет выглядеть примерно так:
</p>
<pre>[    2.112919] microcode: CPU0: patch_level=0x0700010b
[    2.112931] microcode: CPU1: patch_level=0x0700010b
[    2.112940] microcode: CPU2: patch_level=0x0700010b
[    2.112951] microcode: CPU3: patch_level=0x0700010b
[    2.113043] microcode: Microcode Update Driver: v2.2.
[    6.429109] microcode: CPU2: new patch_level=0x0700010f
[    6.430416] microcode: CPU0: new patch_level=0x0700010f
[    6.431722] microcode: CPU1: new patch_level=0x0700010f
[    6.433029] microcode: CPU3: new patch_level=0x0700010f
[    6.433073] x86/CPU: CPU features have changed after loading microcode, but might not take effect.
</pre>
<div class="mw-heading mw-heading2"><h2 id="Каким_ЦП_нужны_обновления_микрокода">
<span id=".D0.9A.D0.B0.D0.BA.D0.B8.D0.BC_.D0.A6.D0.9F_.D0.BD.D1.83.D0.B6.D0.BD.D1.8B_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Каким ЦП нужны обновления микрокода</h2></div>
<p>Пользователи могут проконсультироваться как у Intel, так и у AMD насчёт поддержки конкретной модели процессора, перейдя по следующим ссылкам:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.amd64.org/microcode.html">Исследовательский центр операционной системы AMD (англ)</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2023-06-17 ⓘ]</sup>.</li>
<li>
<a rel="nofollow" class="external text" href="https://downloadcenter.intel.com/SearchResult.aspx?lang=ru&amp;keyword=processor%20microcode%20data%20file">Центр загрузки Intel</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2023-07-30 ⓘ]</sup>.</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Обнаружение_доступного_обновления_микрокода">
<span id=".D0.9E.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0"></span>Обнаружение доступного обновления микрокода</h3></div>
<p>Вы можете узнать, содержит ли <code>intel-ucode.img</code> образ микрокода для вашего процессора с помощью <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iucode-tool">iucode-tool</a></span>.
</p>
<ol>
<li>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span> (для обнаружения обновления не требуется менять initrd)</li>
<li>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iucode-tool">iucode-tool</a></span>
</li>
<li><pre># modprobe cpuid</pre></li>
<li>Извлекает образ микрокода и ищет в нём ваш cpuid:<br><pre># bsdtar -Oxf /boot/intel-ucode.img | iucode_tool -tb -lS -</pre>
</li>
<li>Если обновление доступно, оно должно отобразиться под <i>selected microcodes</i>
</li>
<li>Микрокод может уже быть в вашем биосе и его загрузка может не отображаться в dmesg. Сравните с текущим запуском микрокода {ic|grep microcode /proc/cpuinfo}}</li>
</ol>
<div class="mw-heading mw-heading2"><h2 id="Применение_ранней_загрузки_микрокода_в_кастомных_ядрах">
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.BD.D0.BD.D0.B5.D0.B9_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.B4.D0.B0_.D0.B2_.D0.BA.D0.B0.D1.81.D1.82.D0.BE.D0.BC.D0.BD.D1.8B.D1.85_.D1.8F.D0.B4.D1.80.D0.B0.D1.85"></span>Применение ранней загрузки микрокода в кастомных ядрах</h2></div>
<p>Для того, чтобы ранняя загрузка работала в кастомных ядрах, "CPU microcode loading support" должен быть вкомпилирован в ядро, а <b>не</b> скомпилирован как модуль. Это включает приглашение "Early load microcode", которое должно быть установлено в <code>Y</code>. 
</p>
<pre>CONFIG_BLK_DEV_INITRD=Y
CONFIG_MICROCODE=y
CONFIG_MICROCODE_INTEL=Y
CONFIG_MICROCODE_AMD=y
</pre>
<div class="mw-heading mw-heading2"><h2 id="Смотрите_также">
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span>Смотрите также</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://flossexperiences.wordpress.com/2013/11/17/updating-microcodes/">Обновление микрокодов - Опыт сообщества (англ)</a></li>
<li><a rel="nofollow" class="external text" href="http://inertiawar.com/microcode/">Замечания по обновлению микрокода Intel - Ben Hawkes (англ)</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/arch/x86/microcode.html">Загрузчик микрокода ядра - документация ядра (англ)</a></li>
<li><a rel="nofollow" class="external text" href="https://www.anandtech.com/show/8376/intel-disables-tsx-instructions-erratum-found-in-haswell-haswelleep-broadwelly">Erratum найден в Haswell/Broadwell – AnandTech (англ)</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/iucode-tool/iucode-tool">проект iucode-tool на GitLab (англ)</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:CPU.html" title="Category:CPU (Русский)">CPU (Русский)</a></li>
<li><a href="../ru/Category:Security.html" title="Category:Security (Русский)">Security (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Microcode_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=839230">https://wiki.archlinux.org/index.php?title=Microcode_(Русский)&amp;oldid=839230</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 24 June 2025, at 20:13.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Microcode (Русский)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
