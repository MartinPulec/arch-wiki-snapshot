<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NVIDIA (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NVIDIA_Русский rootpage-NVIDIA_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Установка</div>
		</a>
		
			<button aria-controls="toc-Установка-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Установка subsection</span>
			</button>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
			<li id="toc-Неподдерживаемые_драйвера" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Неподдерживаемые драйвера</div>
			</a>
			
			<ul id="toc-Неподдерживаемые_драйвера-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Собственное_ядро" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%8F%D0%B4%D1%80%D0%BE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Собственное ядро</div>
			</a>
			
			<ul id="toc-Собственное_ядро-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DRM_kernel_mode_setting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#DRM_kernel_mode_setting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>DRM kernel mode setting</div>
			</a>
			
			<ul id="toc-DRM_kernel_mode_setting-sublist" class="vector-toc-list">
				<li id="toc-Ранняя_загрузка" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%BD%D0%BD%D1%8F%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1</span>Ранняя загрузка</div>
			</a>
			
			<ul id="toc-Ранняя_загрузка-sublist" class="vector-toc-list">
				<li id="toc-mkinitcpio" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#mkinitcpio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1.1</span>mkinitcpio</div>
			</a>
			
			<ul id="toc-mkinitcpio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Booster" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Booster">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1.2</span>Booster</div>
			</a>
			
			<ul id="toc-Booster-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Хук_pacman" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%A5%D1%83%D0%BA_pacman">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1.3</span>Хук pacman</div>
			</a>
			
			<ul id="toc-Хук_pacman-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Аппаратное_декодирование_видео" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D0%B4%D0%B5%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Аппаратное декодирование видео</div>
			</a>
			
			<ul id="toc-Аппаратное_декодирование_видео-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Аппаратное_кодирование_видео_с_помощью_NVENC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_NVENC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Аппаратное кодирование видео с помощью NVENC</div>
			</a>
			
			<ul id="toc-Аппаратное_кодирование_видео_с_помощью_NVENC-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Настройка_Xorg" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_Xorg">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Настройка Xorg</div>
		</a>
		
			<button aria-controls="toc-Настройка_Xorg-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Настройка Xorg subsection</span>
			</button>
		
		<ul id="toc-Настройка_Xorg-sublist" class="vector-toc-list">
			<li id="toc-Автоматическая_настройка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Автоматическая настройка</div>
			</a>
			
			<ul id="toc-Автоматическая_настройка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nvidia-settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nvidia-settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>nvidia-settings</div>
			</a>
			
			<ul id="toc-nvidia-settings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ручная_настройка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Ручная настройка</div>
			</a>
			
			<ul id="toc-Ручная_настройка-sublist" class="vector-toc-list">
				<li id="toc-Минимальная_настройка" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9C%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Минимальная настройка</div>
			</a>
			
			<ul id="toc-Минимальная_настройка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отключение_лого_при_запуске" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%BE%D0%B3%D0%BE_%D0%BF%D1%80%D0%B8_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>Отключение лого при запуске</div>
			</a>
			
			<ul id="toc-Отключение_лого_при_запуске-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Переопределение_обнаружения_монитора" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.3</span>Переопределение обнаружения монитора</div>
			</a>
			
			<ul id="toc-Переопределение_обнаружения_монитора-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Включение_SLI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_SLI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.4</span>Включение SLI</div>
			</a>
			
			<ul id="toc-Включение_SLI-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Несколько_мониторов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Несколько мониторов</div>
			</a>
			
			<ul id="toc-Несколько_мониторов-sublist" class="vector-toc-list">
				<li id="toc-Использование_nvidia-settings" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>Использование nvidia-settings</div>
			</a>
			
			<ul id="toc-Использование_nvidia-settings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ConnectedMonitor" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#ConnectedMonitor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.2</span>ConnectedMonitor</div>
			</a>
			
			<ul id="toc-ConnectedMonitor-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-TwinView" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TwinView">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3</span>TwinView</div>
			</a>
			
			<ul id="toc-TwinView-sublist" class="vector-toc-list">
				<li id="toc-Вертикальная_синхронизация_при_использовании_TwinView" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%92%D0%B5%D1%80%D1%82%D0%B8%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_TwinView">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3.1</span>Вертикальная синхронизация при использовании TwinView</div>
			</a>
			
			<ul id="toc-Вертикальная_синхронизация_при_использовании_TwinView-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Запуск_игр_при_использовании_TwinView" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA_%D0%B8%D0%B3%D1%80_%D0%BF%D1%80%D0%B8_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_TwinView">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3.2</span>Запуск игр при использовании TwinView</div>
			</a>
			
			<ul id="toc-Запуск_игр_при_использовании_TwinView-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Режим_Mosaic" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A0%D0%B5%D0%B6%D0%B8%D0%BC_Mosaic">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.4</span>Режим Mosaic</div>
			</a>
			
			<ul id="toc-Режим_Mosaic-sublist" class="vector-toc-list">
				<li id="toc-Base_Mosaic" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Base_Mosaic">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.4.1</span>Base Mosaic</div>
			</a>
			
			<ul id="toc-Base_Mosaic-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SLI_Mosaic" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#SLI_Mosaic">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.4.2</span>SLI Mosaic</div>
			</a>
			
			<ul id="toc-SLI_Mosaic-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Wayland" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Wayland">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Wayland</div>
		</a>
		
		<ul id="toc-Wayland-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Советы и рекомендации</div>
		</a>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Решение проблем</div>
		</a>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Смотрите также</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NVIDIA (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Nvidia" title="Nvidia – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/NVIDIA.html" title="NVIDIA – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/NVIDIA.html" title="NVIDIA – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NVIDIA" title="NVIDIA – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/NVIDIA.html" title="NVIDIA – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NVIDIA" title="NVIDIA – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>. Дата последней синхронизации: 1 марта 2024. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=NVIDIA&amp;diff=0&amp;oldid=800955">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/NVIDIA/Tips_and_tricks.html" class="mw-redirect" title="NVIDIA/Советы и рекомендации">NVIDIA/Советы и рекомендации</a></li>
<li><a href="../ru/NVIDIA/Troubleshooting.html" class="mw-redirect" title="NVIDIA/Решение проблем">NVIDIA/Решение проблем</a></li>
<li><a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">Nouveau (Русский)</a></li>
<li><a href="../ru/NVIDIA_Optimus.html" title="NVIDIA Optimus (Русский)">NVIDIA Optimus (Русский)</a></li>
<li><a href="../en/PRIME.html" title="PRIME">PRIME</a></li>
<li><a href="../ru/Bumblebee.html" title="Bumblebee (Русский)">Bumblebee (Русский)</a></li>
<li><a href="../ru/Nvidia-xrun.html" title="Nvidia-xrun (Русский)">nvidia-xrun (Русский)</a></li>
<li><a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg (Русский)</a></li>
<li><a href="../ru/Vulkan.html" title="Vulkan (Русский)">Vulkan (Русский)</a></li>
</ul>
</div>
<p>Данная статья описывает процесс установки и настройки проприетарного драйвера графических карт <a rel="nofollow" class="external text" href="https://www.nvidia.com/ru-ru/">NVIDIA</a>. Для получения информации о драйверах с открытым исходным кодом обратитесь к статье <a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">Nouveau (Русский)</a>. Также есть отдельная статья для обладателей ноутбуков с гибридной графикой Intel и NVIDIA, см. <a href="../ru/NVIDIA_Optimus.html" title="NVIDIA Optimus (Русский)">NVIDIA Optimus (Русский)</a>.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Избегайте установки драйвера с сайта NVIDIA. Установка через <a href="../ru/Pacman.html" title="Pacman (Русский)">pacman</a> позволяет обновлять драйвер вместе с остальными компонентами системы.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> При двойной загрузке на системе с <a href="../ru/Hybrid_graphics.html" title="Hybrid graphics (Русский)">гибридной графикой</a> включение <i>Eco mode</i> в Windows может отключить дискретную видеокарту NVIDIA и таким образом помешать её обнаружению.</div>
<ol>
<li>Если вы не знаете модель установленной видеокарты, воспользуйтесь следующей командой: <pre>$ lspci -k | grep -A 2 -E "(VGA|3D)"</pre>
</li>
<li>Определите версию драйвера, необходимую для вашей видеокарты:
<ul>
<li>посетив <a rel="nofollow" class="external text" href="https://www.nvidia.com/Download/index.aspx">страницу загрузки драйверов</a> на сайте NVIDIA и выбрав свою модель видеокарты;</li>
<li>используя поиск по кодовому имени (например, NV50, NVC0 и т.д.) на <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/wiki/CodeNames/">странице в nouveau wiki с кодовыми именами</a> или <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/nouveau/wiki/-/blob/master/sources/CodeNames.mdwn">странице nouveau на GitLab</a>, а затем поискав название модели в <a rel="nofollow" class="external text" href="https://www.nvidia.com/en-us/drivers/unix/legacy-gpu/">списке устаревших графических карт</a> NVIDIA: если вашей карты нет в этом списке, используйте последний доступный драйвер.</li>
</ul>
</li>
<li>Установите подходящий драйвер для вашей видеокарты: <div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> При установке <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dkms">dkms</a></span> прочтите раздел <a href="../ru/Dynamic_Kernel_Module_Support.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0" title="Dynamic Kernel Module Support (Русский)">Dynamic Kernel Module Support (Русский)#Установка</a>.</div>
<ul>
<li>Для карт <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NV110">Maxwell (NV110/GM<i>XXX</i>)</a> и новее <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span> (для ядра <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span>), <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-lts">nvidia-lts</a></span> (для ядра <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>) или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-dkms">nvidia-dkms</a></span> (для других ядер).
<ul><li>Если эти пакеты не работают, в <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-beta/">nvidia-beta</a></span><sup><small>AUR</small></sup> может быть более новый драйвер с поддержкой вашего оборудования.</li></ul>
</li>
<li>В качестве альтернативы для <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NV160">Turing (NV160/TU<i>XXX</i>)</a> и более новых карт можно установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-open">nvidia-open</a></span>, который предоставляет открытые модули для ядра <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> (для других ядер нужно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-open-dkms">nvidia-open-dkms</a></span>).
<ul><li>На данный момент они имеют <b>бета-качество</b>, так что будут проблемы. В частности, из-за <a rel="nofollow" class="external text" href="https://github.com/NVIDIA/open-gpu-kernel-modules/issues/282">бага nvidia-open</a> они не работают на системах с интегрированной графикой AMD.</li></ul>
</li>
<li>Для карт <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NVE0">Kepler (NVE0/GK<i>XXX</i>)</a> <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-470xx-dkms/">nvidia-470xx-dkms</a></span><sup><small>AUR</small></sup>. <div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Драйвер версии 470 (и более старые) может работать некорректно на системах с процессором Intel <a rel="nofollow" class="external text" href="https://newsroom.intel.com/editorials/intel-cet-answers-call-protect-common-malware-threats/#gs.mg8nm2">11 поколения и новее</a><sup title="Статус последней проверки: 404">[<a href="https://en.wikipedia.org/wiki/ru:%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9C%D1%91%D1%80%D1%82%D0%B2%D1%8B%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8" class="extiw" title="wikipedia:ru:Википедия:Мёртвые ссылки">устаревшая ссылка</a> 2024-07-30 ⓘ]</sup> и ядром 5.18 (или новее) из-за несовместимости с функцией безопасности <a rel="nofollow" class="external text" href="https://edc.intel.com/content/www/us/en/design/ipla/software-development-platforms/client/platforms/alder-lake-desktop/12th-generation-intel-core-processors-datasheet-volume-1-of-2/007/indirect-branch-tracking/">Indirect Branch Tracking</a>. Вы можете отключить её, добавив <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>ibt=off</code> в настройках <a href="../ru/Arch_boot_process.html#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA" title="Arch boot process (Русский)">загрузчика</a>. Имейте в виду, что она <a rel="nofollow" class="external text" href="https://lwn.net/Articles/889475/">отвечает за защиту от целого класса уязвимостей</a>.</div>
</li>
<li>Если у вас ещё более старая модель, обратитесь к разделу <a href="#%D0%9D%D0%B5%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0">#Неподдерживаемые драйвера</a>.</li>
</ul>
</li>
<li>Для поддержки 32-разрядных приложений также необходимо установить соответствующий пакет nvidia <i>lib32</i> из репозитория <a href="../ru/Official_repositories.html#multilib" class="mw-redirect" title="Multilib (Русский)">multilib</a> (например, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-nvidia-utils">lib32-nvidia-utils</a></span>).</li>
<li>Удалите <code>kms</code> из массива <code>HOOKS</code> в файле <code>/etc/mkinitcpio.conf</code> и <a href="../ru/Mkinitcpio.html#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%B0" title="Mkinitcpio (Русский)">пересоберите образ initramfs</a>. Это предотвратит добавление модуля <code>nouveau</code> в initramfs.</li>
<li>Перезагрузите систему. Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span> содержит файл, который добавляет модуль <code>nouveau</code> в чёрный список, поэтому перезагрузка необходима.</li>
</ol>
<p>После установки драйвера можно перейти к разделу <a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_Xorg">#Настройка Xorg</a> или <a href="#Wayland">#Wayland</a>.
</p>
<h3>
<span id=".D0.9D.D0.B5.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Неподдерживаемые_драйвера">Неподдерживаемые драйвера</span>
</h3>
<p>Если у вас совсем старая видеокарта, NVIDIA больше не поддерживает драйвера для неё. Это означает, что последние доступные для неё драйвера <a rel="nofollow" class="external text" href="https://nvidia.custhelp.com/app/answers/detail/a_id/3142/">официально не поддерживают текущую версию Xorg</a>. В таком случае проще использовать драйвер <a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">nouveau</a>, который поддерживает старые видеокарты и текущую версию Xorg.
</p>
<p>Однако устаревшие драйверы NVIDIA всё ещё доступны и могут предоставлять более хорошую стабильность или производительность 3D.
</p>
<ul>
<li>Для карт <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NVC0">Fermi (NVC0/GF1<i>XX</i>)</a> <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-390xx-dkms/">nvidia-390xx-dkms</a></span><sup><small>AUR</small></sup>.</li>
<li>Для карт <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NV50">Tesla (NV50/G80-90-GT2<i>XX</i>)</a> <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-340xx-dkms/">nvidia-340xx-dkms</a></span><sup><small>AUR</small></sup>.</li>
<li>Карты <a rel="nofollow" class="external text" href="https://nouveau.freedesktop.org/CodeNames.html#NV40">Curie (NV40/G70)</a> и более старые не имеют пакетов для Arch Linux.</li>
</ul>
<h3>
<span id=".D0.A1.D0.BE.D0.B1.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D0.BE.D0.B5_.D1.8F.D0.B4.D1.80.D0.BE"></span><span class="mw-headline" id="Собственное_ядро">Собственное ядро</span>
</h3>
<p>Убедитесь, что ядро собрано с опцией <code>CONFIG_DRM_SIMPLEDRM=y</code>, а при использовании <code>CONFIG_DEBUG_INFO_BTF</code> в PKGBUILD должно быть это (начиная с ядра 5.16):
</p>
<pre>install -Dt "$builddir/tools/bpf/resolve_btfids" tools/bpf/resolve_btfids/resolve_btfids
</pre>
<h3><span class="mw-headline" id="DRM_kernel_mode_setting">DRM kernel mode setting</span></h3>
<p>Поскольку NVIDIA не поддерживает <a href="../ru/Kernel_mode_setting.html#%D0%9F%D0%BE%D0%B7%D0%B4%D0%BD%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_KMS" title="Kernel mode setting (Русский)">автоматический поздний запуск KMS</a>, для корректной работы композиторов Wayland или для <a href="../ru/Xorg.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Xorg_%D0%B1%D0%B5%D0%B7_%D0%BF%D1%80%D0%B0%D0%B2_%D1%81%D1%83%D0%BF%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" title="Xorg (Русский)">запуска Xorg без прав root</a> необходимо включить DRM (<a href="https://en.wikipedia.org/wiki/Direct_Rendering_Manager" class="extiw" title="wikipedia:Direct Rendering Manager">Direct Rendering Manager</a>) <a href="../ru/Kernel_mode_setting.html" title="Kernel mode setting (Русский)">kernel mode setting</a>.
</p>
<p>Для включения добавьте <a href="../ru/Kernel_module.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F" class="mw-redirect" title="Параметр модуля ядра">параметр модуля ядра</a> <code>modeset=1</code> для модуля <code>nvidia_drm</code>.
</p>
<p>Перезагрузитесь и проверьте, что параметр применился:
</p>
<pre># cat /sys/module/nvidia_drm/parameters/modeset
</pre>
<p>Команда должна вывести <code>Y</code>.
</p>
<p>С версии 545 можно для того же модуля добавить экспериментальный параметр <code>fbdev=1</code>, который указывает драйверу NVIDIA предоставить собственное устройство фреймбуфера вместо того, чтобы полагаться на <code>efifb</code> или <code>vesafb</code>, которые не работают под <code>simpledrm</code>.
</p>
<p>В более старых версиях драйвера или при отсутствии параметра <code>fbdev=1</code> необходимо прописать <code>nvidia_drm.modeset=1</code> строго через <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметры ядра">параметры ядра</a>, чтобы отключить <code>simpledrm</code> <a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/linux/commit/7bfc7b32d0e0b486d3e66d843ca2f3fe514860a9">[1]</a> (подробнее в <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/73720">FS#73720</a>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>
<code>fbdev=1</code> имеет проблемы, которые, похоже, исправлены только с версии 550 (смотрите <a href="../en/Talk:NVIDIA.html#Framebuffer_consoles_experimental_support" title="Talk:NVIDIA">Talk:NVIDIA#Framebuffer consoles experimental support</a>).</li>
<li>Драйвера NVIDIA до версии 470 (например <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-390xx-dkms/">nvidia-390xx-dkms</a></span><sup><small>AUR</small></sup>) не поддерживают аппаратное ускорение в Xwayland, так что у приложений, не являющихся родными для Wayland, может быть плохая производительность в Wayland-сеансах.</li>
</ul>
</div>
<h4>
<span id=".D0.A0.D0.B0.D0.BD.D0.BD.D1.8F.D1.8F_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0"></span><span class="mw-headline" id="Ранняя_загрузка">Ранняя загрузка</span>
</h4>
<p>Для базовой функциональности достаточно добавить параметр ядра. Если вы хотите, чтобы он загружался как можно раньше, или замечаете проблемы с запуском (например, модуль ядра <code>nvidia</code> загружается после <a href="../ru/Display_manager.html" title="Display manager (Русский)">экранного менеджера</a>), вы можете добавить <code>nvidia</code>, <code>nvidia_modeset</code>, <code>nvidia_uvm</code> и <code>nvidia_drm</code> в initramfs.
</p>
<h5><span class="mw-headline" id="mkinitcpio">mkinitcpio</span></h5>
<p>Если вы используете <a href="../ru/Mkinitcpio.html" title="Mkinitcpio (Русский)">mkinitcpio</a>, добавьте модули как описано в разделе <a href="../ru/Mkinitcpio.html#MODULES" title="Mkinitcpio (Русский)">mkinitcpio (Русский)#MODULES</a>.
</p>
<p>После добавления не забывайте запускать <a href="../ru/Mkinitcpio.html" title="Mkinitcpio (Русский)">mkinitcpio</a> каждый раз после обновления пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span>. Можно использовать <a href="#%D0%A5%D1%83%D0%BA_pacman">#Хук pacman</a> для автоматизации этого действия.
</p>
<h5><span class="mw-headline" id="Booster">Booster</span></h5>
<p>Если вы используете <a href="../en/Booster.html" title="Booster">Booster</a>, смотрите <a href="../en/Booster.html#Early_module_loading" title="Booster">Booster#Early module loading</a>.
</p>
<h5>
<span id=".D0.A5.D1.83.D0.BA_pacman"></span><span class="mw-headline" id="Хук_pacman">Хук pacman</span>
</h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Этот хук необходим только при использовании пакетов с заранее скомпилированными модулями ядра. Для пакетов <code>*-dkms</code> он не требуется, потому что их обновление автоматически запускает <i>mkinitcpio</i>.</div>
<p>Чтобы не забывать обновлять <a href="../ru/Arch_boot_process.html#initramfs" title="Arch boot process (Русский)">initramfs</a> после обновления драйвера NVIDIA, вы можете использовать <a href="../ru/Pacman.html#%D0%A5%D1%83%D0%BA%D0%B8" title="Pacman (Русский)">хук pacman</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/nvidia.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation=Install
Operation=Upgrade
Operation=Remove
Type=Package
Target=nvidia
Target=linux
# Измените "linux" в строке выше, если вы используете другое ядро

[Action]
Description=Update NVIDIA module in initcpio
Depends=mkinitcpio
When=PostTransaction
NeedsTargets
Exec=/bin/sh -c 'while read -r trg; do case $trg in linux*) exit 0; esac; done; /usr/bin/mkinitcpio -P'</pre>
<p>Пропишите в <code>Target</code> тот пакет, который вы установили в шагах выше (то есть, например, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-lts">nvidia-lts</a></span>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Усложнение в строке <code>Exec</code> сделано для того, чтобы избежать многократного запуска <i>mkinitcpio</i> в случае одновременного обновления пакетов <code>nvidia</code> и <code>linux</code>. Если вас это не беспокоит, строки <code>Target=linux</code> и <code>NeedsTargets</code> можно убрать, а строку <code>Exec</code> сократить до простого <code>Exec=/usr/bin/mkinitcpio -P</code>.</div>
<h3>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B5_.D0.B4.D0.B5.D0.BA.D0.BE.D0.B4.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE"></span><span class="mw-headline" id="Аппаратное_декодирование_видео">Аппаратное декодирование видео</span>
</h3>
<p>Аппаратное декодирование видео с помощью VDPAU поддерживается на картах серии GeForce 8 и новее. Аппаратное декодирование видео с помощью NVDEC поддерживается на картах Fermi (~400 серии) и новее. Подробности смотрите в статье <a href="../ru/Hardware_video_acceleration.html" class="mw-redirect" title="Аппаратное ускорение видео">Аппаратное ускорение видео</a>.
</p>
<h3>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B5_.D0.BA.D0.BE.D0.B4.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_NVENC"></span><span class="mw-headline" id="Аппаратное_кодирование_видео_с_помощью_NVENC">Аппаратное кодирование видео с помощью NVENC</span>
</h3>
<p>Для NVENC нужен модуль <code>nvidia_uvm</code> и файлы устройств в <code>/dev</code>.
</p>
<p>Пакеты с последней версией драйвера содержат <a href="../ru/Udev.html#%D0%9E_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0%D1%85_udev" title="Udev (Русский)">правила udev</a>, которые создают нужные файлы автоматически, так что дополнительные действия не требуются.
</p>
<p>Если у вас старый драйвер (например, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-340xx-dkms/">nvidia-340xx-dkms</a></span><sup><small>AUR</small></sup>), вам нужно создать файлы устройств самостоятельно. Вызов утилиты <code>nvidia-modprobe</code> создаст их. Вы можете создать <code>/etc/udev/rules.d/70-nvidia.rules</code> для автоматического её запуска:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/70-nvidia.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", DEVPATH=="/bus/pci/drivers/nvidia", RUN+="/usr/bin/nvidia-modprobe -c 0 -u"</pre>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_Xorg"></span><span class="mw-headline" id="Настройка_Xorg">Настройка Xorg</span>
</h2>
<p>Проприетарный драйвер NVIDIA не нуждается в файле конфигурации сервера Xorg. Вы можете <a href="../ru/Xorg.html#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA" title="Xorg (Русский)">запустить X</a> для проверки корректной работы сервера Xorg без файла конфигурации. Однако может потребоваться создать файл (предпочтительнее <code>/etc/X11/xorg.conf.d/20-nvidia.conf</code>, чем <code>/etc/X11/xorg.conf</code>) для тонкой настройки некоторых параметров. Его можно сгенерировать инструментом конфигурации Xorg от NVIDIA или создать вручную. Если он создаётся вручную, конфигурация в нём может быть минимальной (в том смысле, что она будет содержать только базовые настройки сервера Xorg), или она может включать в себя ряд настроек, которые могут обходить автоматически найденные или предварительно заданные настройки.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Больше информации о настройках можно прочитать в статье <a href="../ru/NVIDIA/Troubleshooting.html" class="mw-redirect" title="NVIDIA/Решение проблем">NVIDIA/Решение проблем</a>.</div>
<h3>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Автоматическая_настройка">Автоматическая настройка</span>
</h3>
<p>Пакет NVIDIA включает в себя автоматический инструмент для создания файла конфигурации сервера Xorg (<code>xorg.conf</code>) и может быть запущен путём выполнения:
</p>
<pre># nvidia-xconfig
</pre>
<p>Данная команда автоматически обнаруживает и создаёт (или изменяет существующую) конфигурацию <code>/etc/X11/xorg.conf</code> в соответствии с текущим аппаратным обеспечением.
</p>
<p>Если есть строка с указанием загрузки DRI, убедитесь, что она закомментирована:
</p>
<pre>#    Load        "dri"
</pre>
<p>Проверьте ещё раз <code>/etc/X11/xorg.conf</code> и убедитесь, что глубина по умолчанию, горизонтальная синхронизация, частота кадров и разрешение допустимы.
</p>
<h3><span class="mw-headline" id="nvidia-settings">nvidia-settings</span></h3>
<p>Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-settings">nvidia-settings</a></span> позволяет редактировать большинство опций через консоль или графическую оболочку. Запуск <code>nvidia-settings</code> без параметров запустит графический интерфейс; доступные опции командной строки описаны в <span class="plainlinks archwiki-template-man" title="$ man 1 nvidia-settings"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nvidia-settings.1">nvidia-settings(1)</a></span>.
</p>
<p>Также вы можете запустить <code>nvidia-settings</code> от имени обычного пользователя и сохранить настройки в <code>~/.nvidia-settings-rc</code>, используя кнопку <i>Save Current Configuration</i> на вкладке <i>nvidia-settings Configuration</i>.
</p>
<p>Чтобы загрузить настройки из <code>~/.nvidia-settings-rc</code> для текущего пользователя:
</p>
<pre>$ nvidia-settings --load-config-only
</pre>
<p>Можно добавить эту команду в <a href="../ru/Autostarting.html" class="mw-redirect" title="Автозапуск">автозапуск</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>X-сервер может перестать запускаться после сохранения изменений в <code>nvidia-settings</code>. Изменение или удаление сгенерированных файлов <code>~/.nvidia-settings-rc</code> и/или <a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg</a> поможет восстановить работоспособность.</li>
<li>
<a href="../en/Cinnamon.html" class="mw-redirect" title="Cinnamon (Русский)">Cinnamon</a> может переопределять настройки, сделанные в <code>nvidia-settings</code>. Вы можете <a href="../en/Cinnamon.html#Cinnamon_overrides_settings_in_xorg.conf" title="Cinnamon">настроить запуск Cinnamon, чтобы предотвратить это</a>.</li>
</ul>
</div>
<h3>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Ручная_настройка">Ручная настройка</span>
</h3>
<p>Некоторые настройки (которые не могут быть включены <a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">автоматически</a> или с помощью <a href="#nvidia-settings">nvidia-settings</a>) можно изменить через файл конфигурации. Для применения изменений нужно будет перезапустить сервер Xorg.
</p>
<p>Подробности и доступные опции описаны в <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/545.29.06/README/">NVIDIA Accelerated Linux Graphics Driver README and Installation Guide</a>.
</p>
<h4>
<span id=".D0.9C.D0.B8.D0.BD.D0.B8.D0.BC.D0.B0.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Минимальная_настройка">Минимальная настройка</span>
</h4>
<p>Минимальный блок настроек <code>20-nvidia.conf</code> может выглядеть так:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier "NVIDIA Card"
        Driver "nvidia"
        VendorName "NVIDIA Corporation"
        BoardName "GeForce GTX 1050 Ti"
EndSection
</pre>
<h4>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BB.D0.BE.D0.B3.D0.BE_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B5"></span><span class="mw-headline" id="Отключение_лого_при_запуске">Отключение лого при запуске</span>
</h4>
<p>Добавьте <code>"NoLogo"</code> в секцию <code>Device</code>:
</p>
<pre>Option "NoLogo" "1"
</pre>
<h4>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.B0"></span><span class="mw-headline" id="Переопределение_обнаружения_монитора">Переопределение обнаружения монитора</span>
</h4>
<p>Опция <code>"ConnectedMonitor"</code> в секции <code>Device</code> позволяет переопределить обнаружение монитора при запуске X-сервера, что может сэкономить значительное количество времени при запуске. Доступными опциями являются: <code>"CRT"</code> для аналоговых подключений, <code>"DFP"</code> для цифровых мониторов и <code>"TV"</code> для телевизоров.
</p>
<p>Следующая опция заставит драйвер NVIDIA обойти проверки при запуске и распознать монитор как DFP:
</p>
<pre>Option "ConnectedMonitor" "DFP"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Используйте "CRT" для всех аналоговых 15-контактных VGA-подключений, даже если дисплей является плоской панелью. "DFP" предназначен только для цифровых соединений DVI, HDMI или DisplayPort.</div>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_SLI"></span><span class="mw-headline" id="Включение_SLI">Включение SLI</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Начиная с серии GTX 10xx (1080, 1070, 1060 и т.д.) поддерживается только 2-way SLI. 3-way и 4-way SLI могут работать для приложений CUDA/OpenCL, но скорее всего сломают все приложения OpenGL.</div>
<p>Взято из NVIDIA driver's <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/545.29.06/README/xconfigoptions.html">README</a> Appendix B: <i>This option controls the configuration of SLI rendering in supported configurations.</i> "Supported configuration" — это компьютер с материнской платой, имеющей сертификацию SLI и 2 или 3 GPU GeForce с сертификацией SLI.
</p>
<p>Найдите идентификатор PCI-шины первого GPU с помощью <code>lspci</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># lspci | grep -E "VGA|3D controller"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller (rev 09)
03:00.0 VGA compatible controller: NVIDIA Corporation GK107 [GeForce GTX 650] (rev a1)
04:00.0 VGA compatible controller: NVIDIA Corporation GK107 [GeForce GTX 650] (rev a1)
08:00.0 3D controller: NVIDIA Corporation GM108GLM [Quadro K620M / Quadro M500M] (rev a2)
</pre>
<p>Добавьте BusID (в данном примере 3) в секцию <code>Device</code>:
</p>
<pre>BusID "PCI:3:0:0"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Формат значения BusID должен быть таким: <code>"PCI:&lt;BusID&gt;:0:0"</code>
</div>
<p>Добавьте нужное значение режима рендеринга SLI в секции <code>Screen</code>:
</p>
<pre>Option "SLI" "AA"
</pre>
<p>Таблица доступных режимов рендеринга:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Значение</th>
<th>Поведение
</th>
</tr>
<tr>
<td>0, no, off, false, Single</td>
<td>Использовать только один GPU при рендеринге.
</td>
</tr>
<tr>
<td>1, yes, on, true, Auto</td>
<td>Включить SLI и позволить драйверу автоматически выбрать подходящий режим рендеринга.
</td>
</tr>
<tr>
<td>AFR</td>
<td>Включить SLI и использовать режим рендеринга чередующихся кадров (alternate frame rendering mode).
</td>
</tr>
<tr>
<td>SFR</td>
<td>Включить SLI и использовать режим рендеринга с разделением кадров (split frame rendering mode).
</td>
</tr>
<tr>
<td>AA</td>
<td>Включить SLI и использовать сглаживание SLI. Используйте это в сочетании с полным сглаживанием сцены для улучшения качества изображения.
</td>
</tr>
</tbody>
</table>
<p>Также можно использовать <i>nvidia-xconfig</i> для внесения этих изменений в <code>xorg.conf</code> одной командой:
</p>
<pre># nvidia-xconfig --busid=PCI:3:0:0 --sli=AA
</pre>
<p>Проверка режима SLI:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q all | grep SLIMode</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  Attribute 'SLIMode' (arch:0.0): AA
    'SLIMode' is a string attribute.
    'SLIMode' is a read-only attribute.
    'SLIMode' can use the following target types: X Screen.
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> После включения SLI система может зависнуть/не реагировать при запуске xorg. Рекомендуется отключить экранный менеджер перед перезагрузкой.</div>
<p>Если эта конфигурация не работает, может понадобиться использовать PCI Bus ID, который выдаст <code>nvidia-settings</code>,
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q all | grep -i pcibus</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Attribute 'PCIBus' (host:0[gpu:0]): 101.
  'PCIBus' is an integer attribute.
  'PCIBus' is a read-only attribute.
  'PCIBus' can use the following target types: GPU, SDI Input Device.
Attribute 'PCIBus' (host:0[gpu:1]): 23.
  'PCIBus' is an integer attribute.
  'PCIBus' is a read-only attribute.
  'PCIBus' can use the following target types: GPU, SDI Input Device.
</pre>
<p>и закомментировать опцию Primary GPU в настройках xorg,
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

Section "OutputClass"
...
    # Option "PrimaryGPU" "yes"
...
</pre>
<p>Использование этой конфигурации также может решить проблемы с графической загрузкой.
</p>
<h3>
<span id=".D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.BE.D0.B2"></span><span class="mw-headline" id="Несколько_мониторов">Несколько мониторов</span>
</h3>
<p>Смотрите <a href="../en/Multihead.html" title="Multihead">Multihead</a> для получения основной информации.
</p>
<h4>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_nvidia-settings"></span><span class="mw-headline" id="Использование_nvidia-settings">Использование nvidia-settings</span>
</h4>
<p>Можно использовать <a href="#nvidia-settings">nvidia-settings</a> для настройки нескольких мониторов.
</p>
<p>Для настройки через командную строку сперва узнайте <code>CurrentMetaMode</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q CurrentMetaMode</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Attribute 'CurrentMetaMode' (hostnmae:0.0): id=50, switchable=no, source=nv-control :: DPY-1: 2880x1620 @2880x1620 +0+0 {ViewPortIn=2880x1620, ViewPortOut=2880x1620+0+0}</pre>
<p>Сохраните всё после символов <code>::</code> и до конца атрибута (в данном примере <code>DPY-1: 2880x1620 @2880x1620 +0+0 {ViewPortIn=2880x1620, ViewPortOut=2880x1620+0+0}</code>) и используйте для перенастройки мониторов с помощью <code>nvidia-settings --assign "CurrentMetaMode=<i>your_meta_mode</i>"</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Вы можете создать псевдонимы в командной облочке для различных конфигураций мониторов и разрешений, которые вы используете.</div>
<h4><span class="mw-headline" id="ConnectedMonitor">ConnectedMonitor</span></h4>
<p>Если драйвер не определил второй монитор, вы можете принудительно указать его с помощью опции ConnectedMonitor.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

Section "Monitor"
    Identifier     "Monitor1"
    VendorName     "Panasonic"
    ModelName      "Panasonic MICRON 2100Ex"
    HorizSync       30.0 - 121.0 # this monitor has incorrect EDID, hence Option "UseEDIDFreqs" "false"
    VertRefresh     50.0 - 160.0
    Option         "DPMS"
EndSection

Section "Monitor"
    Identifier     "Monitor2"
    VendorName     "Gateway"
    ModelName      "GatewayVX1120"
    HorizSync       30.0 - 121.0
    VertRefresh     50.0 - 160.0
    Option         "DPMS"
EndSection

Section "Device"
    Identifier     "Device1"
    Driver         "nvidia"
    Option         "NoLogo"
    Option         "UseEDIDFreqs" "false"
    Option         "ConnectedMonitor" "CRT,CRT"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:3:0:0"
    Screen          0
EndSection

Section "Device"
    Identifier     "Device2"
    Driver         "nvidia"
    Option         "NoLogo"
    Option         "UseEDIDFreqs" "false"
    Option         "ConnectedMonitor" "CRT,CRT"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:3:0:0"
    Screen          1
EndSection

</pre>
<p>Дублирование устройств с опцией <code>Screen</code> описывает использование сервером Xorg двух мониторов на одной карте без технологии <code>TwinView</code>. Учтите, что <code>nvidia-settings</code> будет вырезать любое упоминание опции <code>ConnectedMonitor</code>.
</p>
<h4><span class="mw-headline" id="TwinView">TwinView</span></h4>
<p>Если вы хотите только один большой экран вместо двух, установите значение опции <code>TwinView</code> в <code>1</code>. Эта опция должна использоваться, если вы хотите композитинг. Технология TwinView работает только на базе одной карты, когда все мониторы подключены к одной карте.
</p>
<pre>Option "TwinView" "1"
</pre>
<p>Пример конфигурации:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-monitor.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "ServerLayout"
    Identifier     "TwinLayout"
    Screen         0 "metaScreen" 0 0
EndSection

Section "Monitor"
    Identifier     "Monitor0"
    Option         "Enable" "true"
EndSection

Section "Monitor"
    Identifier     "Monitor1"
    Option         "Enable" "true"
EndSection

Section "Device"
    Identifier     "Card0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"

    #refer to the link below for more information on each of the following options.
    Option         "HorizSync"          "DFP-0: 28-33; DFP-1: 28-33"
    Option         "VertRefresh"        "DFP-0: 43-73; DFP-1: 43-73"
    Option         "MetaModes"          "1920x1080, 1920x1080"
    Option         "ConnectedMonitor"   "DFP-0, DFP-1"
    Option         "MetaModeOrientation" "DFP-1 LeftOf DFP-0"
EndSection

Section "Screen"
    Identifier     "metaScreen"
    Device         "Card0"
    Monitor        "Monitor0"
    DefaultDepth    24
    Option         "TwinView" "True"
    SubSection "Display"
        Modes          "1920x1080"
    EndSubSection
EndSection
</pre>
<p><a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/545.29.06/README/configtwinview.html">Дополнительная информация о технологии TwinView (англ.)</a>.
</p>
<p>Если вы имеете несколько карт, которые совместимы с технологией SLI, вы можете использовать несколько мониторов, присоединённых к разным картам (пример: две карты в режиме SLI с подключением монитора на каждой карте). Опция "MetaModes" совместно с режимом SLI Mosaic позволяет это. Ниже указана конфигурация, которая работает для вышеупомянутого примера и безупречно запускает <a href="../ru/GNOME.html" title="GNOME (Русский)">GNOME</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-monitor.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier      "Card A"
        Driver          "nvidia"
        BusID           "PCI:1:00:0"
EndSection

Section "Device"
        Identifier      "Card B"
        Driver          "nvidia"
        BusID           "PCI:2:00:0"
EndSection

Section "Monitor"
        Identifier      "Right Monitor"
EndSection

Section "Monitor"
        Identifier      "Left Monitor"
EndSection

Section "Screen"
        Identifier      "Right Screen"
        Device          "Card A"
        Monitor         "Right Monitor"
        DefaultDepth    24
        Option          "SLI" "Mosaic"
        Option          "Stereo" "0"
        Option          "BaseMosaic" "True"
        Option          "MetaModes" "GPU-0.DFP-0: 1920x1200+4480+0, GPU-1.DFP-0:1920x1200+0+0"
        SubSection      "Display"
                        Depth           24
        EndSubSection
EndSection

Section "Screen"
        Identifier      "Left Screen"
        Device          "Card B"
        Monitor         "Left Monitor"
        DefaultDepth    24
        Option          "SLI" "Mosaic"
        Option          "Stereo" "0"
        Option          "BaseMosaic" "True"
        Option          "MetaModes" "GPU-0.DFP-0: 1920x1200+4480+0, GPU-1.DFP-0:1920x1200+0+0"
        SubSection      "Display"
                        Depth           24
        EndSubSection
EndSection

Section "ServerLayout"
        Identifier      "Default"
        Screen 0        "Right Screen" 0 0
        Option          "Xinerama" "0"
EndSection</pre>
<h5>
<span id=".D0.92.D0.B5.D1.80.D1.82.D0.B8.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D1.81.D0.B8.D0.BD.D1.85.D1.80.D0.BE.D0.BD.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8_TwinView"></span><span class="mw-headline" id="Вертикальная_синхронизация_при_использовании_TwinView">Вертикальная синхронизация при использовании TwinView</span>
</h5>
<p>Если вы используете TwinView и вертикальную синхронизацию (опция "Sync to VBlank" в <b>nvidia-settings</b>), вы заметите, что только один экран корректно использует синхронизацию, если у вас нет двух одинаковых мониторов. Несмотря на то, что <b>nvidia-settings</b> имеет необходимую опцию для выбора, какой именно экран синхронизировать (опция "Sync to this display device"), это не всегда работает. Решением будет добавить следующие переменные окружения при запуске, например в <code>/etc/profile</code>:
</p>
<pre>export __GL_SYNC_TO_VBLANK=1
export __GL_SYNC_DISPLAY_DEVICE=DFP-0
export VDPAU_NVIDIA_SYNC_DISPLAY_DEVICE=DFP-0
</pre>
<p>Вы можете изменить <code>DFP-0</code> на ваш используемый монитор (<code>DFP-0</code> это DVI порт, а <code>CRT-0</code> - VGA порт). Идентификатор для вашего монитора можно найти с помощью <b>nvidia-settings</b> в секции "X Server XVideoSettings".
</p>
<h5>
<span id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B8.D0.B3.D1.80_.D0.BF.D1.80.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8_TwinView"></span><span class="mw-headline" id="Запуск_игр_при_использовании_TwinView">Запуск игр при использовании TwinView</span>
</h5>
<p>Если вы захотите сыграть в полноэкранные игры при использовании TwinView, вероятно вы заметите, что игры распознают два экрана как один большой экран. Хотя это технически правильно (виртуальный экран X в действительности соответствует размеру ваших экранов вместе), вы, вероятно, не захотите так играть.
</p>
<p>Чтобы исправить это для SDL, попробуйте:
</p>
<pre>export SDL_VIDEO_FULLSCREEN_HEAD=1
</pre>
<p>Для OpenGL добавьте Metamodes в свой xorg.conf в секции <code>Device</code> и перезапустите X:
</p>
<pre>Option "Metamodes" "1680x1050,1680x1050; 1280x1024,1280x1024; 1680x1050,NULL; 1280x1024,NULL;"
</pre>
<p>Ещё один метод, который может работать самостоятельно или в сочетании с упомянутыми выше — <a href="../en/Gaming.html#Starting_games_in_a_separate_X_server" title="Gaming">запуск игр в отдельном X-сервере</a>.
</p>
<h4>
<span id=".D0.A0.D0.B5.D0.B6.D0.B8.D0.BC_Mosaic"></span><span class="mw-headline" id="Режим_Mosaic">Режим Mosaic</span>
</h4>
<p>Режим Mosaic — единственный способ использовать более чем два монитора на нескольких видеокартах с использованием композитинга. Ваш оконный менджер может распознать, а может и не распознать различия между мониторами.
Режим Mosaic требует правильной конфигурации SLI. Даже если используется режим Base без SLI, видеокарты должны быть совместимы с SLI.
</p>
<h5><span class="mw-headline" id="Base_Mosaic">Base Mosaic</span></h5>
<p>Режим Base Mosaic работает с картами Geforce 8000 series или выше. Его нельзя включить через графический интерфейс nvidia-setting. Вы должны использовать команду <i>nvidia-xconfig</i> либо отредактировать <code>xorg.conf</code> самостоятельно. Опция Metamodes должна быть указана. Следующий пример для четырёх DFP мониторов в конфигурации 2х2, каждый запущен в разрешении 1920x1024, по два подключенных DFP монитора на две карты:
</p>
<pre>$ nvidia-xconfig --base-mosaic --metamodes="GPU-0.DFP-0: 1920x1024+0+0, GPU-0.DFP-1: 1920x1024+1920+0, GPU-1.DFP-0: 1920x1024+0+1024, GPU-1.DFP-1: 1920x1024+1920+1024"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Хотя в документации и указана конфигурация мониторов 2х2, <a rel="nofollow" class="external text" href="https://forums.developer.nvidia.com/t/basemosaic-v295-vs-v310-vs-v325-only-up-to-three-screens/30583#3954733">карты GeForce имеют искусственное ограничение в 3 монитора</a> в режиме Base Mosaic. Большее количество мониторов доступно в картах серии Quadro. С сентября 2014 года Windows не имеет ограничение на количество мониторов с той же самой версией драйвера, но в Linux-драйвере ограничение по-прежнему есть.</div>
<h5><span class="mw-headline" id="SLI_Mosaic">SLI Mosaic</span></h5>
<p>Если вы имеете конфигурацию SLI и все графические ускорители серии Quadro FX 5800, Quadro Fermi или новее, тогда вы можете использовать режим SLI Mosaic. он может быть включен через графический интерфейс nvidia-settings или через командную строку:
</p>
<pre>$ nvidia-xconfig --sli=Mosaic --metamodes="GPU-0.DFP-0: 1920x1024+0+0, GPU-0.DFP-1: 1920x1024+1920+0, GPU-1.DFP-0: 1920x1024+0+1024, GPU-1.DFP-1: 1920x1024+1920+1024"
</pre>
<h2><span class="mw-headline" id="Wayland">Wayland</span></h2>
<p>Смотрите <a href="../ru/Wayland.html#%D0%A2%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" title="Wayland (Русский)">Wayland (Русский)#Требования</a>.
</p>
<p>Дополнительные параметры конфигурации можно найти на страницах вики или в документации соответствующего композитора.
</p>
<p>Информацию об Xwayland смотрите в разделе <a href="../ru/Wayland.html#Xwayland" title="Wayland (Русский)">Wayland (Русский)#Xwayland</a>.
</p>
<p>Если вы используете GDM, смотрите <a href="../en/GDM.html#Wayland_and_the_proprietary_NVIDIA_driver" title="GDM">GDM#Wayland and the proprietary NVIDIA driver</a>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<p>Смотрите <a href="../ru/NVIDIA/Tips_and_tricks.html" class="mw-redirect" title="NVIDIA/Советы и рекомендации">NVIDIA/Советы и рекомендации</a>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<p>Смотрите <a href="../ru/NVIDIA/Troubleshooting.html" class="mw-redirect" title="NVIDIA/Решение проблем">NVIDIA/Решение проблем</a>.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://forums.developer.nvidia.com/t/current-graphics-driver-releases/28500">Информация о текущих версиях драйверов на официальном форуме NVIDIA</a></li>
<li><a rel="nofollow" class="external text" href="https://forums.developer.nvidia.com/c/gpu-graphics/linux/148">NVIDIA Developers Forum - Linux Subforum</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Graphics.html" title="Category:Graphics (Русский)">Graphics (Русский)</a></li>
<li><a href="../ru/Category:X_server.html" title="Category:X server (Русский)">X server (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NVIDIA_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=813418">https://wiki.archlinux.org/index.php?title=NVIDIA_(Русский)&amp;oldid=813418</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 15:01.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
