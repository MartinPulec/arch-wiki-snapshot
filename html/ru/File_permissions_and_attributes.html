<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>File permissions and attributes (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-File_permissions_and_attributes_Русский rootpage-File_permissions_and_attributes_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Просмотр_разрешений" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Просмотр разрешений</span>
			</div>
		</a>
		
			<button aria-controls="toc-Просмотр_разрешений-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Просмотр разрешений subsection</span>
			</button>
		
		<ul id="toc-Просмотр_разрешений-sublist" class="vector-toc-list">
			<li id="toc-Примеры" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Примеры</span>
				</div>
			</a>
			
			<ul id="toc-Примеры-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Изменение_разрешений" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Изменение разрешений</span>
			</div>
		</a>
		
			<button aria-controls="toc-Изменение_разрешений-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Изменение разрешений subsection</span>
			</button>
		
		<ul id="toc-Изменение_разрешений-sublist" class="vector-toc-list">
			<li id="toc-Текстовый_метод" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Текстовый метод</span>
				</div>
			</a>
			
			<ul id="toc-Текстовый_метод-sublist" class="vector-toc-list">
				<li id="toc-Сокращения_для_текстового_метода" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B4%D0%BB%D1%8F_%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Сокращения для текстового метода</span>
				</div>
			</a>
			
			<ul id="toc-Сокращения_для_текстового_метода-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Копирование_разрешений" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9A%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Копирование разрешений</span>
				</div>
			</a>
			
			<ul id="toc-Копирование_разрешений-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Числовой_метод" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A7%D0%B8%D1%81%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Числовой метод</span>
				</div>
			</a>
			
			<ul id="toc-Числовой_метод-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Массовое_изменение_разрешений" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9C%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%BE%D0%B5_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Массовое изменение разрешений</span>
				</div>
			</a>
			
			<ul id="toc-Массовое_изменение_разрешений-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Изменение_владельца" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%BB%D0%B0%D0%B4%D0%B5%D0%BB%D1%8C%D1%86%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Изменение владельца</span>
			</div>
		</a>
		
		<ul id="toc-Изменение_владельца-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Списки_управления_доступом" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BA%D0%B8_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BE%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Списки управления доступом</span>
			</div>
		</a>
		
		<ul id="toc-Списки_управления_доступом-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Umask" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Umask">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Umask</span>
			</div>
		</a>
		
		<ul id="toc-Umask-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Атрибуты_файла" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%90%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D1%8B_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Атрибуты файла</span>
			</div>
		</a>
		
		<ul id="toc-Атрибуты_файла-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Расширенные_атрибуты" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Расширенные атрибуты</span>
			</div>
		</a>
		
		<ul id="toc-Расширенные_атрибуты-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Советы и рекомендации</span>
			</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-Preserve_root" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Preserve_root">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>Preserve root</span>
				</div>
			</a>
			
			<ul id="toc-Preserve_root-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">File permissions and attributes (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes – English" lang="en" hreflang="en" data-title="File permissions and attributes" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/File_permissions_and_attributes.html" title="File permissions and attributes – español" lang="es" hreflang="es" data-title="File permissions and attributes" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A8%E5%B1%9E%E6%80%A7" title="ファイルのパーミッションと属性 – 日本語" lang="ja" hreflang="ja" data-title="ファイルのパーミッションと属性" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/File_permissions_and_attributes.html" title="File permissions and attributes – português" lang="pt" hreflang="pt" data-title="File permissions and attributes" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/File_permissions_and_attributes" title="File permissions and attributes – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="File permissions and attributes" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes">File permissions and attributes</a>. Дата последней синхронизации: 22 сентября 2023. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes&amp;diff=0&amp;oldid=785253">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Users_and_groups.html" class="mw-redirect" title="Пользователи и группы">Пользователи и группы</a></li>
<li><a href="../ru/Umask.html" title="Umask (Русский)">umask (Русский)</a></li>
<li><a href="../ru/Access_Control_Lists.html" class="mw-redirect" title="Списки управления доступом">Списки управления доступом</a></li>
<li><a href="../ru/Capabilities.html" title="Capabilities (Русский)">Capabilities (Русский)</a></li>
<li><a href="../ru/Extended_attributes.html" class="mw-redirect" title="Расширенные атрибуты">Расширенные атрибуты</a></li>
</ul>
</div>
<p><a href="../ru/File_systems.html" class="mw-redirect" title="Файловые системы">Файловые системы</a> используют <a href="https://en.wikipedia.org/wiki/ru:%D0%9F%D1%80%D0%B0%D0%B2%D0%B0_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0" class="extiw" title="wikipedia:ru:Права доступа">разрешения</a> и <a href="https://en.wikipedia.org/wiki/ru:%D0%90%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0" class="extiw" title="wikipedia:ru:Атрибут файла">атрибуты</a> для регулирования уровня взаимодействия, которые системные процессы могут иметь с файлами и каталогами.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> При использовании в целях безопасности разрешения и атрибуты защищают только от атак, запускаемых изнутри запущенной системы. Для защиты от злоумышленника, имеющего физический доступ к устройству, необходимо использовать <a href="../ru/Data-at-rest_encryption.html" title="Data-at-rest encryption (Русский)">шифрование хранимых данных</a>.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Просмотр_разрешений">Просмотр разрешений</span>
</h2>
<p>Чтобы посмотреть разрешения (или <b>права файла</b>), используйте команду <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">ls</a> с опцией <code>-l</code> для просмотра содержимого каталога, например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /путь/к/каталогу</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">итого 128
-rw-rw-r-- 1 archie archie  5120 апр 27 08:28 customers.ods
-rw-r--r-- 1 archie archie  3339 апр 27 08:28 todo
-rwxr-xr-x 1 archie archie  2048 май  6 12:56 myscript.sh
drwxr-xr-x 6 archie archie  4096 июл  5 17:37 Документы
drwxr-xr-x 2 archie archie  4096 июл  5 13:45 Загрузки
drwxr-xr-x 2 archie archie  4096 июл  5 21:03 Рабочий стол
</pre>
<p>Здесь мы должны сосредоточиться на первом столбце. В качестве примера рассмотрим значение <code>drwxrwxrwx+</code>, каждый символ которого объясняется в следующих таблицах:
</p>
<table class="wikitable">

<tbody>
<tr style="text-align:center;">
<td>
<code>d</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>+</code>
</td>
</tr>
<tr>
<td>Обозначет тип файла, технически не относится к разрешениям. Смотрите <a href="https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B8%D0%BF%D1%8B_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_(UNIX)" class="extiw" title="wikipedia:ru:Типы файлов (UNIX)">типы файлов (UNIX)</a> для ознакомления со всеми возможными значениями.
</td>
<td>Разрешения, которые имеет владелец к файлу (объяснения ниже).
</td>
<td>Разрешения, которые имеет группа к файлу (объяснения ниже).
</td>
<td>Разрешения, которые имеют все остальные пользователи к файлу (объяснения ниже).
</td>
<td>Одиночный символ, который указывает на применение альтернативного метода доступа. Пробел указывает на отсутствие альтернативного метода доступа. Символ <code>.</code> обозначает файл с контекстом безопасности, но без другого альтернативного метода доступа. Файл с любой другой комбинацией альтернативных методов доступа помечается символом <code>+</code>, например, если используются <a href="../ru/Access_Control_Lists.html" class="mw-redirect" title="Списки управления доступом">списки управления доступом</a>.
</td>
</tr>
</tbody>
</table>
<p>Каждая из трёх триад разрешений (<code>rwx</code> в примере выше) может состоять из следующих символов:
</p>
<table class="wikitable">
<tbody>
<tr>
<th scope="col" style="width: 10%;">
</th>
<th scope="col" style="width: 10%;">Символ
</th>
<th scope="col" style="width: 30%;">Влияние на файлы
</th>
<th scope="col" style="width: 50%;">Влияние на каталоги
</th>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Разрешение на чтение (первый символ)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>Файл не может быть прочитан.
</td>
<td>Содержимое каталога не может быть показано.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>r</code>
</td>
<td>Файл можно прочитать.
</td>
<td>Содержимое каталога может быть показано.
</td>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Разрешение на запись (второй символ)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>Файл не может быть изменён.
</td>
<td>Содержимое каталога не может быть изменено.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>w</code>
</td>
<td>Файл может быть изменён.
</td>
<td>Содержимое каталога может быть изменено (создание новых файлов или каталогов; переименовывание и удаление существующих файлов или каталогов); дополнительно требуется разрешение на выполнение, в противном случае, это разрешение не действует.
</td>
</tr>
<tr>
<th rowspan="6" style="text-align:left;">Разрешение на выполнение (третий символ)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>Файл не может быть выполнен.
</td>
<td>Каталог не может быть доступен с помощью <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">cd</a>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>x</code>
</td>
<td>Файл может быть выполнен.
</td>
<td>Доступ к каталогу можно получить с помощью <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">cd</a>. Это единственный бит, который на практике можно считать «наследуемым» от каталогов-предков; фактически, если какой-либо каталог в пути не имеет установленного бита <code>x</code>, конечный файл или каталог также оказывается недоступен независимо от его разрешений; подробнее смотрите <span class="plainlinks archwiki-template-man" title="$ man 7 path_resolution"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/path_resolution.7">path_resolution(7)</a></span>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>s</code>
</td>
<td colspan="2">Показывает установленный <a href="https://en.wikipedia.org/wiki/ru:suid" class="extiw" title="wikipedia:ru:suid">suid</a> бит: в триаде пользователя — <b>setuid</b>; в триаде группы — <b>setgid</b>; в триаде остальных не встречается; также подразумевает, что установлен бит <code>x</code>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>S</code>
</td>
<td colspan="2">То же, что и <code>s</code>, но бит <code>x</code> не установлен; редко встречается у обычных файлов, бесполезен для каталогов.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>t</code>
</td>
<td colspan="2">
<a href="https://en.wikipedia.org/wiki/ru:Sticky_bit" class="extiw" title="wikipedia:ru:Sticky bit">Sticky bit</a>; встречается только в триаде остальных; также подразумевает, что установлен бит <code>x</code>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>T</code>
</td>
<td colspan="2">То же, что и <code>t</code>, но бит <code>x</code> не установлен; редко встречается у обычных файлов.
</td>
</tr>
</tbody>
</table>
<p>Смотрите <code>info Coreutils -n "Mode Structure"</code> и <span class="plainlinks archwiki-template-man" title="$ man 1 chmod"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chmod.1">chmod(1)</a></span> для более подробной информации.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Также можно посмотреть разрешения с помощью команды <code>namei -l <i>путь</i></code>.</div>
<h3>
<span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Примеры">Примеры</span>
</h3>
<p>Давайте посмотрим несколько примеров для лучшего понимания:
</p>
<pre><b>drwx------</b> 6 archie archie  4096 июл  5 17:37 Документы
</pre>
<p>Archie имеет полный доступ к каталогу <code>Документы</code>. Он может просматривать, создавать, переименовывать и удалять любые файлы в Документах, независимо от прав доступа к файлам. Его возможность получить доступ к файлам зависит от разрешений самого файла.
</p>
<pre><b>dr-x------</b> 6 archie archie  4096 июл  5 17:37 Документы
</pre>
<p>Archie имеет полный доступ, за исключением создания, переименовывания и удаления файлов. Он может просматривать список файлов и (если позволяют разрешения к файлам) может получить доступ к существующему файлу в Документах.
</p>
<pre><b>d-wx------</b> 6 archie archie  4096 июл  5 17:37 Документы
</pre>
<p>Archie не может выполнить <code>ls</code> в каталоге <code>Документы</code>, но если он знает имя существующего файла, то он может просмотреть, переименовать и удалить или (если позволяют разрешения) получить доступ к нему. Также он может создавать новые файлы.
</p>
<pre><b>d--x------</b> 6 archie archie  4096 июл  5 17:37 Документы
</pre>
<p>Archie может только (если позволяют разрешения файла) получить доступ к тем файлам в каталоге <code>Документы</code>, о которых он знает. Он не может просмотреть уже существующие файлы или создавать, переименовывать и удалить любой из них.
</p>
<p>Имейте в виду, что в этих примерах были рассмотрены права доступа к каталогу, но это не имеет ничего общего с правами доступа к отдельным файлам. При создании нового файла выполняется изменение каталога, в котором он создаётся. Вот почему нужно иметь разрешение на запись в каталог.
</p>
<p>Давайте посмотрим на другой пример, на этот раз файл, а не каталог:
</p>
<pre><b>-rw-r--r--</b> 1 archie web  5120 июн 27 08:28 foobar
</pre>
<p>Здесь мы видим первой буквой не <code>d</code>, а <code>-</code>. Таким образом мы знаем, что это файл, а не каталог. Благодаря разрешению <code>rw-</code> владелец может читать и писать, но не выполнять. Может показаться странным, что у владельца нет всех трёх разрешений, но разрешение <code>x</code> не требуется, так как это файл текста/данных, который может быть прочитан текстовым редактором, например Gedit, EMACS или программным обеспечением подобно R, но сам по себе файл не является исполняемым (хотя если он содержит что-то вроде программного кода на Python, то тогда запустить такой файл вполне возможно). Для группы установлены права доступа <code>r--</code>, поэтому у группы есть возможность читать файл, но не записывать и не редактировать его — фактически это установка чего-либо только для чтения. Мы видим, что подобные разрешения применимы и ко всем остальным пользователям.
</p>
<h2>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Изменение_разрешений">Изменение разрешений</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/ru:chmod" class="extiw" title="wikipedia:ru:chmod">chmod</a> — это команда в Linux и других Unix-подобных операционных системах, которая позволяет изменять права доступа к файлам или каталогам.
</p>
<h3>
<span id=".D0.A2.D0.B5.D0.BA.D1.81.D1.82.D0.BE.D0.B2.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4"></span><span class="mw-headline" id="Текстовый_метод">Текстовый метод</span>
</h3>
<p>Для изменения прав доступа — или <i>режима доступа</i> — к файлу используйте команду <i>chmod</i> в терминале. Ниже приведена общая структура команды:
</p>
<pre>chmod <i>кто</i>=<i>разрешения</i> <i>имя_файла</i>
</pre>
<p>Где <code><i>кто</i></code> — любая из нескольких букв, каждая из которых обозначает, кому дано разрешение. Они следующие:
</p>
<ul>
<li>
<code>u</code> (<b>u</b>ser): <a href="../ru/Users_and_groups.html" title="Users and groups (Русский)">пользователь</a>, который является владельцем файла.</li>
<li>
<code>g</code> (<b>g</b>roup): <a href="../ru/Users_and_groups.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B0%D0%BC%D0%B8" title="Users and groups (Русский)">группа пользователей</a>, которой принадлежит этот файл.</li>
<li>
<code>o</code> (<b>o</b>ther): другие пользователи, то есть все остальные.</li>
<li>
<code>a</code> (<b>a</b>ll): все сразу; используйте вместо <code>ugo</code>.</li>
</ul>
<p>Права доступа обозначаются так же, как описано в разделе <a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9">#Просмотр разрешений</a> (<code>r</code>, <code>w</code> и <code>x</code>).
</p>
<p>Теперь посмотрите на некоторые примеры использования этой команды. Предположим, вы захотели сильно защитить каталог Документы и отказать всем, кроме себя, в разрешении на чтение, запись и выполнение (или, в данном случае, поиск/просмотр) внутри него:
</p>
<p>До: <code>drwxr-xr-x 6 archie web  4096 июл  5 17:37 Документы</code>
</p>
<pre>$ chmod g= Документы
$ chmod o= Документы
</pre>
<p>После: <code>drwx------ 6 archie web  4096 июл  6 17:32 Документы</code>
</p>
<p>Здесь, поскольку вы хотите отказать в разрешениях, вы не ставите никаких букв после <code>=</code>, где будут введены разрешения. Из этого видно, что только разрешения владельца — это <code>rwx</code>, а все остальные разрешения — это <code>-</code>.
</p>
<p>Разрешения можно восстановить:
</p>
<p>До: <code>drwx------ 6 archie web  4096 июл  6 17:32 Документы</code>
</p>
<pre>$ chmod g=rx Документы
$ chmod o=rx Документы
</pre>
<p>После: <code>drwxr-xr-x 6 archie web  4096 июл  6 17:32 Документы</code>
</p>
<p>Следующий пример: вы хотите предоставить права на чтение и выполнение группе и другим пользователям, поэтому вы ставите следующие буквы для этих прав (<code>r</code> и <code>x</code>) после <code>=</code>, не оставляя пробелов.
</p>
<p>Вы можете упростить это, поместив более одной буквы <code><i>кто</i></code> в одну и ту же команду, например:
</p>
<pre>$ chmod go=rx Документы
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Не имеет значения, в каком порядке вы ставите буквы <code><i>кто</i></code> или буквы разрешений в команде <code>chmod</code>: команды <code>chmod go=rx file</code> и <code>chmod og=xr file</code> делают одно и то же.</div>
<p>Рассмотрим ещё один пример: предположим, вы хотите изменить файл <code>foobar</code> так, чтобы у вас были разрешения на чтение и запись, коллеги из группы <code>web</code>, которые хотят совместно работать с файлом <code>foobar</code>, также могли читать и записывать файл, а все остальные пользователи могли только читать его:
</p>
<p>До: <code>-rw-r--r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<pre>$ chmod g=rw foobar
</pre>
<p>После: <code>-rw-rw-r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<p>Это точно такой же пример, как и первый, но с файлом, а не каталогом, и вы предоставляете разрешение на запись (просто для того, чтобы привести пример предоставления каждого разрешения).
</p>
<h4>
<span id=".D0.A1.D0.BE.D0.BA.D1.80.D0.B0.D1.89.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D1.82.D0.B5.D0.BA.D1.81.D1.82.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Сокращения_для_текстового_метода">Сокращения для текстового метода</span>
</h4>
<p>Команда <i>chmod</i> позволяет добавлять и вычитать разрешения из существующих, используя <code>+</code> или <code>-</code> вместо <code>=</code>. Это отличается от описанных выше команд, которые по сути полностью заменяют разрешения (например, чтобы изменить разрешения с <code>r--</code> на <code>rw-</code>, вам всё равно нужно указать <code>r</code> и <code>w</code> после <code>=</code> в вызове команды <i>chmod</i>. Если вы пропустите <code>r</code>, то <code>=</code> перезапишет разрешения и таким образом удалит разрешение <code>r</code>. Использование <code>+</code> и <code>-</code> позволяет избежать этого, добавляя или отнимая разрешения из <i>текущего</i> набора разрешений).
</p>
<p>Давайте попробуем применить <code>+</code> и <code>-</code> на предыдущем примере добавления разрешений на запись в группу:
</p>
<p>До: <code>-rw-r--r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<pre>$ chmod g+w foobar
</pre>
<p>После: <code>-rw-rw-r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<p>Ещё пример, который запрещает запись абсолютно всем (<b>a</b>):
</p>
<p>До: <code>-rw-rw-r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<pre>$ chmod a-w foobar
</pre>
<p>После: <code>-r--r--r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<p>Также есть специальный режим <code>X</code>: это не настоящий файловый режим, но он часто используется вместе с опцией <code>-R</code>, чтобы добавить бит выполнения только каталогам, но оставить его нетронутым у файлов. Типичный пример использования:
</p>
<pre>$ chmod -R a+rX ./data/
</pre>
<h4>
<span id=".D0.9A.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Копирование_разрешений">Копирование разрешений</span>
</h4>
<p>С помощью <i>chmod</i> можно взять разрешения у одного класса, например владельца, и выставить те же разрешения группе или даже всем. Для этого вместо <code>r</code>, <code>w</code> или <code>x</code> после <code>=</code> поставьте нужную вам букву <i>кто</i>. Например:
</p>
<p>До: <code>-rw-r--r-- 1 archie web 5120 июн 27 08:28 foobar</code>
</p>
<pre>$ chmod g=u foobar
</pre>
<p>После: <code>-rw-rw-r-- 1 archie web 5120 июн 27 08:28 foobar</code>
</p>
<p>Эта команда по сути означает «изменить разрешения группы (<code>g=</code>), чтобы они были такими же, как у владельца (<code>=u</code>)». Обратите внимание, что вы не можете скопировать одновременно несколько разрешений или добавить новые, то есть такая команда:
</p>
<pre>$ chmod g=wu foobar
</pre>
<p>выдаст ошибку.
</p>
<h3>
<span id=".D0.A7.D0.B8.D1.81.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4"></span><span class="mw-headline" id="Числовой_метод">Числовой метод</span>
</h3>
<p>Команда <i>chmod</i> позволяет задавать разрешения в виде чисел.
</p>
<p>Использование чисел — это ещё один метод, который позволяет редактировать разрешения одновременно для владельца, группы и остальных, а также биты setuid, setgid и sticky. Основная структура такова:
</p>
<pre>$ chmod <i>xxx</i> <i>путь</i>
</pre>
<p>где <code><b>xxx</b></code> это три цифры, каждая из которых может иметь значение от 0 до 7. Первая цифра задаёт разрешения для владельца, вторая — для группы, а третья — для всех остальных.
</p>
<p>Права <code>r</code>, <code>w</code> и <code>x</code> соответствуют следующим числам:
</p>
<pre>r=4
w=2
x=1
</pre>
<p>Чтобы объединить нужные права в одно трёхзначное число, нужно суммировать соответствующие значения. Например, если вы хотите предоставить владельцу каталога права на чтение, запись и выполнение, а группе и всем остальным — только права на чтение и выполнение, то числовые значения будут выглядеть следующим образом:
</p>
<ul>
<li>Владелец: <code>rwx</code>=4+2+1=7</li>
<li>Группа: <code>r-x</code>=4+0+1=5</li>
<li>Остальные: <code>r-x</code>=4+0+1=5</li>
</ul>
<pre>$ chmod 755 <i>путь</i>
</pre>
<p>Это эквивалентно следующим двум командам:
</p>
<pre>$ chmod u=rwx <i>путь</i>
$ chmod go=rx <i>путь</i>
</pre>
<p>Чтобы посмотреть текущие права в числовом виде, можно использовать команду <span class="plainlinks archwiki-template-man" title="$ man 1 stat"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/stat.1">stat(1)</a></span>:
</p>
<pre>$ stat -c %a <i>путь</i>
</pre>
<p>где %a задаёт числовой формат вывода.
</p>
<p>Большинство каталогов имеют значение <code>755</code>, которое разрешает чтение, запись и выполнение для владельца, но запрещает запись для всех остальных, а файлы обычно имеют значение <code>644</code>, разрешающее чтение и запись для владельца, но только чтение для всех остальных; так как большинство файлов не являются исполняемыми, то бит выполнения <code>x</code> у них не установлен.
</p>
<p>Чтобы увидеть этот метод в действии, рассмотрим тот же пример с файлом, который уже использовался, но вместо него используем числовой метод:
</p>
<p>До: <code>-rw-r--r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<pre>$ chmod 664 foobar
</pre>
<p>После: <code>-rw-rw-r-- 1 archie web  5120 июн 27 08:28 foobar</code>
</p>
<p>Для исполняемого файла вы могли бы задать <code>774</code>, если бы вы хотели предоставить разрешение на исполнение владельцу и группе. Если бы вы хотели, чтобы у всех было разрешение только на чтение, число было бы <code>444</code>. Если рассматривать <code>r</code> как 4, <code>w</code> как 2 и <code>x</code> как 1, то это, вероятно, самый простой способ вычислить числовые значения для использования <code>chmod <i>xxx</i> <i>путь</i></code>, но существует также двоичный метод, при котором каждое разрешение рассматривается как двоичное число, а затем они объединяются в обычное десятичное число. Этот способ немного более запутанный, но для полноты картины он здесь приведён.
</p>
<p>Рассмотрим такой набор разрешений:
</p>
<pre>-rwxr-xr--
</pre>
<p>Если вы пропишите 1 на месте каждого выданного разрешения и 0 на месте отсутствующих разрешений, получится такое двоичное число:
</p>
<pre>-rwxrwxr-x
 111111101
</pre>
<p>Затем можно преобразовать двоичные числа:
</p>
<pre>000=0	    100=4
001=1	    101=5
010=2	    110=6
011=3	    111=7
</pre>
<p>Итоговое значение получается 775.
</p>
<p>Допустим, мы хотим удалить разрешение на запись из группы:
</p>
<pre>-rwxr-xr-x
 111101101
</pre>
<p>Итоговое значение будет равно 755, и вы можете использовать команду <code>chmod 755 <i>имяфайла</i></code>, чтобы снять разрешение на запись. Обратите внимание, что вы получите одно и то же трёхзначное число независимо от того, какой метод вы используете. Какой способ использовать — текст или цифры — зависит от личных предпочтений и скорости набора текста. Если вы хотите вернуть файлу или каталогу права по умолчанию, например, разрешение на чтение и запись (и выполнение) для владельца, но запретить запись для всех остальных, может быть быстрее использовать <code>chmod 755/644 <i>имяфайла</i></code>. Однако если вы меняете разрешения на что-то нестандартное, проще и быстрее использовать текстовый метод, а не выполнять преобразование в числа, в процессе которого можно случайно ошибиться. Для пользователя, который использует <i>chmod</i> изредка, вероятно, нет существенной разницы в скорости использования обоих методов.
</p>
<p>Вы также можете использовать числовой метод для установки битов <code>setuid</code>, <code>setgid</code> и <code>sticky</code>, используя четыре цифры.
</p>
<pre>setuid=4
setgid=2
sticky=1
</pre>
<p>Например, <code>chmod 2777 <i>имяфайла</i></code> выдаст всем права на чтение/запись/выполнение и включит бит <code>setgid</code>.
</p>
<h3>
<span id=".D0.9C.D0.B0.D1.81.D1.81.D0.BE.D0.B2.D0.BE.D0.B5_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Массовое_изменение_разрешений">Массовое изменение разрешений</span>
</h3>
<p>Как правило, каталоги и файлы не должны иметь одинаковые разрешения. Если необходимо массово изменить дерево каталогов, используйте <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">find</a> для выборочного изменения чего-то одного.
</p>
<p>Чтобы выставить разрешения 755 только каталогам:
</p>
<pre>$ find <i>каталог</i> -type d -exec chmod 755 {} +
</pre>
<p>Чтобы выставить разрешения 644 только файлам в каталоге:
</p>
<pre>$ find <i>каталог</i> -type f -exec chmod 644 {} +
</pre>
<h2>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D0.BB.D0.B0.D0.B4.D0.B5.D0.BB.D1.8C.D1.86.D0.B0"></span><span class="mw-headline" id="Изменение_владельца">Изменение владельца</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/ru:chown" class="extiw" title="wikipedia:ru:chown">chown</a> изменяет владельца файла или каталога, что в некоторых случаях быстрее и проще, чем изменение прав доступа.
</p>
<p>Рассмотрим следующий пример: создание нового раздела с помощью <a href="../ru/Parted.html" title="Parted (Русский)">GParted</a> для резервного копирования данных. Gparted делает всё это от имени root, поэтому по умолчанию всё принадлежит root. Всё это хорошо, но обычные пользователи не смогут записать данные в смонтированный раздел.
</p>
<pre>brw-rw---- 1 root disk 8,    9 июл  6 16:02 sda9
drwxr-xr-x 5 root root    4096 июл  6 16:01 Backup
</pre>
<p>В данном примере устройством в <code>/dev</code> владеет root, как и каталогом для монтирования (<code>/media/Backup</code>). Чтобы изменить владельца каталога, можно сделать следующее:
</p>
<p>До: <code>drwxr-xr-x 5 root  root 4096 июл  6 16:01 Backup</code>
</p>
<pre># chown archie /media/Backup
</pre>
<p>После: <code>drwxr-xr-x 5 archie  root 4096 июл  6 16:01 Backup</code>
</p>
<p>Теперь новый владелец archie может записывать данные в этот раздел без изменения разрешений (потому что изначально уже стояли права <code>rwx</code>, разрешающие запись владельцу).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>
<code>chown</code> всегда сбрасывает биты setuid и setgid.</li>
<li>Обычные пользователи не могут использовать <code>chown</code> для «передачи» файлов, которыми они владеют, другому пользователю.</li>
</ul>
</div>
<h2>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BA.D0.B8_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.BE.D0.BC"></span><span class="mw-headline" id="Списки_управления_доступом">Списки управления доступом</span>
</h2>
<p><a href="../ru/Access_Control_Lists.html" class="mw-redirect" title="Списки управления доступом">Списки управления доступом</a> (Access Control Lists, ACL) предоставляют дополнительный, более гибкий механизм разрешений для файловых систем, позволяя устанавливать разрешения для любого пользователя или группы на любой файл.
</p>
<h2><span class="mw-headline" id="Umask">Umask</span></h2>
<p>Утилита <a href="../ru/Umask.html" title="Umask (Русский)">umask</a> используется для управления маской режима, которая определяет начальное значение битов разрешения файлов для создаваемых файлов.
</p>
<h2>
<span id=".D0.90.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D1.8B_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0"></span><span class="mw-headline" id="Атрибуты_файла">Атрибуты файла</span>
</h2>
<p>Помимо битов режима файла, которые управляют разрешениями <a href="../ru/Users_and_groups.html" title="Users and groups (Русский)">пользователей и групп</a> на чтение, запись и выполнение, некоторые <a href="../ru/File_systems.html" class="mw-redirect" title="Файловые системы">файловые системы</a> поддерживают атрибуты файла, которые позволяют дополнительно настраивать допустимые операции с файлами.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> По умолчанию <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">cp</a>, <a href="../ru/Rsync.html" title="Rsync (Русский)">rsync</a> и другие подобные программы не сохраняют эти атрибуты.</div>
<p>Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=e2fsprogs">e2fsprogs</a></span> содержит программы <span class="plainlinks archwiki-template-man" title="$ man 1 lsattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lsattr.1">lsattr(1)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 1 chattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chattr.1">chattr(1)</a></span>, которые позволяют просмотреть и изменить атрибуты файла соответственно.
</p>
<p>Здесь приведены некоторые полезные атрибуты. Не все файловые системы поддерживают каждый упомянутый атрибут.
</p>
<ul>
<li>
<code>a</code> - append only: Файл может быть открыт только для добавления.</li>
<li>
<code>c</code> - compressed: Включить сжатие на уровне файловой системы для файла.</li>
<li>
<code>i</code> - immutable: Не может быть изменён, удалён или переименован. Может быть установлен только пользователем root.</li>
<li>
<code>j</code> - data journaling: Использовать <a href="../ru/File_systems.html#%D0%96%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" title="File systems (Русский)">журнал</a> для записи данных файла так же, как и метаданных.</li>
<li>
<code>m</code> - no compression: Отключить сжатие на уровне файловой системы для файла.</li>
<li>
<code>A</code> - no atime update: Время получения доступа к файлу не будет обновляться.</li>
<li>
<code>C</code> - no copy on write: Отключение copy-on-write на поддерживающих это файловых системах.</li>
</ul>
<p>Полный список атрибутов и подробную информацию о них можно прочитать в <span class="plainlinks archwiki-template-man" title="$ man 1 chattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chattr.1">chattr(1)</a></span>.
</p>
<p>Пример установки атрибута immutable:
</p>
<pre># chattr +i <i>/путь/к/файлу</i>
</pre>
<p>Для снятия атрибута замените <code>+</code> на <code>-</code>.
</p>
<h2>
<span id=".D0.A0.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B0.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D1.8B"></span><span class="mw-headline" id="Расширенные_атрибуты">Расширенные атрибуты</span>
</h2>
<p>Смотрите статью <a href="../ru/Extended_attributes.html" class="mw-redirect" title="Расширенные атрибуты">Расширенные атрибуты</a>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3><span class="mw-headline" id="Preserve_root">Preserve root</span></h3>
<p>Используйте флаг <code>--preserve-root</code>, чтобы предотвратить рекурсивное выполнение <code>chmod</code> на <code>/</code>. Это поможет, например, предотвратить удаление бита выполнения во всей системе и тем самым сломать систему. Чтобы использовать этот флаг всегда, пропишите его в <a href="../ru/Bash.html#%D0%9F%D1%81%D0%B5%D0%B2%D0%B4%D0%BE%D0%BD%D0%B8%D0%BC%D1%8B" title="Bash (Русский)">псевдониме</a>. Смотрите также <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linux/comments/4ni3xe/tifu_sudo_chmod_644/">[1]</a>.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/ru:chattr" class="extiw" title="wikipedia:ru:chattr">chattr</a> — Википедия</li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030417.html">Linux File Permission Confusion</a></li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030424.html">Linux File Permission Confusion part 2</a></li>
<li><a rel="nofollow" class="external text" href="https://legacy-documentation.concrete5.org/tutorials/backup-and-restore-file-permissions-in-linux">Backup and restore file permissions in Linux</a></li>
<li><a rel="nofollow" class="external text" href="https://serverfault.com/questions/364677/why-is-chmod-r-777-destructive">Why is "chmod -R 777 /" destructive?</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20210724233134/https://security.ias.edu/node/441">The How and Why of User Private Groups in Unix</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:File_systems.html" title="Category:File systems (Русский)">File systems (Русский)</a></li>
<li><a href="../ru/Category:Command-line.html" title="Category:Command-line (Русский)">Command-line (Русский)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=788190">https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes_(Русский)&amp;oldid=788190</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 22 September 2023, at 12:07.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
