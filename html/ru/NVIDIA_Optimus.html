<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NVIDIA Optimus (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NVIDIA_Optimus_Русский rootpage-NVIDIA_Optimus_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Доступные_методы" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%94%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B5_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Доступные методы</div>
		</a>
		
		<ul id="toc-Доступные_методы-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Использование_только_встроенной_графики" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Использование только встроенной графики</div>
		</a>
		
			<button aria-controls="toc-Использование_только_встроенной_графики-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Использование только встроенной графики subsection</span>
			</button>
		
		<ul id="toc-Использование_только_встроенной_графики-sublist" class="vector-toc-list">
			<li id="toc-Использование_дискретной_графики_только_для_CUDA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B8%D1%81%D0%BA%D1%80%D0%B5%D1%82%D0%BD%D0%BE%D0%B9_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B4%D0%BB%D1%8F_CUDA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Использование дискретной графики только для CUDA</div>
			</a>
			
			<ul id="toc-Использование_дискретной_графики_только_для_CUDA-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Использование_только_графики_NVIDIA" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8_NVIDIA">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Использование только графики NVIDIA</div>
		</a>
		
			<button aria-controls="toc-Использование_только_графики_NVIDIA-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Использование только графики NVIDIA subsection</span>
			</button>
		
		<ul id="toc-Использование_только_графики_NVIDIA-sublist" class="vector-toc-list">
			<li id="toc-Экранные_менеджеры" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%AD%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D1%8B">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Экранные менеджеры</div>
			</a>
			
			<ul id="toc-Экранные_менеджеры-sublist" class="vector-toc-list">
				<li id="toc-LightDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LightDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>LightDM</div>
			</a>
			
			<ul id="toc-LightDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SDDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SDDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>SDDM</div>
			</a>
			
			<ul id="toc-SDDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>GDM</div>
			</a>
			
			<ul id="toc-GDM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Проверка_3D" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_3D">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Проверка 3D</div>
			</a>
			
			<ul id="toc-Проверка_3D-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Дополнительная_информация" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Дополнительная информация</div>
			</a>
			
			<ul id="toc-Дополнительная_информация-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Использование_переключаемой_графики" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%B5%D0%BC%D0%BE%D0%B9_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Использование переключаемой графики</div>
		</a>
		
			<button aria-controls="toc-Использование_переключаемой_графики-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Использование переключаемой графики subsection</span>
			</button>
		
		<ul id="toc-Использование_переключаемой_графики-sublist" class="vector-toc-list">
			<li id="toc-Использование_PRIME_render_offload" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_PRIME_render_offload">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Использование PRIME render offload</div>
			</a>
			
			<ul id="toc-Использование_PRIME_render_offload-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_nouveau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nouveau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Использование nouveau</div>
			</a>
			
			<ul id="toc-Использование_nouveau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_Bumblebee" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Bumblebee">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Использование Bumblebee</div>
			</a>
			
			<ul id="toc-Использование_Bumblebee-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_switcheroo-control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_switcheroo-control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Использование switcheroo-control</div>
			</a>
			
			<ul id="toc-Использование_switcheroo-control-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_nvidia-xrun" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-xrun">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Использование nvidia-xrun</div>
			</a>
			
			<ul id="toc-Использование_nvidia-xrun-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_optimus-manager" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_optimus-manager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Использование optimus-manager</div>
			</a>
			
			<ul id="toc-Использование_optimus-manager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_EnvyControl" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_EnvyControl">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Использование EnvyControl</div>
			</a>
			
			<ul id="toc-Использование_EnvyControl-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_NVidia-eXec" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_NVidia-eXec">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Использование NVidia-eXec</div>
			</a>
			
			<ul id="toc-Использование_NVidia-eXec-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_nvidia-switch" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-switch">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>Использование nvidia-switch</div>
			</a>
			
			<ul id="toc-Использование_nvidia-switch-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Решение проблем</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Тиринг_и_неработающий_VSync" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B8%D1%80%D0%B8%D0%BD%D0%B3_%D0%B8_%D0%BD%D0%B5%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%D1%89%D0%B8%D0%B9_VSync">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Тиринг и неработающий VSync</div>
			</a>
			
			<ul id="toc-Тиринг_и_неработающий_VSync-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</div>
			</a>
			
			<ul id="toc-Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Неправильное_разрешение_экрана,_ошибки_EDID_в_Xorg.log" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0,_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B8_EDID_%D0%B2_Xorg.log">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Неправильное разрешение экрана, ошибки EDID в Xorg.log</div>
			</a>
			
			<ul id="toc-Неправильное_разрешение_экрана,_ошибки_EDID_в_Xorg.log-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Неправильное_разрешение_без_ошибок_EDID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B1%D0%B5%D0%B7_%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA_EDID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Неправильное разрешение без ошибок EDID</div>
			</a>
			
			<ul id="toc-Неправильное_разрешение_без_ошибок_EDID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Проблема_блокировки_(lspci_зависает)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0_%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8_(lspci_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%B5%D1%82)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Проблема блокировки (lspci зависает)</div>
			</a>
			
			<ul id="toc-Проблема_блокировки_(lspci_зависает)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-No_screens_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#No_screens_found">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>No screens found</div>
			</a>
			
			<ul id="toc-No_screens_found-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Случайные_зависания_"(EE)_NVIDIA(GPU-0):_WAIT"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#%D0%A1%D0%BB%D1%83%D1%87%D0%B0%D0%B9%D0%BD%D1%8B%D0%B5_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8F_"(EE)_NVIDIA(GPU-0):_WAIT"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>Случайные зависания "(EE) NVIDIA(GPU-0): WAIT"</div>
			</a>
			
			<ul id='toc-Случайные_зависания_"(EE)_NVIDIA(GPU-0):_WAIT"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"No_Devices_detected"_при_использовании_optimus-manager' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#"No_Devices_detected"_%D0%BF%D1%80%D0%B8_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_optimus-manager'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>"No Devices detected" при использовании optimus-manager</div>
			</a>
			
			<ul id='toc-"No_Devices_detected"_при_использовании_optimus-manager-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg:_изображение_на_внешнем_мониторе_обновляется_только_при_перемещении_мыши" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg:_%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B0_%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B5%D0%BC_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B5_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BF%D1%80%D0%B8_%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B8_%D0%BC%D1%8B%D1%88%D0%B8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.9</span>Xorg: изображение на внешнем мониторе обновляется только при перемещении мыши</div>
			</a>
			
			<ul id="toc-Xorg:_изображение_на_внешнем_мониторе_обновляется_только_при_перемещении_мыши-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Низкое_энергопотребление_(TDP)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B8%D0%B7%D0%BA%D0%BE%D0%B5_%D1%8D%D0%BD%D0%B5%D1%80%D0%B3%D0%BE%D0%BF%D0%BE%D1%82%D1%80%D0%B5%D0%B1%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_(TDP)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.10</span>Низкое энергопотребление (TDP)</div>
			</a>
			
			<ul id="toc-Низкое_энергопотребление_(TDP)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Графика_NVIDIA_не_отключается_или_отключается_ненадолго" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%93%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0_NVIDIA_%D0%BD%D0%B5_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%B8%D0%BB%D0%B8_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BD%D0%B5%D0%BD%D0%B0%D0%B4%D0%BE%D0%BB%D0%B3%D0%BE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.11</span>Графика NVIDIA не отключается или отключается ненадолго</div>
			</a>
			
			<ul id="toc-Графика_NVIDIA_не_отключается_или_отключается_ненадолго-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NVIDIA Optimus (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/NVIDIA_Optimus.html" title="NVIDIA Optimus – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/NVIDIA_Optimus.html" title="NVIDIA Optimus – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NVIDIA_Optimus" title="NVIDIA Optimus – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NVIDIA_Optimus" title="NVIDIA Optimus – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a>. Дата последней синхронизации: 25 мая 2024. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=NVIDIA_Optimus&amp;diff=0&amp;oldid=803042">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Bumblebee.html" title="Bumblebee (Русский)">Bumblebee (Русский)</a></li>
<li><a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">Nouveau (Русский)</a></li>
<li><a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA (Русский)</a></li>
<li><a href="../en/PRIME.html" title="PRIME">PRIME</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/NVIDIA_Optimus" class="extiw" title="wikipedia:NVIDIA Optimus">NVIDIA Optimus</a> — технология, обеспечивающая совместную работу интегрированной графики и дискретной графики NVIDIA на ноутбуках.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.94.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.BD.D1.8B.D0.B5_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4.D1.8B"></span><span class="mw-headline" id="Доступные_методы">Доступные методы</span>
</h2>
<p>Есть несколько способов организовать работу интегрированной и дискретной графики:
</p>
<ul>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8">#Использование только встроенной графики</a> — позволяет сэкономить энергию за счёт полного отключения графики NVIDIA.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8_NVIDIA">#Использование только графики NVIDIA</a> — даёт более высокую производительность, но и быстрее расходует заряд батареи. Здесь используется тот же базовый процесс, что и в вариантах с <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_optimus-manager">optimus-manager</a> и <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-xrun">nvidia-xrun</a>. Его следует использовать для решения проблем и проверки общей функциональности, прежде чем прибегать к одному из более автоматизированных подходов.</li>
<li>Использование и интегрированной, и дискретной графики (с отключением дискретной графики, когда она не используется):
<ul>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_PRIME_render_offload">#Использование PRIME render offload</a> — официальный метод NVIDIA для поддержки переключаемой графики.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_optimus-manager">#Использование optimus-manager</a> — переключает графику одной командой (для применения изменений нужно перезайти в систему). Также поддерживает гибридный режим с PRIME render offload. Позволяет получить максимальную производительность графики NVIDIA и отключает её, когда она не используется. С версии 1.4 также поддерживается комбинация AMD+NVIDIA.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-xrun">#Использование nvidia-xrun</a> — запускает отдельную X-сессию на другом TTY с графикой NVIDIA. Позволяет получить максимальную производительность графики NVIDIA и отключает её, когда она не используется.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Bumblebee">#Использование Bumblebee</a> — подобно Windows, позволяет запускать отдельные приложения на графике NVIDIA, используя интегрированную графику для всего остального. Однако реализация Bumblebee имеет проблемы с производительностью.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_switcheroo-control">#Использование switcheroo-control</a> — похоже на Bumblebee, но для <a href="../ru/GNOME.html" title="GNOME (Русский)">GNOME</a>. Позволяет задать предпочтительную графику через <a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">ярлыки приложений</a>, а также позволяет вручную запускать любое приложение на NVIDIA через меню правой кнопки мыши.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nouveau">#Использование nouveau</a> — по сравнению с проприетарным драйвером NVIDIA хуже производительность и могут быть проблемы с ждущим режимом.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_EnvyControl">#Использование EnvyControl</a> — похоже на optimus-manager, но не требует обширной настройки или наличия демона, работающего в фоновом режиме, а также установки патченого GDM, если вы используете GNOME.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_NVidia-eXec">#Использование NVidia-eXec</a> — похоже на Bumblebee, но без проблем с производительностью. Работает как на Xorg, так и на Wayland. Этот пакет является экспериментальным и в настоящее время тестируется только под GNOME/GDM.</li>
<li>
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_nvidia-switch">#Использование nvidia-switch</a> — похоже на nvidia-xrun, но не требует изменения TTY, переключения будут осуществляться при входе и выходе в экранном менеджере. Этот пакет тестируется в Debian, но, как и nvidia-xrun, он должен работать во всех Linux-системах.</li>
</ul>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Все эти варианты являются взаимоисключающими. Если вы протестируете один способ и решите попробовать другой, то перед использованием другого способа убедитесь, что все изменения в настройках, сделанные для предыдущего способа, были убраны, иначе могут случиться конфликты и неопределённое поведение.</div>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B2.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9_.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B8"></span><span class="mw-headline" id="Использование_только_встроенной_графики">Использование только встроенной графики</span>
</h2>
<p>Если вы хотите использовать только определённый GPU без переключения между ними, поищите соответствующую настройку в BIOS — там должна быть опция отключения одного из GPU. Некоторые ноутбуки позволяют отключить только дискретную графику или наоборот, но проверить всё равно стоит.
</p>
<p>Если BIOS не позволяет отключить графику NVIDIA, её можно отключить через Linux, как описано в разделе <a href="../ru/Hybrid_graphics.html#%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B4%D0%B8%D1%81%D0%BA%D1%80%D0%B5%D1%82%D0%BD%D0%BE%D0%B3%D0%BE_GPU" class="mw-redirect" title="Гибридная графика">Гибридная графика#Полное отключение питания дискретного GPU</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B8.D1.81.D0.BA.D1.80.D0.B5.D1.82.D0.BD.D0.BE.D0.B9_.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B8_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B4.D0.BB.D1.8F_CUDA"></span><span class="mw-headline" id="Использование_дискретной_графики_только_для_CUDA">Использование дискретной графики только для CUDA</span>
</h3>
<p>Если вы хотите использовать графику NVIDIA для CUDA, но не для рендеринга, достаточно перед запуском CUDA-приложения убедиться, что дискретная графика NVIDIA включена. Подробнее в разделе <a href="../ru/Hybrid_graphics.html#%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B4%D0%B8%D1%81%D0%BA%D1%80%D0%B5%D1%82%D0%BD%D0%BE%D0%B3%D0%BE_GPU" class="mw-redirect" title="Гибридная графика">Гибридная графика#Полное отключение питания дискретного GPU</a>.
</p>
<p>При запуске CUDA-приложения автоматически подгрузятся нужные модули ядра. Перед отключением дискретной графики модули <code>nvidia</code> нужно будет выгрузить:
</p>
<pre># rmmod nvidia_uvm
# rmmod nvidia
</pre>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B8_NVIDIA"></span><span class="mw-headline" id="Использование_только_графики_NVIDIA">Использование только графики NVIDIA</span>
</h2>
<p>Проприетарный драйвер NVIDIA может быть настроен как «primary rendering provider». Он также имеет заметные проблемы с разрывом экрана, если не включить prime sync, включив <a href="../ru/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA (Русский)">NVIDIA (Русский)#DRM kernel mode setting</a>, смотрите <a rel="nofollow" class="external autonumber" href="https://devtalk.nvidia.com/default/topic/957814/linux/prime-and-prime-synchronization/">[1]</a> для более подробной информации. Он позволяет использовать дискретную графику и имеет (по состоянию на <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=nouveau-410-blob&amp;num=1">январь 2017 года</a>) заметное преимущество в производительности по сравнению с драйвером nouveau.
</p>
<p>Сначала <a href="../ru/NVIDIA.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0" title="NVIDIA (Русский)">установите драйвер NVIDIA</a> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xrandr">xorg-xrandr</a></span>. Затем настройте <code>/etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code>, параметры которого будут объединены со стандартным <code>/usr/share/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code> для обеспечения совместимости с этой установкой.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В некоторых системах эта настройка нарушает автоматическое определение параметров монитора драйверами nvidia через файл EDID. Обходной путь описан в разделе <a href="#%D0%9D%D0%B5%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0,_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B8_EDID_%D0%B2_Xorg.log">#Неправильное разрешение экрана, ошибки EDID в Xorg.log</a>.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "OutputClass"
    Identifier "intel"
    MatchDriver "i915"
    Driver "modesetting"
EndSection

Section "OutputClass"
    Identifier "nvidia"
    MatchDriver "nvidia-drm"
    Driver "nvidia"
    Option "AllowEmptyInitialConfiguration"
    Option "PrimaryGPU" "yes"
    ModulePath "/usr/lib/nvidia/xorg"
    ModulePath "/usr/lib/xorg/modules"
EndSection
</pre>
<p>Затем добавьте эти две строки в начале файла <code>~/.xinitrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<p>Перезагрузитесь для загрузки драйверов, и после этого X должен успешно запуститься.
</p>
<p>Если DPI экрана неверный, добавьте также такую строку:
</p>
<pre>xrandr --dpi 96</pre>
<p>Если при загрузке X появился черный экран, удостоверьтесь, что в файле ~/.xinitrc нет &amp; перед xrandr. Если &amp; есть, то видимо оконный менеджер запускается раньше, чем команда xrandr завершает выполнение, что и приводит к черному экрану.
</p>
<h3>
<span id=".D0.AD.D0.BA.D1.80.D0.B0.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Экранные_менеджеры">Экранные менеджеры</span>
</h3>
<p>Если вы используете <a href="../ru/Display_manager.html" class="mw-redirect" title="Экранный менеджер">экранный менеджер</a>, то вместо <code>~/.xinitrc</code> нужно создать или отредактировать тот скрипт настройки дисплея, который используется вашим экранным менеджером.
</p>
<h4><span class="mw-headline" id="LightDM">LightDM</span></h4>
<p>Для <a href="../ru/LightDM.html" title="LightDM (Русский)">LightDM</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/display_setup.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<p>Сделайте скрипт <a href="../ru/Help:Reading.html#%D0%A1%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D0%BD%D1%8F%D0%B5%D0%BC%D1%8B%D0%BC" class="mw-redirect" title="Исполняемым">исполняемым</a>.
</p>
<p>Теперь настройте LightDM для запуска скрипта, отредактировав раздел [Seat:*] в /etc/lightdm/lightdm.conf:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
display-setup-script=/etc/lightdm/display_setup.sh</pre>
<p>После перезагрузки экранный менеджер должен успешно запуститься.
</p>
<h4><span class="mw-headline" id="SDDM">SDDM</span></h4>
<p>Для <a href="../ru/SDDM.html" title="SDDM (Русский)">SDDM</a> (который используется по умолчанию для <a href="../ru/KDE.html" title="KDE (Русский)">KDE</a>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/sddm/scripts/Xsetup</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<h4><span class="mw-headline" id="GDM">GDM</span></h4>
<p>Для <a href="../en/GDM.html" title="GDM">GDM</a> создайте два файла <i>.desktop</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/gdm/greeter/autostart/optimus.desktop
/etc/xdg/autostart/optimus.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Type=Application
Name=Optimus
Exec=sh -c "xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto"
NoDisplay=true
X-GNOME-Autostart-Phase=DisplayServer
</pre>
<p>Убедитесь, что GDM <a href="../en/GDM.html#Use_Xorg_backend" title="GDM">использует X в качестве бэкенда по умолчанию</a>.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_3D"></span><span class="mw-headline" id="Проверка_3D">Проверка 3D</span>
</h3>
<p>Чтобы проверить, что графика NVIDIA действительно используется, установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-utils">mesa-utils</a></span> и запустите:
</p>
<pre>$ glxinfo | grep NVIDIA
</pre>
<h3>
<span id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Дополнительная_информация">Дополнительная информация</span>
</h3>
<p>Более подробная информация есть в официальной документации NVIDIA: <a rel="nofollow" class="external autonumber" href="https://download.nvidia.com/XFree86/Linux-x86_64/550.78/README/randr14.html">[2]</a>.
</p>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.B5.D0.BC.D0.BE.D0.B9_.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B8"></span><span class="mw-headline" id="Использование_переключаемой_графики">Использование переключаемой графики</span>
</h2>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PRIME_render_offload"></span><span class="mw-headline" id="Использование_PRIME_render_offload">Использование PRIME render offload</span>
</h3>
<p>С выходом драйвера NVIDIA <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/435.17/README/primerenderoffload.html">версии 435.17</a> появилась возможность использовать PRIME Render Offload. <code>xf86-video-modesetting</code>, <code>xf86-video-amdgpu</code> (450.57), и <code>xf86-video-intel</code> (455.38) официально поддерживаются как iGPU драйвера.
</p>
<p>Чтобы запустить программу на карточке от NVIDIA, вы можете использовать <code>prime-run</code> - скрипт из <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-prime">nvidia-prime</a></span>:
</p>
<pre>$ prime-run glxinfo | grep "OpenGL renderer"
$ prime-run vulkaninfo
</pre>
<p>Подробнее в разделе <a href="../en/PRIME.html#PRIME_render_offload" title="PRIME">PRIME#PRIME render offload</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_nouveau"></span><span class="mw-headline" id="Использование_nouveau">Использование nouveau</span>
</h3>
<p>Смотрите статьи <a href="../en/PRIME.html" title="PRIME">PRIME</a> и <a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">Nouveau (Русский)</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_Bumblebee"></span><span class="mw-headline" id="Использование_Bumblebee">Использование Bumblebee</span>
</h3>
<p>Смотрите статью <a href="../ru/Bumblebee.html" title="Bumblebee (Русский)">Bumblebee (Русский)</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_switcheroo-control"></span><span class="mw-headline" id="Использование_switcheroo-control">Использование switcheroo-control</span>
</h3>
<p>Смотрите раздел <a href="../en/PRIME.html#Gnome_integration" title="PRIME">PRIME#Gnome integration</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_nvidia-xrun"></span><span class="mw-headline" id="Использование_nvidia-xrun">Использование nvidia-xrun</span>
</h3>
<p>Смотрите статью <a href="../ru/Nvidia-xrun.html" title="Nvidia-xrun (Русский)">nvidia-xrun (Русский)</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_optimus-manager"></span><span class="mw-headline" id="Использование_optimus-manager">Использование optimus-manager</span>
</h3>
<p>Смотрите <a rel="nofollow" class="external text" href="https://github.com/Askannz/optimus-manager">официальную документацию Optimus-manager</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_EnvyControl"></span><span class="mw-headline" id="Использование_EnvyControl">Использование EnvyControl</span>
</h3>
<p>Смотрите <a rel="nofollow" class="external text" href="https://github.com/geminis3/envycontrol">официальную документацию EnvyControl</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_NVidia-eXec"></span><span class="mw-headline" id="Использование_NVidia-eXec">Использование NVidia-eXec</span>
</h3>
<p>Смотрите <a rel="nofollow" class="external text" href="https://github.com/pedro00dk/nvidia-exec">официальную документацию NVidia-eXec</a>.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_nvidia-switch"></span><span class="mw-headline" id="Использование_nvidia-switch">Использование nvidia-switch</span>
</h3>
<p>Смотрите <a rel="nofollow" class="external text" href="https://github.com/nvidiaswitch/nvidia-switch">официальную документацию nvidia-switch</a>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id=".D0.A2.D0.B8.D1.80.D0.B8.D0.BD.D0.B3_.D0.B8_.D0.BD.D0.B5.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D1.8E.D1.89.D0.B8.D0.B9_VSync"></span><span class="mw-headline" id="Тиринг_и_неработающий_VSync">Тиринг и неработающий VSync</span>
</h3>
<p>Включите <a href="../ru/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA (Русский)">DRM kernel mode setting</a>, который в свою очередь включит синхронизацию PRIME и исправит разрывы изображения.
</p>
<p>См. также подробности в <a rel="nofollow" class="external text" href="https://devtalk.nvidia.com/default/topic/957814/linux/prime-and-prime-synchronization/">обсуждении</a> на официальном форуме.
</p>
<h3>
<span id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_.28GPU_fallen_off_the_bus_.2F_RmInitAdapter_failed.21.29"></span><span class="mw-headline" id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)">Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</span>
</h3>
<p>Добавьте <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>rcutree.gp_init_delay=1</code>. <a rel="nofollow" class="external autonumber" href="https://github.com/Bumblebee-Project/Bumblebee/issues/455#issuecomment-22497464">[3]</a> <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=169742">[4]</a>
</p>
<h3>
<span id=".D0.9D.D0.B5.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D1.8C.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0.2C_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B8_EDID_.D0.B2_Xorg.log"></span><span class="mw-headline" id="Неправильное_разрешение_экрана,_ошибки_EDID_в_Xorg.log">Неправильное разрешение экрана, ошибки EDID в Xorg.log</span>
</h3>
<p>Эта ошибка возникает когда драйвер <a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">nvidia</a> не определяет EDID для дисплея. Необходимо вручную указать путь к файлу EDID или предоставить ту же информацию подобным образом.
</p>
<p>Для предоставления пути к файлу EDID отредактируйте раздел "Device" для NVIDIA в Xorg.conf, добавив эти строки. <b>Не забудьте изменить поля в соответствии с вашей системой</b>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
    Option "ConnectedMonitor" "CRT-0"
    Option "CustomEDID" "CRT-0:/sys/class/drm/card0-LVDS-1/edid"
    Option "IgnoreEDID" "false"
    Option "UseEDID" "true"
EndSection</pre>
<p>Если Xorg не запускается попробуйте поменять ссылки CRT на DFB. card0 это идентификатор чипа Intel, который подключен к дисплею с помощью LVDS. Если расположение аппаратных средств отличается, значение пользовательского EDID может быть другим. Путь же будет начинаться с /sys/class/drm.
</p>
<p>Также можно сгенерировать EDID с помощью инструментов вроде <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=read-edid">read-edid</a></span> и настроить драйвер на использование сгенерированного файла. Можно использовать даже modelines, но тогда не забудьте изменить <code>UseEDID</code> и <code>IgnoreEDID</code>.
</p>
<h3>
<span id=".D0.9D.D0.B5.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D1.8C.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B1.D0.B5.D0.B7_.D0.BE.D1.88.D0.B8.D0.B1.D0.BE.D0.BA_EDID"></span><span class="mw-headline" id="Неправильное_разрешение_без_ошибок_EDID">Неправильное разрешение без ошибок EDID</span>
</h3>
<p><i>nvidia-xconfig</i> мог сгенерировать неверные настройки в <code>xorg.conf</code>, в частности, неверную частоту обновления монитора, что ограничивает возможные разрешения. Попробуйте закомментировать строки <code>HorizSync</code>/<code>VertRefresh</code>. Если это поможет, то, вероятно, вы также можете удалить всё остальное не упомянутое в этой статье.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D0.B0_.D0.B1.D0.BB.D0.BE.D0.BA.D0.B8.D1.80.D0.BE.D0.B2.D0.BA.D0.B8_.28lspci_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.B5.D1.82.29"></span><span class="mw-headline" id="Проблема_блокировки_(lspci_зависает)">Проблема блокировки (lspci зависает)</span>
</h3>
<p>Симптомы: lspci виснет, переход в ждущий режим виснет, выключение виснет, optirun виснет.
</p>
<p>Случается на некоторых новых ноутбуках с GTX 965M или подобными, когда используется bbswitch (например, через Bumblebee) или nouveau.
</p>
<p>При включении питания дискретной графики может произойти сбой и зависание в коде ACPI (<a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=156341">kernel bug 156341</a>).
</p>
<p>При использовании nouveau отключение управления питанием позволяет избежать этой проблемы.
Для отключения добавьте <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметр ядра">параметр ядра</a> <code>nouveau.runpm=0</code>.
</p>
<p>Обходные пути для некоторых моделей описаны в <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/issues/764#issuecomment-234494238">issue 764 на GitHub</a>.
В других случаях вы можете попробовать загрузиться с параметром ядра <code>acpi_osi="!Windows 2015"</code> или <code>acpi_osi=! acpi_osi="Windows 2009"</code>. (Возможно, стоит сообщить о вашей модели ноутбука в ранее упомянутом issue.)
</p>
<h3><span class="mw-headline" id="No_screens_found">No screens found</span></h3>
<p>Проверьте вывод этой команды:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep VGA</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">00:02.0 VGA compatible controller: Intel Corporation Core Processor Integrated Graphics Controller (rev 02)
01:00.0 VGA compatible controller: nVidia Corporation Device 0df4 (rev a1)
</pre>
<p>Драйверы NVIDIA поддерживают Optimus с версии 319.12 Beta <a rel="nofollow" class="external autonumber" href="https://www.nvidia.com/object/linux-display-amd64-319.12-driver.html">[5]</a> с ядрами 3.9 и новее.
</p>
<p>Другое решение — установить драйвер <a href="../ru/Intel_graphics.html" title="Intel graphics (Русский)">Intel</a> для управления экранами, а графику NVIDIA использовать только для запуска 3D-программ через <a href="../ru/Bumblebee.html" title="Bumblebee (Русский)">Bumblebee</a>.
</p>
<h3>
<span id=".D0.A1.D0.BB.D1.83.D1.87.D0.B0.D0.B9.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D1.8F_.22.28EE.29_NVIDIA.28GPU-0.29:_WAIT.22"></span><span class="mw-headline" id='Случайные_зависания_"(EE)_NVIDIA(GPU-0):_WAIT"'>Случайные зависания "(EE) NVIDIA(GPU-0): WAIT"</span>
</h3>
<p>При использовании проприетарных драйверов в системе с интегрированной графикой AMD и дискретной графикой NVIDIA в качестве единственной используемой пользователи сообщают о зависаниях до 10 секунд со следующими ошибками в журнале Xorg:
</p>
<pre>[   219.796] (EE) NVIDIA(GPU-0): WAIT (2, 8, 0x8000, 0x0002e1c4, 0x0002e1cc)
[   226.796] (EE) NVIDIA(GPU-0): WAIT (1, 8, 0x8000, 0x0002e1c4, 0x0002e1cc)
</pre>
<p>Точная причина происходящего ещё не известна, но, похоже, она связана с конфликтом в том, как интегрированная и выделенная карты взаимодействуют с Xorg.
</p>
<p>Обходным решением является использование переключаемой графики — смотрите раздел <a href="../en/PRIME.html#PRIME_render_offload" title="PRIME">PRIME#PRIME render offload</a>.
</p>
<h3>
<span id=".22No_Devices_detected.22_.D0.BF.D1.80.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8_optimus-manager"></span><span class="mw-headline" id='"No_Devices_detected"_при_использовании_optimus-manager'>"No Devices detected" при использовании optimus-manager</span>
</h3>
<p>В некоторых случаях <i>lspci</i> отображает PCI domain в первой колонке вывода, из-за чего <i>optimus-manager</i> имеет проблемы с обработкой <code>BusID</code>.
</p>
<p>Если у вас чёрный экран и графический интерфейс не появляется или появляется частично или Xorg падает с ошибкой <code>(EE) - No Devices detected</code>, смотрите <a rel="nofollow" class="external text" href="https://github.com/Askannz/optimus-manager/issues/471#issuecomment-1315628537">issue 471 на GitHub</a>.
</p>
<h3>
<span id="Xorg:_.D0.B8.D0.B7.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_.D0.B2.D0.BD.D0.B5.D1.88.D0.BD.D0.B5.D0.BC_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BF.D1.80.D0.B8_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B5.D0.BD.D0.B8.D0.B8_.D0.BC.D1.8B.D1.88.D0.B8"></span><span class="mw-headline" id="Xorg:_изображение_на_внешнем_мониторе_обновляется_только_при_перемещении_мыши">Xorg: изображение на внешнем мониторе обновляется только при перемещении мыши</span>
</h3>
<p>Обходным решением является удаление драйвера Xorg для встроенной графики (например, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>) <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=284651">[6]</a>. Это должно сработать, если порт внешнего монитора (HDMI/DP/USB-C) подключен напрямую к графике NVIDIA.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Поведение рабочего стола может стать странным (например, переключение виртуальных рабочих столов или Alt-Tab замораживает изображение на внешнем мониторе), что также можно обойти отключением монитора ноутбука.</div>
<h3>
<span id=".D0.9D.D0.B8.D0.B7.D0.BA.D0.BE.D0.B5_.D1.8D.D0.BD.D0.B5.D1.80.D0.B3.D0.BE.D0.BF.D0.BE.D1.82.D1.80.D0.B5.D0.B1.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.28TDP.29"></span><span class="mw-headline" id="Низкое_энергопотребление_(TDP)">Низкое энергопотребление (TDP)</span>
</h3>
<p>Начиная с версии драйвера 530.41 графика NVIDIA может оставаться на низком уровне энергопотребления (<a rel="nofollow" class="external text" href="https://github.com/NVIDIA/open-gpu-kernel-modules/issues/483">GitHub issue 483</a>). В драйвере была отключена возможность ручной установки лимита энергопотребления с через <code>nvidia-smi</code>, из-за чего многие ноутбуки остаются с плохой производительностью.
</p>
<p>Чтобы обойти эту проблему (для поколения Ampere и новее), <a href="../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Запустите/включите">запустите/включите</a> службу <code>nvidia-powerd.service</code>, которая включает <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/550.78/README/dynamicboost.html">DynamicBoost</a>.
</p>
<h3>
<span id=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D0.BA.D0.B0_NVIDIA_.D0.BD.D0.B5_.D0.BE.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.B8.D0.BB.D0.B8_.D0.BE.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BD.D0.B5.D0.BD.D0.B0.D0.B4.D0.BE.D0.BB.D0.B3.D0.BE"></span><span class="mw-headline" id="Графика_NVIDIA_не_отключается_или_отключается_ненадолго">Графика NVIDIA не отключается или отключается ненадолго</span>
</h3>
<p>Если вы используете мониторинг температуры, он скорее всего вызывает <code>nvidia-smi</code> для её получения, что приводит к пробуждению дискретной графики и повышению энергопотребления.
</p>
<p>Проверьте состояние графики:
</p>
<pre>$ cat /sys/bus/pci/devices/0000\:01\:00.0/power/runtime_status
</pre>
<p>Если состояние <code>active</code>, то перепроверьте, нет ли у вас запущенных инструментов мониторинга, использующих <code>nvidia-smi</code>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Graphics.html" title="Category:Graphics (Русский)">Graphics (Русский)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NVIDIA_Optimus_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=809313">https://wiki.archlinux.org/index.php?title=NVIDIA_Optimus_(Русский)&amp;oldid=809313</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 25 May 2024, at 15:04.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
