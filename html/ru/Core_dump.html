<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Core dump (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Core_dump_Русский rootpage-Core_dump_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Отключение_автоматических_дампов_памяти" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85_%D0%B4%D0%B0%D0%BC%D0%BF%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Отключение автоматических дампов памяти</span>
			</div>
		</a>
		
			<button aria-controls="toc-Отключение_автоматических_дампов_памяти-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Отключение автоматических дампов памяти subsection</span>
			</button>
		
		<ul id="toc-Отключение_автоматических_дампов_памяти-sublist" class="vector-toc-list">
			<li id="toc-Используя_sysctl" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_sysctl">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Используя sysctl</span>
				</div>
			</a>
			
			<ul id="toc-Используя_sysctl-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Используя_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_systemd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Используя systemd</span>
				</div>
			</a>
			
			<ul id="toc-Используя_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Используя_PAM_limits" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_PAM_limits">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>Используя PAM limits</span>
				</div>
			</a>
			
			<ul id="toc-Используя_PAM_limits-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Используя_ulimit" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_ulimit">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.4</span>
					<span>Используя ulimit</span>
				</div>
			</a>
			
			<ul id="toc-Используя_ulimit-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Создание_дампа_памяти" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BC%D0%BF%D0%B0_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Создание дампа памяти</span>
			</div>
		</a>
		
			<button aria-controls="toc-Создание_дампа_памяти-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Создание дампа памяти subsection</span>
			</button>
		
		<ul id="toc-Создание_дампа_памяти-sublist" class="vector-toc-list">
			<li id="toc-Куда_они_попадают?" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9A%D1%83%D0%B4%D0%B0_%D0%BE%D0%BD%D0%B8_%D0%BF%D0%BE%D0%BF%D0%B0%D0%B4%D0%B0%D1%8E%D1%82?">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Куда они попадают?</span>
				</div>
			</a>
			
			<ul id="toc-Куда_они_попадают?-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Изучение_дампа_памяти" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D0%B7%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BC%D0%BF%D0%B0_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Изучение дампа памяти</span>
			</div>
		</a>
		
		<ul id="toc-Изучение_дампа_памяти-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Удаление_дампов_памяти" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BC%D0%BF%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Удаление дампов памяти</span>
			</div>
		</a>
		
		<ul id="toc-Удаление_дампов_памяти-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Core dump (Русский)</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Core_dump.html" title="Core dump">Core dump</a>. Дата последней синхронизации: 15 февраля 2022. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Core_dump&amp;diff=0&amp;oldid=715027">изменения</a>.</div>
<p><a href="https://en.wikipedia.org/wiki/ru:%D0%94%D0%B0%D0%BC%D0%BF_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8" class="extiw" title="wikipedia:ru:Дамп памяти">Дамп памяти</a> (core dump) — это файл, в который записывается адресное пространство (память) процесса при его нештатном завершении. Дампы ядра могут создаваться по требованию (например, <a href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D0%B0%D0%BC%D0%BF%D0%B0_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">отладчиком</a>) или автоматически при завершении процесса. Дампы памяти создаются ядром при сбое программы и могут быть переданы вспомогательной программе (например, <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-coredump"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-coredump.8">systemd-coredump(8)</a></span>) для дальнейшей обработки. Дамп памяти обычно не используется обычным пользователем, но может быть передан разработчикам по их запросу, которым будет очень полезно иметь снимок состояния программы на момент сбоя, особенно если сбой трудно воспроизвести.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Отключение_автоматических_дампов_памяти">
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B0.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D1.85_.D0.B4.D0.B0.D0.BC.D0.BF.D0.BE.D0.B2_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span>Отключение автоматических дампов памяти</h2></div>
<p>Пользователи могут захотеть отключить автоматические дампы памяти по нескольким причинам:
</p>
<ul>
<li>Производительность: создание дампа для процессов, занимающих много памяти, может привести к трате системных ресурсов и задержке очистки памяти.</li>
<li>Дисковое пространство: дампы процессов, занимающих много памяти, могут занимать место на диске, равное, а то и большее, чем объём памяти процесса, если их не сжимать.</li>
<li>Безопасность: хотя дампы обычно может читать только root, они могут содержать конфиденциальные данные (например, пароли или криптографические ключи), которые записываются на диск после сбоя.</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Используя_sysctl">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_sysctl"></span>Используя sysctl</h3></div>
<p>Можно использовать <a href="../en/Sysctl.html" title="Sysctl">sysctl</a>, чтобы изменить <code>kernel.core_pattern</code> для отключения дампов. Создайте файл:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/50-coredump.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">kernel.core_pattern=/dev/null</pre>
<p>Для немедленного применения изменений используйте команду <code>sysctl</code>:
</p>
<pre># sysctl -p /etc/sysctl.d/50-coredump.conf
</pre>
<div class="mw-heading mw-heading3"><h3 id="Используя_systemd">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_systemd"></span>Используя systemd</h3></div>
<p>Поведение <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> по умолчанию определено в файле <code>/usr/lib/sysctl.d/50-coredump.conf</code>, который прописывает <code>kernel.core_pattern</code> для вызова <code>systemd-coredump</code>. Он сохраняет дампы ядра для всех процессов в <code>/var/lib/systemd/coredump</code>. Поведение <code>systemd-coredump</code> можно переопределить, создав в <code>/etc/systemd/coredump.conf.d/</code> файл (<span class="plainlinks archwiki-template-man" title="$ man 5 coredump.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/coredump.conf.5#DESCRIPTION">coredump.conf(5) § DESCRIPTION</a></span>,, <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=214207">[1]</a>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/coredump.conf.d/custom.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Coredump]
Storage=none</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Не забудьте прописать имя секции <code>[Coredump]</code>, иначе опция будет проигнорирована.</div>
<p>Затем <a href="../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Перезагрузите">перезагрузите</a> настройки systemd.
</p>
<p>Одного этого метода обычно достаточно для отключения записи дампов, если в системе нет других программ, включающих автоматические дампы, но дамп памяти всё равно генерируется в памяти и systemd-coredump всё равно запускается.
</p>
<div class="mw-heading mw-heading3"><h3 id="Используя_PAM_limits">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_PAM_limits"></span>Используя PAM limits</h3></div>
<p>Максимальный размер дампа памяти для пользователей, вошедших в систему через <a href="../en/PAM.html" title="PAM">PAM</a>, задаётся в файле <a href="../en/Limits.conf.html" title="Limits.conf">limits.conf</a>. Установка нулевого значения полностью отключает дампы памяти. <a rel="nofollow" class="external autonumber" href="https://www.cyberciti.biz/faq/linux-disable-core-dumps/">[2]</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/security/limits.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">* hard core 0</pre>
<div class="mw-heading mw-heading3"><h3 id="Используя_ulimit">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_ulimit"></span>Используя ulimit</h3></div>
<p><a href="../ru/Command-line_shell.html" title="Command-line shell (Русский)">Командные оболочки</a> вроде <i>bash</i> и <i>zsh</i> имеют встроенную команду <i>ulimit</i>, которую можно использовать для просмотра или изменения ограничений на ресурсы оболочки и запускаемых ею процессов. Подробнее смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 bash"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bash.1#SHELL_BUILTIN_COMMANDS">bash(1) § SHELL BUILTIN COMMANDS</a></span> или <span class="plainlinks archwiki-template-man" title="$ man 1 zshbuiltins"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshbuiltins.1">zshbuiltins(1)</a></span>.
</p>
<p>Отключение дампов памяти в текущей командной оболочке:
</p>
<pre>$ ulimit -c 0
</pre>
<div class="mw-heading mw-heading2"><h2 id="Создание_дампа_памяти">
<span id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BC.D0.BF.D0.B0_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span>Создание дампа памяти</h2></div>
<p>Чтобы сгенерировать дамп памяти произвольного процесса, сначала <a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gdb">gdb</a></span>. Затем найдите PID запущенного процесса, например, с помощью <i>pgrep</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pgrep -f <i>firefox</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2071 firefox
</pre>
<p>Подключитесь отладчиком к этому процессу:
</p>
<pre>$ gdb -p 2071
</pre>
<p>И затем в отладчике выполните:
</p>
<pre>(gdb) generate-core-file
Saved corefile core.2071
(gdb) quit
</pre>
<p>Теперь у вас есть дамп памяти в файле <code>core.2071</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Куда_они_попадают?">
<span id=".D0.9A.D1.83.D0.B4.D0.B0_.D0.BE.D0.BD.D0.B8_.D0.BF.D0.BE.D0.BF.D0.B0.D0.B4.D0.B0.D1.8E.D1.82.3F"></span>Куда они попадают?</h3></div>
<p>sysctl <code>kernel.core_pattern</code> определяет, куда отправляются автоматические дампы памяти. По умолчанию их принимает <i>systemd-coredump</i>, который настраивается через файл <code>/etc/systemd/coredump.conf</code>. По умолчанию он записывает дампы в <code>/var/lib/systemd/coredump</code> (опция <code>Storage=external</code>), сжимая их с помощью zstd (опция <code>Compress=yes</code>). Кроме того, можно настроить различные ограничения на размер хранилища.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание</strong> Значение по умолчанию для <code>kernel.core_pattern</code> задаётся в файле <code>/usr/lib/sysctl.d/50-coredump.conf</code>. Этот файл может быть замаскирован или переопределён для использования другого значения в соответствии с обычными правилами <span class="plainlinks archwiki-template-man" title="$ man 5 sysctl.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.d.5">sysctl.d(5)</a></span>.</div>
<p>Чтобы получить дамп памяти из журнала, смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 coredumpctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/coredumpctl.1">coredumpctl(1)</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Изучение_дампа_памяти">
<span id=".D0.98.D0.B7.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BC.D0.BF.D0.B0_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span>Изучение дампа памяти</h2></div>
<p>Команда <i>coredumpctl</i> покажет список сохранённых дампов, среди которых можно найти нужный:
</p>
<pre># coredumpctl list
</pre>
<p>Для поиска нужного дампа можно использовать PID, имя исполняемого файла, путь к исполняемому файлу или предикат <a href="../ru/Systemd/Journal.html" title="Systemd (Русский)/Journal (Русский)">journalctl</a> (подробнее: <span class="plainlinks archwiki-template-man" title="$ man 1 coredumpctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/coredumpctl.1">coredumpctl(1)</a></span> и <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>). Просмотр подробностей о дампах ядра:
</p>
<pre># coredumpctl info <i>соответствие</i>
</pre>
<p>Обратите внимание на строку "Signal", она поможет определить причину сбоя. Для более глубокого анализа вы можете изучить backtrace с помощью <i>gdb</i>:
</p>
<pre># coredumpctl gdb <i>соответствие</i>
</pre>
<p>После запуска <i>gdb</i> можно использовать команду <code>bt</code> для получения backtrace:
</p>
<pre>(gdb) bt
</pre>
<p>Если отладочные символы нужны, но не найдены, можно попробовать получить их, как описано в статье <a href="../ru/Debugging/Getting_traces.html" class="mw-redirect" title="Отладка/Трассировка">Отладка/Трассировка</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Удаление_дампов_памяти">
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BC.D0.BF.D0.BE.D0.B2_.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span>Удаление дампов памяти</h2></div>
<p>Файлы дампов памяти, хранящиеся в <code>/var/lib/systemd/coredump/</code>, будут автоматически очищаться командой <code>systemd-tmpfiles --clean</code>, которая запускается ежедневно с помощью <code>systemd-tmpfiles-clean.timer</code>. Дампы памяти настроены на хранение не менее 3 дней, смотрите <code>systemd-tmpfiles --cat-config</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Смотрите_также">
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span>Смотрите также</h2></div>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://lcamtuf.coredump.cx/afl/">american fuzzy lop</a> - Инструмент для автоматизированного тестирования ядра и программ</li>
<li>
<a rel="nofollow" class="external text" href="https://lwn.net/Articles/637151/">Filesystem fuzzing</a> - Статья LWN о тестировании файловых систем на наличие ошибок</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Development.html" title="Category:Development (Русский)">Development (Русский)</a></li>
<li><a href="../ru/Category:Security.html" title="Category:Security (Русский)">Security (Русский)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Core_dump_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=826061">https://wiki.archlinux.org/index.php?title=Core_dump_(Русский)&amp;oldid=826061</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 January 2025, at 06:48.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Core dump (Русский)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
