<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>rEFInd (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-REFInd_Русский rootpage-REFInd_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Установка</span>
			</div>
		</a>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Установка_загрузчика_rEFInd" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%D0%B0_rEFInd">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Установка загрузчика rEFInd</span>
			</div>
		</a>
		
			<button aria-controls="toc-Установка_загрузчика_rEFInd-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Установка загрузчика rEFInd subsection</span>
			</button>
		
		<ul id="toc-Установка_загрузчика_rEFInd-sublist" class="vector-toc-list">
			<li id="toc-Установка_при_помощи_refind-install" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%B8_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D0%B8_refind-install">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Установка при помощи refind-install</span>
				</div>
			</a>
			
			<ul id="toc-Установка_при_помощи_refind-install-sublist" class="vector-toc-list">
				<li id="toc-Безопасная_загрузка_(Secure_Boot)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_(Secure_Boot)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Безопасная загрузка (Secure Boot)</span>
				</div>
			</a>
			
			<ul id="toc-Безопасная_загрузка_(Secure_Boot)-sublist" class="vector-toc-list">
				<li id="toc-Использование_прелоадера" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%B5%D0%BB%D0%BE%D0%B0%D0%B4%D0%B5%D1%80%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1.1</span>
					<span>Использование прелоадера</span>
				</div>
			</a>
			
			<ul id="toc-Использование_прелоадера-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_shim" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_shim">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1.2</span>
					<span>Использование shim</span>
				</div>
			</a>
			
			<ul id="toc-Использование_shim-sublist" class="vector-toc-list">
				<li id="toc-Использование_хэшей" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%85%D1%8D%D1%88%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1.2.1</span>
					<span>Использование хэшей</span>
				</div>
			</a>
			
			<ul id="toc-Использование_хэшей-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_Machine_Owner_Key" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Machine_Owner_Key">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1.2.2</span>
					<span>Использование Machine Owner Key</span>
				</div>
			</a>
			
			<ul id="toc-Использование_Machine_Owner_Key-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Использование_собственных_ключей" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1.3</span>
					<span>Использование собственных ключей</span>
				</div>
			</a>
			
			<ul id="toc-Использование_собственных_ключей-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Ручная_установка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Ручная установка</span>
				</div>
			</a>
			
			<ul id="toc-Ручная_установка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Обновление" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Обновление</span>
				</div>
			</a>
			
			<ul id="toc-Обновление-sublist" class="vector-toc-list">
				<li id="toc-Хук_Pacman" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A5%D1%83%D0%BA_Pacman">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.1</span>
					<span>Хук Pacman</span>
				</div>
			</a>
			
			<ul id="toc-Хук_Pacman-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Настройка" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Настройка</span>
			</div>
		</a>
		
			<button aria-controls="toc-Настройка-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Настройка subsection</span>
			</button>
		
		<ul id="toc-Настройка-sublist" class="vector-toc-list">
			<li id="toc-Передача_параметров_ядра" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D1%8F%D0%B4%D1%80%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Передача параметров ядра</span>
				</div>
			</a>
			
			<ul id="toc-Передача_параметров_ядра-sublist" class="vector-toc-list">
				<li id="toc-Для_ядер,_автоматически_найденных_rEFInd" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%94%D0%BB%D1%8F_%D1%8F%D0%B4%D0%B5%D1%80,_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8_%D0%BD%D0%B0%D0%B9%D0%B4%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_rEFInd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1</span>
					<span>Для ядер, автоматически найденных rEFInd</span>
				</div>
			</a>
			
			<ul id="toc-Для_ядер,_автоматически_найденных_rEFInd-sublist" class="vector-toc-list">
				<li id="toc-refind_linux.conf" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#refind_linux.conf">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1.1</span>
					<span>refind_linux.conf</span>
				</div>
			</a>
			
			<ul id="toc-refind_linux.conf-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Без_конфигурации" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%91%D0%B5%D0%B7_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1.2</span>
					<span>Без конфигурации</span>
				</div>
			</a>
			
			<ul id="toc-Без_конфигурации-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Для_строф_загрузки,_заданных_вручную" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%94%D0%BB%D1%8F_%D1%81%D1%82%D1%80%D0%BE%D1%84_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8,_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.2</span>
					<span>Для строф загрузки, заданных вручную</span>
				</div>
			</a>
			
			<ul id="toc-Для_строф_загрузки,_заданных_вручную-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Установка_параллельно_уже_существующему_UEFI_Windows" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BB%D0%BB%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE_%D1%83%D0%B6%D0%B5_%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B5%D0%BC%D1%83_UEFI_Windows">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Установка параллельно уже существующему UEFI Windows</span>
			</div>
		</a>
		
		<ul id="toc-Установка_параллельно_уже_существующему_UEFI_Windows-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Инструменты" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Инструменты</span>
			</div>
		</a>
		
			<button aria-controls="toc-Инструменты-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Инструменты subsection</span>
			</button>
		
		<ul id="toc-Инструменты-sublist" class="vector-toc-list">
			<li id="toc-Консоль_UEFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9A%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C_UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Консоль UEFI</span>
				</div>
			</a>
			
			<ul id="toc-Консоль_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Memtest86+" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Memtest86+">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Memtest86+</span>
				</div>
			</a>
			
			<ul id="toc-Memtest86+-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Средства_управления_ключами" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%BC%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Средства управления ключами</span>
				</div>
			</a>
			
			<ul id="toc-Средства_управления_ключами-sublist" class="vector-toc-list">
				<li id="toc-HashTool" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#HashTool">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.1</span>
					<span>HashTool</span>
				</div>
			</a>
			
			<ul id="toc-HashTool-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-MokManager" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#MokManager">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.2</span>
					<span>MokManager</span>
				</div>
			</a>
			
			<ul id="toc-MokManager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-KeyTool" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#KeyTool">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.3</span>
					<span>KeyTool</span>
				</div>
			</a>
			
			<ul id="toc-KeyTool-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-GPT_fdisk_(gdisk)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GPT_fdisk_(gdisk)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>GPT fdisk (gdisk)</span>
				</div>
			</a>
			
			<ul id="toc-GPT_fdisk_(gdisk)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fwupd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fwupd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.5</span>
					<span>fwupd</span>
				</div>
			</a>
			
			<ul id="toc-fwupd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Выключение_или_перезагрузка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D0%BB%D0%B8_%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.6</span>
					<span>Выключение или перезагрузка</span>
				</div>
			</a>
			
			<ul id="toc-Выключение_или_перезагрузка-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Советы и рекомендации</span>
			</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-Использование_драйверов_в_консоли_UEFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%BE%D0%B2_%D0%B2_%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D0%B8_UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Использование драйверов в консоли UEFI</span>
				</div>
			</a>
			
			<ul id="toc-Использование_драйверов_в_консоли_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Указание_разрешения_efifb" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F_efifb">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Указание разрешения efifb</span>
				</div>
			</a>
			
			<ul id="toc-Указание_разрешения_efifb-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Поддержка_подтомов_Btrfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0_%D0%BF%D0%BE%D0%B4%D1%82%D0%BE%D0%BC%D0%BE%D0%B2_Btrfs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Поддержка подтомов Btrfs</span>
				</div>
			</a>
			
			<ul id="toc-Поддержка_подтомов_Btrfs-sublist" class="vector-toc-list">
				<li id="toc-Автообнаружение" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.1</span>
					<span>Автообнаружение</span>
				</div>
			</a>
			
			<ul id="toc-Автообнаружение-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Загрузочная_строфа,_заданная_вручную" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%BE%D1%84%D0%B0,_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.2</span>
					<span>Загрузочная строфа, заданная вручную</span>
				</div>
			</a>
			
			<ul id="toc-Загрузочная_строфа,_заданная_вручную-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-LoaderDevicePartUUID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LoaderDevicePartUUID">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>LoaderDevicePartUUID</span>
				</div>
			</a>
			
			<ul id="toc-LoaderDevicePartUUID-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Решение проблем</span>
			</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Apple_Mac" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Apple_Mac">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.1</span>
					<span>Apple Mac</span>
				</div>
			</a>
			
			<ul id="toc-Apple_Mac-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Пустой_экран_меню_rEFInd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D1%83%D1%81%D1%82%D0%BE%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD_%D0%BC%D0%B5%D0%BD%D1%8E_rEFInd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.2</span>
					<span>Пустой экран меню rEFInd</span>
				</div>
			</a>
			
			<ul id="toc-Пустой_экран_меню_rEFInd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Не_используется_логотип_дистрибутива" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D1%82%D1%81%D1%8F_%D0%BB%D0%BE%D0%B3%D0%BE%D1%82%D0%B8%D0%BF_%D0%B4%D0%B8%D1%81%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D0%B8%D0%B2%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.3</span>
					<span>Не используется логотип дистрибутива</span>
				</div>
			</a>
			
			<ul id="toc-Не_используется_логотип_дистрибутива-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">rEFInd (Русский)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/rEFInd" title="rEFInd – Deutsch" lang="de" hreflang="de" data-title="rEFInd" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/REFInd.html" title="REFInd – English" lang="en" hreflang="en" data-title="REFInd" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/REFInd" title="REFInd – 日本語" lang="ja" hreflang="ja" data-title="REFInd" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/REFInd" title="REFInd – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="REFInd" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/REFInd.html" title="REFInd">rEFInd</a>. Дата последней синхронизации: 22 августа 2023. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=REFInd&amp;diff=0&amp;oldid=785887">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Arch_boot_process.html" class="mw-redirect" title="Процесс загрузки Arch">Процесс загрузки Arch</a></li>
<li><a href="../ru/Arch_boot_process.html#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA" class="mw-redirect" title="Загрузчик">Загрузчик</a></li>
<li><a href="../ru/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface (Русский)">Unified Extensible Firmware Interface (Русский)</a></li>
<li><a href="../en/EFI_boot_stub.html" class="mw-redirect" title="EFISTUB (Русский)">EFISTUB (Русский)</a></li>
<li><a href="../en/Booster.html" title="Booster">booster</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/">rEFInd</a> - <a href="../ru/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface (Русский)">UEFI</a>-загрузчик, способный запускать ядра <a href="../en/EFI_boot_stub.html" class="mw-redirect" title="EFISTUB (Русский)">EFISTUB</a>. Это форк более не поддерживаемого rEFIt, и в нем исправлены многие проблемы, касающиеся загрузки UEFI вне Mac-устройств. Он построен вокруг идеи кроссплатформенности и упрощения загрузки нескольких операционных систем.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Во всей статье <code><i>esp</i></code> обозначает точку монтирования <a href="../ru/EFI_system_partition.html" title="EFI system partition (Русский)">системного раздела EFI</a>.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=refind">refind</a></span>.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA.D0.B0_rEFInd"></span><span class="mw-headline" id="Установка_загрузчика_rEFInd">Установка загрузчика rEFInd</span>
</h2>
<p>rEFInd поставляется с <a href="../ru/Unified_Extensible_Firmware_Interface.html#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D1%8B_UEFI" title="Unified Extensible Firmware Interface (Русский)">драйверами UEFI</a>, которые реализуют поддержку в режиме "только чтение" ReiserFS (устарел), Ext2, Ext4, Btrfs, ISO-9660 и HFS+. Вдобавок rEFInd имеет доступ к любой файловой системе, к которой имеет доступ сам UEFI, включая FAT (как указано в спецификации UEFI), HFS+ на Mac и ISO-9660 на некоторых системах.
</p>
<p>См. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/drivers.html#finding">The rEFInd Boot Manager: Using EFI Drivers: Finding Additional EFI Drivers</a> для поиска дополнительных драйверов.
</p>
<p>Чтобы использовать rEFInd, Вам нужно установить его в системный раздел EFI или используя <a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%B8_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D0%B8_refind-install">скрипт refind-install</a> или <a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">копированием файлов и выставлением загрузочной записи вручную</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Ваше ядро и initramfs должны находиться в файловой системе, которую способен прочесть rEFInd.</div>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D1.80.D0.B8_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D0.B8_refind-install"></span><span class="mw-headline" id="Установка_при_помощи_refind-install">Установка при помощи refind-install</span>
</h3>
<p>Пакет rEFInd включает скрипт <i>refind-install</i> для упрощения процесса выставления rEFInd загрузочной записью EFI по умолчанию. Скрипт имеет несколько опций для работы с различными реализациями UEFI. См. <span class="plainlinks archwiki-template-man" title="$ man 8 refind-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/refind-install.8">refind-install(8)</a></span> или комментарии в скрипте для объяснений различных опций установки.
</p>
<p>Для большинства систем будет достаточно запустить:
</p>
<pre># refind-install
</pre>
<p>Этот скрипт постарается найти и примонтировать Ваш <a href="../ru/EFI_system_partition.html" title="EFI system partition (Русский)">ESP</a>, скопировать файлы rEFInd в <code><i>esp</i>/EFI/refind/</code>, и применить <a href="../ru/Unified_Extensible_Firmware_Interface.html#efibootmgr" title="Unified Extensible Firmware Interface (Русский)">efibootmgr</a>, чтобы сделать rEFInd загрузчиком EFI по умолчанию.
</p>
<p>Вы также можете установить rEFInd в стандартный/запасной путь загрузки <code><i>esp</i>/EFI/BOOT/bootx64.efi</code>. Это полезно для загрузочных USB-устройств или в системах с проблемами, связанными с изменениями в NVRAM, произведенными <i>efibootmgr</i>:
</p>
<pre># refind-install --usedefault <i>/dev/sdXY</i>
</pre>
<p>Где <code><i>/dev/sdXY</i></code> - ваш системный раздел EFI (устройство, а не точка его монтирования).
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> По умолчанию <code>refind-install</code> устанавливает лишь драйвер для той файловой системы, где находится ядро. Драйверы дополнительных файловых систем нужно устанавливать вручную копированием из <code>/usr/share/refind/drivers_x64/</code> в <code><i>esp</i>/EFI/refind/drivers_x64/</code>, или Вы можете установить все драйвера с опцией <code>--alldrivers</code>. Это полезно для загрузочных USB-устройств.</div>
<p>После установки файлов rEFInd в ESP убедитесь, что rEFInd создал файл <code>refind_linux.conf</code>, содержащий <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметры ядра">параметры ядра</a> в том же каталоге, где и Ваше ядро. Этот конфигурационный файл не будет создан, если Вы использовали опцию <code>--usedefault</code> - запустите <code>mkrlconf</code> с правами root, чтобы создать его.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Когда <code>refind-install</code> запускается в chroot (например, при установке Arch Linux), <code>/boot/refind_linux.conf</code> наполняется параметрами ядра из изначальной системы, а не той, куда устанавливается rEFInd. Отредактируйте <code>/boot/refind_linux.conf</code> и убедитесь, что <a href="../ru/Kernel_parameters.html" class="mw-redirect" title="Параметры ядра">параметры ядра</a> в нём верны для Вашей системы, иначе Вы получите kernel panic при следующей загрузке. Смотрите пример файла в разделе <a href="#refind_linux.conf">#refind_linux.conf</a>.</div>
<p>По умолчанию, rEFInd просканирует все Ваши устройства (для которых у него есть драйвера) и добавит загрузочные записи для всех EFI загрузчиков, что сможет найти, что должно включать Ваше ядро (т. к. в Arch <a href="../en/EFI_boot_stub.html" class="mw-redirect" title="EFISTUB (Русский)">EFISTUB</a> включен по умолчанию). Таким образом, у Вас уже должна быть система, способная к загрузке.
</p>
<h4>
<span id=".D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.B0.D1.8F_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.28Secure_Boot.29"></span><span class="mw-headline" id="Безопасная_загрузка_(Secure_Boot)">Безопасная загрузка (Secure Boot)</span>
</h4>
<p>См. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/secureboot.html">Managing Secure Boot</a> для поддержки безопасной загрузки в rEFInd.
</p>
<h5>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.B5.D0.BB.D0.BE.D0.B0.D0.B4.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Использование_прелоадера">Использование прелоадера</span>
</h5>
<p>См. <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Set_up_PreLoader" class="mw-redirect" title="Secure Boot">Secure Boot#Set up PreLoader</a> для получения подписанных бинарных файлов <code>PreLoader.efi</code> и <code>HashTool.efi</code>.
</p>
<p>Выполните <code>refind-install</code> с опцией <code>--preloader <i>/путь/к/прелоадеру</i></code>
</p>
<pre># refind-install --preloader /usr/share/preloader-signed/PreLoader.efi
</pre>
<p>В следующий раз, когда Вы будете загружаться с включенной безопасной загрузкой, HashTool запустится, и Вам нужно будет зарегистрировать хэши rEFInd (<code>loader.efi</code>), драйверов rEFInd (напр. <code>ext4_x64.efi</code>) и ядра (напр. <code>vmlinuz-linux</code>).
</p>
<p>См. <span class="plainlinks archwiki-template-man" title="$ man 8 refind-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/refind-install.8">refind-install(8)</a></span> для дополнительной информации.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Подписанный <i>HashTool</i> способен получить доступ лишь к тому разделу диска, из которого он был запущен. Это значит, что если Ваше ядро не на ESP, Вы не сможете зарегистрировать его хэш из <i>HashTool</i>. Вы можете обойти это ограничение, используя <a href="#KeyTool">#KeyTool</a>, т. к. он способен зарегистрировать хэш в MokList и не ограничен одним разделом. Не забудьте зарегистрировать хэш <i>KeyTool</i> прежде, чем использовать его.</div>
<h5>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_shim"></span><span class="mw-headline" id="Использование_shim">Использование shim</span>
</h5>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/shim-signed/">shim-signed</a></span><sup><small>AUR</small></sup>. См. <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#shim" class="mw-redirect" title="Secure Boot">Secure Boot#shim</a> (пропустите этап копирования файлов).
</p>
<h6>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.85.D1.8D.D1.88.D0.B5.D0.B9"></span><span class="mw-headline" id="Использование_хэшей">Использование хэшей</span>
</h6>
<p>Чтобы использовать лишь хэши при помощи <i>shim</i>, запустите <code>refind-install</code> с опцией <code>--shim <i>/путь/к/shim</i></code>.
</p>
<pre># refind-install --shim /usr/share/shim-signed/shimx64.efi
</pre>
<p>В следующий раз, когда Вы будете загружаться с включенной безопасной загрузкой, MokManager запустится, и Вам нужно будет зарегистрировать хэши rEFInd (<code>loader.efi</code>), драйверов rEFInd (напр. <code>ext4_x64.efi</code>) и ядра (напр. <code>vmlinuz-linux</code>).
</p>
<h6>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_Machine_Owner_Key"></span><span class="mw-headline" id="Использование_Machine_Owner_Key">Использование Machine Owner Key</span>
</h6>
<p>Чтобы подписать rEFInd при помощи Machine Owner Key (MOK), установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sbsigntools">sbsigntools</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Если Вы уже <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#shim_with_key" class="mw-redirect" title="Secure Boot">создали MOK</a>, поместите файлы в каталог <code>/etc/refind.d/keys</code> с именами <code>refind_local.key</code> (приватный ключ в формате PEM), <code>refind_local.crt</code> (сертификат в формате PEM) и <code>refind_local.cer</code> (сертификат в формате DER).</div>
<p>Выполните <code>refind-install</code> с опциями <code>--shim <i>/путь/к/shim</i></code> и <code>--localkeys</code>:
</p>
<pre># refind-install --shim /usr/share/shim-signed/shimx64.efi --localkeys
</pre>
<p><i>refind-install</i> создаст ключи за Вас и подпишет сам себя и свои драйвера. Вам нужно будет подписать ядро тем же ключом, например:
</p>
<pre># sbsign --key /etc/refind.d/keys/refind_local.key --cert /etc/refind.d/keys/refind_local.crt --output /boot/vmlinuz-linux /boot/vmlinuz-linux
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Подписывание ядра может быть автоматизировано постхуком <a href="../ru/Mkinitcpio.html" title="Mkinitcpio (Русский)">mkinitcpio</a>, см. <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Signing_the_kernel_with_a_mkinitcpio_post_hook" class="mw-redirect" title="Secure Boot">Secure Boot#Signing the kernel with a mkinitcpio post hook</a>.</div>
<p>В MokManager добавьте <code>refind_local.cer</code> в MoKList. <code>refind_local.cer</code> может быть найден внутри каталога, называющегося <code>keys</code> в каталоге установки rEFInd, напр. <code><i>esp</i>/EFI/refind/keys/refind_local.cer</code>.
</p>
<p>См. <span class="plainlinks archwiki-template-man" title="$ man 8 refind-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/refind-install.8">refind-install(8)</a></span> для дополнительной информации.
</p>
<h5>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.BE.D0.B1.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D1.8B.D1.85_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9"></span><span class="mw-headline" id="Использование_собственных_ключей">Использование собственных ключей</span>
</h5>
<p>Следуйте <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Using_your_own_keys" class="mw-redirect" title="Secure Boot">Secure Boot#Using your own keys</a>, чтобы создать ключи.
</p>
<p>Создайте каталог <code>/etc/refind.d/keys</code> и поместите ключ подписи базы данных (<b>db</b>) и сертификаты в него. Назовите файлы: <code>refind_local.key</code> (приватный ключ в формате PEM), <code>refind_local.crt</code> (сертификат в формате PEM) и <code>refind_local.cer</code> (сертификат в формате DER).
</p>
<p>При запуске скрипта установки укажите опцию <code>--localkeys</code>, т.е.:
</p>
<pre># refind-install --localkeys
</pre>
<p>Бинарные файлы EFI rEFInd будут подписаны предоставленным ключом и сертификатом.
</p>
<h3>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Ручная_установка">Ручная установка</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> rEFInd способен загружать Linux несколькими способами. См. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/linux.html">The rEFInd Boot Manager: Methods of Booting Linux</a> для информации о различных подходах к загрузке.</div>
<p>Если скрипт <code>refind-install</code> для Вас не работает, rEFInd можно установить вручную.
</p>
<p>Прежде всего, скопируйте бинарный файл в ESP:
</p>
<pre># mkdir -p <i>esp</i>/EFI/refind
# cp /usr/share/refind/refind_x64.efi <i>esp</i>/EFI/refind/
</pre>
<p>Если Вы хотите установить rEFInd в стандартный/запасной путь загрузки, замените <code><i>esp</i>/EFI/refind/</code> на <code><i>esp</i>/EFI/BOOT/</code> и скопируйте бинарный файл EFI rEFInd в <code><i>esp</i>/EFI/BOOT/bootx64.efi</code>:
</p>
<pre># mkdir -p <i>esp</i>/EFI/BOOT
# cp /usr/share/refind/refind_x64.efi <i>esp</i>/EFI/BOOT/bootx64.efi
</pre>
<p>Затем используйте <a href="../ru/Unified_Extensible_Firmware_Interface.html#efibootmgr" title="Unified Extensible Firmware Interface (Русский)">efibootmgr</a>, чтобы создать загрузочную запись в NVRAM UEFI, где <code><i>/dev/sdX</i></code> и <code><i>Y</i></code> - устройство и номер раздела для вашего системного раздела EFI. Если Вы устанавливаете rEFInd в стандартный/запасной загрузочный путь <code><i>esp</i>/EFI/BOOT/bootx64.efi</code>, Вы также можете пропустить этот шаг.
</p>
<pre># efibootmgr --create --disk <i>/dev/sdX</i> --part <i>Y</i> --loader /EFI/refind/refind_x64.efi --label "rEFInd Boot Manager" --unicode
</pre>
<p>На данном этапе Вы должны быть способны загрузиться в rEFInd, но он не загрузит ваше ядро. Если ядро не находится в вашем ESP, rEFInd может примонтировать разделы, чтобы найти его - учитывая, что у него есть необходимые драйверы.
</p>
<p>rEFInd автоматически загружает все драйвера из подкаталогов <code>drivers</code> и <code>drivers_<i>arch</i></code> (например, <code>drivers_x64</code>) в своем установочном каталоге.
</p>
<pre># mkdir <i>esp</i>/EFI/refind/drivers_x64
# cp /usr/share/refind/drivers_x64/<b>drivername</b>_x64.efi <i>esp</i>/EFI/refind/drivers_x64/
</pre>
<p>Теперь rEFInd должен иметь загрузочную запись для Вашего ядра, но он не передаст необходимые параметры ядра. См. <a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B0_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D1%8F%D0%B4%D1%80%D0%B0">#Передача параметров ядра</a>. Теперь Вы должны иметь возможность загрузить Ваше ядро при помощи rEFInd. Если Вы все еще не можете загрузить ядро или Вам нужно отредактировать настройки rEFInd, многие параметры могут быть изменены при помощи конфигурационного файла:
</p>
<pre># cp /usr/share/refind/refind.conf-sample <i>esp</i>/EFI/refind/refind.conf
</pre>
<p>Пример конфигурационного файла хорошо закомментирован и не требует дополнительных разъяснений.
</p>
<p>Если Вы не выставили параметр <code>textonly</code> в конфигурационном файле, Вам стоит скопировать иконки rEFInd, чтобы избавиться от уродливых стандартных плейсхолдеров:
</p>
<pre># cp -r /usr/share/refind/icons <i>esp</i>/EFI/refind/
</pre>
<p>Вы можете попробовать различные шрифты, копируя их и изменяя параметр <code>font</code> в <code>refind.conf</code>:
</p>
<pre># cp -r /usr/share/refind/fonts <i>esp</i>/EFI/refind/
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Нажмите <code>F10</code> в rEFInd, чтобы сохранить скриншот в самый верхний каталог ESP.</div>
<h3>
<span id=".D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Обновление">Обновление</span>
</h3>
<p>Pacman обновляет файлы rEFInd в <code>/usr/share/refind/</code>, но копировать новые файлы в ESP не будет. Если <code>refind-install</code> для Вашей изначальной установки rEFInd сработал, Вы можете запустить его заново, чтобы скопировать новые файлы. Новый конфигурационный файл будет скопирован как <code>refind.conf-sample</code>, так что Вы сможете внести изменения в существующий файл при помощи утилиты <a href="../ru/Core_utilities.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5" title="Core utilities (Русский)">diff</a>. Если Вашему rEFInd требуется <a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">#Ручная установка</a>, Вам потребуется самим выяснить, какие файлы нужно скопировать.
</p>
<h4>
<span id=".D0.A5.D1.83.D0.BA_Pacman"></span><span class="mw-headline" id="Хук_Pacman">Хук Pacman</span>
</h4>
<p>Вы можете автоматизировать процесс хуком pacman:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/refind.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation=Upgrade
Type=Package
Target=refind

[Action]
Description = Updating rEFInd on ESP
When=PostTransaction
Exec=/usr/bin/refind-install</pre>
<p>Где <code>Exec=</code>, возможно, потребуется изменить на корректную команду обновления для Вашей системы. Если была выполнена <a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">#Ручная установка</a>, Вы можете создать собственный скрипт обновления, чтобы она вызывалась вместе с хуком.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Если при настройке rEFInd использовалась <a href="#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_(Secure_Boot)">#Безопасная загрузка (Secure Boot)</a>, вдобавок к <code>--localkeys</code> Вам потребуется добавить <code>--yes</code> к команде <code>refind-install</code>. Это предотвратит провал скрипта, если он запускается с выключенным Secure Boot. См. <span class="plainlinks archwiki-template-man" title="$ man 8 refind-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/refind-install.8">refind-install(8)</a></span> для дополнительной информации.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если ESP не примонтирован к <code>/boot</code>, и Вы полагаетесь на автоматическое монтирование, убедитесь, что Вы предзагрузили модуль <code>vfat</code>, как указано в разделе <a href="../ru/EFI_system_partition.html#%D0%90%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5_%D1%82%D0%BE%D1%87%D0%BA%D0%B8_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" class="mw-redirect" title="Системный раздел EFI">Системный раздел EFI#Альтернативные точки монтирования</a>. Иначе, если <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=refind">refind</a></span> обновится вместе с ядром, раздел ESP будет недоступен.</div>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Настройка">Настройка</span>
</h2>
<p>Конфигурация rEFInd <code>refind.conf</code> находится в том же разделе, что и EFI-приложение rEFInd (обычно <code><i>esp</i>/EFI/refind</code> или <code><i>esp</i>/EFI/BOOT</code>). Стандартный конфигурационный файл содержит обширные комментарии, объясняющие все его параметры, см. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/configfile.html">Configuring the Boot Manager</a> для дополнительных объяснений.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B4.D0.B0.D1.87.D0.B0_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.BE.D0.B2_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Передача_параметров_ядра">Передача параметров ядра</span>
</h3>
<p>Есть два метода задания <a href="../ru/Kernel_parameters.html" title="Kernel parameters (Русский)">параметров ядра</a>, которые rEFInd передаст в ядро.
</p>
<h4>
<span id=".D0.94.D0.BB.D1.8F_.D1.8F.D0.B4.D0.B5.D1.80.2C_.D0.B0.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8_.D0.BD.D0.B0.D0.B9.D0.B4.D0.B5.D0.BD.D0.BD.D1.8B.D1.85_rEFInd"></span><span class="mw-headline" id="Для_ядер,_автоматически_найденных_rEFInd">Для ядер, автоматически найденных rEFInd</span>
</h4>
<p>Для автоматически найденных ядер Вы можете или указать параметры ядра напрямую в <code>/boot/refind_linux.conf</code>, или полагаться на способность rEFInd определять корневой раздел и параметры ядра. См. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/linux.html#easiest">Methods of Booting Linux: For Those With Foresight or Luck: The Easiest Method</a> для дополнительной информации.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>rEFInd автоматически выберет иконку Arch Linux (<code>os_arch.png</code>) для загрузочной опции, когда <code>/etc/os-release</code> находится в том же разделе, что и ядро. Если Ваш <code>/boot</code> находится в отдельном разделе, см. <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/configfile.html#icons">Configuring the Boot Manager: Setting OS Icons</a>.</li>
<li>rEFInd <a rel="nofollow" class="external text" href="https://sourceforge.net/p/refind/discussion/general/thread/c3865a4e3a/">не поддерживает унифицированные образы ядер.</a> Чтобы у Вас была иконка для унифицированного образа ядра, скопируйте <code>/usr/share/refind/icons/os_arch.png</code> в <code><i>esp</i>/EFI/Linux/</code> и убедитесь, что имена файлов совпадают. Т. е., если у Вас есть <code><i>esp</i>/EFI/Linux/arch-linux.efi</code>, то назовите иконку <code><i>esp</i>/EFI/Linux/arch-linux.png</code>.</li>
</ul>
</div>
<p>Чтобы rEFInd поддерживал формат имен <a href="../ru/Kernel.html" title="Kernel (Русский)">ядер</a> Arch Linux и мог сопоставить их с их образами initramfs, раскомментируйте и отредактируйте параметр <code>extra_kernel_version_strings</code> в <code>refind.conf</code>, например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
extra_kernel_version_strings linux-hardened,linux-rt-lts,linux-zen,linux-lts,linux-rt,linux
...
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>rEFInd поддерживает лишь обнаружение одного образа initramfs на ядро, а значит, он не будет обнаруживать запасные initramfs или образы микрокода. Они должны быть обозначены вручную.</li>
<li>Без строчки <code>extra_kernel_version_strings</code>, переменная <code>%v</code> в <code>refind_linux.conf</code> не будет работать для <a href="../ru/Kernel.html" title="Kernel (Русский)">ядер</a> Arch Linux.</li>
</ul>
</div>
<h5><span class="mw-headline" id="refind_linux.conf">refind_linux.conf</span></h5>
<p>Если rEFInd автоматически находит Ваше ядро, Вы можете поместить файл <code>refind_linux.conf</code>, содержащий параметры ядра, в тот же каталог, где и Ваше ядро. Вы можете использовать <code>/usr/share/refind/refind_linux.conf-sample</code> в качестве отправной точки. Первая раскомментированная строчка <code>refind_linux.conf</code> и будет параметрами ядра по умолчанию. Последующие строчки будут определять пункты в подменю, доступные при помощи <code>+</code>, <code>F2</code>, или <code>Insert</code>.
</p>
<p>Иначе, попробуйте запустить <code>mkrlconf</code> с root-правами. Он попытается найти Ваше ядро в <code>/boot</code> и автоматически сгенерировать <code>refind_linux.conf</code>. Скрипт назначит лишь самые базовые параметры ядра, так что убедитесь в корректности файла.
</p>
<p>Если Вы не укажете параметр <code>initrd=</code>, rEFInd автоматически добавит его при помощи поиска общих имен файлов RAM-диска в том же каталоге, где и ядро. Если Вам требуется несколько параметров <code>initrd=</code>, указать их нужно вручную в <code>refind_linux.conf</code>. Например, микрокод, передающийся перед initramfs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/refind_linux.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"Boot using default options"     "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap initrd=boot\intel-ucode.img initrd=boot\amd-ucode.img initrd=boot\initramfs-%v.img"
"Boot using fallback initramfs"  "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap initrd=boot\intel-ucode.img initrd=boot\amd-ucode.img initrd=boot\initramfs-%v-fallback.img"
"Boot to terminal"               "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap initrd=boot\intel-ucode.img initrd=boot\amd-ucode.img initrd=boot\initramfs-%v.img systemd.unit=multi-user.target"</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> 
<ul>
<li>Путь <code>initrd</code> относителен к корню файловой системы, в которой лежит ядро. Это может быть <code>initrd=\boot\initramfs-%v.img</code>, или же, если <code>/boot</code> - отдельный раздел (т. е. ESP), <code>initrd=initramfs-%v.img</code> .</li>
<li>Используйте обратные слэши (<code>\</code>) в качестве разделителей пути в параметре <code>initrd</code>, иначе ядро не сможет найти образ(ы) initramfs: <code>EFI stub: ERROR: Failed to open file: /boot/intel-ucode.img</code>.</li>
<li>При использовании образов initramfs, сгенерированных <a href="../en/Booster.html" title="Booster">Booster</a>, замените <code>initramfs</code> на <code>booster</code> в имени файлов initramfs. Т. е. <code>initrd=\boot\booster-%v.img</code>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Кавычки экранируются повторением (т. е. <code>""</code> - экранированная версия <code>"</code>). Например, чтобы передать параметр <code>acpi_osi="Windows 2015"</code> в первую загрузочную запись вышеуказанного <code>refind_linux.conf</code>: <pre>"Boot using default options"     "... initrd=boot\initramfs-%v.img <b>acpi_osi=""Windows 2015""</b> "</pre>
</li>
<li>rEFInd заменяет <code>%v</code> в <code>refind_linux.conf</code> версией ядра (извлекая ее из имени файла). Чтобы rEFInd поддерживал ядра Arch Linux, параметр <code>extra_kernel_version_strings</code> должен быть отредактирован как описано в разделе <a href="#%D0%94%D0%BB%D1%8F_%D1%8F%D0%B4%D0%B5%D1%80,_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8_%D0%BD%D0%B0%D0%B9%D0%B4%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_rEFInd">#Для ядер, автоматически найденных rEFInd</a>.</li>
</ul>
</div>
<h5>
<span id=".D0.91.D0.B5.D0.B7_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Без_конфигурации">Без конфигурации</span>
</h5>
<p>Если Вы просто установите rEFInd в ESP и запустите без каких-либо дополнительных телодвижений (скажем, при помощи консоли UEFI или KeyTool, или напрямую из встроенного ПО), Вы все еще получите меню загрузки, созданное при помощи автообнаружения, без какой-либо требуемой конфигурации.
</p>
<p>Это работает, поскольку у rEFInd есть запасной механизм, который может:
</p>
<ul>
<li>Определить корневой раздел (параметр <code>root=</code>) при помощи <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/discoverable_partitions_specification/">спецификации обнаруживаемых разделов</a> или <code>/etc/fstab</code>.</li>
<li>Находить опции ядра (<code>ro</code> или <code>rw</code>) из <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_entries_.28LBA_2-33.29" class="extiw" title="wikipedia:GUID Partition Table">атрибутов GPT-разделов</a> (используя атрибут <code>60</code> "только-чтение") или <code>/etc/fstab</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> rEFInd не поддерживает коды экранирования (например, для <a href="../ru/Fstab.html#%D0%9F%D1%80%D0%BE%D0%B1%D0%B5%D0%BB%D1%8B_%D0%B2_%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%D1%85_%D0%BF%D0%BE%D0%BB%D0%B5%D0%B9" title="Fstab (Русский)">пробелов</a> в <code>/etc/fstab</code>.</div>
<h4>
<span id=".D0.94.D0.BB.D1.8F_.D1.81.D1.82.D1.80.D0.BE.D1.84_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8.2C_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E"></span><span class="mw-headline" id="Для_строф_загрузки,_заданных_вручную">Для строф загрузки, заданных вручную</span>
</h4>
<p>Если Ваше ядро не обнаружено автоматически, или же Вы просто хотите больше контроля над опциями в пунктах меню, Вы можете вручную создавать пункты меню используя строфы в <code>refind.conf</code>. Убедитесь, что <code>scanfor</code> включает <code>manual</code>, иначе эти пункты не появятся в меню rEFInd. Параметры ядра задаются при помощи ключевого слова <code>options</code>. rEFInd добавит параметр <code>initrd=</code>, используя файл, указанный ключевым словом <code>initrd</code> в строфе. Если Вам нужны дополнительные initrd (например, для <a href="../ru/Microcode.html" title="Microcode (Русский)">микрокода</a>), Вы можете указать их в <code>options</code> (и тот, что указан ключевым словом <code>initrd</code>, будет добавлен в конец).
</p>
<p>Строфы, заданные вручную, объясняются в <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/configfile.html#stanzas">Creating Manual Boot Stanzas</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

menuentry "Arch Linux" {
	icon     /EFI/refind/icons/os_arch.png
	volume   "Arch Linux"
	loader   /boot/vmlinuz-linux
	initrd   /boot/initramfs-linux.img
	options  "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap initrd=boot\intel-ucode.img initrd=boot\amd-ucode.img"
	submenuentry "Boot using fallback initramfs" {
		initrd /boot/initramfs-linux-fallback.img
	}
	submenuentry "Boot to terminal" {
		add_options "systemd.unit=multi-user.target"
	}
}</pre>
<p>Скорее всего, Вам потребуется изменить <code>volume</code>, чтобы этот параметр соответствовал LABEL файловой системы, или PARTLABEL/PARTUUID того раздела, где находится образ ядра. PARTUUID должен быть в верхнем регистре. Смотрите раздел <a href="../ru/Persistent_block_device_naming.html#by-label" class="mw-redirect" title="Постоянные имена для блочных устройств">Постоянные имена для блочных устройств#by-label</a> для примеров присваивания метки тома. Если <code>volume</code> не указан, он по умолчанию равняется тому, из которого запускается rEFInd (обычно системный раздел EFI).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> 
<ul>
<li>Пути <code>loader</code> и <code>initrd</code> относительны к корню <code>volume</code>. Если <code>/boot</code> - отдельный раздел (напр. ESP), пути loader и initrd должны быть <code>/vmlinuz-linux</code> и <code>/initramfs-linux.img</code>, соответственно.</li>
<li>Используйте обратные слэши (<code>\</code>) в качестве разделителей пути в параметре <code>initrd</code>, иначе ядро не сможет найти образ(ы) initramfs: <code>EFI stub: ERROR: Failed to open file: /boot/intel-ucode.img</code>.</li>
<li>При использовании образов initramfs, сгенерированных <a href="../en/Booster.html" title="Booster">Booster</a>, замените <code>initramfs</code> на <code>booster</code> в имени файлов initramfs. Т. е. <code>initrd   /boot/booster-linux.img</code>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul><li>Кавычки экранируются повторением (т. е. <code>""</code> - экранированная версия <code>"</code>). Например, чтобы передать параметр <code>acpi_osi="Windows 2015"</code> в загрузочную запись <code>"Arch Linux"</code>: <pre>options  "... initrd=boot\amd-ucode.img <b>acpi_osi=""Windows 2015""</b> "</pre>
</li></ul>
</div>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D0.B0.D1.80.D0.B0.D0.BB.D0.BB.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE_.D1.83.D0.B6.D0.B5_.D1.81.D1.83.D1.89.D0.B5.D1.81.D1.82.D0.B2.D1.83.D1.8E.D1.89.D0.B5.D0.BC.D1.83_UEFI_Windows"></span><span class="mw-headline" id="Установка_параллельно_уже_существующему_UEFI_Windows">Установка параллельно уже существующему UEFI Windows</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Обычные подводные камни <a href="../en/Dual_boot_with_Windows.html" class="mw-redirect" title="Dual boot with Windows (Русский)">двойной загрузки с Windows</a> здесь применимы.</div>
<p>rEFInd совместим с системным разделом EFI, созданным установкой UEFI Windows, так что нет нужды создавать или форматировать еще один раздел FAT32, когда Вы устанавливаете Arch Linux вместе с Windows. Просто примонтируйте уже существующий ESP и установите rEFInd, как обычно. По умолчанию, функция автообнаружения rEFInd должна опознать любые существующие загрузчики Windows.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В некоторых случаях Windows ведет себя иначе (экран загрузки в низком разрешении, логотип производителя заменен логотипом Windows, черный экран после экрана загрузки, артефакты). Если Вы встречаетесь с такими проблемами, попробуйте выставить <code>use_graphics_for +,windows</code> в <code><i>esp</i>/EFI/refind/refind.conf</code>, или добавьте <code>graphics on</code> в загрузочную строфу Windows.</div>
<h2>
<span id=".D0.98.D0.BD.D1.81.D1.82.D1.80.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D1.8B"></span><span class="mw-headline" id="Инструменты">Инструменты</span>
</h2>
<p>rEFInd поддерживает <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/installing.html#addons">запуск различных инструментов</a>. Они должны быть установлены отдельно. Отредактируйте <code>showtools</code> в <code>refind.conf</code>, чтобы выбрать, какие инструменты должны показываться.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
showtools <a href="#%D0%9A%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C_UEFI">shell</a>, <a href="#Memtest86+">memtest</a>, <a href="#%D0%A1%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BB%D1%8E%D1%87%D0%B0%D0%BC%D0%B8">mok_tool</a>, <a href="#GPT_fdisk_(gdisk)">gdisk</a>, <a href="#fwupd">fwupdate</a> ...
...
</pre>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D1.8C_UEFI"></span><span class="mw-headline" id="Консоль_UEFI">Консоль UEFI</span>
</h3>
<p>Смотрите <a href="../ru/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" title="Unified Extensible Firmware Interface (Русский)">Unified Extensible Firmware Interface (Русский)#UEFI Shell</a>.
</p>
<p>Скопируйте <code>shellx64.efi</code> в корень системного раздела EFI.
</p>
<h3>
<span id="Memtest86.2B"></span><span class="mw-headline" id="Memtest86+">Memtest86+</span>
</h3>
<p>Установите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=memtest86%2B-efi">memtest86+-efi</a></span> и скопируйте его в <code><i>esp</i>/EFI/tools/</code>.
</p>
<pre># cp /boot/memtest86+/memtest.efi <i>esp</i>/EFI/tools/memtest86.efi
</pre>
<h3>
<span id=".D0.A1.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.B0_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BA.D0.BB.D1.8E.D1.87.D0.B0.D0.BC.D0.B8"></span><span class="mw-headline" id="Средства_управления_ключами">Средства управления ключами</span>
</h3>
<p>rEFInd может обнаружить средства управления ключами безопасной загрузки, если они помещены в каталог rEFInd в ESP, <code><i>esp</i>/</code> или <code><i>esp</i>/EFI/tools/</code>.
</p>
<h4><span class="mw-headline" id="HashTool">HashTool</span></h4>
<p>Следуйте <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%B5%D0%BB%D0%BE%D0%B0%D0%B4%D0%B5%D1%80%D0%B0">#Использование прелоадера</a> и <code>HashTool.efi</code> будет помещен в каталог rEFInd.
</p>
<h4><span class="mw-headline" id="MokManager">MokManager</span></h4>
<p>Следуйте <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_shim">#Использование shim</a> и MokManager будет помещен в каталог rEFInd.
</p>
<h4><span class="mw-headline" id="KeyTool">KeyTool</span></h4>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efitools">efitools</a></span>.
</p>
<p>Поместите бинарный файл EFI KeyTool в <code><i>esp</i>/</code> или <code><i>esp</i>/EFI/tools/</code> с именем <code>KeyTool.efi</code> или <code>KeyTool-signed.efi</code>.
</p>
<p>См. <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Using_KeyTool" class="mw-redirect" title="Secure Boot">Secure Boot#Using KeyTool</a> для инструкций по подписыванию <code>KeyTool.efi</code>.
</p>
<h3>
<span id="GPT_fdisk_.28gdisk.29"></span><span class="mw-headline" id="GPT_fdisk_(gdisk)">GPT fdisk (gdisk)</span>
</h3>
<p>Загрузите <a href="../ru/GPT_fdisk.html#EFI-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_gdisk" title="GPT fdisk (Русский)">GPT fdisk (Русский)#EFI-приложение gdisk</a> и скопируйте <code>gdisk_x64.efi</code> в <code><i>esp</i>/EFI/tools/</code>.
</p>
<h3><span class="mw-headline" id="fwupd">fwupd</span></h3>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fwupd-efi">fwupd-efi</a></span> и настройте <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.
</p>
<p>Скопируйте <code>fwupdx64.efi</code> и файлы firmware в <code><i>esp</i>/EFI/tools/</code>:
</p>
<pre># cp /usr/lib/fwupd/efi/fwupdx64.efi <i>esp</i>/EFI/tools/
</pre>
<h3>
<span id=".D0.92.D1.8B.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.BB.D0.B8_.D0.BF.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0"></span><span class="mw-headline" id="Выключение_или_перезагрузка">Выключение или перезагрузка</span>
</h3>
<p>rEFInd имеет встроенные пункты меню выключения и перезагрузки. Так как список инструментов, находящийся здесь, самый обширный в своем роде на всей вики, пользователи консоли UEFI или иных менеджеров загрузки UEFI, например, <a href="../ru/Systemd-boot.html" title="Systemd-boot (Русский)">systemd-boot</a>, могут быть заинтересованы в <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/powerofforreboot.efi/">powerofforreboot.efi</a></span><sup><small>AUR</small></sup>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.BE.D0.B2_.D0.B2_.D0.BA.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D0.B8_UEFI"></span><span class="mw-headline" id="Использование_драйверов_в_консоли_UEFI">Использование драйверов в консоли UEFI</span>
</h3>
<p>Чтобы использовать драйверы rEFInd в консоли UEFI, загрузите их командой <code>load</code> и обновите диски при помощи <code>map -r</code>.
</p>
<pre>Shell&gt; load FS0:\EFI\refind\drivers\ext4_x64.efi
Shell&gt; map -r
</pre>
<p>Теперь Вы можете получить доступ к своей файловой системе из консоли UEFI.
</p>
<h3>
<span id=".D0.A3.D0.BA.D0.B0.D0.B7.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D1.8F_efifb"></span><span class="mw-headline" id="Указание_разрешения_efifb">Указание разрешения efifb</span>
</h3>
<p>Если разрешение в <code>refind.conf</code> выставлено на неверное значение, на всех системах, кроме Mac, rEFInd будет отображать список поддерживаемых разрешений. На Mac он просто будет втихую использовать разрешение по умолчанию.
</p>
<p>Чтобы определить разрешения фреймбуфера, поддерживаемые <a rel="nofollow" class="external text" href="https://docs.kernel.org/fb/efifb.html">efifb</a>, скопируйте <code>/usr/share/gnu-efi/apps/x86_64/modelist.efi</code> из <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnu-efi">gnu-efi</a></span> в корень ESP. Зайдите в консоль UEFI и запустите <code>modelist.efi</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Shell&gt; FS0:\modelist.efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GOP reports MaxMode 3
 0: 640x480 BGRR pitch 640
*1: 800x600 BGRR pitch 800
 2: 1024x768 BGRR pitch 1024
</pre>
<p>Выберите одно в <code>refind.conf</code>. Перезагрузитесь и убедитесь, что настройки были применены, запустив <code>dmesg | grep efifb</code> с правами root.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_.D0.BF.D0.BE.D0.B4.D1.82.D0.BE.D0.BC.D0.BE.D0.B2_Btrfs"></span><span class="mw-headline" id="Поддержка_подтомов_Btrfs">Поддержка подтомов Btrfs</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Убедитесь, что драйвер <code>btrfs_x64.efi</code> установлен, его можно установить вручную копированием из <code>/usr/share/refind/drivers_x64/btrfs_x64.efi</code> в <code><i>esp</i>/EFI/refind/drivers_x64/btrfs_x64.efi</code>, или можно установить все драйверы при помощи опции <code>refind-install /dev/sdx --alldrivers</code>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> <code>btrfs_x64.efi</code> не поддерживает <code>raid1c3/4</code>.</div>
<h4>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BE.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Автообнаружение">Автообнаружение</span>
</h4>
<p>Чтобы разрешить автоопределение ядер на подтоме Btrfs, раскомментируйте и отредактируйте <code>also_scan_dirs</code> в <code>refind.conf</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
also_scan_dirs +,<i>subvolume</i>/boot
...
</pre>
<p>Далее, добавьте <code>subvol=<i>subvolume</i></code> к <code>rootflags</code> в <code>refind_linux.conf</code> и затем присоедините <code><i>subvolume</i></code> к пути initrd.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/refind_linux.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"Boot using standard options"  "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw <b>rootflags=subvol=<i>subvolume</i></b> initrd=<i><b>subvolume</b></i>\boot\initramfs-%v.img"</pre>
<h4>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BE.D1.87.D0.BD.D0.B0.D1.8F_.D1.81.D1.82.D1.80.D0.BE.D1.84.D0.B0.2C_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.BD.D0.B0.D1.8F_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E"></span><span class="mw-headline" id="Загрузочная_строфа,_заданная_вручную">Загрузочная строфа, заданная вручную</span>
</h4>
<p>Если Вы загружаете подтом <a href="../ru/Btrfs.html" title="Btrfs (Русский)">btrfs</a> как корень, присоедините путь до подтома к путям loader и initrd, и дополните строку <code>options</code> <code>rootflags=subvol=<i>root_subvolume</i></code>. В примере ниже в качестве корня монтируется подтом btrfs, названный 'ROOT' (например, <code>mount -o subvol=ROOT /dev/sdxY /mnt</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
menuentry "Arch Linux" {
        icon     /EFI/refind/icons/os_arch.png
        volume   "[bootdevice]"
        loader   <b>/ROOT</b>/boot/vmlinuz-linux
        initrd   <b>/ROOT</b>/boot/initramfs-linux.img
        options  "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw <b>rootflags=subvol=ROOT</b>"
...
}</pre>
<p>Если этого не сделать, Вы получите следующее сообщение об ошибке:
<code>ERROR: Root device mounted successfully, but /sbin/init does not exist.</code>
</p>
<h3><span class="mw-headline" id="LoaderDevicePartUUID">LoaderDevicePartUUID</span></h3>
<p>С версии 0.13.1, rEFInd поддерживает задание переменной UEFI <a rel="nofollow" class="external text" href="https://systemd.io/BOOT_LOADER_INTERFACE/">LoaderDevicePartUUID</a>. Это позволяет <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-gpt-auto-generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-gpt-auto-generator.8">systemd-gpt-auto-generator(8)</a></span> примонтировать ESP без необходимости указывать его в <code>/etc/fstab</code>. Смотрите раздел <a href="../ru/Systemd.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_GPT-%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B0" title="Systemd (Русский)">systemd (Русский)#Автомонтирование GPT-раздела</a>.
</p>
<p>Чтобы указать <code>LoaderDevicePartUUID</code> в случае rEFInd, отредактируйте <code>refind.conf</code> и раскомментируйте <code>write_systemd_vars true</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
write_systemd_vars true
...</pre>
<p>Вы можете убедиться, что она задана, проверив ее значение при помощи <code>cat /sys/firmware/efi/efivars/LoaderDevicePartUUID-4a67b082-0a4c-41cf-b6c7-440b29bb8c4f</code>, или посмотрев на состояние "Boot loader sets ESP information" в выводе <code>bootctl</code>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3><span class="mw-headline" id="Apple_Mac">Apple Mac</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mactel-boot/">mactel-boot</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> - экспериментальная утилита <i>bless</i> для Linux. Если это не сработает, используйте <i>bless</i> из OSX, чтобы установить rEFInd, как загрузочную запись по умолчанию:
</p>
<pre># bless --setBoot --folder <i>esp</i>/EFI/refind --file <i>esp</i>/EFI/refind/refind_x64.efi
</pre>
<h3>
<span id=".D0.9F.D1.83.D1.81.D1.82.D0.BE.D0.B9_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD_.D0.BC.D0.B5.D0.BD.D1.8E_rEFInd"></span><span class="mw-headline" id="Пустой_экран_меню_rEFInd">Пустой экран меню rEFInd</span>
</h3>
<p>Если Ваша папка <code>drivers_x64</code> содержит несколько драйверов файловых систем (см. <a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%D0%B0_rEFInd">#Установка загрузчика rEFInd</a> для разъяснений), это может привести к неправильному функционированию rEFInd из-за бага драйвера файловой системы, где отображается только пустой экран с логотипом rEFInd (для кастомных тем это будет фоновое изображение). Чтобы исправить это, уберите все драйвера, <b>кроме того, что отвечает за файловую систему с ядром</b>.
</p>
<p>Другой потенциальный пустой экран случается при двойной загрузке с Windows, когда rEFInd не может просканировать ESP на других дисках. Чтобы исправить это, используйте <i>blkid</i>, чтобы определить разделы Windows, и добавьте <a href="../ru/Persistent_block_device_naming.html#by-partuuid" title="Persistent block device naming (Русский)">PARTUUID</a> каждого раздела Windows, как отделенную запятой запись в переменную <code>dont_scan_volumes</code> в <code>refind.conf</code>. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># blkid</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/nvme0n1p1: LABEL="SYSTEM" UUID="4CE7-C215" BLOCK_SIZE="512" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="<b>13aa9955-1234-5678-9098-006c334b5088</b>"
/dev/nvme0n1p5: LABEL="Windows RE Tools" BLOCK_SIZE="512" UUID="08C4E6C5C4E6B45A" TYPE="ntfs" PARTLABEL="Basic data partition" PARTUUID="<b>4eced110-0987-6543-2123-b0ab8576869b</b>"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/EFI/refind/refind.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
dont_scan_volumes 13aa9955-1234-5678-9098-006c334b5088,4eced110-0987-6543-2123-b0ab8576869b
...</pre>
<h3>
<span id=".D0.9D.D0.B5_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D1.82.D1.81.D1.8F_.D0.BB.D0.BE.D0.B3.D0.BE.D1.82.D0.B8.D0.BF_.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D0.B0"></span><span class="mw-headline" id="Не_используется_логотип_дистрибутива">Не используется логотип дистрибутива</span>
</h3>
<p>Если Вы видите <a href="https://en.wikipedia.org/wiki/ru:Tux" class="extiw" title="wikipedia:ru:Tux">Такса</a> вместо логотипа Arch, возможно, Вас затронула <a rel="nofollow" class="external text" href="https://sourceforge.net/p/refind/discussion/general/thread/767ddd52/">эта проблема</a> (тип вашего корневого раздела - <i>Linux x86-64 root (/)</i> вместо <i>Linux filesystem</i>).
</p>
<p>Вы можете исправить это, изменив тип раздела.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/">The rEFInd Boot Manager</a> от Roderick W. Smith.</li>
<li><a href="https://en.wikipedia.org/wiki/rEFInd" class="extiw" title="wikipedia:rEFInd">Wikipedia:rEFInd</a></li>
<li><code>/usr/share/refind/docs/README.txt</code></li>
<li><a rel="nofollow" class="external text" href="https://sourceforge.net/p/refind/discussion/">Обсуждение rEFInd на Sourceforge</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Boot_loaders.html" title="Category:Boot loaders (Русский)">Boot loaders (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=REFInd_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=800343">https://wiki.archlinux.org/index.php?title=REFInd_(Русский)&amp;oldid=800343</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 February 2024, at 15:53.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
