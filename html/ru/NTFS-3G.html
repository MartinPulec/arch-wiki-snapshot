<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NTFS-3G (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NTFS-3G_Русский rootpage-NTFS-3G_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Установка</span>
			</div>
		</a>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Ручное_монтирование" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%BE%D0%B5_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Ручное монтирование</span>
			</div>
		</a>
		
		<ul id="toc-Ручное_монтирование-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Форматирование" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Форматирование</span>
			</div>
		</a>
		
		<ul id="toc-Форматирование-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Настройка" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Настройка</span>
			</div>
		</a>
		
			<button aria-controls="toc-Настройка-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Настройка subsection</span>
			</button>
		
		<ul id="toc-Настройка-sublist" class="vector-toc-list">
			<li id="toc-Настройки_по_умолчанию" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Настройки по умолчанию</span>
				</div>
			</a>
			
			<ul id="toc-Настройки_по_умолчанию-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Linux-совместимые_права_доступа" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Linux-%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D1%8B%D0%B5_%D0%BF%D1%80%D0%B0%D0%B2%D0%B0_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Linux-совместимые права доступа</span>
				</div>
			</a>
			
			<ul id="toc-Linux-совместимые_права_доступа-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Разрешение_доступа_пользователю/группе" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8E/%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Разрешение доступа пользователю/группе</span>
				</div>
			</a>
			
			<ul id="toc-Разрешение_доступа_пользователю/группе-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Основные_параметры_NTFS-3G" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_NTFS-3G">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Основные параметры NTFS-3G</span>
				</div>
			</a>
			
			<ul id="toc-Основные_параметры_NTFS-3G-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Монтирование_разделов_от_имени_обычного_пользователя" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_%D0%BE%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Монтирование разделов от имени обычного пользователя</span>
				</div>
			</a>
			
			<ul id="toc-Монтирование_разделов_от_имени_обычного_пользователя-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Изменение_размера_раздела_NTFS" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B0_NTFS">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Изменение размера раздела NTFS</span>
			</div>
		</a>
		
		<ul id="toc-Изменение_размера_раздела_NTFS-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Решение проблем</span>
			</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Unsupported_reparse_point" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unsupported_reparse_point">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Unsupported reparse point</span>
				</div>
			</a>
			
			<ul id="toc-Unsupported_reparse_point-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Повреждённая_файловая_система_NTFS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B2%D1%80%D0%B5%D0%B6%D0%B4%D1%91%D0%BD%D0%BD%D0%B0%D1%8F_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_NTFS">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Повреждённая файловая система NTFS</span>
				</div>
			</a>
			
			<ul id="toc-Повреждённая_файловая_система_NTFS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Искажаются_китайские_имена_файлов_на_Windows-разделе" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BA%D0%B0%D0%B6%D0%B0%D1%8E%D1%82%D1%81%D1%8F_%D0%BA%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D0%BA%D0%B8%D0%B5_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B0_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%BD%D0%B0_Windows-%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Искажаются китайские имена файлов на Windows-разделе</span>
				</div>
			</a>
			
			<ul id="toc-Искажаются_китайские_имена_файлов_на_Windows-разделе-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Metadata_kept_in_Windows_cache,_refused_to_mount" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Metadata_kept_in_Windows_cache,_refused_to_mount">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>Metadata kept in Windows cache, refused to mount</span>
				</div>
			</a>
			
			<ul id="toc-Metadata_kept_in_Windows_cache,_refused_to_mount-sublist" class="vector-toc-list">
				<li id="toc-Удаление_метаданных_спящего_режима_Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D1%81%D0%BF%D1%8F%D1%89%D0%B5%D0%B3%D0%BE_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D0%B0_Windows">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.1</span>
					<span>Удаление метаданных спящего режима Windows</span>
				</div>
			</a>
			
			<ul id="toc-Удаление_метаданных_спящего_режима_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Отказ_в_монтировании" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%B0%D0%B7_%D0%B2_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>Отказ в монтировании</span>
				</div>
			</a>
			
			<ul id="toc-Отказ_в_монтировании-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отказ_в_монтировании_в_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%B0%D0%B7_%D0%B2_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_%D0%B2_Windows">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Отказ в монтировании в Windows</span>
				</div>
			</a>
			
			<ul id="toc-Отказ_в_монтировании_в_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Смотрите также</span>
			</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NTFS-3G (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Schreibzugriff_mit_ntfs-3g" title="Schreibzugriff mit ntfs-3g – Deutsch" lang="de" hreflang="de" data-title="Schreibzugriff mit ntfs-3g" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/NTFS-3G.html" title="NTFS-3G – English" lang="en" hreflang="en" data-title="NTFS-3G" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NTFS-3G" title="NTFS-3G – 日本語" lang="ja" hreflang="ja" data-title="NTFS-3G" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NTFS-3G" title="NTFS-3G – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="NTFS-3G" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/NTFS-3G.html" title="NTFS-3G">NTFS-3G</a>. Дата последней синхронизации: 8 октября 2024. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=NTFS-3G&amp;diff=0&amp;oldid=815064">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/File_systems.html" class="mw-redirect" title="Файловые системы">Файловые системы</a></li>
<li><a href="../ru/NTFS.html" title="NTFS (Русский)">NTFS (Русский)</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/tuxera/ntfs-3g">NTFS-3G</a> — свободная реализация файловой системы <a href="https://en.wikipedia.org/wiki/ru:NTFS" class="extiw" title="wikipedia:ru:NTFS">NTFS</a> с поддержкой чтения <i>и</i> записи данных. Для упрощения разработки и обеспечения лучшей переносимости NTFS-3G использует драйвер файловой системы FUSE.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span>.
</p>
<h2>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.BE.D0.B5_.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Ручное_монтирование">Ручное монтирование</span>
</h2>
<p>Вручную примонтировать раздел с NTFS можно двумя способами. Традиционный:
</p>
<pre># mount /dev/<i>раздел-с-NTFS</i> <i>/точка/монтирования</i>
</pre>
<p>При этом тип файловой системы (в данном случае <code>ntfs-3g</code>) явно сообщать необязательно. По умолчанию команда <i>mount</i> будет использовать программу <code>/usr/bin/mount.ntfs</code>, которая является символической ссылкой на <code>/usr/bin/ntfs-3g</code> и появляется после установки пакета ntfs-3g.
</p>
<p>Второй способ — напрямую вызвать <code>ntfs-3g</code>:
</p>
<pre># ntfs-3g /dev/<i>раздел-с-NTFS</i> <i>/точка/монтирования</i>
</pre>
<p>Список доступных опций описан в <span class="plainlinks archwiki-template-man" title="$ man 8 ntfs-3g"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ntfs-3g.8">ntfs-3g(8)</a></span>.
</p>
<h2>
<span id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Форматирование">Форматирование</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Дважды перепроверьте правильность пути устройства.</div>
<pre># mkfs.ntfs -Q -L <i>меткаДиска</i> /dev/sd<i>XY</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Опция <code>-Q</code> ускоряет форматирование, пропуская этапы перезаписи содержимого раздела нулями и проверки поверхности диска.</div>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Настройка">Настройка</span>
</h2>
<p>Можно настроить автоматическое монтирование разделов NTFS или заранее указать параметры монтирования и выполнять его вручную в удобное для вас время. Настройки задаются в файле <a href="../ru/Fstab.html" title="Fstab (Русский)">fstab</a> или с помощью правил <a href="../ru/Udev.html" title="Udev (Русский)">udev</a>.
</p>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></span><span class="mw-headline" id="Настройки_по_умолчанию">Настройки по умолчанию</span>
</h3>
<p>При использовании стандартных настроек разделы с NTFS будут монтироваться при загрузке системы. При использовании этого метода <b>если</b> родительская папка, в которую монтируется раздел, имеет соответствующие <a href="../ru/Users_and_groups.html" class="mw-redirect" title="Пользователи и группы">права доступа</a> (например, /run/media/&lt;пользователь&gt;/), <b>то</b> пользователь или группа смогут выполнять чтение и запись в этом разделе.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># &lt;file system&gt;		&lt;dir&gt;		&lt;type&gt;	&lt;options&gt;	&lt;dump&gt;	&lt;pass&gt;
/dev/<i>NTFS-part</i>		/mnt/windows	ntfs-3g	defaults	0	0

</pre>
<h3>
<span id="Linux-.D1.81.D0.BE.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B8.D0.BC.D1.8B.D0.B5_.D0.BF.D1.80.D0.B0.D0.B2.D0.B0_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0"></span><span class="mw-headline" id="Linux-совместимые_права_доступа">Linux-совместимые права доступа</span>
</h3>
<p>Как правило, права доступа в Linux устанавливаются как 755 для каталогов и 644 для файлов. Если вы постоянно используете NTFS-раздел, рекомендуется использовать эти права доступа и на нём. Следующий пример показывает, как можно присвоить такие права разделу для работы с ним из-под непривилегированного пользователя:
</p>
<pre># Монтировать системный раздел Windows с Linux-совместимыми правами доступа,
# то есть 755 для каталогов (dmask=022) и 644 для файлов (fmask=133)
/dev/<i>NTFS-раздел</i>  /mnt/windows  ntfs-3g uid=<i>userid</i>,gid=<i>groupid</i>,dmask=022,fmask=133 0 0
</pre>
<p>Если права доступа Windows тоже имеют значение для вас, можно использовать команду <span class="plainlinks archwiki-template-man" title="$ man 8 ntfsusermap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ntfsusermap.8">ntfsusermap(8)</a></span> для сопоставления пользователей Windows с пользователями Linux. ntfs-3g обработает перевод этих разрешений.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Вы можете захотеть сопоставить несколько NTFS SID с одним и тем же Linux UID, например, при наличии <a href="../en/Syncthing.html" title="Syncthing">Syncthing</a> <code>SyncthingServiceAcct</code>. Это тривиально при переходе с Windows на Linux, но при переходе с Linux на Windows вы наверняка захотите, чтобы файлы, созданные через вашего Linux-пользователя, принадлежали вашему Windows-пользователю, а не какой-нибудь служебной учётной записи.
<p>Для начала вам нужно знать SID нужного Windows-пользователя. Вы можете определить его либо с помощью мастера <code>ntfsusermap</code>, либо выполнив <code>wmic useraccount get</code> в Windows, чтобы получить точный список пользователей. Затем пересортируйте файл <code>UserMapping</code> таким образом, чтобы SID нужного Windows-пользователя находился над SID служебной учётной записи.
</p>
</div>
<h3>
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8E.2F.D0.B3.D1.80.D1.83.D0.BF.D0.BF.D0.B5"></span><span class="mw-headline" id="Разрешение_доступа_пользователю/группе">Разрешение доступа пользователю/группе</span>
</h3>
<p>Через файл <code>/etc/fstab</code> можно передать драйверу ntfs-3g и другие параметры монтирования, например разрешить доступ на чтение данных определённому пользователю или группе. Чтобы дать доступ к разделу пользователям, входящим в группу <code><i>groupid</i></code> (можно указать как id, так и имя группы), используйте следующие параметры:
</p>
<pre>/dev/<i>NTFS-раздел</i>  /mnt/windows  ntfs-3g   gid=<i>groupid</i>,umask=0022    0       0
</pre>
<p>В этом случае запись данных на раздел будет возможна только для пользователя root. Чтобы разрешить запись непривилегированному пользователю, нужно указать, кому из них следует дать такой доступ. Для этого используйте параметр <code>uid</code> (в качестве значения можно указать как id, так и имя пользователя):
</p>
<pre>/dev/<i>NTFS-раздел</i>  /mnt/windows  ntfs-3g   uid=<i>userid</i>,gid=<i>groupid</i>,umask=0022    0       0
</pre>
<p>Если у вас однопользовательская система, для большего удобства можно дать себе полный доступ к разделу:
</p>
<pre>/dev/<i>NTFS-раздел</i>  /mnt/windows  ntfs-3g   uid=<i>userid</i>,gid=<i>groupid</i>    0       0
</pre>
<h3>
<span id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D1.8B.D0.B5_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_NTFS-3G"></span><span class="mw-headline" id="Основные_параметры_NTFS-3G">Основные параметры NTFS-3G</span>
</h3>
<p>В большинстве случаев для работы должно хватить параметров, описанных выше. Далее описываются параметры, общие для многих файловых систем Linux. Полный список доступных параметров можно посмотреть в <span class="plainlinks archwiki-template-man" title="$ man 8 ntfs-3g"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ntfs-3g.8#OPTIONS">ntfs-3g(8) § OPTIONS</a></span>.
</p>
<dl>
<dt><a href="../ru/Umask.html" title="Umask (Русский)">umask</a></dt>
<dd>umask — команда командного интерпретатора, позволяющая автоматически присваивать нужные права доступа при создании новых файлов. Стандартные значения umask в Arch Linux для root и обычных пользователей — 0022. При этом новые каталоги получают права 755, а новые файлы — 644. Дополнительную информацию о umask можно найти <a rel="nofollow" class="external text" href="https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html">здесь</a>.</dd>
<dt>fmask и dmask</dt>
<dd>Аналогичны параметру <code>umask</code>, но задают права доступа к файлам и каталогам отдельно.</dd>
<dt>noauto</dt>
<dd>Если установлен параметр <code>noauto</code>, соответствующий раздел не будет монтироваться автоматически при загрузке системы.</dd>
<dt>uid</dt>
<dd>Идентификационный номер пользователя. Позволяет дать полный доступ к разделу определённому пользователю. Идентификатор пользователя можно определить с помощью команды <code>id</code>.</dd>
</dl>
<p>Следующая опция специфична для ntfs-3g:
</p>
<dl>
<dt>windows_names</dt>
<dd>запрещает создание файлов, каталогов и расширенных атрибутов с именами, которые запрещены в windows.</dd>
</dl>
<h3>
<span id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2_.D0.BE.D1.82_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.BE.D0.B1.D1.8B.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"></span><span class="mw-headline" id="Монтирование_разделов_от_имени_обычного_пользователя">Монтирование разделов от имени обычного пользователя</span>
</h3>
<p>По умолчанию <i>ntfs-3g</i> требует права суперпользователя для монтирования файловой системы, если он является <a href="../ru/Device_file.html#%D0%91%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Device file (Русский)">блочным устройством</a>, даже если добавить параметр <code>user</code> в <code>/etc/fstab</code> (с причинами можно ознакомиться в <a rel="nofollow" class="external text" href="https://github.com/tuxera/ntfs-3g/wiki/NTFS-3G-FAQ">ntfs-3g-faq</a>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span> не имеет встроенной поддержки FUSE. Пересоберите пакет с помощью <a href="../ru/Arch_build_system.html" title="Arch build system (Русский)">ABS</a> для включения поддержки FUSE.
<ul>
<li>Полное объяснение заключается в том, что "user" и "users" работают через монтирование setuid, не сбрасывая привилегии setuid, чтобы блочное устройство можно было использовать без root. Однако в ntfs-3g есть жёстко закодированное ограничение, которое не позволяет использовать setuid, если используется внешняя libfuse.</li>
<li>Нет никаких веских технических причин не разрешать setuid для внешнего FUSE, кроме недоверия к библиотеке. <a rel="nofollow" class="external text" href="https://github.com/AOSC-Dev/ntfs-3g/commit/c918fb79f9f340bce1a19dacf4b720d19922450d">Этот патч</a> устраняет указанное ограничение.</li>
</ul>
</li>
<li>Похоже, есть проблема с правами на размонтирование, поэтому вам всё равно понадобятся права root для размонтирования. Вы также можете использовать <code>fusermount -u <i>/точка/монтирования</i></code> для размонтирования файловой системы без прав root. Кроме того, если вы используете опцию <code><i>users</i></code> (множественное число) в <code>/etc/fstab</code> вместо опции <code>user</code>, вы сможете монтировать и размонтировать файловую систему с помощью команд <code>mount</code> и <code>umount</code>.</li>
</ul>
</div>
<p>Для неблочных файлов, таких как обычные образы дисков, <i>ntfs-3g</i> в командной строке должен работать из коробки с правами обычного пользователя, поскольку базовые вызовы FUSE перенаправляются на setuid-root <i>fusermount</i>, когда прямое взаимодействие с ядром недоступно.
</p>
<h2>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.B0_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0_NTFS"></span><span class="mw-headline" id="Изменение_размера_раздела_NTFS">Изменение размера раздела NTFS</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Перед редактированием разделов обязательно делайте резервную копию важных данных!</div>
<p>Некоторые пользователи с установленной системой Windows хотели бы оставить её при установке Arch Linux. Часто для того, чтобы освободить место на диске под установку Arch Linux, возникает необходимость изменить размер системного раздела, на котором установлена Windows. Эту задачу можно выполнить одним из двух способов:
</p>
<ol>
<li>Воспользоваться встроенным в Windows средством управления разделами. Для его запуска нажмите Win+R, введите в появившееся окно <i>diskmgmt.msc</i> и нажмите Enter. Кликните по разделу, размер которого нужно уменьшить, правой кнопкой мыши, и выберите в меню пункт <i>Сжать том</i>. Укажите количество места, которое нужно освободить, и нажмите <i>OK</i>. После завершения операции за изменённым разделом появится свободное место, в котором можно будет создать необходимые разделы в процессе установки системы.</li>
<li>Воспользоваться сторонним LiveCD. Для этого скачайте ISO-образ любого дистрибутива, в состав которого входят <i>ntfs-3g</i> и <i>gparted</i>, запишите его на компакт-диск (например, с помощью <a rel="nofollow" class="external text" href="http://infrarecorder.org/">InfraRecorder</a>) или USB-накопитель (смотрите статью <a href="../ru/USB_flash_installation_medium.html" class="mw-redirect" title="Установочный образ на USB-накопителе">Установочный образ на USB-накопителе</a>), после чего загрузитесь с подготовленного носителя.</li>
</ol>
<p>Есть много образов, подходящих для этой задачи. Этот список не является исчерпывающим, но с него можно начать:
</p>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/ru:GParted" class="extiw" title="wikipedia:ru:GParted">GParted</a></b> — Небольшой загрузочный дистрибутив GNU/Linux для компьютеров на базе x86. Он позволяет вам использовать все функции последних версий приложения GParted. Не включает дополнительные пакеты, которые может включать System Rescue CD, и схемы шифрования диска могут не поддерживаться.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gparted.sourceforge.net/">https://gparted.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gparted">gparted</a></span>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/ru:Parted_Magic" class="extiw" title="wikipedia:ru:Parted Magic">Parted Magic</a></b> — Очень хорошее комплексное решение для управления жёсткими дисками. С помощью редактора разделов вы можете изменять размер, копировать и перемещать разделы. Вы можете увеличить или уменьшить размер диска C:. Можно освободить место для новых операционных систем. Можно попытаться восстановить данные с потерянных разделов.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://partedmagic.com/">https://partedmagic.com/</a> ||</dd></dl>
<p>Обратите внимание, что важными программами для изменения размера разделов NTFS являются ntfs-3g и инструменты типа (G)parted или fdisk, который входит в состав пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>. Если вы не являетесь «продвинутым» пользователем, рекомендуется использовать инструмент вроде GParted для выполнения любых операций по изменению размера разделов, чтобы минимизировать вероятность потери данных из-за ошибки пользователя.
</p>
<p>Для изменения размера NTFS-раздела из-под существующей системы Arch Linux установите пакеты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gparted">gparted</a></span> и запустите программу <i>gparted</i>. Если в системе отсутствует графический пользовательский интерфейс, можно использовать программу <i>parted</i>, входящую в состав пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=parted">parted</a></span>. Собственно изменение размера файловой системы выполняется программой <span class="plainlinks archwiki-template-man" title="$ man 8 ntfsresize"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ntfsresize.8">ntfsresize(8)</a></span>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3><span class="mw-headline" id="Unsupported_reparse_point">Unsupported reparse point</span></h3>
<p>При монтировании файловой системы NTFS в Windows 10 и чтении файлов или каталогов вы можете
</p>
<ol>
<li>увидеть неработающие символические ссылки на 'unsupported reparse point' <i>или</i>
</li>
<li>увидеть сообщение об ошибке <code>cannot access <i>какой-то-файл</i>: Input/output error</code> (в этом случае вы увидите сообщение <code>Could not load plugin /usr/lib64/ntfs-3g/ntfs-plugin-80000017.so: Success</code> в <a href="../ru/Systemd/Journal.html" title="Systemd (Русский)/Journal (Русский)">журнале</a>).</li>
</ol>
<p>Причиной этого являются <a href="https://en.wikipedia.org/wiki/NTFS_reparse_point" class="extiw" title="wikipedia:NTFS reparse point">NTFS reparse points</a>, которые Microsoft использует для расширения файловой системы. NTFS-3G не поддерживает некоторые их типы по умолчанию. Можно использовать плагины NTFS-3G для обеспечения совместимости с некоторыми reparse points:
</p>
<ul>
<li>Сжатие системы (также известное как «Compact OS»): обеспечивает более сильное, оптимизированное для исполняемых файлов преобразование, чем старый LZ77 в NTFS. Плагин <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntfs-3g-system-compression-git/">ntfs-3g-system-compression-git</a></span><sup><small>AUR</small></sup> обеспечивает возможность только чтения, а если нужна запись, то отключите сжатие через Windows командой <code>compact.exe /CompactOS:never</code>.</li>
<li>Дедупликация файлов: это функция Windows Server 2012, обеспечивающая оффлайн-дедупликацию на уровне блоков. Ещё нет пакета в AUR.</li>
<li>Файлы OneDrive: Файлы OneDrive хранятся в Windows в виде специального тома. Плагин <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntfs-3g-onedrive-bin/">ntfs-3g-onedrive-bin</a></span><sup><small>AUR</small></sup> предоставляет доступ на чтение и запись <i>только</i> для файлов, помеченных как «доступные локально».</li>
</ul>
<p>Дополнительные сведения есть на <a rel="nofollow" class="external text" href="https://github.com/tuxera/ntfs-3g/wiki/Junctions-Points,-Symbolic-Links-and-Reparse-Points#other-types-of-reparse-points">этой странице</a>, а ссылки на скачивание доступны в <a rel="nofollow" class="external text" href="https://web.archive.org/web/20210709190909/https://jp-andre.pagesperso-orange.fr/advanced-ntfs-3g.html">archive.org</a>.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B2.D1.80.D0.B5.D0.B6.D0.B4.D1.91.D0.BD.D0.BD.D0.B0.D1.8F_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.B0.D1.8F_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_NTFS"></span><span class="mw-headline" id="Повреждённая_файловая_система_NTFS">Повреждённая файловая система NTFS</span>
</h3>
<p>Если в файловой системе NTFS есть ошибки, ntfs-3g смонтирует её в режиме только для чтения. Для штатного исправления файловой системы NTFS загрузите Windows и запустите <i>chkdsk</i>.
</p>
<p>Можно использовать команду <i>ntfsfix</i>, идущую в составе пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span>, однако она умеет исправлять только некоторые виды ошибок. Там, где она не справляется, <i>chkdsk</i> обычно отрабатывает успешно.
</p>
<p>Для исправления файловой системы NTFS раздел должен быть отмонтирован. Пример ремонта NTFS-раздела <code>/dev/sda2</code>:
</p>
<pre># umount /dev/sda2
# ntfsfix /dev/sda2
Mounting volume... OK
Processing of $MFT and $MFTMirr completed successfully.
NTFS volume version is 3.1.
NTFS partition /dev/sda2 was processed successfully.
# mount /dev/sda2
</pre>
<p>Если всё прошло без ошибок, раздел будет доступен для записи.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BA.D0.B0.D0.B6.D0.B0.D1.8E.D1.82.D1.81.D1.8F_.D0.BA.D0.B8.D1.82.D0.B0.D0.B9.D1.81.D0.BA.D0.B8.D0.B5_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.BD.D0.B0_Windows-.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B5"></span><span class="mw-headline" id="Искажаются_китайские_имена_файлов_на_Windows-разделе">Искажаются китайские имена файлов на Windows-разделе</span>
</h3>
<p>Смотрите <a href="../ru/Character_encoding.html#%D0%9D%D0%B5%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%B8_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8" class="mw-redirect" title="Кодировка">Кодировка#Неправильная кодировка при монтировании</a>.
</p>
<h3>
<span id="Metadata_kept_in_Windows_cache.2C_refused_to_mount"></span><span class="mw-headline" id="Metadata_kept_in_Windows_cache,_refused_to_mount">Metadata kept in Windows cache, refused to mount</span>
</h3>
<p>Если вместе с Arch Linux на компьютере используется Windows 8 или новее, при монтировании системного раздела может возникнуть следующая ошибка:
</p>
<pre>The disk contains an unclean file system (0, 0).
Metadata kept in Windows cache, refused to mount.
Failed to mount '/dev/sdc1': Operation not permitted
The NTFS partition is in an unsafe state. Please resume and shutdown
Windows fully (no hibernation or fast restarting), or mount the volume
read-only with the 'ro' mount option.
</pre>
<p>Проблема вызвана новой функцией Windows 8 под названием «быстрый запуск» («fast startup»). Когда эта функция включена, часть метаданных файловых систем всех используемых разделов при загрузке восстанавливается к тому состоянию, в котором они находились при завершении работы Windows. В результате изменения содержимого разделов, совершённые из Linux, могут быть утеряны. Это может произойти с любым разделом жёсткого диска, когда работа Windows завершается выбором пункта «Завершение работы» или «Гибернация». Однако завершение работы Windows с помощью пункта «Перезагрузка» не должно вызывать таких проблем.
</p>
<p>Чтобы получить возможность беспроблемно записывать данные на раздел из других операционных систем, убедитесь, что функция «быстрый запуск» отключена. Для этого загрузите Windows и выполните следующую команду в командной строке, запущенной от имени администратора:
</p>
<pre>powercfg /h off
</pre>
<p>Чтобы проверить текущее значение параметра, зайдите в <i>Панель управления -&gt; Оборудование и звук -&gt; Электропитание -&gt; Действия кнопок питания</i>. Флажок <i>Включить быстрый запуск</i> должен быть снят либо отсутствовать.
</p>
<h4>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B5.D1.82.D0.B0.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D1.81.D0.BF.D1.8F.D1.89.D0.B5.D0.B3.D0.BE_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B0_Windows"></span><span class="mw-headline" id="Удаление_метаданных_спящего_режима_Windows">Удаление метаданных спящего режима Windows</span>
</h4>
<p>В качестве альтернативы вышеописанному методу чистого выключения существует способ полного уничтожения метаданных NTFS, сохранённых после спящего режима. Этот способ применим только в том случае, если вы не можете или не хотите загрузиться в Windows и полностью выключить её. Для этого нужно запустить <i>ntfsfix</i>, входящий в состав <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span>.
</p>
<pre># ntfsfix /dev/<i>раздел_NTFS</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Имейте в виду, что этот метод означает, что сохранённый сеанс Windows будет полностью потерян. Используйте этот вариант на свой страх и риск.</div>
<h3>
<span id=".D0.9E.D1.82.D0.BA.D0.B0.D0.B7_.D0.B2_.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8"></span><span class="mw-headline" id="Отказ_в_монтировании">Отказ в монтировании</span>
</h3>
<p>Если, даже следуя этому руководству, вам не удаётся примонтировать раздел NTFS, попробуйте отредактировать файл <code>/etc/fstab</code>, указав <a href="../ru/Persistent_block_device_naming.html#by-uuid" title="Persistent block device naming (Русский)">UUID</a> вместо имён устройств для всех разделов NTFS. С примером можно ознакомиться в разделе <a href="../ru/Fstab.html#%D0%9F%D0%BE_UUID" title="Fstab (Русский)">fstab (Русский)#По UUID</a>.
</p>
<h3>
<span id=".D0.9E.D1.82.D0.BA.D0.B0.D0.B7_.D0.B2_.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8_.D0.B2_Windows"></span><span class="mw-headline" id="Отказ_в_монтировании_в_Windows">Отказ в монтировании в Windows</span>
</h3>
<p>Windows не распознает раздел NTFS, для которого не задан соответствующий тип раздела. Частая ошибка при создании раздела NTFS для работы с Windows — забыть установить тип раздела как NTFS. Используйте <a href="../ru/Fdisk.html" title="Fdisk (Русский)">fdisk</a> или один из <a href="../ru/Partitioning.html#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%82%D0%BA%D0%B8" title="Partitioning (Русский)">инструментов разметки</a>, чтобы исправить тип раздела на правильный.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul><li><span class="plainlinks archwiki-template-man" title="$ man 8 ntfs-3g"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ntfs-3g.8">ntfs-3g(8)</a></span></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:FUSE.html" title="Category:FUSE (Русский)">FUSE (Русский)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NTFS-3G_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=817989">https://wiki.archlinux.org/index.php?title=NTFS-3G_(Русский)&amp;oldid=817989</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 8 October 2024, at 13:05.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
