<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>CUPS (Русский)/Printer sharing (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CUPS_Русский_Printer_sharing_Русский rootpage-CUPS_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Создание_класса_для_нескольких_принтеров" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0_%D0%B4%D0%BB%D1%8F_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%B8%D1%85_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BE%D0%B2">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Создание класса для нескольких принтеров</div>
		</a>
		
		<ul id="toc-Создание_класса_для_нескольких_принтеров-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Внутри_систем_GNU/Linux" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC_GNU/Linux">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Внутри систем GNU/Linux</div>
		</a>
		
			<button aria-controls="toc-Внутри_систем_GNU/Linux-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Внутри систем GNU/Linux subsection</span>
			</button>
		
		<ul id="toc-Внутри_систем_GNU/Linux-sublist" class="vector-toc-list">
			<li id="toc-Использование_веб-интерфейса" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D0%B1-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Использование веб-интерфейса</div>
			</a>
			
			<ul id="toc-Использование_веб-интерфейса-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ручная_настройка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Ручная настройка</div>
			</a>
			
			<ul id="toc-Ручная_настройка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Включение_обнаружения" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Включение обнаружения</div>
			</a>
			
			<ul id="toc-Включение_обнаружения-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Между_GNU/Linux_и_Windows" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9C%D0%B5%D0%B6%D0%B4%D1%83_GNU/Linux_%D0%B8_Windows">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Между GNU/Linux и Windows</div>
		</a>
		
			<button aria-controls="toc-Между_GNU/Linux_и_Windows-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Между GNU/Linux и Windows subsection</span>
			</button>
		
		<ul id="toc-Между_GNU/Linux_и_Windows-sublist" class="vector-toc-list">
			<li id="toc-Сервер_Linux_-_клиент_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80_Linux_-_%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Сервер Linux - клиент Windows</div>
			</a>
			
			<ul id="toc-Сервер_Linux_-_клиент_Windows-sublist" class="vector-toc-list">
				<li id="toc-Общий_доступ_с_помощью_Bonjour" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_Bonjour">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Общий доступ с помощью Bonjour</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_Bonjour-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Общий_доступ_с_помощью_IPP" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_IPP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>Общий доступ с помощью IPP</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_IPP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Общий_доступ_с_помощью_Samba" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_Samba">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>Общий доступ с помощью Samba</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_Samba-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Сервер_Windows_-_клиент_Linux" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80_Windows_-_%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82_Linux">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Сервер Windows - клиент Linux</div>
			</a>
			
			<ul id="toc-Сервер_Windows_-_клиент_Linux-sublist" class="vector-toc-list">
				<li id="toc-Общий_доступ_с_помощью_LPD" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_LPD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Общий доступ с помощью LPD</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_LPD-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Общий_доступ_с_помощью_IPP_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_IPP_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Общий доступ с помощью IPP</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_IPP_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Общий_доступ_с_помощью_Samba_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_Samba_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3</span>Общий доступ с помощью Samba</div>
			</a>
			
			<ul id="toc-Общий_доступ_с_помощью_Samba_2-sublist" class="vector-toc-list">
				<li id="toc-Настройка_через_веб-интерфейс" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D0%B2%D0%B5%D0%B1-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3.1</span>Настройка через веб-интерфейс</div>
			</a>
			
			<ul id="toc-Настройка_через_веб-интерфейс-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ручная_настройка_2" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3.2</span>Ручная настройка</div>
			</a>
			
			<ul id="toc-Ручная_настройка_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Поиск_URI_для_серверов_печати_Windows" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B8%D1%81%D0%BA_URI_%D0%B4%D0%BB%D1%8F_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%BE%D0%B2_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B8_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3.3</span>Поиск URI для серверов печати Windows</div>
			</a>
			
			<ul id="toc-Поиск_URI_для_серверов_печати_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Удаленное_управление" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Удаленное управление</div>
		</a>
		
			<button aria-controls="toc-Удаленное_управление-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Удаленное управление subsection</span>
			</button>
		
		<ul id="toc-Удаленное_управление-sublist" class="vector-toc-list">
			<li id="toc-Kerberos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kerberos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Kerberos</div>
			</a>
			
			<ul id="toc-Kerberos-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Решение_проблем" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Решение проблем</div>
		</a>
		
			<button aria-controls="toc-Решение_проблем-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Решение проблем subsection</span>
			</button>
		
		<ul id="toc-Решение_проблем-sublist" class="vector-toc-list">
			<li id="toc-Не_удается_отправить_на_печать_из_приложений_GTK" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D1%8C_%D0%BD%D0%B0_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D1%8C_%D0%B8%D0%B7_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9_GTK">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Не удается отправить на печать из приложений GTK</div>
			</a>
			
			<ul id="toc-Не_удается_отправить_на_печать_из_приложений_GTK-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ошибки_разрешений_в_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%88%D0%B8%D0%B1%D0%BA%D0%B8_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9_%D0%B2_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Ошибки разрешений в Windows</div>
			</a>
			
			<ul id="toc-Ошибки_разрешений_в_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Другие_операционные_системы" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Другие операционные системы</div>
		</a>
		
		<ul id="toc-Другие_операционные_системы-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">CUPS (Русский)/Printer sharing (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/CUPS/Printer_sharing.html" title="CUPS/Printer sharing – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/CUPS/%E3%83%97%E3%83%AA%E3%83%B3%E3%82%BF%E3%83%BC%E5%85%B1%E6%9C%89" title="CUPS/プリンター共有 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../ru/CUPS.html" title="CUPS (Русский)">CUPS (Русский)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../../en/CUPS/Printer_sharing.html" title="CUPS/Printer sharing">CUPS/Printer sharing</a>. Дата последней синхронизации: 13 июля 2018. Вы можете <a href="../../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=CUPS/Printer_sharing&amp;diff=0&amp;oldid=529391">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Ссылки по теме</p>
<ul>
<li><a href="../../ru/Samba.html" title="Samba (Русский)">Samba (Русский)</a></li>
<li><a href="../../ru/CUPS.html" title="CUPS (Русский)">CUPS (Русский)</a></li>
</ul>
</div>
<p>Эта статья содержит инструкции по совместному использованию принтеров между системами, будь то между двумя системами GNU/Linux или между системой GNU/Linux и Microsoft Windows.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BB.D0.B0.D1.81.D1.81.D0.B0_.D0.B4.D0.BB.D1.8F_.D0.BD.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.B8.D1.85_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.BE.D0.B2"></span><span class="mw-headline" id="Создание_класса_для_нескольких_принтеров">Создание класса для нескольких принтеров</span>
</h2>
<p>'Класс' в CUPS имеет значение группы. Когда у вас есть несколько принтеров, подключенных к одному серверу CUPS, вы можете захотеть их сбалансировать (задания на печать автоматически помещаются в очередь для разных принтеров). Это также дает преимущество в том, что пользователи на удаленной машине работают с одним 'принтером'. Что особенно полезно, когда один принтер вышел из строя, вы просто исключаете его из класса, но для конечных пользователей ничего не изменится - печать заданий, поставленных на другой принтер сервером CUPS, продолжает обрабатываться. Создание и управление классами можно выполнять из веб-интерфейса CUPS.
</p>
<h2>
<span id=".D0.92.D0.BD.D1.83.D1.82.D1.80.D0.B8_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC_GNU.2FLinux"></span><span class="mw-headline" id="Внутри_систем_GNU/Linux">Внутри систем GNU/Linux</span>
</h2>
<p>Сервер можно настраивать с помощью веб-интерфейса или путем ручного редактирования файла <code>/etc/cups/cupsd.conf</code>.
Смотрите статью <a href="../../ru/CUPS.html" title="CUPS (Русский)">CUPS (Русский)</a> для настройки клиента.
</p>
<h3>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B5.D0.B1-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"></span><span class="mw-headline" id="Использование_веб-интерфейса">Использование веб-интерфейса</span>
</h3>
<p>Для доступа к странице администрирования CUPS, откройте в браузере адрес: <a rel="nofollow" class="external free" href="http://localhost:631">http://localhost:631</a>. 
</p>
<p>В верхней части находится вкладка <i>Администрирование</i> - кликните по ней, нажмите на кнопку добавления принтера, при этом будут автоматически определены подключенные принтеры. Если этого не произойдет, отключите принтер и подключите его снова. 
</p>
<p>После создания принтера зайдите в раздел <i>Сервер</i> и установите флажок напротив "Разрешить совместный доступ к принтерам, подключенным к этой системе". После клика по <i>Сохранить</i>, сервер будет перезапущен автоматически. 
</p>
<p>Для более детальной настройки вы можете отредактировать файл <code>/etc/cups/cupsd.conf</code>, нажав кнопку "Редактировать конфигурационный файл". Для получения дополнительной информации смотрите <a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">#Ручная настройка</a>.
</p>
<h3>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Ручная_настройка">Ручная настройка</span>
</h3>
<p>На сервере (тот, который управляет и подсоединён к принтеру) разрешите доступ к серверу, изменив строчки с тэгом Location. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/cups/cupsd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;Location /&gt;
    Order allow,deny
    Allow localhost
    Allow 192.168.0.*
&lt;/Location&gt;
...
</pre>
<p>Также убедитесь, что серверу для адресации доступен IP-адрес клиента:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/cups/cupsd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
Listen &lt;hostname&gt;:631
...
</pre>
<p>Есть другие возможности для настройки, включая автоматические способы, которые детально описаны в <a rel="nofollow" class="external text" href="https://www.cups.org/doc/network.html">Использование сетевых принтеров</a> и <span class="plainlinks archwiki-template-man" title="$ man 5 cupsd.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/cupsd.conf.5">cupsd.conf(5)</a></span>.
</p>
<p>После внесения каких-либо изменений <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Перезапустите">перезапустите</a> службу <code>org.cups.cupsd</code>.
</p>
<p>Если CUPS запускается с помощью активации сокета, создайте <a href="../../ru/Systemd.html#Drop-in_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B" class="mw-redirect" title="Drop-in сниппет">drop-in сниппет</a> для <code>org.cups.cupsd.socket</code>, чтобы активация сокета работала и с удаленными подключениями:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/org.cups.cupsd.socket.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Socket]
ListenStream=631
</pre>
<h3>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Включение_обнаружения">Включение обнаружения</span>
</h3>
<p>Чтобы включить отображение (обнаружение) общего принтера, необходимо установить <a href="../../en/Avahi.html" title="Avahi">Avahi</a> и запустить его на сервере.
Если вам не нужно обнаружения принтера, тогда Avahi не требуется ни на сервере, ни на клиенте.
</p>
<p>Чтобы включить отображение, выберите <i>Показывать общие принтеры, подключенные к этой системе</i> в веб-интерфейсе, или вручную включите Browsing и введите BrowseAddress:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/cups/cupsd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
Browsing On
BrowseAddress 192.168.0.*:631
...
</pre>
<p>затем <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Перезапустите">перезапустите</a> службу <code>org.cups.cupsd</code>.
</p>
<p>Обратите внимание, что "обнаружение" на сервере - другая вещь по сравнению с "обнаружением" на удаленном сетевом хосте. На сервере печати <code>cupsd</code> предоставляет поддержку протокола DNS-SD, который транслируется <code>avahi-daemon</code>. Служба <code>cups-browsed</code> не нужна на сервере печати за исключением, если будет транслироваться старый протокол CUPS'а, или если сервер печати также будет "обнаруживать" другие сетевые принтеры. На удаленном сетевом хосте служба <code>cups-browsed</code>  <i>требуется</i> для "обнаружения" сетевой трансляции служб печати, а также запущенная служба <code>cups-browsed</code> будет автоматически запускать <code>cupsd</code>.
</p>
<p>Служба <code>org.cups.cupsd.service</code> запускается автоматически при подключении USB-принтера, но это может быть не так для других типов подключений. Если <code>cupsd</code> не запущен, тогда <code>avahi-daemon</code> не транслирует службу печати, поэтому в этом 
случае service-файл юнита systemd должен быть изменен при запуске во время загрузки, а затем служба снова должна 
быть "включена/установлена" с новой зависимостью. Чтобы сделать это, <a href="../../ru/Systemd.html#%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Отредактируйте">отредактируйте</a> раздел файла службы <code>[Install]</code>, добавив зависимость <code>WantedBy=default.target</code>, а затем <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Включите">включите</a> и <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" class="mw-redirect" title="Запустите">запустите</a> службу <code>org.cups.cupsd.service</code>.
</p>
<h2>
<span id=".D0.9C.D0.B5.D0.B6.D0.B4.D1.83_GNU.2FLinux_.D0.B8_Windows"></span><span class="mw-headline" id="Между_GNU/Linux_и_Windows">Между GNU/Linux и Windows</span>
</h2>
<h3>
<span id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B5.D1.80_Linux_-_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82_Windows"></span><span class="mw-headline" id="Сервер_Linux_-_клиент_Windows">Сервер Linux - клиент Windows</span>
</h3>
<p>Общий доступ для клиентов Windows может быть достигнут, используя <a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_Bonjour">#Общий доступ с помощью Bonjour</a>, <a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_IPP">#Общий доступ с помощью IPP</a> или <a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_Samba">#Общий доступ с помощью Samba</a>.
</p>
<p>После настройки сервера установите драйвера для принтера на компьютере под управлением Windows. Если принтер сервера CUPS настроен на использование собственных драйверов вместо <code>raw</code> (raw - когда cups просто передает на принтер полученное задание для печати без какой-либо обработки), вы можете просто выбрать общий драйвер postscript для клиента Windows (например, 'HP Color LaserJet 8500 PS' либо 'Xerox DocuTech 135 PS2', либо 'Microsoft PS Class driver').
</p>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_Bonjour"></span><span class="mw-headline" id="Общий_доступ_с_помощью_Bonjour">Общий доступ с помощью Bonjour</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://support.apple.com/kb/dl999">Службы печати Bonjour</a> позволяет клиентам Windows легко подключаться к серверам печати Unix с <a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">включенным обнаружением</a>.
</p>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_IPP"></span><span class="mw-headline" id="Общий_доступ_с_помощью_IPP">Общий доступ с помощью IPP</span>
</h4>
<p><a href="https://en.wikipedia.org/wiki/ru:Internet_Printing_Protocol" class="extiw" title="wikipedia:ru:Internet Printing Protocol">Internet Printing Protocol</a> является широко поддерживаемым стандартом среди операционных систем, который также прост в настройке. Он имеет функцию  переадресации портов, туннелирования и т.д.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Возможно, вам придется добавить Internet Printing Client в Windows (<i>Панель управления &gt; Программы &gt; Включение или отключение компонентов Windows &gt; Службы печати и документов</i>)</div>
<p>Сначала, настройте сервер как описано в разделе <a href="#%D0%92%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC_GNU/Linux">#Внутри систем GNU/Linux</a>.
</p>
<p>На компьютере с Windows, перейдите в <i>Панель управления &gt; Просмотр устройств и принтеров</i> и выберите в контекстном меню 'Добавить принтер'. Если у вас Windows 10, нажмите кнопку "Принтер, который я хочу, не указан". Далее, выберите 'Выбрать общий принтер по имени' и тип расположения принтера:
</p>
<pre>http://<i>hostname</i>:631/printers/<i>printer_name</i>
</pre>
<p>(Где <i>hostname</i> - это имя хоста или IP-адрес сервера GNU/Linux, а <i>printer_name</i> - это имя подключенного принтера. Вы также можете использовать полное доменное имя сервера, если оно есть, но вам может потребоваться установить <code>ServerAlias my_fully_qualified_domain_name</code> в <code>/etc/cups/cupsd.conf</code>, чтобы это заработало).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Диалоговое окно 'Добавить принтер' в Windows предлагает формат <code>http://computername/printers/printername/.printer</code>, который Windows не примет. Вместо этого используйте синтаксис, предложенный выше.</li>
<li>Если вы используете прокси, тщательно проверяйте все использованные прокси <b>исключения</b>. Неправильная настройка здесь может привести к невозможности добавления принтера до следующей перезагрузки, даже если вы отключите прокси-сервер после этого (по крайней мере, в Windows 7).</li>
</ul>
</div>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_Samba"></span><span class="mw-headline" id="Общий_доступ_с_помощью_Samba">Общий доступ с помощью Samba</span>
</h4>
<p><a href="../../ru/Samba.html" title="Samba (Русский)">Samba</a> - реализация протокола обмена файлами Windows и принтерами, даже самых старых. 
</p>
<p>Обратите внимание, что общий доступ с помощью Samba обычно <b>более сложный</b> для настройки и сопровождения.
</p>
<p>Для настройки Samba на сервере Linux, отредактируйте файл <code>/etc/samba/smb.conf</code>, это даст возможность предоставить общий доступ к принтерам. Файл <code>smb.conf</code> может содержать примерно следующее:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/samba/smb.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[global]
workgroup=Heroes
server string=Arch Linux Print Server
security=user

[printers]
    comment=All Printers
    path=/var/spool/samba
    browseable=yes
    # разрешите это, чтобы пользователь 'гостевой учетной записи' мог пользоваться печатью.
    guest ok=no
    writable=no
    printable=yes
    create mode=0700
    write list=@adm root ваше_имя_пользователя</pre>
<p>Этого должно быть достаточно для организации совместного доступа, но все-таки рекомендуется добавить для принтера отдельную запись:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/samba/smb.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[ML1250]
    comment=Samsung ML-1250 Laser Printer
    printer=ml1250
    path=/var/spool/samba
    printing=cups
    printable=yes
    printer admin=@admin root ваше_имя_пользователя
    user client driver=yes
    # разрешите это, чтобы пользователь 'гостевой учетной записи' мог пользоваться печатью.
    guest ok=no
    writable=no
    write list=@adm root ваше_имя_пользователя
    valid users=@adm root ваше_имя_пользователя</pre>
<p>Учтите, что при таких настройках, должна существовать учетная запись с правами доступа к принтеру. Для публичного принтера установите <i>guest ok</i> в <i>yes</i>, и удалите строку <i>valid users</i>. Для добавления учетных записей, создайте действующую учетную запись GNU/Linux, а затем установите на Samba-сервере пароль. Например:
</p>
<pre># useradd ваше_имя_пользователя
# smbpasswd -a ваше_имя_пользователя
</pre>
<p><br>
Затем перезапустите демон Samba:
</p>
<p>Естественно, имеется множество дополнительных настроек сервера печати Samba, поэтому, для получения дополнительной информации, следует обратиться к справочной документации Samba и CUPS. Образцы и примеры можно посмотреть в файле <code>smb.conf.example</code>.
</p>
<h3>
<span id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B5.D1.80_Windows_-_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82_Linux"></span><span class="mw-headline" id="Сервер_Windows_-_клиент_Linux">Сервер Windows - клиент Linux</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Любые особые символы в URI принтера должны быть соответствующим образом процитированы, или, если в имени вашего принтера Windows или в пароле есть пробелы, тогда CUPS выдаст ошибку "lpadmin: Bad device-uri".
<p>Например:
</p>
<p><code>smb://BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6</code>
</p>
<p>станет:
</p>
<p><code>smb://BEN-DESKTOP/HP%20Color%20LaserJet%20CP1510%20series%20PCL6</code>
</p>
<p>Такая строка может быть получена в результате выполнения следующей команды:
</p>
<pre>$ python -c 'from urllib.parse import quote; print("smb://" + quote("BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6"))'
</pre>
</div>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_LPD"></span><span class="mw-headline" id="Общий_доступ_с_помощью_LPD">Общий доступ с помощью LPD</span>
</h4>
<p>В Windows 7, 8 и 10 имеется интегрированный LPD-сервер, то, возможно, будет намного проще использовать именно его, поскольку не придется для клиента устанавливать <i>Samba</i>, а на сервере - можно будет обойтись без сложных настроек. Это можно включить в разделе <i>Службы печати и документов</i>, находящего в <i>Панель управления</i> -&gt; <i>Программы</i> -&gt; <i>Включение или отключение компонентов Windows</i>. В свойствах принтера должен быть включен <i>общий доступ</i>. Используйте общее имя без особых символов, таких как пробел, запятые и др.
</p>
<p>Затем, принтер можно будет добавить в CUPS просто выбрав протокол LPD. Адресс принтера будет выглядеть следующим образом:
</p>
<pre># lpd://windowspc/имя_общего_принтера
</pre>
<p>Перед добавлением вам, скорее всего, понадобиться установить для своей модели принтера соответствующий драйвер. Драйвера Generic PostScript или RAW тоже должны работать.
</p>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_IPP_2"></span><span class="mw-headline" id="Общий_доступ_с_помощью_IPP_2">Общий доступ с помощью IPP</span>
</h4>
<p>Как и в предыдущем случае, для организации общего доступа к принтерам протокол IPP является <b>предпочтительным</b>, но он <b>работает только с версиями Windows Server</b>. Версия Windows Server (например Server 2016) включаюет поддержку IPP (функции "Службы печати и документов", служба "Интернет-печати"). Клиентские версии (например, Windows 10) включают поддержку только клиента IPP и <b>не поддерживают совместный доступ через IPP</b>.
</p>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_Samba_2"></span><span class="mw-headline" id="Общий_доступ_с_помощью_Samba_2">Общий доступ с помощью Samba</span>
</h4>
<p><b>Гораздо проще</b> использовать стандартные возможности Windows по предоставлению общего доступа к принтерам с помощью Samba. Ручная настройка практически не требуется и все можно выполнить через бэкенд CUPS. Однако, как было замечено выше, в Windows могут возникнуть проблемы с аутентификацией и ограничением доступа.
</p>
<p>На стороне сервера необходимо разрешить общий доступ к принтеру и убедится, что клиентские машины имеют к этому принтеру доступ.
</p>
<p>В следующем разделе будут описаны настройки клиента с обоими (cupsd и smbd) запущенными демонами.
</p>
<h5>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_.D0.B2.D0.B5.D0.B1-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81"></span><span class="mw-headline" id="Настройка_через_веб-интерфейс">Настройка через веб-интерфейс</span>
</h5>
<p>Samba CUPS бэк-енд должен быть включен по умолчанию, но если этого не происходит - введите следующую команду и перезапустите CUPS.
</p>
<pre># ln -s $(which smbspool) /usr/lib/cups/backend/smb
</pre>
<p>Затем, просто зайдите в веб-интерфейс CUPS и добавьте новый принтер. В качестве устройства выберите "Windows Printer via SAMBA".
</p>
<p>Для местоположения устройства, выберите:
</p>
<pre>smb://имя_пользователя:пароль@имя_хоста/имя_принтера
</pre>
<p>Или, если пароля нет:
</p>
<pre>smb://имя_пользователя@имя_хоста/имя_принтера
</pre>
<p>Убедитесь, что пользователь действительно имеет доступ к принтеру на компьютере Windows, и выберите соответствующие драйверы. Если компьютер находится в домене, убедитесь, что в имени пользователя присутствует домен: 
</p>
<pre>smb://имя_пользователя:пароль@домен/имя_хоста/имя_принтера
</pre>
<h5>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_2"></span><span class="mw-headline" id="Ручная_настройка_2">Ручная настройка</span>
</h5>
<p>При ручной настройке: остановите демон CUPS и добавьте свой принтер в <code>/etc/cups/printers.conf</code>, который, к примеру, может выглядеть так:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/cups/printers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;DefaultPrinter MyPrinter&gt;
AuthInfoRequired username,password
Info My printer via SAMBA
Location In my Office
MakeModel Samsung ML-1250 - CUPS+Gutenprint v5.2.7        # &lt;= для получения списка доступных моделей запустить 'lpinfo -m'
DeviceURI smb://username:password@hostname/printer_name   # &lt;= URI сервера, выбирать согласно описания в предыдущем разделе
State Idle
Type 4
Accepting Yes
Shared No
JobSheets none none
QuotaPeriod 0
PageLimit 0
KLimit 0
AllowUser yourusername                                    # &lt;= не забудьте изменить это
OpPolicy default
ErrorPolicy stop-printer
&lt;/Printer&gt;</pre>
<p>Перезапустите демон CUPS и распечатайте тестовую страницу.
</p>
<h5>
<span id=".D0.9F.D0.BE.D0.B8.D1.81.D0.BA_URI_.D0.B4.D0.BB.D1.8F_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.B2_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B8_Windows"></span><span class="mw-headline" id="Поиск_URI_для_серверов_печати_Windows">Поиск URI для серверов печати Windows</span>
</h5>
<p>Иногда имя хоста Windows (усеченно) меньше предстоящего точного URI устройства (расположение устройства) (Sometimes Windows is a little less than forthcoming about exact device URIs (device locations)). Если возникли проблемы с указанием правильного расположения устройства в CUPS, выполните следующую команду, чтобы вывести список всех общих ресурсов, доступных для определенного имени пользователя windows:
</p>
<pre>$ smbtree -U <i>имя_пользователя_windows</i>
</pre>
<p>В этом списке будет отображаться только общие URI для определенного имени пользователя Windows в локальной подсети локальной сети, если Samba настроен и работает правильно. Команда должна вернуть что-то вроде этого:
</p>
<pre> WORKGROUP
	\\REGULATOR-PC   		
		\\REGULATOR-PC\Z              	
		\\REGULATOR-PC\Public         	
		\\REGULATOR-PC\print$         	Printer Drivers
		\\REGULATOR-PC\G              	
		\\REGULATOR-PC\EPSON Stylus CX8400 Series	EPSON Stylus CX8400 Series
</pre>
<p>Здесь требуется первая часть последней строки - ресурс, соответствующий описанию принтера. Поэтому для печати на принтер EPSON Stylus введите:
</p>
<pre>smb://имя_пользователя:пароль@REGULATOR-PC/EPSON%20Stylus%20CX8400%20Series
</pre>
<p>как URI в CUPS.
</p>
<h2>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.BD.D0.BE.D0.B5_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Удаленное_управление">Удаленное управление</span>
</h2>
<p>Однажды сервер настроенный, как описано в <a href="#%D0%92%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC_GNU/Linux">#Внутри систем GNU/Linux</a>, может также быть настроенным так, чтобы им можно было управлять удаленно. Добавьте разрешенные хосты в блок <code>&lt;Location /admin&gt;</code> в <code>/etc/cups/cupsd.conf</code>, используя тот же синтаксис, что и в <a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0">#Ручная настройка</a>. Обратите внимание, что доступны три уровня доступа:
</p>
<pre>&lt;Location /&gt;           #доступ к серверу
&lt;Location /admin&gt;	#доступ к страницам администратора
&lt;Location /admin/conf&gt;	#доступ к файлам конфигурации
</pre>
<p>Чтобы дать удаленным хостам доступ к одному из этих уровней, добавьте оператор <code>Allow</code> в этот уровень. Оператор <code>Allow</code> может принимать одну или несколько форм, перечисленных ниже:
</p>
<pre>Allow from all
Allow from host.domain.com
Allow from *.domain.com
Allow from ip-address
Allow from ip-address/netmask
Allow from @LOCAL
</pre>
<p>Отрицательный оператор также может быть использован. Например, чтобы предоставить полный доступ ко всем хостам на локальных сетевых интерфейсах, отредактируйте <code>/etc/cups/cupsd.conf</code>:
</p>
<pre># Ограничить доступ к серверу...
# По умолчанию возможны только локальные подключения
&lt;Location /&gt;
   Order allow,deny
   <b>Allow from @LOCAL</b>
&lt;/Location&gt;

# Ограничить доступ к страницам администратора...
&lt;Location /admin&gt;
   Order allow,deny
   <b>Allow from @LOCAL</b>
&lt;/Location&gt;

# Ограничить доступ к файлам конфигурации...
&lt;Location /admin/conf&gt;
   AuthType Basic
   Require user @SYSTEM
   Order allow,deny
   <b>Allow from @LOCAL</b>
&lt;/Location&gt;
</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> CUPS автоматически создает сертификат, поэтому это не должно быть проблемой. (Discuss in <a rel="nofollow" class="external text" href="../../ru/Talk:CUPS/Printer_sharing.html">Talk:CUPS (Русский)/Printer sharing (Русский)</a>)</div>
</div>
<p>Вам также может потребоваться добавить:
</p>
<pre>DefaultEncryption Never
</pre>
<p>Это должно помочь избежать ошибки: 426 - Upgrade Required when using the CUPS web interface from a remote machine.
</p>
<h3><span class="mw-headline" id="Kerberos">Kerberos</span></h3>
<p><a href="../../en/Kerberos.html" title="Kerberos">Kerberos</a> может использоваться для аутентификации пользователей, обращающихся к удаленному серверу CUPS. Это предполагает, что на вашем компьютере есть keytab, и ему понадобится билет для "HTTP". Вместо этого <code>http://localhost:631</code> вы должны использовать <code>https://host.example.co.uk:631</code> т.к. требуется шифрование для auth (следовательно, https), и требуется полное имя хоста, чтобы Kerberos/Negotiate могли работать. Кроме того, сервер должен быть настроен в <code>/etc/cups/cupsd.conf</code>, чтобы использовать <code>DefaultAuthType</code>  <code>Negotiate</code>.
</p>
<p>Если вы используете поддержку NSS в <a href="../../ru/Samba.html" title="Samba (Русский)">Samba</a> winbind, вы можете добавить имя группы AD в <code>/etc/cups/cups-files.conf</code> - в следующем примере <code>sysadmin</code> может быть группой AD: 
</p>
<pre>SystemGroup sys root sysadmin
</pre>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<p>Общие советы по устранению неполадок смотрите в <a href="../../ru/CUPS/Troubleshooting.html" class="mw-redirect" title="CUPS/Решение проблем">CUPS/Решение проблем</a>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BE.D1.82.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D1.82.D1.8C_.D0.BD.D0.B0_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D1.8C_.D0.B8.D0.B7_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B9_GTK"></span><span class="mw-headline" id="Не_удается_отправить_на_печать_из_приложений_GTK">Не удается отправить на печать из приложений GTK</span>
</h3>
<p>Если ты получил сообщение <i>getting printer information failed (ошибка получения информации о принтере)</i>, когда пытался отправить на печать из приложения GTK, тогда добавь эту строку в свой <code>/etc/hosts</code>:
</p>
<pre> # serverip 	some.name.org 	ServersHostname
</pre>
<h3>
<span id=".D0.9E.D1.88.D0.B8.D0.B1.D0.BA.D0.B8_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B9_.D0.B2_Windows"></span><span class="mw-headline" id="Ошибки_разрешений_в_Windows">Ошибки разрешений в Windows</span>
</h3>
<p>Некоторые пользователи исправили ошибки 'NT_STATUS_ACCESS_DENIED' (Windows клиенты), используя несколько иной синтаксис:
</p>
<pre>smb://рабочая_группа/имя_пользователя:пароль@имя_хоста/имя_принтера
</pre>
<h2>
<span id=".D0.94.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Другие_операционные_системы">Другие операционные системы</span>
</h2>
<p>Более подробную информацию о взаимодействии CUPS с другими системами печати можно найти в руководстве CUPS, например, на <a rel="nofollow" class="external free" href="http://localhost:631/help/network.html">http://localhost:631/help/network.html</a>
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../ru/Category:Printers.html" title="Category:Printers (Русский)">Printers (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Printer_sharing_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=743452">https://wiki.archlinux.org/index.php?title=CUPS_(Русский)/Printer_sharing_(Русский)&amp;oldid=743452</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 27 August 2022, at 06:28.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
