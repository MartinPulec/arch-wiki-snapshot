<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GNOME (Русский)/Keyring (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GNOME_Русский_Keyring_Русский rootpage-GNOME_Русский skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Безопасность" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Безопасность</span>
			</div>
		</a>
		
			<button aria-controls="toc-Безопасность-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Безопасность subsection</span>
			</button>
		
		<ul id="toc-Безопасность-sublist" class="vector-toc-list">
			<li id="toc-Защита_от_вредоносных_приложений" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%97%D0%B0%D1%89%D0%B8%D1%82%D0%B0_%D0%BE%D1%82_%D0%B2%D1%80%D0%B5%D0%B4%D0%BE%D0%BD%D0%BE%D1%81%D0%BD%D1%8B%D1%85_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Защита от вредоносных приложений</span>
				</div>
			</a>
			
			<ul id="toc-Защита_от_вредоносных_приложений-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Связка_ключей_не_блокируется,_когда_сессия_заблокирована" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9_%D0%BD%D0%B5_%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D1%83%D0%B5%D1%82%D1%81%D1%8F,_%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0_%D1%81%D0%B5%D1%81%D1%81%D0%B8%D1%8F_%D0%B7%D0%B0%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B0">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Связка ключей не блокируется, когда сессия заблокирована</span>
				</div>
			</a>
			
			<ul id="toc-Связка_ключей_не_блокируется,_когда_сессия_заблокирована-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Установка</span>
			</div>
		</a>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Управление_с_помощью_графического_интерфейса" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Управление с помощью графического интерфейса</span>
			</div>
		</a>
		
		<ul id="toc-Управление_с_помощью_графического_интерфейса-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Использование_keyring" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_keyring">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Использование keyring</span>
			</div>
		</a>
		
			<button aria-controls="toc-Использование_keyring-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Использование keyring subsection</span>
			</button>
		
		<ul id="toc-Использование_keyring-sublist" class="vector-toc-list">
			<li id="toc-Шаг_PAM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A8%D0%B0%D0%B3_PAM">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Шаг PAM</span>
				</div>
			</a>
			
			<ul id="toc-Шаг_PAM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-SSH_ключи" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#SSH_%D0%BA%D0%BB%D1%8E%D1%87%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>SSH ключи</span>
			</div>
		</a>
		
			<button aria-controls="toc-SSH_ключи-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle SSH ключи subsection</span>
			</button>
		
		<ul id="toc-SSH_ключи-sublist" class="vector-toc-list">
			<li id="toc-Установка_gcr" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_gcr">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Установка gcr</span>
				</div>
			</a>
			
			<ul id="toc-Установка_gcr-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Использование</span>
				</div>
			</a>
			
			<ul id="toc-Использование-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Отключение" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Отключение</span>
				</div>
			</a>
			
			<ul id="toc-Отключение-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Советы и рекомендации</span>
			</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-Интеграция_с_приложениями" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F_%D1%81_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Интеграция с приложениями</span>
				</div>
			</a>
			
			<ul id="toc-Интеграция_с_приложениями-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Блокировка_связки_ключей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%91%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Блокировка связки ключей</span>
				</div>
			</a>
			
			<ul id="toc-Блокировка_связки_ключей-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Удаление_парольных_фраз" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D1%85_%D1%84%D1%80%D0%B0%D0%B7">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Удаление парольных фраз</span>
				</div>
			</a>
			
			<ul id="toc-Удаление_парольных_фраз-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Интеграция_git" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F_git">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>Интеграция git</span>
				</div>
			</a>
			
			<ul id="toc-Интеграция_git-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Интеграция_GnuPG" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F_GnuPG">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>Интеграция GnuPG</span>
				</div>
			</a>
			
			<ul id="toc-Интеграция_GnuPG-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Переименование_связки_ключей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Переименование связки ключей</span>
				</div>
			</a>
			
			<ul id="toc-Переименование_связки_ключей-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Автоматическая_смена_пароля_связки_ключей_на_пароль_пользователя" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D0%BC%D0%B5%D0%BD%D0%B0_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8F_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9_%D0%BD%D0%B0_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8C_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.7</span>
					<span>Автоматическая смена пароля связки ключей на пароль пользователя</span>
				</div>
			</a>
			
			<ul id="toc-Автоматическая_смена_пароля_связки_ключей_на_пароль_пользователя-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Использование_gnome-keyring-daemon_вне_окружения_рабочего_стола_(KDE,_GNOME,_XFCE,_...)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_gnome-keyring-daemon_%D0%B2%D0%BD%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D1%81%D1%82%D0%BE%D0%BB%D0%B0_(KDE,_GNOME,_XFCE,_...)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8</span>
					<span>Использование gnome-keyring-daemon вне окружения рабочего стола (KDE, GNOME, XFCE, ...)</span>
				</div>
			</a>
			
			<ul id="toc-Использование_gnome-keyring-daemon_вне_окружения_рабочего_стола_(KDE,_GNOME,_XFCE,_...)-sublist" class="vector-toc-list">
				<li id="toc-Запуск" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8.1</span>
					<span>Запуск</span>
				</div>
			</a>
			
			<ul id="toc-Запуск-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GNOME_связка_ключей_XDG_Portal" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GNOME_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9_XDG_Portal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8.2</span>
					<span>GNOME связка ключей XDG Portal</span>
				</div>
			</a>
			
			<ul id="toc-GNOME_связка_ключей_XDG_Portal-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Устранение_неполадок" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%BF%D0%BE%D0%BB%D0%B0%D0%B4%D0%BE%D0%BA">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Устранение неполадок</span>
			</div>
		</a>
		
			<button aria-controls="toc-Устранение_неполадок-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Устранение неполадок subsection</span>
			</button>
		
		<ul id="toc-Устранение_неполадок-sublist" class="vector-toc-list">
			<li id="toc-Пароли_не_запоминаются" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%B0%D1%80%D0%BE%D0%BB%D0%B8_%D0%BD%D0%B5_%D0%B7%D0%B0%D0%BF%D0%BE%D0%BC%D0%B8%D0%BD%D0%B0%D1%8E%D1%82%D1%81%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.1</span>
					<span>Пароли не запоминаются</span>
				</div>
			</a>
			
			<ul id="toc-Пароли_не_запоминаются-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сброс_связки_ключей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%B1%D1%80%D0%BE%D1%81_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.2</span>
					<span>Сброс связки ключей</span>
				</div>
			</a>
			
			<ul id="toc-Сброс_связки_ключей-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unable_to_locate_daemon_control_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unable_to_locate_daemon_control_file">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.3</span>
					<span>Unable to locate daemon control file</span>
				</div>
			</a>
			
			<ul id="toc-Unable_to_locate_daemon_control_file-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-No_such_secret_collection_at_path:_/" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#No_such_secret_collection_at_path:_/">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.4</span>
					<span>No such secret collection at path: /</span>
				</div>
			</a>
			
			<ul id="toc-No_such_secret_collection_at_path:_/-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Терминал_выдает_сообщение_&quot;discover_other_daemon:_1&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB_%D0%B2%D1%8B%D0%B4%D0%B0%D0%B5%D1%82_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_&quot;discover_other_daemon:_1&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.5</span>
					<span>Терминал выдает сообщение "discover_other_daemon: 1"</span>
				</div>
			</a>
			
			<ul id="toc-Терминал_выдает_сообщение_&quot;discover_other_daemon:_1&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Неправильная_инициализация_связки_ключей" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9D%D0%B5%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.6</span>
					<span>Неправильная инициализация связки ключей</span>
				</div>
			</a>
			
			<ul id="toc-Неправильная_инициализация_связки_ключей-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотри_также" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Смотри также</span>
			</div>
		</a>
		
		<ul id="toc-Смотри_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GNOME (Русский)/Keyring (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/GNOME/Keyring.html" title="GNOME/Keyring – English" lang="en" hreflang="en" data-title="GNOME/Keyring" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/GNOME/Keyring.html" title="GNOME (Español)/Keyring – español" lang="es" hreflang="es" data-title="GNOME (Español)/Keyring" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/GNOME/Keyring" title="GNOME/Keyring – 日本語" lang="ja" hreflang="ja" data-title="GNOME/Keyring" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/GNOME/Keyring" title="GNOME/Keyring – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="GNOME/Keyring" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <bdi dir="ltr"><a href="../../ru/GNOME.html" title="GNOME (Русский)">GNOME (Русский)</a></bdi>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../../en/GnuPG.html" title="GnuPG">GnuPG</a></li>
<li><a href="../../en/OpenPGP.html" title="OpenPGP">OpenPGP</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/GnomeKeyring">GNOME Keyring</a> - это «набор компонентов в GNOME, которые хранят  пароли, ключи, сертификаты и делают их доступными для приложений».
</p>
<p>Он предоставляет <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Specifications/secret-storage-spec/">org.freedesktop.secrets</a>, API, который позволяет клиентским приложениям безопасно хранить пароли, используя службу, работающую в сессии входа пользователя в систему.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Безопасность">
<span id=".D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C"></span>Безопасность</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Защита_от_вредоносных_приложений">
<span id=".D0.97.D0.B0.D1.89.D0.B8.D1.82.D0.B0_.D0.BE.D1.82_.D0.B2.D1.80.D0.B5.D0.B4.D0.BE.D0.BD.D0.BE.D1.81.D0.BD.D1.8B.D1.85_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B9"></span>Защита от вредоносных приложений</h3></div>
<p>В прошлом сообщалось о проблеме безопасности (известной как <a rel="nofollow" class="external text" href="https://nvd.nist.gov/vuln/detail/CVE-2018-19358">CVE-2018-19358</a>), связанной с поведением GNOME/Keyring API. Любое приложение <a rel="nofollow" class="external text" href="https://github.com/sungjungk/keyring_crack">может легко прочитать любой пароль</a>, если связка ключей разблокирована. А если пользователь вошел в систему, то разблокирована коллекция логинов/дефолтов. Доступные механизмы защиты D-Bus (включающие XML-элементы busconfig и policy) не используются по умолчанию и в любом случае легко обходятся.
</p>
<p>Проект GNOME <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gnome-keyring/-/issues/5#note_1876550">не согласен</a> с этим сообщением об уязвимости, поскольку, согласно заявленной ими модели безопасности, недоверенным приложениям не должно быть позволено общаться с секретной службой.
</p>
<p>Приложения, помещенные в песочницу с помощью Flatpak, имеют только фильтрованный доступ к шине сессий.
</p>
<div class="mw-heading mw-heading3"><h3 id="Связка_ключей_не_блокируется,_когда_сессия_заблокирована">
<span id=".D0.A1.D0.B2.D1.8F.D0.B7.D0.BA.D0.B0_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9_.D0.BD.D0.B5_.D0.B1.D0.BB.D0.BE.D0.BA.D0.B8.D1.80.D1.83.D0.B5.D1.82.D1.81.D1.8F.2C_.D0.BA.D0.BE.D0.B3.D0.B4.D0.B0_.D1.81.D0.B5.D1.81.D1.81.D0.B8.D1.8F_.D0.B7.D0.B0.D0.B1.D0.BB.D0.BE.D0.BA.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B0"></span>Связка ключей не блокируется, когда сессия заблокирована</h3></div>
<p>Когда сессия заблокирована, связка ключей не блокируется автоматически.<a rel="nofollow" class="external autonumber" href="https://gitlab.gnome.org/GNOME/gnome-keyring/-/issues/62">[1]</a> Это означает, что пароли остаются в памяти, что открывает систему для <a href="https://en.wikipedia.org/wiki/DMA_attack" class="extiw" title="wikipedia:DMA attack">атаки DMA</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Установка">
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span>Установка</h2></div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-keyring">gnome-keyring</a></span> входит в группу <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/gnome/">gnome</a></span> и поэтому обычно присутствует на системах с GNOME. В противном случае пакет может быть установлен самостоятельно. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsecret">libsecret</a></span> также должен быть установлен, для предоставления другим приложениям доступа к вашим связкам ключей. Хотя <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libgnome-keyring">libgnome-keyring</a></span> устарел (и заменен на <i>libsecret</i>), он все еще может быть необходим некоторым приложениям.
</p>
<p>Демон gnome-keyring-daemon автоматически запускается через пользовательскую службу systemd при входе в систему. Он также может быть запущен по запросу через сокет.
</p>
<p>Дополнительные утилиты, связанные с GNOME Keyring, включают:
</p>
<ul><li>
<b>secret-tool</b> — Доступ к GNOME Keyring (и любой другой службе, реализующей <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/secret-service-spec/latest/">DBus Secret Service API</a>) из командной строки.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wiki.gnome.org/Projects/Libsecret">https://wiki.gnome.org/Projects/Libsecret</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsecret">libsecret</a></span>
</dd></dl>
<ul><li>
<b>lssecret</b> — Список всех секретных элементов, использующих <i>libsecret</i> (например, GNOME Keyring).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/GrantMoyer/lssecret">https://gitlab.com/GrantMoyer/lssecret</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lssecret-git/">lssecret-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading2"><h2 id="Управление_с_помощью_графического_интерфейса">
<span id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B3.D0.BE_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"></span>Управление с помощью графического интерфейса</h2></div>
<p>Вы можете управлять содержимым GNOME Keyring с помощью Seahorse; <a href="../../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">установив</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=seahorse">seahorse</a></span>.
</p>
<p>Пароли для связок ключей (например, для связки по умолчанию «Login») можно изменять и даже удалять. Дополнительную информацию см. в разделах <a rel="nofollow" class="external text" href="https://help.gnome.org/users/seahorse/stable/keyring-create.html.ru">Создать новую связку ключей</a> и <a rel="nofollow" class="external text" href="https://help.gnome.org/users/seahorse/stable/keyring-update-password.html.ru">Обновить пароль связки ключей</a> в Справке GNOME.
</p>
<div class="mw-heading mw-heading2"><h2 id="Использование_keyring">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_keyring"></span>Использование keyring</h2></div>
<p>Модуль <a href="../../ru/PAM.html" title="PAM (Русский)">PAM (Русский)</a> <i>pam_gnome_keyring.so</i> частично инициализирует GNOME Keyring, разблокируя при этом связку ключей <i>login</i>. Демон gnome-keyring-daemon автоматически запускается с помощью пользовательской службы systemd.
</p>
<div class="mw-heading mw-heading3"><h3 id="Шаг_PAM">
<span id=".D0.A8.D0.B0.D0.B3_PAM"></span>Шаг PAM</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Чтобы использовать автоматическую разблокировку <b>без автоматического входа</b>, пароль учетной записи пользователя должен быть таким же, как и у связки ключей <b>login</b>. Смотрите <a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D0%BC%D0%B5%D0%BD%D0%B0_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8F_%D1%81%D0%B2%D1%8F%D0%B7%D0%BA%D0%B8_%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9_%D0%BD%D0%B0_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8C_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F">#Автоматическая смена пароля связки ключей на пароль пользователя</a>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>Чтобы использовать автоматическую разблокировку с автоматическим входом в систему, можно задать пустой пароль для связки ключей. Обратите внимание, что в этом случае содержимое связки ключей хранится в незашифрованном виде.</li>
<li>В качестве альтернативы, при использовании GDM и LUKS, GDM может разблокировать вашу связку ключей, если он соответствует вашему паролю LUKS. Чтобы это работало, необходимо использовать <a href="../../ru/Mkinitcpio.html#%D0%94%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B5_%D1%85%D1%83%D0%BA%D0%B8" title="Mkinitcpio (Русский)">systemd init в mkinitcpio.conf</a>, а также <a href="../../en/Dm-crypt/System_configuration.html#Using_systemd-cryptsetup-generator" title="Dm-crypt/System configuration">appropriate kernel parameters</a>. Более подробную информацию см. в <a rel="nofollow" class="external autonumber" href="https://reddit.com/r/Fedora/comments/jwnqq5/">[2]</a>.</li>
<li>Если вы хотите пропустить шаг PAM, связка ключей должна быть разблокирована вручную или другим способом. См. <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_gnome-keyring-daemon_%D0%B2%D0%BD%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D1%81%D1%82%D0%BE%D0%BB%D0%B0_(KDE,_GNOME,_XFCE,_...)">#Использование gnome-keyring-daemon вне окружения рабочего стола (KDE, GNOME, XFCE, ...)</a> и <a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/GnomeKeyring/RunningDaemon">GnomeKeyring wiki</a>.</li>
</ul>
</div>
<p>При использовании менеджера дисплеев связка ключей работает «из коробки» в большинстве случаев. <a href="../../en/GDM.html" title="GDM">GDM</a>, <a href="../../en/LightDM.html" title="LightDM">LightDM</a>, <a href="../../en/LXDM.html" title="LXDM">LXDM</a> и <a href="../../en/SDDM.html" title="SDDM">SDDM</a> уже имеют необходимую конфигурацию PAM. Для менеджера дисплеев, который не разблокирует связку ключей автоматически, отредактируйте соответствующий файл вместо <code>/etc/pam.d/login</code>, как указано ниже.
</p>
<p>При использовании входа через консоль отредактируйте <code>/etc/pam.d/login</code>:
</p>
<p>Добавьте <code>auth optional pam_gnome_keyring.so</code> в конец раздела <code>auth</code> и <code>session optional pam_gnome_keyring.so auto_start</code> в конец раздела <code>session</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/login</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0

auth       required     pam_securetty.so
auth       requisite    pam_nologin.so
auth       include      system-local-login
<b>auth       optional     pam_gnome_keyring.so</b>
account    include      system-local-login
session    include      system-local-login
<b>session    optional     pam_gnome_keyring.so auto_start</b>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Если используется менеджер входа <a href="../../en/Greetd.html" title="Greetd">greetd</a>, то файл, который необходимо изменить, - это <code>/etc/pam.d/greetd</code>, а не <code>/etc/pam.d/login</code>.</div>
<div class="mw-heading mw-heading2"><h2 id="SSH_ключи">
<span id="SSH_.D0.BA.D0.BB.D1.8E.D1.87.D0.B8"></span>SSH ключи</h2></div>
<p>GNOME Keyring может выступать в качестве обертки для <a href="/index.php?title=SSH-%D0%BA%D0%BB%D1%8E%D1%87%D0%B8&amp;action=edit&amp;redlink=1" class="new" title="SSH-ключи (page does not exist)">ssh-agent</a>. В этом режиме он будет отображать диалог ввода пароля в графическом интерфейсе каждый раз, когда вам нужно разблокировать SSH-ключ. Диалог включает в себя флажок запоминания введенного пароля, который, если его выбрать, позволит использовать этот ключ без пароля в будущем, пока ваша связка ключей для входа в систему разблокирована.
</p>
<p>Функциональность SSH отключена по умолчанию в сборках gnome-keyring-daemon начиная с версии <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gnome-keyring/-/commit/25c5a1982467802fa12c6852b03c57924553ba73">1:46</a>. Она была <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gcr/-/merge_requests/67">перенесена</a> в <code>/usr/lib/gcr-ssh-agent</code>, который является частью пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcr-4">gcr-4</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Установка_gcr">
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_gcr"></span>Установка gcr</h3></div>
<p>Все, что вам нужно сделать, это:
</p>
<ol>
<li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">Включить</a> <code>gcr-ssh-agent.socket</code> systemd <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>.</li>
<li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Запустить</a> один раз <code>gcr-ssh-agent.socket</code> systemd <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>. При этом будет создан файл сокета <code>$XDG_RUNTIME_DIR/gcr/ssh</code>.  После создания файла достаточно выполнить 1 шаг для автоматического запуска блока сокетов.</li>
<li>Ручная настройка переменной окружения <code>SSH_AUTH_SOCK</code> не требуется, если активен блок <code>gcr-ssh-agent.socket</code>. Значение переменной окружения <code>SSH_AUTH_SOCK</code> должно быть установлено в <code>$XDG_RUNTIME_DIR/gcr/ssh</code> после выхода и входа пользователя. Известно, что это работает с приложением Gnome <code>Console</code> для пользователей, использующих <code>fish</code> в качестве оболочки по умолчанию.</li>
</ol>
<p>Существует <a href="../../ru/Environment_variables.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85" title="Environment variables (Русский)">множество способов</a> для установки переменных среды и тот, который вы будете использовать, будет зависеть от ваших конкретных настроек и предпочтений.
</p>
<div class="mw-heading mw-heading3"><h3 id="Использование">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span>Использование</h3></div>
<p>Вы можете запустить
</p>
<pre>$ ssh-add -L
</pre>
<p>для получения списка загруженных SSH-ключей в запущенном агенте. Это поможет убедиться, что вы запустили соответствующую службу и правильно установили <code>SSH_AUTH_SOCK</code>.
</p>
<p>Чтобы навсегда сохранить ключевую фразу в связке ключей, используйте ssh-askpass из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=seahorse">seahorse</a></span>:
</p>
<pre>$ /usr/lib/seahorse/ssh-askpass <i>my_key</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> В некоторых ситуациях (например, когда вы не используете менеджер входа или среду рабочего стола) альтернативой может быть использование Seahorse <i>secret-tool</i>. <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=2217761#p2217761">для сохранения парольной фразы</a>.</div>
<p>Чтобы вручную добавить ключ SSH из другого каталога:
</p>
<pre>$ ssh-add ~/.private/id_rsa
Enter passphrase for ~/.private/id_rsa:
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Соответствующий файл <i>.pub</i> должен находиться в том же каталоге, что и приватный ключ (<code>~/.ssh/id_rsa.pub</code> в примере). Также убедитесь, что открытый ключ - это имя файла приватного ключа плюс <i>.pub</i> (например, <code>my_key.pub</code>).</div>
<p>Чтобы отключить все добавленные вручную ключи:
</p>
<pre>$ ssh-add -D
</pre>
<div class="mw-heading mw-heading3"><h3 id="Отключение">
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"></span>Отключение</h3></div>
<p>Если вы хотите запустить альтернативный SSH-агент (например, <a href="../../en/SSH_keys.html#ssh-agent" title="SSH keys">ssh-agent</a> напрямую или <a href="../../en/GnuPG.html#gpg-agent" class="mw-redirect" title="Gpg-agent">gpg-agent</a>), будет полезно отключить обертку ssh-agent в GNOME Keyring. Это не является строго необходимым, поскольку каждый агент слушает на разных сокетах, и <code>SSH_AUTH_SOCK</code> можно использовать для выбора между ними, но это может облегчить отладку проблем. Обратите внимание, что реализация GNOME не поддерживает многие функции сценариев, например BatchMode <a rel="nofollow" class="external autonumber" href="https://gitlab.gnome.org/GNOME/gcr/-/issues/117">[3]</a>.
</p>
<p>Для отключения gcr-ssh-agent, убедитесь, что <code>gcr-ssh-agent.socket</code> и <code>gcr-ssh-agent.service</code> отключены и остановлены в systemd.
</p>
<div class="mw-heading mw-heading2"><h2 id="Советы_и_рекомендации">
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span>Советы и рекомендации</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Интеграция_с_приложениями">
<span id=".D0.98.D0.BD.D1.82.D0.B5.D0.B3.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F.D0.BC.D0.B8"></span>Интеграция с приложениями</h3></div>
<ul><li><a href="../../en/Chromium.html#Force_a_password_store" title="Chromium">Chromium</a></li></ul>
<div class="mw-heading mw-heading3"><h3 id="Блокировка_связки_ключей">
<span id=".D0.91.D0.BB.D0.BE.D0.BA.D0.B8.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B8_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9"></span>Блокировка связки ключей</h3></div>
<pre>$ dbus-send --session --dest=org.freedesktop.secrets \
   --type=method_call  \
   /org/freedesktop/secrets \
   org.freedesktop.Secret.Service.Lock \
   array:objpath:/org/freedesktop/secrets/collection/login
</pre>
<p>Эта команда выполняет вызов метода <a href="../../ru/D-Bus.html" title="D-Bus (Русский)">D-Bus </a> для блокировки связки ключей <i>login</i>. В качестве альтернативы, если вы хотите использовать графический интерфейс, можно использовать Seahorse для блокировки связки ключей.
</p>
<div class="mw-heading mw-heading3"><h3 id="Удаление_парольных_фраз">
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8C.D0.BD.D1.8B.D1.85_.D1.84.D1.80.D0.B0.D0.B7"></span>Удаление парольных фраз</h3></div>
<pre>$ gnome-keyring-daemon -r -d
</pre>
<p>Эта команда запускает gnome-keyring-daemon, завершая работу ранее запущенных экземпляров.
</p>
<div class="mw-heading mw-heading3"><h3 id="Интеграция_git">
<span id=".D0.98.D0.BD.D1.82.D0.B5.D0.B3.D1.80.D0.B0.D1.86.D0.B8.D1.8F_git"></span>Интеграция git</h3></div>
<p>Связка ключей GNOME полезна в сочетании с <a href="../../ru/Git.html" title="Git (Русский)">Git</a>ом при работе по HTTPS. Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsecret">libsecret</a></span> <a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">должен быть установлен, чтобы эта функциональность стала доступна</a>.
</p>
<p>Настройте Git на использование помощника <b>libsecret</b>:
</p>
<pre>$ git config --global credential.helper /usr/lib/git-core/git-credential-libsecret
</pre>
<p>В следующий раз, когда вы запустите <code>git push</code>, вам будет предложено разблокировать связку ключей, если она еще не разблокирована.
</p>
<div class="mw-heading mw-heading3"><h3 id="Интеграция_GnuPG">
<span id=".D0.98.D0.BD.D1.82.D0.B5.D0.B3.D1.80.D0.B0.D1.86.D0.B8.D1.8F_GnuPG"></span>Интеграция GnuPG</h3></div>
<p>Некоторые приложения, использующие GnuPG, требуют установки <code>pinentry-program</code>. Установите следующее значение, чтобы использовать GNOME 3 pinentry для GNOME Keyring для управления запросами парольной фразы.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pinentry-program /usr/bin/pinentry-gnome3
</pre>
<p>Другой вариант - <a href="../../ru/GnuPG.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B2%D0%B2%D0%BE%D0%B4_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8F" title="GnuPG (Русский)">принудительная петля для GPG</a>, которая позволит вводить ключевую фразу в приложении.
</p>
<div class="mw-heading mw-heading3"><h3 id="Переименование_связки_ключей">
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B8.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B8_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9"></span>Переименование связки ключей</h3></div>
<p>Отображаемое имя брелока (т. е. имя, которое отображается в Seahorse и в <code>file</code>) можно изменить, <a rel="nofollow" class="external text" href="https://ttboj.wordpress.com/2013/01/27/renaming-a-gnome-keyring-for-seahorse-the-passwords-and-keyrings-application/">изменив значение display-name в незашифрованном файле брелока</a>. Обычно брелоки хранятся в <code>~/.local/share/keyrings/</code> с расширением файла <i>.keyring</i>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Автоматическая_смена_пароля_связки_ключей_на_пароль_пользователя">
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B0.D1.8F_.D1.81.D0.BC.D0.B5.D0.BD.D0.B0_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8F_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B8_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9_.D0.BD.D0.B0_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8C_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"></span>Автоматическая смена пароля связки ключей на пароль пользователя</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Это касается только связки ключей <i>login</i>..</div>
<p><a href="../../ru/Help:Reading.html#%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C,_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C,_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C" title="Help:Reading (Русский)">Добавить</a> <code>password optional pam_gnome_keyring.so</code> в <code>/etc/pam.d/passwd</code>: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/passwd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
password	optional	pam_gnome_keyring.so</pre>
<div class="mw-heading mw-heading3"><h3 id="Использование_gnome-keyring-daemon_вне_окружения_рабочего_стола_(KDE,_GNOME,_XFCE,_...)">
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_gnome-keyring-daemon_.D0.B2.D0.BD.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B3.D0.BE_.D1.81.D1.82.D0.BE.D0.BB.D0.B0_.28KDE.2C_GNOME.2C_XFCE.2C_....29"></span>Использование gnome-keyring-daemon вне окружения рабочего стола (KDE, GNOME, XFCE, ...)</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Запуск">
<span id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span>Запуск</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> По крайней мере, <a href="../../en/Xinit.html" title="Xinit">xinit</a> и <a href="../../en/SDDM.html" title="SDDM">SDDM</a> выполняют все скрипты из <code>/etc/X11/xinit/xinitrc.d/</code>, а <a href="../../en/Sway.html" title="Sway">sway</a> предоставляет <code>/etc/sway/config.d/50-systemd-user.conf</code>, так что проблема не в "вне настольного окружения". Если gnome-keyring требует <a href="../../en/XDG_Autostart.html" title="XDG Autostart">XDG Autostart</a>, в разделе установки/конфигурации должно быть указано это. (Discuss in <a href="/index.php?title=Talk:GNOME_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Keyring_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;action=edit&amp;redlink=1" class="new" title="Talk:GNOME (Русский)/Keyring (Русский) (page does not exist)">Talk:GNOME (Русский)/Keyring (Русский)#Использование_gnome-keyring-daemon_вне_окружения_рабочего_стола_(KDE,_GNOME,_XFCE,_...)</a>)</div>
</div>
<p>Если вы используете sway, i3 или любой другой оконный менеджер, который не выполняет
</p>
<ul>
<li><code>/etc/xdg/autostart/gnome-keyring-*.desktop</code></li>
<li><code>/etc/X11/xinit/xinitrc.d/50-systemd-user.sh</code></li>
</ul>
<p>вашему оконному менеджеру необходимо выполнить следующие команды во время его запуска. Команды необязательно должны выполняться в каком-либо определенном порядке.
</p>
<pre>dbus-update-activation-environment DISPLAY XAUTHORITY WAYLAND_DISPLAY</pre>
<p>или
</p>
<pre>dbus-update-activation-environment --all</pre>
<p>Эта команда передает переменные окружения из оконного менеджера в сессию dbus. Без этого GUI-запросы не могут быть вызваны через DBus. Например, это необходимо для запроса пароля seahorse.
</p>
<p>Это необходимо потому, что сессия dbus запускается до запуска графического окружения. Таким образом, сессия dbus не знает о графическом окружении, в котором вы находитесь. Кто-то или что-то должно научить сессию dbus графическому окружению, передавая переменные окружения, описывающие графическое окружение, в сессию dbus.
</p>
<pre>gnome-keyring-daemon --start --components=secrets</pre>
<p>Во время входа в систему PAM запускает <code>gnome-keyring-daemon --login</code>, отвечающий за поддержание gnome-keyring разблокированным с помощью пароля для входа. Если <code>gnome-keyring-daemon --login</code> не подключается к сессии dbus в течение нескольких минут, <code>gnome-keyring-daemon --login</code> умирает. Если <code>gnome-keyring-daemon --start ...</code> запущен против сессии dbus в оконном менеджере, <code>gnome-keyring-daemon --login</code> подключается к сессии dbus. Если ваша сессия входа не запустится <code>gnome-keyring-daemon --start ...</code> до того, как <code>gnome-keyring-daemon --login</code> выйдет из системы, вы также можете использовать любую программу, использующую gnome-keyring или API службы паролей до того, как <code>gnome-keyring-daemon --login</code> умрет.
</p>
<div class="mw-heading mw-heading4"><h4 id="GNOME_связка_ключей_XDG_Portal">
<span id="GNOME_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B0_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9_XDG_Portal"></span>GNOME связка ключей XDG Portal</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Изменяет файлы пакетов в <code>/usr/share</code>, будет отменено при обновлении pacman (Discuss in <a rel="nofollow" class="external text" href="../../ru/Talk:GNOME/Keyring.html">Talk:GNOME (Русский)/Keyring (Русский)</a>)</div>
</div>
<p>GNOME Keyring открывает бэкенд XDG Portal (например, для использования с приложениями, помещенными в песочницу через <a href="../../en/Flatpak.html" title="Flatpak">flatpak</a>). Чтобы он работал вне GNOME, необходимо добавить свое окружение рабочего стола в конфигурационный файл <code>/usr/share/xdg-desktop-portal/portals/gnome-keyring.portal</code>, изменив ключ <code>UseIn</code>. Например, чтобы добавить <a href="../../en/Sway.html" title="Sway">sway</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/xdg-desktop-portal/portals/gnome-keyring.portal</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[portal]
DBusName=org.freedesktop.secrets
Interfaces=org.freedesktop.impl.portal.Secret
UseIn=gnome;sway
</pre>
<p>Дополнительную информацию о бэкендах XDG Desktop Portal см. в разделе <a href="../../en/XDG_Desktop_Portal.html#Backends" title="XDG Desktop Portal">XDG Desktop Portal#Backends</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Устранение_неполадок">
<span id=".D0.A3.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.BF.D0.BE.D0.BB.D0.B0.D0.B4.D0.BE.D0.BA"></span>Устранение неполадок</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Пароли_не_запоминаются">
<span id=".D0.9F.D0.B0.D1.80.D0.BE.D0.BB.D0.B8_.D0.BD.D0.B5_.D0.B7.D0.B0.D0.BF.D0.BE.D0.BC.D0.B8.D0.BD.D0.B0.D1.8E.D1.82.D1.81.D1.8F"></span>Пароли не запоминаются</h3></div>
<p>Если после входа в систему вам предлагается ввести пароль и вы обнаруживаете, что ваши пароли не сохраняются, возможно, вам нужно создать/установить связку ключей по умолчанию. Чтобы сделать это с помощью Seahorse (он же Пароли и ключи), смотрите <a rel="nofollow" class="external text" href="https://help.gnome.org/users/seahorse/stable/keyring-create.html.ru">Создание новой связки ключей</a> и <a rel="nofollow" class="external text" href="https://help.gnome.org/users/seahorse/stable/keyring-change-default.html.ru">Изменение связки ключей по-умолчанию</a> в справке GNOME.
</p>
<div class="mw-heading mw-heading3"><h3 id="Сброс_связки_ключей">
<span id=".D0.A1.D0.B1.D1.80.D0.BE.D1.81_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B8_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9"></span>Сброс связки ключей</h3></div>
<p>Вам необходимо <a href="#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">изменить пароль связки ключей для входа</a>, если вы получаете следующее сообщение об ошибке: «Пароль, используемый для входа на компьютер, больше не соответствует паролю вашего брелока для входа».
</p>
<p>В качестве альтернативы вы можете удалить файлы <code>login.keyring</code> и <code>user.keystore</code> из <code>~/.local/share/keyrings/</code>. Предупреждаем, что при этом все сохраненные ключи будут удалены навсегда. После удаления файлов просто выйдите из системы и войдите снова.
</p>
<div class="mw-heading mw-heading3"><h3 id="Unable_to_locate_daemon_control_file">Unable to locate daemon control file</h3></div>
<p>После входа в систему в <a href="../../en/Systemd/Journal.html" class="mw-redirect" title="Journal">journal</a> может появиться следующая ошибка:
</p>
<pre>gkr-pam: unable to locate daemon control file 
</pre>
<p>Это сообщение «можно смело игнорировать», если нет других связанных с ним проблем <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1940190#p1940190">[4]</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="No_such_secret_collection_at_path:_/">
<span id="No_such_secret_collection_at_path:_.2F"></span>No such secret collection at path: /</h3></div>
<p>Если вы попытаетесь добавить новый брелок с помощью Seahorse, вы можете получить эту ошибку по следующим причинам:
</p>
<ul>
<li>Директория <code>~/.local/share/keyrings/</code> не существует. Создайте её, если она отсутствует.</li>
<li>Используется пользовательский <code>~/.xinitrc</code>. Эту проблему можно решить, добавив следующую строку <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1640822#p1640822">[5]</a>.</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">source /etc/X11/xinit/xinitrc.d/50-systemd-user.sh
</pre>
<div class="mw-heading mw-heading3"><h3 id="Терминал_выдает_сообщение_&quot;discover_other_daemon:_1&quot;">
<span id=".D0.A2.D0.B5.D1.80.D0.BC.D0.B8.D0.BD.D0.B0.D0.BB_.D0.B2.D1.8B.D0.B4.D0.B0.D0.B5.D1.82_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D0.B5_.22discover_other_daemon:_1.22"></span>Терминал выдает сообщение "discover_other_daemon: 1"</h3></div>
<p>Это происходит из-за того, что <i>gnome-keyring-daemon</i> запускается во второй раз. Поскольку вместе с демоном поставляется служба systemd, вам не нужно запускать её другим способом. Поэтому убедитесь, что команда start удалена из ваших <code>.zshenv</code>, <code>.bash_profile</code>, <code>.xinitrc</code>, <code>config.fish</code> или других подобных файлов. Также вы можете <a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" title="Help:Reading (Русский)">отключить</a> <a href="../../ru/Systemd/User.html" title="Systemd (Русский)/User (Русский)">пользовательские модули</a> <code>gnome-keyring-daemon.service</code> и <code>gnome-keyring-daemon.socket</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Неправильная_инициализация_связки_ключей">
<span id=".D0.9D.D0.B5.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D0.B8.D1.86.D0.B8.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.B2.D1.8F.D0.B7.D0.BA.D0.B8_.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.B9"></span>Неправильная инициализация связки ключей</h3></div>
<p>Есть несколько симптомов этого:
</p>
<ul>
<li>Такие программы, как SSH или Git, зависают, ожидая, пока связка ключей предоставит пароль, и в итоге завершаются с ошибками типа "agent refused operation".</li>
<li>Seahorse не отображает никаких связок ключей, и ручное создание связки ключей с именем «login», похоже, ничего не дает.</li>
<li>В выводе seahorse появляется следующее сообщение об ошибке: <pre>couldn't load all secret collections: No such secret collection at path: /org/freedesktop/secrets/collection/login</pre>
</li>
</ul>
<p>Для решения этой проблемы, сделайте следующее:
</p>
<ol>
<li>
<a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" title="Help:Reading (Русский)">Перезапустите</a> <a href="../../ru/Systemd/User.html" title="Systemd (Русский)/User (Русский)">пользовательский юнит</a> systemd <code>gnome-keyring-daemon.service</code>. Это должно правильно инициализировать связку ключей <i>login</i>.</li>
<li>
<a href="../../ru/Help:Reading.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%B0%D0%BC%D0%B8_systemd" title="Help:Reading (Русский)">Перезапустите</a> <a href="../../ru/Systemd/User.html" title="Systemd (Русский)/User (Русский)">пользовательский юнит</a> systemd <code>gcr-ssh-agent.service</code>, если он используется. Другие агенты также могут нуждаться в перезапуске.</li>
</ol>
<p>Если это не устранит проблему, рассмотрите <a href="#%D0%A3%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%BF%D0%BE%D0%BB%D0%B0%D0%B4%D0%BE%D0%BA">переустановку связки ключей</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Смотри_также">
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span>Смотри также</h2></div>
<ul>
<li><a rel="nofollow" class="external free" href="https://help.gnome.org/users/seahorse/stable/">https://help.gnome.org/users/seahorse/stable/</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/GnomeKeyring">GNOME вики-страница (архивная)</a></li>
<li><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?q=org.freedesktop.secrets">Пакеты, предоставляющие org.freedesktop.secrets</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../../ru/Category:GNOME.html" title="Category:GNOME (Русский)">GNOME (Русский)</a></li>
<li><a href="../../ru/Category:OpenPGP.html" title="Category:OpenPGP (Русский)">OpenPGP (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GNOME_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Keyring_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=833847">https://wiki.archlinux.org/index.php?title=GNOME_(Русский)/Keyring_(Русский)&amp;oldid=833847</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 May 2025, at 21:09.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">GNOME (Русский)/Keyring (Русский)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
