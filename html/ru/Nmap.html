<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Nmap (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Nmap_Русский rootpage-Nmap_Русский skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Установка" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Установка</div>
		</a>
		
		<ul id="toc-Установка-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Использование" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Использование</div>
		</a>
		
			<button aria-controls="toc-Использование-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Использование subsection</span>
			</button>
		
		<ul id="toc-Использование-sublist" class="vector-toc-list">
			<li id="toc-Определение_цели_сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%86%D0%B5%D0%BB%D0%B8_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Определение цели сканирования</div>
			</a>
			
			<ul id="toc-Определение_цели_сканирования-sublist" class="vector-toc-list">
				<li id="toc-Определение_нескольких_целей" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%B8%D1%85_%D1%86%D0%B5%D0%BB%D0%B5%D0%B9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Определение нескольких целей</div>
			</a>
			
			<ul id="toc-Определение_нескольких_целей-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Сканирование_с_целью_составления_списка" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81_%D1%86%D0%B5%D0%BB%D1%8C%D1%8E_%D1%81%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Сканирование с целью составления списка</div>
			</a>
			
			<ul id="toc-Сканирование_с_целью_составления_списка-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Опции_по_умолчанию" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%BF%D1%86%D0%B8%D0%B8_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Опции по умолчанию</div>
			</a>
			
			<ul id="toc-Опции_по_умолчанию-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Пинг-сканирование" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9F%D0%B8%D0%BD%D0%B3-%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Пинг-сканирование</div>
		</a>
		
			<button aria-controls="toc-Пинг-сканирование-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Пинг-сканирование subsection</span>
			</button>
		
		<ul id="toc-Пинг-сканирование-sublist" class="vector-toc-list">
			<li id="toc-Типы_пинг-сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B8%D0%BF%D1%8B_%D0%BF%D0%B8%D0%BD%D0%B3-%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Типы пинг-сканирования</div>
			</a>
			
			<ul id="toc-Типы_пинг-сканирования-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Сканирование_портов" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D1%80%D1%82%D0%BE%D0%B2">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Сканирование портов</div>
		</a>
		
			<button aria-controls="toc-Сканирование_портов-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Сканирование портов subsection</span>
			</button>
		
		<ul id="toc-Сканирование_портов-sublist" class="vector-toc-list">
			<li id="toc-Типы_сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A2%D0%B8%D0%BF%D1%8B_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Типы сканирования</div>
			</a>
			
			<ul id="toc-Типы_сканирования-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Методы_борьбы_со_сканированием" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B_%D0%B1%D0%BE%D1%80%D1%8C%D0%B1%D1%8B_%D1%81%D0%BE_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Методы борьбы со сканированием</div>
		</a>
		
			<button aria-controls="toc-Методы_борьбы_со_сканированием-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Методы борьбы со сканированием subsection</span>
			</button>
		
		<ul id="toc-Методы_борьбы_со_сканированием-sublist" class="vector-toc-list">
			<li id="toc-Модуль_PSD_для_iptables" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C_PSD_%D0%B4%D0%BB%D1%8F_iptables">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Модуль PSD для iptables</div>
			</a>
			
			<ul id="toc-Модуль_PSD_для_iptables-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Избегание_обнаружения" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D0%B7%D0%B1%D0%B5%D0%B3%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Избегание обнаружения</div>
			</a>
			
			<ul id="toc-Избегание_обнаружения-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Советы_и_рекомендации" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Советы и рекомендации</div>
		</a>
		
			<button aria-controls="toc-Советы_и_рекомендации-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Советы и рекомендации subsection</span>
			</button>
		
		<ul id="toc-Советы_и_рекомендации-sublist" class="vector-toc-list">
			<li id="toc-Ограничение_скорости_сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9E%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Ограничение скорости сканирования</div>
			</a>
			
			<ul id="toc-Ограничение_скорости_сканирования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Считывание_целей_из_файла" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D1%87%D0%B8%D1%82%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%86%D0%B5%D0%BB%D0%B5%D0%B9_%D0%B8%D0%B7_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Считывание целей из файла</div>
			</a>
			
			<ul id="toc-Считывание_целей_из_файла-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Исключение_целей_из_сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%98%D1%81%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%86%D0%B5%D0%BB%D0%B5%D0%B9_%D0%B8%D0%B7_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Исключение целей из сканирования</div>
			</a>
			
			<ul id="toc-Исключение_целей_из_сканирования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Подмена" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%BE%D0%B4%D0%BC%D0%B5%D0%BD%D0%B0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Подмена</div>
			</a>
			
			<ul id="toc-Подмена-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ускорение_сканирования" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Ускорение сканирования</div>
			</a>
			
			<ul id="toc-Ускорение_сканирования-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Сканирование_порта_0" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A1%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D1%80%D1%82%D0%B0_0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>Сканирование порта 0</div>
			</a>
			
			<ul id="toc-Сканирование_порта_0-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Форматы_вывода_файлов" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>Форматы вывода файлов</div>
			</a>
			
			<ul id="toc-Форматы_вывода_файлов-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Смотрите_также" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Смотрите также</div>
		</a>
		
		<ul id="toc-Смотрите_также-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Nmap (Русский)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Nmap" title="Nmap – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Nmap.html" title="Nmap – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Nmap" title="Nmap – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="ru" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Nmap.html" title="Nmap">Nmap</a>. Дата последней синхронизации: 10 декабря 2022. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Nmap&amp;diff=0&amp;oldid=759765">изменения</a>.</div>
<p>С <a rel="nofollow" class="external text" href="https://nmap.org/">официального сайта</a>:
</p>
<dl><dd>Nmap (“Network Mapper”) — инструмент с открытым исходным кодом для исследования сети и аудита безопасности. Он был разработан для быстрого сканирования больших сетей, хотя прекрасно работает и с отдельными хостами. Nmap использует raw IP-пакеты для определения, какие хосты доступны в сети, какие сервисы (имя и версия приложения) на них запущены, какие операционные системы (и версии ОС) на них установлены, какие типы пакетных фильтров/межсетевых экранов используются, и десятки других характеристик. Хотя Nmap обычно используется для аудита безопасности, многие системные и сетевые администраторы находят его полезным для выполнения рутинных задач, таких как инвентаризация сети, управление графиком обновления служб и мониторинг времени работы хостов или служб.</dd></dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Сканирование чужих сетей является незаконным в довольно многих юрисдикциях. Дважды проверьте, что вы сканируете только свои собственные узлы (смотрите раздел <a href="#%D0%A1%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81_%D1%86%D0%B5%D0%BB%D1%8C%D1%8E_%D1%81%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0">#Сканирование с целью составления списка</a>), или получите разрешение у соответствующего владельца, прежде чем выполнять сканирование!</div>
<meta property="mw:PageProp/toc">
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nmap">nmap</a></span>.
</p>
<p>Также есть графический интерфейс <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zenmap/">zenmap</a></span><sup><small>AUR</small></sup>, но в этой статье рассматривается только использование командной строки.
</p>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Использование">Использование</span>
</h2>
<p>Смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 nmap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmap.1">nmap(1)</a></span>.
</p>
<h3>
<span id=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.86.D0.B5.D0.BB.D0.B8_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Определение_цели_сканирования">Определение цели сканирования</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Чтобы вывести все пакеты, которые отправляет и получает Nmap, используйте опцию <code>--packet-trace</code>.</div>
<p>Есть несколько способов задать цель, которую Nmap должен будет просканировать. Самый простой способ — написать адрес или домен:
</p>
<pre>$ nmap scanme.nmap.org
$ nmap 74.207.244.221
</pre>
<h4>
<span id=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.B8.D1.85_.D1.86.D0.B5.D0.BB.D0.B5.D0.B9"></span><span class="mw-headline" id="Определение_нескольких_целей">Определение нескольких целей</span>
</h4>
<p>С помощью <a href="https://en.wikipedia.org/wiki/ru:%D0%91%D0%B5%D1%81%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F" class="extiw" title="wikipedia:ru:Бесклассовая адресация">CIDR</a>-нотации можно задать диапазон адресов. Следующий пример будет сканировать все 256 IP-адресов, начинающихся на <code>10.1.1</code>:
</p>
<pre>$ nmap 10.1.1.0/24
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Число <code>0</code> в данном примере ни на что не влияет: <code>nmap 10.1.1.0/24</code> и, к примеру, <code>nmap 10.1.1.134/24</code> означают одно и то же.</div>
<p>Можно задать диапазон через дефис. Пример сканирования <code>10.1.50.1</code>, <code>10.1.51.1</code> и <code>10.1.52.1</code>:
</p>
<pre>$ nmap 10.1.50-52.1
</pre>
<p>Задать определённые значения через запятую:
</p>
<pre>$ nmap 10.1.50,51,52,57,59.1
</pre>
<p>Всё вместе:
</p>
<pre>$ nmap 10.1,2.50-52.1/30 10.1.1.1 10.1.1.2
</pre>
<h3>
<span id=".D0.A1.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81_.D1.86.D0.B5.D0.BB.D1.8C.D1.8E_.D1.81.D0.BE.D1.81.D1.82.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D1.81.D0.BF.D0.B8.D1.81.D0.BA.D0.B0"></span><span class="mw-headline" id="Сканирование_с_целью_составления_списка">Сканирование с целью составления списка</span>
</h3>
<p>Опция <code>-sL</code> (list scan) полезна для проверки, что вы задали правильные цели сканирования, перед выполнением реального сканирования:
</p>
<pre>$ nmap -sL 10.1,2.50-52.1/30 10.1.1.1 10.1.1.2
</pre>
<p>Запуск с этой опцией просто выведет список всех прописанных адресов без отправки им каких-либо пакетов.
</p>
<h3>
<span id=".D0.9E.D0.BF.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></span><span class="mw-headline" id="Опции_по_умолчанию">Опции по умолчанию</span>
</h3>
<p>Если вы укажете только IP-адрес или домен без дополнительных опций:
</p>
<pre>$ nmap 74.207.244.221
</pre>
<p>Nmap сделает следующее:
</p>
<ol>
<li>Домен будет преобразован в IP-адрес или, наоборот, IP-адрес будет преобразован в домен с помощью reverse-DNS (для отключения добавьте опцию <code>-n</code>).</li>
<li>Выполнится пинг-сканирование с использованием TCP ACK:80 и ICMP. Это эквивалентно <code>-PA -PE</code> (для отключения добавьте опцию <code>-PN</code>).</li>
<li>Выполнится сканирование 1000 самых популярных портов. При запуске от имени root используется скрытное SYN-сканирование. При запуске от имени пользователя используется сканирование с помощью системного вызова <code>connect</code>.</li>
</ol>
<h2>
<span id=".D0.9F.D0.B8.D0.BD.D0.B3-.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Пинг-сканирование">Пинг-сканирование</span>
</h2>
<p>Пинг-сканирование (ping scan, обнаружение хостов) — это метод определения, работают ли указанные компьютеры. По умолчанию Nmap выполняет пинг-сканирование перед сканированием портов, чтобы не тратить время на хосты, которых даже нет в сети. Чтобы выполнить <b>только</b> пинг-сканирование, используйте опцию:
</p>
<pre>$ nmap -sn 10.1.1.1/8
</pre>
<p>Nmap проверит доступность каждого указанного хоста и выведет список ответивших хостов.
</p>
<p>Nmap использует разные типы пингования при запуске с правами пользователя или root и при сканировании своей или сторонней подсети:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>
</th>
<th>Внешний IP
</th>
<th>Локальный IP
</th>
</tr>
<tr>
<th>Обычный пользователь
</th>
<td>TCP SYN на портах 80 и 443
</td>
<td>TCP SYN на портах 80 и 443 и ARP
</td>
</tr>
<tr>
<th>Суперпользователь
</th>
<td>TCP SYN на портах 80 и 443 и IGMP
</td>
<td>ARP
</td>
</tr>
</tbody>
</table>
<h3>
<span id=".D0.A2.D0.B8.D0.BF.D1.8B_.D0.BF.D0.B8.D0.BD.D0.B3-.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Типы_пинг-сканирования">Типы пинг-сканирования</span>
</h3>
<table class="wikitable">
<tbody>
<tr>
<th>Опция</th>
<th>Тип
</th>
</tr>
<tr>
<td><code>-Pn</code></td>
<td>Отключение пинг-сканирования
</td>
</tr>
<tr>
<td><code>-PS</code></td>
<td>TCP <b>S</b>YN (по умолчанию на порту 80)
</td>
</tr>
<tr>
<td><code>-PA</code></td>
<td>TCP <b>A</b>CK (по умолчанию на порту 80)
</td>
</tr>
<tr>
<td><code>-PU</code></td>
<td>
<b>U</b>DP
</td>
</tr>
<tr>
<td><code>-PY</code></td>
<td>SCTP INIT
</td>
</tr>
<tr>
<td><code>-PE</code></td>
<td>ICMP <b>E</b>cho
</td>
</tr>
<tr>
<td><code>-PP</code></td>
<td>ICMP timestam<b>p</b>
</td>
</tr>
<tr>
<td><code>-PM</code></td>
<td>ICMP address <b>m</b>ask
</td>
</tr>
<tr>
<td><code>-PO</code></td>
<td>
<b>O</b>ther IP protocol
</td>
</tr>
<tr>
<td><code>-PR</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/ru:ARP" class="extiw" title="wikipedia:ru:ARP">ARP</a> сканирование
</td>
</tr>
</tbody>
</table>
<p><code>-Pn</code> полезен, когда сканируемый хост защищён межсетевым экраном, который блокирует доступ к TCP-портам 80 и 443 и IGMP-запросы, но может принимать подключения на других менее распространённых портах.
</p>
<h2>
<span id=".D0.A1.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D1.80.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Сканирование_портов">Сканирование портов</span>
</h2>
<p>Порт может быть в трёх основных состояниях:
</p>
<ul>
<li>открыт (<code>open</code>) — на хосте есть программа, которая слушает этот порт и успешно ответила на запрос</li>
<li>закрыт (<code>closed</code>) — хост ответил, что этот порт никто не слушает</li>
<li>фильтруется (<code>filtered</code>) — хост вообще не ответил. Это может означать, что запрос был заблокирован межсетевым экраном</li>
</ul>
<p>В дополнение к ним существует ещё 3 состояния, в которых Nmap может классифицировать порт. Они используются, когда Nmap не может достоверно определить состояние, но подозревает два из трех возможных состояний:
</p>
<ul>
<li>
<code>open|closed</code> (<code>unfiltered</code>) — порт открыт или закрыт (при ACK-сканировании)</li>
<li>
<code>closed|filtered</code>) — порт закрыт или фильтруется (при сканировании IP ID idle типа)</li>
<li>
<code>open|filtered</code> — порт открыт или фильтруется (например, при UDP-сканировании)</li>
</ul>
<p>По умолчанию Nmap сканирует 1000 самых популярных портов, указанных в файле <code>/usr/share/nmap/nmap-services</code>. Можно задать сканирование другого количества популярных портов:
</p>
<pre>$ nmap --top-ports 1000 10.1.1.1
</pre>
<p>Чтобы задать свои номера портов, используйте опцию <code>-p</code>:
</p>
<pre>$ nmap -p -25,135-137 10.1.1.1
</pre>
<p>Определение портов с дефисами и запятыми работает так же, как и <a href="#%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%86%D0%B5%D0%BB%D0%B8_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">#Определение цели сканирования</a>. Кроме того, можно указать все порты до/после заданного, пропуская начальный/конечный порт при использовании дефиса. Например, для сканирования всех возможных 65535 портов (кроме <a href="#%D0%A1%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%BE%D1%80%D1%82%D0%B0_0">порта 0</a>):
</p>
<pre>$ nmap -p -
</pre>
<h3>
<span id=".D0.A2.D0.B8.D0.BF.D1.8B_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Типы_сканирования">Типы сканирования</span>
</h3>
<table class="wikitable">
<tbody>
<tr>
<th>Опция</th>
<th>Тип
</th>
</tr>
<tr>
<td><code>-sP</code></td>
<td>Только <a href="#%D0%9F%D0%B8%D0%BD%D0%B3-%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">пинг-сканирование</a>
</td>
</tr>
<tr>
<td><code>-sS</code></td>
<td>TCP SYN (скрытное) (По умолчанию при запуске суперпользователем)
</td>
</tr>
<tr>
<td><code>-sT</code></td>
<td>TCP с системным вызовом connect (По умолчанию при запуске обычным пользователем)
</td>
</tr>
<tr>
<td><code>-sA</code></td>
<td>TCP ACK
</td>
</tr>
<tr>
<td><code>-sF</code></td>
<td>TCP FIN
</td>
</tr>
<tr>
<td><code>-sX</code></td>
<td>TCP FIN, SYN, ACK
</td>
</tr>
<tr>
<td><code>-sW</code></td>
<td>TCP window
</td>
</tr>
<tr>
<td><code>-sM</code></td>
<td>TCP сканирование Мэймона (Maimon)
</td>
</tr>
<tr>
<td><code>-sU</code></td>
<td>UDP-сканирование
</td>
</tr>
<tr>
<td><code>-sI</code></td>
<td>«Ленивое» idle сканирование
</td>
</tr>
<tr>
<td><code>-b</code></td>
<td>FTP bounce сканирование
</td>
</tr>
<tr>
<td><code>-sO</code></td>
<td>Сканирование других IP-протоколов
</td>
</tr>
</tbody>
</table>
<h2>
<span id=".D0.9C.D0.B5.D1.82.D0.BE.D0.B4.D1.8B_.D0.B1.D0.BE.D1.80.D1.8C.D0.B1.D1.8B_.D1.81.D0.BE_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC"></span><span class="mw-headline" id="Методы_борьбы_со_сканированием">Методы борьбы со сканированием</span>
</h2>
<h3>
<span id=".D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D1.8C_PSD_.D0.B4.D0.BB.D1.8F_iptables"></span><span class="mw-headline" id="Модуль_PSD_для_iptables">Модуль PSD для iptables</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://sourceforge.net/p/xtables-addons/xtables-addons/ci/master/tree/extensions/xt_psd.c">PSD</a> — модуль расширения для <a href="../ru/Iptables.html" title="Iptables (Русский)">iptables</a>. Он также применяется в некоторых коммерческих маршрутизаторах, использующих Linux.
</p>
<p>У него есть 4 параметра:
</p>
<ul><li>
<code>--psd-weight-threshold <i>порог</i></code>, по умолчанию: <code>21</code>
</li></ul>
<dl><dd>Общий вес последних TCP/UDP-пакетов, пришедших с одного хоста, но на разные порты, при достижении которого хост станет считаться сканером портов.</dd></dl>
<ul><li>
<code>--psd-delay-threshold <i>задержка</i></code>, по умолчанию: <code>300</code> (3 секунды)</li></ul>
<dl><dd>Максимальная задержка (в сотых долях секунды) между пакетами, приходящми с одного хоста на разные порты, в пределах которой они будут считаться сканированием портов.</dd></dl>
<ul><li>
<code>--psd-lo-ports-weight <i>вес</i></code>, по умолчанию: <code>3</code>
</li></ul>
<dl><dd>Вес пакетов с привилегированным (&lt;1024) портом назначения.</dd></dl>
<ul><li>
<code>--psd-hi-ports-weight <i>вес</i></code>, по умолчанию: <code>1</code>
</li></ul>
<dl><dd>Вес пакетов с непривилегированным (&gt;=1024) портом назначения.</dd></dl>
<p>Принцип действия PSD простой. Если запросы с одного IP набрали суммарный вес, превышающий заданный порог в течение заданной задержки, то IP классифицируется как сканер портов. В математическом выражении:
</p>
<pre><i>lo_ports_weight</i> * <b>REQUESTS_LOW</b> + <i>hi_ports_weight</i> * <b>REQUESTS_HIGH</b> &gt;= <i>threshold</i>
</pre>
<p>где
</p>
<pre><b>REQUESTS_LOW</b> = число запросов к привилегированным (от 0 до 1023) портам в течение заданной задержки
<b>REQUESTS_HI</b> = число запросов к непривилегированным (от 1024 до 65535) портам в течение заданной задержки
</pre>
<p>Примеры при использовании параметров по умолчанию:
</p>
<ul>
<li>Если хост обратился как минимум к 7 привилегированным портам в течение 3 секунд, он считается сканером портов.</li>
<li>Если хост обратился как минимум к 21 непривилегированным портам в течение 3 секунд, он считается сканером портов.</li>
<li>Если хост обратился к 4 привилегированным и к 9 непривилегированным портам в течение 3 секунд, он считается сканером портов, потому что <code>4*3 + 9*1 &gt;= 21</code>.</li>
</ul>
<h3>
<span id=".D0.98.D0.B7.D0.B1.D0.B5.D0.B3.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Избегание_обнаружения">Избегание обнаружения</span>
</h3>
<p>Простейший способ обойти PSD — просто <a href="#%D0%9E%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">сканировать медленно</a>. Для параметров PSD по умолчанию достаточно добавить такую опцию:
</p>
<pre>$ nmap --scan-delay 3.1 192.168.56.1
</pre>
<p>Ещё одним интересным фактом о PSD является то, что он не определяет запрос как сканирование порта, если установлены флаги <code>ack</code> или <code>rst</code> (смотрите функцию <code>is_portscan</code> в <a rel="nofollow" class="external text" href="https://sourceforge.net/p/xtables-addons/xtables-addons/ci/master/tree/extensions/xt_psd.c">xt_psd.c</a>).
</p>
<p>Также, если вы сканируете порт хоста, а на нём запущена служба HTTP(S), nmap по умолчанию будет использовать User-Agent <code>Mozilla/5.0 (compatible; Nmap Scripting Engine; <a rel="nofollow" class="external free" href="https://nmap.org/book/nse.html">https://nmap.org/book/nse.html</a>)</code>. Таким образом, ваши действия будут легко обнаружены, особенно если администратор или робот следят за появлением такого User-Agent в журналах сервера. К счастью, nmap позволяет нам легко изменить эту строку: просто добавьте опцию <code>-script-args http.useragent="<i>какой угодно user agent</i>"</code>. <a rel="nofollow" class="external text" href="https://archive.today/2015.01.04-200747/http://www.kroosec.com/2012/02/making-nmap-scripting-engine-stealthier.html">Источник</a>
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3>
<span id=".D0.9E.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D0.B8_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Ограничение_скорости_сканирования">Ограничение скорости сканирования</span>
</h3>
<p>Сканирование Nmap происходит <i>быстро</i>. Хотя это обычно желательно, иногда это может стать проблемой. Например, когда вы хотите протестировать межсетевой экран вашей системы, не отключая активированные правила обнаружения флуда, или когда вы хотите провести длительное тестирование для определённого порта/сервиса. Следующие опции определяют скорость, с которой Nmap отправляет пакеты.
</p>
<p>Чтобы отправлять пакеты не чаще, чем каждые 3,333 секунды:
</p>
<pre>$ nmap --max-rate 0.3 192.168.56.1
</pre>
<p>Чтобы отправлять пакеты раз в 3,1 секунды:
</p>
<pre>$ nmap --scan-delay 3.1 192.168.56.1
</pre>
<p>Есть и другие опции, которые подробно описаны в <span class="plainlinks archwiki-template-man" title="$ man 1 nmap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmap.1">nmap(1)</a></span>.
</p>
<h3>
<span id=".D0.A1.D1.87.D0.B8.D1.82.D1.8B.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.86.D0.B5.D0.BB.D0.B5.D0.B9_.D0.B8.D0.B7_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0"></span><span class="mw-headline" id="Считывание_целей_из_файла">Считывание целей из файла</span>
</h3>
<p>Если нужно просканировать большое количество несмежных адресов, то прописывать их все в командной строке обычно неудобно. По этой причине Nmap поддерживает чтение целей из файла с помощью опции <code>-iL</code> (<b>i</b>nput from a <b>l</b>ist file):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">addresses.txt</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">10.1.1.1 10.1.1.2 10.1.1-10.3
10.3.1.3 10.3.1.50 10.3.2.55
10.1.1.100
...
</pre>
<pre>$ nmap -iL addresses.txt
</pre>
<p>Адреса нужно разделять пробельными символами.
</p>
<p>Также можно считывать список из стандартного ввода (<code>-</code> означает стандартный ввод во многих консольных инструментах):
</p>
<pre>$ echo "10.1.1.1 10.1.1.2 10.1.1-10.3" | nmap -iL -
</pre>
<h3>
<span id=".D0.98.D1.81.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.86.D0.B5.D0.BB.D0.B5.D0.B9_.D0.B8.D0.B7_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Исключение_целей_из_сканирования">Исключение целей из сканирования</span>
</h3>
<pre>$ nmap 10.1.1.1-10 --exclude 10.1.1.5,7
</pre>
<p>Или считывание из файла:
</p>
<pre>$ nmap 10.1.1.1-10 --excludefile excludeaddr.txt
</pre>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.BC.D0.B5.D0.BD.D0.B0"></span><span class="mw-headline" id="Подмена">Подмена</span>
</h3>
<p>Подмена исходящего IP-адреса:
</p>
<pre>$ nmap -S 192.168.56.35 -e vboxnet0 192.168.56.11
</pre>
<p>Подмена MAC-адреса:
</p>
<pre>$ nmap --spoof-mac 01:02:03:04:05:06 192.168.56.11
</pre>
<p>Подмена исходящего порта:
</p>
<pre>$ nmap --source-port 22 192.168.56.11
</pre>
<h3>
<span id=".D0.A3.D1.81.D0.BA.D0.BE.D1.80.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Ускорение_сканирования">Ускорение сканирования</span>
</h3>
<p>По умолчанию nmap выполняет DNS/reverse-DNS запросы. Чтобы отключить это, используйте опцию <code>-n</code>:
</p>
<pre>$ nmap -n 192.168.56.0/24
</pre>
<p>Это ускоряет сканирование примерно в 2 раза.
</p>
<h3>
<span id=".D0.A1.D0.BA.D0.B0.D0.BD.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D1.80.D1.82.D0.B0_0"></span><span class="mw-headline" id="Сканирование_порта_0">Сканирование порта 0</span>
</h3>
<p>По умолчанию порт с номером 0 не сканируется, даже если указать опцию <code>-p -</code>. Чтобы просканировать и его тоже, явно задайте диапазон с его использованием. Например, чтобы просканировать абсолютно все порты:
</p>
<pre>$ nmap -p 0-65535
</pre>
<p>Имейте в виду, что этот номер порта считается недействительным в стандартах RFC. Однако он может использоваться, например, вредоносными программами, чтобы спрятаться более наивных сканеров портов.
</p>
<h3>
<span id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B_.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Форматы_вывода_файлов">Форматы вывода файлов</span>
</h3>
<p>Помимо вывода в терминал, Nmap умеет записывать результаты сканирования в файл:
</p>
<ul><li><code>-oN <i>файл</i></code></li></ul>
<dl><dd>Обычный вывод, аналогичен выводу в терминал</dd></dl>
<ul><li><code>-oX <i>файл</i></code></li></ul>
<dl><dd>XML-вывод с очень подробной информацией, удобен для обработки программами</dd></dl>
<ul><li><code>-oG <i>файл</i></code></li></ul>
<dl><dd>Вывод, удобный для работы с grep, объявлен устаревшим</dd></dl>
<ul><li><code>-oA <i>имя</i></code></li></ul>
<dl><dd>Всё сразу. Создаст файлы с именами <code><i>имя</i>.nmap</code>, <code><i>имя</i>.xml</code> и <code><i>имя</i>.gnmap</code>
</dd></dl>
<p>Например, чтобы записать вывод в терминал, в файл и в XML-файл:
</p>
<pre>$ nmap -oN output.txt -oX output.xml scanme.nmap.org
</pre>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/ru:nmap" class="extiw" title="wikipedia:ru:nmap">Wikipedia:ru:nmap</a></li>
<li><a rel="nofollow" class="external text" href="https://nmap.org/">Официальный сайт</a></li>
<li><a rel="nofollow" class="external text" href="https://nmap.org/book/">Nmap Network Scanning book</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Networking.html" title="Category:Networking (Русский)">Networking (Русский)</a></li>
<li><a href="../ru/Category:Security.html" title="Category:Security (Русский)">Security (Русский)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Nmap_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=759766">https://wiki.archlinux.org/index.php?title=Nmap_(Русский)&amp;oldid=759766</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 10 December 2022, at 16:26.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
