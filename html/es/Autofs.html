<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Autofs (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Autofs_Español rootpage-Autofs_Español skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalación" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Instalaci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalación</div>
		</a>
		
		<ul id="toc-Instalación-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuración" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuraci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuración</div>
		</a>
		
			<button aria-controls="toc-Configuración-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuración subsection</span>
			</button>
		
		<ul id="toc-Configuración-sublist" class="vector-toc-list">
			<li id="toc-Medios_extraíbles" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Medios_extra%C3%ADbles">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Medios extraíbles</div>
			</a>
			
			<ul id="toc-Medios_extraíbles-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Montado_de_red_NFS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Montado_de_red_NFS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Montado de red NFS</div>
			</a>
			
			<ul id="toc-Montado_de_red_NFS-sublist" class="vector-toc-list">
				<li id="toc-Configuración_manual_para_NFS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configuraci%C3%B3n_manual_para_NFS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Configuración manual para NFS</div>
			</a>
			
			<ul id="toc-Configuración_manual_para_NFS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Samba" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Samba">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Samba</div>
			</a>
			
			<ul id="toc-Samba-sublist" class="vector-toc-list">
				<li id="toc-Un_solo_recurso" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Un_solo_recurso">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Un solo recurso</div>
			</a>
			
			<ul id="toc-Un_solo_recurso-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Múltiples_recursos" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#M%C3%BAltiples_recursos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>Múltiples recursos</div>
			</a>
			
			<ul id="toc-Múltiples_recursos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Descubrimiento_automático" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Descubrimiento_autom%C3%A1tico">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.3</span>Descubrimiento automático</div>
			</a>
			
			<ul id="toc-Descubrimiento_automático-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-FTP_y_SSH_(con_FUSE)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#FTP_y_SSH_(con_FUSE)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>FTP y SSH (con FUSE)</div>
			</a>
			
			<ul id="toc-FTP_y_SSH_(con_FUSE)-sublist" class="vector-toc-list">
				<li id="toc-FTP_remoto" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#FTP_remoto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>FTP remoto</div>
			</a>
			
			<ul id="toc-FTP_remoto-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSH_remoto" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SSH_remoto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.2</span>SSH remoto</div>
			</a>
			
			<ul id="toc-SSH_remoto-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-MTP" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#MTP">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>MTP</div>
		</a>
		
		<ul id="toc-MTP-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Solución_de_problemas_y_ajustes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Soluci%C3%B3n_de_problemas_y_ajustes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Solución de problemas y ajustes</div>
		</a>
		
			<button aria-controls="toc-Solución_de_problemas_y_ajustes-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solución de problemas y ajustes subsection</span>
			</button>
		
		<ul id="toc-Solución_de_problemas_y_ajustes-sublist" class="vector-toc-list">
			<li id="toc-Usando_NIS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_NIS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Usando NIS</div>
			</a>
			
			<ul id="toc-Usando_NIS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Parámetros_opcionales" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Par%C3%A1metros_opcionales">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Parámetros opcionales</div>
			</a>
			
			<ul id="toc-Parámetros_opcionales-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Identificado_múltiples_dispositivos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Identificado_m%C3%BAltiples_dispositivos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Identificado múltiples dispositivos</div>
			</a>
			
			<ul id="toc-Identificado_múltiples_dispositivos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Permisos_de_AutoFS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Permisos_de_AutoFS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Permisos de AutoFS</div>
			</a>
			
			<ul id="toc-Permisos_de_AutoFS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problemas_con_fusermount" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problemas_con_fusermount">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Problemas con fusermount</div>
			</a>
			
			<ul id="toc-Problemas_con_fusermount-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Depurando_problemas_de_automontado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Depurando_problemas_de_automontado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Depurando problemas de automontado</div>
			</a>
			
			<ul id="toc-Depurando_problemas_de_automontado-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Alternativas_a_AutoFS" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Alternativas_a_AutoFS">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Alternativas a AutoFS</div>
		</a>
		
		<ul id="toc-Alternativas_a_AutoFS-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Véase_también" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#V%C3%A9ase_tambi%C3%A9n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Véase también</div>
		</a>
		
		<ul id="toc-Véase_también-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Autofs (Español)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Autofs.html" title="Autofs – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Autofs" title="Autofs – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Autofs.html" title="Autofs – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="es" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">Esta traducción de <a href="../en/Autofs.html" title="Autofs">Autofs</a> fue revisada el <b>2021-03-15</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Autofs&amp;diff=0&amp;oldid=654627">cambios</a> puede <a href="../es/ArchWiki:Translation_Team/Contributing.html" title="ArchWiki:Translation Team (Español)/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<p>Autofs provee montado automático para medios extraíbles y recursos de red cuando estos son insertados o accedidos.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p><a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">Instale</a> el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/autofs/">autofs</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Ya no es necesario que cargue el modulo <code>autofs4</code>.</div>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<p>AutoFs ocupa los archivos de plantilla para la configuración que están ubicados en <code>/etc/autofs</code>. La plantilla principal se llama <code>auto.master</code>, y esta puede hacer referencia a una o más plantillas para distintos tipos de dispositivos.
</p>
<ul><li>Abra el archivo <code>/etc/autofs/auto.master</code> con su editor de texto favorito, va a ver algo así:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#/media /etc/autofs/auto.media</pre>
<p>El primer valor en cada linea determina el directorio base en donde todos los dispositivos en la plantilla van a ser montados, el segundo valor es la plantilla que se va a usar. El directorio base por defecto es <code>/media</code>, pero puede cambiarlo a la dirección que prefiera. Por ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/media/misc     /etc/autofs/auto.misc     --timeout=5
/media/net      /etc/autofs/auto.net      --timeout=60</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Asegúrese que haya una linea vacía al final de los archivos de plantilla (presione <code>INTRO</code> después de ultima palabra). Si no hay una linea EOF correcta <i>(final de archivo, en inglés: end of file)</i>, el demonio de AutoFS no va a cargar correctamente.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> El parámetro opcional <code>timeout</code> establece la cantidad de segundos que debe esperar para desmontar los directorios. Puede desactivar esta espera estableciéndolo a <code>0</code>.</div>
<p>El directorio base va a ser creado sí es que no existe en su sistema. El directorio base va a ser montado para cargar dinámicamente los dispositivos, lo que significa que cualquier contenido en el directorio base no podrá accederse mientras autofs esté activado. Este procedimiento no es destructivo, así que sí se monta automáticamente en un directorio que está ocupando, simplemente puede cambiar la dirección en <code>auto.master</code> y reiniciarlo para acceder a sus archivos.
</p>
<p>Si aún así quiere montar automáticamente en un directorio que no esté vacío y tener acceso a los archivos incluso después que los directorios sean cargados dinámicamente, puede hacer que autofs los monte en otro directorio (p.ej /var/autofs/net) y los enlace.
</p>
<pre># ln -s /var/autofs/net/nombre_del_dispocitivo /media/nombre_del_dispositivo
</pre>
<p>Alternativamente, puede hacer que autofs monte sus dispositivos en una carpeta especifica, en vez de hacerlo en una carpeta en común.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/-     /etc/autofs/auto.template</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.template</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/path/to/folder     -options :/device/path
/home/user/usbstick  -fstype=auto,async,nodev,nosuid,umask=000  :/dev/sdb1</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Esto puede causar problemas sí es que los recursos queden trabados sí se pierde la conexión. Cuando se intente acceder a la carpeta, los programas se va a bloquear mientras esperan una respuesta, y la conexión tiene que ser o restaurada o cortada de manera forzosa para que se pueda desmontar. Para mitigar esto, Solo úselo sí es que puede estar siempre conectado al dispositivo, y no ocupe su carpeta <i>home</i> o alguna otra que sea usada regularmente por su explorador de archivos, para que no lea la carpeta desconectada.</div>
<ul><li>Abra el archivo <code>/etc/nsswitch.conf</code> y añada una entrada para montarlo automáticamente:</li></ul>
<pre>automount: files
</pre>
<ul><li>Cuando termine de configurar sus plantillas (vea más abajo), inicie el demonio de AutoFS como <i>root</i> <a href="../es/Systemd.html#Utilizar_las_unidades" title="Systemd (Español)">habilitándolos</a> e iniciando el servicio <code>autofs.service</code>.</li></ul>
<p>Ahora los dispositivos son montados automáticamente cuando son accedidos, y se mantendrán montados mientras los acceda.
</p>
<h3>
<span id="Medios_extra.C3.ADbles"></span><span class="mw-headline" id="Medios_extraíbles">Medios extraíbles</span>
</h3>
<p>A los dispositivos extraíbles se les asigna su ubicación en los dispositivos de bloques según el que esté disponible, p.ej. sí <code>/dev/sd{a,b,c} </code> ya están ocupados, al siguiente dispositivo extraíble se le va a asignar el bloque <code>/dev/sdd</code>. En vez de asignar un punto de montaje a la ubicación de un dispositivo de bloques impredecible, una alternativa más robusta es usar el UUID <i>(Identificación Universalmente Única)</i> o el PARTUUID <i>(Identificación Universalmente Única de la PARTE)</i> del dispositivo extraíble como la ubicación a la que se le asigna el archivo.
</p>
<p>Por ejemplo, para montar una unidad USB especifico a la ubicación <code>/mnt/black</code>, configure el archivo de plantilla y el de asignado:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># master template file
/mnt     /etc/autofs/auto.mnt   # [ponga aquí las opciones]</pre>
<p>Use <code>blkid</code> para encontrar el UUID de la partición a montar, y genere el archivo de asignado:
</p>
<pre> # _ID=$( blkid --output value --match-tag PARTUUID /dev/sd<i>XY</i> )
 # printf "%s %s\n" "black -fstype=auto :PARTUUID=" "${_ID}" &gt;/etc/autofs/auto.mnt
</pre>
<h3><span class="mw-headline" id="Montado_de_red_NFS">Montado de red NFS</span></h3>
<p>AutoFS puede descubrir y montar automáticamente recursos <a href="../en/NFS.html" class="mw-redirect" title="NFS (Español)">NFS</a> en servidores remotos (la plantilla de red de AutoFS en <code>/etc/autofs/auto.net</code> fue removida en autofs5). Para habilitar el descubrimiento y montado automático de recursos compartidos en todos los servidores disponibles sin tener que configurar nada mas, tendrá que añadir lo siguiente a el archivo <code>/etc/autofs/auto.master</code>:
</p>
<pre>/net -hosts --timeout=60
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Todos los nombres de host deben ser resolvibles, p.ej. el nombre y la dirección IP en <code>/etc/hosts</code> o a través de <a href="https://en.wikipedia.org/wiki/es:Domain_Name_System" class="extiw" title="wikipedia:es:Domain Name System">DNS</a> y asegúrese que tiene <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nfs-utils">nfs-utils</a></span> instalado y configurado. También tiene que <a href="../es/Systemd.html#Utilizar_las_unidades" title="Systemd (Español)">habilitar</a> <code>rpcbind</code> para navegar los directorios compartidos.</div>
<p>Por ejemplo, sí tiene un servidor remoto llamado <i>servidor</i> (el nombre del directorio es el nombre del servidor) con un dispositivo NFS llamado <code>/home/share</code>, usted puede acceder a esté escribiendo:
</p>
<pre># cd /net/servidor/home/share
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Tome en cuenta que el <i>ghosting</i> (es decir: crear automáticamente directorios provisorios antes de montar los recursos) está activado por defecto; Aunque las notas de instalación de AutoFS digan que se debe sacar esa opción de <code>/etc/conf.d/autofs</code> para iniciar el demonio de AutoFS.</div>
<p>La opción <code>-hosts</code> usa un mecanismo similar al del comando <code>showmount</code> para detectar recursos compartidos. Usted puede ver los recursos exportados escribiendo:
</p>
<pre># showmount &lt;servername&gt; -e 
</pre>
<p>Reemplazando <i>&lt;servername&gt;</i> con el nombre de su servidor.
</p>
<h4>
<span id="Configuraci.C3.B3n_manual_para_NFS"></span><span class="mw-headline" id="Configuración_manual_para_NFS">Configuración manual para NFS</span>
</h4>
<p>Para montar un dispositivo NFS para el <i>servidor_de_archivos</i> en <code>/srv/shared_dir</code> en la ubicación <code>/mnt/foo</code>, <a href="../es/Help:Reading.html#Adjuntar,_a%C3%B1adir,_crear,_editar" title="Help:Reading (Español)">añada</a> un nuevo archivo de configuración, p.ej <code>file_server.autofs</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master.d/servidor_de_archivos.autofs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/mnt   /etc/autofs/auto.servidor_de_archivos --timeout 60</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.servidor_de_archivos</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">foo  -rw,soft,rsize=8192,wsize=8192 servidor_de_archivos:/srv/shared_dir</pre>
<h3><span class="mw-headline" id="Samba">Samba</span></h3>
<h4><span class="mw-headline" id="Un_solo_recurso">Un solo recurso</span></h4>
<p>Añada lo siguiente a <code>/etc/autofs/auto.master</code>:
</p>
<pre>/media/[servidor] /etc/autofs/auto.[servidor] --timeout 60 --browse
</pre>
<p>Donde <code>--timeout</code> define cuantos segundos se tienen que esperar antes de desmontar el sistema de archivos. La opción <code>--browse</code> crea carpetas vacías para cada punto de montaje en el archivo, para prevenir tiempos de espera sí es que no se puede contactar con el recurso compartido.
</p>
<p>Después, cree el archivo <code>/etc/autofs/auto.[servidor]</code>
</p>
<pre>[nombre] -fstype=cifs,[otras_opciones] ://[servidor_remoto]/[nombre_del_servidor_remoto]
</pre>
<p>Usted puede especificar un nombre de usuario y contraseña para ocupar con el recurso en la sección <code>otras_opciones</code>:
</p>
<pre>[nombre] -fstype=cifs,username=[nombre_de_usuario],password=[contraseña],[otras_opciones] ://[servidor_remoto]/[nombre_del_servidor_remoto]
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Escape $, y otros caracteres cuando sea necesario.</div>
<h4>
<span id="M.C3.BAltiples_recursos"></span><span class="mw-headline" id="Múltiples_recursos">Múltiples recursos</span>
</h4>
<p>Puede especificar múltiples recursos en <code>/etc/autofs/auto.[servidor]</code>, por ejemplo:
</p>
<pre>[nombre] -fstype=cifs,[otras_opciones] /photos ://[servidor_remoto]/photos /music ://[servidor_remoto]/music /video ://[servidor_remoto]/video
</pre>
<h4>
<span id="Descubrimiento_autom.C3.A1tico"></span><span class="mw-headline" id="Descubrimiento_automático">Descubrimiento automático</span>
</h4>
<p>Vea los comentarios en <code>/etc/autofs/auto.smb</code>.
</p>
<h3>
<span id="FTP_y_SSH_.28con_FUSE.29"></span><span class="mw-headline" id="FTP_y_SSH_(con_FUSE)">FTP y SSH (con FUSE)</span>
</h3>
<p>Puede acceder servidores FTP y <a href="../es/OpenSSH.html" class="mw-redirect" title="SSH (Español)">SSH</a> sin problemas AutoFS usando <a href="https://en.wikipedia.org/wiki/es:Filesystem_in_Userspace" class="extiw" title="wikipedia:es:Filesystem in Userspace">FUSE</a>, la implementación de un sistema de archivos virtual.
</p>
<h4><span class="mw-headline" id="FTP_remoto">FTP remoto</span></h4>
<p>Primero, instale el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curlftpfs">curlftpfs</a></span>.
</p>
<p>Cargue el modulo <b>fuse</b>:
</p>
<pre># modprobe fuse
</pre>
<p>Cree un archivo <code>/etc/modules-load.d/fuse.conf</code> que contenga <code>fuse</code> para que lo cargue en cada inicio.
</p>
<p>Después, añada una nueva entrada para los servidores FTP en <code>/etc/autofs/auto.master</code>:
</p>
<pre>/media/ftp        /etc/autofs/auto.ftp    --timeout=60
</pre>
<p>Cree el archivo <code>/etc/autofs/auto.ftp</code> y añada un servidor usando el formato <code><a rel="nofollow" class="external free" href="ftp://usuario:contrase%C3%B1a@host:puerto/ruta">ftp://usuario:contraseña@host:puerto/ruta</a></code>:
</p>
<pre>nombre_del_servidor -fstype=curl,rw,allow_other,nodev,nonempty,noatime    :ftp\://usuario\:contraseña\@servidor_remoto
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Sus contraseñas serán visibles para cualquiera que ejecute <code>df</code> (solo en los servidores montados) o vea el archivo <code>/etc/autofs/auto.ftp</code>.</div>
<p>Si quiere una opción ligeramente más segura, cree el archivo <code>~root/.netrc</code> y añada ahí las contraseñas. Las contraseñas siguen en texto plano, pero puede ponerles el modo 600, y el comando <code>df</code> no las va a mostrar (montado o no). Este método también es menos sensible a los caracteres especiales (los que, sí no, deben ser escapados) en las contraseñas. El formato es:
</p>
<pre>machine servidor_remoto
login usuario
password contraseña
</pre>
<p>La linea en <code>/etc/autofs/auto.ftp</code> se ve así sin el usuario ni la contraseña:
</p>
<pre>nombre_del_servidor -fstype=curl,allow_other    :ftp\://servidor_remoto
</pre>
<p>Cree el archivo <code>/sbin/mount.curl</code> con este código:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/sbin/mount.curl</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> #! /bin/sh
 curlftpfs $1 $2 -o $4,disable_eprt
</pre>
<p>Cree el archivo <code>/sbin/umount.curl</code> con este código:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/sbin/umount.curl</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> #! /bin/sh
 fusermount -u $1
</pre>
<p>Establezca los permisos para ambos archivos:
</p>
<pre># chmod 755 /sbin/mount.curl
# chmod 755 /sbin/umount.curl
</pre>
<p>Después de un reinicio, su servidor FTP debería ser accesible a través de <code>/media/ftp/nombre_del_servidor</code>.
</p>
<h4><span class="mw-headline" id="SSH_remoto">SSH remoto</span></h4>
<p>Aquí tiene instrucciones básicas de como acceder a un sistema de archivos a través de <a href="../es/OpenSSH.html" class="mw-redirect" title="SSH (Español)">SSH</a> con AutoFS. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La autenticación sin contraseña puede ser conveniente, pero también tiene implicaciones de seguridad. Vea <a href="../en/SSH_keys.html" class="mw-redirect" title="SSH keys (Español)">Llaves SSH</a> para más detalles.</div>
<p>Instale el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sshfs">sshfs</a></span>.
</p>
<p>Cargue el modulo <code>fuse</code>:
</p>
<pre># modprobe fuse
</pre>
<p>Cree un archivo <code>/etc/modules-load.d/fuse.conf</code> que contenga <code>fuse</code> para que lo cargue en cada inicio sí es que no tiene uno aun.
</p>
<p>Instale <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openssh">openssh</a></span>.
</p>
<p>Genere unas <a href="../en/SSH_keys.html" class="mw-redirect" title="SSH keys (Español)">llaves SSH</a>:
</p>
<pre>$ ssh-keygen
</pre>
<p>Cuando el generador le pida una contraseña, solo presione <code>INTRO</code>. Usar llaves SSH sin una contraseña es menos seguro, aún así, ejecutar AutoFS con contraseña posee dificultades adicionales que no están cubiertas (aun) en este articulo.
</p>
<p>Después, copie la llave publica al servidor SSH:
</p>
<pre>$ ssh-copy-id nombre_de_usuario@host_remoto
</pre>
<p>Vea sí puede iniciar sección en el servidor remoto <b>como root</b>:
</p>
<pre># ssh nombre_de_usuario@host_remoto
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Esto va a añadir el servidor remoto a la lista de <code>known_hosts <i>(hosts conocidos)</i></code> del usuario root. Los hosts también pueden ser añadidos manualmente a <code>/etc/ssh/ssh_known_hosts</code>.</div>
<p>Cree una nueva entrada para los servidores SSH en <code>/etc/autofs/auto.master</code>:
</p>
<pre>/media/ssh		/etc/autofs/auto.ssh	--timeout=60
</pre>
<p>Cree el archivo <code>/etc/autofs/auto.ssh</code> y añada un servidor SSH:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.ssh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">nombre_del_servidor     -fstype=fuse,rw,allow_other,IdentityFile=/home/nombre_de_usuario/.ssh/id_rsa :sshfs\#nombre_de_usuario@host\:/</pre>
<p>Después de un reinicio, su servidor SSH debería ser accesible a través de <code>/media/ssh/nombre_del_servidor</code>.
</p>
<h2><span class="mw-headline" id="MTP">MTP</span></h2>
<p>El Protocolo de Transmisión de Medios (<a href="../en/Media_Transfer_Protocol.html" class="mw-redirect" title="MTP">MTP</a>) es usado en algunos dispositivos android.
</p>
<p>Instale el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mtpfs">mtpfs</a></span>.
</p>
<p>Cree una nueva entrada para el dispositivo MTP en <code>/etc/autofs/auto.misc</code>:
</p>
<pre>android -fstype=fuse,allow_other,umask=000     :mtpfs
</pre>
<h2>
<span id="Soluci.C3.B3n_de_problemas_y_ajustes"></span><span class="mw-headline" id="Solución_de_problemas_y_ajustes">Solución de problemas y ajustes</span>
</h2>
<p>Esta sección tiene algunas soluciones para problemas comunes de AutoFS.
</p>
<h3><span class="mw-headline" id="Usando_NIS">Usando NIS</span></h3>
<p>La versión 5.0.5 de AutoFS tiene un soporte más avanzado para <a href="../en/NIS.html" title="NIS">NIS</a>. Para usar AutoFS en conjunto con NIS, añada <code>yp:</code> adelante de los nombres de las plantillas en <code>/etc/autofs/auto.master</code>:
</p>
<pre>/home   yp:auto_home    --timeout=60 
/sbtn   yp:auto_sbtn    --timeout=60
+auto.master
</pre>
<p>En versiones anteriores de NIS (antes de la 5.0.4), usted debía añadir <code>nis</code> a <code>/etc/nsswitch.conf</code>:
</p>
<pre>automount: files nis
</pre>
<h3>
<span id="Par.C3.A1metros_opcionales"></span><span class="mw-headline" id="Parámetros_opcionales">Parámetros opcionales</span>
</h3>
<p>Puede establecer parámetros como <code>timeout</code> en el sistema para todos los recursos AutoFS en <code>/etc/default/autofs</code>:
</p>
<ul><li>Abra el archivo <code>/etc/default/autofs</code> y edite la linea <code>OPTIONS</code>:</li></ul>
<pre>OPTIONS='--timeout=5'
</pre>
<ul><li>Para activar el registro (por defecto no se registra nada), descomente y añada  <code>--verbose</code> a la linea <code>OPTIONS</code> en <code>/etc/default/autofs</code> p.ej.:</li></ul>
<pre>OPTIONS='--verbose --timeout=5'
</pre>
<p>Después de reiniciar el demonio <code>autofs</code>, la salida detallada va a ser visible con <code>systemctl status</code> o en <code>journalctl</code>.
</p>
<h3>
<span id="Identificado_m.C3.BAltiples_dispositivos"></span><span class="mw-headline" id="Identificado_múltiples_dispositivos">Identificado múltiples dispositivos</span>
</h3>
<p>Si utiliza varias unidades USB y quiere poder distinguirlas fácilmente, puede hacer que AutoFS maneje los puntos de montado y que <a href="../en/Udev.html" class="mw-redirect" title="Udev (Español)">Udev</a> cree nombres distintos para sus unidades USB. Vea <a href="../en/Udev.html#Setting_static_device_names" title="Udev">Udev#Setting static device names</a> para obtener instrucciones de como configurar reglas udev.
</p>
<h3><span class="mw-headline" id="Permisos_de_AutoFS">Permisos de AutoFS</span></h3>
<p>Si AutoFS no le está funcionando, asegúrese que los archivos de plantillas tengan los permisos correctos, sí no, AutoFS no va a iniciar. Esto puede suceder sí hizo un respaldo de esos archivos de una manera que no preserva los modos de sus archivos. Aquí salen los modos que deberían tener los archivos de configuración:
</p>
<ul>
<li>0644 - /etc/autofs/auto.master</li>
<li>0644 - /etc/autofs/auto.media</li>
<li>0644 - /etc/autofs/auto.misc</li>
<li>0644 - /etc/conf.d/autofs</li>
</ul>
<p>En general, los scripts (como el previo <code>auto.net</code>) deberían tener los bits ejecutables (<code>chmod a+x nombre_de_archivo</code>) puestos y las listas de montados no.
</p>
<p>Si tiene errores en <code>/var/log/daemon.log</code> similares a este, tiene un problema con los permisos:
</p>
<pre>May  7 19:44:16 peterix automount[15218]: lookup(program): lookup for petr failed
May  7 19:44:16 peterix automount[15218]: failed to mount /media/cifs/petr
</pre>
<h3><span class="mw-headline" id="Problemas_con_fusermount">Problemas con fusermount</span></h3>
<p>Con algunas versiones de util-linux, puede que no pueda desmontar un sistema de archivos fuse montado por autofs, incluso sí tiene la opción "user=". Vía la discusión aquí: <a rel="nofollow" class="external autonumber" href="https://sourceforge.net/p/fuse/mailman/fuse-devel/thread/k3a8pi%2457r%241%40ger.gmane.org/">[1]</a>.
</p>
<h3><span class="mw-headline" id="Depurando_problemas_de_automontado">Depurando problemas de automontado</span></h3>
<p>Para una mejor depuración, usted puede intentar montando automáticamente en primer plano:
</p>
<pre># systemctl stop autofs.service
# automount -f -v
</pre>
<p>O, sí quiere más información de depuración, use:
</p>
<pre># automount -f --debug
</pre>
<h2><span class="mw-headline" id="Alternativas_a_AutoFS">Alternativas a AutoFS</span></h2>
<ul>
<li>
<a href="../es/Systemd.html" title="Systemd (Español)">Systemd (Español)</a> puede montar sistemas de archivos automáticamente bajo demanda; vea <a href="../es/Fstab.html#Montaje_autom%C3%A1tico_con_systemd" title="Fstab (Español)">aquí</a> para la descripción y el articulo de <a href="../es/SSHFS.html#Bajo_demanda" title="SSHFS (Español)">sshfs</a> para un ejemplo.</li>
<li>
<a href="../es/Thunar.html#Administrador_del_Volumen_Thunar" title="Thunar (Español)">Administrador del Volumen Thunar</a> es un sistema de montado automático para el gestor de archivos <a href="../es/Thunar.html" title="Thunar (Español)">Thunar</a>.</li>
<li>
<a href="../en/PCManFM.html" title="PCManFM">PCManFM</a> es un gestor de archivos ligero con soporte incluido para acceder a recursos de red.</li>
<li>
<a href="../en/Udisks.html" title="Udisks">Udisks</a> es servicio de montado automático de discos minimalista.</li>
</ul>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li>Uso de FTP y SFTP con AutoFS está basado en este articulo de la Wiki de Gentoo: <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20130414074212/http://en.gentoo-wiki.com/wiki/Mounting_SFTP_and_FTP_shares">[2]</a>.</li>
<li>Mas información de SSH puede ser encontrada en las paginas <a href="../es/OpenSSH.html" class="mw-redirect" title="SSH (Español)">SSH</a> y <a href="../en/SSH_keys.html" class="mw-redirect" title="SSH keys (Español)">SSH Keys</a> de esta wiki.</li>
<li>La ayuda de AutoFS de Ubuntu esta en <a rel="nofollow" class="external autonumber" href="https://help.ubuntu.com/community/Autofs">[3]</a>.</li>
<li>Para opciones especificas para el montado de los sistemas de archivos, vea <span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8#FILESYSTEM-SPECIFIC_MOUNT_OPTIONS">mount(8) § FILESYSTEM-SPECIFIC MOUNT OPTIONS</a></span>.</li>
<li>Para opciones de montado especificas para fuse, vea <span class="plainlinks archwiki-template-man" title="$ man 8 mount.fuse"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.fuse.8">mount.fuse(8)</a></span>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:File_systems.html" title="Category:File systems (Español)">File systems (Español)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Autofs_(Espa%C3%B1ol)&amp;oldid=752529">https://wiki.archlinux.org/index.php?title=Autofs_(Español)&amp;oldid=752529</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 October 2022, at 13:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
