<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>SSHFS (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SSHFS_Español rootpage-SSHFS_Español skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalación" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Instalaci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalación</div>
		</a>
		
			<button aria-controls="toc-Instalación-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Instalación subsection</span>
			</button>
		
		<ul id="toc-Instalación-sublist" class="vector-toc-list">
			<li id="toc-Montaje" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Montaje">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Montaje</div>
			</a>
			
			<ul id="toc-Montaje-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desmontaje" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desmontaje">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Desmontaje</div>
			</a>
			
			<ul id="toc-Desmontaje-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Opciones" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Opciones">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Opciones</div>
		</a>
		
		<ul id="toc-Opciones-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Haciendo_Chroot" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Haciendo_Chroot">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Haciendo Chroot</div>
		</a>
		
		<ul id="toc-Haciendo_Chroot-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Montaje_automático" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Montaje_autom%C3%A1tico">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Montaje automático</div>
		</a>
		
			<button aria-controls="toc-Montaje_automático-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Montaje automático subsection</span>
			</button>
		
		<ul id="toc-Montaje_automático-sublist" class="vector-toc-list">
			<li id="toc-Bajo_demanda" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bajo_demanda">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Bajo demanda</div>
			</a>
			
			<ul id="toc-Bajo_demanda-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-En_el_arranque" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#En_el_arranque">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>En el arranque</div>
			</a>
			
			<ul id="toc-En_el_arranque-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Acceso_de_usuario_seguro" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Acceso_de_usuario_seguro">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Acceso de usuario seguro</div>
			</a>
			
			<ul id="toc-Acceso_de_usuario_seguro-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solución_de_problemas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Soluci%C3%B3n_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Solución de problemas</div>
		</a>
		
			<button aria-controls="toc-Solución_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solución de problemas subsection</span>
			</button>
		
		<ul id="toc-Solución_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Lista_de_comprobación" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lista_de_comprobaci%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Lista de comprobación</div>
			</a>
			
			<ul id="toc-Lista_de_comprobación-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connection_reset_by_peer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Connection_reset_by_peer">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Connection reset by peer</div>
			</a>
			
			<ul id="toc-Connection_reset_by_peer-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-El_host_remoto_se_ha_desconectado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#El_host_remoto_se_ha_desconectado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>El host remoto se ha desconectado</div>
			</a>
			
			<ul id="toc-El_host_remoto_se_ha_desconectado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problemas_de_montaje_fstab" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problemas_de_montaje_fstab">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Problemas de montaje fstab</div>
			</a>
			
			<ul id="toc-Problemas_de_montaje_fstab-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Véase_también" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#V%C3%A9ase_tambi%C3%A9n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Véase también</div>
		</a>
		
		<ul id="toc-Véase_también-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">SSHFS (Español)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/sshfs" title="sshfs – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/SSHFS.html" title="SSHFS – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/SSHFS.html" title="SSHFS – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Sshfs" title="Sshfs – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/SSHFS.html" title="SSHFS – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/SSHFS" title="SSHFS – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="es" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">Esta traducción de <a href="../en/SSHFS.html" title="SSHFS">SSHFS</a> fue revisada el <b>2020-12-06</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=SSHFS&amp;diff=0&amp;oldid=641914">cambios</a> puede <a href="../es/ArchWiki:Translation_Team/Contributing.html" title="ArchWiki:Translation Team (Español)/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artículos relacionados</p>
<ul>
<li><a href="../en/SCP_and_SFTP.html" title="SCP and SFTP">SCP and SFTP</a></li>
<li><a href="../en/SFTP_chroot.html" title="SFTP chroot">SFTP chroot</a></li>
<li><a href="../en/Pure-FTPd.html" title="Pure-FTPd">Pure-FTPd</a></li>
<li><a href="../en/Sftpman.html" title="Sftpman">sftpman</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/libfuse/sshfs">SSHFS</a> es un cliente de sistema de archivos basado en <a href="../es/FUSE.html" title="FUSE (Español)">FUSE</a> para montar directorios remotos a través de una conexión <a href="../en/Secure_Shell.html" title="Secure Shell">Secure Shell</a>.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p><a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">Instale</a> el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sshfs">sshfs</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> 
<ul>
<li>Si a menudo necesita montar sistemas de archivos sshfs, puede estar interesado en utilizar un ayudante sshfs, como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qsshfs/">qsshfs</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">enlace roto</a>: package not found]</sup>, <a href="../en/Sftpman.html" title="Sftpman">sftpman</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sshmnt/">sshmnt</a></span><sup><small>AUR</small></sup> o <a rel="nofollow" class="external text" href="https://github.com/lahwaacz/Scripts/blob/master/fmount.py">fmount.py</a>.</li>
<li>Es posible que desee utilizar <a href="../es/Google_Authenticator.html" title="Google Authenticator (Español)">Google Authenticator</a> para proporcionar seguridad adicional como es la autenticación de dos pasos.</li>
<li>
<a href="../en/SSH_keys.html" class="mw-redirect" title="SSH keys (Español)">SSH keys</a> puede ser utilizado sobre la autenticación tradicional de contraseña.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Montaje">Montaje</span></h3>
<p>Para poder montar un directorio, el usuario de SSH necesita poder acceder a él. Invoque <i>sshfs</i> para montar un directorio remoto:
</p>
<pre>$ sshfs <i>[usuario@]host:[dir] puntodemontaje [opciones]</i>
</pre>
<p>Por ejemplo:
</p>
<pre>$ sshfs miusuario@micomputadora:/ruta/remota /ruta/local -C -p 9876
</pre>
<p>Aquí <code>-p 9876</code> especifica el número de puerto y <code>-C</code> activa la compresión. Para más opciones véase la sección <a href="#Opciones">#Opciones</a>.
</p>
<p>Cuando no se especifica, la ruta remota se establece de manera predeterminada en el directorio de inicio del usuario remoto. Los nombres de usuario y las opciones predeterminadas se pueden predefinir para cada computadora en <code>~/.ssh/config</code> para simplificar el uso de <i>sshfs</i>. Para obtener más información, véase <a href="../en/OpenSSH.html#Client_usage" title="OpenSSH">OpenSSH#Client usage</a>.
</p>
<p>SSH le pedirá la contraseña, si es necesario. Si no desea escribir la contraseña varias veces al día, véase <a href="../en/SSH_keys.html" class="mw-redirect" title="SSH keys (Español)">SSH keys</a>.
</p>
<h3><span class="mw-headline" id="Desmontaje">Desmontaje</span></h3>
<p>Para desmontar el sistema remoto:
</p>
<pre>$ fusermount3 -u <i>puntodemontaje</i>
</pre>
<p>Por ejemplo:
</p>
<pre>$ fusermount3 -u /ruta/local
</pre>
<h2><span class="mw-headline" id="Opciones">Opciones</span></h2>
<p><i>sshfs' puede convertir automáticamente entre ID de usuarios locales y remotos. Utilice la opción <code>idmap=user</code> para traducir el UID del usuario que se conecta al usuario remoto <code>miusuario</code> (GID permanece sin cambios):</i>
</p>
<pre>$ sshfs miusuario@micomputadora:/ruta/remota /ruta/local -o idmap=user
</pre>
<p>Si necesita más control sobre la traducción de UID y GID, mire las opciones <code>idmap=file</code>, <code>uidfile</code> y <code>gidfile</code>.
</p>
<p>Se puede encontrar una lista completa de opciones en <span class="plainlinks archwiki-template-man" title="$ man 1 sshfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sshfs.1">sshfs(1)</a></span>.
</p>
<h2><span class="mw-headline" id="Haciendo_Chroot">Haciendo Chroot</span></h2>
<p>Es posible que desee restringir un usuario específico a un directorio específico en el sistema remoto. Esto se puede hacer editando <code>/etc/ssh/sshd_config</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ssh/sshd_config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">.....
Match User <i>algúnusuario</i> 
       ChrootDirectory <i>/chroot/%u</i>
       ForceCommand internal-sftp
       AllowTcpForwarding no
       X11Forwarding no
.....
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El directorio chroot <b>debe</b> ser propiedad del superusuario <i>(root)</i>, de lo contrario no podrá conectarse.</div>
<p>Véase también <a href="../en/SFTP_chroot.html" title="SFTP chroot">SFTP chroot</a>. Para más información revise la página del manual <span class="plainlinks archwiki-template-man" title="$ man 5 sshd_config"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sshd_config.5">sshd_config(5)</a></span> para <code>Match</code>, <code>ChrootDirectory</code> y <code>ForceCommand</code>.
</p>
<h2>
<span id="Montaje_autom.C3.A1tico"></span><span class="mw-headline" id="Montaje_automático">Montaje automático</span>
</h2>
<p>El montaje automático puede ocurrir en el arranque o bajo demanda (al acceder al directorio). Para ambos, la configuración ocurre en <a href="../es/Fstab.html" title="Fstab (Español)">fstab</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Tenga en cuenta que el montaje automático se realiza a través del superusuario, por lo tanto, no puede utilizar anfitriones <i>(hosts)</i> configurados en <code>.ssh/config</code> de su usuario normal.
<p>Para permitir que el superusuario utilice una clave SSH de un usuario normal, especifique su ruta completa en la opción <code>IdentityFile</code>.
</p>
<p><b>Y más importante</b>, utilice manualmente cada montaje sshfs al menos una vez <b>cuando sea superusuario</b> para que la firma del anfitrión se añada al archivo <code>/root/.ssh/known_hosts</code>.
</p>
</div>
<h3><span class="mw-headline" id="Bajo_demanda">Bajo demanda</span></h3>
<p>Con systemd es posible el montaje bajo demanda utilizando entradas <code>/etc/fstab</code>.
</p>
<p>Por ejemplo:
</p>
<pre>usuario@host:/carpeta/remota /punto/montaje  fuse.sshfs noauto,x-systemd.automount,_netdev,users,idmap=user,IdentityFile=/home/usuario/.ssh/id_rsa,allow_other,reconnect 0 0
</pre>
<p>Las opciones de montaje importantes aquí son <i>noauto,x-systemd.automount,_netdev</i>.
</p>
<ul>
<li>
<i>noauto</i> le dice que no se monte en el arranque</li>
<li>
<i>x-systemd.automount</i> hace la magia bajo demanda</li>
<li>
<i>_netdev</i> le dice que es un dispositivo de red, no un dispositivo de bloque (sin él pueden ocurrir errores del tipo "No existe dicho dispositivo")</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Después de editar <code>/etc/fstab</code>, (re)inicie el servicio requerido: <code>systemctl daemon-reload</code> seguido por <code>systemctl restart &lt;objetivo&gt;</code> donde <code>&lt;objetivo&gt;</code> se puede encontrar ejecutando <code>systemctl list-unit-files --type automount</code> </div>
<h3><span class="mw-headline" id="En_el_arranque">En el arranque</span></h3>
<p>Un ejemplo de cómo utilizar sshfs para montar un sistema de archivos remoto a través de <code>/etc/fstab</code>
</p>
<pre>USUARIO@NOMBREHOST_O_IP:/DIRECTORIO/REMOTO  /PUNTOMONTAJE/LOCAL  fuse.sshfs  defaults,_netdev  0  0
</pre>
<p>Tomemos, por ejemplo, la línea <i>fstab</i>
</p>
<pre>llib@192.168.1.200:/home/llib/FAH  /media/FAH2  fuse.sshfs  defaults,_netdev  0  0
</pre>
<p>Lo anterior funcionará automáticamente si está utilizando una clave SSH para el usuario. Véase <a href="../en/SSH_keys.html" class="mw-redirect" title="Using SSH Keys">Uso de claves SSH</a>.
</p>
<p>Si quiere utilizar sshfs con múltiples usuarios:
</p>
<pre>usuario@dominio.org:/home/usuario  /media/usuario   fuse.sshfs    defaults,allow_other,_netdev    0  0
</pre>
<p>Una vez más, es importante configurar la opción de montaje <i>_netdev</i> para asegurarse de que la red esté disponible antes de intentar montar.
</p>
<h3><span class="mw-headline" id="Acceso_de_usuario_seguro">Acceso de usuario seguro</span></h3>
<p>Al realizar el montaje automático a través de <a href="../es/Fstab.html" title="Fstab (Español)">fstab</a>, el sistema de archivos generalmente será montado por el superusuario. De forma predeterminada, esto produce resultados indeseables si desea acceder como un usuario normal y limitar el acceso a otros usuarios.
</p>
<p>Un ejemplo de configuración del punto de montaje:
</p>
<pre>USUARIO@NOMBREHOST_O_IP:/DIRECTORIO/REMOTO  /PUNTOMONTAJE/LOCAL  fuse.sshfs noauto,x-systemd.automount,_netdev,user,idmap=user,follow_symlinks,identityfile=/home/USUARIO/.ssh/id_rsa,allow_other,default_permissions,uid=N_ID_USUARIO,gid=N_GID_USUARIO 0 0
</pre>
<p>Resumen de las opciones relevantes:
</p>
<ul>
<li>
<i>allow_other</i> - Permite que otros usuarios que no sean el montador (es decir, el superusuario) accedan al recurso compartido.</li>
<li>
<i>default_permissions</i> - Permite que el kernel verifique los permisos, es decir, utilice los permisos reales en el sistema de archivos remoto. Esto permite prohibir el acceso a todas las personas que de otra forma concede <i>allow_other</i>.</li>
<li>
<i>uid</i>, <i>gid</i> - establece la propiedad de archivos reportada a unos valores determinados; <i>uid</i> es el ID numérico de su usuario, <i>gid</i> es el ID numérico del grupo de su usuario.</li>
</ul>
<h2>
<span id="Soluci.C3.B3n_de_problemas"></span><span class="mw-headline" id="Solución_de_problemas">Solución de problemas</span>
</h2>
<h3>
<span id="Lista_de_comprobaci.C3.B3n"></span><span class="mw-headline" id="Lista_de_comprobación">Lista de comprobación</span>
</h3>
<p>Lea primero <a href="../es/OpenSSH.html#Lista_de_comprobaci%C3%B3n" title="OpenSSH (Español)">OpenSSH (Español)#Lista de comprobación</a>. Otros temas para verificar son:
</p>
<p>1. ¿Su inicio de sesión SSH está enviando información adicional desde, por ejemplo, el archivo <code>/etc/issue</code> del servidor? Esto podría confundir SSHFS. Debería desactivar temporalmente el archivo <code>/etc/issue</code> del servidor:
</p>
<pre>$ mv /etc/issue /etc/issue.orig
</pre>
<p>2. Tenga en cuenta que la mayoría de los artículos de solución de problemas relacionados con SSH que encontrará en la web no están relacionados con Systemd. A menudo las definiciones en <code>/etc/fstab</code> comienzan erroneamente con <code><i>sshfs#</i>user@host:/mnt/servidores/carpeta ... fuse ...</code> en lugar de utilizar la sintaxis <code>user@host:/mnt/servidores/carpeta ... fuse.<i>sshfs</i> ... <i>x-systemd</i>, ...</code>. 
</p>
<p>3. Compruebe que el propietario de la carpeta de origen y el contenido del servidor es propiedad del usuario del servidor. 
</p>
<pre>$ chown -R USER_S: /mnt/servidores/carpeta
</pre>
<p>4. El ID de usuario del servidor puede ser diferente del cliente. Obviamente ambos nombres de usuario tienen que ser los mismos. Solo tiene que cuidar los ID de usuario del cliente. SSHFS traducirá el UID con las siguientes opciones de montaje:
</p>
<pre>uid=<i>ID_USUARIO_C</i>,gid=<i>ID_GRUPO_C</i>
</pre>
<p>5. Compruebe que el punto de montaje de destino del cliente (carpeta) es propiedad del usuario cliente. Esta carpeta debe tener el mismo ID de usuario definido en las opciones de montaje de SSHFS.
</p>
<pre>$ chown -R USUARIO_C: /mnt/cliente/carpeta
</pre>
<p>6. Compruebe que el punto de montaje (carpeta) del cliente esté vacío. De forma predeterminada no puede montar carpetas SSHFS en carpetas no vacías.
</p>
<h3><span class="mw-headline" id="Connection_reset_by_peer">Connection reset by peer</span></h3>
<ul>
<li>Si está intentando acceder al sistema remoto con un nombre de host, intente utilizar su dirección IP, ya que puede ser un problema de resolución de nombres de dominio. Asegúrese de editar <code>/etc/hosts</code> con los detalles del servidor.</li>
<li>Si está utilizando nombres de clave no predeterminados y los está pasando como <code>-i .ssh/my_key</code>, no funcionará. Tiene que utilizar <code>-o IdentityFile=/home/user/.ssh/my_key</code>, con la ruta completa a la clave.</li>
<li>Si su <code>/root/.ssh/config</code> es un enlace simbólico, recibirá este error también. Véase <a rel="nofollow" class="external text" href="https://serverfault.com/questions/507748/bad-owner-or-permissions-on-root-ssh-config">este tema en serverfault</a>
</li>
<li>Añadiendo la opción '<code>sshfs_debug</code>' (como en '<code>sshfs -o sshfs_debug user@server ...</code>') puede ayudar a resolver el problema.</li>
<li>Si eso no revela nada útil, también puede intentar añadir la opción '<code>debug</code>'</li>
<li>Si está intentando hacer sshfs a través de un enrutador que utiliza DD-WRT o similar, hay una solución <a rel="nofollow" class="external text" href="https://www.dd-wrt.com/wiki/index.php/SFTP_with_DD-WRT">aquí</a>. (tenga en cuenta que la opción -osftp_server=/opt/libexec/sftp-server se puede utilizar para la orden sshfs en lugar de parchear dropbear)</li>
<li>Si ve esto solo durante el arranque, puede ser que systemd esté intentando montar antes de que haya una conexión de red disponible. Habilite el servicio de 'espera-en-línea' apropiado para su conexión de red (por ejemplo, systemd-networkd-wait-online.service) para solucionar esto.</li>
<li>Hilo antiguo del foro: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=27613">sshfs: Connection reset by peer</a>
</li>
<li>Asegúrese de que su usuario pueda iniciar sesión en el servidor (especialmente al utilizar AllowUsers)</li>
<li>Asegúrese de que <code>Subsystem sftp /usr/lib/ssh/sftp-server</code> está activado en <code>/etc/ssh/sshd_config</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Cuando se proporciona más de una opción para sshfs, deben estar separadas por comas. Al igual que: '<code>sshfs -o sshfs_debug,IdentityFile=&lt;/ruta/a/la/clave&gt; usuario@servidor ...</code>')</div>
<h3><span class="mw-headline" id="El_host_remoto_se_ha_desconectado">El host remoto se ha desconectado</span></h3>
<p>Si recibe este mensaje directamente después de intentar utilizar <i>sshfs</i>:
</p>
<ul>
<li>Primero asegúrese de que la máquina <b>remota</b> tiene instalado <i>sftp</i>. No funcionará si no lo tiene.</li>
<li>Después, comprueba que la ruta de <code>Subsystem sftp</code> en <code>/etc/ssh/sshd_config</code> en la máquina remota es válida.</li>
</ul>
<h3><span class="mw-headline" id="Problemas_de_montaje_fstab">Problemas de montaje fstab</span></h3>
<p>Para obtener una salida de depuración detallada, añada lo siguiente a las opciones de montaje:
</p>
<pre>ssh_command=ssh\040-vv,sshfs_debug,debug
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Aquí, <code>\040</code> representa un espacio que fstab utiliza para separar campos.</div>
<p>Para poder ejecutar <code>mount -av</code> y ver la salida de depuración, elimine lo siguiente:
</p>
<pre> noauto,x-systemd.automount
</pre>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://wiki.gilug.org/index.php/How_to_mount_SFTP_accesses">Cómo montar el sistema de archivos SSH en chroot</a>, Con especial cuidado con las preguntas de propietarios y permisos.</li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../es/Category:FUSE.html" title="Category:FUSE (Español)">FUSE (Español)</a></li>
<li><a href="../es/Category:Secure_Shell.html" title="Category:Secure Shell (Español)">Secure Shell (Español)</a></li>
<li><a href="../es/Category:Network_sharing.html" title="Category:Network sharing (Español)">Network sharing (Español)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=SSHFS_(Espa%C3%B1ol)&amp;oldid=822383">https://wiki.archlinux.org/index.php?title=SSHFS_(Español)&amp;oldid=822383</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 December 2024, at 07:59.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
