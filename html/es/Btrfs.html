<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Btrfs (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Btrfs_Español rootpage-Btrfs_Español skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Requisitos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Requisitos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Requisitos</div>
		</a>
		
		<ul id="toc-Requisitos-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Creación_del_sistema_de_archivos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Creaci%C3%B3n_del_sistema_de_archivos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Creación del sistema de archivos</div>
		</a>
		
			<button aria-controls="toc-Creación_del_sistema_de_archivos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Creación del sistema de archivos subsection</span>
			</button>
		
		<ul id="toc-Creación_del_sistema_de_archivos-sublist" class="vector-toc-list">
			<li id="toc-Sistema_de_archivos_en_un_único_dispositivo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sistema_de_archivos_en_un_%C3%BAnico_dispositivo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Sistema de archivos en un único dispositivo</div>
			</a>
			
			<ul id="toc-Sistema_de_archivos_en_un_único_dispositivo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sistema_de_archivos_en_múltiples_dispositivos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sistema_de_archivos_en_m%C3%BAltiples_dispositivos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Sistema de archivos en múltiples dispositivos</div>
			</a>
			
			<ul id="toc-Sistema_de_archivos_en_múltiples_dispositivos-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configurar_el_sistema_de_archivos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configurar_el_sistema_de_archivos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configurar el sistema de archivos</div>
		</a>
		
			<button aria-controls="toc-Configurar_el_sistema_de_archivos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configurar el sistema de archivos subsection</span>
			</button>
		
		<ul id="toc-Configurar_el_sistema_de_archivos-sublist" class="vector-toc-list">
			<li id="toc-Copy-on-Write_(CoW)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Copy-on-Write_(CoW)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Copy-on-Write (CoW)</div>
			</a>
			
			<ul id="toc-Copy-on-Write_(CoW)-sublist" class="vector-toc-list">
				<li id="toc-Desactivar_CoW" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Desactivar_CoW">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Desactivar CoW</div>
			</a>
			
			<ul id="toc-Desactivar_CoW-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Compresión" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Compresi%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Compresión</div>
			</a>
			
			<ul id="toc-Compresión-sublist" class="vector-toc-list">
				<li id="toc-Ver_tipos_y_proporciones_de_compresión" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ver_tipos_y_proporciones_de_compresi%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Ver tipos y proporciones de compresión</div>
			</a>
			
			<ul id="toc-Ver_tipos_y_proporciones_de_compresión-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Subvolúmenes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Subvol%C3%BAmenes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Subvolúmenes</div>
			</a>
			
			<ul id="toc-Subvolúmenes-sublist" class="vector-toc-list">
				<li id="toc-Crear_un_subvolumen" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Crear_un_subvolumen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Crear un subvolumen</div>
			</a>
			
			<ul id="toc-Crear_un_subvolumen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Listar_subvolúmenes" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Listar_subvol%C3%BAmenes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Listar subvolúmenes</div>
			</a>
			
			<ul id="toc-Listar_subvolúmenes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Eliminar_un_subvolumen" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Eliminar_un_subvolumen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.3</span>Eliminar un subvolumen</div>
			</a>
			
			<ul id="toc-Eliminar_un_subvolumen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Montar_subvolúmenes" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Montar_subvol%C3%BAmenes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.4</span>Montar subvolúmenes</div>
			</a>
			
			<ul id="toc-Montar_subvolúmenes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Montar_subvolumen_en_raíz" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Montar_subvolumen_en_ra%C3%ADz">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.5</span>Montar subvolumen en raíz</div>
			</a>
			
			<ul id="toc-Montar_subvolumen_en_raíz-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cambiar_el_subvolumen_por_defecto" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Cambiar_el_subvolumen_por_defecto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.6</span>Cambiar el subvolumen por defecto</div>
			</a>
			
			<ul id="toc-Cambiar_el_subvolumen_por_defecto-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Quota" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Quota">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Quota</div>
			</a>
			
			<ul id="toc-Quota-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Intervalo_de_commit" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Intervalo_de_commit">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Intervalo de commit</div>
			</a>
			
			<ul id="toc-Intervalo_de_commit-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSD_TRIM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SSD_TRIM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>SSD TRIM</div>
			</a>
			
			<ul id="toc-SSD_TRIM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Utilización" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilizaci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Utilización</div>
		</a>
		
			<button aria-controls="toc-Utilización-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilización subsection</span>
			</button>
		
		<ul id="toc-Utilización-sublist" class="vector-toc-list">
			<li id="toc-Archivo_como_espacio_de_intercambio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Archivo_como_espacio_de_intercambio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Archivo como espacio de intercambio</div>
			</a>
			
			<ul id="toc-Archivo_como_espacio_de_intercambio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ver_espacio_usado/libre" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ver_espacio_usado/libre">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Ver espacio usado/libre</div>
			</a>
			
			<ul id="toc-Ver_espacio_usado/libre-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desfragmentación" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desfragmentaci%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Desfragmentación</div>
			</a>
			
			<ul id="toc-Desfragmentación-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>RAID</div>
			</a>
			
			<ul id="toc-RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Scrub" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Scrub">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Scrub</div>
			</a>
			
			<ul id="toc-Scrub-sublist" class="vector-toc-list">
				<li id="toc-Iniciar_manualmente" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Iniciar_manualmente">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5.1</span>Iniciar manualmente</div>
			</a>
			
			<ul id="toc-Iniciar_manualmente-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Iniciar_con_un_servicio_o_temporizador" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Iniciar_con_un_servicio_o_temporizador">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5.2</span>Iniciar con un servicio o temporizador</div>
			</a>
			
			<ul id="toc-Iniciar_con_un_servicio_o_temporizador-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Balance" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Balance">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Balance</div>
			</a>
			
			<ul id="toc-Balance-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instantáneas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instant%C3%A1neas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Instantáneas</div>
			</a>
			
			<ul id="toc-Instantáneas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enviar/Recibir" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enviar/Recibir">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Enviar/Recibir</div>
			</a>
			
			<ul id="toc-Enviar/Recibir-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Deduplicación" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Deduplicaci%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>Deduplicación</div>
			</a>
			
			<ul id="toc-Deduplicación-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cambio_de_tamaño" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cambio_de_tama%C3%B1o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10</span>Cambio de tamaño</div>
			</a>
			
			<ul id="toc-Cambio_de_tamaño-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Problemas_conocidos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Problemas_conocidos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Problemas conocidos</div>
		</a>
		
			<button aria-controls="toc-Problemas_conocidos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Problemas conocidos subsection</span>
			</button>
		
		<ul id="toc-Problemas_conocidos-sublist" class="vector-toc-list">
			<li id="toc-Cifrado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cifrado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Cifrado</div>
			</a>
			
			<ul id="toc-Cifrado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problemas_de_comprobación_de_btrfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problemas_de_comprobaci%C3%B3n_de_btrfs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Problemas de comprobación de btrfs</div>
			</a>
			
			<ul id="toc-Problemas_de_comprobación_de_btrfs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Consejos_y_trucos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Consejos_y_trucos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Consejos y trucos</div>
		</a>
		
			<button aria-controls="toc-Consejos_y_trucos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Consejos y trucos subsection</span>
			</button>
		
		<ul id="toc-Consejos_y_trucos-sublist" class="vector-toc-list">
			<li id="toc-Disco_Btrfs_sin_particiones" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disco_Btrfs_sin_particiones">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Disco Btrfs sin particiones</div>
			</a>
			
			<ul id="toc-Disco_Btrfs_sin_particiones-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Conversión_de_Ext3/4_a_Btrfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Conversi%C3%B3n_de_Ext3/4_a_Btrfs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Conversión de Ext3/4 a Btrfs</div>
			</a>
			
			<ul id="toc-Conversión_de_Ext3/4_a_Btrfs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Aceleración_por_hardware_de_la_suma_de_comprobación" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Aceleraci%C3%B3n_por_hardware_de_la_suma_de_comprobaci%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Aceleración por hardware de la suma de comprobación</div>
			</a>
			
			<ul id="toc-Aceleración_por_hardware_de_la_suma_de_comprobación-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Recuperación_de_la_corrupción" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Recuperaci%C3%B3n_de_la_corrupci%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Recuperación de la corrupción</div>
			</a>
			
			<ul id="toc-Recuperación_de_la_corrupción-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Arrancando_en_instantáneas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Arrancando_en_instant%C3%A1neas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Arrancando en instantáneas</div>
			</a>
			
			<ul id="toc-Arrancando_en_instantáneas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilizar_subvolúmenes_Btrfs_con_systemd-nspawn" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utilizar_subvol%C3%BAmenes_Btrfs_con_systemd-nspawn">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>Utilizar subvolúmenes Btrfs con systemd-nspawn</div>
			</a>
			
			<ul id="toc-Utilizar_subvolúmenes_Btrfs_con_systemd-nspawn-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reducción_de_las_actualizaciones_del_tiempo_de_acceso_de_los_metadatos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Reducci%C3%B3n_de_las_actualizaciones_del_tiempo_de_acceso_de_los_metadatos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>Reducción de las actualizaciones del tiempo de acceso de los metadatos</div>
			</a>
			
			<ul id="toc-Reducción_de_las_actualizaciones_del_tiempo_de_acceso_de_los_metadatos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Copia_de_seguridad_incremental_en_disco_externo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Copia_de_seguridad_incremental_en_disco_externo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8</span>Copia de seguridad incremental en disco externo</div>
			</a>
			
			<ul id="toc-Copia_de_seguridad_incremental_en_disco_externo-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solución_de_problemas" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Soluci%C3%B3n_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Solución de problemas</div>
		</a>
		
			<button aria-controls="toc-Solución_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solución de problemas subsection</span>
			</button>
		
		<ul id="toc-Solución_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-GRUB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>GRUB</div>
			</a>
			
			<ul id="toc-GRUB-sublist" class="vector-toc-list">
				<li id="toc-Desplazamiento_de_la_partición" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Desplazamiento_de_la_partici%C3%B3n">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.1</span>Desplazamiento de la partición</div>
			</a>
			
			<ul id="toc-Desplazamiento_de_la_partición-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Raíz_inexistente" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ra%C3%ADz_inexistente">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.2</span>Raíz inexistente</div>
			</a>
			
			<ul id="toc-Raíz_inexistente-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tiempo_de_montaje_agotado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tiempo_de_montaje_agotado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Tiempo de montaje agotado</div>
			</a>
			
			<ul id="toc-Tiempo_de_montaje_agotado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BTRFS:_open_ctree_failed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BTRFS:_open_ctree_failed">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>BTRFS: open_ctree failed</div>
			</a>
			
			<ul id="toc-BTRFS:_open_ctree_failed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-btrfs_check" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#btrfs_check">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>btrfs check</div>
			</a>
			
			<ul id="toc-btrfs_check-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Véase_también" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#V%C3%A9ase_tambi%C3%A9n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Véase también</div>
		</a>
		
		<ul id="toc-Véase_también-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Btrfs (Español)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 7 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-7" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">7 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Arch_auf_BtrFS" title="Arch auf BtrFS – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Btrfs.html" title="Btrfs – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-it mw-list-item"><a href="../it/Btrfs.html" title="Btrfs – italiano" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Btrfs" title="Btrfs – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Btrfs.html" title="Btrfs – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Btrfs.html" title="Btrfs – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Btrfs" title="Btrfs – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="es" dir="ltr">
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">Esta traducción de <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a> fue revisada el <b>2022-10-28</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Btrfs&amp;diff=0&amp;oldid=754803">cambios</a> puede <a href="../es/ArchWiki:Translation_Team/Contributing.html" title="ArchWiki:Translation Team (Español)/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artículos relacionados</p>
<ul>
<li><a href="../es/File_systems.html" title="File systems (Español)">Sistemas de archivos</a></li>
<li><a href="../es/Dm-crypt/Encrypting_an_entire_system.html" title="Dm-crypt (Español)/Encrypting an entire system (Español)">Cifrado de un sistema completo</a></li>
</ul>
</div>
<p>De <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Main_Page">Btrfs Wiki</a>:
</p>
<dl><dd>btrfs es un moderno Sistema de archivos para Linux Copy-on-Write (CoW) enfocado en implementar características avanzadas al mismo tiempo que se centra en la tolerancia a los errores, reparación y fácil administración.</dd></dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Btrfs tiene algunas características inestables. Véase el <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Status">estado</a> de la Wiki de Btrfs, <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/FAQ#Is_Btrfs_stable.3F">¿Es Btrfs estable?</a> y <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Getting_started">Guía de inicio</a> para información más detallada. Véase la sección de <a href="#Soluci%C3%B3n_de_problemas">#Solución de problemas</a>.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Requisitos">Requisitos</span></h2>
<p>Para utilidades de espacio de usuario <a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">instale</a> el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=btrfs-progs">btrfs-progs</a></span> que se requiere para operaciones básicas.
</p>
<p>Si necesita arrancar desde un sistema de archivos Btrfs (por ejemplo su kernel e initramfs están en una partición Btrfs), revise si su <a href="../es/Arch_boot_process.html#Gestor_de_arranque" title="Arch boot process (Español)">gestor de arranque</a> soporta Btrfs.
</p>
<h2>
<span id="Creaci.C3.B3n_del_sistema_de_archivos"></span><span class="mw-headline" id="Creación_del_sistema_de_archivos">Creación del sistema de archivos</span>
</h2>
<p>A continuación se muestra como crear un <a href="../es/File_systems.html" title="File systems (Español)">sistema de archivos</a> Btrfs. Para convertir una partición ext3/4 a Btrfs, véase <a href="#Conversi%C3%B3n_de_Ext3/4_a_Btrfs">#Conversión de Ext3/4 a Btrfs</a>. Para una instalación sin particiones, véase <a href="#Disco_Btrfs_sin_particiones">#Disco Btrfs sin particiones</a>.
</p>
<p>Véase <span class="plainlinks archwiki-template-man" title="$ man 8 mkfs.btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mkfs.btrfs.8">mkfs.btrfs(8)</a></span> para más información.
</p>
<h3>
<span id="Sistema_de_archivos_en_un_.C3.BAnico_dispositivo"></span><span class="mw-headline" id="Sistema_de_archivos_en_un_único_dispositivo">Sistema de archivos en un único dispositivo</span>
</h3>
<p>Para crear un sistema de archivos en la partición <code>/dev/<i>partición</i></code>:
</p>
<pre># mkfs.btrfs -L <i>mietiqueta</i> /dev/<i>partición</i>
</pre>
<p>El tamaño de nodo (nodesize) para los metadatos por defecto es 16 KB, mientras que el tamaño de sector (sectorsize) predeterminado para los datos es igual al tamaño de página y se detecta automáticamente. Para usar un tamaño de nodo para metadatos más grande (debe ser múltiplo del tamaño de sector, se permite hasta 64KB), especifique un valor para el <code>nodesize</code> a través de <code>-n</code> como se muestra en este ejemplo usando bloques de 32KB:
</p>
<pre># mkfs.btrfs -L <i>mietiqueta</i> -n 32k /dev/<i>partición</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> De acuerdo a <span class="plainlinks archwiki-template-man" title="$ man 8 mkfs.btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mkfs.btrfs.8#OPTIONS">mkfs.btrfs(8) § OPTIONS</a></span>, "[un] nodesize más pequeño incrementa la fragmentación pero conduce a árboles-b, lo cual conduce a su vez a menor contención de bloqueos. Nodesizes más grandes brindan mejor empaquetado y menos fragmentación al costo de operaciones de memoria más grandes mientras se actualizan los bloques de metadatos".</div>
<h3>
<span id="Sistema_de_archivos_en_m.C3.BAltiples_dispositivos"></span><span class="mw-headline" id="Sistema_de_archivos_en_múltiples_dispositivos">Sistema de archivos en múltiples dispositivos</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Los modos RAID 5 y RAID 6 de Btrfs son fatalmente desastrosos, y no deberían ser usados "en absoluto, salvo se pruebe con datos desechables" <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/20200627032414.GX10769@hungrycats.org/">Lista de problemas y parciales soluciones</a>. Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/RAID56">La página de Btrfs en RAID 5 y RAID 6</a> para actualizaciones de estado (Se ve que no está actualizado).</div>
<p>Múltiples dispositivos pueden ser usados para crear un RAID. Niveles de Raid soportados incluyen RAID 0, RAID 1, RAID 10, RAID 5 y RAID 6. A partir del kernel 5.5 RAID1c3 y RAID1c4 para 3- y 4- copias del nivel RAID 1. Los niveles RAID pueden ser configurados por separado para los datos y metadatos usando las opciones <code>-d</code> y <code>-m</code> respectivamente. Por defecto los datos tienen una copia (<code>single</code>) y los metadatos están reflejados (<code>raid1</code>). Esto es similar a crear <a href="https://en.wikipedia.org/wiki/JBOD" class="extiw" title="wikipedia:JBOD">configuración de JBOD</a>, donde los discos se ven como un sistema de archivos, pero los ficheros no están duplicados. Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices">Usando Btrfs con múltiples dispositivos</a> para mayor información acerca de como crear un volumen Btrfs RAID.
</p>
<pre># mkfs.btrfs -d single -m raid1 /dev/<i>part1</i> /dev/<i>part2</i> ...
</pre>
<p>Debe incluir, ya sea el hook <code>udev</code> o el <code>btrfs</code> en <code>/etc/mkinitcpio.conf</code> para utilizar múltiples dispositivos Btrfs. Véase el artículo <a href="../en/Mkinitcpio.html#Common_hooks" title="Mkinitcpio">Mkinitcpio#Common hooks</a> para más información.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Es posible añadir dispositivos en un sistema de archivos múltiple entonces. Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices">este artículo de la wiki de Btrfs</a> Para más información.</li>
<li>Los dispositivos pueden estar en diferentes tamaños. De todas formas, si una unidad en la configuración RAID es más grande que los otros, este espacio extra no se usará.</li>
<li>Algunos <a href="../es/Arch_boot_process.html#Gestor_de_arranque" title="Arch boot process (Español)">gestores de arranque</a> como <a href="../en/Syslinux.html" title="Syslinux">Syslinux</a> no tienen soporte para sistemas de archivos con múltiples dispositivos.</li>
<li>Btrfs no lee automáticamente del dispositivo más rápido, así que mezclar distintos tipos de discos resulta en un rendimiento inconsistente. Mire <a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/a/55408367">[1]</a> para más detalles.</li>
</ul>
</div>
<p>Véase <a href="#RAID">#RAID</a> para conseguir consejos en el mantenimiento específico a sistemas de archivos Btrfs de múltiples dispositivos.
</p>
<h2><span class="mw-headline" id="Configurar_el_sistema_de_archivos">Configurar el sistema de archivos</span></h2>
<h3>
<span id="Copy-on-Write_.28CoW.29"></span><span class="mw-headline" id="Copy-on-Write_(CoW)">Copy-on-Write (CoW)</span>
</h3>
<p>Por defecto, Btrfs usa <a href="https://en.wikipedia.org/wiki/es:Copy-on-write" class="extiw" title="wikipedia:es:Copy-on-write">copy-on-write</a> para todos los ficheros en todo momento. Las escrituras no sobrescriben los datos; en su lugar, se escribe una copia modificada del bloque en una nueva ubicación y los metadatos se actualizan para apuntar a la nueva ubicación. Véase la sección <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Copy_on_Write_.28CoW.29">Guía Sysadmin de Btrfs</a> para detalles de implementación, como también sus ventajas y desventajas.
</p>
<h4><span class="mw-headline" id="Desactivar_CoW">Desactivar CoW</span></h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Desactivar CoW en Btrfs también desactiva las sumas de comprobación. Btrfs no podrá detectar archivos <code>nodatacow</code> corruptos. Cuando se combina con RAID 1, los cortes de energía u otras fuentes de corrupción pueden hacer que los datos no estén sincronizados.</div>
<p>Para desactivar copy-on-write para ficheros recién creados en un subvolumen montado, use la opción de montaje <code>nodatacow</code>. Esto solamente afectará a ficheros recién creados. Copy-on-write todavía ocurrirá con archivos existentes. La opción <code>nodatacow</code> además desactiva la compresión. Véase <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5">btrfs(5)</a></span> Para más detalles.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> De <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5#MOUNT_OPTIONS">btrfs(5) § MOUNT OPTIONS</a></span>:
<dl><dd>Dentro de un único sistema de archivos, no es posible montar algunos subvolúmenes con <code>nodatacow</code> y otros con <code>datacow</code>. La opción de montaje del primer subvolumen montado aplica para cualquier otro subvolumen.</dd></dl>
</div>
<p>Para desactivar el copy-on-write para ficheros/directorios únicos:
</p>
<pre>$ chattr +C <i>/dir/file</i>
</pre>
<p>Esto desactivará copy-on-write para aquellas operaciones en cuales solo haya una referencia al archivo. Si hay más de una referencia, por ejemplo debido a clonaciones / clonaciones ligeras o instantáneas del sistema de archivos, todavía se produce la copia en escritura. Tenga en cuenta que a partir de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coreutils">coreutils</a></span> 9.0, <code>cp</code> intenta realizar copias ligeras de forma predeterminada; véase <span class="plainlinks archwiki-template-man" title="$ man 1 cp"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/cp.1">cp(1)</a></span> para obtener más detalles.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> De <span class="plainlinks archwiki-template-man" title="$ man 1 chattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chattr.1">chattr(1)</a></span>:
<dl><dd>Para btrfs, la '<code>C</code>' flag debe ser establecida en archivos nuevos o vacíos. Si está configurando un archivo el cual ya tenga bloques de datos, es indefinido cuando los bloques asignados al archivo serán completamente estables. Si la '<code>C</code>' flag está establecida en un directorio, no tendrá efecto en el directorio, pero archivos nuevos creados en este tendrán el atributo <code>No_COW</code>.</dd></dl>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> De acuerdo a la nota de arriba, puede utilizar el siguiente truco para desactivar copy-on-write en archivos existentes de un directorio:
<pre>$ mv <i>/ruta/al/dir</i> <i>/ruta/al/dir</i>_old
$ mkdir <i>/ruta/al/dir</i>
$ chattr +C <i>/ruta/al/dir</i>
$ cp -a --reflink=never <i>/ruta/al/dir</i>_old/. <i>/ruta/al/dir</i>
$ rm -rf <i>/ruta/al/dir</i>_old
</pre>
Asegúrese de que los datos no se utilicen durante este proceso. También tenga en cuenta que <code>mv</code> o <code>cp</code> sin <code>--reflink=never</code> como se describe a continuación no funcionarán.</div>
<h3>
<span id="Compresi.C3.B3n"></span><span class="mw-headline" id="Compresión">Compresión</span>
</h3>
<p>Btrfs soporta <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Compression">compresión automática y transparente</a>. Esto reduce el tamaño de los archivos como también aumenta significativamente la duración de medios basados en flash, reduciendo la amplificación de escritura. <a rel="nofollow" class="external autonumber" href="https://fedoraproject.org/wiki/Changes/BtrfsByDefault#Compression">[2]</a><a rel="nofollow" class="external autonumber" href="https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/message/NTV77NFF6NDZM3QTPUM2TQZ5PCM6GOO2/">[3]</a><a rel="nofollow" class="external autonumber" href="https://pagure.io/fedora-btrfs/project/issue/36#comment-701551">[4]</a> También se puede <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=btrfs_compress_2635&amp;num=1">mejorar el rendimiento</a>, en algunos casos (por ejemplo hilo único con E/S de un archivo pesado), mientras que obviamente dañando el rendimiento en otros casos (por ejemplo multihilo y/o tareas intensivas de E/S de la CPU con un archivo grande). Un mejor rendimiento es generalmente logrado con algoritmos más rapidos de compresión como <i>zstd</i> y <i>lzo</i>, y algunos <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=btrfs-zstd-compress">benchmarks</a> proporcionan comparaciones detalladas.
</p>
<p>LZO tiene un nivel de compresión fijo, mientras que ZLIB y ZSTD tienen un rango de niveles de 1 (baja compresión) a 9 (ZLIB) o 15 (ZSTD)<a rel="nofollow" class="external autonumber" href="https://btrfs.readthedocs.io/en/latest/Compression.html">[5]</a>. Cambiar los niveles afectará a la CPU y el rendimiento de E/S de manera diferente, por lo que deben verificarse / compararse antes y después de cambiar.
</p>
<p>La opción de montaje <code>compress=<i>alg[:level]</i></code> activa considerar automáticamente todos los archivos para compresión, donde <code><i>alg</i></code> ya sea <code>zlib</code>, <code>lzo</code>, <code>zstd</code>, o <code>no</code> (para no compresión). Usando esta opción, btrfs revisará si comprimiendo la primera porción de datos lo logra encoger. Si lo hace, la escritura entera del archivo será comprimida. Si no, Nada de eso se va a comprimir. Con esta opción, si la primera porción de la escritura no se encoge, la compresión no sera aplicada a la escritura incluso si el resto de la información encoje tremendamente. <a rel="nofollow" class="external autonumber" href="https://btrfs.wiki.kernel.org/index.php/Compression#What_happens_to_incompressible_files.3F">[6]</a> Esto está hecho para prevenir que el disco espere para empezar a escribir hasta que todos los datos que se van a escribir estén en btrfs por completo y se compriman.
</p>
<p>La opción de montaje <code>compress-force=<i>alg[:level]</i></code> puede ser usada en su lugar, lo que hace que btrfs omita comprobar si la compresión encogió la primera porción, y activa de forma automática probar la compresión archivo por archivo. En el peor caso, esto puede causar (levemente) más consumo de la CPU sin propósito. En todo caso, pruebas empíricas en múltiples sistemas de uso mixto han mostrado una significativa mejora de al rededor del 10% de compresión de disco usando <code>compress-force=<i>zstd</i></code> sobre solo <code>compress=<i>zstd</i></code>, el cual también tenía una compresión de disco del 10%.
</p>
<p>Sólo archivos creados o modificados después de la opción de montaje estarán comprimidos.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> La desfragmentación de un archivo que tiene una copia COW (ya sea una copia instantánea o una hecha con <code>cp</code> o bcp) además de utilizar <code>-c</code> con un algoritmo de compresión puede dar como resultado dos archivos no relacionados efectivamente, aumentando el uso de disco.</div>
<p>Para aplicar compresión a archivos existentes, utilice la orden <code>btrfs filesystem defragment -c<i>alg</i></code>, cuando <code><i>alg</i></code> ya sea <code>zlib</code>, <code>lzo</code> o <code>zstd</code>. Por ejemplo, para volver a comprimir todo el sistema de archivos con <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zstd">zstd</a></span>, ejecute la siguiente orden:
</p>
<pre># btrfs filesystem defragment -r -v -czstd /
</pre>
<p>Para activar la compresión cuando instala Arch en una partición Btrfs vacía, use la opción <code>compress</code> al montar el sistema de archivos: <code>mount -o compress=zstd /dev/sd<i>xY</i> /mnt/</code>. Durante la configuración, añada <code>compress=zstd</code> a las opciones de montaje del sistema de archivos de root en <a href="../es/Fstab.html" title="Fstab (Español)">fstab</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> La compresión además puede ser activada por archivo, sin usar la opción de montaje<code>compress</code>; para hacerlo aplique <code>chattr +c</code> al archivo. Cuando sea aplicada a los directorios, causará que los nuevos archivos sean automáticamente comprimidos.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> 
<ul>
<li>Sistemas que usan viejos kernels o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=btrfs-progs">btrfs-progs</a></span> sin el soporte de <code>zstd</code> pueden ser incapaces de leer o reparar su sistema de archivos si usa esa opción.</li>
<li>
<a href="../es/GRUB.html" title="GRUB (Español)">GRUB</a> introdujo el soporte de <i>zstd</i> en la versión 2.04. Actualice el gestor de arranque de su MBR/ESP ejecutando <code>grub-install</code> con las opciones apropiadas para su configuración BIOS/UEFI, ya que eso no lo hace automáticamente. Véase <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/63235">FS#63235</a>.</li>
</ul>
</div>
<h4>
<span id="Ver_tipos_y_proporciones_de_compresi.C3.B3n"></span><span class="mw-headline" id="Ver_tipos_y_proporciones_de_compresión">Ver tipos y proporciones de compresión</span>
</h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=compsize">compsize</a></span> toma una lista de archivos (o el sistema de archivos btrfs entero) y mide los tipos de compresión usados y proporciones de compresión efectiva. El tamaño sin comprimir puede no coincidir con el número dado por otros programas como <span class="plainlinks archwiki-template-man" title="$ man 1 du"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/du.1">du(1)</a></span>, porque cada extensión se cuenta una vez, incluso si se refresca varias veces, e incluso si una parte de ella ya no se usa en ningún lado pero no se ha recogido basura. La opción <code>-x</code> la mantiene en un solo sistema de archivos, lo cual es útil en situaciones como <code>compsize -x /</code> para to evitar que intente buscar en subdirectorios que no sean btrfs y falle toda la ejecución.
</p>
<h3>
<span id="Subvol.C3.BAmenes"></span><span class="mw-headline" id="Subvolúmenes">Subvolúmenes</span>
</h3>
<p>"Un subvolumen de btrfs no es un dispositivo de bloque (ni debe ser tratado como uno) en lugar de eso, un subvolumen btrfs puede considerarse como un archivo de namespace POSIX. Estos namespace pueden ser accesibles vía el subvolumen de nivel superior del sistema de archivos, o puede ser montado por derecho propio" <a rel="nofollow" class="external autonumber" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Subvolumes">[7]</a>
</p>
<p>Cada sistema de archivos Btrfs tiene un nivel superior de subvolumen con ID 5. Puede ser montada como <code>/</code> (por defecto), u otro subvolumen puede ser <a href="#Montar_subvol%C3%BAmenes">montado</a> en vez de eso. Los subvolúmenes pueden moverse en el sistema de archivos y se identifican más por su ID que por su ruta.
</p>
<p>Revise los siguientes links para más detalles:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Subvolumes">Btrfs Wiki SysadminGuide#Subvolumes</a></li>
<li><a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Getting_started#Basic_Filesystem_Commands">Btrfs Wiki Getting started#Basic Filesystem Commands</a></li>
<li><a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Trees">Btrfs Wiki Trees</a></li>
</ul>
<h4><span class="mw-headline" id="Crear_un_subvolumen">Crear un subvolumen</span></h4>
<p>Para crear un subvolumen:
</p>
<pre># btrfs subvolume create <i>/ruta/al/subvolumen</i>
</pre>
<h4>
<span id="Listar_subvol.C3.BAmenes"></span><span class="mw-headline" id="Listar_subvolúmenes">Listar subvolúmenes</span>
</h4>
<p>Para ver una lista de los subvolúmenes actuales y sus ID bajo <code><i>ruta</i></code>:
</p>
<pre># btrfs subvolume list -p <i>ruta</i>
</pre>
<h4><span class="mw-headline" id="Eliminar_un_subvolumen">Eliminar un subvolumen</span></h4>
<p>Para eliminar un subvolumen:
</p>
<pre># btrfs subvolume delete <i>/ruta/al/subvolumen</i>
</pre>
<p>Desde Linux 4.18, también se puede eliminar un subvolumen como un directorio regular (<code>rm -r</code>, <code>rmdir</code>).
</p>
<h4>
<span id="Montar_subvol.C3.BAmenes"></span><span class="mw-headline" id="Montar_subvolúmenes">Montar subvolúmenes</span>
</h4>
<p>subvolúmenes pueden ser montados como particiones del sistema de archivos usando las flags <code>subvol=<i>/ruta/al/subvolumen</i></code> o <code>subvolid=<i>objectid</i></code>. Por ejemplo, puede tener un subvolumen llamado <code>subvol_root</code> y montarlo como <code>/</code>. Uno puede imitar las particiones tradicionales del sistema de archivos creando varios subvolúmenes en el nivel superior del sistema de archivos y luego montándolos en los puntos de montaje apropiados. Se pueden imitar las particiones tradicionales del sistema de archivos creando varios subvolúmenes en el nivel superior del sistema de archivos y luego montándolos en los puntos de montaje apropiados. Es preferible montar utilizando <code>subvol=<i>/ruta/al/subvolumen</i></code>, en lugar del subvolid, ya que el subvolid puede cambiar al restaurar las <a href="#Instant%C3%A1neas">#Instantáneas</a>, lo que requiere un cambio de configuración de montaje.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> El cambio de diseño de subvolumen se hace simple al no utilizar el subvolumen del nivel superior (ID=5) como <code>/</code> (lo cual ocurre por defecto). En vez de eso, considere crear un subvolumen para sus datos reales y montarlos como <code>/</code>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> De <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5#MOUNT_OPTIONS">btrfs(5) § MOUNT OPTIONS</a></span>:
<dl><dd>La mayor parte de opciones de montaje se aplican al <b>sistema de archivos entero</b>, y sólo las opciones para el primer subvolumen que se va a montar harán. Esto se debe a la implementación y puede cambiar en el futuro.</dd></dl>
<p>Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/FAQ#Can_I_mount_subvolumes_with_different_mount_options.3F">Preguntas Frecuentes en la Wiki de Btrfs</a> para cuales opciones pueden ser usadas por subvolumen.
</p>
</div>
<p>Véase <a href="../en/Snapper.html#Suggested_filesystem_layout" title="Snapper">Snapper#Suggested filesystem layout</a>, <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Managing_Snapshots">Btrfs SysadminGuide#Managing Snapshots</a>, y <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Layout">Btrfs SysadminGuide#Layout</a> para ejemplos de diseños de sistemas de archivo que usan subvolúmenes.
</p>
<p>Véase <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5">btrfs(5)</a></span> para una lista completa de opciones específicas de montado para btrfs.
</p>
<h4>
<span id="Montar_subvolumen_en_ra.C3.ADz"></span><span class="mw-headline" id="Montar_subvolumen_en_raíz">Montar subvolumen en raíz</span>
</h4>
<p>Para utilizar un subvolumen como punto de montaje raíz, especifique el subvolumen vía <a href="../es/Kernel_parameters.html#Configuraci%C3%B3n" title="Kernel parameters (Español)">parámetros del kernel</a> usando <code>rootflags=subvol=<i>/ruta/al/subvolumen</i></code>. Edite el punto de montaje raíz en <code>/etc/fstab</code> y especifique el punto de montaje <code>subvol=</code>. Alternativamente el subvolumen puede ser pesecificado con su id, <code>rootflags=subvolid=<i>objectid</i></code> como parámetro del kernel y <code>subvolid=<i>objectid</i></code> como opción de montaje en <code>/etc/fstab</code>. Es preferible montar utilizando <code>subvol=<i>/ruta/al/subvolumen</i></code>, en lugar del subvolid, ya que el subvolid puede cambiar al restaurar las <a href="#Instant%C3%A1neas">#Instantáneas</a>, lo que requiere un cambio de montar la configuración, de lo contrario el sistema no arrancará.
</p>
<p><br>
</p>
<h4><span class="mw-headline" id="Cambiar_el_subvolumen_por_defecto">Cambiar el subvolumen por defecto</span></h4>
<p>El subvolumen por defecto se monta si no se provee la opción de montado <code>subvol=</code>. Para cambiar el subvolumen por defecto, haga:
</p>
<pre># btrfs subvolume set-default <i>subvolume-id</i> /
</pre>
<p>cuando <i>subvolume-id</i> sea encontrado <a href="#Listar_subvol%C3%BAmenes">listando</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Después de cambiar el subvolumen predeterminado en un sistema con <a href="../es/GRUB.html" title="GRUB (Español)">GRUB</a>, debe ejecutar <code>grub-install</code> otra vez para avisarle al gestor de arranque sobre los cambios. Véase <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1615373">este hilo del foro</a>.</div>
<p>Cambiando el subvolumen por defecto con <code>btrfs subvolume set-default</code> hará que el nivel superior del sistema de archivos sea inaccesible, excepto usando las opciones de montado <code>subvol=/</code> o <code>subvolid=5</code> <a rel="nofollow" class="external autonumber" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide">[8]</a>.
</p>
<h3><span class="mw-headline" id="Quota">Quota</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Qgroup aún es inestable y combinar Quota con (demasiadas) snapshots o subvolúmenes puede causar problemas de rendimiento, por ejemplo eliminando snapshots. Además hay varios <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Quota_support#Known_issues">problemas</a> más.</div>
<p>El soporte de Quota en Btrfs se implementa al nivel de subvolumen por el uso de quota groups (grupos) o qgroup: Cada subvolumen es asignado a quota groups en forma de <i>0/subvolume_id</i> por defecto. No obstante, es posible crear un quota group usando cualquier número si lo desea.
</p>
<p>Para usar qgroups necesita activar la quota primero, usando:
</p>
<pre># btrfs quota enable <i>ruta</i>
</pre>
<p>A partir de este punto en adelante los subvolúmenes recién creados serán controlados por esos grupos.
Con el fin de, retrospectivamente activelos para subvolúmenes existentes, active la quota normalmente, luego cree un qgroup (quota group) para cada uno de esos subvolúmenes usando <i>subvolume_id</i> y reescaneelos:
</p>
<pre># btrfs subvolume list <i>ruta</i> | cut -d' ' -f2 | xargs -I{} -n1 btrfs qgroup create 0/{} <i>ruta</i>
# btrfs quota rescan <i>ruta</i>
</pre>
<p>Quota groups en Btrfs forma una jerarquía de árbol, por lo cual qgroups está adjunto a los subvolúmenes. El tamaño límite se establece por qgroup y se aplican cuando cualquier límite del árbol que contenga un determinado subvolumen es alcanzado.
</p>
<p>Límites en quota groups pueden aplicarse al uso total de los datos, ya sea, uso no compartido, datos comprimidos o ambos. Eliminar y copiar archivos puede afectar los límites de ambos debido a que el límite no compartido de otro qgroup puede cambiar si los archivos del volumen original se eliminan y solo queda una copia. Por ejemplo, una nueva snapshot comparte casi todos los bloques con el subvolumen original, nuevas escrituras a cualquiera de los subvolúmenes hacia el límite exlusivo, eliminaciones de datos comunes en un volumen aumentan hacia el límite exclusivo en el otro.
</p>
<p>Para aplicar un límite a un grupo, utilice la orden <code>btrfs qgroup limit</code>. Dependiendo de su uso utilice un límite total, límite sin comprimir (<code>-e</code>) o límite comprimido (<code>-c</code>).
Para ver utilización y límites de una ruta dada dentro del sistema de archivos
</p>
<pre># btrfs qgroup show -reF <i>ruta</i>
</pre>
<h3><span class="mw-headline" id="Intervalo_de_commit">Intervalo de commit</span></h3>
<p>La resolución de cuáles datos son escritos en el sistema de archivos es dictada por el mismo Btrfs y por los ajustes system-wide. Btrfs por defecto tiene 30 segundos de intervalo de punto de control en el cual nuevos datos son cometidos al sistema de archivos. Esto puede ser cambiado añadiendo la opción de montado <code>commit</code> en <code>/etc/fstab</code> para la partición btrfs.
</p>
<pre>LABEL=arch64 / btrfs defaults,compress=zstd,commit=120 0 0
</pre>
<p>Ajustes en el sistema también afectan el intervalo de commits. Incluyen los archivos debajo de <code>/proc/sys/vm/*</code> y están fuera del foco de este artículo Wiki. La documentación del kernel sobre estos está disponible <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/sysctl/vm.html">aquí</a>.
</p>
<h3><span class="mw-headline" id="SSD_TRIM">SSD TRIM</span></h3>
<p>Un sistema de archivos Btrfs es capaz de liberar bloques no utilizados de una unidad SSD que admita la orden TRIM. A partir de la versión del kernel 5.6 hay soporte de descarte asíncrono, activado con la opción de montado <code>discard=async</code>. Las extensiones libreadas no se descartan de inmediato, sino que se agrupan y recortan después por un subproceso de trabajo independiente, lo que mejora la latencia del commit.
</p>
<p>Más información sobre utilizar y activar TRIM está disponible en <a href="../es/Solid_State_drive.html#TRIM" class="mw-redirect" title="Solid State Drives (Español)">Solid State Drives (Español)#TRIM</a>.
</p>
<h2>
<span id="Utilizaci.C3.B3n"></span><span class="mw-headline" id="Utilización">Utilización</span>
</h2>
<h3><span class="mw-headline" id="Archivo_como_espacio_de_intercambio">Archivo como espacio de intercambio</span></h3>
<p>Btrfs soporta <a href="../es/Swap.html#Archivo_como_espacio_de_intercambio" title="Swap (Español)">archivo como espacio de intercambio</a> (swap) a partir del kernel de Linux 5.0.<a rel="nofollow" class="external autonumber" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ed46ff3d423780fa5173b38a844bf0fdb210a2a7">[9]</a> La manera apropiada de iniciar un archivo como espacio de intercambio es primero crear un subvolumen sin instantánea para albergar el archivo y luego establecer el atributo <code>No_COW</code> en todo el directorio con <a href="../es/File_permissions_and_attributes.html#Atributos_de_archivo" class="mw-redirect" title="Chattr (Español)">chattr</a>:
</p>
<pre># chattr +C <i>/ruta/al/subvolumendeintercambio</i>
</pre>
<p>De ahora en adelante, cualquier archivo nuevo creado dentro del subvolumen de intercambio tendrá el conjunto de atributos <code>No_COW</code>.
</p>
<p>Continúe con los siguientes pasos en <a href="../es/Swap.html#Creaci%C3%B3n_de_archivos_de_intercambio" title="Swap (Español)">Swap (Español)#Creación de archivos de intercambio</a>. Configure la hibernación del archivo como espacio de intercambio como está descrito en <a href="../es/Power_management/Suspend_and_hibernate.html#Hibernar_en_un_archivo_swap" title="Power management (Español)/Suspend and hibernate (Español)">Power management (Español)/Suspend and hibernate (Español)#Hibernar en un archivo swap</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> No se admiten los archivos de intercambio en sistemas de archivos que abarcan varios dispositivos. Véase <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5#SWAPFILE_SUPPORT">btrfs(5) § SWAPFILE SUPPORT</a></span> y <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1849371#p1849371">esta discusión en los foros de Arch</a>.</div>
<h3>
<span id="Ver_espacio_usado.2Flibre"></span><span class="mw-headline" id="Ver_espacio_usado/libre">Ver espacio usado/libre</span>
</h3>
<p>Herramientas de espacio de usuario de linux como <span class="plainlinks archwiki-template-man" title="$ man 1 df"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/df.1">df(1)</a></span> reportarán de forma incorrecta espacio libre en una partición Btrfs.  Se recomienda usar <code>btrfs filesystem usage</code> para consultar particiones Btrfs. Por ejemplo, para un desglose completo de asignación de dispositivos y estadísticas de utilización:
</p>
<pre># btrfs filesystem usage /
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La orden <code>btrfs filesystem usage</code> actualmente no funciona correctamente con los niveles <code>RAID5/RAID6</code> </div>
<p>Alternativamente, <code>btrfs filesystem df</code> permite un vistazo rápido del uso del espacio asignado sin el requisito de ejecutarse como superusuario:
</p>
<pre>$ btrfs filesystem df /
</pre>
<p>Véase <a rel="nofollow" class="external autonumber" href="https://btrfs.wiki.kernel.org/index.php/FAQ#How_much_free_space_do_I_have.3F">[10]</a> para más información.
</p>
<p>Las mismas limitaciones se aplican a las herramientas que analizan el uso del espacio para algún subconjunto del sistema de archivos, como <span class="plainlinks archwiki-template-man" title="$ man 1 du"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/du.1">du(1)</a></span> o <span class="plainlinks archwiki-template-man" title="$ man 1 ncdu"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ncdu.1">ncdu(1)</a></span>, ya que no tienen en cuenta los enlaces de referencia, las instantáneas y la compresión. En su lugar, véase <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/btdu/">btdu</a></span><sup><small>AUR</small></sup> y <a href="#Ver_tipos_y_proporciones_de_compresi%C3%B3n">compsize</a> para ver alternativas compatibles con btrfs.
</p>
<h3>
<span id="Desfragmentaci.C3.B3n"></span><span class="mw-headline" id="Desfragmentación">Desfragmentación</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Una regresión importante en la versión del kernel de Linux 5.16.x &lt; 5.16.5 hace que la desfragmentación de Btrfs se repita infinitamente en algunos sistemas, lo que afecta tanto a la desfragmentación manual como a la automática. Esto provoca cargas de E/S extremas en las unidades afectadas, lo que puede acortar considerablemente su vida útil y afectar su rendimiento. Como tal, no se recomienda utilizar <code>autodefrag</code> en estas versiones, incluso se debe usar <code>noautodefrag</code> para asegurarse de que la desfragmentación en línea esté desactivada. Véase <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linux/comments/sgybyr/psa_linux_516_has_major_regression_in_btrfs/">[11]</a> y <a rel="nofollow" class="external autonumber" href="https://lore.kernel.org/linux-btrfs/CAEwRaO4y3PPPUdwYjNDoB9m9CLzfd3DFFk2iK1X6OyyEWG5-mg@mail.gmail.com/">[12]</a>.</div>
<p>Btrfs admite la desfragmentación en línea a través de la opción de montaje <code>autodefrag</code>, véase <span class="plainlinks archwiki-template-man" title="$ man 5 btrfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs.5#MOUNT_OPTIONS">btrfs(5) § MOUNT OPTIONS</a></span>. Para desfragmentar manualmente su raíz, utilice:
</p>
<pre># btrfs filesystem defragment -r /
</pre>
<p>El uso de la orden anterior sin el modificador <code>-r</code> dará como resultado que solo se desfragmenten los metadatos del subvolumen que contiene el directorio. Esto permite la desfragmentación de un solo archivo simplemente especificando la ruta.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> La desfragmentación de un archivo que tiene una copia COW (ya sea una copia instantánea o una hecha con <code>cp</code> o bcp) además de utilizar <code>-c</code> con un algoritmo de compresión puede resultar en dos archivos no relacionados aumentando efectivamente el uso del disco.</div>
<h3><span class="mw-headline" id="RAID">RAID</span></h3>
<p>Btrfs ofrece "RAID" nativo para <a href="#Sistema_de_archivos_en_m%C3%BAltiples_dispositivos">sistemas de archivos en múltiples dispositivos</a>. Las características notables que distinguen al RAID de btrfs de <a href="../es/RAID.html" title="RAID (Español)">mdadm</a> son las matrices redundantes de recuperación automática y el balance en línea. Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices">la página wiki de Btrfs</a> para obtener más información. La página de administración de sistemas de Btrfs también <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#RAID_and_data_replication">tiene una sección</a> con más antecedentes técnicos.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> El código de paridad RAID (RAID 5/6) tiene varios errores graves de pérdida de datos. Véase la página de Btrfs Wiki <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/RAID56">RAID5/6</a> y un informe de errores en la <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/8695beeb-f991-28c4-cf6b-8c92339e468f@inwind.it/">lista de correo linux-btrfs</a> para obtener información más detallada. En junio de 2020, alguien publicó una <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/20200627030614.GW10769@hungrycats.org/">lista completa de problemas actuales</a> y una <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/20200627032414.GX10769@hungrycats.org/">útil guía de recuperación</a>.</div>
<h3><span class="mw-headline" id="Scrub">Scrub</span></h3>
<p>El <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Glossary">Glosario de la Wiki de Btrfs</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2023-04-22]</sup> dice que Btrfs Scrub es "[una] herramienta de verificación de sistemas de archivos en línea. Lee todos los datos y metadatos en el sistema de archivos y utiliza sumas de verificación y las copias duplicadas del almacenamiento RAID para identificar y reparar cualquier dato corrupto".
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Un proceso de limpieza en ejecución evitará que el sistema se suspenda, véase <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/20140227190656.GA28338@merlins.org/">este hilo</a> para más detalles.</div>
<h4><span class="mw-headline" id="Iniciar_manualmente">Iniciar manualmente</span></h4>
<p>Para iniciar una limpieza (de fondo) en el sistema de archivos que contiene <code>/</code>:
</p>
<pre># btrfs scrub start /
</pre>
<p>Para comprobar el estado de una limpieza en ejecución:
</p>
<pre># btrfs scrub status /
</pre>
<h4><span class="mw-headline" id="Iniciar_con_un_servicio_o_temporizador">Iniciar con un servicio o temporizador</span></h4>
<p>El paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=btrfs-progs">btrfs-progs</a></span> trae la unidad <code>btrfs-scrub@.timer</code> para limpiar mensualmente el punto de montaje especificado. <a href="../es/Systemd.html#Utilizar_las_unidades" class="mw-redirect" title="Enable (Español)">Active</a> el temporizador con una ruta de escape, por ejemplo <code>btrfs-scrub@-.timer</code> para <code>/</code> y <code>btrfs-scrub@home.timer</code> para <code>/home</code>. Puede utilizar <code>systemd-escape -p <i>/ruta/al/punto/de/montaje</i></code> para escapar la ruta; véase <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-escape"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-escape.1">systemd-escape(1)</a></span> para obtener más detalles.
</p>
<p>También puede ejecutar la limpieza <a href="../es/Systemd.html#Utilizar_las_unidades" class="mw-redirect" title="Starting (Español)">iniciando</a> <code>btrfs-scrub@.service</code> (con la misma ruta codificada). La ventaja de esto sobre <code>btrfs scrub</code> (como superusuario <i>root</i>) es que los resultados de la limpieza se registrarán en el <a href="../es/Systemd/Journal.html" class="mw-redirect" title="Systemd journal (Español)">registro de systemd</a>.
</p>
<p>En unidades NVMe grandes con refrigeración insuficiente (por ejemplo, en una computadora portátil), la limpieza puede leer la unidad lo suficientemente rápido y durante el tiempo suficiente para calentarla mucho. Si está ejecutando limpiezas con systemd, puede limitar fácilmente la tasa de limpieza con la opción <code>IOReadBandwidthMax</code> descrita en <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.resource-control"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.resource-control.5">systemd.resource-control(5)</a></span> usando un <a href="../es/Systemd.html#Archivos_insertados" class="mw-redirect" title="Drop-in file (Español)">archivo insertado</a>.
</p>
<h3><span class="mw-headline" id="Balance">Balance</span></h3>
<p>"Un balance pasa todos los datos en el sistema de archivos a través del asignador nuevamente. Su objetivo principal es rebalancear los datos en el sistema de archivos entre los dispositivos cuando se agrega o elimina un dispositivo. Un balance regenerará las copias faltantes para los niveles RAID redundantes, si un el dispositivo ha fallado". <a rel="nofollow" class="external autonumber" href="https://btrfs.wiki.kernel.org/index.php/Glossary">[13]</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2023-04-22]</sup> Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/FAQ#What_does_.22balance.22_do.3F">Página de preguntas frecuentes de upstream</a>.
</p>
<p>En un sistema de archivos de un solo dispositivo, un balance también puede ser útil para (temporalmente) reducir la cantidad de fragmentos de (meta)datos asignados pero no utilizados. A veces, esto es necesario para arreglar <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/FAQ#Help.21_Btrfs_claims_I.27m_out_of_space.2C_but_it_looks_like_I_should_have_lots_left.21">problemas de "sistema de archivos lleno"</a>.
</p>
<pre># btrfs balance start --bg /
# btrfs balance status /
</pre>
<h3>
<span id="Instant.C3.A1neas"></span><span class="mw-headline" id="Instantáneas">Instantáneas</span>
</h3>
<p>"Una instantánea (snapshot) es simplemente un subvolumen que comparte sus datos (y metadatos) con algún otro subvolumen, utilizando las capacidades COW de btrfs". Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/SysadminGuide#Snapshots">Btrfs Wiki SysadminGuide#Snapshots</a> para obtener más información.
</p>
<p>Para crear una instantánea:
</p>
<pre># btrfs subvolume snapshot <i>fuente</i> [<i>destino</i>/]<i>nombre</i>
</pre>
<p>Para crear una instantánea de solo lectura, añada <code>-r</code>. Para crear una versión de escritura de una instantánea de solo lectura, simplemente cree una instantánea de la misma.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Es posible convertir una instantánea de solo lectura a escritura. Sin embargo, esto no se recomienda porque <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/06e92a0b-e71b-eb21-edb5-9d2a5513b718@gmail.com/">causa problemas</a> con cualquier envío/recepción incremental futuro. Crear una nueva instantánea grabable evita estos problemas.</li>
<li>Las instantáneas no son recursivas. Cada subvolumen anidado será un directorio vacío dentro de la instantánea.</li>
</ul>
</div>
<h3>
<span id="Enviar.2FRecibir"></span><span class="mw-headline" id="Enviar/Recibir">Enviar/Recibir</span>
</h3>
<p>Se puede enviar un subvolumen a la salida estándar o a un archivo mediante la orden <code>send</code>. Esto suele ser más útil cuando se canaliza a una orden <code>receive</code> de Btrfs. Por ejemplo, para enviar una instantánea llamada <code>/root_backup</code> (quizás de una instantánea que hizo de <code>/</code> anteriormente) a <code>/backup</code>, haga lo siguiente:
</p>
<pre># btrfs send /root_backup | btrfs receive /backup
</pre>
<p>La instantánea que se envía <i>debe</i> ser de solo lectura. La orden anterior es útil para copiar un subvolumen a un dispositivo externo (por ejemplo, un disco USB montado en <code>/backup</code> indicado antes).
</p>
<p>También puede enviar solo la diferencia entre dos instantáneas. Por ejemplo, si ya ha enviado una copia de <code>root_backup</code> y ha creado una nueva instantánea de solo lectura en su sistema llamada <code>root_backup_new</code>, entonces envíe solo la diferencia incremental a <code>/backup</code> mediante:
</p>
<pre># btrfs send -p /root_backup /root_backup_new | btrfs receive /backup
</pre>
<p>Ahora, un nuevo subvolumen llamado <code>root_backup_new</code> estará presente en <code>/backup</code>.
</p>
<p>Véase la <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Incremental_Backup">página de copia de seguridad incremental en la Wiki de Btrfs</a> y <a href="#Copia_de_seguridad_incremental_en_disco_externo">#Copia de seguridad incremental en disco externo</a> sobre cómo utilizar esto para copias de seguridad incrementales y para las herramientas que automatizan el proceso.
</p>
<h3>
<span id="Deduplicaci.C3.B3n"></span><span class="mw-headline" id="Deduplicación">Deduplicación</span>
</h3>
<p>Utilizando Copy-on-Write, Btrfs puede copiar archivos o subvolúmenes completos sin copiar los datos. Sin embargo, cada vez que se modifica un archivo, se crea una nueva copia <i>adecuada</i>. La deduplicación lleva esto un paso más allá, identificando activamente bloques de datos que comparten secuencias comunes y combinándolos en una extensión con la misma semántica de copia en escritura.
</p>
<p>Las herramientas dedicadas a deduplicar una partición con formato Btrfs incluyen <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=duperemove">duperemove</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bees">bees</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bedup/">bedup</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">enlace roto</a>: package not found]</sup> y <i>btrfs-dedup</i>. También es posible que desee simplemente deduplicar datos en un nivel basado en archivos en lugar de utilizar, por ejemplo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rmlint">rmlint</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdupes/">jdupes</a></span><sup><small>AUR</small></sup> o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dduper-git/">dduper-git</a></span><sup><small>AUR</small></sup>. Para obtener una descripción general de las funciones disponibles de esos programas e información adicional, véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Deduplication#Batch">upstream Wiki entry</a>.
</p>
<p>Además, los desarrolladores de Btrfs están trabajando en la deduplicación en banda (también conocida como sincrónica o en línea), lo que significa que la deduplicación se realiza al escribir nuevos datos en el sistema de archivos. Actualmente sigue siendo algo experimental que se desarrolla fuera del árbol principal. Los usuarios que deseen probar la nueva función deben leer la <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/User_notes_on_dedupe">página wiki del kernel correspondiente</a>.
</p>
<h3>
<span id="Cambio_de_tama.C3.B1o"></span><span class="mw-headline" id="Cambio_de_tamaño">Cambio de tamaño</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Para evitar la pérdida de datos, asegúrese de hacer una copia de seguridad de sus datos antes de comenzar cualquier tarea de cambio de tamaño.</div>
<p>Puede hacer crecer un sistema de archivos hasta el espacio máximo disponible en el dispositivo o especificar un tamaño exacto. Asegúrese de aumentar el tamaño del dispositivo o volumen lógico antes de intentar aumentar el tamaño del sistema de archivos.
</p>
<p>Al especificar un tamaño exacto para el sistema de archivos en un dispositivo, ya sea aumentando o disminuyendo, asegúrese de que el nuevo tamaño cumpla las siguientes condiciones:
</p>
<ul>
<li>El nuevo tamaño debe ser mayor que el tamaño de los datos existentes; de lo contrario, se produce una pérdida de datos.</li>
<li>El nuevo tamaño debe ser igual o menor que el tamaño del dispositivo actual porque el tamaño del sistema de archivos no puede extenderse más allá del espacio disponible.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Si planea reducir también el tamaño del volumen lógico que contiene el sistema de archivos, asegúrese de reducir el tamaño del sistema de archivos antes de intentar reducir el tamaño del dispositivo o volumen lógico.</div>
<p>Para extender el tamaño del sistema de archivos al tamaño máximo disponible del dispositivo:
</p>
<pre># btrfs filesystem resize max /
</pre>
<p>Para extender el sistema de archivos a un tamaño específico:
</p>
<pre># btrfs filesystem resize <i>tamaño</i> /
</pre>
<p>Reemplace <code><i>tamaño</i></code> con el tamaño deseado en bytes. También puede especificar unidades en el valor, como K (kibibytes), M (mebibytes) o G (gibibytes). Como alternativa, puede especificar un aumento o disminución del tamaño actual anteponiendo el valor con un signo más (+) o menos (-), respectivamente:
</p>
<pre># btrfs filesystem resize +<i>tamaño</i> /
# btrfs filesystem resize -<i>tamaño</i> /
</pre>
<h2><span class="mw-headline" id="Problemas_conocidos">Problemas conocidos</span></h2>
<p>Se deben conocer algunas limitaciones antes de intentarlo.
</p>
<h3><span class="mw-headline" id="Cifrado">Cifrado</span></h3>
<p>Btrfs no tiene soporte de cifrado integrado, pero esto <a rel="nofollow" class="external text" href="https://lwn.net/Articles/700487/">puede</a> venir en el futuro. Los usuarios pueden cifrar la partición antes de ejecutar <code>mkfs.btrfs</code>. Véase <a href="../es/Dm-crypt/Encrypting_an_entire_system.html#Subvol%C3%BAmenes_btrfs_con_espacio_de_intercambio" title="Dm-crypt (Español)/Encrypting an entire system (Español)">dm-crypt (Español)/Encrypting an entire system (Español)#Subvolúmenes btrfs con espacio de intercambio</a>.
</p>
<p>Los sistemas de archivos Btrfs existentes pueden utilizar algo como <a href="../es/EncFS.html" title="EncFS (Español)">EncFS</a> o <a href="../en/VeraCrypt.html" class="mw-redirect" title="TrueCrypt">TrueCrypt</a>, aunque quizás sin algunas de las características de Btrfs.
</p>
<h3>
<span id="Problemas_de_comprobaci.C3.B3n_de_btrfs"></span><span class="mw-headline" id="Problemas_de_comprobación_de_btrfs">Problemas de comprobación de btrfs</span>
</h3>
<p>La herramienta <code>btrfs check</code> tiene problemas conocidos y no debe ejecutarse sin leer más; véase la sección <a href="#btrfs_check">#btrfs check</a>.
</p>
<h2><span class="mw-headline" id="Consejos_y_trucos">Consejos y trucos</span></h2>
<h3><span class="mw-headline" id="Disco_Btrfs_sin_particiones">Disco Btrfs sin particiones</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> La mayoría de los usuarios no desean este tipo de configuración y, en su lugar, deben instalar Btrfs en una partición normal. Además, GRUB desaconseja encarecidamente la instalación en un disco sin particiones.</div>
<p>Btrfs puede ocupar un dispositivo de almacenamiento de datos completo, reemplazando los esquemas de partición <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="MBR (Español)">MBR</a> o <a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GPT (Español)">GPT</a>, utilizando <a href="#Subvol%C3%BAmenes">subvolúmenes</a> para simular particiones. Sin embargo, no es necesario utilizar una configuración sin particiones para simplemente <a href="#Creaci%C3%B3n_del_sistema_de_archivos">crear un sistema de archivos Btrfs</a> en una <a href="../en/Partitioning.html" class="mw-redirect" title="Partition (Español)">partición</a> existente que se creó con otro método. Existen algunas limitaciones para las configuraciones de un solo disco sin particiones:
</p>
<ul>
<li>No se pueden colocar otros <a href="../es/File_systems.html" title="File systems (Español)">sistemas de archivos</a> en otra partición del mismo disco.</li>
<li>Debido al punto anterior, no es posible tener un <a href="../es/EFI_system_partition.html" title="EFI system partition (Español)">ESP</a> en este disco. Se necesita otro dispositivo para el arranque <a href="../es/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI (Español)">UEFI</a>.</li>
<li>Si utiliza una versión del kernel de Linux anterior a la 5.0, no puede usar un <a href="../es/Swap.html" title="Swap (Español)">espacio de intercambio</a> ya que Btrfs no admitía un <a href="../es/Swap.html#Archivo_como_espacio_de_intercambio" title="Swap (Español)">archivo como espacio de intercambioswap files</a> anterior a 5.0 y no hay lugar para crear una <a href="../es/Swap.html#Partici%C3%B3n_como_espacio_de_intercambio" title="Swap (Español)">partición como espacio de intercambio</a>.</li>
</ul>
<p>Para sobrescribir la tabla de particiones existente con Btrfs, ejecute la siguiente orden:
</p>
<pre># mkfs.btrfs /dev/sd<i>X</i>
</pre>
<p>Por ejemplo, utilice <code>/dev/sda</code> en lugar de <code>/dev/sda1</code>. Este último formatearía una partición existente en lugar de reemplazar todo el esquema de particiones. Debido a que la partición raíz es Btrfs, asegúrese de que <code>btrfs</code> esté compilado en el kernel, o coloque <code>btrfs</code> en <a href="../en/Mkinitcpio.html#MODULES" class="mw-redirect" title="Mkinitcpio.conf">mkinitcpio.conf#MODULES</a> y <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs (Español)">regenere initramfs</a>.
</p>
<p>Instale el <a href="../es/Arch_boot_process.html#Gestor_de_arranque" class="mw-redirect" title="Boot loader (Español)">gestor de arranque</a> como lo haría con un dispositivo de almacenamiento de datos con un <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="Master Boot Record (Español)">Registro de arranque maestro</a> (MBR). Véase <a href="../en/Syslinux.html#Manually" title="Syslinux">Syslinux#Manually</a> o <a href="../es/GRUB/Tips_and_tricks.html#Instalar_en_un_disco_con_o_sin_particiones" title="GRUB (Español)/Tips and tricks (Español)">Instalar GRUB en un disco con o sin particiones</a>. Si su kernel no arranca debido a <code>Failed to mount /sysroot.</code>, añada <code>GRUB_PRELOAD_MODULES="btrfs"</code> en <code>/etc/default/grub</code> y <a href="../es/GRUB.html#Generar_el_archivo_de_configuraci%C3%B3n_principal" title="GRUB (Español)">genere</a> la configuración de GRUB.
</p>
<h3>
<span id="Conversi.C3.B3n_de_Ext3.2F4_a_Btrfs"></span><span class="mw-headline" id="Conversión_de_Ext3/4_a_Btrfs">Conversión de Ext3/4 a Btrfs</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Hay muchos informes en la lista de correo de btrfs sobre conversiones incompletas/corruptas/rotas. Asegúrese de tener copias de seguridad "en funcionamiento" de todos los datos que no pueda permitirse perder. Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Conversion_from_Ext3">Conversión desde Ext3</a> en la wiki de btrfs para obtener más información.</div>
<p>Arranque desde un CD de instalación, luego convierta haciendo:
</p>
<pre># btrfs-convert /dev/<i>partición</i>
</pre>
<p>Monte la partición y pruebe la conversión comprobando los archivos. Asegúrese de cambiar <code>/etc/fstab</code> para reflejar el cambio (<b>type</b> a <code>btrfs</code> y <b>fs_passno</b> [el último campo] a <code>0</code> ya que Btrfs no realiza una comprobación del sistema de archivos en el arranque). También tenga en cuenta que el UUID de la partición habrá cambiado, así que actualice fstab en consecuencia cuando utilice UUID. Haga <code>chroot</code> en el sistema y reconstruya la lista de menú de su gestor de arranque (véase <a href="../es/Install_Arch_Linux_from_existing_Linux.html" class="mw-redirect" title="Install from existing Linux (Español)">Instalar desde un Linux existente</a>). Si está convirtiendo un sistema de archivos raíz (root), mientras aún está en chroot, ejecute <code>mkinitcpio -p linux</code> para regenerar initramfs, o el sistema no se iniciará correctamente.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Si hay algún problema, ya sea que no se pueden montar o escribir archivos en los sistemas de archivos btrfs recién convertidos, existe la opción de revertir siempre que el subvolumen de respaldo <code>/ext2_saved</code> todavía esté allí. Utilice la orden <code>btrfs-convert -r /dev/<i>partición</i></code> para retroceder, esto descartará cualquier modificación al sistema de archivos btrfs recién convertido.</div>
<p>Después de confirmar que no hay problemas, complete la conversión eliminando el subvolumen de copia de seguridad <code>ext2_saved</code>. Tenga en cuenta que no puede volver a Ext3/4 sin él.
</p>
<pre># btrfs subvolume delete /ext2_saved
</pre>
<p>Finalmente <a href="#Balance">balancee</a> el sistema de archivos para recuperar el espacio.
</p>
<p>Recuerde que algunas aplicaciones que se instalaron previamente deben adaptarse a Btrfs.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La conversión de Ext3/4 a Btrfs es una operación que requiere mucho tiempo. Para un sistema de archivos de 4 TB y un HDD normal, puede demorar hasta 10 horas.</div>
<h3>
<span id="Aceleraci.C3.B3n_por_hardware_de_la_suma_de_comprobaci.C3.B3n"></span><span class="mw-headline" id="Aceleración_por_hardware_de_la_suma_de_comprobación">Aceleración por hardware de la suma de comprobación</span>
</h3>
<p>CRC32 es una nueva instrucción en Intel SSE4.2. Para verificar si la suma de comprobación de Btrfs está acelerada por hardware:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep crc32c</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Btrfs loaded, crc32c=crc32c-intel</pre>
<p>Si ve <code>crc32c=crc32c-generic</code>, probablemente se deba a que su partición raíz es Btrfs y tendrá que compilar <code>crc32c-intel</code> en el kernel para que funcione. Poner <code>crc32c-intel</code> en <a href="../en/Mkinitcpio.html#Configuration" class="mw-redirect" title="Mkinitcpio.conf">mkinitcpio.conf</a> <i>no</i> funciona.
</p>
<h3>
<span id="Recuperaci.C3.B3n_de_la_corrupci.C3.B3n"></span><span class="mw-headline" id="Recuperación_de_la_corrupción">Recuperación de la corrupción</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> La herramienta <code>btrfs check</code> tiene problemas conocidos, véase la sección <a href="#btrfs_check">#btrfs check</a>.</div>
<p><i>btrfs-check</i> no se puede utilizar en un sistema de archivos montado. Para poder utilizar <i>btrfs-check</i> sin arrancar desde un USB en vivo, agréguelo al ramdisk inicial:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">BINARIES=(btrfs)</pre>
<p><a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs (Español)">Regenere los initramfs</a>.
</p>
<p>Luego, si hay un problema al arrancar, la utilidad está disponible para su reparación.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Si el proceso fsck tiene que invalidar el caché de espacio (¿y/u otros cachés?), es normal que un arranque posterior se cuelgue por un tiempo (puede dar mensajes de consola sobre el bloqueo de la transacción btrfs). El sistema debería recuperarse de esto después de un tiempo.</div>
<p>Véase la <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Btrfsck">página Wiki de Btrfs</a> para obtener más información.
</p>
<h3>
<span id="Arrancando_en_instant.C3.A1neas"></span><span class="mw-headline" id="Arrancando_en_instantáneas">Arrancando en instantáneas</span>
</h3>
<p>Para arrancar en una instantánea, se aplica el mismo procedimiento que para montar un subvolumen como su partición raíz, como se indica en la sección <a href="#Montar_subvolumen_en_ra%C3%ADz">#Montar subvolumen en raíz</a>, porque las instantáneas se pueden montar como subvolúmenes.
</p>
<ul>
<li>Si utiliza <a href="../es/GRUB.html" title="GRUB (Español)">GRUB</a>, puede completar automáticamente su menú de inicio con instantáneas de btrfs al regenerar el archivo de configuración con la ayuda de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub-btrfs">grub-btrfs</a></span> o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-btrfs-git/">grub-btrfs-git</a></span><sup><small>AUR</small></sup>.</li>
<li>Si utiliza <a href="../en/REFInd.html" title="REFInd">rEFInd</a>, puede completar automáticamente su menú de inicio con instantáneas btrfs con la ayuda de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/refind-btrfs/">refind-btrfs</a></span><sup><small>AUR</small></sup>, después de <a href="../es/Help:Reading.html#Control_de_unidades_de_systemd" title="Help:Reading (Español)">activar</a> <code>refind-btrfs.service</code>.</li>
</ul>
<h3>
<span id="Utilizar_subvol.C3.BAmenes_Btrfs_con_systemd-nspawn"></span><span class="mw-headline" id="Utilizar_subvolúmenes_Btrfs_con_systemd-nspawn">Utilizar subvolúmenes Btrfs con systemd-nspawn</span>
</h3>
<p>Véase los artículos <a href="../en/Systemd-nspawn.html#Use_Btrfs_subvolume_as_container_root" title="Systemd-nspawn">Systemd-nspawn#Use Btrfs subvolume as container root</a> y <a href="../en/Systemd-nspawn.html#Use_temporary_Btrfs_snapshot_of_container" title="Systemd-nspawn">Systemd-nspawn#Use temporary Btrfs snapshot of container</a>.
</p>
<h3>
<span id="Reducci.C3.B3n_de_las_actualizaciones_del_tiempo_de_acceso_de_los_metadatos"></span><span class="mw-headline" id="Reducción_de_las_actualizaciones_del_tiempo_de_acceso_de_los_metadatos">Reducción de las actualizaciones del tiempo de acceso de los metadatos</span>
</h3>
<p>Debido a la naturaleza copy-on-write de Btrfs, simplemente acceder a los archivos puede desencadenar la copia y escritura de metadatos. Reducir la frecuencia de las actualizaciones del tiempo de acceso puede eliminar este uso inesperado del disco y aumentar el rendimiento. Véase <a href="../es/Fstab.html#Opciones_de_atime" title="Fstab (Español)">fstab (Español)#Opciones de atime</a> para conocer las opciones disponibles.
</p>
<h3><span class="mw-headline" id="Copia_de_seguridad_incremental_en_disco_externo">Copia de seguridad incremental en disco externo</span></h3>
<p>Los siguientes paquetes utilizan <code>btrfs send</code> y <code>btrfs receive</code> para enviar copias de seguridad de forma incremental a una unidad externa. Véase su documentación para las diferencias en la implementación, las características y los requisitos.
</p>
<ul><li>
<b>btrbk</b> — Herramienta para crear instantáneas y copias de seguridad remotas de subvolúmenes Btrfs.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/digint/btrbk">https://github.com/digint/btrbk</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=btrbk">btrbk</a></span>
</dd></dl>
<ul><li>
<b>snap-sync</b> — Utiliza instantáneas <a href="../en/Snapper.html" title="Snapper">Snapper</a> para realizar una copia de seguridad en una unidad externa o máquina remota.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/wesbarnett/snap-sync.git">https://github.com/wesbarnett/snap-sync.git</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=snap-sync">snap-sync</a></span>
</dd></dl>
<ul><li>
<b>snapsync</b> — Una herramienta de sincronización para <a href="../en/Snapper.html" title="Snapper">Snapper</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/doudou/snapsync">https://github.com/doudou/snapsync</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby-snapsync/">ruby-snapsync</a></span><sup><small>AUR</small></sup>
</dd></dl>
<p>El siguiente paquete permite realizar copias de seguridad de instantáneas de Snapper en sistemas de archivos que no sean Btrfs.
</p>
<ul><li>
<b>snapborg</b> — Herramienta similar a borgmatic que integra instantáneas de snapper con copias de seguridad <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=borg">borg</a></span>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/enzingerm/snapborg">https://github.com/enzingerm/snapborg</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/snapborg/">snapborg</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id="Soluci.C3.B3n_de_problemas"></span><span class="mw-headline" id="Solución_de_problemas">Solución de problemas</span>
</h2>
<p>Véase <a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/Problem_FAQ">Preguntas frecuentes sobre problemas de Btrfs</a> para obtener información general sobre la resolución de problemas.
</p>
<h3><span class="mw-headline" id="GRUB">GRUB</span></h3>
<h4>
<span id="Desplazamiento_de_la_partici.C3.B3n"></span><span class="mw-headline" id="Desplazamiento_de_la_partición">Desplazamiento de la partición</span>
</h4>
<p>El problema de desplazamiento (offset) puede ocurrir cuando intenta incrustar <code>core.img</code> en un disco particionado. Significa que <a href="../Special:Diff/319474.html" title="Special:Diff/319474">está bien</a> para incrustar <code>core.img</code> de GRUB en un grupo Btrfs en un disco sin partición (por ejemplo, <code>/dev/sd<i>X</i></code>) directamente.
</p>
<p><a href="../es/GRUB.html" title="GRUB (Español)">GRUB</a> puede iniciar particiones Btrfs, sin embargo, el módulo puede ser más grande que otros <a href="../es/File_systems.html" title="File systems (Español)">sistemas de archivos</a>. Y es posible que el archivo <code>core.img</code> creado por <code>grub-install</code> no quepa en los primeros 63 sectores (31,5 KiB) de la unidad entre el MBR y la primera partición. Las herramientas de partición actualizadas como <code>fdisk</code> y <code>gdisk</code> evitan este problema desplazando la primera partición en aproximadamente 1MiB o 2MiB.
</p>
<h4>
<span id="Ra.C3.ADz_inexistente"></span><span class="mw-headline" id="Raíz_inexistente">Raíz inexistente</span>
</h4>
<p>Los usuarios que experimenten lo siguiente: <code>error no such device: root</code> al iniciar desde una configuración de tipo RAID, modifiquen <code>/usr/share/grub/grub-mkconfig_lib</code> y eliminen ambas comillas de la línea <code>echo "  search --no-floppy --fs-uuid --set=root ${hints} ${fs_uuid}"</code>. Vuelva a generar la configuración para grub y el sistema debería arrancar sin errores.
</p>
<h3><span class="mw-headline" id="Tiempo_de_montaje_agotado">Tiempo de montaje agotado</span></h3>
<p>A veces, especialmente con matrices RAID1 grandes, el montaje puede expirar durante el arranque con un mensaje de registro como:
</p>
<pre>Jan 25 18:05:12 host systemd[1]: storage.mount: Mounting timed out. Terminating.
Jan 25 18:05:46 host systemd[1]: storage.mount: Mount process exited, code=killed, status=15/TERM
Jan 25 18:05:46 host systemd[1]: storage.mount: Failed with result 'timeout'.
Jan 25 18:05:46 host systemd[1]: Failed to mount /storage.
Jan 25 18:05:46 host systemd[1]: Startup finished in 32.943s (firmware) + 3.097s (loader) + 7.247s (kernel)&gt;
Jan 25 18:05:46 host kernel: BTRFS error (device sda): open_ctree failed</pre>
<p>Esto se puede solucionar fácilmente al proporcionar un tiempo de espera más largo a través de la opción de montaje específica de systemd <code>x-systemd.mount-timeout</code> en <a href="../es/Fstab.html" title="Fstab (Español)">fstab</a>. Por ejemplo:
</p>
<pre>/dev/sda      /storage    btrfs       rw,relatime,x-systemd.mount-timeout=5min  0 0
</pre>
<h3><span class="mw-headline" id="BTRFS:_open_ctree_failed">BTRFS: open_ctree failed</span></h3>
<p>A partir de noviembre de 2014, parece haber un error en <a href="../es/Systemd.html" title="Systemd (Español)">systemd</a> o <a href="../en/Mkinitcpio.html" class="mw-redirect" title="Mkinitcpio (Español)">mkinitcpio</a> que causa el siguiente error en los sistemas con sistema de archivos Btrfs multidispositivo que utilizan el enlace <code>btrfs</code> en <code>mkinitcpio.conf</code>:
</p>
<pre>BTRFS: open_ctree failed
mount: wrong fs type, bad option, bad superblock on /dev/sdb2, missing codepage or helper program, or other error

In some cases, useful info is found in syslog - try dmesg|tail or so.

You are now being dropped into an emergency shell.
</pre>
<p>Una solución consiste en eliminar <code>btrfs</code> de la matriz <code>HOOKS</code> en <code>/etc/mkinitcpio.conf</code> y, en su lugar, añadir <code>btrfs</code> a la matriz <code>MODULES</code>. Luego <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs (Español)">regenere initramfs</a> y reinicie.
</p>
<p>Obtendrá el mismo error si intenta montar una matriz RAID sin uno de los dispositivos. En ese caso, debe añadir la opción de montaje <code>degraded</code> a <code>/etc/fstab</code>. Si su raíz reside en la matriz, también debe añadir <code>rootflags=degraded</code> a sus <a href="../es/Kernel_parameters.html" title="Kernel parameters (Español)">parámetros del kernel</a>.
</p>
<p>A partir de agosto de 2016, una posible solución para este error es montar la matriz en una sola unidad en <code>/etc/fstab</code>, y permitir que btrfs descubra y añada las otras unidades automáticamente. Los identificadores basados en grupos como UUID y LABEL parecen contribuir al fallo. Por ejemplo, una matriz RAID1 de dos dispositivos que consta de <i>disco1</i> y <i>disco2</i> tendrá un UUID asignado, pero en lugar de utilizar el UUID, use solo <code>/dev/mapper/disk1</code> en <code>/etc/fstab</code>. Para obtener una explicación más detallada, véase la siguiente <a rel="nofollow" class="external text" href="https://web.archive.org/web/20161108175034/http://blog.samcater.com/fix-for-btrfs-open_ctree-failed-when-running-root-fs-on-raid-1-or-raid10-arch-linux/">entrada de blog</a>.
</p>
<p>Otra posible solución es eliminar el enlace <code>udev</code> en <a href="../en/Mkinitcpio.html#Configuration" class="mw-redirect" title="Mkinitcpio.conf">mkinitcpio.conf</a> y reemplazarlo con el enlace <code>systemd</code>. En este caso, <code>btrfs</code> <i>no</i> debería estar en las matrices <code>HOOKS</code> o <code>MODULES</code>.
</p>
<p>Véase el <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=189845">hilo original de los foros</a> y <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/42884">FS#42884</a> para obtener más información.
</p>
<h3><span class="mw-headline" id="btrfs_check">btrfs check</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Dado que Btrfs está bajo un fuerte desarrollo, especialmente la orden <code>btrfs check</code>, se recomienda crear una <a href="../es/System_maintenance.html#Realizar_copias_de_respaldo" title="System maintenance (Español)">copia de seguridad</a> y consultar <span class="plainlinks archwiki-template-man" title="$ man 8 btrfs-check"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs-check.8">btrfs-check(8)</a></span> antes de ejecutar <code>btrfs check</code> con <code>--repair</code>.</div>
<p>La orden <span class="plainlinks archwiki-template-man" title="$ man 8 btrfs-check"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/btrfs-check.8">btrfs-check(8)</a></span> se puede utilizar para verificar o reparar un sistema de archivos Btrfs desmontado. Sin embargo, esta herramienta de reparación aún no está madura y no puede reparar ciertos errores del sistema de archivos, incluso aquellos que no hacen que el sistema de archivos no se pueda montar.
</p>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li>
<b>Sitio oficial</b>
<ul>
<li><a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/">Wiki de Btrfs</a></li>
<li><a rel="nofollow" class="external text" href="https://btrfs.readthedocs.io">Documentación de Btrfs</a></li>
</ul>
</li>
<li>
<b>Relacionado con el rendimiento</b>
<ul>
<li><a rel="nofollow" class="external text" href="https://superuser.com/questions/432188/should-i-put-my-multi-device-btrfs-filesystem-on-disk-partitions-or-raw-devices">¿Btrfs en discos sin formato?</a></li>
<li><a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/CAKcLGm_MKEdTiHFBd-b-v2sN5gJmgFRqsykzWRXTVqUw4O6Acw@mail.gmail.com/">Variando el tamaño de hoja y tamaño de nodo en Btrfs</a></li>
<li><a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-btrfs/jgui4j$th5$1@dough.gmane.org/">Soporte de Btrfs para un funcionamiento eficiente en SSD (alineación de bloques de datos)</a></li>
<li><a rel="nofollow" class="external text" href="https://btrfs.wiki.kernel.org/index.php/FAQ#Is_Btrfs_optimized_for_SSD.3F">¿Btrfs está optimizado para SSD?</a></li>
<li>
<b>Evaluación comparativa de opciones de montura de Phoronix</b>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=linux-58-filesystems">Linux 5.8</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=linux-50-filesystems">Linux 5.0</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=btrfs-mount-linux49">Linux 4.9</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=linux_314_btrfs">Linux 3.14</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=linux_btrfs_311&amp;num=1">Linux 3.11</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTM0OTU">Linux 3.9</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=btrfs_linux37_mounts&amp;num=1">Linux 3.7</a></li>
<li><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=linux_btrfs_options&amp;num=1">Linux 3.2</a></li>
</ul>
</li>
<li><a rel="nofollow" class="external text" href="https://blog.erdemagaoglu.com/post/4605524309/lzo-vs-snappy-vs-lzf-vs-zlib-a-comparison-of">Lzo vs. zLib</a></li>
</ul>
</li>
<li>
<b>Misceláneos</b>
<ul>
<li><a href="https://www.funtoo.org/BTRFS_Fun" class="extiw" title="funtoo:BTRFS Fun">Funtoo:BTRFS Fun</a></li>
<li>
<a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTA0ODU">Avi Miller presenting Btrfs</a> at SCALE 10x, Enero 2012.</li>
<li>
<a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTA4Mzc">Summary of Chris Mason's talk</a> from LFCS 2012</li>
<li>
<a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=35054394c4b3cecd52577c2662c84da1f3e73525">Btrfs: stop providing a bmap operation to avoid swapfile corruptions</a> 2009-01-21</li>
<li><a rel="nofollow" class="external text" href="https://marc.merlins.org/perso/btrfs/post_2014-03-22_Btrfs-Tips_-Doing-Fast-Incremental-Backups-With-Btrfs-Send-and-Receive.html">Doing Fast Incremental Backups With Btrfs Send and Receive</a></li>
</ul>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:File_systems.html" title="Category:File systems (Español)">File systems (Español)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Btrfs_(Espa%C3%B1ol)&amp;oldid=799725">https://wiki.archlinux.org/index.php?title=Btrfs_(Español)&amp;oldid=799725</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 4 February 2024, at 22:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
