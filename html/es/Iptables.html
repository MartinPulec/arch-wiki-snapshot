<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>iptables (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Iptables_Español rootpage-Iptables_Español skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalación" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Instalaci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalación</div>
		</a>
		
			<button aria-controls="toc-Instalación-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Instalación subsection</span>
			</button>
		
		<ul id="toc-Instalación-sublist" class="vector-toc-list">
			<li id="toc-Frontend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Frontend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Frontend</div>
			</a>
			
			<ul id="toc-Frontend-sublist" class="vector-toc-list">
				<li id="toc-De_consola" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#De_consola">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1</span>De consola</div>
			</a>
			
			<ul id="toc-De_consola-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gráficos" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Gr%C3%A1ficos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.2</span>Gráficos</div>
			</a>
			
			<ul id="toc-Gráficos-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Conceptos_básicos" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Conceptos_b%C3%A1sicos">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Conceptos básicos</div>
		</a>
		
			<button aria-controls="toc-Conceptos_básicos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Conceptos básicos subsection</span>
			</button>
		
		<ul id="toc-Conceptos_básicos-sublist" class="vector-toc-list">
			<li id="toc-Tablas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tablas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Tablas</div>
			</a>
			
			<ul id="toc-Tablas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cadenas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cadenas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Cadenas</div>
			</a>
			
			<ul id="toc-Cadenas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reglas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Reglas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Reglas</div>
			</a>
			
			<ul id="toc-Reglas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cadenas_transversales" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cadenas_transversales">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Cadenas transversales</div>
			</a>
			
			<ul id="toc-Cadenas_transversales-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Módulos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#M%C3%B3dulos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Módulos</div>
			</a>
			
			<ul id="toc-Módulos-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuración_y_utilización" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuraci%C3%B3n_y_utilizaci%C3%B3n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuración y utilización</div>
		</a>
		
			<button aria-controls="toc-Configuración_y_utilización-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuración y utilización subsection</span>
			</button>
		
		<ul id="toc-Configuración_y_utilización-sublist" class="vector-toc-list">
			<li id="toc-Desde_la_línea_de_órdenes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desde_la_l%C3%ADnea_de_%C3%B3rdenes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Desde la línea de órdenes</div>
			</a>
			
			<ul id="toc-Desde_la_línea_de_órdenes-sublist" class="vector-toc-list">
				<li id="toc-Mostrar_las_reglas_vigentes" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Mostrar_las_reglas_vigentes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Mostrar las reglas vigentes</div>
			</a>
			
			<ul id="toc-Mostrar_las_reglas_vigentes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Restablecer_las_reglas" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Restablecer_las_reglas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>Restablecer las reglas</div>
			</a>
			
			<ul id="toc-Restablecer_las_reglas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modificar_las_reglas" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Modificar_las_reglas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>Modificar las reglas</div>
			</a>
			
			<ul id="toc-Modificar_las_reglas-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Guías" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gu%C3%ADas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Guías</div>
			</a>
			
			<ul id="toc-Guías-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Registro" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Registro">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Registro</div>
		</a>
		
			<button aria-controls="toc-Registro-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Registro subsection</span>
			</button>
		
		<ul id="toc-Registro-sublist" class="vector-toc-list">
			<li id="toc-Limitar_el_tamaño_del_registro" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Limitar_el_tama%C3%B1o_del_registro">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Limitar el tamaño del registro</div>
			</a>
			
			<ul id="toc-Limitar_el_tamaño_del_registro-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Visualizar_los_paquetes_registrados" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Visualizar_los_paquetes_registrados">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Visualizar los paquetes registrados</div>
			</a>
			
			<ul id="toc-Visualizar_los_paquetes_registrados-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-syslog-ng" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#syslog-ng">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>syslog-ng</div>
			</a>
			
			<ul id="toc-syslog-ng-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ulogd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ulogd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>ulogd</div>
			</a>
			
			<ul id="toc-ulogd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Véase_también" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#V%C3%A9ase_tambi%C3%A9n">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Véase también</div>
		</a>
		
		<ul id="toc-Véase_también-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">iptables (Español)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Iptables" title="Iptables – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Iptables.html" title="Iptables – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Iptables.html" title="Iptables – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Iptables" title="Iptables – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Iptables.html" title="Iptables – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Iptables" title="Iptables – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="es" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">Esta traducción de <a href="../en/Iptables.html" title="Iptables">Iptables</a> fue revisada el <b>2018-09-04</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Iptables&amp;diff=0&amp;oldid=536649">cambios</a> puede <a href="../es/ArchWiki:Translation_Team/Contributing.html" title="ArchWiki:Translation Team (Español)/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artículos relacionados</p>
<ul>
<li><a href="../en/Fail2ban.html" title="Fail2ban">Fail2ban</a></li>
<li><a href="../es/Nftables.html" title="Nftables (Español)">Nftables (Español)</a></li>
<li><a href="../es/Sshguard.html" title="Sshguard (Español)">Sshguard (Español)</a></li>
<li><a href="../es/Simple_stateful_firewall.html" title="Simple stateful firewall (Español)">Simple stateful firewall (Español)</a></li>
<li><a href="../en/Sysctl.html#TCP/IP_stack_hardening" title="Sysctl">Sysctl#TCP/IP stack hardening</a></li>
</ul>
</div>
<p><i>iptables</i> es una utilidad de línea de órdenes para configurar el <a href="../es/Category:Firewalls.html" class="mw-redirect" title="Firewalls (Español)">cortafuegos</a> del kernel de Linux implementado como parte del proyecto <a href="https://en.wikipedia.org/wiki/es:Netfilter" class="extiw" title="wikipedia:es:Netfilter">Netfilter</a>. El término <i>iptables</i> también se usa comúnmente para referirse a dicho cortafuegos del kernel. Puede configurarse directamente con iptables, o usando uno de los muchos frontend existentes de <a href="#De_consola">consola</a> y <a href="#Gr%C3%A1ficos">gráficos</a>. El término <i>iptables </i> se usa para <a href="https://en.wikipedia.org/wiki/IPv4" class="extiw" title="wikipedia:IPv4">IPv4</a>, y el término <i>ip6tables</i> para <a href="../en/IPv6.html" title="IPv6">IPv6</a>. Tanto <i>iptables</i> como <i>ip6tables</i> tienen la misma sintaxis, pero algunas opciones son específicas de IPv4 o de IPv6.
</p>
<p><a href="../en/Nftables.html" title="Nftables">nftables</a> está programada para <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTQ5MDU">ser liberada con el kernel de Linux 3.13</a>, y vendrá a sustituir definitivamente iptables como la principal utilidad del cortafuegos de Linux.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p>Todos los kernels de serie de Arch Linux son compatibles con iptables. Solo necesita <a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" title="Help:Reading (Español)">instalar</a> las herramientas en el <a href="https://en.wikipedia.org/wiki/es:Espacio_de_usuario" class="extiw" title="wikipedia:es:Espacio de usuario">espacio de usuario</a>, que son proporcionadas por el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iptables">iptables</a></span>. El paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> presente en el grupo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> depende de iptables, por lo que el paquete iptables debe estar instalado en su sistema por defecto.
</p>
<h3><span class="mw-headline" id="Frontend">Frontend</span></h3>
<h4><span class="mw-headline" id="De_consola">De consola</span></h4>
<ul><li>
<b>Arno's firewall</b> — Es un cortafuegos seguro, útil tanto para uno como para varios equipos. Muy fácil de configurar, de administrar y altamente personalizable. Admite: NAT y SNAT, reenvío de puertos, gestión de asignación de IP tanto estáticas como dinámicamente para módems ADSL ethernet, filtrado de direcciones MAC, detección de escaneo sigiloso de puertos, desvío DMZ y DMZ-2-LAN, protección contra saturación SYN/ICMP, amplio registro definible por el usuario con limitación de velocidad para evitar desbordamiento de registros, todos los protocolos IP y VPN tales como IPsec, compatibilidad con complementos para agregar funciones adicionales.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://rocky.eld.leidenuniv.nl/">https://rocky.eld.leidenuniv.nl/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arno-iptables-firewall/">arno-iptables-firewall</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ferm</b> — Herramienta para mantener cortaguegos complejos, sin problemas para reescribir reglas complejas una y otra vez. Permite que todo el conjunto de reglas del cortaguegos se almacene en un archivo separado y se cargue con una orden. La configuración del cortaguegos se asemeja a un lenguaje estructurado similar al de programación, que puede contener niveles y listas.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://ferm.foo-projects.org/">http://ferm.foo-projects.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ferm">ferm</a></span>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/FireHOL" class="extiw" title="wikipedia:FireHOL">FireHOL</a></b> — Lenguaje para diseñar reglas de cortaguegos, no un simple script que lance un cortaguegos. Hace que construir cortaguegos, incluso sofisticados, sea fácil, de la manera que lo desee.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://firehol.sourceforge.net/">https://firehol.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/firehol/">firehol</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Firetable</b> — Herramienta para mantener un cortaguegos de IPtables. Cada interfaz se puede configurar por separado a través de su propio archivo de configuración, que tiene una sintaxis fácil de leer.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/hsleisink/firetable">https://gitlab.com/hsleisink/firetable</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/firetable/">firetable</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/firewalld" class="extiw" title="wikipedia:firewalld">firewalld</a> (firewall-cmd)</b> — Demonio e interfaz de consola para configurar zonas de red y cortafuegos, así como establecer y configurar las reglas del cortafuegos.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://firewalld.org/">https://firewalld.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=firewalld">firewalld</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Shorewall.html" title="Shorewall">Shorewall</a></b> — Herramienta de alto nivel para configurar Netfilter. Se describen los requisitos del cortafuegos/puerta de enlace usando las entradas presentes en un conjunto de archivos de configuración.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://www.shorewall.net/">http://www.shorewall.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/shorewall/">shorewall</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Uncomplicated_Firewall.html" title="Uncomplicated Firewall">Uncomplicated Firewall</a></b> — Frontend simple para iptables.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://launchpad.net/ufw">https://launchpad.net/ufw</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ufw">ufw</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/PeerGuardian_Linux.html" title="PeerGuardian Linux">PeerGuardian</a> (pglcmd)</b> — Aplicación de cortafuegos orientada a la privacidad. Bloquea las conexiones hacia y desde los hosts especificados en listas de bloques de gran tamaño (miles o millones de rangos de IP).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://sourceforge.net/projects/peerguardian/">https://sourceforge.net/projects/peerguardian/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pgl/">pgl</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Vuurmuur</b> — Potente administrador de cortafuegos. Tiene un diseño simple y fácil de aprender que permite configuraciones simples y complejas. La configuración se puede definir completamente a través de una interfaz <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ncurses">ncurses</a></span>, que permite una administración remota segura a través de SSH o a través de la consola. Vuurmuur es compatible con el tráfico de red compartido, y cuenta con poderosas funciones de monitorización que permiten al administrador fiscalizar los registros, las conexiones y el uso del ancho de banda en tiempo real.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.vuurmuur.org/">https://www.vuurmuur.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vuurmuur/">vuurmuur</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h4>
<span id="Gr.C3.A1ficos"></span><span class="mw-headline" id="Gráficos">Gráficos</span>
</h4>
<ul><li>
<b>Firewall Builder</b> — Interfaz para la administración y configuración de cortafuegos compatible con iptables (netfilter), ipfilter, pf, ipfw, Cisco PIX (FWSM, ASA) y listas de acceso ampliado de enrutadores Cisco. El programa se puede ejecurtar en Linux, FreeBSD, OpenBSD, Windows y macOS, y puede administrar cortafuegos tanto locales como remotos.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://fwbuilder.sourceforge.net/">https://fwbuilder.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fwbuilder">fwbuilder</a></span>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/firewalld" class="extiw" title="wikipedia:firewalld">firewalld</a> (firewall-config)</b> — Demonio e interfaz gráfica que permite configurar zonas de red y cortafuegos, así como establecer y configurar reglas del cortafuegos.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://firewalld.org/">https://firewalld.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=firewalld">firewalld</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Uncomplicated_Firewall.html#Gufw" title="Uncomplicated Firewall">Gufw</a></b> — Interfaz basada en GTK para <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ufw">ufw</a></span> que pasa a ser un frontend CLI para iptables (gufw-&gt;ufw-&gt;iptables), es muy fácil y simple de usar.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gufw.org/">https://gufw.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gufw">gufw</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/PeerGuardian_Linux.html" title="PeerGuardian Linux">PeerGuardian</a> GUI (pglgui)</b> — Aplicación de cortafuegos orientada a la privacidad. Bloquea las conexiones hacia y desde los servidores definidos en listas de bloques de gran tamaño (miles o millones de rangos de IP).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://sourceforge.net/projects/peerguardian/">https://sourceforge.net/projects/peerguardian/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pgl/">pgl</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id="Conceptos_b.C3.A1sicos"></span><span class="mw-headline" id="Conceptos_básicos">Conceptos básicos</span>
</h2>
<p>iptables se usa para inspeccionar, modificar, reenviar, redirigir y/o eliminar paquetes de red de IP. El código para filtrar paquetes de IP ya está integrado en el kernel y está organizado en una colección de <i>tablas</i>, cada una con un propósito específico. Las tablas están formadas por un conjunto de <i>cadenas</i> predefinidas, y las cadenas contienen reglas que se recorren en orden consecutivo. Cada regla consiste en una condición asociada a una eventual acción (llamada <i>target</i>) que si se cumple, se ejecuta la regla; esto es, se aplican las reglas si las condiciones coinciden. iptables es la utilidad de usuario que le permite trabajar con estas cadenas/reglas. La mayoría de los usuarios nuevos consideran que las complejidades del enrutamiento IP de linux son bastante desalentadoras, pero, en la práctica, los casos de uso más comunes (NAT y/o cortafuegos básico de Internet) son considerablemente menos complejos.
</p>
<p>La clave para entender cómo funciona iptables es <a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/images/tables_traverse.jpg">este gráfico</a>. La palabra minúscula en la parte superior es la <i>tabla</i> y la palabra en mayúscula siguiente es la <i>cadena</i>. Cada paquete de IP que viene en «cualquier interfaz de red» pasa a través de este diagrama de flujo de arriba hacia abajo. Una confusión muy común es creer que los paquetes que ingresan desde, (digamos, para entendernos), una interfaz interna para consumo interno, se manejan de forma diferente a los paquetes desde una interfaz orientada a Internet. Todas las interfaces se manejan de la misma manera. Depende de uno definir las reglas que las traten de manera diferente. Por supuesto, algunos paquetes están destinados a procesos locales, por lo tanto, vienen desde la parte superior del gráfico y se detienen en &lt;Proceso local&gt;; mientras que otros paquetes son generados por procesos locales; por lo tanto, comienzan en &lt;Proceso local&gt; y continúan hacia abajo a través del diagrama de flujo. Puede encontrar una explicación detallada de cómo funciona este diagrama de flujo <a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/iptables-tutorial.html#TRAVERSINGOFTABLES">aquí</a>.
</p>
<p>En la gran mayoría de los casos, no será necesario utilizar las tablas <b>raw</b>, <b>mangle</b>, o <b>security</b> a la vez.  En consecuencia, el siguiente cuadro muestra un flujo simplificado de paquetes de red a través de <i>iptables</i>:
</p>
<pre>                               XXXXXXXXXXXXXXXXXX
                               XXX     Red    XXX
                               XXXXXXXXXXXXXXXXXX
                                        +
                                        |
                                        v
 +--------------+             +-------------------+
 |tabla:  filter| &lt;---+       | tabla:  nat       |
 |cadena: INPUT |     |       | cadena: PREROUTING|
 +-----+--------+     |       +--------+----------+
       |              |                 |
       v              |                 v
 [proceso local]      |     ************************       +---------------+
       |              +---+ Decisión de enrutamiento +---&gt; |tabla: filter  |
       v                    ************************       |cadena: FORWARD|
************************                                   +------+--------+
Decisión de enrutamiento                                          |
************************                                          |
       |                                                          |
       v                    ************************              |
+--------------+      +---+ Decisión de enrutamiento &lt;------------+
|tabla:  nat   |      |     ************************
|cadena: OUTPUT|      |                +
+-----+--------+      |                |
      |               |                v
      v               |      +--------------------+
+---------------+     |      | tabla: nat         |
|tabla:  filter | +---+      | cadena: POSTROUTING|
|cadena: OUTPUT |            +--------+-----------+
+---------------+                      |
                                       v
                               XXXXXXXXXXXXXXXXXX
                               XXX    Red     XXX
                               XXXXXXXXXXXXXXXXXX
</pre>
<h3><span class="mw-headline" id="Tablas">Tablas</span></h3>
<p>iptables cuenta con cinco tablas:
</p>
<ol>
<li>
<code>raw</code> filtra los paquetes antes que cualquier otra tabla. Se utiliza principalmente para configurar exenciones de seguimiento de conexiones en combinación con el objetivo <code>NOTRACK</code>.</li>
<li>
<code>filter</code> es la tabla por defecto (si no se pasa la opción <code>-t</code>).</li>
<li>
<code>nat</code> se utiliza para la <a href="https://en.wikipedia.org/wiki/es:Traducci%C3%B3n_de_direcciones_de_red" class="extiw" title="wikipedia:es:Traducción de direcciones de red">traducción de direcciones de red</a> (por ejemplo, el redirección de puertos). Debido a las limitaciones en iptables, el filtrado no se debe hacer aquí.</li>
<li>
<code>mangle</code> se utiliza para la alteración de los paquetes de red especializados (véase <a href="https://en.wikipedia.org/wiki/Mangled_packet" class="extiw" title="wikipedia:Mangled packet">Mangles packet</a>).</li>
<li>
<code>security</code> se utiliza para reglas de conexión de red <a href="../en/Security.html#Mandatory_access_control" title="Security">Mandatory Access Control</a> (por ejemplo, SELinux —consulte <a rel="nofollow" class="external text" href="https://lwn.net/Articles/267140/">este artículo</a> para obtener más detalles—).</li>
</ol>
<p>En la mayoría de los casos al uso, solo utilizará dos de estas tablas: <b>filter</b> y <b>nat</b>.  Las otras tablas están destinadas a configuraciones complejas que afectan a múltiples enrutadores y decisiones de enrutamiento que, en cualquier caso, quedan fuera de las explicaciones de este artículo.
</p>
<h3><span class="mw-headline" id="Cadenas">Cadenas</span></h3>
<p>Las tablas contienen <i>cadenas</i>, que son listas de reglas que se siguen consecutivamente. Por defecto, la tabla <code>filter</code> contiene tres cadenas integradas: <code>INPUT</code>, <code>OUTPUT</code> y <code>FORWARD</code> que se activan en diferentes puntos del proceso de filtrado de paquetes de red, como se ilustra en el <a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/chunkyhtml/images/tables_traverse.jpg">diagrama de flujo</a>. La tabla nat incluye las cadenas <code>PREROUTING</code>, <code>POSTROUTING</code>, y <code>OUTPUT</code>.
</p>
<p>Véase <span class="plainlinks archwiki-template-man" title="$ man 8 iptables"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iptables.8">iptables(8)</a></span> para obtener una descripción de las cadenas integradas en otras tablas.
</p>
<p>Por defecto, ninguna de las cadenas contiene ninguna regla. Depende de uno agregar reglas a las cadenas que quiera usar. Las cadenas <i>hacen</i> lo definido en su política predeterminada, que generalmente se establece en <code>ACCEPT</code>, pero se puede restablecer a <code>DROP</code>, si quiere asegurarse de que nada se desliza a través de su conjunto de reglas. La política predeterminada siempre se aplica al final de una cadena solamente. Por lo tanto, el paquete de red debe pasar por todas las reglas existentes en la cadena antes de aplicar la política predeterminada.
</p>
<p>El usuario puede definir las reglas de las cadenas para hacerlas más eficientes o más fácilmente modificable. Consulte <a href="../es/Simple_stateful_firewall.html" title="Simple stateful firewall (Español)">Simple stateful firewall (Español)</a> para ver un ejemplo de cómo se usan las cadenas definidas por el usuario.
</p>
<h3><span class="mw-headline" id="Reglas">Reglas</span></h3>
<p>El filtrado de los paquetes de red se basa en <i>rules</i> —<i>«reglas»</i>—, que se especifican por diversos  <i>matches</i> —<i>«coincidencias»</i>— (condiciones que el paquete de red debe satisfacer para que la regla se puede aplicar), y un <i>target</i>—<i>«objetivo»</i>— (acción a tomar cuando el paquete coincide con la condición plenamente).  The typical things a rule might match on are what interface the packet came in on (e.g eth0 or eth1), what type of packet it is (ICMP, TCP, or UDP), or the destination port of the packet. 
</p>
<p>Los targets se especifican mediante la opción <code>-j</code> o <code>--jump</code> —<i>«salto»</i>—. Los targets pueden ser bien cadenas definidas por el usuario, bien uno de los targets integrados especiales, o bien una extensión de target. Los targets integrados son <code>ACCEPT</code>, <code>DROP</code>, <code>QUEUE</code> y <code>RETURN</code>; las extensiones de target son, por ejemplo, <code>REJECT</code> y <code>LOG</code>. Si el objetivo es un target integrado, el destino del paquete es decidido inmediatamente y el procesamiento del paquete de red en la tabla actual se detiene. Si el objetivo («<i>target</i>») es una cadena definida por el usuario y el paquete supera con éxito esta segunda cadena, se moverá a la siguiente regla de la cadena original. Las extensiones de target pueden ser tanto <i>terminating</i> (como los targets integrados) como <i>non-terminating</i> (como las cadenas especificadas por el usuario), Véase <span class="plainlinks archwiki-template-man" title="$ man 8 iptables-extensions"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iptables-extensions.8">iptables-extensions(8)</a></span> para obtener más detalles
</p>
<h3><span class="mw-headline" id="Cadenas_transversales">Cadenas transversales</span></h3>
<p>Un paquete de red recibido en cualquier interfaz atraviesa las cadenas de control de tráfico de las tablas en el orden que se muestra en el <a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/chunkyhtml/images/tables_traverse.jpg">diagrama de flujo</a>. La primera decisión de enrutamiento implica decidir si el destino final del paquete es el equipo local (en cuyo caso el paquete atraviesa las cadenas <code>INPUT</code>) o va a otro lugar (en cuyo caso el paquete atraviesa las cademas <code>FORWARD</code> cadenas). Las decisiones de enrutamiento posteriores implican decidir qué interfaz asignar a un paquete saliente. En cada cadena subsiguiente, cada regla de esa cadena se atraviesa en el orden fijado, y siempre que una regla coincida, se ejecuta la acción, target/jump, correspondiente. Los 3 objetivos (<i>targets</i>) más comúnmente utilizados son <code>ACCEPT</code>, <code>DROP</code> y jump para una cadena definida por el usuario. Mientras que las cadenas integradas pueden tener políticas predeterminadas, las cadenas definidas por el usuario no pueden. Si todas las reglas de una cadena no proporcionan una coincidencia completa que permita ejecutarla, el paquete se devuelve a la cadena de llamadas como se ilustra <a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/images/table_subtraverse.jpg">aquí</a>. Si en algún momento se logra una coincidencia completa para una regla con un objetivo <code>DROP</code>, el paquete se descarta y no se realiza ningún otro procesamiento. Si un paquete está <code>ACCEPT</code> dentro de una cadena, también estará <code> ACCEPT</code> en todas las cadenas del superconjunto y no atravesará ninguna cadena más de ese superconjunto. Sin embargo, tenga en cuenta que el paquete continuará atravesando todas las demás cadenas en otras tablas de la manera descrita.
</p>
<h3>
<span id="M.C3.B3dulos"></span><span class="mw-headline" id="Módulos">Módulos</span>
</h3>
<p>Hay muchos módulos que pueden ser utilizados para reforzar iptables, como connlimit, conntrack, limit y recent. Estos módulos añaden funcionalidad extra al permitir reglas de filtrado avanzadas.
</p>
<h2>
<span id="Configuraci.C3.B3n_y_utilizaci.C3.B3n"></span><span class="mw-headline" id="Configuración_y_utilización">Configuración y utilización</span>
</h2>
<p>iptables es un servicio de <a href="../es/Systemd.html" title="Systemd (Español)">systemd (Español)</a> y estará predispuesto a <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">iniciarse</a> adecuadamente. Sin embargo, el servicio no se iniciará a menos que encuentre un archivo <code>/etc/iptables/iptables.rules</code>, que no es proporcionado por el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iptables">iptables</a></span> de Arch. Por tanto, para iniciar el servicio por primera vez, ejecute:
</p>
<pre># touch /etc/iptables/iptables.rules
</pre>
<p>o
</p>
<pre># cp /etc/iptables/empty.rules /etc/iptables/iptables.rules
</pre>
<p>Luego, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">inicie</a> la unidad <code>iptables.service</code>. Al igual que con otros servicios, si desea que iptables se cargue automáticamente en el arranque, debe <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">activarlo</a>.
</p>
<p>Las reglas de iptables para IPv6 se almacenan de manera predeterminada en el archivo <code>/etc/iptables/ip6tables.rules</code>, que es leído por <code>ip6tables.service</code>. Puede iniciarlo de la misma manera que hemos visto arriba.
</p>
<p>Después de añadir reglas a través de la línea de órdenes como se muestra en las siguientes secciones, el archivo de configuración no guarda los cambios automáticamente —tiene que guardarlos manualmente—, así:
</p>
<pre># iptables-save &gt; /etc/iptables/iptables.rules
</pre>
<p>Si modifica el archivo de configuración manualmente, debe <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Reload">recargar</a> iptables.
</p>
<p>O puede cargarlo directamente a través de iptables:
</p>
<pre># iptables-restore &lt; /etc/iptables/iptables.rules
</pre>
<h3>
<span id="Desde_la_l.C3.ADnea_de_.C3.B3rdenes"></span><span class="mw-headline" id="Desde_la_línea_de_órdenes">Desde la línea de órdenes</span>
</h3>
<h4><span class="mw-headline" id="Mostrar_las_reglas_vigentes">Mostrar las reglas vigentes</span></h4>
<p>La órden básica para listar las reglas en vigor es <code>--list-rules</code> (<code>-S</code>), que es similar en formato de salida a la utilidad <i>iptables-save</i>. La diferencia principal entre las dos es que este último genera las reglas de todas las tablas por defecto, mientras que todos las órdenes de <i>iptables</i> están predeterminadas solo para la tabla <code>filter</code>.
</p>
<p>Al trabajar con iptables en la línea de órdenes, la orden <code>--list</code> (<code>-L</code>) acepta más modificadores y muestra más información. Por ejemplo, puede verificar el conjunto de reglas en vigor y el número de visitas por regla usando la orden:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># iptables -nvL</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination</pre>
<p>Si el resultado es similar a lo de arriba, entonces no hay reglas (es decir, nada está bloqueado) en la tabla predeterminada <code>filter</code>. Se puede especificar otra tabla con la opción <code>-t</code>.
</p>
<p>Para mostrar los números de línea cuando se enumeran las reglas, anexe <code>--line-numbers</code> a dicha entrada. Los números de línea son una abreviatura útil cuando <a href="#Modificar_las_reglas">modifica reglas</a> en la línea de órdenes.
</p>
<h4><span class="mw-headline" id="Restablecer_las_reglas">Restablecer las reglas</span></h4>
<p>Puede vaciar y restablecer la configuración, por defecto, de iptables  utilizando las siguientes órdenes:
</p>
<pre># iptables -F
# iptables -X
# iptables -t nat -F
# iptables -t nat -X
# iptables -t mangle -F
# iptables -t mangle -X
# iptables -t raw -F
# iptables -t raw -X
# iptables -t security -F
# iptables -t security -X
# iptables -P INPUT ACCEPT
# iptables -P FORWARD ACCEPT
# iptables -P OUTPUT ACCEPT
</pre>
<p>La orden <code>-F</code> sin argumentos vuelca todas las cadenas en su tabla actual. Del mismo modo, <code>-X</code> elimina todos las cadenas vacías no predeterminadas en una tabla.
</p>
<p>Las cadenas individuales pueden ser eliminadas o borradas con <code>-F</code> y <code>-X</code> seguidas de un argumento <code>[chain]</code>.
</p>
<h4><span class="mw-headline" id="Modificar_las_reglas">Modificar las reglas</span></h4>
<p>Las reglas pueden ser añadidas o bien como un apéndice a las reglas o a las cadenas, o bien insertarlas en una específica posición en la cadena. Exploraremos ambos métodos.
</p>
<p>Antes de nada, nuestro equipo no es un router (salvo que, por supuesto, lo <a href="../en/Router.html" title="Router">sea</a>). Cambiaremos la política, por defecto, en la cadena <code>FORWARD</code>, de <code>ACCEPT</code> a <code>DROP</code>.
</p>
<pre># iptables -P FORWARD DROP
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> El resto de esta sección está destinada a enseñar la sintaxis y los conceptos que se esconden detrás de las reglas de iptables. No tiene la pretensión de enseñar cómo proteger los servidores. Para mejorar la seguridad de su sistema, consulte <a href="../es/Simple_stateful_firewall.html" title="Simple stateful firewall (Español)">Simple stateful firewall (Español)</a> para una configuración de iptables mínimamente segura y <a href="../en/Security.html" title="Security">Security</a> para proteger Arch Linux en general.</div>
<p>El servicio LAN de sincronización de <a href="https://en.wikipedia.org/wiki/es:Dropbox" class="extiw" title="wikipedia:es:Dropbox">Dropbox</a> tiene la característica de <a rel="nofollow" class="external text" href="https://isc.sans.edu/data/port.html?port=17500">transmitir paquetes de red cada 30 segundos</a> a todos los equipos que estén en su área inalámbrica. Si estamos en una zona LAN con clientes de Dropbox y no usamos esta característica, entonces podríamos quererla para rechazar los paquetes. 
</p>
<pre># iptables -A INPUT -p tcp --dport 17500 -j REJECT --reject-with icmp-port-unreachable
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># iptables -nvL --line-numbers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 REJECT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            tcp dpt:17500 reject-with icmp-port-unreachable

Chain FORWARD (policy DROP 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination

</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Utilizamos <code>REJECT</code> en lugar de <code>DROP</code> aquí, porque <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc1122#page-69">RFC 1122 3.3.8</a> requiere que los hosts devuelvan los errores ICMP siempre que sea posible, en vez de dejar caer los paquetes de red. <a rel="nofollow" class="external text" href="https://www.chiark.greenend.org.uk/~peterb/network/drop-vs-reject">Esta página</a> explica por qué casi siempre es mejor RECHAZAR («<i>REJECT </i>») en lugar de SOLTAR («<i>DROP </i>») los paquetes de red.</div>
<p>Ahora, supongamos que decidimos utilizar Dropbox e instalarlo en nuestro ordenador. También queremos la sincronización LAN, pero solo con una IP en particular en nuestra red. Así que debemos utilizar <code>-R</code> para sustituir nuestra antigua regla. Donde <code>10.0.0.85</code> es nuestra otra IP:
</p>
<pre># iptables -R INPUT 1 -p tcp --dport 17500 ! -s 10.0.0.85 -j REJECT --reject-with icmp-port-unreachable
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># iptables -nvL --line-numbers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 REJECT     tcp  --  *      *      !10.0.0.85            0.0.0.0/0            tcp dpt:17500 reject-with icmp-port-unreachable

Chain FORWARD (policy DROP 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
</pre>
<p>Hemos reemplazado nuestra regla original con otra que nos permite usar <code>10.0.0.85</code> para acceder al puerto <code>17500</code> de nuestro equipo. Pero ahora nos damos cuenta de que este no es escalable. Si un usuario amigable de Dropbox está intentando acceder al puerto <code>17500</code> de nuestro dispositivo, se debe permitir acceder de inmediato, sin comprobación frente a cualquier regla de firewall que esté detrás.
</p>
<p>Así que escribimos una nueva regla para permitir que nuestro usuario de confianza acceda inmediatamente. Utilizaremos <code>-I</code> para insertar la nueva regla antes de la antigua:
</p>
<pre># iptables -I INPUT 1 -p tcp --dport 17500 -s 10.0.0.85 -j ACCEPT -m comment --comment "Friendly Dropbox"
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># iptables -nvL --line-numbers
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         
1        0     0 ACCEPT     tcp  --  *      *       10.0.0.85            0.0.0.0/0            tcp dpt:17500 /* Friendly Dropbox */
2        0     0 REJECT     tcp  --  *      *      !10.0.0.85            0.0.0.0/0            tcp dpt:17500 reject-with icmp-port-unreachable

Chain FORWARD (policy DROP 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination    
</pre>
<p>Y reemplazar nuestra segunda regla con otra que rechace todo lo demás que entre al puerto <code>17500</code>:
</p>
<pre># iptables -R INPUT 2 -p tcp --dport 17500 -j REJECT --reject-with icmp-port-unreachable
</pre>
<p>La lista de nuestra regla final ahora se vería así:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># iptables -nvL --line-numbers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 ACCEPT     tcp  --  *      *       10.0.0.85            0.0.0.0/0            tcp dpt:17500 /* Friendly Dropbox */
2        0     0 REJECT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            tcp dpt:17500 reject-with icmp-port-unreachable

Chain FORWARD (policy DROP 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
</pre>
<h3>
<span id="Gu.C3.ADas"></span><span class="mw-headline" id="Guías">Guías</span>
</h3>
<ul>
<li><a href="../es/Simple_stateful_firewall.html" title="Simple stateful firewall (Español)">Simple stateful firewall (Español)</a></li>
<li><a href="../en/Router.html" title="Router">Router</a></li>
</ul>
<h2><span class="mw-headline" id="Registro">Registro</span></h2>
<p>El objetivo <code>LOG</code> se puede utilizar para registrar los paquetes de red que satisfacen una regla. A diferencia de otros targets, como <code>ACCEPT</code> o <code>DROP</code>, el paquete de red continuará moviéndose a través de la cadena después de alcanzar un target <code>LOG</code>. Esto significa que, para activar el registro de todos los paquetes de red perdidos, se tendría que agregar una regla <code>LOG</code> duplicada antes de cada regla DROP. Como esto reduce la eficiencia y hace que las cosas sean menos simples, se puede crear, en su lugar, una cadena <code>logdrop</code>.
</p>
<p>Cree la cadena con:
</p>
<pre># iptables -N logdrop
</pre>
<p>Y añada las siguientes reglas a la cadena recién creada:
</p>
<pre># iptables -A logdrop -m limit --limit 5/m --limit-burst 10 -j LOG
# iptables -A logdrop -j DROP
</pre>
<p>La explicación de las opciones <code>limit</code> y <code>limit-burst</code> son dadas <a href="#Limitar_el_tama%C3%B1o_del_registro">a continuación</a>.
</p>
<p>Ahora, cada vez que queremos soltar un paquete de red y registrar este evento, simplemente saltamos a la cadena <code>logdrop</code>, por ejemplo:
</p>
<pre># iptables -A INPUT -m conntrack --ctstate INVALID -j logdrop
</pre>
<h3>
<span id="Limitar_el_tama.C3.B1o_del_registro"></span><span class="mw-headline" id="Limitar_el_tamaño_del_registro">Limitar el tamaño del registro</span>
</h3>
<p>La cadena de arriba (<code>logdrop</code>) utiliza el módulo <i>limit</i> para prevenir que el registro de <i>iptables</i> se haga demasiado grande o haga que el disco duro se escriba innecesariamente. Sin limitación, un atacante podría llenar el disco (o al menos la partición <code>/var</code>) causando la saturación del registro de iptables.
</p>
<p><code>-m limit</code> se utiliza para llamar al módulo limit. Puede usar <code>--limit</code> para utilizar una tasa promedio y <code>--limit-burst</code> para establecer una tasa de ráfaga (<i>«limit burst»</i>) inicial. En el ejemplo de <code>logdrop</code> de arriba:
</p>
<pre>iptables -A logdrop -m limit --limit 5/m --limit-burst 10 -j LOG
</pre>
<p>Esto agrega una regla a la cadena <code>logdrop</code> que registra todos los paquetes de red que pasan a través de ella. Los primeros 10 paquetes serán registrados, y de ahí en adelante quedarán registrados únicamente 5 paquetes por minuto. El «limit burst» es restaurado a uno cada vez que la «tasa límite» no se supera.
</p>
<h3><span class="mw-headline" id="Visualizar_los_paquetes_registrados">Visualizar los paquetes registrados</span></h3>
<p>Los paquetes registrados son visibles como mensajes del kernel con el  <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Systemd journal">journal de systemd</a>.
</p>
<p>Para ver todos los paquetes que se registraron desde la última vez que se reinició el equipo:
</p>
<pre># journalctl -k | grep "IN=.*OUT=.*" | less
</pre>
<h3><span class="mw-headline" id="syslog-ng">syslog-ng</span></h3>
<p>Asumiendo que usa <a href="../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a>, puede controlar donde será guardada la salida del registro de iptables, de este modo:
</p>
<pre>filter f_everything { level(debug..emerg) and not facility(auth, authpriv); };
</pre>
<p>a
</p>
<pre>filter f_everything { level(debug..emerg) and not facility(auth, authpriv) and not filter(f_iptables); };
</pre>
<p>Esto evitará la salida del registro de iptables en el archivo <code>/var/log/everything.log</code>.
</p>
<p>Si quiere que el registro de iptables se vuelque en un archivo distinto de <code>/var/log/iptables.log</code>, basta con cambiar el valor de destino de <code>d_iptables</code> (siempre en el archivo <code>syslog-ng.conf</code>).
</p>
<pre>destination d_iptables { file("/var/log/iptables.log"); };
</pre>
<h3><span class="mw-headline" id="ulogd">ulogd</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ulogd">ulogd</a></span> es un demonio especializado en el registro de los paquetes de red ejecutado en el espacio de usuario para netfilter que puede sustituir el objetivo <code>LOG</code> predeterminado.
</p>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/iptables" class="extiw" title="wikipedia:iptables">Wikipedia article</a></li>
<li><a href="../en/Port_knocking.html" title="Port knocking">Port knocking</a></li>
<li><a rel="nofollow" class="external text" href="https://www.netfilter.org/projects/iptables/index.html">Official iptables web site</a></li>
<li>
<a rel="nofollow" class="external text" href="https://www.frozentux.net/iptables-tutorial/iptables-tutorial.html">iptables Tutorial 1.2.2</a> por Oskar Andreasson</li>
<li><a href="https://wiki.debian.org/iptables" class="extiw" title="debian:iptables">Debian Wiki - iptables</a></li>
<li><a rel="nofollow" class="external text" href="https://home.regit.org/netfilter-en/secure-use-of-helpers/">Secure use of connection tracking helpers</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Firewalls.html" title="Category:Firewalls (Español)">Firewalls (Español)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Iptables_(Espa%C3%B1ol)&amp;oldid=813060">https://wiki.archlinux.org/index.php?title=Iptables_(Español)&amp;oldid=813060</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 July 2024, at 06:20.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
