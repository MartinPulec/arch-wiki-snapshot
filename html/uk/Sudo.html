<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Sudo (Українська) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sudo_Українська rootpage-Sudo_Українська skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Встановлення" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Встановлення</span>
			</div>
		</a>
		
		<ul id="toc-Встановлення-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Використання" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%92%D0%B8%D0%BA%D0%BE%D1%80%D0%B8%D1%81%D1%82%D0%B0%D0%BD%D0%BD%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Використання</span>
			</div>
		</a>
		
		<ul id="toc-Використання-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Налагодження" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9D%D0%B0%D0%BB%D0%B0%D0%B3%D0%BE%D0%B4%D0%B6%D0%B5%D0%BD%D0%BD%D1%8F">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Налагодження</span>
			</div>
		</a>
		
			<button aria-controls="toc-Налагодження-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Налагодження subsection</span>
			</button>
		
		<ul id="toc-Налагодження-sublist" class="vector-toc-list">
			<li id="toc-Defaults_skeleton" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Defaults_skeleton">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Defaults skeleton</span>
				</div>
			</a>
			
			<ul id="toc-Defaults_skeleton-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Переглянути_наявні_налаштування" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%B3%D0%BB%D1%8F%D0%BD%D1%83%D1%82%D0%B8_%D0%BD%D0%B0%D1%8F%D0%B2%D0%BD%D1%96_%D0%BD%D0%B0%D0%BB%D0%B0%D1%88%D1%82%D1%83%D0%B2%D0%B0%D0%BD%D0%BD%D1%8F">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Переглянути наявні налаштування</span>
				</div>
			</a>
			
			<ul id="toc-Переглянути_наявні_налаштування-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Використання_visudo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%B8%D0%BA%D0%BE%D1%80%D0%B8%D1%81%D1%82%D0%B0%D0%BD%D0%BD%D1%8F_visudo">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Використання visudo</span>
				</div>
			</a>
			
			<ul id="toc-Використання_visudo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Example_entries" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Example_entries">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Example entries</span>
				</div>
			</a>
			
			<ul id="toc-Example_entries-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sudoers_default_file_permissions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sudoers_default_file_permissions">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Sudoers default file permissions</span>
				</div>
			</a>
			
			<ul id="toc-Sudoers_default_file_permissions-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Корисні_поради" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#%D0%9A%D0%BE%D1%80%D0%B8%D1%81%D0%BD%D1%96_%D0%BF%D0%BE%D1%80%D0%B0%D0%B4%D0%B8">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Корисні поради</span>
			</div>
		</a>
		
			<button aria-controls="toc-Корисні_поради-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Корисні поради subsection</span>
			</button>
		
		<ul id="toc-Корисні_поради-sublist" class="vector-toc-list">
			<li id="toc-Вимкнути_термін_очікування_при_введенні_паролю" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%92%D0%B8%D0%BC%D0%BA%D0%BD%D1%83%D1%82%D0%B8_%D1%82%D0%B5%D1%80%D0%BC%D1%96%D0%BD_%D0%BE%D1%87%D1%96%D0%BA%D1%83%D0%B2%D0%B0%D0%BD%D0%BD%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%BD%D1%96_%D0%BF%D0%B0%D1%80%D0%BE%D0%BB%D1%8E">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Вимкнути термін очікування при введенні паролю</span>
				</div>
			</a>
			
			<ul id="toc-Вимкнути_термін_очікування_при_введенні_паролю-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Add_terminal_bell_to_the_password_prompt" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Add_terminal_bell_to_the_password_prompt">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Add terminal bell to the password prompt</span>
				</div>
			</a>
			
			<ul id="toc-Add_terminal_bell_to_the_password_prompt-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Passing_aliases" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Passing_aliases">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Passing aliases</span>
				</div>
			</a>
			
			<ul id="toc-Passing_aliases-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disable_per-terminal_sudo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_per-terminal_sudo">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Disable per-terminal sudo</span>
				</div>
			</a>
			
			<ul id="toc-Disable_per-terminal_sudo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reduce_the_number_of_times_you_have_to_type_a_password" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Reduce_the_number_of_times_you_have_to_type_a_password">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Reduce the number of times you have to type a password</span>
				</div>
			</a>
			
			<ul id="toc-Reduce_the_number_of_times_you_have_to_type_a_password-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Environment_variables" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Environment_variables">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.6</span>
					<span>Environment variables</span>
				</div>
			</a>
			
			<ul id="toc-Environment_variables-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Root_password" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Root_password">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.7</span>
					<span>Root password</span>
				</div>
			</a>
			
			<ul id="toc-Root_password-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disable_root_login" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_root_login">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.8</span>
					<span>Disable root login</span>
				</div>
			</a>
			
			<ul id="toc-Disable_root_login-sublist" class="vector-toc-list">
				<li id="toc-kdesu" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#kdesu">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.8.1</span>
					<span>kdesu</span>
				</div>
			</a>
			
			<ul id="toc-kdesu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Harden_with_sudo_example" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Harden_with_sudo_example">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.9</span>
					<span>Harden with sudo example</span>
				</div>
			</a>
			
			<ul id="toc-Harden_with_sudo_example-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_sudo_using_drop-in_files_in_/etc/sudoers.d" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_sudo_using_drop-in_files_in_/etc/sudoers.d">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.10</span>
					<span>Configure sudo using drop-in files in /etc/sudoers.d</span>
				</div>
			</a>
			
			<ul id="toc-Configure_sudo_using_drop-in_files_in_/etc/sudoers.d-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Editing_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Editing_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.11</span>
					<span>Editing files</span>
				</div>
			</a>
			
			<ul id="toc-Editing_files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Увімкнути_лайки" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%D0%A3%D0%B2%D1%96%D0%BC%D0%BA%D0%BD%D1%83%D1%82%D0%B8_%D0%BB%D0%B0%D0%B9%D0%BA%D0%B8">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.12</span>
					<span>Увімкнути лайки</span>
				</div>
			</a>
			
			<ul id="toc-Увімкнути_лайки-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-SSH_problem_without_TTY" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SSH_problem_without_TTY">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>SSH problem without TTY</span>
				</div>
			</a>
			
			<ul id="toc-SSH_problem_without_TTY-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Permissive_umask" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Permissive_umask">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Permissive umask</span>
				</div>
			</a>
			
			<ul id="toc-Permissive_umask-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Sudo (Українська)</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="uk" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-emblem-symbolic-link.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article is being considered for redirection to <a href="../en/Sudo.html" title="Sudo">sudo</a>.</b></p>
<div>
<b>Notes:</b> Translation stalled. (Discuss in <a rel="nofollow" class="external text" href="../uk/Talk:Sudo.html">Talk:Sudo (Українська)</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><a href="../File:Tango-preferences-desktop-locale.svg" class="mw-file-description"><img src="../File:Tango-preferences-desktop-locale.svg" decoding="async" width="48" height="48" class="mw-file-element"></a></span><b>Цю стаття чи розділ ще не перекладено. Дивіться також <a href="../en/f6893e278d08f9ef3f6f632afd70bb77.html" class="mw-redirect" title="Команда перекладу ArchWiki українською">Команда перекладу ArchWiki українською</a>.</b></p>
<div>
<b>Причина:</b> Partial translation was started 2021-12-12. (Обговорення в <a rel="nofollow" class="external text" href="../uk/Talk:Sudo.html">Talk:Sudo (Українська)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles">
<p>Повʼязані статті</p>
<ul>
<li><a href="../en/Users_and_groups.html" title="Users and groups">Users and groups</a></li>
<li><a href="../en/Su.html" title="Su">su</a></li>
<li><a href="../en/Doas.html" title="Doas">doas</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.sudo.ws/sudo/">Sudo</a> дозволяє системному адміністратору передавати різним користувачам чи групам користувачів повноваження запускати команди від імені користувача „root“ чи будь-якого іншого користувача. Окрім цього, команда веде часопис використаних команд та їх аргументів.
</p>
<p>Інший спосіб запускати команди як root — <a href="../en/Su.html" title="Su">su</a>. От тільки, якщо <a href="../en/Su.html" title="Su">su</a> відкриває root консоль в якій можна вводити багато команд, то sudo дає право виконати лише одну команду. Завдяки цьому, зменшується ймовірність виконати команду з помилкою й поламати свою систему.
</p>
<p>Із Sudo ще й можна запускати команди від імені інших користувачів. А використані команди та невдалі спроби отримати доступ записуються до журналу, для перевірки безпеки.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Встановлення">
<span id=".D0.92.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8F"></span>Встановлення</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Встановіть</a> пакунок <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo">sudo</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Використання">
<span id=".D0.92.D0.B8.D0.BA.D0.BE.D1.80.D0.B8.D1.81.D1.82.D0.B0.D0.BD.D0.BD.D1.8F"></span>Використання</h2></div>
<p>Перед використанням, <code>sudo</code> потрібно налагодити. Прочитайте <a href="#%D0%9D%D0%B0%D0%BB%D0%B0%D0%B3%D0%BE%D0%B4%D0%B6%D0%B5%D0%BD%D0%BD%D1%8F">#Налагодження</a>.
</p>
<p>Щоб скористатися <i>sudo</i>, просто додайте <code>sudo</code> поперед команди та її аргументів:
</p>
<pre>$ sudo <i>команда</i>
</pre>
<p>Наприклад, для pacman:
</p>
<pre>$ sudo pacman -Syu
</pre>
<p>Прочитайте <span class="plainlinks archwiki-template-man" title="$ man 8 sudo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudo.8">sudo(8)</a></span> щоб дізнатися більше.
</p>
<div class="mw-heading mw-heading2"><h2 id="Налагодження">
<span id=".D0.9D.D0.B0.D0.BB.D0.B0.D0.B3.D0.BE.D0.B4.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F"></span>Налагодження</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Create an intro discussing <code>Defaults</code>, perhaps with a table that lists common settings (Discuss in <a rel="nofollow" class="external text" href="../uk/Talk:Sudo.html">Talk:Sudo (Українська)</a>)</div>
</div>
<div class="mw-heading mw-heading3"><h3 id="Defaults_skeleton">Defaults skeleton</h3></div>
<p><span class="plainlinks archwiki-template-man" title="$ man 5 sudoers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudoers.5#SUDOERS_OPTIONS">sudoers(5) § SUDOERS OPTIONS</a></span> lists all the options that can be used with the <code>Defaults</code> command in the <code>/etc/sudoers</code> file.
</p>
<p>See <a rel="nofollow" class="external autonumber" href="https://gist.github.com/AladW/7eca9799b9ea624eca31">[1]</a> for a list of options (parsed from the version 1.8.7 source code) in a format optimized for <code>sudoers</code>.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 sudoers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudoers.5">sudoers(5)</a></span> for more information, such as configuring the password timeout.
</p>
<div class="mw-heading mw-heading3"><h3 id="Переглянути_наявні_налаштування">
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B3.D0.BB.D1.8F.D0.BD.D1.83.D1.82.D0.B8_.D0.BD.D0.B0.D1.8F.D0.B2.D0.BD.D1.96_.D0.BD.D0.B0.D0.BB.D0.B0.D1.88.D1.82.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F"></span>Переглянути наявні налаштування</h3></div>
<p>Запустіть <code>sudo -ll</code> щоб вивести налаштування, прийняті на даний момент. Щоб дізнатися налаштування для певного користувача, запустіть <code>sudo -lU <i>ім'я_користувача</i></code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Використання_visudo">
<span id=".D0.92.D0.B8.D0.BA.D0.BE.D1.80.D0.B8.D1.81.D1.82.D0.B0.D0.BD.D0.BD.D1.8F_visudo"></span>Використання visudo</h3></div>
<p>Налаштування для sudo знаходяться у файлі <code>/etc/sudoers</code>. Його можна редагувати <b>тільки</b> через команду <span class="plainlinks archwiki-template-man" title="$ man 8 visudo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/visudo.8">visudo(8)</a></span>. Вона блокує оригінальний файл, створює тимчасову копію і перевіряє його на наявність помилок, переди тим як скопіювати його назад до <code>/etc/sudoers</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Попередження</strong> 
<ul>
<li>Ви зобов'язані написати <code>sudoers</code> без помилок! Будь-яка помилка зробить sudo непридатним для використання. <b>Завжди</b> використовуйте <i>visudo</i> щоб запобігти утворенню помилок.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 visudo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/visudo.8">visudo(8)</a></span> warns that configuring <i>visudo</i> to honor the user environment variables for their editor of choice may be a security hole, since it allows the user with <i>visudo</i> privileges to run arbitrary commands as root without logging simply by setting that variable to something else.</li>
</ul>
</div>
<p><i>visudo</i> використовує <i>vi</i> для редагування тексту. The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo">sudo</a></span> package is compiled with <code>--with-env-editor</code> and honors the use of the <code>SUDO_EDITOR</code>, <code>VISUAL</code> and <code>EDITOR</code> variables. <code>EDITOR</code> is not used when <code>VISUAL</code> is set.
</p>
<p>To establish <a href="../en/Nano.html" title="Nano">nano</a> as the <i>visudo</i> editor for the duration of the current shell session, export <code>EDITOR=nano</code>; to use a different editor just once simply set the variable before calling <i>visudo</i>:
</p>
<pre># EDITOR=nano visudo
</pre>
<p>Alternatively you may edit a copy of the <code>/etc/sudoers</code> file and check it using <code>visudo -c <i>/copy/of/sudoers</i></code>. This might come in handy in case you want to circumvent locking the file with <i>visudo</i>.
</p>
<p>To change the editor permanently, see <a href="../en/Environment_variables.html#Per_user" title="Environment variables">Environment variables#Per user</a>. To change the editor of choice permanently system-wide only for <i>visudo</i>, add the following to <code>/etc/sudoers</code> (assuming <a href="../en/Nano.html" title="Nano">nano</a> is your preferred editor):
</p>
<pre># Reset environment by default
Defaults      env_reset
# Set default EDITOR to nano, and do not allow visudo to use EDITOR/VISUAL.
Defaults      editor=/usr/bin/nano, !env_editor
</pre>
<div class="mw-heading mw-heading3"><h3 id="Example_entries">Example entries</h3></div>
<p>To allow a user to gain full root privileges when they precede a command with <code>sudo</code>, add the following line:
</p>
<pre>USER_NAME   ALL=(ALL) ALL
</pre>
<p>To allow a user to run all commands as any user but only on the machine with hostname <code>HOST_NAME</code>:
</p>
<pre>USER_NAME   HOST_NAME=(ALL) ALL
</pre>
<p>To allow members of group <a href="../en/Users_and_groups.html#Group_list" class="mw-redirect" title="Wheel">wheel</a> sudo access:
</p>
<pre>%wheel      ALL=(ALL) ALL
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> When creating new administrators, it is often desirable to enable sudo access for the <code>wheel</code> group and <a href="../en/Users_and_groups.html#Other_examples_of_user_management" title="Users and groups">add the user to it</a>, since by default <a href="../en/Polkit.html#Administrator_identities" title="Polkit">Polkit</a> treats the members of the <code>wheel</code> group as administrators. If the user is not a member of <code>wheel</code>, software using Polkit may ask to authenticate using the root password instead of the user password.</div>
<p>To disable asking for a password for user <code>USER_NAME</code>:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> This will allow any process running with your user name to use sudo without asking for permission.</div>
<pre>Defaults:USER_NAME      !authenticate
</pre>
<p>Enable explicitly defined commands only for user <code>USER_NAME</code> on host <code>HOST_NAME</code>:
</p>
<pre>USER_NAME HOST_NAME=/usr/bin/halt,/usr/bin/poweroff,/usr/bin/reboot,/usr/bin/pacman -Syu
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The most customized option should go at the end of the file, as the later lines overrides the previous ones. In particular such a line should be after the <code>%wheel</code> line if your user is in this group.</div>
<p>Enable explicitly defined commands only for user <code>USER_NAME</code> on host <code>HOST_NAME</code> without password:
</p>
<pre>USER_NAME HOST_NAME= NOPASSWD: /usr/bin/halt,/usr/bin/poweroff,/usr/bin/reboot,/usr/bin/pacman -Syu
</pre>
<p>A detailed <code>sudoers</code> example is available at <code>/usr/share/doc/sudo/examples/sudoers</code>. Otherwise, see the <span class="plainlinks archwiki-template-man" title="$ man 5 sudoers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudoers.5">sudoers(5)</a></span> for detailed information.
</p>
<div class="mw-heading mw-heading3"><h3 id="Sudoers_default_file_permissions">Sudoers default file permissions</h3></div>
<p>The owner and group for the <code>sudoers</code> file must both be 0. The file permissions must be set to 0440. These permissions are set by default, but if you accidentally change them, they should be changed back immediately or sudo will fail.
</p>
<pre># chown -c root:root /etc/sudoers
# chmod -c 0440 /etc/sudoers
</pre>
<div class="mw-heading mw-heading2"><h2 id="Корисні_поради">
<span id=".D0.9A.D0.BE.D1.80.D0.B8.D1.81.D0.BD.D1.96_.D0.BF.D0.BE.D1.80.D0.B0.D0.B4.D0.B8"></span>Корисні поради</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Вимкнути_термін_очікування_при_введенні_паролю">
<span id=".D0.92.D0.B8.D0.BC.D0.BA.D0.BD.D1.83.D1.82.D0.B8_.D1.82.D0.B5.D1.80.D0.BC.D1.96.D0.BD_.D0.BE.D1.87.D1.96.D0.BA.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B2.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.BD.D1.96_.D0.BF.D0.B0.D1.80.D0.BE.D0.BB.D1.8E"></span>Вимкнути термін очікування при введенні паролю</h3></div>
<p>Найдратівливіша ситуація: тривалий процес, що працює десь на тлі, із нормальними дозволами, та піднімається лише за потреби. В такому разі, він потребує паролю для sudo. Якщо його не помітити, то він застаріває й процес, в найкращому випадку, вилітає. Щоби справитись із цим, радимо вимкнути пароль для sudo або збільшити його термін очікування. Можна взагалі вимкнути термін очікування паролю, та як воно взагалі не підвищує рівень безпеки, для цього встановіть його рівним нулю:
</p>
<pre>Defaults passwd_timeout=0
</pre>
<div class="mw-heading mw-heading3"><h3 id="Add_terminal_bell_to_the_password_prompt">Add terminal bell to the password prompt</h3></div>
<p>To draw attention to a sudo prompt in a background terminal, users can simply make it echo a <a href="https://en.wikipedia.org/wiki/Bell_character" class="extiw" title="wikipedia:Bell character">bell character</a>:
</p>
<pre>Defaults passprompt="^G[sudo] password for %p: "
</pre>
<p>Note the <code>^G</code> is a literal bell character. E.g. in <a href="../en/Vim.html" title="Vim">vim</a>, insert using the sequence <code>Ctrl+v</code> <code>Ctrl+g</code>, or in <a href="../en/Nano.html" title="Nano">nano</a>, <code>Alt+v</code> <code>Ctrl+g</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Passing_aliases">Passing aliases</h3></div>
<p>If you use a lot of aliases, you might have noticed that they do not carry over to the root account when using sudo. However, there is an easy way to make them work. Simply add the following to your <code>~/.bashrc</code> or <code>/etc/bash.bashrc</code>:
</p>
<pre>alias sudo='sudo '
</pre>
<div class="mw-heading mw-heading3"><h3 id="Disable_per-terminal_sudo">Disable per-terminal sudo</h3></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> This will let any process use your sudo session.</div>
<p>If you are annoyed by sudo's defaults that require you to enter your password every time you open a new terminal, set <code>timestamp_type</code> to <code>global</code>:
</p>
<pre>Defaults timestamp_type=global
</pre>
<div class="mw-heading mw-heading3"><h3 id="Reduce_the_number_of_times_you_have_to_type_a_password">Reduce the number of times you have to type a password</h3></div>
<p>If you are annoyed that you have to re-enter your password every 5 minutes (default), you can change this by setting a longer value for <code>timestamp_timeout</code> (in minutes):
</p>
<pre>Defaults timestamp_timeout=10
</pre>
<p>If you are using a lot of sudo commands on a row, it is more logical to refresh the timeout every time you use sudo than
to increase <code>timestamp_timeout</code>. Refreshing the timeout can be done with <code>sudo -v</code> (whereas <code>sudo -K</code> revokes immediately).
</p>
<p>You might want to automate this by adding the following to your <code>.bashrc</code>:
</p>
<pre>alias sudo='sudo -v; sudo '
</pre>
<p>It is also possible to use a bash function; for more details see <a rel="nofollow" class="external text" href="https://unix.stackexchange.com/questions/584725/expand-certain-aliases-from-within-sudo-bash-function">stackexchange</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Environment_variables">Environment variables</h3></div>
<p>If you have a lot of environment variables, or you export your proxy settings via <code>export http_proxy="..."</code>, when using sudo these variables do not get passed to the root account unless you run sudo with the <code>-E</code> option.
</p>
<pre>$ sudo -E pacman -Syu
</pre>
<p>The recommended way of preserving environment variables is to append them to <code>env_keep</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sudoers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Defaults env_keep += "ftp_proxy http_proxy https_proxy no_proxy"</pre>
<div class="mw-heading mw-heading3"><h3 id="Root_password">Root password</h3></div>
<p>Users can configure sudo to ask for the root password instead of the user password by adding <code>targetpw</code> (target user, defaults to root) or <code>rootpw</code> to the Defaults line in <code>/etc/sudoers</code>:
</p>
<pre>Defaults targetpw
</pre>
<p>To prevent exposing your root password to users, you can restrict this to a specific group:
</p>
<pre>Defaults:%wheel targetpw
%wheel ALL=(ALL) ALL
</pre>
<div class="mw-heading mw-heading3"><h3 id="Disable_root_login">Disable root login</h3></div>
<p>Users may wish to disable the root login. Without root, attackers must first guess a user name configured as a sudoer as well as the user password. See for example <a href="../en/OpenSSH.html#Deny" title="OpenSSH">OpenSSH#Deny</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> 
<ul>
<li>Be careful, you may lock yourself out by disabling root login. Sudo is not automatically installed and its default configuration allows neither passwordless root access nor root access with your own password. Ensure a user is properly configured as a sudoer <i>before</i> disabling the root account!</li>
<li>If you have changed your sudoers file to use rootpw as default, then do not disable root login with any of the following commands!</li>
<li>If you are already locked out, see <a href="../en/Password_recovery.html" class="mw-redirect" title="Password recovery">Password recovery</a> for help.</li>
</ul>
</div>
<p>The account can be locked via <code>passwd</code>:
</p>
<pre># passwd -l root
</pre>
<p>A similar command unlocks root.
</p>
<pre>$ sudo passwd -u root
</pre>
<p>Alternatively, edit <code>/etc/shadow</code> and replace the root's encrypted password with "!":
</p>
<pre>root:!:12345::::::
</pre>
<p>To enable root login again:
</p>
<pre>$ sudo passwd root
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> To get to an interactive root prompt, even after disabling the <i>root</i> account, use <code>sudo -i</code>.</div>
<div class="mw-heading mw-heading4"><h4 id="kdesu">kdesu</h4></div>
<p>kdesu may be used under <a href="../en/KDE.html" title="KDE">KDE</a> to launch GUI applications with root privileges. It is possible that by default kdesu will try to use su even if the root account is disabled. Fortunately one can tell kdesu to use sudo instead of su. Create/edit the file <code>~/.config/kdesurc</code>:
</p>
<pre>[super-user-command]
super-user-command=sudo
</pre>
<p>or use the following command:
</p>
<pre>$ kwriteconfig5 --file kdesurc --group super-user-command --key super-user-command sudo
</pre>
<div class="mw-heading mw-heading3"><h3 id="Harden_with_sudo_example">Harden with sudo example</h3></div>
<p>Let us say you create 3 users: admin, devel, and joe. The user "admin" is used for journalctl, systemctl, mount, kill, and iptables; "devel" is used for installing packages, and editing config files; and "joe" is the user you log in with. To let "joe" reboot, shutdown, and use netctl we would do the following:
</p>
<p>Edit <code>/etc/pam.d/su</code> and <code>/etc/pam.d/su-l</code>. Require user be in the wheel group, but do not put anyone in it.
</p>
<pre>#%PAM-1.0
auth            sufficient      pam_rootok.so
# Uncomment the following line to implicitly trust users in the "wheel" group.
#auth           sufficient      pam_wheel.so trust use_uid
# Uncomment the following line to require a user to be in the "wheel" group.
auth            required        pam_wheel.so use_uid
auth            required        pam_unix.so
account         required        pam_unix.so
session         required        pam_unix.so
</pre>
<p>Limit SSH login to the 'ssh' group. Only "joe" will be part of this group.
</p>
<pre># groupadd -r ssh
# gpasswd -a joe ssh
# echo 'AllowGroups ssh' &gt;&gt; /etc/ssh/sshd_config
</pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>sshd.service</code>.
</p>
<p>Add users to other groups.
</p>
<ol><li>for g in power network ;do ;gpasswd -a joe $g ;done</li></ol>
<pre># for g in network power storage ;do ;gpasswd -a admin $g ;done
</pre>
<p>Set permissions on configs so devel can edit them.
</p>
<pre># chown -R devel:root /etc/{http,openvpn,cups,zsh,vim,screenrc}
</pre>
<pre>Cmnd_Alias  POWER       =   /usr/bin/shutdown -h now, /usr/bin/halt, /usr/bin/poweroff, /usr/bin/reboot
Cmnd_Alias  STORAGE     =   /usr/bin/mount -o nosuid\,nodev\,noexec, /usr/bin/umount
Cmnd_Alias  SYSTEMD     =   /usr/bin/journalctl, /usr/bin/systemctl
Cmnd_Alias  KILL        =   /usr/bin/kill, /usr/bin/killall
Cmnd_Alias  PKGMAN      =   /usr/bin/pacman
Cmnd_Alias  NETWORK     =   /usr/bin/netctl
Cmnd_Alias  FIREWALL    =   /usr/bin/iptables, /usr/bin/ip6tables
Cmnd_Alias  SHELL       =   /usr/bin/zsh, /usr/bin/bash
%power      ALL         =   (root)  NOPASSWD: POWER
%network    ALL         =   (root)  NETWORK
%storage    ALL         =   (root)  STORAGE
root        ALL         =   (ALL)   ALL
admin       ALL         =   (root)  SYSTEMD, KILL, FIREWALL
devel	    ALL         =   (root)  PKGMAN
joe	    ALL         =   (devel) SHELL, (admin) SHELL 
</pre>
<p>With this setup, you will almost never need to login as the Root user.
</p>
<p>"joe" can connect to his home WiFi.
</p>
<pre>$ sudo netctl start home
$ sudo poweroff
</pre>
<p>"joe" can not use netctl as any other user.
</p>
<pre>$ sudo -u admin -- netctl start home
</pre>
<p>When "joe" needs to use journalctl or kill run away process he can switch to that user.
</p>
<pre>$ sudo -i -u devel
$ sudo -i -u admin
</pre>
<p>But "joe" cannot switch to the root user.
</p>
<pre>$ sudo -i -u root
</pre>
<p>If "joe" want to start a gnu-screen session as admin he can do it like this:
</p>
<pre>$ sudo -i -u admin
[admin]$ chown admin:tty `echo $TTY`
[admin]$ screen
</pre>
<div class="mw-heading mw-heading3"><h3 id="Configure_sudo_using_drop-in_files_in_/etc/sudoers.d">
<span id="Configure_sudo_using_drop-in_files_in_.2Fetc.2Fsudoers.d"></span>Configure sudo using drop-in files in /etc/sudoers.d</h3></div>
<p><i>sudo</i> parses files contained in the directory <code>/etc/sudoers.d/</code>. This means that instead of editing <code>/etc/sudoers</code>, you can change settings in standalone files and drop them in that directory. This has two advantages:
</p>
<ul>
<li>There is no need to edit a <code>sudoers.pacnew</code> file;</li>
<li>If there is a problem with a new entry, you can remove the offending file instead of editing <code>/etc/sudoers</code> (but see the warning below).</li>
</ul>
<p>The format for entries in these drop-in files is the same as for <code>/etc/sudoers</code> itself. To edit them directly, use <code>visudo -f /etc/sudoers.d/<i>somefile</i></code>. See <span class="plainlinks archwiki-template-man" title="$ man 5 sudoers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudoers.5#Including_other_files_from_within_sudoers">sudoers(5) § Including other files from within sudoers</a></span> for details.
</p>
<p>The files in <code>/etc/sudoers.d/</code> directory are parsed in lexicographical order, file names containing <code>.</code> or <code>~</code> are skipped. To avoid sorting problems, the file names should begin with two digits, e.g. <code>01_foo</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The order of entries in the drop-in files is important: make sure that the statements do not override themselves.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> The files in <code>/etc/sudoers.d/</code> are just as fragile as <code>/etc/sudoers</code> itself: any improperly formatted file will prevent <code>sudo</code> from working.  Hence, for the same reason it is strongly advised to use <code>visudo</code>
</div>
<div class="mw-heading mw-heading3"><h3 id="Editing_files">Editing files</h3></div>
<p><code>sudo -e</code> or <code>sudoedit</code> lets you edit a file as another user while still running the text editor as your user.
</p>
<p>This is especially useful for editing files as root without elevating the privilege of your text editor, for more details read <span class="plainlinks archwiki-template-man" title="$ man 8 sudo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudo.8#e">sudo(8) § e</a></span>.
</p>
<p>Note that you can set the editor to any program, so for example one can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=meld">meld</a></span> to manage <a href="../en/Pacman/Pacnew_and_Pacsave.html" title="Pacman/Pacnew and Pacsave">pacnew</a> files:
</p>
<pre>$ SUDO_EDITOR=meld sudo -e /etc/<i>file</i>{,.pacnew}
</pre>
<div class="mw-heading mw-heading3"><h3 id="Увімкнути_лайки">
<span id=".D0.A3.D0.B2.D1.96.D0.BC.D0.BA.D0.BD.D1.83.D1.82.D0.B8_.D0.BB.D0.B0.D0.B9.D0.BA.D0.B8"></span>Увімкнути лайки</h3></div>
<p>Ви можете увімкнути лайки в sudo. Для цього додайте цей рядок до файлу <code>sudoers</code> використовуючи <code>visudo</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sudoers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Defaults insults</pre>
<p>Якщо ви введете хибний пароль, то замість строки <code>слід вказати пароль</code> sudo буде писати різні кумедні образи. Нажаль лише англійською.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="SSH_problem_without_TTY">SSH problem without TTY</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Configuration">#Configuration</a>.</b></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the second argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="../uk/Talk:Sudo.html">Talk:Sudo (Українська)</a>)</div>
</div>
<p>SSH does not allocate a tty by default when running a remote command. Without an allocated tty, sudo cannot prevent the password from being displayed. You can use ssh's <code>-t</code> option to force it to allocate a tty.
</p>
<p>The <code>Defaults</code> option <code>requiretty</code> only allows the user to run sudo if they have a tty.
</p>
<pre># Disable "ssh hostname sudo &lt;cmd&gt;", because it will show the password in clear text. You have to run "ssh -t hostname sudo &lt;cmd&gt;".
#
#Defaults    requiretty
</pre>
<div class="mw-heading mw-heading3"><h3 id="Permissive_umask">Permissive umask</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Configuration">#Configuration</a>.</b></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the second argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="../uk/Talk:Sudo.html">Talk:Sudo (Українська)</a>)</div>
</div>
<p>Sudo will union the user's <a href="../en/Umask.html" title="Umask">umask</a> value with its own umask (which defaults to 0022). This prevents sudo from creating files with more open permissions than the user's umask allows. While this is a sane default if no custom umask is in use, this can lead to situations where a utility run by sudo may create files with different permissions than if run by root directly. If errors arise from this, sudo provides a means to fix the umask, even if the desired umask is more permissive than the umask that the user has specified. Adding this (using <code>visudo</code>) will override sudo's default behavior:
</p>
<pre>Defaults umask = 0022
Defaults umask_override
</pre>
<p>This sets sudo's umask to root's default umask (0022) and overrides the default behavior, always using the indicated umask regardless of what umask the user as set.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../uk/Category:Security.html" title="Category:Security (Українська)">Security (Українська)</a></li>
<li><a href="../uk/Category:Commands.html" title="Category:Commands (Українська)">Commands (Українська)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_flagged_with_Template:Redirect.html" title="Category:Pages flagged with Template:Redirect">Pages flagged with Template:Redirect</a></li>
<li><a href="../uk/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Українська)">Pages or sections flagged with Template:Translateme (Українська)</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sudo_(%D0%A3%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D1%81%D1%8C%D0%BA%D0%B0)&amp;oldid=849023">https://wiki.archlinux.org/index.php?title=Sudo_(Українська)&amp;oldid=849023</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 October 2025, at 16:22.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Sudo (Українська)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
