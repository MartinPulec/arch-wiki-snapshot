<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GnuPG (Polski) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GnuPG_Polski rootpage-GnuPG_Polski skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalacja" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Instalacja">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalacja</div>
		</a>
		
		<ul id="toc-Instalacja-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Konfiguracja" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Konfiguracja">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Konfiguracja</div>
		</a>
		
			<button aria-controls="toc-Konfiguracja-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Konfiguracja subsection</span>
			</button>
		
		<ul id="toc-Konfiguracja-sublist" class="vector-toc-list">
			<li id="toc-Lokalizacja_katalogu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lokalizacja_katalogu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Lokalizacja katalogu</div>
			</a>
			
			<ul id="toc-Lokalizacja_katalogu-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pliki_konfiguracyjne" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pliki_konfiguracyjne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Pliki konfiguracyjne</div>
			</a>
			
			<ul id="toc-Pliki_konfiguracyjne-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Domyślne_opcje_dla_nowych_użytkowników" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Domy%C5%9Blne_opcje_dla_nowych_u%C5%BCytkownik%C3%B3w">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Domyślne opcje dla nowych użytkowników</div>
			</a>
			
			<ul id="toc-Domyślne_opcje_dla_nowych_użytkowników-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Używanie" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#U%C5%BCywanie">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Używanie</div>
		</a>
		
			<button aria-controls="toc-Używanie-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Używanie subsection</span>
			</button>
		
		<ul id="toc-Używanie-sublist" class="vector-toc-list">
			<li id="toc-Utwórz_parę_kluczy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utw%C3%B3rz_par%C4%99_kluczy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Utwórz parę kluczy</div>
			</a>
			
			<ul id="toc-Utwórz_parę_kluczy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lista_kluczy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lista_kluczy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Lista kluczy</div>
			</a>
			
			<ul id="toc-Lista_kluczy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wyeksportuj_swój_klucz_publiczny" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wyeksportuj_sw%C3%B3j_klucz_publiczny">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Wyeksportuj swój klucz publiczny</div>
			</a>
			
			<ul id="toc-Wyeksportuj_swój_klucz_publiczny-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zaimportuj_klucz_publiczny" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zaimportuj_klucz_publiczny">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Zaimportuj klucz publiczny</div>
			</a>
			
			<ul id="toc-Zaimportuj_klucz_publiczny-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Użyj_serwera_kluczy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#U%C5%BCyj_serwera_kluczy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Użyj serwera kluczy</div>
			</a>
			
			<ul id="toc-Użyj_serwera_kluczy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Szyfrowanie_i_odszyfrowanie" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Szyfrowanie_i_odszyfrowanie">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Szyfrowanie i odszyfrowanie</div>
			</a>
			
			<ul id="toc-Szyfrowanie_i_odszyfrowanie-sublist" class="vector-toc-list">
				<li id="toc-Asymetryczne" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Asymetryczne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Asymetryczne</div>
			</a>
			
			<ul id="toc-Asymetryczne-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Symetryczne" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Symetryczne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.2</span>Symetryczne</div>
			</a>
			
			<ul id="toc-Symetryczne-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Konserwacja_kluczy" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Konserwacja_kluczy">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Konserwacja kluczy</div>
		</a>
		
			<button aria-controls="toc-Konserwacja_kluczy-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Konserwacja kluczy subsection</span>
			</button>
		
		<ul id="toc-Konserwacja_kluczy-sublist" class="vector-toc-list">
			<li id="toc-Zrób_kopię_swojego_klucza_prywatnego" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zr%C3%B3b_kopi%C4%99_swojego_klucza_prywatnego">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Zrób kopię swojego klucza prywatnego</div>
			</a>
			
			<ul id="toc-Zrób_kopię_swojego_klucza_prywatnego-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zrób_kopię_certyfikatu_unieważniającego" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zr%C3%B3b_kopi%C4%99_certyfikatu_uniewa%C5%BCniaj%C4%85cego">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Zrób kopię certyfikatu unieważniającego</div>
			</a>
			
			<ul id="toc-Zrób_kopię_certyfikatu_unieważniającego-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Edytuj_swój_klucz" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Edytuj_sw%C3%B3j_klucz">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Edytuj swój klucz</div>
			</a>
			
			<ul id="toc-Edytuj_swój_klucz-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Eksportowanie_podklucza" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Eksportowanie_podklucza">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Eksportowanie podklucza</div>
			</a>
			
			<ul id="toc-Eksportowanie_podklucza-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rotacja_podkluczy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rotacja_podkluczy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Rotacja podkluczy</div>
			</a>
			
			<ul id="toc-Rotacja_podkluczy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unieważnij_klucz" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Uniewa%C5%BCnij_klucz">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Unieważnij klucz</div>
			</a>
			
			<ul id="toc-Unieważnij_klucz-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Podpisy" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Podpisy">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Podpisy</div>
		</a>
		
			<button aria-controls="toc-Podpisy-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Podpisy subsection</span>
			</button>
		
		<ul id="toc-Podpisy-sublist" class="vector-toc-list">
			<li id="toc-Utwórz_podpis" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utw%C3%B3rz_podpis">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Utwórz podpis</div>
			</a>
			
			<ul id="toc-Utwórz_podpis-sublist" class="vector-toc-list">
				<li id="toc-Zarejestruj_plik" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Zarejestruj_plik">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.1</span>Zarejestruj plik</div>
			</a>
			
			<ul id="toc-Zarejestruj_plik-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Clearsign_a_file_or_message" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Clearsign_a_file_or_message">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.2</span>Clearsign a file or message</div>
			</a>
			
			<ul id="toc-Clearsign_a_file_or_message-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utwórz_oddzielny_podpis" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utw%C3%B3rz_oddzielny_podpis">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.3</span>Utwórz oddzielny podpis</div>
			</a>
			
			<ul id="toc-Utwórz_oddzielny_podpis-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Zweryfikuj_podpis" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zweryfikuj_podpis">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Zweryfikuj podpis</div>
			</a>
			
			<ul id="toc-Zweryfikuj_podpis-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-gpg-agent" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#gpg-agent">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>gpg-agent</div>
		</a>
		
			<button aria-controls="toc-gpg-agent-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle gpg-agent subsection</span>
			</button>
		
		<ul id="toc-gpg-agent-sublist" class="vector-toc-list">
			<li id="toc-Konfiguracja_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Konfiguracja_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Konfiguracja</div>
			</a>
			
			<ul id="toc-Konfiguracja_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Załaduj_ponownie_agenta" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Za%C5%82aduj_ponownie_agenta">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Załaduj ponownie agenta</div>
			</a>
			
			<ul id="toc-Załaduj_ponownie_agenta-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-pinentry" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#pinentry">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>pinentry</div>
			</a>
			
			<ul id="toc-pinentry-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bezobsługowe_hasło" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bezobs%C5%82ugowe_has%C5%82o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Bezobsługowe hasło</div>
			</a>
			
			<ul id="toc-Bezobsługowe_hasło-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSH_agent" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SSH_agent">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>SSH agent</div>
			</a>
			
			<ul id="toc-SSH_agent-sublist" class="vector-toc-list">
				<li id="toc-Set_SSH_AUTH_SOCK" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Set_SSH_AUTH_SOCK">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5.1</span>Set SSH_AUTH_SOCK</div>
			</a>
			
			<ul id="toc-Set_SSH_AUTH_SOCK-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Skonfiguruj_pinentry,_aby_użyć_prawidłowego_TTY" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Skonfiguruj_pinentry,_aby_u%C5%BCy%C4%87_prawid%C5%82owego_TTY">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5.2</span>Skonfiguruj pinentry, aby użyć prawidłowego TTY</div>
			</a>
			
			<ul id="toc-Skonfiguruj_pinentry,_aby_użyć_prawidłowego_TTY-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Dodaj_klucze_SSH" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Dodaj_klucze_SSH">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5.3</span>Dodaj klucze SSH</div>
			</a>
			
			<ul id="toc-Dodaj_klucze_SSH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Użyj_klucza_GPG_jako_klucza_SSH" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#U%C5%BCyj_klucza_GPG_jako_klucza_SSH">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5.4</span>Użyj klucza GPG jako klucza SSH</div>
			</a>
			
			<ul id="toc-Użyj_klucza_GPG_jako_klucza_SSH-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Smartcards" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Smartcards">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Smartcards</div>
		</a>
		
			<button aria-controls="toc-Smartcards-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Smartcards subsection</span>
			</button>
		
		<ul id="toc-Smartcards-sublist" class="vector-toc-list">
			<li id="toc-GnuPG_only_setups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GnuPG_only_setups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>GnuPG only setups</div>
			</a>
			
			<ul id="toc-GnuPG_only_setups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GnuPG_z_pcscd_(PCSC_Lite)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GnuPG_z_pcscd_(PCSC_Lite)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>GnuPG z pcscd (PCSC Lite)</div>
			</a>
			
			<ul id="toc-GnuPG_z_pcscd_(PCSC_Lite)-sublist" class="vector-toc-list">
				<li id="toc-Zawsze_używaj_pcscd" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Zawsze_u%C5%BCywaj_pcscd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2.1</span>Zawsze używaj pcscd</div>
			</a>
			
			<ul id="toc-Zawsze_używaj_pcscd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Porady_i_wskazówki" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Porady_i_wskaz%C3%B3wki">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Porady i wskazówki</div>
		</a>
		
			<button aria-controls="toc-Porady_i_wskazówki-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Porady i wskazówki subsection</span>
			</button>
		
		<ul id="toc-Porady_i_wskazówki-sublist" class="vector-toc-list">
			<li id="toc-Inny_algorytm" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Inny_algorytm">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Inny algorytm</div>
			</a>
			
			<ul id="toc-Inny_algorytm-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zaszyfruj_hasło" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zaszyfruj_has%C5%82o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Zaszyfruj hasło</div>
			</a>
			
			<ul id="toc-Zaszyfruj_hasło-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Odwoływanie_klucza" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Odwo%C5%82ywanie_klucza">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Odwoływanie klucza</div>
			</a>
			
			<ul id="toc-Odwoływanie_klucza-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Change_trust_model" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Change_trust_model">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>Change trust model</div>
			</a>
			
			<ul id="toc-Change_trust_model-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ukryj_wszystkie_identyfikatory_odbiorców" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ukryj_wszystkie_identyfikatory_odbiorc%C3%B3w">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5</span>Ukryj wszystkie identyfikatory odbiorców</div>
			</a>
			
			<ul id="toc-Ukryj_wszystkie_identyfikatory_odbiorców-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Używanie_caff_do_wysyłania_kluczy_partiami" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#U%C5%BCywanie_caff_do_wysy%C5%82ania_kluczy_partiami">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.6</span>Używanie caff do wysyłania kluczy partiami</div>
			</a>
			
			<ul id="toc-Używanie_caff_do_wysyłania_kluczy_partiami-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zawsze_pokazuj_długie_identyfikatory_i_odciski_palca" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zawsze_pokazuj_d%C5%82ugie_identyfikatory_i_odciski_palca">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.7</span>Zawsze pokazuj długie identyfikatory i odciski palca</div>
			</a>
			
			<ul id="toc-Zawsze_pokazuj_długie_identyfikatory_i_odciski_palca-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Niestandardowe_funkcje" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Niestandardowe_funkcje">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.8</span>Niestandardowe funkcje</div>
			</a>
			
			<ul id="toc-Niestandardowe_funkcje-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cache_passwords" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cache_passwords">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.9</span>Cache passwords</div>
			</a>
			
			<ul id="toc-Cache_passwords-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Rozwiązywanie_problemów:" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Rozwi%C4%85zywanie_problem%C3%B3w:">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Rozwiązywanie problemów:</div>
		</a>
		
			<button aria-controls="toc-Rozwiązywanie_problemów:-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Rozwiązywanie problemów: subsection</span>
			</button>
		
		<ul id="toc-Rozwiązywanie_problemów:-sublist" class="vector-toc-list">
			<li id="toc-Nie_ma_wystarczającej_liczby_losowych_bajtów" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nie_ma_wystarczaj%C4%85cej_liczby_losowych_bajt%C3%B3w">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Nie ma wystarczającej liczby losowych bajtów</div>
			</a>
			
			<ul id="toc-Nie_ma_wystarczającej_liczby_losowych_bajtów-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-su" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#su">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>su</div>
			</a>
			
			<ul id="toc-su-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Agent_complains_end_of_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Agent_complains_end_of_file">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.3</span>Agent complains end of file</div>
			</a>
			
			<ul id="toc-Agent_complains_end_of_file-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-KGpg_configuration_permissions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#KGpg_configuration_permissions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.4</span>KGpg configuration permissions</div>
			</a>
			
			<ul id="toc-KGpg_configuration_permissions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GNOME_na_Wayland_zastępuje_gniazdo_agenta_SSH" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GNOME_na_Wayland_zast%C4%99puje_gniazdo_agenta_SSH">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.5</span>GNOME na Wayland zastępuje gniazdo agenta SSH</div>
			</a>
			
			<ul id="toc-GNOME_na_Wayland_zastępuje_gniazdo_agenta_SSH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mutt" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mutt">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.6</span>mutt</div>
			</a>
			
			<ul id="toc-mutt-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"Utracone"_klucze,_aktualizacja_do_wersji_2.1_Gnupg' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#"Utracone"_klucze,_aktualizacja_do_wersji_2.1_Gnupg'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.7</span>"Utracone" klucze, aktualizacja do wersji 2.1 Gnupg</div>
			</a>
			
			<ul id='toc-"Utracone"_klucze,_aktualizacja_do_wersji_2.1_Gnupg-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gpg_zawiesza_się_dla_wszystkich_serwerów_kluczy_(podczas_próby_odebrania_kluczy)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gpg_zawiesza_si%C4%99_dla_wszystkich_serwer%C3%B3w_kluczy_(podczas_pr%C3%B3by_odebrania_kluczy)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.8</span>gpg zawiesza się dla wszystkich serwerów kluczy (podczas próby odebrania kluczy)</div>
			</a>
			
			<ul id="toc-gpg_zawiesza_się_dla_wszystkich_serwerów_kluczy_(podczas_próby_odebrania_kluczy)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nie_wykryto_SmartCard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nie_wykryto_SmartCard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.9</span>Nie wykryto SmartCard</div>
			</a>
			
			<ul id="toc-Nie_wykryto_SmartCard-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.10</span>gpg: WARNING: server 'gpg-agent' is older than us (x &lt; y)</div>
			</a>
			
			<ul id="toc-gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gpg:_...,_IPC_connect_call_failed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gpg:_...,_IPC_connect_call_failed">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.11</span>gpg: ..., IPC connect call failed</div>
			</a>
			
			<ul id="toc-gpg:_...,_IPC_connect_call_failed-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Zobacz_też" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Zobacz_te%C5%BC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Zobacz też</div>
		</a>
		
		<ul id="toc-Zobacz_też-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GnuPG (Polski)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/GnuPG" title="GnuPG – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/GnuPG.html" title="GnuPG – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/GnuPG" title="GnuPG – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/GnuPG.html" title="GnuPG – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/GnuPG" title="GnuPG – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pl" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-preferences-desktop-locale.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs to be <a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">translated</a>.</b></p>
<div>
<b>Notes:</b> No updates since 2019-01-24. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GnuPG.html">Talk:GnuPG (Polski)</a>)</div>
</div>
<p>Według <a rel="nofollow" class="external text" href="https://www.gnupg.org/">official website</a>:
</p>
<dl><dd>GnuPG to pełna i darmowa implementacja <a rel="nofollow" class="external text" href="https://openpgp.org/about/">OpenPGP</a> standard zdefiniowany przez <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc4880">RFC4880</a> (znany również jako PGP). GnuPG pozwala na szyfrowanie i podpisywanie danych i komunikacji. Posiada wszechstronny system zarządzania kluczami, a także moduły dostępu do wszystkich rodzajów katalogów kluczy publicznych. GnuPG, znany również jako GPG, to narzędzie linii poleceń z funkcjami ułatwiającymi integrację z innymi aplikacjami. Dostępnych jest wiele aplikacji i bibliotek frontendowych. Wersja 2 GnuPG zapewnia także obsługę S/MIME i Secure Shell (ssh).</dd></dl>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Instalacja">Instalacja</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Zainstaluj</a> paczkę <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnupg">gnupg</a></span>.
</p>
<p>To również zainstaluje <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pinentry">pinentry</a></span>, kolekcję prostych okienek do wpisywania PINów oraz haseł które GnuPG używa do wprowadzania. Które z okienek dialogowych od <i>pinentry</i> zostanie użyte, jest determinowane przez symboliczny link <code>/usr/bin/pinentry</code>, który domyślnie wskazuje <code>/usr/bin/pinentry-gtk-2</code>.
</p>
<p>Jeśli chcesz używać graficznego interfejsu, lub programu który integruje się z GnuPG, zobacz <a href="../en/List_of_applications/Security.html#Encryption,_signing,_steganography" title="List of applications/Security">List of applications/Security#Encryption, signing, steganography</a>.
</p>
<h2><span class="mw-headline" id="Konfiguracja">Konfiguracja</span></h2>
<h3><span class="mw-headline" id="Lokalizacja_katalogu">Lokalizacja katalogu</span></h3>
<p><code>$GNUPGHOME</code> jest używany przez GnuPG do wskazywania katalogu, w którym przechowywane są jego pliki konfiguracyjne. Domyślnie <code>$GNUPGHOME</code>nie jest ustawione i twoje <code>$HOME</code> jest używany zamiast; w ten sposób znajdziesz <code>~/.gnupg</code> katalog zaraz po instalacji.
</p>
<p>Aby zmienić domyślną lokalizację, uruchom gpg w ten sposób <code>$ gpg --homedir <i>path/to/file</i></code> lub ustaw <code>GNUPGHOME</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>.
</p>
<h3><span class="mw-headline" id="Pliki_konfiguracyjne">Pliki konfiguracyjne</span></h3>
<p>Domyślne pliki konfiguracyjne to <code>~/.gnupg/gpg.conf</code> i <code>~/.gnupg/dirmngr.conf</code>. 
</p>
<p>Domyślnie katalog gnupg ma ustawione uprawnienia do <code>700</code> , a pliki, które zawiera, mają ustawione uprawnienia do <code>600</code>. Tylko właściciel katalogu ma uprawnienia do odczytu, zapisu i uzyskiwania dostępu do plików. Jest to ze względów bezpieczeństwa i nie należy go zmieniać. W przypadku, gdy ten katalog lub jakikolwiek inny plik wewnątrz niego nie jest zgodny z tą miarą bezpieczeństwa, otrzymasz ostrzeżenia o niebezpiecznych uprawnieniach do plików i katalogu domowego.
</p>
<p>Dołącz do tych plików dowolne długie opcje, które chcesz. Nie zapisuj dwóch kresek, ale po prostu nazwę opcji i wymagane argumenty. Znajdziesz pliki szkieletów w <code>/usr/share/gnupg</code>. Pliki te są kopiowane do <code>~/.gnupg</code> przy pierwszym uruchomieniu gpg, jeśli tam nie istnieją. Inne przykłady można znaleźć w <a href="#Zobacz_te%C5%BC">#Zobacz też</a>.
</p>
<p>Dodatkowo <a href="../en/Pacman.html" title="Pacman">pacman</a> używa innego zestawu plików konfiguracyjnych do weryfikacji podpisów paczek. Zobacz <a href="../en/Pacman/Package_signing.html" title="Pacman/Package signing">Pacman/Package signing</a> dla szczegółów.
</p>
<h3>
<span id="Domy.C5.9Blne_opcje_dla_nowych_u.C5.BCytkownik.C3.B3w"></span><span class="mw-headline" id="Domyślne_opcje_dla_nowych_użytkowników">Domyślne opcje dla nowych użytkowników</span>
</h3>
<p>Jeśli chcesz ustawić domyślne opcje dla nowych użytkowników, umieść pliki konfiguracyjne w <code>/etc/skel/.gnupg/</code>. Po dodaniu nowego użytkownika w systemie pliki z tego katalogu zostaną skopiowane do katalogu domowego GnuPG. Istnieje również prosty skrypt o nazwie "addgnupghome", który można wykorzystać do stworzenia nowych katalogów domowych GnuPG dla istniejących użytkowników:
</p>
<pre># addgnupghome user1 user2
</pre>
<p>To doda odpowiednie <code>/home/user1/.gnupg</code> i <code>/home/user2/.gnupg</code> i skopiuj do niego pliki z katalogu szkieletu. Użytkownicy z istniejącym katalogiem macierzystym GnuPG są po prostu pomijani.
</p>
<h2>
<span id="U.C5.BCywanie"></span><span class="mw-headline" id="Używanie">Używanie</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Kiedy <i><code>user-id</code></i> jest wymagany w poleceniu, można go określić za pomocą identyfikatora klucza, odcisku palca, części imienia i nazwiska lub adresu e-mail itp. GnuPG jest elastyczny w tym zakresie..
</div>
<h3>
<span id="Utw.C3.B3rz_par.C4.99_kluczy"></span><span class="mw-headline" id="Utwórz_parę_kluczy">Utwórz parę kluczy</span>
</h3>
<p>Wygeneruj parę kluczy, wpisując w terminalu:
</p>
<pre>$ gpg --full-gen-key
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Użyj <code>--expert</code> możliwość uzyskania alternatywnych szyfrów <a href="https://en.wikipedia.org/wiki/Elliptic_curve_cryptography" class="extiw" title="wikipedia:Elliptic curve cryptography">ECC</a>.</div>
<p>Polecenie spowoduje wyświetlenie odpowiedzi na kilka pytań. Do ogólnego użytku większość ludzi będzie chciała:
</p>
<ul>
<li>klucz RSA (tylko podpis) i klucz RSA (tylko szyfrowanie).</li>
<li>klucz do domyślnej wartości (2048). Większy klucz 4096 "daje nam prawie nic, a kosztuje nas sporo"<a rel="nofollow" class="external autonumber" href="https://www.gnupg.org/faq/gnupg-faq.html#no_default_of_rsa4096">[1]</a>.</li>
<li>data wygaśnięcia. Okres roku jest wystarczająco dobry dla przeciętnego użytkownika. W ten sposób, nawet jeśli dojdzie do utraty dostępu do kluczy, pozwoli to innym dowiedzieć się, że nie jest już ważny. Później, jeśli to konieczne, data wygaśnięcia może zostać przedłużona bez konieczności ponownego wydania nowego klucza.</li>
<li>twoje imię i adres e-mail. Możesz dodać wiele tożsamości do tego samego klucza później ("<i> </i> ', jeśli masz wiele adresów e-mail, które chcesz powiązać z tym kluczem).</li>
<li>'komentarz "nie". Ponieważ semantyka pola komentarza to <a rel="nofollow" class="external text" href="https://lists.gnupg.org/pipermail/gnupg-devel/2015-July/030150.html">not well-defined</a>, ma ograniczoną wartość do identyfikacji.</li>
<li>
<a href="../en/Security.html#Choosing_secure_passwords" title="Security">a secure passphrase</a>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Nazwa i adres e-mail, który tu wpiszesz, będą widoczne dla każdego, kto importuje twój klucz.</div>
<h3><span class="mw-headline" id="Lista_kluczy">Lista kluczy</span></h3>
<p>Aby wyświetlić listę kluczy w swoim publicznym key ring:
</p>
<pre>$ gpg --list-keys
</pre>
<p>Aby wyświetlić sekretną listę kluczy key ring:
</p>
<pre>$ gpg --list-secret-keys
</pre>
<h3>
<span id="Wyeksportuj_sw.C3.B3j_klucz_publiczny"></span><span class="mw-headline" id="Wyeksportuj_swój_klucz_publiczny">Wyeksportuj swój klucz publiczny</span>
</h3>
<p>Głównym zastosowaniem gpg jest zapewnienie poufności wymienianych wiadomości za pośrednictwem kryptografii z kluczem publicznym. Dzięki niemu każdy użytkownik dystrybuuje klucz publiczny swojego klucza, który może być używany przez innych do szyfrowania wiadomości do użytkownika. Klucz prywatny musi być zawsze "prywatny", w przeciwnym razie dochodzi do złamania poufności. Zobacz w <a href="https://en.wikipedia.org/wiki/Public-key_cryptography" class="extiw" title="w:Public-key cryptography">w:Public-key cryptography</a> przykłady wymiany wiadomości. 
</p>
<p>Tak więc, aby inni mogli wysyłać zaszyfrowane wiadomości, potrzebują Twojego publicznego klucza. 
</p>
<p>By wygenerować wersję ASCII klucza publicznego do pliku <code><i>public.key</i></code> (np. do dystrybucji poprzez e-mail):
</p>
<pre>$ gpg --output <i>public.key</i> --armor --export <i>user-id</i>
</pre>
<p>Alternatywnie lub dodatkowo możesz zobaczyć sekcję <a href="#U%C5%BCyj_serwera_kluczy">#Użyj serwera kluczy</a> by podzielić się swoim kluczem. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Dodaj <code>--no-emit-version</code> aby uniknąć drukowania numeru wersji lub dodać odpowiednie ustawienie do pliku konfiguracyjnego.</div>
<h3><span class="mw-headline" id="Zaimportuj_klucz_publiczny">Zaimportuj klucz publiczny</span></h3>
<p>Aby szyfrować wiadomości innym osobom, a także weryfikować ich podpisy, potrzebujesz ich klucza publicznego. Aby zaimportować klucz publiczny z nazwą pliku <code><i>public.key</i></code> do twojego publicznego breloczka
</p>
<pre>$ gpg --import <i>public.key</i>
</pre>
<p>Alternatywnie, <a href="#U%C5%BCyj_serwera_kluczy">#Użyj serwera kluczy</a> aby znaleźć klucz publiczny.
</p>
<h3>
<span id="U.C5.BCyj_serwera_kluczy"></span><span class="mw-headline" id="Użyj_serwera_kluczy">Użyj serwera kluczy</span>
</h3>
<p>Możesz zarejestrować swój klucz za pomocą publicznego serwera kluczy PGP, aby inni mogli odzyskać klucz bez konieczności bezpośredniego kontaktu z Tobą:
</p>
<pre>$ gpg --send-keys <i>user-id</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Po przesłaniu klucza do serwera kluczy nie można go usunąć z serwera.<a rel="nofollow" class="external autonumber" href="https://pgp.mit.edu/faq.html">[2]</a>
</div>
<p>Aby poznać szczegóły klucza na serwerze kluczy, bez importowania go, wykonaj następujące czynności:
</p>
<pre>$ gpg --search-keys <i>user-id</i>
</pre>
<p>Aby zaimportować klucz z serwera kluczy:
</p>
<pre>$ gpg --recv-keys <i>key-id</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Powinieneś zweryfikować autentyczność pobranego klucza publicznego, porównując jego odcisk palca z tym, który właściciel opublikował w niezależnym źródle (np. Kontaktując się bezpośrednio z osobą). Zobacz <a href="https://en.wikipedia.org/wiki/Public_key_fingerprint" class="extiw" title="wikipedia:Public key fingerprint">Wikipedia:Public key fingerprint</a> po więcej informacji.</li>
<li>Używanie krótkiego ID może napotkać na kolizje. Wszystkie klucze zostaną zaimportowane z krótkim identyfikatorem. Aby tego uniknąć, należy użyć pełnego identyfikatora odcisku palca lub długiego identyfikatora klucza podczas odbierania klucza. <a rel="nofollow" class="external autonumber" href="https://lore.kernel.org/lkml/20160815153401.9EC2BADC2C@smtp.postman.i2p/">[3]</a>
</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Dodanie <code>keyserver-options auto-key-retrieve</code> do <code>gpg.conf</code> automatycznie pobierze klucze z serwera kluczy w razie potrzeby.</li>
<li>Alternatywny serwer kluczy to <code>pool.sks-keyservers.net</code> i można go określić za pomocą <code>keyserver</code> w <code>dirmngr.conf</code>; Zobacz też <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)#Keyserver_examples" class="extiw" title="wikipedia:Key server (cryptographic)">wikipedia:Key server (cryptographic)#Keyserver examples</a>.</li>
<li>Jeśli twoja sieć blokuje porty używane dla hkp / hkps, być może musisz podać port 80, tzn. <code>pool.sks-keyservers.net:80</code>
</li>
<li>Możesz połączyć się z serwerem kluczy przez <a href="../en/Tor.html" title="Tor">Tor</a> używając <code>--use-tor</code>. Zobacz <a rel="nofollow" class="external text" href="https://gnupg.org/blog/20151224-gnupg-in-november-and-december.html">GnuPG blog post</a> po więcej informacji.</li>
<li>Możesz połączyć się z serwerem kluczy za pomocą serwera proxy, ustawiając opcję <code>http_proxy</code> Zmienna i ustawienie środowiska <code>honor-http-proxy</code> w <code>dirmngr.conf</code>. Ewentualnie ustaw <code>http-proxy <i>host[:port]</i></code> w <code>dirmngr.conf</code>, przesłonięte <code>http_proxy</code>Zmienna środowiskowa.</li>
<li>Jeśli chcesz zaimportować identyfikator klucza, aby zainstalować konkretny pakiet Arch Linux, Zobacz <a href="../en/Pacman/Package_signing.html#Managing_the_keyring" title="Pacman/Package signing">pacman/Package signing#Managing the keyring</a> i <a href="../en/Makepkg.html#Signature_checking" title="Makepkg">Makepkg#Signature checking</a>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Szyfrowanie_i_odszyfrowanie">Szyfrowanie i odszyfrowanie</span></h3>
<h4><span class="mw-headline" id="Asymetryczne">Asymetryczne</span></h4>
<p>Musisz <a href="#Zaimportuj_klucz_publiczny">zaimportować klucz publiczny</a> użytkownika przed szyfrowaniem (opcje <code>--encrypt</code> or <code>-e</code>) pliku lub wiadomości do danego odbiorcy (opcje <code>--recipient</code> or <code>-r</code>). Dodatkowo musisz <a href="#Utw%C3%B3rz_par%C4%99_kluczy">Utworzyć parę kluczy</a> jeśli jeszcze tego nie zrobiłeś.
</p>
<p>Aby zaszyfrować plik o nazwie "doc", użyj:
</p>
<pre>$ gpg --recipient <i>user-id</i> --encrypt <i>doc</i>
</pre>
<p>Aby odszyfrować (opcja <code>--decrypt</code> lub <code>-d</code>) zaszyfrowany kluczem publicznym plik o nazwie <i> doc </i>.gpg za pomocą klucza prywatnego, użyj:
</p>
<pre>$ gpg --output <i>doc</i> --decrypt <i>doc</i>.gpg
</pre>
<p><i> gpg </i> poprosi cię o podanie hasła, a następnie odszyfruje i zapisze dane z <i> doc </i>. gpg do <i> doc </i>. Jeśli pominiesz <code>-o</code> (<code>--output</code>) opcje, <i>gpg</i> zapisze odszyfrowane dane na standardowe wyjście.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Dodaj <code>--armor</code> zaszyfrować plik przy użyciu zbroi ASCII (nadaje się do kopiowania i wklejania wiadomości w formacie tekstowym)</li>
<li>Używająć <code>-R <i>user-id</i></code> lub <code>--hidden-recipient <i>user-id</i></code> zamiast <code>-r</code> nie umieszczać identyfikatorów kluczy odbiorców w zaszyfrowanej wiadomości. Pomaga to ukryć odbiorców wiadomości i stanowi ograniczony środek zaradczy przeciwko analizie ruchu.</li>
<li>Dodaj <code>--no-emit-version</code> aby uniknąć drukowania numeru wersji lub dodać odpowiednie ustawienie do pliku konfiguracyjnego.</li>
<li>Możesz użyć gnupg do zaszyfrowania poufnych dokumentów za pomocą własnego identyfikatora użytkownika jako odbiorcy lub używając <code>--default-recipient-self</code> zamiast tego flaga; można jednak wykonać tylko ten jeden plik naraz, chociaż zawsze można zarchiwizować różne pliki, a następnie zaszyfrować plik tar. Zobacz też <a href="../en/Data-at-rest_encryption.html#Available_methods" class="mw-redirect" title="Disk encryption">Disk encryption#Available methods</a> jeśli chcesz zaszyfrować katalogi lub cały system plików.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Symetryczne">Symetryczne</span></h4>
<p>Szyfrowanie symetryczne nie wymaga generowania pary kluczy i może być używane do prostego szyfrowania danych za pomocą hasła. Po prostu użyj <code>--symmetric</code> lub <code>-c</code> aby wykonać szyfrowanie symetryczne:
</p>
<pre>$ gpg -c <i>doc</i>
</pre>
<p>Poniższy przykład:
</p>
<ul>
<li>Szyfruje <code><i>doc</i></code> z symetrycznym szyfrem za pomocą hasła</li>
<li>Używa algorytmu szyfrowania AES-256 do szyfrowania hasła</li>
<li>Korzysta z algorytmu skrótu SHA-512, aby pomieszać hasło</li>
<li>Miesza hasło 65536 razy</li>
</ul>
<pre>$ gpg -c --s2k-cipher-algo AES256 --s2k-digest-algo SHA512 --s2k-count 65536 <i>doc</i>
</pre>
<p>Aby odszyfrować symetrycznie zaszyfrowany <code><i>doc</i>.gpg</code> za pomocą hasła i wypakować odszyfrowane treści do tego samego katalogu, co <code><i>doc</i></code>:
</p>
<pre>$ gpg --output <i>doc</i> --decrypt <i>doc</i>.gpg
</pre>
<h2><span class="mw-headline" id="Konserwacja_kluczy">Konserwacja kluczy</span></h2>
<h3>
<span id="Zr.C3.B3b_kopi.C4.99_swojego_klucza_prywatnego"></span><span class="mw-headline" id="Zrób_kopię_swojego_klucza_prywatnego">Zrób kopię swojego klucza prywatnego</span>
</h3>
<p>Aby wykonać kopię zapasową klucza prywatnego, wykonaj następujące czynności:
</p>
<pre>$ gpg --export-secret-keys --armor <i>&lt;user-id&gt;</i> &gt; <i>privkey.asc</i>
</pre>
<p>Zwróć uwagę, że "gpg" wersja 2.1 zmieniła domyślne zachowanie, więc powyższe polecenie wymusza ochronę hasłem, nawet jeśli świadomie zdecydowałeś się nie używać go przy tworzeniu klucza. Jest tak, ponieważ w przeciwnym razie każdy, kto uzyska dostęp do powyższego wyeksportowanego pliku, będzie mógł szyfrować i podpisywać dokumenty tak, jakby były "bez", które wymagają znajomości hasła.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Hasło jest zwykle najsłabszym ogniwem chroniącym twój tajny klucz. Umieść klucz prywatny w bezpiecznym miejscu w innym systemie / urządzeniu, takim jak zamknięty pojemnik lub zaszyfrowany dysk. Jest to jedyne bezpieczeństwo, które musisz odzyskać na swoim kluczyku w przypadku, na przykład, awarii napędu, kradzieży lub gorszych.</div>
<p>Aby zaimportować kopię zapasową klucza prywatnego:
</p>
<pre>$ gpg --import <i>privkey.asc</i>
</pre>
<h3>
<span id="Zr.C3.B3b_kopi.C4.99_certyfikatu_uniewa.C5.BCniaj.C4.85cego"></span><span class="mw-headline" id="Zrób_kopię_certyfikatu_unieważniającego">Zrób kopię certyfikatu unieważniającego</span>
</h3>
<p>Certyfikaty unieważniające są generowane automatycznie dla nowo wygenerowanych kluczy. One domyślnie są usytuowane w <code>~/.gnupg/openpgp-revocs.d/</code>. Nazwa pliku tego certyfikatu jest odciskiem palca klucza, którego unieważnia.
Certyfikat unieważniający może zostać również ręcznie wygenerowany przez użytkownika użwywając:
</p>
<pre>$ gpg --gen-revoke --armor --output <i>revcert</i>.asc <i>user-id</i>
</pre>
<p>Ten certyfikat może zostać wykorzystany do <a href="#Revoke_a_key">Unieważnienia klucza</a>, jeśli ten zostanie kiedyś zgubiony lub skompromitowany. Kopia zapasowa jest dlatego właśnie ważna, ponieważ gdy stracimy dostęp do prywatnego klucza, nie będziemy w stanie już później wygenerować takiego certyfikatu, jak za pomocą wyżej wymienionej komendy. Jest on na tyle krótki, aby został wydrukowany i wpisany ręcznie, gdy zajdzie taka potrzeba.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Każdy z dostępem do takiego certyfikatu może unieważnić klucz publicznie, a tego już nie można odwrócić. Strzeż swoich certyfikatów tak jak strzeżesz swoich kluczy.</div>
<h3>
<span id="Edytuj_sw.C3.B3j_klucz"></span><span class="mw-headline" id="Edytuj_swój_klucz">Edytuj swój klucz</span>
</h3>
<p>Uruchomienie polecenia <code>gpg --edit-key <i>&lt;user-id&gt;</i></code>  wyświetli menu, które pozwoli ci wykonać większość kluczowych zadań związanych z zarządzaniem.
</p>
<p>Kilka przydatnych poleceń w podmenu edycji kluczy:
</p>
<pre>&gt; passwd       # change the passphrase
&gt; clean        # compact any user ID that is no longer usable (e.g revoked or expired)
&gt; revkey       # revoke a key
&gt; addkey       # add a subkey to this key
&gt; expire       # change the key expiration time
</pre>
<p>Typ <code>help</code> w podmenu edycji kluczy, aby uzyskać więcej poleceń.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Jeśli masz wiele kont e-mail, możesz dodać każdą z nich jako tożsamość, używając <code>adduid</code> komenda. Możesz wtedy ustawić swój ulubiony jako <code>primary</code>.</div>
<h3><span class="mw-headline" id="Eksportowanie_podklucza">Eksportowanie podklucza</span></h3>
<p>Jeśli zamierzasz używać tego samego klucza na wielu urządzeniach, możesz usunąć klucz główny i przechowywać tylko minimalny podklucz szyfrowany na mniej bezpiecznych systemach.
</p>
<p>Najpierw sprawdź, który podklucz chcesz wyeksportować.
</p>
<pre>$ gpg -K
</pre>
<p>Wybierz tylko ten podklucz do eksportu.
</p>
<pre>$ gpg -a --export-secret-subkeys [subkey id]! &gt; /tmp/subkey.gpg
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Jeśli zapomnisz dodać !, wszystkie twoje podklucze zostaną wyeksportowane.</div>
<p>W tym momencie możesz przestać, ale najprawdopodobniej dobrze jest również zmienić hasło. Zaimportuj klucz do folderu tymczasowego.
</p>
<pre>$ gpg --homedir /tmp/gpg --import /tmp/subkey.gpg
$ gpg --homedir /tmp/gpg --edit-key <i>&lt;user-id&gt;</i>
&gt; passwd
&gt; save
$ gpg --homedir /tmp/gpg -a --export-secret-subkeys [subkey id]! &gt; /tmp/subkey.altpass.gpg
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Otrzymasz ostrzeżenie, że klucz główny nie był dostępny, a hasło nie zostało zmienione, ale można je bezpiecznie zignorować, tak jak hasło podklucza.</div>
<p>W tym momencie możesz teraz użyć <code>/tmp/subkey.altpass.gpg</code> na innych urządzeniach.
</p>
<h3><span class="mw-headline" id="Rotacja_podkluczy">Rotacja podkluczy</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <b>Nigdy</b> nie usuwaj wygasłych lub cofniętych podkluczów, chyba że masz dobry powód. Spowoduje to utratę możliwości odszyfrowywania plików zaszyfrowanych przy użyciu starego podklucza. Usuwaj <b>tylko</b> klucze wygasłe lub unieważnione od innych użytkowników w celu wyczyszczenia kluczy.</div>
<p>Jeśli ustawiłeś podklucze, aby wygasły po określonym czasie, możesz utworzyć nowe. Zrób to z kilkutygodniowym wyprzedzeniem, aby inni mogli zaktualizować swoją bazę kluczy.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Nie musisz tworzyć nowego klucza tylko dlatego, że wygasł. Możesz przedłużyć datę wygaśnięcia.</div>
<p>Utwórz nowy podklucz (powtórz dla podpisu i klucza szyfrowania)
</p>
<pre>$ gpg --edit-key <i>&lt;user-id&gt;</i>
&gt; addkey
</pre>
<p>I odpowiedz na następujące pytania, które prosi (patrz<a href="#Utw%C3%B3rz_par%C4%99_kluczy">#Utwórz parę kluczy</a> dla sugerowanych ustawień).
</p>
<p>Zapisz zmiany
</p>
<pre>&gt; save
</pre>
<p>Zaktualizuj go do serwera kluczy.
</p>
<pre>$ gpg --keyserver pgp.mit.edu --send-keys <i>&lt;user-id&gt;</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Odwołanie wygasłych podkluczy jest niepotrzebną i prawdopodobnie złą formą. Jeśli stale odnawiasz klucze, może to spowodować, że inni nie będą mieli do ciebie zaufania.</div>
<h3>
<span id="Uniewa.C5.BCnij_klucz"></span><span class="mw-headline" id="Unieważnij_klucz">Unieważnij klucz</span>
</h3>
<p>Unieważnienie klucza powinno się wykonać gdy klucz zostanie skompromitowany, zastąpiony, jest już nieużywany lub gdy zapomnisz do niego swojego hasła. Wykonuje się to scalając klucz z certyfikatem unieważnienia.
</p>
<p>Jeśli już nie masz dostępu do swojej pary kluczy, wpierw <a href="#Zaimportuj_klucz_publiczny">#Zaimportuj klucz publiczny</a> by zaimportować własny klucz. Wtedy, by unieważnić swój klucz, zaimportuj plik zapisany w <a href="#Zr%C3%B3b_kopi%C4%99_certyfikatu_uniewa%C5%BCniaj%C4%85cego">#Zrób kopię certyfikatu unieważniającego</a>:
</p>
<pre>$ gpg --import <i>revcert</i>.asc
</pre>
<p>Teraz uniważnienie musi zostać upublicznione. <a href="#U%C5%BCyj_serwera_kluczy">#Użyj serwera kluczy</a> by wysłać swój unieważniony klucz do serwera PGP jeśli takiego wcześniej użyłeś, w przeciwnym razie, eksportuj unieważniony klucz do pliku i roześlij do osób z którymi się komunikujesz.
</p>
<h2><span class="mw-headline" id="Podpisy">Podpisy</span></h2>
<p>Podpisy potwierdzają i znakują czasowo dokumenty. Jeśli dokument zostanie zmodyfikowany, weryfikacja podpisu nie powiedzie się. W przeciwieństwie do szyfrowania, które wykorzystuje klucze publiczne do szyfrowania dokumentu, podpisy tworzone są za pomocą klucza prywatnego. Odbiorca podpisanego dokumentu sprawdza następnie podpis za pomocą klucza publicznego nadawcy.
</p>
<h3>
<span id="Utw.C3.B3rz_podpis"></span><span class="mw-headline" id="Utwórz_podpis">Utwórz podpis</span>
</h3>
<h4><span class="mw-headline" id="Zarejestruj_plik">Zarejestruj plik</span></h4>
<p>Aby podpisać plik, użyj <code>--sign</code> lub <code>-s</code> flaga:
</p>
<pre> $ gpg --output <i>doc</i>.sig --sign <i>doc</i>
</pre>
<p><code><i>doc</i>.sig</code> zawiera zarówno skompresowaną zawartość oryginalnego pliku <code><i>doc</i></code>, jak i podpis w formacie binarnym, ale plik nie jest zaszyfrowany. możesz łączyć podpisywanie z <a href="#Szyfrowanie_i_odszyfrowanie">szyfrowaniem</a>
</p>
<h4><span class="mw-headline" id="Clearsign_a_file_or_message">Clearsign a file or message</span></h4>
<p>Aby podpisać plik bez kompresowania go do formatu binarnego użyj:
</p>
<pre> $ gpg --output <i>doc</i>.sig --clearsign <i>doc</i>
</pre>
<p>Tutaj zarówno zawartość oryginalnej dokumentacji <code><i>doc</i></code>, jak i podpis są przechowywane w formie czytelnej dla człowieka w pliku <code><i>doc</i>.sig</code>.
</p>
<h4>
<span id="Utw.C3.B3rz_oddzielny_podpis"></span><span class="mw-headline" id="Utwórz_oddzielny_podpis">Utwórz oddzielny podpis</span>
</h4>
<p>Aby utworzyć oddzielny plik podpisu, który ma być dystrybuowany oddzielnie od samego dokumentu lub pliku, użyj flagi <code>--detach-sig</code>
</p>
<pre> $ gpg --output <i>doc</i>.sig --detach-sig <i>doc</i>
</pre>
<p>Tutaj podpis jest przechowywany w <code><i>doc</i>.sig</code>, ale zawartość <code><i>doc</i></code> nie jest w nim zapisana. Ta metoda jest często używana w dystrybucji oprogramowania, aby umożliwić użytkownikom sprawdzenie, czy program nie został zmodyfikowany przez stronę trzecią.
</p>
<h3><span class="mw-headline" id="Zweryfikuj_podpis">Zweryfikuj podpis</span></h3>
<p>Aby zweryfikować podpis, użyj flagi <code>--verify</code>
</p>
<pre> $ gpg --verify <i>doc</i>.sig
</pre>
<p>gdzie <code><i>doc</i>.sig</code> to podpisany plik zawierający podpis, który chcesz zweryfikować.
</p>
<p>Jeśli sprawdzasz odłączony podpis, zarówno podpisany plik danych, jak i plik podpisu muszą być obecne podczas weryfikacji. Na przykład, aby sprawdzić najnowszą wersję iso Arch Linux, wykonaj:
</p>
<pre> $ gpg --verify archlinux-<i>version</i>.iso.sig
</pre>
<p>gdzie <code>archlinux-<i>version</i>.iso</code> musi znajdować się w tym samym katalogu.
</p>
<p>Można również określić podpisany plik danych z drugim argumentem:
</p>
<pre> $ gpg --verify archlinux-<i>version</i>.iso.sig <i>/path/to/</i>archlinux-<i>version</i>.iso
</pre>
<p>Jeśli plik został zaszyfrowany, oprócz podpisu, po prostu <a href="#Szyfrowanie_i_odszyfrowanie">odszyfruje</a> plik i jego podpis również zostaną zweryfikowane.
</p>
<h2><span class="mw-headline" id="gpg-agent">gpg-agent</span></h2>
<p><i>gpg-agent</i> jest najczęściej używany jako demon do żądania i buforowania hasła dla pęku kluczy. Jest to przydatne, jeśli GnuPG jest używany z zewnętrznego programu, takiego jak klient poczty <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnupg">gnupg</a></span> przychodzi z <a href="../en/Systemd/User.html" title="Systemd/User">systemd user</a> gniazda, które są domyślnie włączone. Te gniazda są <code>gpg-agent.socket</code>, <code>gpg-agent-extra.socket</code>, <code>gpg-agent-browser.socket</code>, <code>gpg-agent-ssh.socket</code>, i <code>dirmngr.socket</code>.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Add <code>gpg-agent-browser.socket</code> to the list. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GnuPG.html">Talk:GnuPG (Polski)</a>)</div>
</div>
<ul>
<li>Główny <code>gpg-agent.socket</code> jest używany przez <i>gpg</i> do łączenia się z demonem <i>gpg-agent.</i>
</li>
<li>Celem użycia <code>gpg-agent-extra.socket</code> w systemie lokalnym jest skonfigurowanie przekazywania domeny unixowej z systemu zdalnego. Umożliwia to używanie <i>gpg</i> w systemie zdalnym bez narażania kluczy prywatnych w systemie zdalnym. Aby uzyskać szczegółowe informacje, patrz <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span>.</li>
<li>
<code>gpg-agent-ssh.socket</code> może być używany przez <a href="../en/Secure_Shell.html" class="mw-redirect" title="SSH">SSH</a> do buforowania <a href="../en/SSH_keys.html" title="SSH keys">kluczy SSH</a> dodanych przez program <i>ssh-add</i>. Zobacz <a href="#SSH_agent">#SSH agent</a> dla potrzebnej konfiguracji.</li>
<li>
<code>dirmngr.socket</code> uruchamia demona GnuPG obsługującego połączenia z serwerami kluczy.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Jeśli używasz innej niż domyślna lokalizacji GnuPG <a href="#Lokalizacja_katalogu">#Lokalizacja katalogu</a>, będziesz musiał edytować wszystkie pliki gniazd, aby użyć wartości <code>gpgconf --list-dirs</code>.</div>
<p>.
</p>
<h3><span class="mw-headline" id="Konfiguracja_2">Konfiguracja</span></h3>
<p>gpg-agent można skonfigurować za pomocą pliku <code>~/.gnupg/gpg-agent.conf</code>. Opcje konfiguracji są wymienione w <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span>. Na przykład możesz zmienić podręczne cache dla nieużywanych kluczy:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-cache-ttl 3600
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Aby zapisać w pamięci podręcznej hasło dla całej sesji, uruchom następujące polecenie:
<pre>$ /usr/lib/gnupg/gpg-preset-passphrase --preset XXXXXX
</pre>
<p>gdzie XXXX jest kluczem. Możesz uzyskać jego wartość podczas uruchamiania <code>gpg --with-keygrip -K</code>. Hasło zostanie zapisane, dopóki <code>gpg-agent</code> nie zostanie zrestartowany. Jeśli ustawisz wartość <code>default-cache-ttl</code>, będzie ona miała pierwszeństwo.
</p>
</div>
<h3>
<span id="Za.C5.82aduj_ponownie_agenta"></span><span class="mw-headline" id="Załaduj_ponownie_agenta">Załaduj ponownie agenta</span>
</h3>
<p>Po zmianie konfiguracji, ponownie załaduj agenta za pomocą <i>gpg-connect-agent</i>:
</p>
<pre>$ gpg-connect-agent reloadagent /bye
</pre>
<p>Polecenie powinno wyświetlić <code>OK</code>.
</p>
<p>Jednak w niektórych przypadkach tylko ponowne uruchomienie może nie być wystarczające, np. Gdy <code>keep-screen</code> został dodany do konfiguracji agenta. W takim przypadku najpierw musisz zabić trwający proces gpg-agent, a następnie możesz go ponownie uruchomić, jak wyjaśniono powyżej.
</p>
<h3><span class="mw-headline" id="pinentry">pinentry</span></h3>
<p>Wreszcie, agent musi wiedzieć, jak poprosić użytkownika o hasło. Można to ustawić w pliku konfiguracyjnym gpg-agent.
</p>
<p>Domyślne używa okna dialogowego gtk. Dostępne są inne opcje - patrz informacja o pinentry. Aby zmienić konfigurację okna dialogowego, ustaw konfigurację programu <code>pinentry-program</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

# PIN entry program
# pinentry-program /usr/bin/pinentry-curses
# pinentry-program /usr/bin/pinentry-qt
# pinentry-program /usr/bin/pinentry-kwallet

pinentry-program /usr/bin/pinentry-gtk-2
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Aby użyć <code>/usr/bin/pinentry-kwallet</code>, musisz zainstalować pakiet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kwalletcli/">kwalletcli</a></span><sup><small>AUR</small></sup> pakiet.</div>
<p>Po wprowadzeniu tej zmiany, ponownie załaduj gpg-agent.
</p>
<h3>
<span id="Bezobs.C5.82ugowe_has.C5.82o"></span><span class="mw-headline" id="Bezobsługowe_hasło">Bezobsługowe hasło</span>
</h3>
<p>Począwszy od GnuPG 2.1.0, wymagane jest użycie gpg-agent i pinentry, co może przełamać kompatybilność wsteczną dla haseł wprowadzanych przez STDIN za pomocą opcji <code>--passphrase-fd 0</code>. Aby mieć ten sam typ funkcjonalności co starsze wersje, należy zrobić dwie rzeczy:
</p>
<p>Najpierw edytuj konfigurację gpg-agent, aby umożliwić tryb pracy z <i>loopback</i>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">allow-loopback-pinentry</pre>
<p>Zrestartuj proces gpg-agent, jeśli jest uruchomiony, aby zmiana zaczęła obowiązywać.
</p>
<p>Po drugie, albo aplikacja musi zostać zaktualizowana, aby zawierała parametr wiersza poleceń, aby użyć trybu pętli zwrotnej, jak na przykład:
</p>
<pre>$ gpg --pinentry-mode loopback ...
</pre>
<p>...lub jeśli nie jest to możliwe, dodaj opcję do konfiguracji:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pinentry-mode loopback</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The upstream author indicates setting <code>pinentry-mode loopback</code> in <code>gpg.conf</code> may break other usage, using the commandline option should be preferred if at all possible. <a rel="nofollow" class="external autonumber" href="https://dev.gnupg.org/T1772">[4]</a>
</div>
<h3><span class="mw-headline" id="SSH_agent">SSH agent</span></h3>
<p><i>gpg-agent</i> ma emulację agenta OpenSSH. Jeśli już korzystasz z pakietu GnuPG, możesz rozważyć użycie jego agenta do buforowania <a href="../en/SSH_keys.html" title="SSH keys">SSH keys</a> Ponadto niektórzy użytkownicy mogą preferować okno dialogowe wprowadzania kodu PIN, które zapewnia agent GnuPG w ramach zarządzania hasłami.
</p>
<h4><span class="mw-headline" id="Set_SSH_AUTH_SOCK">Set SSH_AUTH_SOCK</span></h4>
<p>Musisz ustawić <code>SSH_AUTH_SOCK</code>, aby SSH używał <i>gpg-agent</i> zamiast <i>ssh-agent</i>. Aby upewnić się, że każdy proces może znaleźć Twoją instancję gpg-agent niezależnie od np. typ powłoki jest dzieckiem użytkowania <a href="../en/Environment_variables.html#Using_pam_env" title="Environment variables">pam_env</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/environment.d/50-ssh_auth_sock.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SSH_AGENT_PID	DEFAULT=
SSH_AUTH_SOCK	DEFAULT="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Jeśli ustawisz <code>SSH_AUTH_SOCK</code> ręcznie (na przykład w tym przykładzie pam_env), pamiętaj, że lokalizacja gniazda może być inna, jeśli używasz niestandardowego <code>GNUPGHOME</code>. Możesz użyć poniższego przykładu bash lub zmienić <code>SSH_AUTH_SOCK</code> na wartość <code>gpgconf --list-dirs agent-ssh-socket</code>.</div>
<p>Ewentualnie zależą od Bash. Działa to również w przypadku niestandardowych lokalizacji gniazd:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">unset SSH_AGENT_PID
if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
  export SSH_AUTH_SOCK="$(gpgconf --list-dirs agent-ssh-socket)"
fi</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The test involving the <code>gnupg_SSH_AUTH_SOCK_by</code> variable is for the case where the agent is started as <code>gpg-agent --daemon /bin/sh</code>, in which case the shell inherits the <code>SSH_AUTH_SOCK</code> variable from the parent, <i>gpg-agent</i> <a rel="nofollow" class="external autonumber" href="https://git.gnupg.org/cgi-bin/gitweb.cgi?p=gnupg.git;a=blob;f=agent/gpg-agent.c;hb=7bca3be65e510eda40572327b87922834ebe07eb#l1307">[5]</a>.</div>
<h4>
<span id="Skonfiguruj_pinentry.2C_aby_u.C5.BCy.C4.87_prawid.C5.82owego_TTY"></span><span class="mw-headline" id="Skonfiguruj_pinentry,_aby_użyć_prawidłowego_TTY">Skonfiguruj pinentry, aby użyć prawidłowego TTY</span>
</h4>
<p>Ustaw również GPG_TTY i odśwież TTY, jeśli użytkownik przełączył się w sesję X, jak podano w <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span>. Na przykład:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set GPG TTY
export GPG_TTY=$(tty)

# Refresh gpg-agent tty in case user switches into an X session
gpg-connect-agent updatestartuptty /bye &gt;/dev/null
</pre>
<h4><span class="mw-headline" id="Dodaj_klucze_SSH">Dodaj klucze SSH</span></h4>
<p>Po uruchomieniu <i>gpg-agent</i> możesz użyć <i>ssh-add</i> do zatwierdzenia kluczy, wykonując te same kroki, co dla <a href="../en/SSH_keys.html#ssh-agent" title="SSH keys">ssh-agent</a>. Lista zatwierdzonych kluczy przechowywana jest w pliku <code>~/.gnupg/sshcontrol</code>.
</p>
<p>Po zatwierdzeniu klucza, za każdym razem, gdy potrzebne jest hasło, otrzymasz okno dialogowe z danymi. Możesz kontrolować buforowanie hasła w pliku <code>~/.gnupg/gpg-agent.conf</code>. W poniższym przykładzie <i>gpg-agent</i> będzie przechowywać klucze w pamięci podręcznej przez 3 godziny:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-cache-ttl-ssh 10800
max-cache-ttl-ssh 10800
</pre>
<h4>
<span id="U.C5.BCyj_klucza_GPG_jako_klucza_SSH"></span><span class="mw-headline" id="Użyj_klucza_GPG_jako_klucza_SSH">Użyj klucza GPG jako klucza SSH</span>
</h4>
<p>Jeśli używasz <i>gpg-agent</i> jako agent SSH, możesz użyć swojego klucza GnuPG jako klucza SSH. Zmniejsza to kluczową konserwację i możesz przechowywać klucz SSH na karcie dostępu. Musisz utworzyć klucz z funkcją uwierzytelniania (patrz <a href="#Niestandardowe_funkcje">#Niestandardowe funkcje</a>). GnuPG automatycznie użyje tego klucza, jeśli będzie to konieczne. Aby sprawdzić, czy klucz został dodany, uruchom:
</p>
<pre>$ ssh-add -l
</pre>
<p>Komentarz do klucza powinien wyglądać tak: <code>openpgp:<i>key-id</i></code> <code>cardno:<i>card-id</i></code><i>.</i>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GnuPG może nie dodać twojego klucza GnuPG do $ <code>$GNUPGHOME/sshcontrol</code>, gdzie znajdują się "normalne" klucze SSH.</div>
<h2><span class="mw-headline" id="Smartcards">Smartcards</span></h2>
<p>GnuPG używa scdaemona jako interfejsu do czytnika kart inteligentnych. Szczegółowe informacje znajdują się w <a href="../en/Man_page.html" title="Man page">man page</a>
</p>
<h3><span class="mw-headline" id="GnuPG_only_setups">GnuPG only setups</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Aby umożliwić scdaemonowi bezpośredni dostęp do czytników kart USB smar, musi być zainstalowana opcjonalna zależność <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libusb-compat">libusb-compat</a></span>.</div>
<p>Jeśli nie planujesz używać innych kart oprócz tych opartych na GnuPG, powinieneś sprawdzić parametr port-czytnika w <code>~/.gnupg/scdaemon.conf</code>. Wartość "0" odnosi się do pierwszego dostępnego czytnika portów szeregowych, a wartość "32768" (domyślnie) odnosi się do pierwszego czytnika USB.
</p>
<h3>
<span id="GnuPG_z_pcscd_.28PCSC_Lite.29"></span><span class="mw-headline" id="GnuPG_z_pcscd_(PCSC_Lite)">GnuPG z pcscd (PCSC Lite)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Należy zainstalować <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsclite">pcsclite</a></span> i <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccid">ccid</a></span> a zawarta usługa <a href="../en/Systemd.html#Using_units" title="Systemd">systemd</a> <code>pcscd.service</code> musi być uruchomiona, lub gniazdo pcscd.socket musi nasłuchiwać.</div>
<p>pcscd to demon, który obsługuje dostęp do karty inteligentnej (SCard API). Jeśli scduemon GnuPG nie połączy bezpośrednio karty inteligentnej (np. Za pomocą zintegrowanej obsługi CCID), będzie się starał znaleźć kartę elektroniczną za pomocą sterownika PCSC Lite.
</p>
<h4>
<span id="Zawsze_u.C5.BCywaj_pcscd"></span><span class="mw-headline" id="Zawsze_używaj_pcscd">Zawsze używaj pcscd</span>
</h4>
<p>Jeśli używasz jakiejkolwiek karty inteligentnej ze sterownikiem opensc (np .: karty identyfikacyjne z niektórych krajów) powinieneś zwrócić uwagę na konfigurację GnuPG. Po wyjęciu z pudełka możesz otrzymać wiadomość podobną do tej, gdy używasz <code>gpg --card-status</code>
</p>
<pre>gpg: selecting openpgp failed: ec=6.108
</pre>
<p>Domyślnie scdaemon będzie próbował łączyć się bezpośrednio z urządzeniem. To połączenie zakończy się niepowodzeniem, jeśli czytnik będzie używany przez inny proces. Na przykład: demon pcscd używany przez OpenSC. Aby poradzić sobie z tą sytuacją, powinniśmy użyć tego samego sterownika, co opensc, aby mogli dobrze współpracować. W celu wskazania scdaemona do użycia pcscd powinieneś usunąć <code>reader-port</code> z <code>~/.gnupg/scdaemon.conf</code>, określić lokalizację biblioteki <code>libpcsclite.so</code> i wyłączyć ccid, abyśmy upewnili się, że używamy pcscd:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/scdaemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcsc-driver /usr/lib/libpcsclite.so
card-timeout 5
disable-ccid
</pre>
<p>Sprawdź <span class="plainlinks archwiki-template-man" title="$ man 1 scdaemon"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/scdaemon.1">scdaemon(1)</a></span>, jeśli nie korzystasz z OpenSC.
</p>
<h2>
<span id="Porady_i_wskaz.C3.B3wki"></span><span class="mw-headline" id="Porady_i_wskazówki">Porady i wskazówki</span>
</h2>
<h3><span class="mw-headline" id="Inny_algorytm">Inny algorytm</span></h3>
<p>Możesz użyć silniejszych algorytmów:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

personal-digest-preferences SHA512
cert-digest-algo SHA512
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed
personal-cipher-preferences TWOFISH CAMELLIA256 AES 3DES
</pre>
<p>W najnowszej wersji GnuPG domyślnymi algorytmami są SHA256 i AES, które są wystarczająco bezpieczne dla większości ludzi. Jeśli jednak używasz wersji GnuPG starszej niż 2.1 lub chcesz uzyskać jeszcze wyższy poziom bezpieczeństwa, wykonaj powyższy krok.
</p>
<h3>
<span id="Zaszyfruj_has.C5.82o"></span><span class="mw-headline" id="Zaszyfruj_hasło">Zaszyfruj hasło</span>
</h3>
<p>Przydaje się szyfrowanie hasła, więc nie będzie ono zapisane w pliku konfiguracyjnym. Dobrym przykładem jest twoje hasło e-mail.
</p>
<p>Najpierw utwórz plik z hasłem. Po podaniu hasła musisz zostawić jedną pustą linię, w przeciwnym razie gpg zwróci komunikat o błędzie podczas oceniania pliku.
</p>
<p>Następnie uruchom:
</p>
<pre>$ gpg -e -a -r <i>&lt;user-id&gt;</i> <i>your_password_file</i>
</pre>
<p><code>-e</code> is for encrypt, <code>-a</code> for armor (ASCII output), <code>-r</code> for recipient user ID.
</p>
<p>Zostaniesz z nowym plikiem <code><i>your_password_file</i>.asc</code>
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a href="../en/Pass.html" title="Pass">pass</a> automatyzuje ten proces.</div>
<h3>
<span id="Odwo.C5.82ywanie_klucza"></span><span class="mw-headline" id="Odwoływanie_klucza">Odwoływanie klucza</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Każdy, kto ma dostęp do Twojego certyfikatu unieważnienia, może odwołać klucz, czyniąc go bezużytecznym.</li>
<li>Odwołanie klucza powinno być wykonywane tylko w przypadku złamania lub zgubienia klucza, lub zapomnienia hasła.</li>
</ul>
</div>
<p>Certyfikaty unieważnienia są generowane automatycznie dla nowo wygenerowanych kluczy, chociaż jeden z nich może zostać wygenerowany ręcznie przez użytkownika później. Są one zlokalizowane w <code>~/.gnupg/openpgp-revocs.d/</code>. Nazwa pliku certyfikatu to odcisk palca klucza, który zostanie odwołany.
</p>
<p>Aby unieważnić klucz, wystarczy zaimportować certyfikat unieważnienia:
</p>
<pre>$ gpg --import <i>&lt;fingerprint&gt;</i>.rev
</pre>
<p>Teraz zaktualizuj serwer kluczy:
</p>
<pre>$ gpg --keyserver subkeys.pgp.net --send-keys <i>&lt;userid&gt;</i>
</pre>
<h3><span class="mw-headline" id="Change_trust_model">Change trust model</span></h3>
<p>By default GnuPG uses the <a href="https://en.wikipedia.org/wiki/Web_of_Trust" class="extiw" title="wikipedia:Web of Trust">Web of Trust</a> as the trust model. You can change this to <a href="https://en.wikipedia.org/wiki/Trust_on_first_use" class="extiw" title="wikipedia:Trust on first use">Trust on first use</a> by adding <code>--trust-model=tofu</code> when adding a key or adding this option to your GnuPG configuration file. More details are in <a rel="nofollow" class="external text" href="https://lists.gnupg.org/pipermail/gnupg-devel/2015-October/030341.html">this email to the GnuPG list</a>.
</p>
<h3>
<span id="Ukryj_wszystkie_identyfikatory_odbiorc.C3.B3w"></span><span class="mw-headline" id="Ukryj_wszystkie_identyfikatory_odbiorców">Ukryj wszystkie identyfikatory odbiorców</span>
</h3>
<p>Domyślnie identyfikator klucza odbiorcy znajduje się w zaszyfrowanej wiadomości. Można go usunąć w czasie szyfrowania dla odbiorcy za pomocą ukrytego odbiorcy <code>hidden-recipient <i>&lt;user-id&gt;</i></code>. Aby usunąć go dla wszystkich odbiorców, dodaj <code>throw-keyids</code>  do pliku konfiguracyjnego. Pomaga to ukryć odbiorców wiadomości i stanowi ograniczony środek zaradczy przeciwko analizie ruchu. (Korzystając z małej inżynierii społecznej, każdy, kto potrafi odszyfrować wiadomość, może sprawdzić, czy jeden z pozostałych odbiorców jest tym, kogo podejrzewa.) Po stronie odbierającej może spowolnić proces deszyfrowania, ponieważ wszystkie dostępne klucze tajne muszą zostać wypróbowane ( np. z <code>--try-secret-key <i>&lt;user-id&gt;</i></code>).
</p>
<h3>
<span id="U.C5.BCywanie_caff_do_wysy.C5.82ania_kluczy_partiami"></span><span class="mw-headline" id="Używanie_caff_do_wysyłania_kluczy_partiami">Używanie caff do wysyłania kluczy partiami</span>
</h3>
<p>Aby umożliwić użytkownikom sprawdzanie poprawności kluczy w serwerach kluczy iw ich plikach kluczy (to znaczy upewnić się, że pochodzą od kogo się podają), PGP/GPG korzysta z <a href="https://en.wikipedia.org/wiki/Web_of_Trust" class="extiw" title="wikipedia:Web of Trust">Web of Trust</a>. Strony z kluczami pozwalają użytkownikom zebrać się w fizycznej lokalizacji, aby sprawdzić klucze. Protokół podpisywania kluczy <a href="https://en.wikipedia.org/wiki/Zimmermann%E2%80%93Sassaman_key-signing_protocol" class="extiw" title="wikipedia:Zimmermann–Sassaman key-signing protocol">Zimmermann-Sassaman</a> jest sposobem na uczynienie ich bardzo skutecznymi. Tutaj znajdziesz artykuł z instrukcjami.
</p>
<p>Aby ułatwić proces podpisywania kluczy i wysyłania podpisów do właścicieli po keysigning party możesz użyć narzędzia caff. Można go zainstalować z AUR z pakietem <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/caff-git/">caff-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>Aby wysłać podpisy do ich właścicieli, potrzebujesz działającego <a href="https://en.wikipedia.org/wiki/Message_transfer_agent" class="extiw" title="wikipedia:Message transfer agent">MTA</a>. Jeśli jeszcze go nie masz, zainstaluj <a href="../en/Msmtp.html" title="Msmtp">msmtp</a>.
</p>
<h3>
<span id="Zawsze_pokazuj_d.C5.82ugie_identyfikatory_i_odciski_palca"></span><span class="mw-headline" id="Zawsze_pokazuj_długie_identyfikatory_i_odciski_palca">Zawsze pokazuj długie identyfikatory i odciski palca</span>
</h3>
<p>Aby zawsze wyświetlać długie identyfikatory klucza, dodaj plik <code>keyid-format 0xlong</code>  do pliku konfiguracyjnego. Aby zawsze wyświetlać pełne <code>with-fingerprint</code> do pliku konfiguracyjnego.
</p>
<h3><span class="mw-headline" id="Niestandardowe_funkcje">Niestandardowe funkcje</span></h3>
<p>W celu dalszego dostosowania można również ustawić niestandardowe możliwości do kluczy. Dostępne są następujące możliwości:
</p>
<ul>
<li>Certify (tylko dla kluczy głównych) - pozwala kluczowi tworzyć podklucze, obowiązkowe dla kluczy głównych.</li>
<li>Sign - pozwala kluczowi tworzyć podpisy kryptograficzne, które inni mogą zweryfikować za pomocą klucza publicznego.</li>
<li>Encrypt - umożliwia każdemu szyfrowanie danych za pomocą klucza publicznego, który tylko klucz prywatny może odszyfrować.</li>
<li>Authenticate - umożliwia uwierzytelnianie klucza za pomocą różnych programów innych niż GnuPG. Klucz może być użyty jako np. klucz SSH.</li>
</ul>
<p>Możliwe jest określenie możliwości klucza głównego, uruchamiając:
</p>
<pre>$ gpg --full-generate-key --expert
</pre>
<p>Wybierz opcję, która pozwala ustawić własne możliwości.
</p>
<p>Comparably, to specify custom capabilities for subkeys, add the <code>--expert</code> flag to <code>gpg --edit-key</code>, see <a href="#Edytuj_sw%C3%B3j_klucz">#Edytuj swój klucz</a> for more information.
</p>
<p>Porównywalnie, aby określić niestandardowe możliwości dla podkluczy, dodaj <code>--expert</code> flag to <code>gpg --edit-key</code> zobacz <a href="#Edytuj_sw%C3%B3j_klucz">#Edytuj swój klucz</a>, aby uzyskać więcej informacji.
</p>
<h3><span class="mw-headline" id="Cache_passwords">Cache passwords</span></h3>
<p>Aby otrzymać hasło do GnuPG tylko raz na sesję, ustaw <code>max-cache-ttl</code> i <code>default-cache-ttl</code> na coś bardzo wysokiego, na przykład:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">max-cache-ttl 60480000
default-cache-ttl 60480000
</pre>
<p>Zobacz <a href="#gpg-agent">#gpg-agent</a>.
</p>
<h2>
<span id="Rozwi.C4.85zywanie_problem.C3.B3w:"></span><span class="mw-headline" id="Rozwiązywanie_problemów:">Rozwiązywanie problemów:</span>
</h2>
<h3>
<span id="Nie_ma_wystarczaj.C4.85cej_liczby_losowych_bajt.C3.B3w"></span><span class="mw-headline" id="Nie_ma_wystarczającej_liczby_losowych_bajtów">Nie ma wystarczającej liczby losowych bajtów</span>
</h3>
<p>Podczas generowania klucza, gpg można napotkać ten błąd:
</p>
<pre>Not enough random bytes available. Please do some other work to give the OS a chance to collect more entropy!
</pre>
<p>Aby sprawdzić dostępną entropię, sprawdź parametry jądra:
</p>
<pre>cat /proc/sys/kernel/random/entropy_avail
</pre>
<p>Zdrowy system linuksowy z dużą dostępną entropią powróci do pełnej liczby 4096 bitów entropii. Jeśli wartość zwracana jest mniejsza niż 200, systemu zaczyna brakować entropii.
</p>
<p>Aby go rozwiązać, pamiętaj, że często nie trzeba tworzyć kluczy, a najlepiej robić to, co sugeruje komunikat (np. Tworzyć aktywność na dysku, poruszać myszą, edytować wiki - wszystko stworzy entropię). Jeśli to nie pomoże, sprawdź, która usługa wykorzystuje entropię i zastanów się, czy nie zatrzymać jej na czas. Jeśli to nie jest alternatywa, zobacz <a href="../en/Random_number_generation.html#Alternatives" title="Random number generation">Random number generation#Alternatives</a>.
</p>
<h3><span class="mw-headline" id="su">su</span></h3>
<p>Podczas używania <code>pinentry</code> musisz mieć odpowiednie uprawnienia urządzenia końcowego (np. <code>/dev/tty1</code>) w użyciu. Jednak w przypadku <i>su</i> (lub <i>sudo</i>) własność pozostaje z oryginalnym użytkownikiem, a nie nowym. Oznacza to, że pinentry zawiedzie, nawet jako root. Poprawka polega na zmianie uprawnień urządzenia w pewnym momencie przed użyciem pinentry (tj. Za pomocą gpg z agentem). Jeśli robisz gpg jako root, po prostu zmień właściciela na root przed użyciem gpg:
</p>
<pre># chown root /dev/ttyN  # where N is the current tty
</pre>
<p>a następnie zmienić go po użyciu gpg po raz pierwszy. Odpowiednik ten prawdopodobnie będzie true w <code>/dev/pts/</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Właściciel tty musi być zgodny z użytkownikiem, dla którego działa pinentry. Bycie częścią grupy <code>tty</code> <b>nie</b> wystarczy.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Jeśli uruchomisz gpg ze <code>script</code>, użyje on nowego tty z poprawną wartością:
<pre># script -q -c "gpg --gen-key" /dev/null
</pre>
</div>
<h3><span class="mw-headline" id="Agent_complains_end_of_file">Agent complains end of file</span></h3>
<p>Domyślnym programem pinentry jest pinentry-gtk-2, który do prawidłowego działania potrzebuje magistrali sesji DBus. Zobacz <a href="../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">General troubleshooting#Session permissions</a> szczegółowe informacje.
</p>
<p>Alternatywnie możesz użyć <code>pinentry-qt</code>. Zobacz <a href="#pinentry">#pinentry</a>.
</p>
<h3><span class="mw-headline" id="KGpg_configuration_permissions">KGpg configuration permissions</span></h3>
<p>Pojawiły się problemy z <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kgpg">kgpg</a></span> możliwością uzyskania dostępu do pliku <code>~/.gnupg/</code> options. Jeden problem może być wynikiem przestarzałego pliku opcji, zobacz raport o błędzie <a rel="nofollow" class="external text" href="https://bugs.kde.org/show_bug.cgi?id=290221">bug</a> report.
</p>
<h3>
<span id="GNOME_na_Wayland_zast.C4.99puje_gniazdo_agenta_SSH"></span><span class="mw-headline" id="GNOME_na_Wayland_zastępuje_gniazdo_agenta_SSH">GNOME na Wayland zastępuje gniazdo agenta SSH</span>
</h3>
<p>W przypadku sesji Wayland, <code>gnome-session</code> ustawia SSH_AUTH_SOCK na standardowe gniazdo gnome-keyring, $ <code>$XDG_RUNTIME_DIR/keyring/ssh</code>. To przesłoni wszelkie wartości ustawione w <code>~/.pam_environmment</code> lub systemd jednostek jednostkowych.
</p>
<p>Aby wyłączyć to zachowanie, ustaw zmienną <code>GSM_SKIP_AGENT_WORKAROUND</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.pam_environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SSH_AGENT_PID	DEFAULT=
SSH_AUTH_SOCK	DEFAULT="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"
GSM_SKIP_SSH_AGENT_WORKAROUND	DEFAULT="true"</pre>
<h3><span class="mw-headline" id="mutt">mutt</span></h3>
<p>Mutt może nie używać poprawnie <i>gpg-agent</i>, musisz ustawić zmienną środowiskową <code>GPG_AGENT_INFO</code>  (treść nie ma znaczenia) podczas uruchamiania mutt. Upewnij się także, czy poprawnie buforujesz hasła, patrz <a href="#Cache_passwords">#Cache passwords</a>.
</p>
<p>Zobacz <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1490821#p1490821">this forum thread</a>
</p>
<h3>
<span id=".22Utracone.22_klucze.2C_aktualizacja_do_wersji_2.1_Gnupg"></span><span class="mw-headline" id='"Utracone"_klucze,_aktualizacja_do_wersji_2.1_Gnupg'>"Utracone" klucze, aktualizacja do wersji 2.1 Gnupg</span>
</h3>
<p>Kiedy gpg <code>gpg --list-keys</code> nie pokazuje kluczy, które były tam wcześniej, a aplikacje narzekają na brakujące lub nieprawidłowe klucze, niektóre klucze mogły nie zostać zmigrowane do nowego formatu.
</p>
<p>Przeczytaj <a rel="nofollow" class="external text" href="https://web.archive.org/web/20160502052025/http://jo-ke.name/wp/?p=111">GnuPG invalid packet workaround</a> Zasadniczo jest napisane, że istnieje błąd związany z kluczami w starych plikach <code>pubring.gpg</code> i <code>secring.gpg</code>, które zostały zastąpione nowym plikiem <code>pubring.kbx</code> oraz podkatalogiem <code>private-keys-v1.d/</code> i plikami. Twoje brakujące klucze można odzyskać za pomocą następujących komend:
</p>
<pre>$ cd
$ cp -r .gnupg gnupgOLD
$ gpg --export-ownertrust &gt; otrust.txt
$ gpg --import .gnupg/pubring.gpg
$ gpg --import-ownertrust otrust.txt
$ gpg --list-keys
</pre>
<h3>
<span id="gpg_zawiesza_si.C4.99_dla_wszystkich_serwer.C3.B3w_kluczy_.28podczas_pr.C3.B3by_odebrania_kluczy.29"></span><span class="mw-headline" id="gpg_zawiesza_się_dla_wszystkich_serwerów_kluczy_(podczas_próby_odebrania_kluczy)">gpg zawiesza się dla wszystkich serwerów kluczy (podczas próby odebrania kluczy)</span>
</h3>
<p>Jeśli gpg zawieszi się z określonym serwerem kluczy podczas próby odebrania kluczy, być może trzeba zabić dirmngr, aby uzyskać dostęp do innych serwerów kluczy, które faktycznie działają, w przeciwnym razie może zachowywać zawieszenie dla nich wszystkich.
</p>
<h3><span class="mw-headline" id="Nie_wykryto_SmartCard">Nie wykryto SmartCard</span></h3>
<p>Twój użytkownik może nie mieć uprawnień dostępu do karty elektronicznej, co powoduje <code>card error</code> , mimo że karta jest poprawnie skonfigurowana i włożona.
</p>
<p>Jednym z możliwych rozwiązań jest dodanie nowego <code>scard</code> grupy, w tym użytkowników, którzy potrzebują dostępu do smartcard.
</p>
<p>Następnie użyj reguły <a href="../en/Udev.html" title="Udev">udev</a> , podobnej do następującej:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/71-gnupg-ccid.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="usb", ENV{ID_VENDOR_ID}=="1050", ENV{ID_MODEL_ID}=="0116|0111", MODE="660", GROUP="scard"
</pre>
<p>Trzeba dostosować VENDOR i MODEL zgodnie z wyjściem <code>lsusb</code>, powyższy przykład dotyczy YubikeyNEO.
</p>
<h3>
<span id="gpg:_WARNING:_server_.27gpg-agent.27_is_older_than_us_.28x_.3C_y.29"></span><span class="mw-headline" id="gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)">gpg: WARNING: server 'gpg-agent' is older than us (x &lt; y)</span>
</h3>
<p>To ostrzeżenie pojawia się, gdy <code>gnupg</code>jest uaktualniony, a stary gpg-agent nadal działa. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Zrestartuj</a> <code>gpg-agent.socket</code> użytkownika (tj. Użyj flagi <code>--user</code> podczas ponownego uruchamiania).
</p>
<h3>
<span id="gpg:_....2C_IPC_connect_call_failed"></span><span class="mw-headline" id="gpg:_...,_IPC_connect_call_failed">gpg: ..., IPC connect call failed</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> The <code>gpg-agent*.socket</code> systemd sockets provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnupg">gnupg</a></span> package create the sockets in <code>/run/user/$UID/gnupg/</code> which is guaranteed to be an appropriate file system. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GnuPG.html">Talk:GnuPG (Polski)</a>)</div>
</div>
<p>Upewnij się, że <code>gpg-agent</code> i <code>dirmngr</code> nie działają z <code>killall gpg-agent dirmngr</code>, a folder <code>$GNUPGHOME/crls.d/</code> ma uprawnienia ustawione na <code>700</code>.
</p>
<p>Jeśli twoj keyring jest przechowywana na systemie plików vFat (np. Dysku USB), <code>gpg-agent</code> nie będzie w stanie utworzyć wymaganych gniazd (vFat nie obsługuje gniazd), możesz utworzyć przekierowania do lokalizacji, która obsługuje gniazda, np. <code>/dev/shm</code>:
</p>
<pre># export GNUPGHOME=/custom/gpg/home
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent\n' &gt; $GNUPGHOME/S.gpg-agent
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.browser\n' &gt; $GNUPGHOME/S.gpg-agent.browser
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.extra\n' &gt; $GNUPGHOME/S.gpg-agent.extra
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.ssh\n' &gt; $GNUPGHOME/S.gpg-agent.ssh
</pre>
<p>Sprawdź, czy gpg-agent uruchamia się pomyślnie z <code>gpg-agent --daemon</code>.
</p>
<h2>
<span id="Zobacz_te.C5.BC"></span><span class="mw-headline" id="Zobacz_też">Zobacz też</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://gnupg.org/">GNU Privacy Guard Homepage</a></li>
<li><a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc4880">RFC4880 "OpenPGP Message Format"</a></li>
<li><a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Creating_GPG_Keys">Creating GPG Keys (Fedora)</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.debian.org/Subkeys">OpenPGP subkeys in Debian</a></li>
<li><a rel="nofollow" class="external text" href="https://sanctum.geek.nz/arabesque/series/gnu-linux-crypto/">A more comprehensive gpg Tutorial</a></li>
<li><a rel="nofollow" class="external text" href="https://help.riseup.net/en/security/message-security/openpgp/gpg-best-practices">gpg.conf recommendations and best practices</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/ioerror/torbirdy/blob/master/gpg.conf">Torbirdy gpg.conf</a></li>
<li><a rel="nofollow" class="external text" href="https://www.reddit.com/r/GPGpractice/">/r/GPGpractice - a subreddit to practice using GnuPG.</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/lfit/itpol/blob/master/protecting-code-integrity.md">Protecting code integrity with PGP</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pl/Category:Encryption.html" title="Category:Encryption (Polski)">Encryption (Polski)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GnuPG_(Polski)&amp;oldid=812968">https://wiki.archlinux.org/index.php?title=GnuPG_(Polski)&amp;oldid=812968</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 July 2024, at 21:53.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
