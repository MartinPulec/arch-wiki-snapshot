<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dm-crypt (Polski)/Drive preparation (Polski) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dm-crypt_Polski_Drive_preparation_Polski rootpage-Dm-crypt_Polski skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Bezpieczne_usuwanie_danych_z_dysku_twardego" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Bezpieczne_usuwanie_danych_z_dysku_twardego">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Bezpieczne usuwanie danych z dysku twardego</div>
		</a>
		
			<button aria-controls="toc-Bezpieczne_usuwanie_danych_z_dysku_twardego-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Bezpieczne usuwanie danych z dysku twardego subsection</span>
			</button>
		
		<ul id="toc-Bezpieczne_usuwanie_danych_z_dysku_twardego-sublist" class="vector-toc-list">
			<li id="toc-Metody_ogólne" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Metody_og%C3%B3lne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Metody ogólne</div>
			</a>
			
			<ul id="toc-Metody_ogólne-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Metody_specyficzne_dla_dm-crypt" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Metody_specyficzne_dla_dm-crypt">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Metody specyficzne dla dm-crypt</div>
			</a>
			
			<ul id="toc-Metody_specyficzne_dla_dm-crypt-sublist" class="vector-toc-list">
				<li id="toc-dm-crypt_wymazuje_pusty_dysk_lub_partycję" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#dm-crypt_wymazuje_pusty_dysk_lub_partycj%C4%99">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2.1</span>dm-crypt wymazuje pusty dysk lub partycję</div>
			</a>
			
			<ul id="toc-dm-crypt_wymazuje_pusty_dysk_lub_partycję-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-dm-crypt_czyści_po_instalacji_wolne_miejsce" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#dm-crypt_czy%C5%9Bci_po_instalacji_wolne_miejsce">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2.2</span>dm-crypt czyści po instalacji wolne miejsce</div>
			</a>
			
			<ul id="toc-dm-crypt_czyści_po_instalacji_wolne_miejsce-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wytrzyj_nagłówek_LUKS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wytrzyj_nag%C5%82%C3%B3wek_LUKS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2.3</span>Wytrzyj nagłówek LUKS</div>
			</a>
			
			<ul id="toc-Wytrzyj_nagłówek_LUKS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Partycjonowanie" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Partycjonowanie">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Partycjonowanie</div>
		</a>
		
			<button aria-controls="toc-Partycjonowanie-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Partycjonowanie subsection</span>
			</button>
		
		<ul id="toc-Partycjonowanie-sublist" class="vector-toc-list">
			<li id="toc-Partycje_fizyczne" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Partycje_fizyczne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Partycje fizyczne</div>
			</a>
			
			<ul id="toc-Partycje_fizyczne-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ułożone_urządzenia_blokowe" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#U%C5%82o%C5%BCone_urz%C4%85dzenia_blokowe">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Ułożone urządzenia blokowe</div>
			</a>
			
			<ul id="toc-Ułożone_urządzenia_blokowe-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Btrfs_subvolumes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Btrfs_subvolumes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Btrfs subvolumes</div>
			</a>
			
			<ul id="toc-Btrfs_subvolumes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Boot_partition_(GRUB)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Boot_partition_(GRUB)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Boot partition (GRUB)</div>
			</a>
			
			<ul id="toc-Boot_partition_(GRUB)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Dm-crypt (Polski)/Drive preparation (Polski)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/Dm-crypt/Drive_preparation.html" title="Dm-crypt/Drive preparation – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Dm-crypt/Drive_preparation.html" title="Dm-crypt (Español)/Drive preparation – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Dm-crypt/%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E6%BA%96%E5%82%99" title="Dm-crypt/ドライブの準備 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../../pt/Dm-crypt/Drive_preparation.html" title="Dm-crypt (Português)/Drive preparation – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Dm-crypt/Drive_preparation" title="Dm-crypt/Drive preparation – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../pl/Dm-crypt.html" title="Dm-crypt (Polski)">Dm-crypt (Polski)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pl" dir="ltr">
<p>Przed zaszyfrowaniem dysku zaleca się bezpieczne wymazanie dysku poprzez nadpisanie całego dysku losowymi danymi. Aby zapobiec atakom kryptograficznym lub niepożądanemu <a href="../../en/File_recovery.html" title="File recovery">odzyskiwaniu plików</a>, dane te są idealnie nie do odróżnienia od danych później napisanych przez dm-crypt. Aby uzyskać bardziej wyczerpującą dyskusję zobacz <a href="../../en/Data-at-rest_encryption.html#Preparing_the_disk" title="Data-at-rest encryption">Data-at-rest encryption#Preparing the disk</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Bezpieczne_usuwanie_danych_z_dysku_twardego">Bezpieczne usuwanie danych z dysku twardego</span></h2>
<p>Podczas wybierania metody bezpiecznego usuwania dysku twardego należy pamiętać, że należy to zrobić tylko raz, dopóki dysk jest używany jako dysk zaszyfrowany.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Dokonaj odpowiednich kopii zapasowych cennych danych przed uruchomieniem!</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Podczas usuwania dużej ilości danych proces może potrwać od kilku godzin do kilku dni.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Proces wypełniania zaszyfrowanego dysku może potrwać nawet dzień, zanim zostanie ukończony na dysku wieloterabajtowym. Aby nie pozostawić maszyny bezużytecznej podczas pracy, warto ją wykonać z systemu już zainstalowanego na innym dysku, a nie z systemu instalacji Arch na żywo.</li>
<li>W przypadku dysków <a href="../../en/Solid_state_drive.html" class="mw-redirect" title="SSD">SSD</a>, aby zminimalizować artefakty pamięci podręcznej <a href="../../en/Securely_wipe_disk.html#Flash_memory" title="Securely wipe disk">pamięci flash</a>, rozważ wykonanie <a href="../../en/Solid_state_drive/Memory_cell_clearing.html" class="mw-redirect" title="SSD memory cell clearing">czyszczenia komórki SSD</a> przed wykonaniem poniższych instrukcji.</li>
</ul>
</div>
<h3>
<span id="Metody_og.C3.B3lne"></span><span class="mw-headline" id="Metody_ogólne">Metody ogólne</span>
</h3>
<p>Aby uzyskać szczegółowe instrukcje na temat usuwania i przygotowania dysku, przeczytaj <a href="../../en/Securely_wipe_disk.html" title="Securely wipe disk">Bezpiecznie wymaż dysk</a>.
</p>
<h3><span class="mw-headline" id="Metody_specyficzne_dla_dm-crypt">Metody specyficzne dla dm-crypt</span></h3>
<p>Poniższe dwie metody są specyficzne dla dm-crypt i są wymienione, ponieważ są bardzo szybkie i mogą być wykonywane również po konfiguracji partycji.
</p>
<p><a rel="nofollow" class="external text" href="https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions#5-security-aspects">cryptsetup FAQ</a> opisuje bardzo prostą procedurę użycia istniejącej woluminu dm-crypt do usunięcia całej dostępnej wolnej przestrzeni na bazowym urządzeniu blokowym za pomocą losowych danych, działając jako prosty generator liczb pseudolosowych. Ma również chronić przed ujawnieniem wzorców użytkowania. Dzieje się tak dlatego, że zaszyfrowane dane są praktycznie nie do odróżnienia od przypadkowych.
</p>
<h4>
<span id="dm-crypt_wymazuje_pusty_dysk_lub_partycj.C4.99"></span><span class="mw-headline" id="dm-crypt_wymazuje_pusty_dysk_lub_partycję">dm-crypt wymazuje pusty dysk lub partycję</span>
</h4>
<p>Najpierw utwórz tymczasowy zaszyfrowany kontener na partycji (<code>sdXY</code>) lub pełny dysk (<code>sdX</code>) do zaszyfrowania, np. przy użyciu domyślnych parametrów szyfrowania i losowego klucza za pośrednictwem <code>--key-file /dev/{u}random</code> opcja (patrz także <a href="../../en/Random_number_generation.html" title="Random number generation">Random number generation</a>):
</p>
<pre># cryptsetup open --type plain /dev/sdXY container --key-file /dev/random
</pre>
<p>Po drugie, sprawdź, czy istnieje:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># fdisk -l</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Disk /dev/mapper/container: 1000 MB, 1000277504 bytes
...
Disk /dev/mapper/container does not contain a valid partition table</pre>
<p>Przetrzyj pojemnik zerami. Użycie funkcji <code>if=/dev/urandom</code> nie jest wymagane, ponieważ do losowości wykorzystywany jest szyfr.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dd if=/dev/zero of=/dev/mapper/container status=progress</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">dd: writing to ‘/dev/mapper/container’: No space left on device</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Używanie <i>dd</i> z opcją <code>bs=</code>, np. <code>bs=1M</code>, jest często używany w celu zwiększenia przepustowości operacji na dysku.</li>
<li>Aby wykonać sprawdzenie operacji, wyzeruj partycję przed utworzeniem pojemnika czyszczenia. Po poleceniu czyszczenia <code>blockdev --getsize64 <i>/dev/mapper/container</i></code>może być użyty do uzyskania dokładnego rozmiaru kontenera jako root. Teraz można użyć do sprawdzenia, czy czyszczenie zastąpiło wyzerowane sektory, np. <code>od -j <i>containersize - blocksize</i></code> aby zobaczyć czy czyszczenie dobiegło końca.</li>
</ul>
</div>
<p>Na koniec zamknij tymczasowy kontener:
</p>
<pre># cryptsetup close container
</pre>
<p>Podczas szyfrowania całego systemu, kolejnym krokiem jest <a href="#Partycjonowanie">#Partycjonowanie</a>. Jeśli szyfrujesz tylko partycję, kontynuuj <a href="../../pl/Dm-crypt/Encrypting_a_non-root_file_system.html#Partycja" title="Dm-crypt (Polski)/Encrypting a non-root file system (Polski)">dm-crypt (Polski)/Encrypting a non-root file system (Polski)#Partycja</a>.
</p>
<h4>
<span id="dm-crypt_czy.C5.9Bci_po_instalacji_wolne_miejsce"></span><span class="mw-headline" id="dm-crypt_czyści_po_instalacji_wolne_miejsce">dm-crypt czyści po instalacji wolne miejsce</span>
</h4>
<p>Użytkownicy, którzy nie mieli czasu na procedurę czyszczenia przed <a href="../../pl/Dm-crypt/Encrypting_an_entire_system.html" title="Dm-crypt (Polski)/Encrypting an entire system (Polski)">instalacją</a>, może osiągnąć podobny efekt po uruchomieniu zaszyfrowanego systemu i zamontowaniu systemów plików. Należy jednak rozważyć, czy dany system plików mógł skonfigurować zarezerwowane miejsce, np. dla użytkownika root lub innego <a href="../../en/Disk_quota.html" title="Disk quota">disk quota</a> mechanizm, który może ograniczyć czyszczenie nawet w przypadku wykonywania przez użytkownika root: niektóre części podstawowego urządzenia blokowego mogą nie zostać w ogóle zapisane.
</p>
<p>Aby wykonać operację czyszczenia, tymczasowo wypełnij pozostałą wolną przestrzeń partycji, pisząc do pliku wewnątrz zaszyfrowanego kontenera:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dd if=/dev/zero of=/file/in/container status=progress</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">dd: writing to ‘/file/in/container’: No space left on device</pre>
<p>Sync the cache to disk and then delete the file to reclaim the free space.
</p>
<pre># sync
# rm /file/in/container
</pre>
<p>Powyższy proces należy powtórzyć dla każdego utworzonego bloku partycji i systemu plików. Na przykład konfiguracja <a href="../../pl/Dm-crypt/Encrypting_an_entire_system.html#LVM_na_LUKS" title="Dm-crypt (Polski)/Encrypting an entire system (Polski)">LVM na LUKS</a>, proces musi zostać wykonany dla każdego woluminu logicznego.
</p>
<h4>
<span id="Wytrzyj_nag.C5.82.C3.B3wek_LUKS"></span><span class="mw-headline" id="Wytrzyj_nagłówek_LUKS">Wytrzyj nagłówek LUKS</span>
</h4>
<p>Partycje sformatowane za pomocą dm-crypt/LUKS zawierają nagłówek z użytymi opcjami szyfrowania i krypt, które są określane jako <code>dm-mod</code> podczas otwierania bloku. Po nagłówku rozpoczyna się faktyczna losowa partycja danych. W związku z tym, przy ponownym instalowaniu na już losowym napędzie lub demontażu jednego (np. Sprzedaż komputera, przełączanie napędów itd.) Może to być wystarczające, aby wyczyścić nagłówek partycji, zamiast nadpisywać cały dysk - który może być długim procesem.
</p>
<p>Wyczyszczenie nagłówka LUKS spowoduje usunięcie klucza głównego zaszyfrowanego PBKDF2 (AES), soli i tak dalej.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ważne jest, aby pisać na zaszyfrowanej partycji LUKS (<code>/dev/sdX<b>1</b></code> w tym przykładzie) a nie bezpośrednio do węzła urządzenia dysków. Konfiguruje szyfrowanie jako warstwę odwzorowującą urządzenia na innych, np. LVM na LUKS na macierzy RAID powinien następnie odpowiednio napisać do RAID.</div>
<p>Nagłówek z jedną domyślną pamięcią kluczy o wielkości 256 bitów ma rozmiar 1024 KB. Zaleca się również nadpisanie pierwszego 4KiB napisanego przez dm-crypt, więc trzeba wyczyścić 1028 KB. To jest <code>1052672</code> bajtów.
</p>
<p>Aby użyć przesunięcia punktu zerowego:
</p>
<pre># head -c 1052672 /dev/urandom &gt; <i>/dev/sdX1</i>; sync
</pre>
<p>Dla 512-bitowej długości klucza (na przykład dla aes-xts-plain z 512-bitowym kluczem) nagłówek zajmuje 2 MB. Nagłówek LUKS2 4MiB.
</p>
<p>Jeśli masz wątpliwości, po prostu bądź hojny i nadpisaj pierwsze 10 MB.
</p>
<pre># dd if=/dev/urandom of=<i>/dev/sdX1</i> bs=512 count=20480
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Kopie zapasowe danych nagłówka mogą zostać uratowane, ale system plików prawdopodobnie został uszkodzony, ponieważ pierwsze zaszyfrowane sektory zostały nadpisane. Zobacz dalsze sekcje, jak wykonać kopię zapasową kluczowych bloków nagłówka.</div>
<p>Podczas wycierania nagłówka losowymi danymi wszystko, co pozostało na urządzeniu, jest zaszyfrowane. W przypadku dysku SSD może wystąpić wyjątek z powodu bloków pamięci podręcznej używanych przez dyski SSD. Teoretycznie może się zdarzyć, że nagłówek był w nich buforowany jakiś czas wcześniej, a ta kopia może być nadal dostępna po wyczyszczeniu oryginalnego nagłówka. Ze względów bezpieczeństwa należy wykonać bezpieczne wymazywanie dysku SSD z dysku SSD (procedura proszę zobaczysz <a rel="nofollow" class="external text" href="https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions#5-security-aspects">FAQ 5.19</a>).
</p>
<h2><span class="mw-headline" id="Partycjonowanie">Partycjonowanie</span></h2>
<p>Ta sekcja ma zastosowanie tylko podczas szyfrowania całego systemu. Po tym, jak napęd został (i) bezpiecznie nadpisany, właściwy schemat partycjonowania będzie musiał zostać dokładnie wybrany, biorąc pod uwagę wymagania dm-crypt oraz efekty, jakie różne wybory będą miały na zarządzanie systemem wynikowym.
</p>
<p>Ważne jest, aby od razu zauważyć, że w <a href="#Boot_partition_(GRUB)">prawie</a> każdym przypadku musi istnieć osobna partycja dla / boot, która musi pozostać niezaszyfrowana, ponieważ bootloader musi uzyskać dostęp do katalogu / boot, gdzie załaduje moduły initramfs / encryption potrzebne do załadowania reszta systemu (szczegóły patrz <a href="../../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a>). Jeśli to podniesie obawy dotyczące bezpieczeństwa, patrz
</p>
<p>Kolejnym ważnym czynnikiem, który należy wziąć pod uwagę, jest sposób obsługi obszaru wymiany i zawieszenia systemu, patrz <a href="../../pl/Dm-crypt/Swap_encryption.html" title="Dm-crypt (Polski)/Swap encryption (Polski)">dm-crypt (Polski)/Swap encryption (Polski)</a>.
</p>
<h3><span class="mw-headline" id="Partycje_fizyczne">Partycje fizyczne</span></h3>
<p>W najprostszym przypadku zaszyfrowane warstwy mogą być oparte bezpośrednio na fizycznych partycjach; zobacz Partycjonowanie metod ich tworzenia. Podobnie jak w systemie niezaszyfrowanym, wystarczająca jest partycja główna, oprócz innej dla <code>/boot</code> jak wspomniano wyżej. Ta metoda pozwala decydować, które partycje szyfrować, a które pozostawić niezaszyfrowane, i działa tak samo bez względu na liczbę dysków. Możliwe będzie również dodawanie lub usuwanie partycji w przyszłości, ale zmiana rozmiaru partycji będzie ograniczona wielkością hosta dysku. Na koniec zwróć uwagę, że do otwarcia każdej zaszyfrowanej partycji wymagane są osobne hasła lub klucze, mimo że można to zautomatyzować podczas uruchamiania z użyciem <code>crypttab</code> plik, patrz <a href="../../en/Dm-crypt/System_configuration.html#crypttab" title="Dm-crypt/System configuration">Dm-crypt/System configuration#crypttab</a>.
</p>
<h3>
<span id="U.C5.82o.C5.BCone_urz.C4.85dzenia_blokowe"></span><span class="mw-headline" id="Ułożone_urządzenia_blokowe">Ułożone urządzenia blokowe</span>
</h3>
<p>Jeśli potrzebna jest większa elastyczność, dm-crypt może współistnieć z innymi urządzeniami blokowymi, takimi jak <a href="../../en/LVM.html" title="LVM">LVM</a> i <a href="../../en/RAID.html" title="RAID">RAID</a>. Zaszyfrowane pojemniki mogą znajdować się poniżej lub na innych urządzeniach blokowych:
</p>
<ul>
<li>Jeśli urządzenia LVM / RAID zostaną utworzone na wierzchu zaszyfrowanej warstwy, będzie można swobodnie dodawać, usuwać i zmieniać rozmiary systemów plików tej samej zaszyfrowanej partycji, a tylko jeden klucz lub hasło będzie wymagane dla nich wszystkich. Ponieważ zaszyfrowana warstwa znajduje się na partycji fizycznej, nie będzie możliwe wykorzystanie możliwości LVM i RAID do obsługi wielu dysków.</li>
<li>Jeśli zaszyfrowana warstwa zostanie utworzona na urządzeniach LVM / RAID, nadal będzie możliwa reorganizacja systemów plików w przyszłości, ale z dodatkową złożonością, ponieważ warstwy szyfrowania będą musiały zostać odpowiednio dostosowane. Ponadto do otwarcia każdego zaszyfrowanego urządzenia będą wymagane osobne hasła lub klucze. Jest to jednak jedyny wybór w przypadku systemów, które wymagają zaszyfrowanych systemów plików, aby obejmowały wiele dysków.</li>
</ul>
<h3><span class="mw-headline" id="Btrfs_subvolumes">Btrfs subvolumes</span></h3>
<p>Wbudowana funkcja <a href="../../en/Btrfs.html#Subvolumes" title="Btrfs">podpolumn Btrfs</a> może być używana z dm-crypt, całkowicie zastępując potrzebę LVM, jeśli nie są wymagane żadne inne systemy plików. Należy jednak pamiętać, że pliki wymiany nie są obsługiwane przez brtrfs, więc jeśli wymagana jest partycja wymiany, konieczna jest szyfrowana partycja wymiany.
</p>
<h3>
<span id="Boot_partition_.28GRUB.29"></span><span class="mw-headline" id="Boot_partition_(GRUB)">Boot partition (GRUB)</span>
</h3>
<p>Zobacz <a href="../../pl/Dm-crypt/Encrypting_an_entire_system.html#Szyfrowana_partycja_rozruchowa_(GRUB)" title="Dm-crypt (Polski)/Encrypting an entire system (Polski)">dm-crypt (Polski)/Encrypting an entire system (Polski)#Szyfrowana partycja rozruchowa (GRUB)</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../pl/Category:Data-at-rest_encryption.html" title="Category:Data-at-rest encryption (Polski)">Data-at-rest encryption (Polski)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dm-crypt_(Polski)/Drive_preparation_(Polski)&amp;oldid=790319">https://wiki.archlinux.org/index.php?title=Dm-crypt_(Polski)/Drive_preparation_(Polski)&amp;oldid=790319</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 18 October 2023, at 11:19.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
