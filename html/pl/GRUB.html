<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GRUB (Polski) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GRUB_Polski rootpage-GRUB_Polski skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Obsługiwane_systemy_plików" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Obs%C5%82ugiwane_systemy_plik%C3%B3w">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Obsługiwane systemy plików</div>
		</a>
		
		<ul id="toc-Obsługiwane_systemy_plików-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Systemy_UEFI" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Systemy_UEFI">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Systemy UEFI</div>
		</a>
		
			<button aria-controls="toc-Systemy_UEFI-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Systemy UEFI subsection</span>
			</button>
		
		<ul id="toc-Systemy_UEFI-sublist" class="vector-toc-list">
			<li id="toc-Instalacja" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalacja">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Instalacja</div>
			</a>
			
			<ul id="toc-Instalacja-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Obsługa_Secure_Boot" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Obs%C5%82uga_Secure_Boot">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Obsługa Secure Boot</div>
		</a>
		
			<button aria-controls="toc-Obsługa_Secure_Boot-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Obsługa Secure Boot subsection</span>
			</button>
		
		<ul id="toc-Obsługa_Secure_Boot-sublist" class="vector-toc-list">
			<li id="toc-Klucze_CA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Klucze_CA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Klucze CA</div>
			</a>
			
			<ul id="toc-Klucze_CA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Shim-lock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Shim-lock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Shim-lock</div>
			</a>
			
			<ul id="toc-Shim-lock-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Korzystanie_z_Secure_Boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Korzystanie_z_Secure_Boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Korzystanie z Secure Boot</div>
			</a>
			
			<ul id="toc-Korzystanie_z_Secure_Boot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Systemy_BIOS" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Systemy_BIOS">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Systemy BIOS</div>
		</a>
		
			<button aria-controls="toc-Systemy_BIOS-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Systemy BIOS subsection</span>
			</button>
		
		<ul id="toc-Systemy_BIOS-sublist" class="vector-toc-list">
			<li id="toc-Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Instrukcje specyficzne dla tablicy partycji GUID (GPT)</div>
			</a>
			
			<ul id="toc-Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instrukcje_dotyczące_głównego_rekordu_rozruchowego_(MBR)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instrukcje_dotycz%C4%85ce_g%C5%82%C3%B3wnego_rekordu_rozruchowego_(MBR)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Instrukcje dotyczące głównego rekordu rozruchowego (MBR)</div>
			</a>
			
			<ul id="toc-Instrukcje_dotyczące_głównego_rekordu_rozruchowego_(MBR)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalacja_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalacja_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Instalacja</div>
			</a>
			
			<ul id="toc-Instalacja_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Konfiguracja" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Konfiguracja">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Konfiguracja</div>
		</a>
		
			<button aria-controls="toc-Konfiguracja-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Konfiguracja subsection</span>
			</button>
		
		<ul id="toc-Konfiguracja-sublist" class="vector-toc-list">
			<li id="toc-Generowany_grub.cfg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Generowany_grub.cfg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Generowany grub.cfg</div>
			</a>
			
			<ul id="toc-Generowany_grub.cfg-sublist" class="vector-toc-list">
				<li id="toc-Generowanie_głównego_pliku_konfiguracyjnego" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.1</span>Generowanie głównego pliku konfiguracyjnego</div>
			</a>
			
			<ul id="toc-Generowanie_głównego_pliku_konfiguracyjnego-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wykrywanie_innych_systemów_operacyjnych" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wykrywanie_innych_system%C3%B3w_operacyjnych">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.2</span>Wykrywanie innych systemów operacyjnych</div>
			</a>
			
			<ul id="toc-Wykrywanie_innych_systemów_operacyjnych-sublist" class="vector-toc-list">
				<li id="toc-Windows" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.2.1</span>Windows</div>
			</a>
			
			<ul id="toc-Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Dodatkowe_argumenty" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Dodatkowe_argumenty">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.3</span>Dodatkowe argumenty</div>
			</a>
			
			<ul id="toc-Dodatkowe_argumenty-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ustawianie_pozycji_menu_najwyższego_poziomu" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ustawianie_pozycji_menu_najwy%C5%BCszego_poziomu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.4</span>Ustawianie pozycji menu najwyższego poziomu</div>
			</a>
			
			<ul id="toc-Ustawianie_pozycji_menu_najwyższego_poziomu-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LVM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LVM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.5</span>LVM</div>
			</a>
			
			<ul id="toc-LVM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-RAID" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.6</span>RAID</div>
			</a>
			
			<ul id="toc-RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zaszyfrowane_/boot" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Zaszyfrowane_/boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.7</span>Zaszyfrowane /boot</div>
			</a>
			
			<ul id="toc-Zaszyfrowane_/boot-sublist" class="vector-toc-list">
				<li id="toc-LUKS2" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#LUKS2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.7.1</span>LUKS2</div>
			</a>
			
			<ul id="toc-LUKS2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Własny_grub.cfg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#W%C5%82asny_grub.cfg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Własny grub.cfg</div>
			</a>
			
			<ul id="toc-Własny_grub.cfg-sublist" class="vector-toc-list">
				<li id="toc-LoaderDevicePartUUID" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LoaderDevicePartUUID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.1</span>LoaderDevicePartUUID</div>
			</a>
			
			<ul id="toc-LoaderDevicePartUUID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Przykłady_wpisów_w_menu_startowym" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Przyk%C5%82ady_wpis%C3%B3w_w_menu_startowym">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2</span>Przykłady wpisów w menu startowym</div>
			</a>
			
			<ul id="toc-Przykłady_wpisów_w_menu_startowym-sublist" class="vector-toc-list">
				<li id="toc-Polecenia_GRUB" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Polecenia_GRUB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.1</span>Polecenia GRUB</div>
			</a>
			
			<ul id="toc-Polecenia_GRUB-sublist" class="vector-toc-list">
				<li id="toc-Pozycja_menu_„Shutdown”_(Zamknij)" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Pozycja_menu_%E2%80%9EShutdown%E2%80%9D_(Zamknij)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.1.1</span>Pozycja menu „Shutdown” (Zamknij)</div>
			</a>
			
			<ul id="toc-Pozycja_menu_„Shutdown”_(Zamknij)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pozycja_menu_„Ponowne_uruchomienie_systemu”" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Pozycja_menu_%E2%80%9EPonowne_uruchomienie_systemu%E2%80%9D">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.1.2</span>Pozycja menu „Ponowne uruchomienie systemu”</div>
			</a>
			
			<ul id="toc-Pozycja_menu_„Ponowne_uruchomienie_systemu”-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pozycja_menu_„Ustawienia_oprogramowania_sprzętowego_UEFI”" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Pozycja_menu_%E2%80%9EUstawienia_oprogramowania_sprz%C4%99towego_UEFI%E2%80%9D">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.1.3</span>Pozycja menu „Ustawienia oprogramowania sprzętowego UEFI”</div>
			</a>
			
			<ul id="toc-Pozycja_menu_„Ustawienia_oprogramowania_sprzętowego_UEFI”-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Pliki_binarne_EFI" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Pliki_binarne_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.2</span>Pliki binarne EFI</div>
			</a>
			
			<ul id="toc-Pliki_binarne_EFI-sublist" class="vector-toc-list">
				<li id="toc-Powłoka_UEFI" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Pow%C5%82oka_UEFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.2.1</span>Powłoka UEFI</div>
			</a>
			
			<ul id="toc-Powłoka_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gdisk" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#gdisk">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.2.2</span>gdisk</div>
			</a>
			
			<ul id="toc-gdisk-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ładowanie_łańcuchowe_zunifikowanego_obrazu_jądra" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#%C5%81adowanie_%C5%82a%C5%84cuchowe_zunifikowanego_obrazu_j%C4%85dra">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.2.3</span>Ładowanie łańcuchowe zunifikowanego obrazu jądra</div>
			</a>
			
			<ul id="toc-Ładowanie_łańcuchowe_zunifikowanego_obrazu_jądra-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Dual-booting" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Dual-booting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.3</span>Dual-booting</div>
			</a>
			
			<ul id="toc-Dual-booting-sublist" class="vector-toc-list">
				<li id="toc-GNU/Linux" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#GNU/Linux">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.3.1</span>GNU/Linux</div>
			</a>
			
			<ul id="toc-GNU/Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_zainstalowany_w_trybie_UEFI/GPT" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Windows_zainstalowany_w_trybie_UEFI/GPT">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.3.2</span>Windows zainstalowany w trybie UEFI/GPT</div>
			</a>
			
			<ul id="toc-Windows_zainstalowany_w_trybie_UEFI/GPT-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_zainstalowany_w_trybie_BIOS/MBR" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Windows_zainstalowany_w_trybie_BIOS/MBR">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.3.3</span>Windows zainstalowany w trybie BIOS/MBR</div>
			</a>
			
			<ul id="toc-Windows_zainstalowany_w_trybie_BIOS/MBR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Korzystanie_z_etykiet" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Korzystanie_z_etykiet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2.4</span>Korzystanie z etykiet</div>
			</a>
			
			<ul id="toc-Korzystanie_z_etykiet-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Używanie_powłoki_poleceń" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#U%C5%BCywanie_pow%C5%82oki_polece%C5%84">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Używanie powłoki poleceń</div>
		</a>
		
			<button aria-controls="toc-Używanie_powłoki_poleceń-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Używanie powłoki poleceń subsection</span>
			</button>
		
		<ul id="toc-Używanie_powłoki_poleceń-sublist" class="vector-toc-list">
			<li id="toc-Obsługa_pagera" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Obs%C5%82uga_pagera">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Obsługa pagera</div>
			</a>
			
			<ul id="toc-Obsługa_pagera-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Używanie_środowiska_powłoki_poleceń_do_uruchamiania_systemów_operacyjnych" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#U%C5%BCywanie_%C5%9Brodowiska_pow%C5%82oki_polece%C5%84_do_uruchamiania_system%C3%B3w_operacyjnych">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Używanie środowiska powłoki poleceń do uruchamiania systemów operacyjnych</div>
			</a>
			
			<ul id="toc-Używanie_środowiska_powłoki_poleceń_do_uruchamiania_systemów_operacyjnych-sublist" class="vector-toc-list">
				<li id="toc-Łańcuchowe_ładowanie_VBR_partycji" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%C5%81a%C5%84cuchowe_%C5%82adowanie_VBR_partycji">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2.1</span>Łańcuchowe ładowanie VBR partycji</div>
			</a>
			
			<ul id="toc-Łańcuchowe_ładowanie_VBR_partycji-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Łańcuchowe_ładowanie_MBR_dysku_lub_VBR_dysku_bez_partycji" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%C5%81a%C5%84cuchowe_%C5%82adowanie_MBR_dysku_lub_VBR_dysku_bez_partycji">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2.2</span>Łańcuchowe ładowanie MBR dysku lub VBR dysku bez partycji</div>
			</a>
			
			<ul id="toc-Łańcuchowe_ładowanie_MBR_dysku_lub_VBR_dysku_bez_partycji-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ładowanie_łańcuchowe_systemu_Windows/Linux_zainstalowanego_w_trybie_UEFI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#%C5%81adowanie_%C5%82a%C5%84cuchowe_systemu_Windows/Linux_zainstalowanego_w_trybie_UEFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2.3</span>Ładowanie łańcuchowe systemu Windows/Linux zainstalowanego w trybie UEFI</div>
			</a>
			
			<ul id="toc-Ładowanie_łańcuchowe_systemu_Windows/Linux_zainstalowanego_w_trybie_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Normalne_ładowanie" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Normalne_%C5%82adowanie">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2.4</span>Normalne ładowanie</div>
			</a>
			
			<ul id="toc-Normalne_ładowanie-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Korzystanie_z_konsoli_ratunkowej" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Korzystanie_z_konsoli_ratunkowej">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Korzystanie z konsoli ratunkowej</div>
			</a>
			
			<ul id="toc-Korzystanie_z_konsoli_ratunkowej-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usuwanie_GRUB-a" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usuwanie_GRUB-a">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Usuwanie GRUB-a</div>
		</a>
		
			<button aria-controls="toc-Usuwanie_GRUB-a-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usuwanie GRUB-a subsection</span>
			</button>
		
		<ul id="toc-Usuwanie_GRUB-a-sublist" class="vector-toc-list">
			<li id="toc-Systemy_UEFI_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Systemy_UEFI_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Systemy UEFI</div>
			</a>
			
			<ul id="toc-Systemy_UEFI_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Systemy_BIOS_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Systemy_BIOS_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Systemy BIOS</div>
			</a>
			
			<ul id="toc-Systemy_BIOS_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Rozwiązywanie_problemów" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Rozwi%C4%85zywanie_problem%C3%B3w">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Rozwiązywanie problemów</div>
		</a>
		
			<button aria-controls="toc-Rozwiązywanie_problemów-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Rozwiązywanie problemów subsection</span>
			</button>
		
		<ul id="toc-Rozwiązywanie_problemów-sublist" class="vector-toc-list">
			<li id="toc-Nieobsługiwane_systemy_plików" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nieobs%C5%82ugiwane_systemy_plik%C3%B3w">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Nieobsługiwane systemy plików</div>
			</a>
			
			<ul id="toc-Nieobsługiwane_systemy_plików-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Włączanie_komunikatów_debugowania" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#W%C5%82%C4%85czanie_komunikat%C3%B3w_debugowania">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Włączanie komunikatów debugowania</div>
			</a>
			
			<ul id="toc-Włączanie_komunikatów_debugowania-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Komunikat_o_błędzie_w_stylu_msdos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Komunikat_o_b%C5%82%C4%99dzie_w_stylu_msdos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Komunikat o błędzie w stylu msdos</div>
			</a>
			
			<ul id="toc-Komunikat_o_błędzie_w_stylu_msdos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UEFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>UEFI</div>
			</a>
			
			<ul id="toc-UEFI-sublist" class="vector-toc-list">
				<li id="toc-Typowe_błędy_instalacji" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Typowe_b%C5%82%C4%99dy_instalacji">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.1</span>Typowe błędy instalacji</div>
			</a>
			
			<ul id="toc-Typowe_błędy_instalacji-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tworzenie_wpisu_GRUB_w_menedżerze_rozruchu_oprogramowania_układowego" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tworzenie_wpisu_GRUB_w_mened%C5%BCerze_rozruchu_oprogramowania_uk%C5%82adowego">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.2</span>Tworzenie wpisu GRUB w menedżerze rozruchu oprogramowania układowego</div>
			</a>
			
			<ul id="toc-Tworzenie_wpisu_GRUB_w_menedżerze_rozruchu_oprogramowania_układowego-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zrzut_do_powłoki_ratunkowej" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Zrzut_do_pow%C5%82oki_ratunkowej">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.3</span>Zrzut do powłoki ratunkowej</div>
			</a>
			
			<ul id="toc-Zrzut_do_powłoki_ratunkowej-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_UEFI_nie_został_załadowany" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GRUB_UEFI_nie_zosta%C5%82_za%C5%82adowany">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.4</span>GRUB UEFI nie został załadowany</div>
			</a>
			
			<ul id="toc-GRUB_UEFI_nie_został_załadowany-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Domyślna/zastępcza_ścieżka_rozruchowa" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Domy%C5%9Blna/zast%C4%99pcza_%C5%9Bcie%C5%BCka_rozruchowa">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.5</span>Domyślna/zastępcza ścieżka rozruchowa</div>
			</a>
			
			<ul id="toc-Domyślna/zastępcza_ścieżka_rozruchowa-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Nieprawidłowa_sygnatura" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nieprawid%C5%82owa_sygnatura">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5</span>Nieprawidłowa sygnatura</div>
			</a>
			
			<ul id="toc-Nieprawidłowa_sygnatura-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rozruch_zawiesza_się" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rozruch_zawiesza_si%C4%99">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.6</span>Rozruch zawiesza się</div>
			</a>
			
			<ul id="toc-Rozruch_zawiesza_się-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Arch_nie_znaleziony_w_innym_systemie_operacyjnym" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Arch_nie_znaleziony_w_innym_systemie_operacyjnym">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.7</span>Arch nie znaleziony w innym systemie operacyjnym</div>
			</a>
			
			<ul id="toc-Arch_nie_znaleziony_w_innym_systemie_operacyjnym-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ostrzeżenie_podczas_instalacji_w_chroot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ostrze%C5%BCenie_podczas_instalacji_w_chroot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.8</span>Ostrzeżenie podczas instalacji w chroot</div>
			</a>
			
			<ul id="toc-Ostrzeżenie_podczas_instalacji_w_chroot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_ładuje_się_powoli" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB_%C5%82aduje_si%C4%99_powoli">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.9</span>GRUB ładuje się powoli</div>
			</a>
			
			<ul id="toc-GRUB_ładuje_się_powoli-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-error:_unknown_filesystem" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#error:_unknown_filesystem">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.10</span>error: unknown filesystem</div>
			</a>
			
			<ul id="toc-error:_unknown_filesystem-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-grub-reboot_nie_resetuje_się" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#grub-reboot_nie_resetuje_si%C4%99">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.11</span>grub-reboot nie resetuje się</div>
			</a>
			
			<ul id="toc-grub-reboot_nie_resetuje_się-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Stary_Btrfs_uniemożliwia_instalację" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Stary_Btrfs_uniemo%C5%BCliwia_instalacj%C4%99">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.12</span>Stary Btrfs uniemożliwia instalację</div>
			</a>
			
			<ul id="toc-Stary_Btrfs_uniemożliwia_instalację-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nie_znaleziono_systemu_Windows_8/10" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nie_znaleziono_systemu_Windows_8/10">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.13</span>Nie znaleziono systemu Windows 8/10</div>
			</a>
			
			<ul id="toc-Nie_znaleziono_systemu_Windows_8/10-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_Rescue_i_zaszyfrowany_/boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB_Rescue_i_zaszyfrowany_/boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.14</span>GRUB Rescue i zaszyfrowany /boot</div>
			</a>
			
			<ul id="toc-GRUB_Rescue_i_zaszyfrowany_/boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_jest_zainstalowany,_ale_menu_nie_jest_wyświetlane_przy_starcie_systemu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB_jest_zainstalowany,_ale_menu_nie_jest_wy%C5%9Bwietlane_przy_starcie_systemu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.15</span>GRUB jest zainstalowany, ale menu nie jest wyświetlane przy starcie systemu</div>
			</a>
			
			<ul id="toc-GRUB_jest_zainstalowany,_ale_menu_nie_jest_wyświetlane_przy_starcie_systemu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Zobacz_także" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Zobacz_tak%C5%BCe">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Zobacz także</div>
		</a>
		
		<ul id="toc-Zobacz_także-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GRUB (Polski)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 7 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-7" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">7 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/GRUB" title="GRUB – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/GRUB.html" title="GRUB – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/GRUB.html" title="GRUB – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/GRUB" title="GRUB – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/GRUB.html" title="GRUB – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/GRUB.html" title="GRUB – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/GRUB" title="GRUB – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pl" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Translation Status:</strong> This article is a localized version of <a href="../en/GRUB.html" title="GRUB">GRUB</a>. Last translation date: 2024-05-05. You can help to synchronize the translation, if there were <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=GRUB&amp;diff=0&amp;oldid=806406">changes</a> in the English version.</div>
<div class="archwiki-template-meta-related-articles">
<p>Powiązane artykuły</p>
<ul>
<li><a href="../en/Arch_boot_process.html" title="Arch boot process">Arch boot process</a></li>
<li><a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="Master Boot Record">Master Boot Record</a></li>
<li><a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table">GUID Partition Table</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a></li>
<li><a href="../en/GRUB_Legacy.html" title="GRUB Legacy">GRUB Legacy</a></li>
<li><a href="../en/GRUB/EFI_examples.html" title="GRUB/EFI examples">GRUB/EFI examples</a></li>
<li><a href="../en/GRUB/Tips_and_tricks.html" title="GRUB/Tips and tricks">GRUB/Tips and tricks</a></li>
<li><a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">Multiboot USB drive</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/">GRUB</a> (GRand Unified Bootloader) to <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a>. Obecny GRUB jest również określany jako <b>GRUB 2</b>. Oryginalny GRUB, lub <a href="../en/GRUB_Legacy.html" title="GRUB Legacy">GRUB Legacy</a>, odpowiada wersji 0.9x. Ta strona opisuje wyłącznie GRUB 2.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> W całym artykule <code><i>esp</i></code> oznacza punkt montowania <a href="../en/EFI_system_partition.html" title="EFI system partition">partycji systemowej EFI</a> aka ESP.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id="Obs.C5.82ugiwane_systemy_plik.C3.B3w"></span><span class="mw-headline" id="Obsługiwane_systemy_plików">Obsługiwane systemy plików</span>
</h2>
<p>GRUB posiada własne wsparcie dla <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/Features.html#Features">wielu systemów plików</a>, w szczególności <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a>, <a href="../en/Ext4.html" title="Ext4">ext4</a>, <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a> lub <a href="../en/XFS.html" title="XFS">XFS</a>. Zobacz <a href="#Nieobs%C5%82ugiwane_systemy_plik%C3%B3w">#Nieobsługiwane systemy plików</a> dla niektórych zastrzeżeń.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Systemy plików mogą uzyskać nowe funkcje, które nie są jeszcze obsługiwane przez GRUB, czyniąc je nieodpowiednimi dla <code>/boot</code>, chyba że wyłączone zostaną niekompatybilne funkcje. Zazwyczaj można tego uniknąć, używając oddzielnej partycji <a href="../en/Partitioning.html#/boot" title="Partitioning">rozruchowej /boot</a> z powszechnie obsługiwanym systemem plików, takim jak <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a>.</div>
<h2><span class="mw-headline" id="Systemy_UEFI">Systemy UEFI</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Zaleca się przeczytanie i zrozumienie stron <a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a>, <a href="../en/Partitioning.html#GUID_Partition_Table" title="Partitioning">Partitioning#GUID Partition Table</a> i <a href="../en/Arch_boot_process.html#Under_UEFI" title="Arch boot process">Arch boot process#Under UEFI</a>.</li>
<li>Podczas instalacji w celu użycia UEFI ważne jest, aby uruchomić nośnik instalacyjny w trybie UEFI, w przeciwnym razie <i>efibootmgr</i> nie będzie w stanie dodać wpisu rozruchowego GRUB UEFI. Instalacja na <a href="#Default/fallback_boot_path">awaryjnej ścieżce rozruchowej</a> będzie nadal działać nawet w trybie BIOS, ponieważ nie dotyka pamięci NVRAM.</li>
<li>Aby uruchomić komputer z dysku przy użyciu UEFI, wymagana jest partycja systemowa EFI. Postępuj zgodnie z <a href="../en/EFI_system_partition.html#Check_for_an_existing_partition" title="EFI system partition">EFI system partition#Check for an existing partition</a>, aby dowiedzieć się, czy już ją masz, w przeciwnym razie musisz ją utworzyć.</li>
<li>Cały ten artykuł zakłada, że wstawianie dodatkowych modułów GRUB2 poprzez <code>insmod</code> jest możliwe. Jak omówiono w <a href="#Shim-lock">#Shim-lock</a>, nie jest tak w przypadku systemów UEFI z włączonym Secure Boot. Jeśli chcesz użyć jakiegokolwiek dodatkowego modułu GRUB, który nie jest zawarty w standardowym pliku GRUB EFI <code>grubx64.efi</code> w systemie z włączonym Secure Boot, musisz ponownie wygenerować GRUB EFI <code>grubx64.efi</code> za pomocą <code>grub-mkstandalone</code> lub ponownie zainstalować GRUB za pomocą <code>grub-install</code> z dołączonymi dodatkowymi modułami GRUB.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Instalacja">Instalacja</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Oprogramowanie UEFI nie jest implementowane w sposób spójny przez różnych producentów. Procedura opisana poniżej ma działać na szerokiej gamie systemów UEFI, ale osoby doświadczające problemów pomimo zastosowania tej metody są zachęcane do dzielenia się szczegółowymi informacjami i, jeśli to możliwe, znalezionymi obejściami dla konkretnego przypadku sprzętowego. Dla takich przypadków przygotowano artykuł <a href="../en/GRUB/EFI_examples.html" title="GRUB/EFI examples">GRUB/EFI examples</a>.</li>
<li>Sekcja zakłada instalację GRUB-a dla x64 (64-bitowego) UEFI. W przypadku IA32 (32-bitowego) UEFI (nie mylić z 32-bitowymi procesorami), zastąp <code>x86_64-efi</code> przez <code>i386-efi</code> tam, gdzie jest to właściwe. Postępuj zgodnie z instrukcjami w <a href="../en/Unified_Extensible_Firmware_Interface.html#Checking_the_firmware_bitness" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface#Checking the firmware bitness</a>, aby określić bitowość UEFI.</li>
</ul>
</div>
<p>Najpierw <a href="../pl/Help:Reading.html#Instalowanie_pakiet%C3%B3w" class="mw-redirect" title="Zainstaluj">zainstaluj</a> pakiety <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub">grub</a></span> i <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span>: <i>GRUB</i> jest programem ładującym, podczas gdy <i>efibootmgr</i> jest używany przez skrypt instalacyjny GRUB-a do zapisywania wpisów rozruchowych w pamięci NVRAM. 
</p>
<p>Następnie wykonaj poniższe kroki, aby zainstalować GRUB na dysku:
</p>
<ol>
<li>
<a href="../en/EFI_system_partition.html#Mount_the_partition" title="EFI system partition">Zamontuj partycję systemową EFI</a> i w pozostałej części tej sekcji zastąp <code><i>esp</i></code> jej punktem montowania.</li>
<li>Wybierz identyfikator programu ładującego, tutaj o nazwie <code>GRUB</code>. Katalog o tej nazwie zostanie utworzony w <code><i>esp</i>/EFI/</code> w celu przechowywania pliku binarnego EFI i jest to nazwa, która pojawi się w menu rozruchowym UEFI w celu identyfikacji wpisu rozruchowego GRUB.</li>
<li>Wykonaj poniższe polecenie, aby zainstalować aplikację GRUB EFI <code>grubx64.efi</code> do <code><i>esp</i>/EFI/GRUB/</code> i zainstalować jej moduły do <code>/boot/grub/x86_64-efi/</code>.</li>
</ol>
<dl><dd><dl>
<dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>
<ul>
<li>Upewnij się, że instalujesz pakiety i uruchamiasz polecenie <code>grub-install</code> z systemu, w którym GRUB będzie zainstalowany jako bootloader. Oznacza to, że jeśli uruchamiasz system ze środowiska instalacji, musisz znajdować się w chroot podczas uruchamiania <code>grub-install</code>. Jeśli z jakiegoś powodu konieczne jest uruchomienie <code>grub-install</code> spoza zainstalowanego systemu, należy dołączyć opcję <code>--boot-directory=</code> ze ścieżką do zamontowanego katalogu <code>/boot</code>, np <code>--boot-directory=/mnt/boot</code>.</li>
<li>Niektóre płyty główne nie obsługują <code>bootloader-id</code> ze spacjami</li>
</ul>
</div></dd>
<dd><pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --bootloader-id=GRUB</pre></dd>
</dl></dd></dl>
<p>Po zakończeniu powyższej instalacji, główny katalog GRUB znajduje się w <code>/boot/grub/</code>. Przeczytaj <a href="../en/GRUB/Tips_and_tricks.html#Alternative_install_method" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Alternative install method</a>, aby dowiedzieć się jak wskazać alternatywną lokalizację. Zauważ, że <code>grub-install</code> próbuje również <a href="#Tworzenie_wpisu_GRUB_w_mened%C5%BCerze_rozruchu_oprogramowania_uk%C5%82adowego">utworzyć wpis w menedżerze rozruchu oprogramowania układowego</a>, nazwany <code>GRUB</code> w powyższym przykładzie - to jednak nie powiedzie się, jeśli wpisy rozruchowe są pełne; użyj <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a>, aby usunąć niepotrzebne wpisy.
</p>
<p>Pamiętaj o <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">wygenerowaniu głównego pliku konfiguracyjnego</a> po sfinalizowaniu konfiguracji.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Jeśli użyjesz opcji <code>--removable</code>, GRUB zostanie zainstalowany w <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code> (lub <code><i>esp</i>/EFI/BOOTIA32.EFI</code> dla <code>i386-efi</code>. (lub <code><i>esp</i>/EFI/BOOT/BOOTIA32.EFI</code> dla celu <code>i386-efi</code>) i będziesz miał dodatkową możliwość rozruchu z dysku w przypadku zresetowania zmiennych EFI lub przeniesienia dysku do innego komputera. Zwykle można to zrobić, wybierając sam dysk, podobnie jak w BIOS-ie. W przypadku podwójnego rozruchu z systemem Windows należy pamiętać, że system Windows zwykle umieszcza tam plik wykonywalny EFI, ale jego jedynym celem jest odtworzenie wpisu rozruchowego UEFI dla systemu Windows. Jeśli instalujesz GRUB na <a href="../en/Mac.html" title="Mac">Mac</a>, będziesz musiał użyć tej opcji.
Jeśli wykonasz aktualizację UEFI, aktualizacja ta może usunąć istniejące wpisy rozruchowe UEFI. W związku z tym jest to potencjalna strategia awaryjna, aby mieć włączony „wymienny” wpis rozruchowy</div>
<p>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<code>--efi-directory</code> i <code>--bootloader-id</code> są specyficzne dla GRUB UEFI, <code>--efi-directory</code> zastępuje <code>--root-directory</code>, który jest przestarzały.</li>
<li>Można zauważyć brak opcji <i>device_path</i> (np.: <code>/dev/sda</code>) w poleceniu <code>grub-install</code>. W rzeczywistości każda podana opcja <i>device_path</i> zostanie zignorowana przez skrypt instalacyjny GRUB UEFI. W rzeczywistości programy ładujące UEFI w ogóle nie używają kodu rozruchowego MBR ani sektora rozruchowego partycji.</li>
</ul>
</div>
<p>Zobacz <a href="#UEFI">Rozwiązywanie problemów z UEFI</a> w przypadku problemów. Dodatkowo zobacz <a href="../en/GRUB/Tips_and_tricks.html#UEFI_further_reading" title="GRUB/Tips and tricks">GRUB/Tips and tricks#UEFI further reading</a>.
</p>
<h2>
<span id="Obs.C5.82uga_Secure_Boot"></span><span class="mw-headline" id="Obsługa_Secure_Boot">Obsługa Secure Boot</span>
</h2>
<p>GRUB w pełni obsługuje bezpieczny rozruch przy użyciu kluczy CA lub shim, jednak polecenie instalacji różni się w zależności od tego, którego zamierzasz użyć.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Nieprawidłowe skonfigurowanie <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> może uniemożliwić uruchomienie systemu. Jeśli z jakiegokolwiek powodu nie możesz uruchomić systemu po włączeniu bezpiecznego rozruchu, powinieneś wyłączyć go w oprogramowaniu układowym i ponownie uruchomić system.</li>
<li>Ładowanie niepotrzebnych modułów w bootloaderze może potencjalnie stanowić zagrożenie dla bezpieczeństwa, używaj tych poleceń tylko wtedy, gdy ich potrzebujesz.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Klucze_CA">Klucze CA</span></h4>
<p>Aby skorzystać z kluczy CA, polecenie jest następujące:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --bootloader-id=GRUB --modules=„tpm” --disable-shim-lock
</pre>
<h4><span class="mw-headline" id="Shim-lock">Shim-lock</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Przed przystąpieniem do tej sekcji powinieneś upewnić się, że postępowałeś zgodnie z instrukcjami w <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#shim" class="mw-redirect" title="Secure Boot">Secure Boot#shim</a> i masz <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sbsigntools">sbsigntools</a></span> skonfigurowane i gotowe do odbierania kluczy</div>
<p>Podczas korzystania z Shim-lock, GRUB może zostać pomyślnie uruchomiony w trybie Secure Boot tylko wtedy, gdy jego plik binarny EFI zawiera wszystkie moduły niezbędne do odczytu systemu plików zawierającego obrazy <a href="../en/Kernel.html" class="mw-redirect" title="Vmlinuz">vmlinuz</a> i <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a>.
</p>
<p>Od wersji GRUB <code>2.06.r261.g2f4430cc0</code>, ładowanie modułów w trybie bezpiecznego rozruchu poprzez <code>insmod</code> nie jest już dozwolone, ponieważ naruszałoby to oczekiwanie, aby nie ładować dowolnego kodu. Jeśli moduły GRUB-a nie są osadzone w pliku binarnym EFI, a GRUB spróbuje załadować je sideloadem/<code>insmod</code>em, GRUB nie uruchomi się z komunikatem: 
</p>
<pre>error: prohibited by secure boot policy
<i>błąd: zabronione przez politykę bezpiecznego rozruchu</i>
</pre>
<p>Ubuntu, zgodnie z <a rel="nofollow" class="external text" href="https://git.launchpad.net/~ubuntu-core-dev/grub/+git/ubuntu/tree/debian/build-efi-images?h=debian/2.06-2ubuntu12">oficjalnym skryptem kompilacji</a>, osadza następujące moduły GRUB w podpisanym pliku binarnym GRUB EFI <code>grubx64.efi</code>: 
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://git.launchpad.net/~ubuntu-core-dev/grub/+git/ubuntu/tree/debian/build-efi-images?h=debian/2.06-2ubuntu12#n87">„podstawowe” moduły</a>, niezbędne do uruchomienia systemu z płyty CD lub dysku z prostą partycją: <code>all_video</code>, <code>boot</code>, <code>btrfs</code>, <code>cat</code>, <code>chain</code>, <code>configfile</code>, <code>echo</code>, <code>efifwsetup</code>, <code>efinet</code>, <code>ext2</code>, <code>fat</code>, <code>font</code>, <code>gettext</code>, <code>gfxmenu</code>, <code>gfxterm</code>, <code>gfxterm_background</code>, <code>gzio</code>, <code>halt</code>, <code>help</code>, <code>hfsplus</code>, <code>iso9660</code>, <code>jpeg</code>, <code>keystatus</code>, <code>loadenv</code>, <code>loopback</code>, <code>linux</code>, <code>ls</code>, <code>lsefi</code>, <code>lsefimmap</code>, <code>lsefisystab</code>, <code>lssal</code>, <code>memdisk</code>, <code>minicmd</code>, <code>normal</code>, <code>ntfs</code>, <code>part_apple</code>, <code>part_msdos</code>, <code>part_gpt</code>, <code>password_pbkdf2</code>, <code>png</code>, <code>probe</code>, <code>reboot</code>, <code>regexp</code>, <code>search</code>, <code>search_fs_uuid</code>, <code>search_fs_file</code>, <code>search_label</code>, <code>sleep</code>, <code>smbios</code>, <code>squash4</code>, <code>test</code>, <code>true</code>, <code>video</code>, <code>xfs</code>, <code>zfs</code>, <code>zfscrypt</code>, <code>zfsinfo</code>
</li>
<li>
<a rel="nofollow" class="external text" href="https://git.launchpad.net/~ubuntu-core-dev/grub/+git/ubuntu/tree/debian/build-efi-images?h=debian/2.06-2ubuntu12#n147">moduły „specyficzne dla platformy”</a> dla architektury x86_64-efi, niezbędne dla np.:
<ul>
<li>
<code>play</code>: aby odtwarzać dźwięki podczas uruchamiania</li>
<li>
<code>cpuid</code>: do procesora podczas uruchamiania</li>
<li>
<code>tpm</code>: do obsługi Measured Boot / <a href="../pl/Trusted_Platform_Module.html" title="Trusted Platform Module (Polski)">Trusted Platform Modules</a>
</li>
</ul>
</li>
<li>
<a rel="nofollow" class="external text" href="https://git.launchpad.net/~ubuntu-core-dev/grub/+git/ubuntu/tree/debian/build-efi-images?h=debian/2.06-2ubuntu12#n159">moduły „zaawansowane”</a>, składający się z modułów:
<ul>
<li>
<code>cryptodisk</code>: uruchamianie z <a href="../en/Dm-crypt.html" title="Dm-crypt">szyfrowanych w trybie zwykłym</a> dysków.</li>
<li>
<code>gcry_<i>algorithm</i></code>: do obsługi określonych algorytmów haszujących i szyfrujących</li>
<li>
<code>luks</code>: do uruchamiania z dysków szyfrowanych za pomocą <a href="../pl/Dm-crypt.html" class="mw-redirect" title="LUKS (Polski)">LUKS</a>:</li>
<li>
<code>lvm</code>: uruchamianie z dysków woluminów logicznych <a href="../en/LVM.html" title="LVM">LVM</a>
</li>
<li>
<code>mdraid09</code>, <code>mdraid1x</code>, <code>raid5rec</code>, <code>raid6rec</code>: do uruchamiania z wirtualnych dysków <a href="../en/RAID.html" title="RAID">RAID</a>.</li>
</ul>
</li>
</ul>
<p>Musisz skonstruować listę modułów GRUB w postaci zmiennej powłoki, którą oznaczamy jako <code>GRUB_MODULES</code>. Możesz użyć <a rel="nofollow" class="external text" href="https://git.launchpad.net/~ubuntu-core-dev/grub/+git/ubuntu/tree/debian/build-efi-images">najnowszego skryptu Ubuntu</a> jako punktu startowego i usunąć moduły, które nie są potrzebne w twoim systemie. Pominięcie modułów sprawi, że proces uruchamiania będzie stosunkowo szybszy i zaoszczędzi trochę miejsca na partycji ESP.
</p>
<p>Potrzebny jest również plik/sekcja <a rel="nofollow" class="external text" href="https://github.com/rhboot/shim/blob/main/SBAT.md">Secure Boot Advanced Targeting (SBAT)</a> zawarty w pliku binarnym EFI, aby poprawić bezpieczeństwo; jeśli GRUB jest uruchamiany z programu ładującego UEFI shim.  Ten plik/sekcja SBAT zawiera metadane o pliku binarnym GRUB (wersja, opiekun, deweloper, adres URL upstream) i ułatwia shimowi blokowanie niektórych wersji GRUB-a przed załadowaniem, jeśli mają luki w zabezpieczeniach<a rel="nofollow" class="external autonumber" href="https://eclypsium.com/2020/07/29/theres-a-hole-in-the-boot/#additional">[1]</a><a rel="nofollow" class="external autonumber" href="https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/GRUB2SecureBootBypass2021">[2]</a>, jak wyjaśniono w dokumencie <a rel="nofollow" class="external text" href="https://github.com/rhboot/shim/blob/main/SBAT.md">UEFI shim bootloader secure boot life-cycle improvements</a> od shim. 
</p>
<p>Shim bootloadera UEFI pierwszego stopnia nie uruchomi <code>grubx64.efi</code>, jeśli brakuje sekcji SBAT z <code>grubx64.efi</code>! 
</p>
<p>Jeśli GRUB jest zainstalowany, przykładowy plik SBAT <i>.csv</i> znajduje się pod <code>/usr/share/grub/sbat.csv</code>. 
</p>
<p>Ponownie zainstaluj GRUB używając dostarczonego pliku <code>/usr/share/grub/sbat.csv</code> i wszystkich potrzebnych <code>GRUB_MODULES</code> i podpisz go:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --modules=${GRUB_MODULES} --sbat /usr/share/grub/sbat.csv
# sbsign --key MOK.key --cert MOK.crt --output <i>esp</i>/EFI/GRUB/grubx64.efi <i>esp</i>/EFI/GRUB/grubx64.efi
# cp <i>esp</i>/EFI/GRUB/grubx64.efi <i>esp</i>/EFI/BOOT/grubx64.efi
</pre>
<p>Uruchom ponownie komputer, wybierz klucz w <i>MokManager</i>, a Secure Boot powinien działać.
</p>
<h4><span class="mw-headline" id="Korzystanie_z_Secure_Boot">Korzystanie z Secure Boot</span></h4>
<p>Po instalacji zobacz <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Implementing_Secure_Boot" class="mw-redirect" title="Secure Boot">Secure Boot#Implementing Secure Boot</a>, aby uzyskać instrukcje dotyczące jego włączenia. 
</p>
<p>Jeśli używasz metody kluczy CA, zarządzanie kluczami, rejestracja i podpisywanie plików może być zautomatyzowane za pomocą <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sbctl">sbctl</a></span>, zobacz <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Assisted_process_with_sbctl" class="mw-redirect" title="Secure Boot">Secure Boot#Assisted process with sbctl</a> po szczegóły.
</p>
<h2><span class="mw-headline" id="Systemy_BIOS">Systemy BIOS</span></h2>
<h3>
<span id="Instrukcje_specyficzne_dla_tablicy_partycji_GUID_.28GPT.29"></span><span class="mw-headline" id="Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)">Instrukcje specyficzne dla tablicy partycji GUID (GPT)</span>
</h3>
<p>W konfiguracji BIOS/<a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GPT">GPT</a> wymagana jest partycja rozruchowa <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/BIOS-installation.html#BIOS-installation">BIOS</a>.  GRUB osadza swój <code>core.img</code> na tej partycji.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Przed wypróbowaniem tej metody należy pamiętać, że nie wszystkie systemy będą w stanie obsłużyć ten schemat partycjonowania. Przeczytaj więcej na <a href="../en/Partitioning.html#GUID_Partition_Table" title="Partitioning">Partitioning#GUID Partition Table</a>.</li>
<li>Partycja rozruchowa BIOS-u jest potrzebna GRUB-owi tylko w konfiguracji BIOS/GPT. W konfiguracji BIOS/MBR, GRUB używa luki post-MBR do osadzenia <code>core.img</code>. W przypadku GPT nie ma jednak gwarantowanego niewykorzystanego miejsca przed pierwszą partycją.</li>
<li>W przypadku systemów <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> ta dodatkowa partycja nie jest wymagana, ponieważ w tym przypadku nie odbywa się osadzanie sektorów rozruchowych. Jednak systemy UEFI nadal wymagają <a href="../en/EFI_system_partition.html" title="EFI system partition">partycji systemowej EFI</a>.</li>
</ul>
</div>
<p>Utwórz partycję mebibajtową (<code>+1M</code> z <i>fdisk</i> lub <i>gdisk</i>) na dysku bez systemu plików i z typem partycji GUID <code>21686148-6449-6E6F-744E-656564454649</code>.
</p>
<ul>
<li>Wybierz typ partycji <code>BIOS boot</code> dla <a href="../en/Fdisk.html" title="Fdisk">fdisk</a>.</li>
<li>Wybierz kod typu partycji <code>ef02</code> dla <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a>.</li>
<li>Dla <a href="../en/Parted.html" title="Parted">parted</a> ustaw/aktywuj flagę <code>bios_grub</code> na partycji.</li>
</ul>
<p>Ta partycja może być w dowolnej kolejności, ale musi znajdować się na pierwszych 2 TiB dysku.  Partycja ta musi zostać utworzona przed instalacją GRUB-a.  Gdy partycja będzie gotowa, zainstaluj bootloader zgodnie z poniższymi instrukcjami.
</p>
<p>Przestrzeń przed pierwszą partycją może być również użyta jako partycja rozruchowa BIOS-u, choć będzie poza specyfikacją wyrównania GPT.  Ponieważ partycja nie będzie regularnie używana, można pominąć kwestie wydajności, chociaż niektóre narzędzia dyskowe będą wyświetlać ostrzeżenie o tym.  W <i>fdisk</i> lub <i>gdisk</i> utwórz nową partycję zaczynającą się od sektora 34 i rozciągającą się do 2047 i ustaw jej typ.  Aby widoczne partycje zaczynały się od podstawy, rozważ dodanie tej partycji jako ostatniej.
</p>
<h3>
<span id="Instrukcje_dotycz.C4.85ce_g.C5.82.C3.B3wnego_rekordu_rozruchowego_.28MBR.29"></span><span class="mw-headline" id="Instrukcje_dotyczące_głównego_rekordu_rozruchowego_(MBR)">Instrukcje dotyczące głównego rekordu rozruchowego (MBR)</span>
</h3>
<p>Zwykle odstęp post-MBR (po 512-bajtowym regionie <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="MBR">MBR</a> i przed początkiem pierwszej partycji) w wielu systemach partycjonowanych MBR wynosi 31 KiB, gdy kwestie wyrównania cylindra zgodności z DOS są spełnione w tablicy partycji. Zaleca się jednak, aby odstęp po MBR wynosił około 1 do 2 MB, aby zapewnić wystarczającą ilość miejsca na osadzenie GRUB-a <code>core.img</code> (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/24103">FS#24103</a>). Zaleca się użycie narzędzia do partycjonowania, które obsługuje 1 MiB <a href="../en/Partitioning.html#Partition_alignment" title="Partitioning">wyrównywanie partycji</a>, aby uzyskać tę przestrzeń, a także aby spełnić inne kwestie niezwiązane z 512-bajtowymi sektorami (które nie są związane z osadzaniem <code>core.img</code>).
</p>
<h3><span class="mw-headline" id="Instalacja_2">Instalacja</span></h3>
<p><a href="../pl/Help:Reading.html#Instalowanie_pakiet%C3%B3w" class="mw-redirect" title="Zainstaluj">Zainstaluj</a> pakiet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub">grub</a></span>. (Zastąpi on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-legacy/">grub-legacy</a></span><sup><small>AUR</small></sup>, jeśli jest już zainstalowany):
</p>
<pre># grub-install --target=i386-pc <i>/dev/sdX</i>
</pre>
<p>gdzie <code>i386-pc</code> jest celowo używane niezależnie od rzeczywistej architektury, a <code><i>/dev/sdX</i></code> jest <i>dyskiem</i> (<b>nie partycją</b>), na którym ma zostać zainstalowany GRUB. Na przykład <code>/dev/sda</code> lub <code>/dev/nvme0n1</code>, lub <code>/dev/mmcblk0</code>. Zobacz <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> by zapoznać się ze schematem nazewnictwa urządzeń blokowych.
</p>
<p>Teraz należy <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">wygenerować główny plik konfiguracyjny</a>.
</p>
<p>Jeśli używasz <a href="../en/LVM.html" title="LVM">LVM</a> dla swojego <code>/boot</code>, możesz zainstalować GRUB na wielu dyskach fizycznych.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Inne sposoby instalacji GRUBa (np. instlacja na pamięci USB) opisano w <a href="../en/GRUB/Tips_and_tricks.html#Alternative_installation_methods" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Alternative installation methods</a>
</div>
<p>Zobacz <span class="plainlinks archwiki-template-man" title="$ man 8 grub-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/grub-install.8">grub-install(8)</a></span> i <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/BIOS-installation.html#BIOS-installation">GRUB Manual</a> po więcej szczegółów na temat polecenia <code>grub-install</code>.
</p>
<h2><span class="mw-headline" id="Konfiguracja">Konfiguracja</span></h2>
<p>W zainstalowanym systemie GRUB ładuje plik konfiguracyjny <code>/boot/grub/grub.cfg</code> przy każdym uruchomieniu systemu. Możesz postępować zgodnie z <a href="#Generowany_grub.cfg">#Generowany grub.cfg</a>, aby użyć narzędzia, lub <a href="#W%C5%82asny_grub.cfg">#Własny grub.cfg</a>, aby utworzyć go ręcznie.
</p>
<h3><span class="mw-headline" id="Generowany_grub.cfg">Generowany grub.cfg</span></h3>
<p>Ta sekcja obejmuje tylko edycję pliku konfiguracyjnego <code>/etc/default/grub</code>. Więcej informacji można znaleźć w <a href="../en/GRUB/Tips_and_tricks.html" title="GRUB/Tips and tricks">GRUB/Tips and tricks</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pamiętaj, aby zawsze <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">regenerować główny plik konfiguracyjny</a> po dokonaniu zmian w <code>/etc/default/grub</code> i/lub plikach w <code>/etc/grub.d/</code>. </div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Zaktualizuj/zreinstaluj bootloader (zobacz <a href="#Systemy_UEFI">#Systemy UEFI</a> albo <a href="#Systemy_BIOS">#Systemy BIOS</a>) jeśli nowa wersja GRUB-a zmieni składnię pliku konfiguracyjnego: niedopasowana konfiguracja może skutkować niemożliwym do uruchomienia systemem. Na przykład, nowa konfiguracja może wykorzystywać funkcję nieznaną istniejącemu plikowi binarnemu GRUB-a, powodując nieoczekiwane zachowanie.</div>
<h4>
<span id="Generowanie_g.C5.82.C3.B3wnego_pliku_konfiguracyjnego"></span><span class="mw-headline" id="Generowanie_głównego_pliku_konfiguracyjnego">Generowanie głównego pliku konfiguracyjnego</span>
</h4>
<p>Po instalacji należy wygenerować główny plik konfiguracyjnego <code>/boot/grub/grub.cfg</code>. Na proces generowania mogą wpływać różne opcje w <code>/etc/default/grub</code> i skrypty w <code>/etc/grub.d/</code>. Lista opcji w <code>/etc/default/grub</code> i zwięzły opis każdej z nich znajduje się na stronie <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/Simple-configuration.html">dokumentacji GNU</a>.
</p>
<p>Jeśli nie wykonałeś dodatkowej konfiguracji, automatyczne generowanie określi główny system plików systemu do uruchomienia dla pliku konfiguracyjnego. Aby to się powiodło, ważne jest, aby system był uruchomiony lub chrootowany.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Domyślną ścieżką pliku jest <code>/boot/grub/grub.cfg</code>, a nie <code>/boot/grub/i386-pc/grub.cfg</code>.</li>
<li>Jeśli próbujesz uruchomić <i>grub-mkconfig</i> w kontenerze <a href="../en/Chroot.html" title="Chroot">chroot</a> lub <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a>, możesz zauważyć, że nie działa: <code>grub-probe: error: failed to get canonical path of <i>/dev/sdaX</i></code>. W takim przypadku spróbuj użyć <a href="../en/Chroot.html#Using_arch-chroot" class="mw-redirect" title="Arch-chroot">arch-chroot</a>, jak opisano w poście <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1225067#p1225067">BBS</a>.</li>
</ul>
</div>
<p>Użyj narzędzia <i>grub-mkconfig</i> do wygenerowania <code>/boot/grub/grub.cfg</code>:
</p>
<pre># grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p>Domyślnie skrypty generujące automatycznie dodają wpisy menu dla wszystkich zainstalowanych jąder Arch Linux do wygenerowanej konfiguracji.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Po zainstalowaniu lub usunięciu <a href="../en/Kernel.html" title="Kernel">jądra</a>, wystarczy ponownie uruchomić powyższe polecenie <i>grub-mkconfig</i>.</li>
<li>Aby uzyskać wskazówki dotyczące zarządzania wieloma wpisami GRUB-a, na przykład podczas korzystania z jąder <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> i <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, zobacz <a href="../en/GRUB/Tips_and_tricks.html#Multiple_entries" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Multiple entries</a>.</li>
</ul>
</div>
<p>Aby automatycznie dodać wpisy dla innych zainstalowanych systemów operacyjnych, zobacz <a href="#Wykrywanie_innych_system%C3%B3w_operacyjnych">#Wykrywanie innych systemów operacyjnych</a>.
</p>
<p>Dodatkowe niestandardowe pozycje menu można dodać edytując <code>/etc/grub.d/40_custom</code> i ponownie generując <code>/boot/grub/grub.cfg</code>. Możesz też utworzyć <code>/boot/grub/custom.cfg</code> i dodać je tam. Zmiany w <code>/boot/grub/custom.cfg</code> nie wymagają ponownego uruchomienia <i>grub-mkconfig</i>, ponieważ <code>/etc/grub.d/41_custom</code> dodaje niezbędną instrukcję <code>source</code> do wygenerowanego pliku konfiguracyjnego.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <code>/etc/grub.d/40_custom</code> może być użyty jakoszablon do utworzenia <code>/etc/grub.d/<i>nn</i>_custom</code>, gdzie <code><i>nn</i></code> definiuje pierwszeństwo, wskazując kolejność wykonywania skryptu.  Kolejność wykonywania skryptów określa ich umiejscowienie w menu rozruchowym GRUB-a. <code><i>nn</i></code> powinno być większe niż <code>06</code>, aby zapewnić, że niezbędne skrypty są wykonywane jako pierwsze.</div>
<p>Zobacz <a href="#Przyk%C5%82ady_wpis%C3%B3w_w_menu_startowym">#Przykłady wpisów w menu startowym</a>, aby zapoznać się z przykładami niestandardowych wpisów w menu.
</p>
<h4>
<span id="Wykrywanie_innych_system.C3.B3w_operacyjnych"></span><span class="mw-headline" id="Wykrywanie_innych_systemów_operacyjnych">Wykrywanie innych systemów operacyjnych</span>
</h4>
<p>Aby <i>grub-mkconfig</i> wyszukiwał inne zainstalowane systemy i automatycznie dodawał je do menu, <a href="../pl/Help:Reading.html#Instalowanie_pakiet%C3%B3w" class="mw-redirect" title="Zainstaluj">zainstaluj</a> pakiet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=os-prober">os-prober</a></span> i <a href="../en/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">zamontuj</a> partycje, z których uruchamiane są inne systemy. Następnie ponownie uruchom <i>grub-mkconfig</i>. Jeśli otrzymasz następujące dane wyjściowe: <code>Warning: os-prober will not be executed to detect other bootable partitions</code>, edytuj <code>/etc/default/grub</code> i dodaj/usuń komentarz:
</p>
<pre>GRUB_DISABLE_OS_PROBER=false
</pre>
<p>Następnie spróbuj ponownie.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Dokładny punkt montowania nie ma znaczenia, <i>os-prober</i> odczytuje <code>mtab</code> w celu zidentyfikowania miejsc do wyszukiwania wpisów startowych.</li>
<li>Pamiętaj, aby montować partycje za każdym razem, gdy uruchamiasz <i>grub-mkconfig</i>, aby za każdym razem uwzględnić inne systemy operacyjne.</li>
<li>
<i>os-prober</i> może nie działać poprawnie po uruchomieniu w chroot. Spróbuj ponownie po ponownym uruchomieniu systemu, jeśli tego doświadczysz.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Możesz również chcieć, aby GRUB zapamiętał ostatnio wybrany wpis rozruchowy, zobacz <a href="../en/GRUB/Tips_and_tricks.html#Recall_previous_entry" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Recall previous entry</a>.</div>
<h5><span class="mw-headline" id="Windows">Windows</span></h5>
<p>W przypadku systemu Windows zainstalowanego w trybie UEFI należy upewnić się, że <a href="../en/EFI_system_partition.html" title="EFI system partition">partycja systemowa EFI</a> zawierająca Menedżera rozruchu systemu Windows (<code>bootmgfw.efi</code>) jest zamontowana. Uruchom <code>os-prober</code> jako root, aby wykryć i wygenerować dla niego wpis.
</p>
<p>W przypadku systemu Windows zainstalowanego w trybie BIOS, zamontuj partycję systemową Windows (jej <a href="../en/Persistent_block_device_naming.html#by-label" title="Persistent block device naming">etykieta systemu plików</a> powinna być <code>System Reserved</code> lub <code>SYSTEM</code>). Uruchom <code>os-prober</code> jako root, aby wykryć i wygenerować dla niego wpis.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> W przypadku systemu Windows zainstalowanego w trybie BIOS:
<ul><li>Partycje NTFS mogą nie zawsze być wykrywane po zamontowaniu ich przy użyciu domyślnych sterowników Linuksa. Jeśli GRUB ich nie wykrywa, spróbuj zainstalować <a href="../en/NTFS-3G.html" title="NTFS-3G">NTFS-3G</a> i ponownie zamontować.</li></ul>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Od Windows 7, <code>bootmgr</code> jest umieszczany w <a href="https://en.wikipedia.org/wiki/System_partition_and_boot_partition#Microsoft_definition" class="extiw" title="wikipedia:System partition and boot partition">partycji systemowej</a>, która nie jest szyfrowana. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GRUB.html">Talk:GRUB (Polski)</a>)</div>
</div>
<ul><li>Zaszyfrowane partycje Windows mogą wymagać odszyfrowania przed zamontowaniem. W przypadku BitLockera można to zrobić za pomocą <a href="../pl/Dm-crypt/Device_encryption.html#Wykorzystanie_Cryptsetup" class="mw-redirect" title="Cryptsetup (Polski)">cryptsetup</a> lub <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dislocker/">dislocker</a></span><sup><small>AUR</small></sup>. To powinno wystarczyć, aby <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=os-prober">os-prober</a></span> dodał prawidłowy wpis.</li></ul>
</div>
<h4><span class="mw-headline" id="Dodatkowe_argumenty">Dodatkowe argumenty</span></h4>
<p>Aby przekazać niestandardowe dodatkowe argumenty do obrazu Linuksa, można ustawić zmienne <code>GRUB_CMDLINE_LINUX</code> + <code>GRUB_CMDLINE_LINUX_DEFAULT</code>. + <code>GRUB_CMDLINE_LINUX_DEFAULT</code> w <code>/etc/default/grub</code>. Te dwie zmienne są dołączane do siebie i przekazywane do jądra podczas generowania zwykłych wpisów rozruchowych. Dla wpisu rozruchowego <i>recovery</i>, tylko <code>GRUB_CMDLINE_LINUX</code> jest używane podczas generowania.
</p>
<p>Użycie obu nie jest konieczne, ale może być przydatne. Na przykład, można użyć <code>GRUB_CMDLINE_LINUX_DEFAULT="resume=UUID=<i>uuid-of-swap-partitio</i> quiet"</code> gdzie <code><i>uuid-partycji-wymiany</i></code> jest <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> partycji wymiany, aby włączyć wznawianie po <a href="../en/Power_management/Suspend_and_hibernate.html#Hibernation" class="mw-redirect" title="Hibernation">hibernacja</a>. Spowoduje to wygenerowanie wpisu rozruchu odzyskiwania bez wznowienia i bez <code>quiet</code> tłumienia komunikatów jądra podczas rozruchu z tego wpisu menu. Chociaż inne (zwykłe) pozycje menu miałyby je jako opcje.
</p>
<p>Domyślnie <i>grub-mkconfig</i> określa <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> głównego systemu plików dla konfiguracji. Aby to wyłączyć, należy odkomentować <code>GRUB_DISABLE_LINUX_UUID=true</code>.
</p>
<p>Aby wygenerować wpis odzyskiwania GRUB-a należy upewnić się, że <code>GRUB_DISABLE_RECOVERY</code> nie jest ustawiony na <code>true</code> w <code>/etc/default/grub</code>.
</p>
<p>Więcej informacji można znaleźć w artykule <a href="../en/Kernel_parameters.html" title="Kernel parameters">na temat parametrów jądra</a>.
</p>
<h4>
<span id="Ustawianie_pozycji_menu_najwy.C5.BCszego_poziomu"></span><span class="mw-headline" id="Ustawianie_pozycji_menu_najwyższego_poziomu">Ustawianie pozycji menu najwyższego poziomu</span>
</h4>
<p>Domyślnie <i>grub-mkconfig</i> sortuje dołączone jądra za pomocą <code>sort -V</code> i używa pierwszego jądra na tej liście jako wpisu najwyższego poziomu. Oznacza to, że na przykład, ponieważ <code>/boot/vmlinuz-linux-lts</code> jest sortowane przed <code>/boot/vmlinuz-linux</code>, jeśli masz zainstalowane zarówno <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, jak i <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span>, jądro LTS będzie wpisem menu najwyższego poziomu, co może nie być pożądane. Można to zmienić podając <code>GRUB_TOP_LEVEL=<i>sciezka_do_jadra</i></code> w <code>/etc/default/grub</code>. Na przykład, aby zwykłe jądro było pozycją menu najwyższego poziomu, można użyć <code>GRUB_TOP_LEVEL=„/boot/vmlinuz-linux”</code>.
</p>
<h4><span class="mw-headline" id="LVM">LVM</span></h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Installation">#Installation</a>.</b></p>
<div>
<b>Notes:</b> grub-mkconfig jest w stanie wykryć, że potrzebuje modułu <code>lvm</code>, podawanie go w <code>GRUB_PRELOAD_MODULES</code> nie jest wymagane. Przenieś ostrzeżenie do <a href="#Installation">#Installation</a> &amp; <a href="#Installation_2">#Installation_2</a> lub utwórz <a href='../en/Help:Style.html#"Known_issues"_section' title="Help:Style">sekcję znanych problemów</a> i udokumentuj je tam. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GRUB.html">Talk:GRUB (Polski)</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> GRUB nie obsługuje woluminów logicznych thin-provisioned</div>
<p>Jeśli korzystasz z <a href="../en/LVM.html" title="LVM">LVM</a> dla partycji głównej <code>/boot</code> lub <code>/</code>, upewnij się, że moduł <code>lvm</code> jest wstępnie załadowany:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_PRELOAD_MODULES="... lvm"</pre>
<h4><span class="mw-headline" id="RAID">RAID</span></h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Installation">#Installation</a>.</b></p>
<div>
<b>Notes:</b> grub-mkconfig jest w stanie wykryć, że potrzebuje modułów <code>mdraid09</code> i/lub <code>mdraid1x</code>, podawanie ich w <code>GRUB_PRELOAD_MODULES</code> nie jest wymagane. Podsumuj podwójną instalację grub w notatce i przenieś ją do <a href="#Instalacja">#Instalacja</a>; przenieś <code>set root</code> rzeczy do <a href="#W%C5%82asny_grub.cfg">#Własny grub.cfg</a>. (Discuss in <a rel="nofollow" class="external text" href="../pl/Talk:GRUB.html">Talk:GRUB (Polski)</a>)</div>
</div>
<p>GRUB zapewnia wygodną obsługę woluminów <a href="../en/RAID.html" title="RAID">RAID</a>. Należy załadować moduły GRUB <code>mdraid09</code> lub <code>mdraid1x</code>, aby umożliwić natywne adresowanie woluminu:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_PRELOAD_MODULES="... mdraid09 mdraid1x"</pre>
<p>Na przykład <code>/dev/md0</code> staje się:
</p>
<pre>set root=(md/0)
</pre>
<p>podczas gdy partycjonowany wolumin RAID (np. <code>/dev/md0p1</code>) staje się:
</p>
<pre>set root=(md/0,1)
</pre>
<p>Aby zainstalować gruba przy użyciu RAID1 jako partycji <code>/boot</code> (lub przy użyciu <code>/boot</code> umieszczonego na partycji głównej RAID1), w systemach BIOS wystarczy uruchomić <i>grub-install</i> na obu dyskach, np:
</p>
<pre># grub-install --target=i386-pc --debug /dev/sda
# grub-install --target=i386-pc --debug /dev/sdb
</pre>
<p>Gdzie macierz RAID 1 zawierająca <code>/boot</code> znajduje się na <code>/dev/sda</code> i <code>/dev/sdb</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GRUB obsługuje bootowanie z <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>. RAID 0/1/10, ale <i>nie</i> RAID 5/6. Możesz użyć <a href="../en/RAID.html" class="mw-redirect" title="Mdadm">mdadm</a> dla RAID 5/6, który jest obsługiwany przez GRUB.</div>
<h4>
<span id="Zaszyfrowane_.2Fboot"></span><span class="mw-headline" id="Zaszyfrowane_/boot">Zaszyfrowane /boot</span>
</h4>
<p>GRUB posiada również specjalne wsparcie dla uruchamiania z zaszyfrowanym <code>/boot</code>. Odbywa się to poprzez odblokowanie <a href="../en/Dm-crypt.html" class="mw-redirect" title="LUKS">LUKS</a> blockdevice w celu odczytania jego konfiguracji i załadowania z niego <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> i <a href="../en/Kernel.html" title="Kernel">kernel</a>. Opcja ta próbuje rozwiązać problem posiadania <a href="../pl/Dm-crypt/Specialties.html#Zabezpieczanie_niezaszyfrowanej_partycji_rozruchowej" title="Dm-crypt (Polski)/Specialties (Polski)">niezaszyfrowanej partycji rozruchowej</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <code>/boot</code> nie musi znajdować się na oddzielnej partycji; może również pozostać w głównym drzewie  katalogów <code>/</code> systemu</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> GRUB 2.12rc1 ma ograniczoną obsługę LUKS2. Szczegółowe informacje znajdują się w sekcji <a href="#LUKS2">#LUKS2</a> poniżej.</div>
<p>Aby włączyć tę funkcję, należy zaszyfrować partycję z <code>/boot</code> znajdującą się na niej przy użyciu <a href="../en/Dm-crypt.html" class="mw-redirect" title="LUKS">LUKS</a> w normalny sposób. Następnie dodaj następującą opcję do <code>/etc/default/grub</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_ENABLE_CRYPTODISK=y</pre>
<p>Ta opcja jest używana przez grub-install do generowania grub <code>core.img</code>.
</p>
<p><a href="#Instalacja">Zainstaluj GRUB</a> po zmodyfikowaniu tej opcji lub zaszyfrowaniu partycji.
</p>
<p>Bez dalszych zmian zostaniesz dwukrotnie poproszony o podanie hasła: pierwsze dla GRUB-a w celu odblokowania punktu montowania <code>/boot</code> we wczesnym rozruchu, drugie w celu odblokowania samego głównego systemu plików zaimplementowanego przez initramfs. Aby tego uniknąć, można użyć <a href="../pl/Dm-crypt/Device_encryption.html#Odblokowywanie_dodatkowej_partycji_podczas_rozruchu" title="Dm-crypt (Polski)/Device encryption (Polski)">pliku klucza</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Jeśli chcesz <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">generować główny plik konfiguracyjny</a>, upewnij się, że <code>/boot</code> jest zamontowany.</li>
<li>Aby wykonać aktualizacje systemu obejmujące punkt montowania <code>/boot</code>, należy upewnić się, że zaszyfrowany <code>/boot</code> jest odblokowany i zamontowany przed wykonaniem aktualizacji. W przypadku oddzielnej partycji <code>/boot</code>, można to osiągnąć automatycznie podczas rozruchu, używając <a href="../en/Dm-crypt/System_configuration.html#crypttab" class="mw-redirect" title="Crypttab">crypttab</a> z <a href="../pl/Dm-crypt/Device_encryption.html#Odblokowywanie_dodatkowej_partycji_podczas_rozruchu" title="Dm-crypt (Polski)/Device encryption (Polski)">plikiem klucza</a>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Jeśli używasz specjalnej mapy klawiszy, domyślna instalacja GRUB-a nie będzie jej znała. Jest to istotne dla sposobu wprowadzania hasła w celu odblokowania urządzenia blokującego LUKS. Zobacz <a href="../en/GRUB/Tips_and_tricks.html#Manual_configuration_of_core_image_for_early_boot" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Manual configuration of core image for early boot</a>.</li>
<li>Jeśli wystąpią problemy z wyświetleniem monitu o hasło (błędy dotyczące cryptouuid, cryptodisk lub „nie znaleziono urządzenia”), spróbuj ponownie zainstalować GRUB i dodać <code>--modules=„part_gpt part_msdos”</code> na końcu polecenia <code>grub-install</code>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Możesz użyć <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=234607">hooków pacmana</a> do automatycznego zamontowania <code>/boot</code> gdy aktualizacje potrzebują dostępu do powiązanych plików.</div>
<h5><span class="mw-headline" id="LUKS2">LUKS2</span></h5>
<p>Użyj <code>grub-install</code> jak opisano w sekcji <a href="#Instalacja">#Instalacja</a>, aby utworzyć bootowalny obraz GRUB z obsługą LUKS. Należy pamiętać o następujących zastrzeżeniach:
</p>
<ul>
<li>Początkowa obsługa LUKS2 została dodana do GRUB 2.06, ale z kilkoma ograniczeniami, które zostały tylko częściowo rozwiązane w GRUB 2.12rc1. Zobacz <a rel="nofollow" class="external text" href="https://savannah.gnu.org/bugs/?55093">GRUB bug #55093</a>.</li>
<li>Od wersji GRUB 2.12rc1, <code>grub-install</code> może utworzyć obraz rdzenia w celu odblokowania LUKS2. Jednak obsługuje on tylko PBKDF2, a nie Argon2.</li>
<li>Argon2id (domyślny tryb <i>cryptsetup</i>) i Argon2i PBKDF nie są obsługiwane (<a rel="nofollow" class="external text" href="https://savannah.gnu.org/bugs/?59409">GRUB bug #59409</a>), tylko PBKDF2 jest.</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Możesz użyć <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-improved-luks2-git/">grub-improved-luks2-git</a></span><sup><small>AUR</small></sup>, który został załatany dla LUKS2 jak również obsługi Argon. Należy pamiętać, że obsługa Argon w pakiecie wymaga systemu UEFI.<a rel="nofollow" class="external autonumber" href="https://aur.archlinux.org/packages/grub-improved-luks2-git#comment-911119">[3]</a>
</div></dd></dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Przed GRUB 2.12rc1, trzeba było ręcznie utworzyć plik binarny EFI używając <code>grub-mkimage</code> z niestandardowym plikiem konfiguracyjnym GRUB. Na przykład <code>/boot/grub/grub-pre.cfg</code>, z wywołaniami <code>cryptomount</code>, <code>insmod normal</code> i <code>normal</code>. Nie jest to już potrzebne, <code>grub-install</code> jest wystarczające. Jednakże, może być konieczne uruchomienie <code>grub-mkconfig -o /boot/grub/grub.cfg</code> przynajmniej raz po aktualizacji z 2.06.</div>
<p>Jeśli wprowadzisz nieprawidłowe hasło podczas rozruchu i skończysz w powłoce ratunkowej GRUB, spróbuj <code>cryptomount -a</code>, aby zamontować wszystkie (miejmy nadzieję, że tylko jedną) zaszyfrowane partycje lub użyj <code>cryptomount -u $crypto_uuid</code>, aby zamontować konkretną. Następnie wykonaj <code>insmod normal</code> i <code>normal</code> jak zwykle.
</p>
<p>Jeśli wprowadzisz poprawne hasło, ale natychmiast zostanie zwrócony błąd <code>Invalid passphrase</code>, upewnij się, że podano właściwe moduły kryptograficzne. Użyj <code>cryptsetup luksDump <i>/dev/nvme0n1p2</i></code> i sprawdź, czy funkcja skrótu (SHA-256, SHA-512) jest zgodna z zainstalowanymi modułami (<code>gcry_sha256</code>, <code>gcry_sha512</code>), a algorytm PBKDF to pbkdf2. Algorytmy hash i PBDKDF można zmienić dla istniejących kluczy za pomocą <code>cryptsetup luksConvertKey --hash <i>sha256</i> --pbkdf pbkdf2 <i>/dev/nvme0n1p2</i></code>.  W normalnych okolicznościach przetworzenie hasła powinno zająć kilka sekund.
</p>
<h3>
<span id="W.C5.82asny_grub.cfg"></span><span class="mw-headline" id="Własny_grub.cfg">Własny grub.cfg</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Dodać instrukcje jak napisać niestandardowy plik <code>/boot/grub/grub.cfg</code>. Zobacz <a href="../User:Eschwartz/Grub.html" title="User:Eschwartz/Grub">User:Eschwartz/Grub</a> dla proponowanego projektu. (Discuss in <a href="/index.php?title=Talk:GRUB_(Polski)&amp;action=edit&amp;redlink=1" class="new" title="Talk:GRUB (Polski) (page does not exist)">Talk:GRUB (Polski)#Manually generate grub.cfg</a>)</div>
</div>
<p>Ta sekcja opisuje ręczne tworzenie wpisów rozruchowych GRUB-a w <code>/boot/grub/grub.cfg</code> zamiast polegania na <i>grub-mkconfig</i>.
</p>
<p>Podstawowy plik konfiguracyjny GRUB-a wykorzystuje następujące opcje:
</p>
<ul>
<li>
<code>(hd<i>X</i>,<i>Y</i>)</code> jest partycją <i>Y</i> na dysku <i>X</i>, numery partycji zaczynają się od 1, numery dysków zaczynają się od 0</li>
<li>
<code>set default=<i>N</i></code> to domyślny wpis rozruchowy, który jest wybierany po upływie limitu czasu dla akcji użytkownika</li>
<li>
<code>set timeout=<i>M</i></code> to czas <i>M</i> oczekiwania w sekundach na wybór użytkownika przed uruchomieniem domyślnej opcji</li>
<li>
<code>menuentry „title” {opcje wpisu}</code> to wpis startowy zatytułowany <code>title</code>.</li>
<li>
<code>set root=(hd<i>X</i>,<i>Y</i>)</code> ustawia partycję rozruchową, na której przechowywane jest jądro i moduły GRUB (partycja rozruchowa nie musi być oddzielną partycją i może być po prostu katalogiem pod partycją „root”) (<code>/</code>)</li>
</ul>
<h4><span class="mw-headline" id="LoaderDevicePartUUID">LoaderDevicePartUUID</span></h4>
<p>Aby GRUB ustawił zmienną <code>LoaderDevicePartUUID</code> UEFI wymaganą przez <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-gpt-auto-generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-gpt-auto-generator.8">systemd-gpt-auto-generator(8)</a></span> dla <a href="../en/Systemd.html#GPT_partition_automounting" title="Systemd">Automatyczne montowanie partycji GPT</a>, załaduj moduł <code>bli</code> w <code>grub.cfg</code>:
</p>
<pre>if [ "$grub_platform" = "efi" ]; then
  insmod bli
fi</pre>
<h4>
<span id="Przyk.C5.82ady_wpis.C3.B3w_w_menu_startowym"></span><span class="mw-headline" id="Przykłady_wpisów_w_menu_startowym">Przykłady wpisów w menu startowym</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Te wpisy rozruchowe mogą być również używane podczas korzystania z <code>/boot/grub/grub.cfg</code> wygenerowanego przez <i>grub-mkconfig</i>. Dodaj je do <code>/etc/grub.d/40_custom</code> i <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">zregeneruj główny plik konfiguracyjny</a> lub dodaj je do <code>/boot/grub/custom.cfg</code>.</div>
<p>Wskazówki dotyczące zarządzania wieloma wpisami GRUB-a, na przykład podczas korzystania z jąder <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> i <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, można znaleźć w <a href="../en/GRUB/Tips_and_tricks.html#Multiple_entries" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Multiple entries</a>.
</p>
<p>Pozycje menu rozruchowego <a href="../en/Archiso.html" title="Archiso">Archiso</a> i <a rel="nofollow" class="external text" href="https://archboot.com">Archboot</a> znajdują się w sekcji <a href="../en/Multiboot_USB_drive.html#Boot_entries" title="Multiboot USB drive">Multiboot USB drive#Boot entries</a>.
</p>
<h5><span class="mw-headline" id="Polecenia_GRUB">Polecenia GRUB</span></h5>
<h6>
<span id="Pozycja_menu_.E2.80.9EShutdown.E2.80.9D_.28Zamknij.29"></span><span class="mw-headline" id="Pozycja_menu_„Shutdown”_(Zamknij)">Pozycja menu „Shutdown” (Zamknij)</span>
</h6>
<pre>menuentry "Wyłączenie systemu" {
	echo "Wyłącznie systemu..."
	halt
}
</pre>
<h6>
<span id="Pozycja_menu_.E2.80.9EPonowne_uruchomienie_systemu.E2.80.9D"></span><span class="mw-headline" id="Pozycja_menu_„Ponowne_uruchomienie_systemu”">Pozycja menu „Ponowne uruchomienie systemu”</span>
</h6>
<pre>menuentry "Ponowne uruchomienie systemu" {
	echo "Ponowne uruchamianie systemu..."
	reboot
}
</pre>
<h6>
<span id="Pozycja_menu_.E2.80.9EUstawienia_oprogramowania_sprz.C4.99towego_UEFI.E2.80.9D"></span><span class="mw-headline" id="Pozycja_menu_„Ustawienia_oprogramowania_sprzętowego_UEFI”">Pozycja menu „Ustawienia oprogramowania sprzętowego UEFI”</span>
</h6>
<pre>if [ ${grub_platform} == "efi" ]; then
	menuentry 'Ustawienia oprogramowania sprzętowego UEFI' --id 'uefi-firmware' {
		fwsetup
	}
fi</pre>
<h5><span class="mw-headline" id="Pliki_binarne_EFI">Pliki binarne EFI</span></h5>
<p>Po uruchomieniu w trybie UEFI, GRUB może łańcuchowo ładować inne pliki binarne EFI.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Aby wyświetlić te pozycje menu tylko wtedy, gdy GRUB jest uruchomiony w trybie UEFI, dołącz je do następującej instrukcji <code>if</code>:
<pre>if [ ${grub_platform} == "efi" ]; then
	<i>umieść tutaj wpisy menu tylko dla UEFI</i>
fi</pre>
</div>
<h6>
<span id="Pow.C5.82oka_UEFI"></span><span class="mw-headline" id="Powłoka_UEFI">Powłoka UEFI</span>
</h6>
<p>Można uruchomić <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" title="Unified Extensible Firmware Interface">Powłokę UEFI</a>, umieszczając ją w katalogu głównym <a href="../en/EFI_system_partition.html" title="EFI system partition">partycji systemowej EFI</a> i dodając ten wpis do menu:
</p>
<pre>menuentry "Powłoka UEFI" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --file /shellx64.efi
	chainloader /shellx64.efi
}</pre>
<h6><span class="mw-headline" id="gdisk">gdisk</span></h6>
<p>Pobierz <a href="../en/GPT_fdisk.html#gdisk_EFI_application" class="mw-redirect" title="Gdisk">gdisk EFI</a> i skopiuj <code>gdisk_x64.efi</code> do <code><i>esp</i>/EFI/tools/</code>.
</p>
<pre>menuentry "gdisk" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --file /EFI/tools/gdisk_x64.efi
	chainloader /EFI/tools/gdisk_x64.efi
}</pre>
<h6>
<span id=".C5.81adowanie_.C5.82a.C5.84cuchowe_zunifikowanego_obrazu_j.C4.85dra"></span><span class="mw-headline" id="Ładowanie_łańcuchowe_zunifikowanego_obrazu_jądra">Ładowanie łańcuchowe zunifikowanego obrazu jądra</span>
</h6>
<p>Jeśli posiadasz <a href="../en/Unified_kernel_image.html" title="Unified kernel image">zunifikowany obraz jądra</a> wygenerowany w wyniku <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> lub w inny sposób, możesz dodać go do menu rozruchowego. Na przykład:
</p>
<pre>menuentry "Arch Linux" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --fs-uuid <i>FILESYSTEM_UUID</i>
	chainloader /EFI/Linux/arch-linux.efi
}</pre>
<h5><span class="mw-headline" id="Dual-booting">Dual-booting</span></h5>
<h6>
<span id="GNU.2FLinux"></span><span class="mw-headline" id="GNU/Linux">GNU/Linux</span>
</h6>
<p>Zakładając, że druga dystrybucja znajduje się na partycji <code>sda2</code>:
</p>
<pre>menuentry "Inny Linux" {
	set root=(hd0,2)
	linux /boot/vmlinuz (dodaj inne opcje zgodnie z potrzebami)
	initrd /boot/initrd.img (jeśli inne jądro go używa/potrzebuje)
}</pre>
<p>Alternatywnie, GRUB może wyszukać właściwą partycję według identyfikatora UUID lub etykiety systemu plików:
</p>
<pre>menuentry "Inny Linux" {
        # zakładając, że UUID to 763A-9CB6
	search --no-floppy --set=root --fs-uuid 763A-9CB6

        # wyszukiwanie według etykiety INNY_LINUX (upewnij się, że etykieta partycji jest jednoznaczna)
        #search --no-floppy --set=root --label INNY_LINUX

	linux /boot/vmlinuz (dodaj tutaj inne opcje zgodnie z potrzebami, na przykład: root=UUID=763A-9CB6)
	initrd /boot/initrd.img (jeśli inne jądro go używa/potrzebuje)
}</pre>
<p>Jeśli inna dystrybucja ma już prawidłowy folder <code>/boot</code> z zainstalowanym GRUB-em, <code>grub.cfg</code>, jądrem i initramfs, GRUB może zostać poinstruowany, aby załadować te inne pliki <code>grub.cfg</code> w locie podczas rozruchu. Na przykład dla <code>hd0</code> i czwartej partycji GPT:
</p>
<pre>menuentry "configfile hd0,gpt4"  {
        insmod part_gpt
        insmod btrfs
        insmod ext2
        set root='hd0,gpt4'
        configfile /boot/grub/grub.cfg
}</pre>
<p>Po wybraniu tej pozycji GRUB ładuje plik <code>grub.cfg</code> z drugiego woluminu i wyświetla to menu. Wszelkie zmiany zmiennych środowiskowych dokonane za pomocą poleceń w pliku nie zostaną zachowane po zakończeniu <code>configfile</code>. Naciśnij <code>Esc</code>, aby powrócić do pierwszego menu GRUB-a.
</p>
<h6>
<span id="Windows_zainstalowany_w_trybie_UEFI.2FGPT"></span><span class="mw-headline" id="Windows_zainstalowany_w_trybie_UEFI/GPT">Windows zainstalowany w trybie UEFI/GPT</span>
</h6>
<p>Ten tryb określa, gdzie znajduje się program ładujący systemu Windows i ładuje go łańcuchowo po GRUB-ie po wybraniu pozycji menu. Głównym zadaniem jest znalezienie partycji systemowej EFI i uruchomienie z niej programu ładującego.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ta pozycja menu będzie działać tylko w trybie rozruchowym UEFI i tylko wtedy, gdy bitowość systemu Windows jest zgodna z bitowością UEFI. Nie będzie działać w GRUB-ie zainstalowanym w BIOS-ie. Zobacz <a href="../en/Dual_boot_with_Windows.html#Windows_UEFI_vs_BIOS_limitations" title="Dual boot with Windows">Dual boot with Windows#Windows UEFI vs BIOS limitations</a> i <a href="../en/Dual_boot_with_Windows.html#Bootloader_UEFI_vs_BIOS_limitations" title="Dual boot with Windows">Dual boot with Windows#Bootloader UEFI vs BIOS limitations</a> aby uzyskać więcej informacji.</div>
<pre>if [ "${grub_platform}" == "efi" ]; then
	menuentry "Microsoft Windows Vista/7/8/8.1 UEFI/GPT" {
		insmod part_gpt
		insmod fat
		insmod chain
		search --no-floppy --fs-uuid --set=root $hints_string $fs_uuid
		chainloader /EFI/Microsoft/Boot/bootmgfw.efi
	}
fi</pre>
<p>gdzie <code>$hints_string</code> i <code>$fs_uuid</code> są uzyskiwane za pomocą następujących dwóch poleceń.
</p>
<p>Polecenie <code>$fs_uuid</code> określa identyfikator UUID partycji systemowej EFI:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># grub-probe --target=fs_uuid <i>esp</i>/EFI/Microsoft/Boot/bootmgfw.efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">1ce5-7f28</pre>
<p>Alternatywnie można uruchomić <code>lsblk --fs</code> i odczytać UUID partycji systemowej EFI.
</p>
<p>Polecenie <code>$hints_string</code> określi lokalizację partycji systemowej EFI, w tym przypadku dysku twardego 0:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># grub-probe --target=hints_string <i>esp</i>/EFI/Microsoft/Boot/bootmgfw.efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">--hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1</pre>
<p>Te dwa polecenia zakładają, że ESP używany przez Windows jest zamontowany pod adresem <code><i>esp</i></code>. Mogą istnieć różnice w ścieżce do pliku EFI systemu Windows, ponieważ jest to system Windows i tak dalej.
</p>
<h6>
<span id="Windows_zainstalowany_w_trybie_BIOS.2FMBR"></span><span class="mw-headline" id="Windows_zainstalowany_w_trybie_BIOS/MBR">Windows zainstalowany w trybie BIOS/MBR</span>
</h6>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GRUB obsługuje uruchamianie <code>bootmgr</code> bezpośrednio i <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub.html#Chain_002dloading">chainloading</a> sektora rozruchowego partycji nie jest już wymagane do uruchomienia systemu Windows w konfiguracji BIOS/MBR.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Jest to <b>partycja systemowa</b>, która ma <code>/bootmgr</code>, a nie "prawdziwa" partycja Windows (zwykle <code>C:</code>).<a href="../en/Persistent_block_device_naming.html#by-label" title="Persistent block device naming">Etykieta systemu plików</a> partycji systemowej to <code>System Reserved</code> lub <code>SYSTEM</code>, a jej rozmiar wynosi od 100 do 549 MB. Więcej informacji można znaleźć w <a href="https://en.wikipedia.org/wiki/System_partition_and_boot_partition" class="extiw" title="wikipedia:System partition and boot partition">Wikipedia:Partycja systemowa i partycja rozruchowa</a>.</div>
<p>W całej tej sekcji zakłada się, że partycja Windows to <code>/dev/sda1</code>. Inna partycja zmieni każde wystąpienie <code>hd0,msdos1</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Te pozycje menu będą działać tylko w trybie rozruchu BIOS. Nie będą działać w GRUB zainstalowanym w UEFI. Zobacz <a href="../en/Dual_boot_with_Windows.html#Windows_UEFI_vs_BIOS_limitations" title="Dual boot with Windows">Dual boot with Windows#Windows UEFI vs BIOS limitations</a> i <a href="../en/Dual_boot_with_Windows.html#Bootloader_UEFI_vs_BIOS_limitations" title="Dual boot with Windows">Dual boot with Windows#Bootloader UEFI vs BIOS limitations</a>.</div>
<p>W obu przykładach <code><i>XXXX-XXXX</i></code> to UUID systemu plików, który można znaleźć za pomocą polecenia <code>lsblk --fs</code>.
</p>
<p>Dla Windows Vista/7/8/8.1/10:
</p>
<pre>if [ "${grub_platform}" == "pc" ]; then
	menuentry "Microsoft Windows Vista/7/8/8.1/10 BIOS/MBR" {
		insmod part_msdos
		insmod ntfs
		insmod ntldr
		search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1 <i>XXXX-XXXX</i>
		ntldr /bootmgr
	}
fi</pre>
<p>Dla Windows XP:
</p>
<pre>if [ "${grub_platform}" == "pc" ]; then
	menuentry "Microsoft Windows XP" {
		insmod part_msdos
		insmod ntfs
		insmod ntldr
		search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1 <i>XXXX-XXXX</i>
		ntldr /ntldr
	}
fi</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> W niektórych przypadkach GRUB może zostać zainstalowany bez czystego systemu Windows 8, w którym to przypadku nie można uruchomić systemu Windows bez wystąpienia błędu <code>\boot\bcd</code> (kod błędu <code>0xc000000f</code>). (kod błędu <code>0xc000000f</code>). Możesz to naprawić, przechodząc do Konsoli odzyskiwania systemu Windows (<code>cmd.exe</code> z dysku instalacyjnego) i wykonując:
<pre>X:\&gt; bootrec.exe /fixboot
X:\&gt; bootrec.exe /RebuildBcd
</pre>
<p><b>Nie</b> używaj <code>bootrec.exe /Fixmbr</code>, ponieważ wyczyści to GRUB.
Możesz też użyć funkcji Boot Repair w menu Troubleshooting - nie wymaże ona GRUB-a, ale naprawi większość błędów.
Ponadto lepiej jest mieć podłączony zarówno docelowy dysk twardy, jak i <b>TYLKO</b> urządzenie rozruchowe. Windows zazwyczaj nie naprawia informacji rozruchowych, jeśli podłączone są inne urządzenia.
</p>
</div>
<h5><span class="mw-headline" id="Korzystanie_z_etykiet">Korzystanie z etykiet</span></h5>
<p>Możliwe jest użycie etykiet systemu plików, czytelnych dla człowieka ciągów znaków dołączonych do systemów plików, poprzez użycie opcji <code>--label</code> w komendzie <code>search</code>. Po pierwsze, <a href="../en/Persistent_block_device_naming.html#by-label" title="Persistent block device naming">upewnij się, że system plików ma etykietę</a>.
</p>
<p>Następnie dodaj wpis przy użyciu etykiet. Przykład:
</p>
<pre>menuentry "Arch Linux, session texte" {
  search --label --set=root archroot
  linux /boot/vmlinuz-linux root=/dev/disk/by-label/archroot ro
  initrd /boot/initramfs-linux.img
}
</pre>
<h2>
<span id="U.C5.BCywanie_pow.C5.82oki_polece.C5.84"></span><span class="mw-headline" id="Używanie_powłoki_poleceń">Używanie powłoki poleceń</span>
</h2>
<p>Ponieważ MBR jest zbyt mały, aby przechowywać wszystkie moduły GRUB-a, znajduje się tam tylko menu i kilka podstawowych poleceń. Większość funkcjonalności GRUB-a pozostaje w modułach w <code>/boot/grub/</code>, które są wstawiane w razie potrzeby. W warunkach błędu (np. jeśli zmieni się układ partycji) GRUB może nie uruchomić się. W takim przypadku może pojawić się powłoka poleceń.
</p>
<p>GRUB oferuje wiele powłok/promptów. Jeśli wystąpi problem z odczytaniem menu, ale bootloader jest w stanie znaleźć dysk, prawdopodobnie zostaniesz przeniesiony do "normalnej" powłoki:
</p>
<pre>grub&gt;
</pre>
<p>W przypadku poważniejszego problemu (np. gdy GRUB nie może znaleźć wymaganych plików), użytkownik może zostać przeniesiony do powłoki "ratunkowej":
</p>
<pre>grub rescue&gt;
</pre>
<p>Powłoka ratunkowa jest ograniczonym podzbiorem normalnej powłoki, oferującym znacznie mniej funkcji. Jeśli zostaniesz przeniesiony do powłoki ratunkowej, najpierw spróbuj wstawić "normalny" moduł, a następnie uruchom "normalną" powłokę:
</p>
<pre>grub rescue&gt; set prefix=(hdX,Y)/boot/grub
grub rescue&gt; insmod (hdX,Y)/boot/grub/i386-pc/normal.mod
rescue:grub&gt; normal
</pre>
<h3>
<span id="Obs.C5.82uga_pagera"></span><span class="mw-headline" id="Obsługa_pagera">Obsługa pagera</span>
</h3>
<p>GRUB obsługuje pager do odczytywania poleceń, które dostarczają długich danych wyjściowych (takich jak polecenie <code>help</code>). Działa to tylko w normalnym trybie powłoki, a nie w trybie ratunkowym. Aby włączyć pager, w powłoce poleceń GRUB wpisz:
</p>
<pre>sh:grub&gt; set pager=1
</pre>
<h3>
<span id="U.C5.BCywanie_.C5.9Brodowiska_pow.C5.82oki_polece.C5.84_do_uruchamiania_system.C3.B3w_operacyjnych"></span><span class="mw-headline" id="Używanie_środowiska_powłoki_poleceń_do_uruchamiania_systemów_operacyjnych">Używanie środowiska powłoki poleceń do uruchamiania systemów operacyjnych</span>
</h3>
<pre>grub&gt;
</pre>
<p>Środowisko powłoki poleceń GRUB-a może być używane do uruchamiania systemów operacyjnych.
Powszechnym scenariuszem może być uruchamianie systemu Windows / Linux przechowywanego na dysku / partycji poprzez <b>ładowanie łańcuchowe</b>.
</p>
<p><i>Ładowanie łańcuchowe</i> oznacza ładowanie innego boot-loadera z bieżącego, tj. ładowanie łańcuchowe.
</p>
<p>Inny program ładujący może być osadzony na początku dysku partycjonowanego (MBR), na początku partycji lub dysku bez partycji (VBR) lub jako plik binarny EFI w przypadku UEFI.
</p>
<h4>
<span id=".C5.81a.C5.84cuchowe_.C5.82adowanie_VBR_partycji"></span><span class="mw-headline" id="Łańcuchowe_ładowanie_VBR_partycji">Łańcuchowe ładowanie VBR partycji</span>
</h4>
<pre>set root=(hdX,Y)
chainloader +1
boot
</pre>
<p>X=0,1,2...
Y=1,2,3...
</p>
<p>Na przykład do łańcuchowego ładowania systemu Windows zapisanego na pierwszej partycji pierwszego dysku twardego,
</p>
<pre>set root=(hd0,1)
chainloader +1
boot
</pre>
<p>Podobnie GRUB zainstalowany na partycji może być ładowany łańcuchowo.
</p>
<h4>
<span id=".C5.81a.C5.84cuchowe_.C5.82adowanie_MBR_dysku_lub_VBR_dysku_bez_partycji"></span><span class="mw-headline" id="Łańcuchowe_ładowanie_MBR_dysku_lub_VBR_dysku_bez_partycji">Łańcuchowe ładowanie MBR dysku lub VBR dysku bez partycji</span>
</h4>
<pre>set root=hdX
chainloader +1
boot
</pre>
<h4>
<span id=".C5.81adowanie_.C5.82a.C5.84cuchowe_systemu_Windows.2FLinux_zainstalowanego_w_trybie_UEFI"></span><span class="mw-headline" id="Ładowanie_łańcuchowe_systemu_Windows/Linux_zainstalowanego_w_trybie_UEFI">Ładowanie łańcuchowe systemu Windows/Linux zainstalowanego w trybie UEFI</span>
</h4>
<pre>insmod fat
set root=(hd0,gpt4)
chainloader (${root})/EFI/Microsoft/Boot/bootmgfw.efi
boot
</pre>
<p><code>insmod fat</code> służy do ładowania modułu systemu plików FAT w celu uzyskania dostępu do programu ładującego Windows na partycji systemowej EFI.
<code>(hd0,gpt4)</code> lub <code>/dev/sda4</code> jest partycją systemową EFI w tym przykładzie.
Wpis w linii <code>chainloader</code> określa ścieżkę do pliku <i>.efi</i>, który ma zostać załadowany łańcuchowo.
</p>
<h4>
<span id="Normalne_.C5.82adowanie"></span><span class="mw-headline" id="Normalne_ładowanie">Normalne ładowanie</span>
</h4>
<p>Zobacz przykłady w <a href="#Korzystanie_z_konsoli_ratunkowej">#Korzystanie z konsoli ratunkowej</a>
</p>
<h3><span class="mw-headline" id="Korzystanie_z_konsoli_ratunkowej">Korzystanie z konsoli ratunkowej</span></h3>
<p>Najpierw zobacz <a href="#U%C5%BCywanie_pow%C5%82oki_polece%C5%84">#Używanie powłoki poleceń</a>. Jeśli nie można aktywować standardowej powłoki, jednym z możliwych rozwiązań jest uruchomienie systemu przy użyciu Live CD lub innego dysku ratunkowego, aby poprawić błędy konfiguracji i ponownie zainstalować GRUB. Jednak taki dysk rozruchowy nie zawsze jest dostępny (ani konieczny); konsola ratunkowa jest zaskakująco solidna.
</p>
<p>Dostępne polecenia w GRUB rescue obejmują <code>insmod</code>, <code>ls</code>, <code>set</code> i <code>unset</code>. W tym przykładzie użyto <code>set</code> i <code>insmod</code>. <code>set</code> modyfikuje zmienne, a <code>insmod</code> wstawia nowe moduły w celu dodania funkcjonalności.
</p>
<p>Przed uruchomieniem użytkownik musi znać lokalizację swojej partycji <code>/boot</code> (może to być oddzielna partycja lub podkatalog w katalogu głównym):
</p>
<pre>grub rescue&gt; set prefix=(hd<i>X</i>,<i>Y</i>)/boot/grub
</pre>
<p>gdzie <code><i>X</i></code> to numer dysku fizycznego, a <code><i>Y</i></code> to numer partycji.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> W przypadku oddzielnej partycji rozruchowej pomiń <code>/boot</code> ze ścieżki (tj. wpisz <code>set prefix=(hd<i>X</i>,<i>Y</i>)/grub</code>).</div>
<p>Aby rozszerzyć możliwości konsoli, należy dodać moduł <code>linux</code>:
</p>
<pre>grub rescue&gt; insmod i386-pc/linux.mod
</pre>
<p>lub po prostu
</p>
<pre>grub rescue&gt; insmod linux
</pre>
<p>Wprowadza to polecenia <code>linux</code> i <code>initrd</code>, które powinny być znane.
</p>
<p>Przykładem może być uruchomienie Arch Linux:
</p>
<pre>set root=(hd0,5)
linux /boot/vmlinuz-linux root=/dev/sda5
initrd /boot/initramfs-linux.img
boot
</pre>
<p>W przypadku oddzielnej partycji rozruchowej (np. podczas korzystania z UEFI), ponownie zmień odpowiednio linie:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ponieważ partycja rozruchowa jest oddzielną partycją i nie jest częścią partycji głównej, należy ręcznie zaadresować partycję rozruchową w taki sam sposób, jak w przypadku zmiennej prefiksu.</div>
<pre>set root=(hd0,5)
linux (hd<i>X</i>,<i>Y</i>)/vmlinuz-linux root=/dev/sda6
initrd (hd<i>X</i>,<i>Y</i>)/initramfs-linux.img
boot
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Jeśli doświadczyłeś <code>error: premature end of file /YOUR_KERNEL_NAME</code> podczas wykonywania polecenia <code>linux</code>, można zamiast tego spróbować <code>linux16</code>.</div>
<p>Po pomyślnym uruchomieniu instalacji Arch Linux, użytkownicy mogą poprawić <code>grub.cfg</code> w razie potrzeby, a następnie ponownie zainstalować GRUB.
</p>
<p>Aby ponownie zainstalować GRUB i całkowicie naprawić problem, zmieniając <code>/dev/sda</code> w razie potrzeby. Zobacz <a href="#Instalacja">#Instalacja</a> po szczegóły.
</p>
<h2><span class="mw-headline" id="Usuwanie_GRUB-a">Usuwanie GRUB-a</span></h2>
<h3><span class="mw-headline" id="Systemy_UEFI_2">Systemy UEFI</span></h3>
<p>Przed usunięciem <i>grub</i> upewnij się, że jakiś inny bootloader jest zainstalowany i skonfigurowany do przejęcia.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ efibootmgr</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">BootOrder: 0003,0001,0000,0002
Boot0000* Windows Boot Manager  HD(2,GPT,4dabbedf-191b-4432-bc09-8bcbd1d7dabf,0x109000,0x32000)/File(\EFI\Microsoft\Boot\bootmgfw.efi)
Boot0001* GRUB  HD(2,GPT,4dabbedf-191b-4432-bc09-8bcbd1d7dabf,0x109000,0x32000)/File(\EFI\GRUB\grubx64.efi)
Boot0002* Linux-Firmware-Updater        HD(2,GPT,5dabbedf-191b-4432-bc09-8bcbd1d7dabf,0x109000,0x32000)/File(\EFI\arch\fwupdx64.efi)
Boot0003* Linux Boot Manager    HD(2,GPT,4dabbedf-191b-4432-bc09-8bcbd1d7dabf,0x109000,0x32000)/File(\EFI\systemd\systemd-bootx64.efi)
</pre>
<p>Jeśli <code>BootOrder</code> ma <i>grub</i> jako pierwszy wpis, zainstaluj inny bootloader, aby umieścić go z przodu, taki jak <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> powyżej. <i>grub</i> można następnie usunąć używając jego <i>bootnum</i>.
</p>
<pre># efibootmgr --delete-bootnum -b 1
</pre>
<p>Usuń także katalogi <code><i>esp</i>/EFI/grub</code> i <code>/boot/grub</code>.
</p>
<h3><span class="mw-headline" id="Systemy_BIOS_2">Systemy BIOS</span></h3>
<p>Aby zastąpić <i>grub</i> dowolnym innym programem ładującym BIOS, wystarczy go zainstalować, co spowoduje nadpisanie <a href="../en/Partitioning.html#Master_Boot_Record_(bootstrap_code)" title="Partitioning">kodu rozruchowego MBR</a>.
</p>
<p><code>grub-install</code> tworzy katalog <code>/boot/grub</code>, który musi zostać usunięty ręcznie. Chociaż niektórzy użytkownicy będą chcieli go zachować, jeśli będą chcieli ponownie zainstalować <i>grub</i>.
</p>
<p>Po migracji do UEFI/GPT można chcieć <a href="../en/Dd.html#Remove_bootloader" title="Dd">usunąć kod rozruchowy MBR za pomocą dd</a>.
</p>
<h2>
<span id="Rozwi.C4.85zywanie_problem.C3.B3w"></span><span class="mw-headline" id="Rozwiązywanie_problemów">Rozwiązywanie problemów</span>
</h2>
<h3>
<span id="Nieobs.C5.82ugiwane_systemy_plik.C3.B3w"></span><span class="mw-headline" id="Nieobsługiwane_systemy_plików">Nieobsługiwane systemy plików</span>
</h3>
<p>W przypadku, gdy GRUB nie obsługuje głównego systemu plików, należy utworzyć alternatywną partycję <code>/boot</code> z obsługiwanym systemem plików. W niektórych przypadkach wersja rozwojowa GRUB-a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-git/">grub-git</a></span><sup><small>AUR</small></sup> może mieć natywną obsługę systemu plików.
</p>
<p>Jeśli GRUB jest używany z nieobsługiwanym systemem plików, nie jest w stanie wyodrębnić <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> dysku, więc zamiast tego używa klasycznych nietrwałych nazw <code>/dev/<i>sdXx</i></code>. W takim przypadku może być konieczna ręczna edycja <code>/boot/grub/grub.cfg</code> i zastąpienie <code>root=/dev/<i>sdXx</i></code> <code>root=UUUID=<i>XXXXXXXX-XXXX-XXXX-XXXXXXXXXX</i></code>. Możesz użyć polecenia <code>blkid</code>, aby uzyskać identyfikator UUID urządzenia, zobacz <a href="../en/Persistent_block_device_naming.html" title="Persistent block device naming">Persistent block device naming</a>.
</p>
<p>Podczas gdy GRUB obsługuje <a href="../en/F2FS.html" title="F2FS">F2FS</a> od wersji 2.0.4, nie może poprawnie odczytać plików rozruchowych z partycji F2FS, która została utworzona z włączoną flagą <code>extra_attr</code>.
</p>
<h3>
<span id="W.C5.82.C4.85czanie_komunikat.C3.B3w_debugowania"></span><span class="mw-headline" id="Włączanie_komunikatów_debugowania">Włączanie komunikatów debugowania</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ta zmiana jest nadpisywana podczas <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">generowania głównego pliku konfiguracyjnego</a>.</div>
<p>Dodaj:
</p>
<pre>set pager=1
set debug=all
</pre>
<p>do <code>grub.cfg</code>.
</p>
<h3>
<span id="Komunikat_o_b.C5.82.C4.99dzie_w_stylu_msdos"></span><span class="mw-headline" id="Komunikat_o_błędzie_w_stylu_msdos">Komunikat o błędzie w stylu msdos</span>
</h3>
<pre>grub-setup: warn: This msdos-style partition label has no post-MBR gap; embedding will not be possible!
grub-setup: warn: Embedding is not possible. GRUB can only be installed in this setup by using blocklists.
            However, blocklists are UNRELIABLE and its use is discouraged.
grub-setup: error: If you really want blocklists, use --force.
</pre>
<p>Ten błąd może wystąpić podczas próby instalacji GRUB w kontenerze VMware. Więcej informacji na ten temat <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=581760#p581760">tutaj</a>. Dzieje się tak, gdy pierwsza partycja zaczyna się tuż po MBR (blok 63), bez zwykłej przestrzeni 1 MiB (2048 bloków) przed pierwszą partycją. Przeczytaj <a href="#Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)">#Instrukcje specyficzne dla tablicy partycji GUID (GPT)</a>
</p>
<h3><span class="mw-headline" id="UEFI">UEFI</span></h3>
<h4>
<span id="Typowe_b.C5.82.C4.99dy_instalacji"></span><span class="mw-headline" id="Typowe_błędy_instalacji">Typowe błędy instalacji</span>
</h4>
<ul>
<li>Błąd, który może wystąpić na niektórych urządzeniach UEFI to <code>Could not prepare Boot variable: Read-only file system</code> Należy ponownie zamontować <code>/sys/firmware/efi/efivars</code> z włączoną opcją odczytu i zapisu. <pre># mount -o remount,rw,nosuid,nodev,noexec --types efivarfs efivarfs /sys/firmware/efi/efivars</pre>. Zobacz <a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Bootloader#Install" class="extiw" title="gentoo:Handbook:AMD64/Installation/Bootloader">Gentoo Wiki</a> na temat instalacji <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">bootloadera</a>.</li>
<li>Jeśli masz problem z uruchomieniem <i>grub-install</i> z <i>sysfs</i> lub <i>procfs</i> i jest napisane, że musisz uruchomić <code>modprobe efivarfs</code> spróbuj <a href="../en/Unified_Extensible_Firmware_Interface.html#Mount_efivarfs" title="Unified Extensible Firmware Interface">mounting the efivarfs</a> z powyższym poleceniem.</li>
<li>Bez opcji <code>--target</code> lub <code>--directory</code>, grub-install nie może określić, który firmware zainstalować. W takich przypadkach <code>grub-install</code> wypisze <code>source_dir does not exist. Please specify --target or --directory</code>.</li>
<li>Jeśli po uruchomieniu grub-install pojawi się <code>error: <i>esp</i> doesn't look like an EFI partition</code>, to najprawdopodobniej partycja nie jest sformatowana w <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a>.</li>
</ul>
<h4>
<span id="Tworzenie_wpisu_GRUB_w_mened.C5.BCerze_rozruchu_oprogramowania_uk.C5.82adowego"></span><span class="mw-headline" id="Tworzenie_wpisu_GRUB_w_menedżerze_rozruchu_oprogramowania_układowego">Tworzenie wpisu GRUB w menedżerze rozruchu oprogramowania układowego</span>
</h4>
<p><code>grub-install</code> automatycznie próbuje utworzyć pozycję menu w menedżerze rozruchu. Jeśli tak się nie stanie, zobacz <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="UEFI">UEFI#efibootmgr</a>, aby uzyskać instrukcje dotyczące użycia <code>efibootmgr</code> do utworzenia wpisu menu. Problemem może być jednak to, że nie uruchomiłeś płyty CD/USB w trybie UEFI, jak w <a href="../en/Unified_Extensible_Firmware_Interface.html#Create_UEFI_bootable_USB_from_ISO" class="mw-redirect" title="UEFI">UEFI#Create UEFI bootable USB from ISO</a>.
</p>
<p>Jako kolejny przykład tworzenia wpisu GRUB w menedżerze rozruchu oprogramowania układowego, rozważ <code>efibootmgr -c</code>. Zakłada on, że <code>/dev/sda1</code> jest partycją systemową EFI i jest zamontowany w <code>/boot/efi</code>. Które są domyślnym zachowaniem <code>efibootmgr</code>.  Tworzy nową opcję rozruchu o nazwie „Linux” i umieszcza ją na początku listy kolejności rozruchu. Opcje mogą być przekazywane w celu modyfikacji domyślnego zachowania. Domyślnym programem ładującym system operacyjny jest <code>\EFI\arch\grub.efi</code>.
</p>
<h4>
<span id="Zrzut_do_pow.C5.82oki_ratunkowej"></span><span class="mw-headline" id="Zrzut_do_powłoki_ratunkowej">Zrzut do powłoki ratunkowej</span>
</h4>
<p>Jeśli GRUB ładuje się, ale spada do powłoki ratunkowej bez żadnych błędów, może to być spowodowane jednym z tych dwóch powodów:
</p>
<ul>
<li>Może to być spowodowane brakiem lub błędem <code>grub.cfg</code>. Stanie się tak, jeśli GRUB UEFI został zainstalowany z <code>--boot-directory</code> i brakuje <code>grub.cfg</code>,</li>
<li>Zdarza się to również, jeśli partycja rozruchowa, która jest zakodowana w pliku <code>grubx64.efi</code>, uległa zmianie.</li>
</ul>
<h4>
<span id="GRUB_UEFI_nie_zosta.C5.82_za.C5.82adowany"></span><span class="mw-headline" id="GRUB_UEFI_nie_został_załadowany">GRUB UEFI nie został załadowany</span>
</h4>
<p>Przykład działającego UEFI:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># efibootmgr -u</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">BootCurrent: 0000
Timeout: 3 seconds
BootOrder: 0000,0001,0002
Boot0000* GRUB HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\EFI\GRUB\grubx64.efi)
Boot0001* Shell HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\shellx64.efi)
Boot0002* Festplatte BIOS(2,0,00)P0: SAMSUNG HD204UI
</pre>
<p>Jeśli ekran jest czarny tylko przez sekundę, a następnie próbowana jest następna opcja rozruchu, zgodnie z <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=981560#p981560">tym postem</a>, przeniesienie GRUB-a do katalogu głównego partycji może pomóc. Opcja rozruchu musi zostać usunięta, a następnie ponownie utworzona. Wpis dla GRUB powinien wyglądać następująco:
</p>
<pre>Boot0000* GRUB HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\grubx64.efi)
</pre>
<h4>
<span id="Domy.C5.9Blna.2Fzast.C4.99pcza_.C5.9Bcie.C5.BCka_rozruchowa"></span><span class="mw-headline" id="Domyślna/zastępcza_ścieżka_rozruchowa">Domyślna/zastępcza ścieżka rozruchowa</span>
</h4>
<p>Niektóre oprogramowania sprzętowe UEFI wymagają pliku rozruchowego w znanej lokalizacji, zanim pokażą wpisy rozruchowe UEFI NVRAM. W takim przypadku <code>grub-install</code> będzie twierdzić, że <code>efibootmgr</code> dodał wpis do rozruchu GRUB-a, jednak wpis ten nie pojawi się w selektorze kolejności rozruchu VisualBIOS. Rozwiązaniem jest zainstalowanie GRUB-a na domyślnej/zastępczej ścieżce rozruchowej:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> <b>--removable</b>
</pre>
<p>Alternatywnie można przenieść już zainstalowany plik wykonywalny GRUB EFI do ścieżki domyślnej/zwrotnej:
</p>
<pre># mv <i>esp</i>/EFI/grub <i>esp</i>/EFI/BOOT
# mv <i>esp</i>/EFI/BOOT/grubx64.efi <i>esp</i>/EFI/BOOT/BOOTX64.EFI
</pre>
<h3>
<span id="Nieprawid.C5.82owa_sygnatura"></span><span class="mw-headline" id="Nieprawidłowa_sygnatura">Nieprawidłowa sygnatura</span>
</h3>
<p>Jeśli próba uruchomienia systemu Windows powoduje błąd „nieprawidłowego podpisu”, np. po zmianie konfiguracji partycji lub dodaniu dodatkowych dysków twardych, należy (ponownie) przenieść konfigurację urządzenia GRUB i pozwolić mu na ponowną konfigurację:
</p>
<pre># mv /boot/grub/device.map /boot/grub/device.map-old
# grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p><code>grub-mkconfig</code> powinno teraz wymieniać wszystkie znalezione opcje rozruchu, w tym Windows. Jeśli to działa, usuń <code>/boot/grub/device.map-old</code>.
</p>
<h3>
<span id="Rozruch_zawiesza_si.C4.99"></span><span class="mw-headline" id="Rozruch_zawiesza_się">Rozruch zawiesza się</span>
</h3>
<p>Jeśli uruchamianie utknie bez żadnego komunikatu o błędzie po załadowaniu jądra i początkowego ramdysku przez GRUB, spróbuj usunąć parametr jądra <code>add_efi_memmap</code>.
</p>
<h3><span class="mw-headline" id="Arch_nie_znaleziony_w_innym_systemie_operacyjnym">Arch nie znaleziony w innym systemie operacyjnym</span></h3>
<p>Niektórzy donoszą, że inne dystrybucje mogą mieć problemy z automatycznym znalezieniem Arch Linuksa za pomocą <code>os-prober</code>. Jeśli ten problem wystąpi, donoszono, że wykrywanie może być poprawione dzięki obecności <code>/etc/lsb-release</code>. Ten plik i narzędzie aktualizujące jest dostępne z pakietem <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lsb-release">lsb-release</a></span>.
</p>
<h3>
<span id="Ostrze.C5.BCenie_podczas_instalacji_w_chroot"></span><span class="mw-headline" id="Ostrzeżenie_podczas_instalacji_w_chroot">Ostrzeżenie podczas instalacji w chroot</span>
</h3>
<p>Podczas instalacji GRUB-a na systemie LVM w środowisku chroot (np. podczas instalacji systemu) mogą pojawić się ostrzeżenia takie jak
</p>
<pre>/run/lvm/lvmetad.socket: connect failed: No such file or directory
</pre>
<p>lub
</p>
<pre>WARNING: failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
</pre>
<p>Dzieje się tak, ponieważ <code>/run</code> nie jest dostępny wewnątrz chroot. Ostrzeżenia te nie uniemożliwią uruchomienia systemu, pod warunkiem, że wszystko zostało wykonane poprawnie, więc można kontynuować instalację.
</p>
<h3>
<span id="GRUB_.C5.82aduje_si.C4.99_powoli"></span><span class="mw-headline" id="GRUB_ładuje_się_powoli">GRUB ładuje się powoli</span>
</h3>
<p>GRUB can take a long time to load when disk space is low. Check if you have sufficient free disk space on your <code>/boot</code> or <code>/</code> partition when you are having problems.
</p>
<h3><span class="mw-headline" id="error:_unknown_filesystem">error: unknown filesystem</span></h3>
<p>GRUB może wyświetlić <code>error: unknown filesystem</code> i odmówić uruchomienia z kilku powodów. Jeśli jesteś pewien, że wszystkie <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> są poprawne, a wszystkie systemy plików są prawidłowe i obsługiwane, może to być spowodowane tym, że <a href="#Instrukcje_specyficzne_dla_tablicy_partycji_GUID_(GPT)">BIOS Boot Partition</a> znajduje się poza pierwszymi 2 TiB dysku <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=195948">[4]</a>. Użyj wybranego narzędzia do partycjonowania, aby upewnić się, że ta partycja znajduje się w całości w pierwszych 2 TiB, a następnie ponownie zainstaluj i skonfiguruj GRUB.
</p>
<p>Błąd ten może być również spowodowany przez system plików <a href="../en/Ext4.html" title="Ext4">ext4</a> z nieobsługiwanym zestawem funkcji:
</p>
<ul>
<li>
<code>large_dir</code> - nieobsługiwany.</li>
<li>
<code>metadata_csum_seed</code> - będzie obsługiwany w GRUB 2.11 (<a rel="nofollow" class="external text" href="https://git.savannah.gnu.org/cgit/grub.git/commit/?id=7fd5feff97c4b1f446f8fcf6d37aca0c64e7c763">commit</a>).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Upewnij się, że sprawdziłeś wsparcie GRUB-a dla nowych funkcji <a href="../en/File_systems.html" class="mw-redirect" title="File system">systemu plików</a> przed włączeniem ich w systemie plików <code>/boot</code>.</div>
<h3>
<span id="grub-reboot_nie_resetuje_si.C4.99"></span><span class="mw-headline" id="grub-reboot_nie_resetuje_się">grub-reboot nie resetuje się</span>
</h3>
<p>GRUB wydaje się nie być w stanie zapisywać na partycjach root Btrfs <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=166131">[5]</a>. Jeśli użyjesz grub-reboot do uruchomienia innego wpisu, nie będzie on w stanie zaktualizować swojego środowiska na dysku. Uruchom grub-reboot z innego wpisu (na przykład podczas przełączania się między różnymi dystrybucjami) lub rozważ inny system plików. Możesz zresetować „lepki” wpis, wykonując <code>grub-editenv create</code> i ustawiając <code>GRUB_DEFAULT=0</code> w <code>/etc/default/grub</code> (nie zapomnij o <code>grub-mkconfig -o /boot/grub/grub.cfg</code>).
</p>
<h3>
<span id="Stary_Btrfs_uniemo.C5.BCliwia_instalacj.C4.99"></span><span class="mw-headline" id="Stary_Btrfs_uniemożliwia_instalację">Stary Btrfs uniemożliwia instalację</span>
</h3>
<p>Jeśli dysk zostanie sformatowany za pomocą Btrfs bez tworzenia tablicy partycji (np. /dev/sdx), a następnie zostanie zapisana tablica partycji, niektóre części formatu BTRFS pozostaną. Większość narzędzi i systemów operacyjnych tego nie widzi, ale GRUB odmówi instalacji, nawet z --force
</p>
<pre># grub-install: warning: Attempting to install GRUB to a disk with multiple partition labels. This is not supported yet..
# grub-install: error: filesystem `btrfs' does not support blocklists.
</pre>
<p>Możesz wyzerować dysk, ale najprostszym rozwiązaniem, które pozostawia dane w spokoju, jest wymazanie superbloku Btrfs za pomocą <code>wipefs -o 0x10040 /dev/sdx</code>.
</p>
<h3>
<span id="Nie_znaleziono_systemu_Windows_8.2F10"></span><span class="mw-headline" id="Nie_znaleziono_systemu_Windows_8/10">Nie znaleziono systemu Windows 8/10</span>
</h3>
<p>Ustawienie w Windows 8/10 o nazwie „Hiberboot”, „Hybrid Boot” lub „Fast Boot” może uniemożliwić zamontowanie partycji Windows, więc <code>grub-mkconfig</code> nie znajdzie instalacji Windows. Wyłączenie Hiberboot w Windows pozwoli na dodanie go do menu GRUB.
</p>
<h3>
<span id="GRUB_Rescue_i_zaszyfrowany_.2Fboot"></span><span class="mw-headline" id="GRUB_Rescue_i_zaszyfrowany_/boot">GRUB Rescue i zaszyfrowany /boot</span>
</h3>
<p>Podczas korzystania z <a href="#Encrypted_/boot">zaszyfrowanego /boot</a>, jeśli nie wprowadzisz poprawnego hasła, zostaniesz przeniesiony do powłoki grub-rescue.
</p>
<p>Ten monit grub-rescue ma ograniczone możliwości. Użyj następujących poleceń, aby ukończyć rozruch:
</p>
<pre>grub rescue&gt; cryptomount &lt;partition&gt;
grub rescue&gt; insmod normal
grub rescue&gt; normal
</pre>
<p>Zobacz <a rel="nofollow" class="external text" href="https://blog.stigok.com/2017/12/29/decrypt-and-mount-luks-disk-from-grub-rescue-mode.html">ten post na blogu</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-04-23 ⓘ]</sup> dla lepszego opisu.
</p>
<h3>
<span id="GRUB_jest_zainstalowany.2C_ale_menu_nie_jest_wy.C5.9Bwietlane_przy_starcie_systemu"></span><span class="mw-headline" id="GRUB_jest_zainstalowany,_ale_menu_nie_jest_wyświetlane_przy_starcie_systemu">GRUB jest zainstalowany, ale menu nie jest wyświetlane przy starcie systemu</span>
</h3>
<p>Sprawdź <code>/etc/default/grub</code> czy <code>GRUB_TIMEOUT</code> jest ustawiony na <code>0</code>, w takim przypadku ustaw go na liczbę dodatnią: ustawia on liczbę sekund przed załadowaniem domyślnego wpisu GRUB. Sprawdź również, czy <code>GRUB_TIMEOUT_STYLE</code> jest ustawiony na <code>hidden</code> i ustaw go na <code>menu</code>, aby menu było wyświetlane domyślnie. Następnie <a href="#Generowanie_g%C5%82%C3%B3wnego_pliku_konfiguracyjnego">regeneruj główny plik konfiguracyjny</a> i uruchom ponownie komputer, aby sprawdzić, czy wszystko działa.
</p>
<p>Jeśli to nie zadziała, mogą występować problemy z niekompatybilnością terminala graficznego. Ustaw <code>GRUB_TERMINAL_OUTPUT</code> na <code>console</code> w <code>/etc/default/grub</code>, aby wyłączyć terminal graficzny GRUB-a.
</p>
<h2>
<span id="Zobacz_tak.C5.BCe"></span><span class="mw-headline" id="Zobacz_także">Zobacz także</span>
</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/GNU_GRUB" class="extiw" title="wikipedia:GNU GRUB">Wikipedia:GNU GRUB</a></li>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub.html">Oficjalny podręcznik GRUB</a></li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/Grub2">Strona wiki Ubuntu dla GRUB-a</a></li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/UEFIBooting">Strona wiki GRUB opisująca kroki kompilacji dla systemów UEFI</a></li>
<li><a href="https://en.wikipedia.org/wiki/BIOS_Boot_partition" class="extiw" title="wikipedia:BIOS Boot partition">Wikipedia:BIOS Boot partition</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20160424042444/http://members.iinet.net/~herman546/p20/GRUB2%20Configuration%20File%20Commands.html#Editing_etcgrub.d05_debian_theme">Jak skonfigurować GRUB-a</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pl/Category:Boot_loaders.html" title="Category:Boot loaders (Polski)">Boot loaders (Polski)</a></li>
<li><a href="../pl/Category:GNU.html" title="Category:GNU (Polski)">GNU (Polski)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GRUB_(Polski)&amp;oldid=807539">https://wiki.archlinux.org/index.php?title=GRUB_(Polski)&amp;oldid=807539</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 May 2024, at 19:19.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
