<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Power management - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Power_management rootpage-Power_management skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Userspace_tools" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Userspace_tools">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Userspace tools</div>
		</a>
		
			<button aria-controls="toc-Userspace_tools-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Userspace tools subsection</span>
			</button>
		
		<ul id="toc-Userspace_tools-sublist" class="vector-toc-list">
			<li id="toc-Console" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Console">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Console</div>
			</a>
			
			<ul id="toc-Console-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Graphical" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Graphical">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Graphical</div>
			</a>
			
			<ul id="toc-Graphical-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-ACPI_events" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#ACPI_events">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>ACPI events</div>
		</a>
		
			<button aria-controls="toc-ACPI_events-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle ACPI events subsection</span>
			</button>
		
		<ul id="toc-ACPI_events-sublist" class="vector-toc-list">
			<li id="toc-Power_managers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Power_managers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Power managers</div>
			</a>
			
			<ul id="toc-Power_managers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xss-lock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xss-lock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>xss-lock</div>
			</a>
			
			<ul id="toc-xss-lock-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Power_saving" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Power_saving">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Power saving</div>
		</a>
		
			<button aria-controls="toc-Power_saving-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Power saving subsection</span>
			</button>
		
		<ul id="toc-Power_saving-sublist" class="vector-toc-list">
			<li id="toc-Processors_with_Intel_HWP_(Intel_Hardware_P-state)_support" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Processors_with_Intel_HWP_(Intel_Hardware_P-state)_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Processors with Intel HWP (Intel Hardware P-state) support</div>
			</a>
			
			<ul id="toc-Processors_with_Intel_HWP_(Intel_Hardware_P-state)_support-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Audio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Audio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Audio</div>
			</a>
			
			<ul id="toc-Audio-sublist" class="vector-toc-list">
				<li id="toc-Kernel" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Kernel">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Kernel</div>
			</a>
			
			<ul id="toc-Kernel-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pops_when_starting_and_stopping_playback" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pops_when_starting_and_stopping_playback">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Pops when starting and stopping playback</div>
			</a>
			
			<ul id="toc-Pops_when_starting_and_stopping_playback-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Backlight" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Backlight">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Backlight</div>
			</a>
			
			<ul id="toc-Backlight-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bluetooth" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bluetooth">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Bluetooth</div>
			</a>
			
			<ul id="toc-Bluetooth-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Web_camera" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Web_camera">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Web camera</div>
			</a>
			
			<ul id="toc-Web_camera-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Kernel_parameters" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kernel_parameters">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Kernel parameters</div>
			</a>
			
			<ul id="toc-Kernel_parameters-sublist" class="vector-toc-list">
				<li id="toc-Disabling_NMI_watchdog" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disabling_NMI_watchdog">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Disabling NMI watchdog</div>
			</a>
			
			<ul id="toc-Disabling_NMI_watchdog-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Writeback_Time" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Writeback_Time">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.2</span>Writeback Time</div>
			</a>
			
			<ul id="toc-Writeback_Time-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Laptop_Mode" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Laptop_Mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.3</span>Laptop Mode</div>
			</a>
			
			<ul id="toc-Laptop_Mode-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Network_interfaces" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Network_interfaces">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Network interfaces</div>
			</a>
			
			<ul id="toc-Network_interfaces-sublist" class="vector-toc-list">
				<li id="toc-Intel_wireless_cards_(iwlwifi)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Intel_wireless_cards_(iwlwifi)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.1</span>Intel wireless cards (iwlwifi)</div>
			</a>
			
			<ul id="toc-Intel_wireless_cards_(iwlwifi)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Bus_power_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bus_power_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>Bus power management</div>
			</a>
			
			<ul id="toc-Bus_power_management-sublist" class="vector-toc-list">
				<li id="toc-Active_State_Power_Management" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Active_State_Power_Management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.1</span>Active State Power Management</div>
			</a>
			
			<ul id="toc-Active_State_Power_Management-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PCI_Runtime_Power_Management" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#PCI_Runtime_Power_Management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.2</span>PCI Runtime Power Management</div>
			</a>
			
			<ul id="toc-PCI_Runtime_Power_Management-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-USB_autosuspend" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#USB_autosuspend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.3</span>USB autosuspend</div>
			</a>
			
			<ul id="toc-USB_autosuspend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SATA_Active_Link_Power_Management" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SATA_Active_Link_Power_Management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.4</span>SATA Active Link Power Management</div>
			</a>
			
			<ul id="toc-SATA_Active_Link_Power_Management-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Hard_disk_drive" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hard_disk_drive">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9</span>Hard disk drive</div>
			</a>
			
			<ul id="toc-Hard_disk_drive-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tools_and_scripts" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tools_and_scripts">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tools and scripts</div>
		</a>
		
			<button aria-controls="toc-Tools_and_scripts-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tools and scripts subsection</span>
			</button>
		
		<ul id="toc-Tools_and_scripts-sublist" class="vector-toc-list">
			<li id="toc-Using_a_script_and_an_udev_rule" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_a_script_and_an_udev_rule">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Using a script and an udev rule</div>
			</a>
			
			<ul id="toc-Using_a_script_and_an_udev_rule-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Print_power_settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Print_power_settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Print power settings</div>
			</a>
			
			<ul id="toc-Print_power_settings-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Allow_users_to_shutdown" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Allow_users_to_shutdown">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Allow users to shutdown</div>
		</a>
		
			<button aria-controls="toc-Allow_users_to_shutdown-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Allow users to shutdown subsection</span>
			</button>
		
		<ul id="toc-Allow_users_to_shutdown-sublist" class="vector-toc-list">
			<li id="toc-Button_and_lid_events" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Button_and_lid_events">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Button and lid events</div>
			</a>
			
			<ul id="toc-Button_and_lid_events-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_systemd-logind" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_systemd-logind">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Using systemd-logind</div>
			</a>
			
			<ul id="toc-Using_systemd-logind-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_sudo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_sudo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Using sudo</div>
			</a>
			
			<ul id="toc-Using_sudo-sublist" class="vector-toc-list">
				<li id="toc-Users_without_sudo_privileges" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Users_without_sudo_privileges">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.1</span>Users without sudo privileges</div>
			</a>
			
			<ul id="toc-Users_without_sudo_privileges-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Power management</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Power_management.html" title="Power management – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E9%9B%BB%E6%BA%90%E7%AE%A1%E7%90%86" title="電源管理 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Power_management.html" title="Power management – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Power_management.html" title="Power management – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Power_management" title="Power management – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Power_management/Suspend_and_hibernate.html" title="Power management/Suspend and hibernate">Power management/Suspend and hibernate</a></li>
<li><a href="../en/Power_management/Wakeup_triggers.html" title="Power management/Wakeup triggers">Power management/Wakeup triggers</a></li>
<li><a href="../en/Display_Power_Management_Signaling.html" title="Display Power Management Signaling">Display Power Management Signaling</a></li>
<li><a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a></li>
<li><a href="../en/Hybrid_graphics.html" title="Hybrid graphics">Hybrid graphics</a></li>
<li><a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a></li>
<li><a href="../en/Sysctl.html" title="Sysctl">sysctl</a></li>
<li><a href="../en/Udev.html" title="Udev">udev</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Power_management" class="extiw" title="wikipedia:Power management">Power management</a> is a feature that turns off the power or switches system components to a low-power state when inactive.
</p>
<p>In Arch Linux, power management consists of two main parts:
</p>
<ol>
<li>Configuration of the Linux kernel, which interacts with the hardware.
<ul>
<li><a href="../en/Kernel_parameters.html" title="Kernel parameters">Kernel parameters</a></li>
<li><a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a></li>
<li>
<a href="../en/Udev.html" title="Udev">udev</a> rules</li>
</ul>
</li>
<li>Configuration of userspace tools, which interact with the kernel and react to its events. Many userspace tools also allow to modify kernel configuration in a "user-friendly" way. See <a href="#Userspace_tools">#Userspace tools</a> for the options.</li>
</ol>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Userspace_tools">Userspace tools</span></h2>
<p>Using these tools can replace setting a lot of settings by hand. Only run <b>one</b> of these tools to avoid possible conflicts as they all work more or less similarly. Have a look at the <a href="../en/Category:Power_management.html" title="Category:Power management">power management category</a> to get an overview on what power management options exist in Arch Linux.
</p>
<p>These are the more popular scripts and tools designed to help power saving:
</p>
<h3><span class="mw-headline" id="Console">Console</span></h3>
<ul><li>
<b><a href="../en/Acpid.html" title="Acpid">acpid</a></b> —  A daemon for delivering ACPI power management events with netlink support.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://sourceforge.net/projects/acpid2/">https://sourceforge.net/projects/acpid2/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpid">acpid</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Laptop_Mode_Tools.html" title="Laptop Mode Tools">Laptop Mode Tools</a></b> — Utility to configure laptop power saving settings, considered by many to be the de facto utility for power saving though may take a bit of configuration.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rickysarraf/laptop-mode-tools">https://github.com/rickysarraf/laptop-mode-tools</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/laptop-mode-tools/">laptop-mode-tools</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>libsmbios</b> — Library and tools for interacting with Dell SMBIOS tables.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/dell/libsmbios">https://github.com/dell/libsmbios</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsmbios">libsmbios</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Powertop.html" title="Powertop">powertop</a></b> — A tool to diagnose issues with power consumption and power management to help set power saving settings.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/fenrus75/powertop">https://github.com/fenrus75/powertop</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=powertop">powertop</a></span>
</dd></dl>
<ul><li>
<b>powerstat</b> — A tool that measures power consumption using the ACPI or Intel RAPL interface.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ColinIanKing/powerstat">https://github.com/ColinIanKing/powerstat</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/powerstat/">powerstat</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Systemd.html" title="Systemd">systemd</a></b> — A system and service manager.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://systemd.io/">https://systemd.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/TLP.html" title="TLP">TLP</a></b> — Advanced power management for Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://linrunner.de/tlp">https://linrunner.de/tlp</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tlp">tlp</a></span>
</dd></dl>
<ul><li>
<b>TuneD</b> — Daemon that performs monitoring and adaptive configuration of devices in the system</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://tuned-project.org">https://tuned-project.org</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuned/">tuned</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/UPower" class="extiw" title="wikipedia:UPower">UPower</a></b> — Abstraction for enumerating power devices, listening to device events and querying history and statistics.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://upower.freedesktop.org">https://upower.freedesktop.org</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=upower">upower</a></span>
</dd></dl>
<h3><span class="mw-headline" id="Graphical">Graphical</span></h3>
<ul><li>
<b>batsignal</b> — Lightweight battery monitor that uses libnotify to warn of low battery levels.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/electrickite/batsignal">https://github.com/electrickite/batsignal</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/batsignal/">batsignal</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>cbatticon</b> — Lightweight and fast battery icon that sits in your system tray.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/valr/cbatticon">https://github.com/valr/cbatticon</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cbatticon">cbatticon</a></span>
</dd></dl>
<ul><li>
<b>GNOME Power Statistics</b> — System power information and statistics for GNOME.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.gnome.org/GNOME/gnome-power-manager">https://gitlab.gnome.org/GNOME/gnome-power-manager</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-power-manager">gnome-power-manager</a></span>
</dd></dl>
<ul><li>
<b>KDE Power Devil</b> — Power management module for Plasma.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://invent.kde.org/plasma/powerdevil">https://invent.kde.org/plasma/powerdevil</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=powerdevil">powerdevil</a></span>
</dd></dl>
<ul><li>
<b>LXQt Power Management</b> — Power management module for LXQt.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/lxqt/lxqt-powermanagement">https://github.com/lxqt/lxqt-powermanagement</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxqt-powermanagement">lxqt-powermanagement</a></span>
</dd></dl>
<ul><li>
<b>MATE Power Management</b> — Power management tool for MATE.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mate-desktop/mate-power-manager">https://github.com/mate-desktop/mate-power-manager</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mate-power-manager">mate-power-manager</a></span>
</dd></dl>
<ul><li>
<b>MATE Power Statistics</b> — System power information and statistics for MATE.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mate-desktop/mate-power-manager">https://github.com/mate-desktop/mate-power-manager</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mate-power-manager">mate-power-manager</a></span>
</dd></dl>
<ul><li>
<b>poweralertd</b> — Daemon for delivering UPower notifications.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.sr.ht/~kennylevinsen/poweralertd">https://git.sr.ht/~kennylevinsen/poweralertd</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/poweralertd/">poweralertd</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>powerkit</b> — Desktop independent power manager.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rodlie/powerkit">https://github.com/rodlie/powerkit</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/powerkit/">powerkit</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Xfce Power Manager</b> — Power manager for Xfce.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://docs.xfce.org/xfce/xfce4-power-manager/start">https://docs.xfce.org/xfce/xfce4-power-manager/start</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xfce4-power-manager">xfce4-power-manager</a></span>
</dd></dl>
<ul><li>
<b>vattery</b> — Battery monitoring application written in Vala that will display the status of a laptop battery in a system tray.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.jezra.net/projects/vattery.html">https://www.jezra.net/projects/vattery.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vattery/">vattery</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="ACPI_events">ACPI events</span></h2>
<p><i>systemd</i> handles some power-related <a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface" class="extiw" title="wikipedia:Advanced Configuration and Power Interface">ACPI</a> events, whose actions can be configured in <code>/etc/systemd/logind.conf</code> or <code>/etc/systemd/logind.conf.d/*.conf</code> — see <span class="plainlinks archwiki-template-man" title="$ man 5 logind.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/logind.conf.5">logind.conf(5)</a></span>. On systems with no dedicated power manager, this may replace the <a href="../en/Acpid.html" title="Acpid">acpid</a> daemon which is usually used to react to these ACPI events.
</p>
<p>The specified action for each event can be one of <code>ignore</code>, <code>poweroff</code>, <code>reboot</code>, <code>halt</code>, <code>suspend</code>, <code>hibernate</code>, <code>hybrid-sleep</code>, <code>suspend-then-hibernate</code>, <code>lock</code> or <code>kexec</code>. In case of hibernation and suspension, they must be properly <a href="../en/Power_management/Suspend_and_hibernate.html" title="Power management/Suspend and hibernate">set up</a>. If an event is not configured, <i>systemd</i> will use a default action.
</p>
<table class="wikitable sortable">
<tbody>
<tr>
<th>Event handler
</th>
<th>Description
</th>
<th>Default action
</th>
</tr>
<tr>
<td>
<code>HandlePowerKey</code>
</td>
<td>Triggered when the power key/button is pressed.
</td>
<td>
<code>poweroff</code>
</td>
</tr>
<tr>
<td>
<code>HandleSuspendKey</code>
</td>
<td>Triggered when the suspend key/button is pressed.
</td>
<td>
<code>suspend</code>
</td>
</tr>
<tr>
<td>
<code>HandleHibernateKey</code>
</td>
<td>Triggered when the hibernate key/button is pressed.
</td>
<td>
<code>hibernate</code>
</td>
</tr>
<tr>
<td>
<code>HandleLidSwitch</code>
</td>
<td>Triggered when the lid is closed, except in the cases below.
</td>
<td>
<code>suspend</code>
</td>
</tr>
<tr>
<td>
<code>HandleLidSwitchDocked</code>
</td>
<td>Triggered when the lid is closed if the system is inserted in a docking station, or more than one display is connected.
</td>
<td>
<code>ignore</code>
</td>
</tr>
<tr>
<td>
<code>HandleLidSwitchExternalPower</code>
</td>
<td>Triggered when the lid is closed if the system is connected to external power.
</td>
<td>action set for <code>HandleLidSwitch</code>
</td>
</tr>
</tbody>
</table>
<p>To apply changes, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Reload">reload</a> <code>systemd-logind.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<i>systemd</i> cannot handle AC and Battery ACPI events, so if you use <a href="../en/Laptop_Mode_Tools.html" title="Laptop Mode Tools">Laptop Mode Tools</a> or other similar tools <a href="../en/Acpid.html" title="Acpid">acpid</a> is still required.</li>
<li>When performing lid switches in short succession, <i>logind</i> will delay the suspend action for up to 90s to detect possible docks. <a rel="nofollow" class="external autonumber" href="https://lists.freedesktop.org/archives/systemd-devel/2015-January/027131.html">[1]</a> This delay was made configurable with systemd v220. <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/commit/9d10cbee89ca7f82d29b9cb27bef11e23e3803ba">[2]</a> You can use e.g. <code>HoldoffTimeoutSec=30s</code> in <code>logind.conf</code> or its drop-in file.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Power_managers">Power managers</span></h3>
<p>Some <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environments</a> include power managers which <a rel="nofollow" class="external text" href="https://systemd.io/INHIBITOR_LOCKS/">inhibit</a> (temporarily turn off) some or all of the <i>systemd</i> ACPI settings. If such a power manager is running, then the actions for ACPI events can be configured in the power manager alone. Changes to <code>/etc/systemd/logind.conf</code> or <code>/etc/systemd/logind.conf.d/*.conf</code> need be made only if you wish to configure behaviour for a particular event that is not inhibited by the power manager. 
</p>
<p>Note that if the power manager does not inhibit <i>systemd</i> for the appropriate events you can end up with a situation where <i>systemd</i> suspends your system and then when the system is woken up the other power manager suspends it again. The power managers of <a href="../en/KDE.html" title="KDE">KDE</a>, <a href="../en/GNOME.html" title="GNOME">GNOME</a>, <a href="../en/Xfce.html" title="Xfce">Xfce</a> and <a href="../en/MATE.html" title="MATE">MATE</a> issue the necessary <i>inhibited</i> commands. If the <i>inhibited</i> commands are not being issued, such as when using <a href="../en/Acpid.html" title="Acpid">acpid</a> or others to handle ACPI events, set the <code>Handle</code> options to <code>ignore</code>. See also <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-inhibit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-inhibit.1">systemd-inhibit(1)</a></span>.
</p>
<h3><span class="mw-headline" id="xss-lock">xss-lock</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xss-lock">xss-lock</a></span> subscribes to the systemd-events <code>suspend</code>, <code>hibernate</code>, <code>lock-session</code>, and <code>unlock-session</code> with appropriate actions (run locker and wait for user to unlock or kill locker). <i>xss-lock</i> also reacts to <a href="../en/Display_Power_Management_Signaling.html" class="mw-redirect" title="DPMS">DPMS</a> events and runs or kills the locker in response.
</p>
<p><a href="../en/Autostarting.html" class="mw-redirect" title="Autostart">Autostarting</a> the following for example:
</p>
<pre>$ xss-lock -- i3lock -n -i <i>background_image.png</i> &amp;
</pre>
<h2><span class="mw-headline" id="Power_saving">Power saving</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> See <a href="../en/Laptop.html#Power_management" title="Laptop">Laptop#Power management</a> for power management specific to laptops, such as battery monitoring. See also pages specific to your CPU and GPU (e.g., <a href="../en/Ryzen.html" title="Ryzen">Ryzen</a>, <a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a>).</div>
<p>This section is a reference for creating custom scripts and power saving settings such as by udev rules. Make sure that the settings are not managed by some <a href="#Userspace_tools">other utility</a> to avoid conflicts.
</p>
<p>Almost all of the features listed here are worth using whether or not the computer is on AC or battery power. Most have negligible performance impact and are just not enabled by default because of commonly broken hardware/drivers. Reducing power usage means reducing heat, which can even lead to higher performance on a modern Intel or AMD CPU, thanks to <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost" class="extiw" title="wikipedia:Intel Turbo Boost">dynamic overclocking</a>.
</p>
<h3>
<span id="Processors_with_Intel_HWP_.28Intel_Hardware_P-state.29_support"></span><span class="mw-headline" id="Processors_with_Intel_HWP_(Intel_Hardware_P-state)_support">Processors with Intel HWP (Intel Hardware P-state) support</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a>.</b></p>
<div>
<b>Notes:</b> More context in the main article. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<p>The available energy preferences of a HWP supported processor are <code>default</code>, <code>performance</code>,  <code>balance_performance</code>, <code>balance_power</code>, <code>power</code>.
</p>
<p>This can be validated by running
</p>
<pre>$ cat /sys/devices/system/cpu/cpufreq/policy*/energy_performance_available_preferences
</pre>
<p>To conserve more energy, you can edit the configuration by creating the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/energy_performance_preference.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /sys/devices/system/cpu/cpufreq/policy*/energy_performance_preference - - - - balance_power
</pre>
<p>See the <span class="plainlinks archwiki-template-man" title="$ man 8 x86_energy_perf_policy"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/x86_energy_perf_policy.8">x86_energy_perf_policy(8)</a></span> man page for more details on energy-performance policy in Intel processors. Also see <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-tmpfiles.8">systemd-tmpfiles(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tmpfiles.d.5">tmpfiles.d(5)</a></span> man pages for temporary files/directories details.
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<h4><span class="mw-headline" id="Kernel">Kernel</span></h4>
<p>By default, audio power saving is turned off by most drivers. It can be enabled by setting the <code>power_save</code> parameter; a time (in seconds) to go into idle mode. To idle the audio card after one second, create the following file for Intel soundcards.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/audio_powersave.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd_hda_intel power_save=1</pre>
<p>Alternatively, use the following for ac97:
</p>
<pre>options snd_ac97_codec power_save=1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>To retrieve the manufacturer and the corresponding kernel driver which is used for your sound card, run <code>lspci -k</code>.</li>
<li>Toggling the audio card's power state can cause a popping sound or noticeable latency on some broken hardware.</li>
</ul>
</div>
<p>It is also possible to further reduce the audio power requirements by disabling the HDMI audio output, which can done by <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklisting">blacklisting</a> the appropriate kernel modules (e.g. <code>snd_hda_codec_hdmi</code> in case of Intel hardware).
</p>
<h4><span class="mw-headline" id="Pops_when_starting_and_stopping_playback">Pops when starting and stopping playback</span></h4>
<p>By default, audio sources that have become idle for too long are suspended. When playing a sound or using a microphone, playback or recordings may start with a pop sound. See the dedicated pages for the relevant solution: 
</p>
<ul>
<li><a href="../en/Advanced_Linux_Sound_Architecture/Troubleshooting.html#Pops_when_starting_and_stopping_playback" title="Advanced Linux Sound Architecture/Troubleshooting">Advanced Linux Sound Architecture/Troubleshooting#Pops when starting and stopping playback</a></li>
<li><a href="../en/PulseAudio/Troubleshooting.html#Pops_when_starting_and_stopping_playback" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting#Pops when starting and stopping playback</a></li>
<li><a href="../en/PipeWire.html#Noticeable_audio_delay_or_audible_pop/crack_when_starting_playback" title="PipeWire">PipeWire#Noticeable audio delay or audible pop/crack when starting playback</a></li>
</ul>
<h3><span class="mw-headline" id="Backlight">Backlight</span></h3>
<p>See <a href="../en/Backlight.html" title="Backlight">Backlight</a>.
</p>
<h3><span class="mw-headline" id="Bluetooth">Bluetooth</span></h3>
<p>To disable Bluetooth completely, <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">blacklist</a> the <code>btusb</code> and <code>bluetooth</code> modules.
</p>
<p>Alternatively, create the following udev rules:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-bluetooth.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># disable bluetooth
SUBSYSTEM=="rfkill", ATTR{type}=="bluetooth", ATTR{state}="0"</pre>
<p>To turn off Bluetooth only temporarily, use <span class="plainlinks archwiki-template-man" title="$ man 8 rfkill"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/rfkill.8">rfkill(8)</a></span>:
</p>
<pre># rfkill block bluetooth
</pre>
<h3><span class="mw-headline" id="Web_camera">Web camera</span></h3>
<p>If you will not use integrated web camera then <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">blacklist</a> the <code>uvcvideo</code> module.
</p>
<h3><span class="mw-headline" id="Kernel_parameters">Kernel parameters</span></h3>
<p>This section uses configurations in <code>/etc/sysctl.d/</code>, which is <i>"a drop-in directory for kernel sysctl parameters."</i>  See <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/the-new-configuration-files">The New Configuration Files</a> and more specifically <span class="plainlinks archwiki-template-man" title="$ man 5 sysctl.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.d.5">sysctl.d(5)</a></span> for more information.
</p>
<h4><span class="mw-headline" id="Disabling_NMI_watchdog">Disabling NMI watchdog</span></h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> This or <code>nowatchdog</code> as can be seen in <a href="../en/Improving_performance.html#Watchdogs" title="Improving performance">Improving performance#Watchdogs</a> (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Non-maskable_interrupt" class="extiw" title="wikipedia:Non-maskable interrupt">NMI</a> watchdog is a debugging feature to catch hardware hangs that cause a kernel panic. On some systems it can generate a lot of interrupts, causing a noticeable increase in power usage:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/disable_watchdog.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">kernel.nmi_watchdog = 0</pre>
<p>or add <code>nmi_watchdog=0</code> to the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel line">kernel line</a> to disable it completely from early boot.
</p>
<h4><span class="mw-headline" id="Writeback_Time">Writeback Time</span></h4>
<p>Increasing the virtual memory dirty writeback time helps to aggregate disk I/O together, thus reducing spanned disk writes, and increasing power saving. To set the value to 60 seconds (default is 5 seconds):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/dirty.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vm.dirty_writeback_centisecs = 6000</pre>
<p>To do the same for journal commits on supported filesystems (e.g. ext4, btrfs...), use <code>commit=60</code> as a option in <a href="../en/Fstab.html" title="Fstab">fstab</a>.
</p>
<p>Note that this value is modified as a side effect of the Laptop Mode setting below. See also <a href="../en/Sysctl.html#Virtual_memory" title="Sysctl">sysctl#Virtual memory</a> for other parameters affecting I/O performance and power saving.
</p>
<h4><span class="mw-headline" id="Laptop_Mode">Laptop Mode</span></h4>
<p>See the <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/laptops/laptop-mode.html">kernel documentation</a> on the laptop mode "knob" - "A sensible value for the knob is 5 seconds".
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/laptop.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vm.laptop_mode = 5</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This setting is mainly relevant to spinning-disk drives.</div>
<h3><span class="mw-headline" id="Network_interfaces">Network interfaces</span></h3>
<p><a href="../en/Wake-on-LAN.html" title="Wake-on-LAN">Wake-on-LAN</a> can be a useful feature, but if you are not making use of it then it is simply draining extra power waiting for a magic packet while in suspend. You can adapt the <a href="../en/Wake-on-LAN.html#udev" title="Wake-on-LAN">Wake-on-LAN#udev</a> rule to disable the feature for all ethernet interfaces. To enable powersaving with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iw">iw</a></span> on all wireless interfaces:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/<b>81</b>-wifi-powersave.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="net", KERNEL=="wl*", RUN+="/usr/bin/iw dev $name set power_save on"</pre>
<p>The name of the configuration file is important. With the use of <a href="../en/Network_configuration.html#Change_interface_name" title="Network configuration">persistent device names</a> in systemd, the above network rule, named lexicographically <b>after</b> <code>80-net-setup-link.rules</code>, is applied after the device is renamed with a persistent name e.g. <code>wlan0</code> renamed <code>wlp3s0</code>. Be aware that the <code>RUN</code> command is executed after all rules have been processed and must anyway use the persistent name, available in <code>$name</code> for the matched device.
</p>
<h4>
<span id="Intel_wireless_cards_.28iwlwifi.29"></span><span class="mw-headline" id="Intel_wireless_cards_(iwlwifi)">Intel wireless cards (iwlwifi)</span>
</h4>
<p>Additional power saving functions of Intel wireless cards with <code>iwlwifi</code> driver can be enabled by passing the correct parameters to the kernel module. Making them persistent can be achieved by adding the lines below to the <code>/etc/modprobe.d/iwlwifi.conf</code> file:
</p>
<pre>options iwlwifi power_save=1
</pre>
<p>This option will probably increase your median latency:
</p>
<pre>options iwlwifi uapsd_disable=0
</pre>
<p>On kernels &lt; 5.4 you can use this option, but it will probably decrease your maximum throughput:
</p>
<pre>options iwlwifi d0i3_disable=0
</pre>
<p>Depending on your wireless card one of these two options will apply.
</p>
<pre>options iwlmvm power_scheme=3
</pre>
<pre>options iwldvm force_cam=0
</pre>
<p>You can check which one is relevant by checking which of these modules is running using
</p>
<pre># lsmod | grep '^iwl.vm'
</pre>
<p>Keep in mind that these power saving options are experimental and can cause an unstable system.
</p>
<h3><span class="mw-headline" id="Bus_power_management">Bus power management</span></h3>
<h4><span class="mw-headline" id="Active_State_Power_Management">Active State Power Management</span></h4>
<p>From <a href="https://en.wikipedia.org/wiki/Active_State_Power_Management" class="extiw" title="wikipedia:Active State Power Management">Wikipedia</a>:
</p>
<dl><dd>
<b>Active-state power management</b> (<b>ASPM</b>) is a power management mechanism for PCI Express devices to garner power savings while otherwise in a fully active state. Predominantly, this is achieved through active-state link power management; i.e., the PCI Express serial link is powered down when there is no traffic across it. It is normally used on laptops and other mobile Internet devices to extend battery life.</dd></dl>
<p>At boot, the BIOS enables or disables ASPM based on hardware support. To check for support:
</p>
<pre># lspci -vv | grep 'ASPM.*abled;'
</pre>
<p>Fetch available ASPM policies and the current system default using the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/module/pcie_aspm/parameters/policy</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[default] performance powersave powersupersave
</pre>
<p>ASPM might be disabled for the following reasons <a rel="nofollow" class="external autonumber" href="https://wireless.wiki.kernel.org/en/users/documentation/ASPM">[3]</a>:
</p>
<ol>
<li>The BIOS disabled it for some reason (for conflicts?).</li>
<li>PCIE requires ASPM but L0s are optional (so L0s might be disabled and only L1 enabled).</li>
<li>The BIOS might not have been programmed for it or may be buggy.</li>
</ol>
<p>If you believe that your hardware has support for ASPM despite the above, it can be force-enabled for the kernel to handle with the <code>pcie_aspm=force</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Force-enabling ASPM on an unsupported system may lead to increased power consumption. Furthermore, it may cause system freezes or kernel panics, so make sure you have a way to undo the option if it is unsuitable.</li>
<li>Forcing ASPM takes place in the kernel, and therefore it may still remain disabled in hardware and not work. To check whether this is the case, run <code>dmesg | grep ASPM</code> as root. Consult the Wiki article specific to your hardware for more information if possible.</li>
</ul>
</div>
<p>As long as ASPM is supported and enabled, it is possible to select a desired policy for the current session. For example, switch to <code>powersupersave</code> for the current session by doing the following:
</p>
<pre># echo powersupersave &gt; /sys/module/pcie_aspm/parameters/policy
</pre>
<p>To configure a specific ASPM state to enable upon system boot (using <code>powersupersave</code> as an example), add <code>pcie_aspm.policy=powersupersave</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<h4><span class="mw-headline" id="PCI_Runtime_Power_Management">PCI Runtime Power Management</span></h4>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/pci_pm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="pci", ATTR{power/control}="auto"</pre>
<p>The rule above powers all unused devices down, but some devices will not wake up again. To allow runtime power management only for devices that are known to work, use simple matching against vendor and device IDs (use <code>lspci -nn</code> to get these values):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/pci_pm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># whitelist for pci autosuspend
SUBSYSTEM=="pci", ATTR{vendor}=="0x1234", ATTR{device}=="0x1234", ATTR{power/control}="auto"</pre>
<p>Alternatively, to blacklist devices that are not working with PCI runtime power management and enable it for all other devices:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/pci_pm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># blacklist for pci runtime power management
SUBSYSTEM=="pci", ATTR{vendor}=="0x1234", ATTR{device}=="0x1234", ATTR{power/control}="on", GOTO="pci_pm_end"

SUBSYSTEM=="pci", ATTR{power/control}="auto"
LABEL="pci_pm_end"</pre>
<h4><span class="mw-headline" id="USB_autosuspend">USB autosuspend</span></h4>
<p>The Linux kernel can automatically suspend USB devices when they are not in use. This can sometimes save quite a bit of power, however some USB devices are not compatible with USB power saving and start to misbehave (common for USB mice/keyboards). <a href="../en/Udev.html" title="Udev">udev</a> rules based on whitelist or blacklist filtering can help to mitigate the problem.
</p>
<p>The most simple and likely useless example is enabling autosuspend for all USB devices:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-usb_power_save.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="usb", TEST=="power/control", ATTR{power/control}="auto"</pre>
<p>To allow autosuspend only for devices that are known to work, use simple matching against vendor and product IDs (use <i>lsusb</i> to get these values):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-usb_power_save.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># whitelist for usb autosuspend
ACTION=="add", SUBSYSTEM=="usb", TEST=="power/control", ATTR{idVendor}=="05c6", ATTR{idProduct}=="9205", ATTR{power/control}="auto"</pre>
<p>Alternatively, to blacklist devices that are not working with USB autosuspend and enable it for all other devices:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-usb_power_save.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># blacklist for usb autosuspend
ACTION=="add", SUBSYSTEM=="usb", ATTR{idVendor}=="05c6", ATTR{idProduct}=="9205", GOTO="power_usb_rules_end"

ACTION=="add", SUBSYSTEM=="usb", TEST=="power/control", ATTR{power/control}="auto"
LABEL="power_usb_rules_end"</pre>
<p>The default autosuspend idle delay time is controlled by the <code>autosuspend</code> parameter of the <code>usbcore</code> built-in <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a>. To set the delay to 5 seconds instead of the default 2 seconds, add the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> for your boot loader.
</p>
<pre>usbcore.autosuspend=5</pre>
<p>Similarly to <code>power/control</code>, the delay time can be fine-tuned per device by setting the <code>power/autosuspend</code> attribute. This means, alternatively, autosuspend can be disabled by setting <code>power/autosuspend</code> to -1 (i.e., never autosuspend):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-usb_power_save.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="usb", ATTR{idVendor}=="05c6", ATTR{idProduct}=="9205", ATTR{power/autosuspend}="-1"</pre>
<p>See the <a rel="nofollow" class="external text" href="https://docs.kernel.org/driver-api/usb/power-management.html">Linux kernel documentation</a> for more information on USB power management.
</p>
<h4><span class="mw-headline" id="SATA_Active_Link_Power_Management">SATA Active Link Power Management</span></h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> The warning at the start of the section makes it seem like all settings can lead to data loss, while the table implies it's only the lowest setting that may cause it. This should be explicitly clarified. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> SATA Active Link Power Management can lead to data loss on some devices. Do not enable this setting unless you have frequent backups.</div>
<p>Since Linux 4.15 there is a <a rel="nofollow" class="external text" href="https://hansdegoede.livejournal.com/18412.html">setting</a> called <code>med_power_with_dipm</code> that matches the behaviour of Windows IRST driver settings and should not cause data loss with recent SSDs or HDDs. The power saving can be significant, ranging <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ebb82e3c79d2a956366d0848304a53648bd6350b">from 1.0 to 1.5 Watts (when idle)</a>. It has become the default setting for Intel based laptops in Linux 4.16 <a rel="nofollow" class="external autonumber" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ebb82e3c79d2a956366d0848304a53648bd6350b">[4]</a>.
</p>
<p>The current setting can be read from or written to <code>/sys/class/scsi_host/host*/link_power_management_policy</code> as follows:
</p>
<pre>$ grep . /sys/class/scsi_host/host*/link_power_management_policy
$ echo "med_power_with_dipm" &gt;/sys/class/scsi_host/host<i>N</i>/link_power_management_policy
</pre>
<table class="wikitable">
<caption>Available ALPM settings
</caption>
<tbody>
<tr>
<th>Setting
</th>
<th>Description
</th>
<th>Power saving
</th>
</tr>
<tr>
<td>max_performance
</td>
<td>current default
</td>
<td>None
</td>
</tr>
<tr>
<td>medium_power
</td>
<td>-
</td>
<td>~1.0 Watts
</td>
</tr>
<tr>
<td>med_power_with_dipm
</td>
<td>recommended setting
</td>
<td>~1.5 Watts
</td>
</tr>
<tr>
<td>min_power
</td>
<td>
<b>WARNING: possible data loss</b>
</td>
<td>~1.5 Watts
</td>
</tr>
</tbody>
</table>
<p>You can configure link_power_management_policy settings persistently by adding an <a href="../en/Udev.html" title="Udev">udev</a> rules file, for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/hd_power_save.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="scsi_host", KERNEL=="host*", ATTR{link_power_management_policy}="med_power_with_dipm"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>This adds latency when accessing a drive that has been idle, so it is one of the few settings that may be worth toggling based on whether you are on AC power.</li>
<li>Not all combinations of SATA host controllers and storage devices work well with the default <code>med_power_with_dipm</code> setting. For example:
<ul>
<li>as of linux-6.8.1, Intel 7 Series Chipset controllers will experience timeouts and link degradation when accessing Crucial M550 SSDs (with firmware MU02).</li>
<li>as of linux-6.9.6, AMD 600 Series Chipset SATA Controllers used with HL-DT-ST BDDVDRW GGC-H20L optical disk drives have the annoying effect that the ROM drive will noisily be re-initialized every few minutes.</li>
</ul>
</li>
</ul>
<p>In such cases, using the <code>medium_power</code> setting can fix the problem.
</p>
</div>
<h3><span class="mw-headline" id="Hard_disk_drive">Hard disk drive</span></h3>
<p>See <a href="../en/Hdparm.html#Power_management_configuration" title="Hdparm">hdparm#Power management configuration</a> for drive parameters that can be set.
</p>
<p>Power saving is not effective when too many programs are frequently writing to the disk. Tracking all programs, and how and when they write to disk is the way to limit disk usage. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iotop">iotop</a></span> to see which programs use the disk frequently. See <a href="../en/Improving_performance.html#Storage_devices" title="Improving performance">Improving performance#Storage devices</a> for other tips.
</p>
<p>Small adjustments such as setting the <a href="../en/Fstab.html#atime_options" title="Fstab">noatime</a> option can also help. If enough RAM is available, consider disabling or limiting <a href="../en/Swap.html#Swappiness" class="mw-redirect" title="Swappiness">swappiness</a> as it has the possibility to limit a good number of disk writes.
</p>
<p>For Seagate drives with <a rel="nofollow" class="external text" href="https://www.seagate.com/files/docs/pdf/en-GB/whitepaper/tp608-powerchoice-tech-provides-gb.pdf">PowerChoice</a> technology, tricks setting APM via <a href="../en/Hdparm.html" title="Hdparm">hdparm</a> will not work due to the <i>EPC</i> (Extended Power Conditions) feature. Rather than setting APM, you can <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a>  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openseachest/">openseachest</a></span><sup><small>AUR</small></sup> and fully disable EPC like so (replace <i>X</i> with actual drive letter):
</p>
<pre># openSeaChest_PowerControl --scan
# openSeaChest_PowerControl -d /dev/sd<i>X</i> -i
# openSeaChest_PowerControl -d /dev/sd<i>X</i> --showEPCSettings
# openSeaChest_PowerControl -d /dev/sd<i>X</i> --EPCfeature disable
# openSeaChest_PowerControl -d /dev/sd<i>X</i> --showEPCSettings
</pre>
<p>Last invocation will give the following summary:
</p>
<pre>==========================================================================================
 openSeaChest_PowerControl - openSeaChest drive utilities - NVMe Enabled
 Copyright (c) 2014-2023 Seagate Technology LLC and/or its Affiliates, All Rights Reserved
 openSeaChest_PowerControl Version: 3.3.1-4_1_1 X86_64
 Build Date: Jul  4 2023
 Today: Tue Jul  4 17:49:36 2023        User: root
==========================================================================================

/dev/sd<i>X</i> - ST1000NM0008-2F2100 - ZFA19JG2 - SN02 - ATA


===EPC Settings===
        * = timer is enabled
        C column = Changeable
        S column = Savable
        All times are in 100 milliseconds

Name       Current Timer Default Timer Saved Timer   Recovery Time C S
Idle A      0            *10           *10           1             Y Y
Idle B      0            *1200         *1200         3             Y Y
Idle C      0             6000          6000         16            Y Y
Standby Z   0             9000          9000         46            Y Y
</pre>
<p>Zeroes in the first column confirm that parking and spindown were disabled successfully
</p>
<h2><span class="mw-headline" id="Tools_and_scripts">Tools and scripts</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Merged from <a href="../en/Power_management.html" class="mw-redirect" title="Power saving">Power saving</a>, needs reorganization to fit into this page. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<h3><span class="mw-headline" id="Using_a_script_and_an_udev_rule">Using a script and an udev rule</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Laptop.html#Power_management" title="Laptop">Laptop#Power management</a>.</b></p>
<div>
<b>Notes:</b> Might be a better fit for the laptop-specific page. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<p>Since systemd users can suspend and hibernate through <code>systemctl suspend</code> or <code>systemctl hibernate</code> and handle acpi events with <code>/etc/systemd/logind.conf</code>, it might be interesting to remove <i>pm-utils</i> and <a href="../en/Acpid.html" title="Acpid">acpid</a>. There is just one thing systemd cannot do (as of systemd-204): power management depending on whether the system is running on AC or battery. To fill this gap, you can create a single <a href="../en/Udev.html" title="Udev">udev</a> rule that runs a script when the AC adapter is plugged and unplugged:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/powersave.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="power_supply", ATTR{online}=="0", RUN+="/path/to/your/script true"
SUBSYSTEM=="power_supply", ATTR{online}=="1", RUN+="/path/to/your/script false"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can use the same script that <i>pm-powersave</i> uses. You just have to make it executable and place it somewhere else (for example <code>/usr/local/bin/</code>).</div>
<p>Examples of powersave scripts:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://github.com/supplantr/ftw">ftw</a>, package: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ftw-git/">ftw-git</a></span><sup><small>AUR</small></sup>
</li>
<li><a rel="nofollow" class="external text" href="https://github.com/Unia/powersave">powersave</a></li>
<li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=180762">throttlectl</a>, from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/throttlectl/">throttlectl</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>The above udev rule should work as expected, but if your power settings are not updated after a suspend or hibernate cycle, you should add a script in <code>/usr/lib/systemd/system-sleep/</code> with the following contents:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system-sleep/00powersave</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

case $1 in
    pre) /path/to/your/script false ;;
    post)       
	if cat /sys/class/power_supply/AC0/online | grep 0 &gt; /dev/null 2&gt;&amp;1
	then
    		/path/to/your/script true	
	else
    		/path/to/your/script false
	fi
    ;;
esac
exit 0
</pre>
<p>Do not forget to make it executable!
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Be aware that AC0 may be different for your laptop, change it if that is the case.</div>
<h3><span class="mw-headline" id="Print_power_settings">Print power settings</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Power_saving">#Power saving</a>.</b></p>
<div>
<b>Notes:</b> Might be good as an introduction? Since most of the output of the script can be used by the following sections. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<p>This script prints power settings and a variety of other properties for USB and PCI devices.  Note that root permissions are needed to see all settings.
</p>
<pre>#!/bin/bash

for i in $(find /sys/devices -name "bMaxPower")
do
	busdir=${i%/*}
	busnum=$(&lt;$busdir/busnum)
	devnum=$(&lt;$busdir/devnum)
	title=$(lsusb -s $busnum:$devnum)

	printf "\n\n+++ %s\n  -%s\n" "$title" "$busdir"

	for ff in $(find $busdir/power -type f ! -empty 2&gt;/dev/null)
	do
		v=$(cat $ff 2&gt;/dev/null|tr -d "\n")
		[[ ${#v} -gt 0 ]] &amp;&amp; echo -e " ${ff##*/}=$v";
		v=;
	done | sort -g;
done;

printf "\n\n\n+++ %s\n" "Kernel Modules"
for mod in $(lspci -k | sed -n '/in use:/s,^.*: ,,p' | sort -u)
do
	echo "+ $mod";
	systool -v -m $mod 2&gt; /dev/null | sed -n "/Parameters:/,/^$/p";
done</pre>
<h2><span class="mw-headline" id="Allow_users_to_shutdown">Allow users to shutdown</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Merged from <a href="../en/Power_management.html#Allow_users_to_shutdown" class="mw-redirect" title="Allow users to shutdown">Allow users to shutdown</a>, needs reorganization to fit into this page. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Power_management.html">Talk:Power management</a>)</div>
</div>
<h3><span class="mw-headline" id="Button_and_lid_events">Button and lid events</span></h3>
<p>The suspend, poweroff and hibernate button presses and lid close events are handled by <i>logind</i> as described in <a href="#ACPI_events">#ACPI events</a>.
</p>
<h3><span class="mw-headline" id="Using_systemd-logind">Using systemd-logind</span></h3>
<p>If you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit">polkit</a></span>, users with non-remote session can issue power-related commands as long as <a href="../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">the session is not broken</a>.
</p>
<p>To check if your session is active
</p>
<pre>$ loginctl show-session $XDG_SESSION_ID --property=Active
</pre>
<p>The user can then use <i>systemctl</i> commands in the command line, or add them to menus:
</p>
<pre>$ systemctl poweroff
$ systemctl reboot
</pre>
<p>Other commands can be used as well, including <code>systemctl suspend</code> and <code>systemctl hibernate</code>. See the <i>System Commands</i> section in <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemctl.1">systemctl(1)</a></span>.
</p>
<h3><span class="mw-headline" id="Using_sudo">Using sudo</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo">sudo</a></span>, and give the user <a href="../en/Sudo.html" title="Sudo">sudo privileges</a>. The user will then be able to use the <code>sudo systemctl</code> commands (e.g. <code>sudo systemctl poweroff</code>, <code>sudo systemctl reboot</code>, <code>sudo systemctl suspend</code> and <code>sudo systemctl hibernate</code>). See the <i>System Commands</i> section in <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemctl.1">systemctl(1)</a></span>
</p>
<h4><span class="mw-headline" id="Users_without_sudo_privileges">Users without sudo privileges</span></h4>
<p>If users should only be allowed to use shutdown commands, but not have other sudo privileges, then, as root, add the following to the end of <code>/etc/sudoers</code> using the <code>visudo</code> command. Substitute <i>user</i> for your username and <i>hostname</i> for the machine's hostname.
</p>
<pre><i>user</i> <i>hostname</i> =NOPASSWD: /usr/bin/systemctl poweroff,/usr/bin/systemctl halt,/usr/bin/systemctl reboot
</pre>
<p>Now your user can shutdown with <code>sudo systemctl poweroff</code>, and reboot with <code>sudo systemctl reboot</code>. Users wishing to power down a system can also use <code>sudo systemctl halt</code>. Use the <code>NOPASSWD:</code> tag only if you do not want to be prompted for your password.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/How_to_reduce_power_consumption">ThinkWiki:How to reduce power consumption</a></li>
<li><a rel="nofollow" class="external text" href="https://ivanvojtko.blogspot.sk/2016/04/how-to-get-longer-battery-life-on-linux.html">How to get longer battery life on Linux</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Power_management.html" title="Category:Power management">Power management</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Power_management&amp;oldid=812542">https://wiki.archlinux.org/index.php?title=Power_management&amp;oldid=812542</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 July 2024, at 14:58.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
