<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>OpenRC - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OpenRC rootpage-OpenRC skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Booting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Booting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Booting</div>
			</a>
			
			<ul id="toc-Booting-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Services" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Services">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Services</div>
			</a>
			
			<ul id="toc-Services-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Network" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Network">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Network</div>
			</a>
			
			<ul id="toc-Network-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Boot_logs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Boot_logs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Boot logs</div>
			</a>
			
			<ul id="toc-Boot_logs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hostname" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hostname">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Hostname</div>
			</a>
			
			<ul id="toc-Hostname-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Kernel_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kernel_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Kernel modules</div>
			</a>
			
			<ul id="toc-Kernel_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Locale" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Locale">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>Locale</div>
			</a>
			
			<ul id="toc-Locale-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Usage</div>
		</a>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Quiet_booting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Quiet_booting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Quiet booting</div>
			</a>
			
			<ul id="toc-Quiet_booting-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Error_while_unmounting_/tmp" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_while_unmounting_/tmp">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Error while unmounting /tmp</div>
			</a>
			
			<ul id="toc-Error_while_unmounting_/tmp-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disabling_IPv6_does_not_work" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disabling_IPv6_does_not_work">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Disabling IPv6 does not work</div>
			</a>
			
			<ul id="toc-Disabling_IPv6_does_not_work-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-During_shutdown_remounting_root_as_read-only_fails" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#During_shutdown_remounting_root_as_read-only_fails">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>During shutdown remounting root as read-only fails</div>
			</a>
			
			<ul id="toc-During_shutdown_remounting_root_as_read-only_fails-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/etc/sysctl.conf_not_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/etc/sysctl.conf_not_found">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>/etc/sysctl.conf not found</div>
			</a>
			
			<ul id="toc-/etc/sysctl.conf_not_found-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-opentmpfiles-setup_failed_to_start" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#opentmpfiles-setup_failed_to_start">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>opentmpfiles-setup failed to start</div>
			</a>
			
			<ul id="toc-opentmpfiles-setup_failed_to_start-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Reverting_to_systemd" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Reverting_to_systemd">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Reverting to systemd</div>
		</a>
		
		<ul id="toc-Reverting_to_systemd-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">OpenRC</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/OpenRC" title="OpenRC – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/OpenRC.html" title="OpenRC – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/OpenRC.html" title="OpenRC – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-tr mw-list-item"><a href="../tr/OpenRC.html" title="OpenRC – Türkçe" lang="tr" hreflang="tr" class="interlanguage-link-target"><span>Türkçe</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/OpenRC" title="OpenRC – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Init.html" title="Init">init</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Arch Linux only has official support for <a href="../en/Systemd.html" title="Systemd">systemd</a>. <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/end-of-initscripts-support/">[1]</a> When using OpenRC, please mention so in support requests.</div>
<p><a href="https://wiki.gentoo.org/wiki/OpenRC" class="extiw" title="gentoo:OpenRC">OpenRC</a> is a service manager maintained by the Gentoo developers. OpenRC is dependency based and works with the system provided init program, normally <a href="../en/SysVinit.html" title="SysVinit">SysVinit</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>For details on init components, see <a href="../en/Init.html" title="Init">Init</a>.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openrc/">openrc</a></span><sup><small>AUR</small></sup> package. 
</p>
<p>From version 0.25 onward, OpenRC provides its own init at <code>/usr/bin/openrc-init</code>.
Optionally, you can use other inits from, e.g., <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=busybox">busybox</a></span>. Note that when <code>openrc-init</code> is used, it must be paired with <code>openrc-shutdown</code>, and <i>not</i> the <code>shutdown</code> or <code>reboot</code> commands from other packages, otherwise you will encounter errors.
</p>
<p>A basic set of service files are available from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openrc-arch-services-git/">openrc-arch-services-git</a></span><sup><small>AUR</small></sup> package.
Other packages may have service files provided outside this package; a search on the AUR is recommended.
</p>
<p>To maintain compatibility with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/initscripts-fork/">initscripts-fork</a></span><sup><small>AUR</small></sup>, configuration files are installed to <code>/etc/openrc/</code>.
</p>
<h3><span class="mw-headline" id="Booting">Booting</span></h3>
<p>For booting with OpenRC, set the <code>init</code> option in the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<p>To use OpenRC's built-in init, set <code>init=/usr/bin/openrc-init</code>.
To use <a href="../en/SysVinit.html" title="SysVinit">SysVinit</a> set <code>init=/usr/bin/init-openrc</code>.
</p>
<p>Note that when using <code>openrc-init</code>, the <code>/etc/inittab</code> file is not used.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>The <code>/etc/openrc/conf.d</code> directory, and the <code>/etc/openrc/rc.d</code> file is used for configuration.
</p>
<p>For general information on configuring OpenRC, see:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.calculate-linux.org/main/en/openrc_manuals">OpenRC manuals</a></li>
<li>
<a href="https://wiki.gentoo.org/wiki/OpenRC" class="extiw" title="gentoo:OpenRC">Gentoo:OpenRC</a>.</li>
</ul>
<p>For instructions when migrating from <a href="../en/Systemd.html" title="Systemd">systemd</a>, see <a href="../en/Init.html#Configuration" title="Init">Init#Configuration</a>.
</p>
<h3><span class="mw-headline" id="Services">Services</span></h3>
<p>OpenRC services are enabled by issuing <code>rc-update add <i>service_name</i> <i>runlevel</i></code> as root. It is recommended to at least enable the following services:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Service name
</th>
<th>
<a href="https://wiki.gentoo.org/wiki/OpenRC#Named_runlevels" class="extiw" title="gentoo:OpenRC">Runlevel</a>
</th>
<th>Description
</th>
</tr>
<tr>
<td>udev
</td>
<td>sysinit
</td>
<td>Device hot-plugging
</td>
</tr>
<tr>
<td>alsa
</td>
<td>default
</td>
<td>
<a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> state
</td>
</tr>
<tr>
<td>acpid
</td>
<td>default
</td>
<td>ACPI events
</td>
</tr>
<tr>
<td>dbus
</td>
<td>default
</td>
<td>Messaging bus
</td>
</tr>
<tr>
<td>dcron
</td>
<td>default
</td>
<td>Scheduling
</td>
</tr>
<tr>
<td>syslog-ng
</td>
<td>default
</td>
<td>System logs
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If using <code>init=/usr/bin/openrc-init</code> in your kernel parameters, you will need to manually enable <a href="../en/Getty.html" title="Getty">getty</a> services, otherwise you will be left with no interactive TTYs as stated in <a rel="nofollow" class="external text" href="https://github.com/OpenRC/openrc/blob/master/agetty-guide.md">the documentation</a>.</div>
<p>If necessary, create services for each wanted <a href="../en/Getty.html" title="Getty">getty</a> by creating symbolic links to <code>/etc/openrc/init.d/getty</code>. E.g. for <code>/dev/tty1</code>:
</p>
<pre># ln -s /etc/openrc/init.d/agetty{,.tty1}
# rc-update add agetty.tty1 default
</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-go-next.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is a candidate for moving to <a href="../en/Init.html#Configuration" title="Init">Init#Configuration</a>.</b></p>
<div>
<b>Notes:</b> Not only applicable to OpenRC (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:OpenRC.html">Talk:OpenRC</a>)</div>
</div>
<p>To prevent PAM from attempting to register with systemd after logging into the tty (which can sometimes <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=285505">cause problems</a>, it is safe to remove or comment out the lines mentioning systemd in <code>/etc/pam.d/system-auth</code>.
</p>
<p>See also <a href="https://wiki.gentoo.org/wiki/Systemd#Native_services" class="extiw" title="gentoo:Systemd">Gentoo:Systemd#Native services</a>.
</p>
<h3><span class="mw-headline" id="Network">Network</span></h3>
<p>The network is configured through <code>newnet</code> <a rel="nofollow" class="external autonumber" href="https://github.com/OpenRC/openrc/blob/master/NEWNET.md">[2]</a>. Modify the <code>/etc/openrc/conf.d/network</code> file; both the <code>ip</code> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>) and the <code>ifconfig</code> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span>) commands are supported. Below is an example configuration using <code>ip</code>.
</p>
<pre>ip_eth0="192.168.1.2/24"
defaultiproute="via 192.168.1.1"
ifup_eth0="ip link set \$int mtu 1500"</pre>
<p>The network service is added to the boot runlevel by default, so no further action is required. See <a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a> for general networking information.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You may also use <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>, <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> by enabling the respective services. <i>netcfg</i> mimics the <a href="../en/Netctl.html" title="Netctl">netctl</a> behaviour (see <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1489283#p1489283">[3]</a> if you want to enable profiles connection on booting - requires <code>wpa_actiond</code>). See <a rel="nofollow" class="external text" href="https://archlinux.org/netcfg/features.html">netcfg features</a>.</div>
<h3><span class="mw-headline" id="Boot_logs">Boot logs</span></h3>
<p>To enable boot logging, uncomment the <code>rc_logger="YES"</code> line in <code>/etc/openrc/rc.conf</code>. When enabled, boot logs are stored in <code>/var/log/rc.log</code>.
</p>
<h3><span class="mw-headline" id="Hostname">Hostname</span></h3>
<p>OpenRC sets the hostname from <code>/etc/openrc/conf.d/hostname</code>. The file looks as follows:
</p>
<pre># Set to the hostname of this machine
hostname="myhostname"</pre>
<h3><span class="mw-headline" id="Kernel_modules">Kernel modules</span></h3>
<p>OpenRC uses <code>/etc/openrc/conf.d/modules</code> instead of <code>/etc/modules-load.d</code>. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openrc/conf.d/modules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># You should consult your kernel documentation and configuration
# for a list of modules and their options.

modules="vboxdrv acpi_cpufreq"</pre>
<h3><span class="mw-headline" id="Locale">Locale</span></h3>
<p>Keyboard layout can be configured via <code>/etc/openrc/conf.d/keymaps</code> and <code>/etc/openrc/conf.d/consolefont</code>. You can also configure the settings through the <code>/etc/locale.conf</code> file, which is sourced via <code>/etc/profile.d/locale.sh</code>. 
</p>
<p>See <a href="https://wiki.gentoo.org/wiki/Localization/Guide#Keyboard_layout_for_the_console" class="extiw" title="gentoo:Localization/Guide">Gentoo:Localization/Guide#Keyboard layout for the console</a> and <a href="../en/Locale.html" title="Locale">Locale</a> for details.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>This section draws a parallel between <a href="../en/Systemd.html" title="Systemd">systemd</a> and other <a href="../en/Init.html" title="Init">init</a> systems.
</p>
<p>You can omit the <code>.service</code> and <code>.target</code> extensions, especially if temporarily editing the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<table class="wikitable" width="100%">
<tbody>
<tr>
<th>systemd</th>
<th>SysVinit</th>
<th>OpenRC</th>
<th>Description
</th>
</tr>
<tr>
<td><code>systemctl list-units</code></td>
<td><code>rc.d list</code></td>
<td><code>rc-status</code></td>
<td>List running services status
</td>
</tr>
<tr>
<td><code>systemctl --failed</code></td>
<td></td>
<td><code>rc-status --crashed</code></td>
<td>Check failed services
</td>
</tr>
<tr>
<td><code>systemctl --all</code></td>
<td></td>
<td><code>rc-update -v show</code></td>
<td>Display all available services.
</td>
</tr>
<tr>
<td><code>systemctl (start, stop, restart, status) daemon.service</code></td>
<td><code>rc.d (start, stop, restart) daemon</code></td>
<td><code>rc-service daemon (start, stop, restart, status)</code></td>
<td>Change service state.
</td>
</tr>
<tr>
<td><code>systemctl (enable, disable) daemon.service</code></td>
<td><code>chkconfig daemon (on, off)</code></td>
<td><code>rc-update (add, del) daemon</code></td>
<td>Turn service on or off.
</td>
</tr>
<tr>
<td><code>systemctl daemon-reload</code></td>
<td><code>chkconfig daemon --add</code></td>
<td></td>
<td>Create or modify configuration.
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Quiet_booting">Quiet booting</span></h3>
<p>To hide boot messages from OpenRC, you can edit <code>/etc/inittab</code> and add <code>--quiet</code> to every openrc command. For further information check with <code>$ openrc -h</code>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Error_while_unmounting_.2Ftmp"></span><span class="mw-headline" id="Error_while_unmounting_/tmp">Error while unmounting /tmp</span>
</h3>
<p>When shutting the system down, you might get an error message such as 
</p>
<pre>* Unmounting /tmp ... 
* in use but fuser finds nothing [ !! ]</pre>
<p>This can be fixed by adding
</p>
<pre>no_umounts="/tmp"
</pre>
<p>to <code>/etc/openrc/conf.d/localmount</code>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This problem occurs only if your tmp is mounted as a tmpfs.</div>
<h3><span class="mw-headline" id="Disabling_IPv6_does_not_work">Disabling IPv6 does not work</span></h3>
<p>One option is to add:
</p>
<pre># Disable ipv6
net.ipv6.conf.all.disable_ipv6 = 1
</pre>
<p>in a file with a <code>.conf</code> extension under <code>/etc/openrc/sysctl.d</code>
</p>
<h3><span class="mw-headline" id="During_shutdown_remounting_root_as_read-only_fails">During shutdown remounting root as read-only fails</span></h3>
<p>If the above happens, edit the <code>/etc/openrc/init.d/mount-ro</code> file and put:
</p>
<pre>telinit u
</pre>
<p>after the following line:
</p>
<pre># Flush all pending disk writes now
sync; sync
</pre>
<h3>
<span id=".2Fetc.2Fsysctl.conf_not_found"></span><span class="mw-headline" id="/etc/sysctl.conf_not_found">/etc/sysctl.conf not found</span>
</h3>
<p>By default, <code>sysctl --system</code> is called to load the sysctl configuration. <a rel="nofollow" class="external autonumber" href="https://github.com/OpenRC/openrc/blob/master/init.d/sysctl.in#L40">[4]</a> This includes the <code>/etc/sysctl.conf</code> file, which was removed from Arch. <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-etcsysctlconf/">[5]</a>
</p>
<p>To prevent a missing file error, create the file:
</p>
<pre># touch /etc/sysctl.conf
</pre>
<h3><span class="mw-headline" id="opentmpfiles-setup_failed_to_start">opentmpfiles-setup failed to start</span></h3>
<p>On booting openrc, you may see lines like these :
</p>
<pre>* Setting up tmpfiles.d entries ...
chattr: Operation not supported while setting flags on /var/log/journal
chattr: No such file or directory while trying to stat /var/log/journal/%m
chattr: Operation not supported while setting flags on /var/log/journal/remote
[ !! ]
ERROR: opentmpfiles-setup failed to start
</pre>
<p>This is caused by <code>/usr/lib/tmpfiles.d/journal-nocow.conf</code> using options that are only valid if journal is on a btrfs filesystem.
</p>
<p>See <a rel="nofollow" class="external free" href="https://github.com/OpenRC/opentmpfiles/issues/2">https://github.com/OpenRC/opentmpfiles/issues/2</a> for details
</p>
<p>A workaround is to create an empty <code>/etc/tmpfiles.d/journal-nocow.conf</code> to override the settings.
</p>
<h2><span class="mw-headline" id="Reverting_to_systemd">Reverting to systemd</span></h2>
<p>Reverting to systemd should be straightforward in most cases. It is essentially the reversal of migrating to OpenRC, with care placed on the following:
</p>
<ul>
<li>Removal of, or otherwise editing, the <code>init=</code> parameter on the kernel command line</li>
<li>Replacement of any OpenRC-tailored or no-systemd packages with their stock equivalents</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/OpenRC" class="extiw" title="wikipedia:OpenRC">Wikipedia:OpenRC</a></li>
<li><a href="https://wiki.gentoo.org/wiki/OpenRC" class="extiw" title="gentoo:OpenRC">Gentoo:OpenRC</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=152606">Forum thread about OpenRC in Arch</a></li>
<li>
<a rel="nofollow" class="external text" href="https://blog.notfoss.com/posts/openrc-on-arch-linux/">Blog: OpenRC on Arch Linux</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-03-03 ⓘ]</sup>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Init.html" title="Category:Init">Init</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Move.html" title="Category:Pages or sections flagged with Template:Move">Pages or sections flagged with Template:Move</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=OpenRC&amp;oldid=811704">https://wiki.archlinux.org/index.php?title=OpenRC&amp;oldid=811704</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 July 2024, at 07:31.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
