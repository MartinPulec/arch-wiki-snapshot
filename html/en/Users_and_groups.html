<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Users and groups - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Users_and_groups rootpage-Users_and_groups skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Overview" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Overview">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Overview</div>
		</a>
		
		<ul id="toc-Overview-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Permissions_and_ownership" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Permissions_and_ownership">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Permissions and ownership</div>
		</a>
		
		<ul id="toc-Permissions_and_ownership-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Shadow" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Shadow">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Shadow</div>
		</a>
		
		<ul id="toc-Shadow-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-File_list" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#File_list">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>File list</div>
		</a>
		
		<ul id="toc-File_list-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-User_management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#User_management">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>User management</div>
		</a>
		
			<button aria-controls="toc-User_management-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle User management subsection</span>
			</button>
		
		<ul id="toc-User_management-sublist" class="vector-toc-list">
			<li id="toc-Example_adding_a_user" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Example_adding_a_user">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Example adding a user</div>
			</a>
			
			<ul id="toc-Example_adding_a_user-sublist" class="vector-toc-list">
				<li id="toc-Changing_user_defaults" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Changing_user_defaults">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.1</span>Changing user defaults</div>
			</a>
			
			<ul id="toc-Changing_user_defaults-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Example_adding_a_system_user" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Example_adding_a_system_user">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Example adding a system user</div>
			</a>
			
			<ul id="toc-Example_adding_a_system_user-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Change_a_user's_login_name_or_home_directory" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Change_a_user's_login_name_or_home_directory">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Change a user's login name or home directory</div>
			</a>
			
			<ul id="toc-Change_a_user's_login_name_or_home_directory-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_examples_of_user_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Other_examples_of_user_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Other examples of user management</div>
			</a>
			
			<ul id="toc-Other_examples_of_user_management-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-User_database" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#User_database">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>User database</div>
		</a>
		
		<ul id="toc-User_database-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Automatic_integrity_checks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Automatic_integrity_checks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Automatic integrity checks</div>
		</a>
		
		<ul id="toc-Automatic_integrity_checks-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Group_management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Group_management">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Group management</div>
		</a>
		
		<ul id="toc-Group_management-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Group_list" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Group_list">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Group list</div>
		</a>
		
			<button aria-controls="toc-Group_list-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Group list subsection</span>
			</button>
		
		<ul id="toc-Group_list-sublist" class="vector-toc-list">
			<li id="toc-User_groups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#User_groups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>User groups</div>
			</a>
			
			<ul id="toc-User_groups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-System_groups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#System_groups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>System groups</div>
			</a>
			
			<ul id="toc-System_groups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pre-systemd_groups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pre-systemd_groups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.3</span>Pre-systemd groups</div>
			</a>
			
			<ul id="toc-Pre-systemd_groups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unused_groups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unused_groups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.4</span>Unused groups</div>
			</a>
			
			<ul id="toc-Unused_groups-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Other_tools_related_to_these_databases" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Other_tools_related_to_these_databases">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Other tools related to these databases</div>
		</a>
		
		<ul id="toc-Other_tools_related_to_these_databases-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Users and groups</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 8 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-8" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">8 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ar mw-list-item"><a href="../ar/Users_and_groups.html" title="Users and groups – العربية" lang="ar" hreflang="ar" class="interlanguage-link-target"><span>العربية</span></a></li>
<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Benutzer_und_Gruppen" title="Benutzer und Gruppen – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Users_and_groups.html" title="Users and groups – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Users_and_groups.html" title="Users and groups – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%A8%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97" title="ユーザーとグループ – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Users_and_groups.html" title="Users and groups – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Users_and_groups.html" title="Users and groups – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Users_and_groups" title="Users and groups – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../DeveloperWiki:UID_/_GID_Database.html" title="DeveloperWiki:UID / GID Database">DeveloperWiki:UID / GID Database</a></li>
<li><a href="../en/Sudo.html" title="Sudo">Sudo</a></li>
<li><a href="../en/Polkit.html" title="Polkit">Polkit</a></li>
<li><a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes">File permissions and attributes</a></li>
<li><a href="../en/Systemd-homed.html" title="Systemd-homed">systemd-homed</a></li>
<li><a href="../en/Reset_lost_root_password.html" title="Reset lost root password">Reset lost root password</a></li>
<li><a href="../en/Identity_management.html" title="Identity management">Identity management</a></li>
</ul>
</div>
<p>Users and groups are used on GNU/Linux for <a href="https://en.wikipedia.org/wiki/access_control#Computer_security" class="extiw" title="wikipedia:access control">access control</a>—that is, to control access to the system's files, directories, and peripherals. Linux offers relatively simple/coarse access control mechanisms by default. For more advanced options, see <a href="../en/Access_Control_Lists.html" class="mw-redirect" title="ACL">ACL</a>, <a href="../en/Capabilities.html" title="Capabilities">Capabilities</a> and <a href="../en/PAM.html#Configuration_How-Tos" title="PAM">PAM#Configuration How-Tos</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>A <i>user</i> is anyone who uses a computer. In this case, we are describing the names which represent those users. It may be Mary or Bill, and they may use the names Dragonlady or Pirate in place of their real name. All that matters is that the computer has a name for each account it creates, and it is this name by which a person gains access to use the computer. Some system services also run using restricted or privileged user accounts.
</p>
<p>Managing users is done for the purpose of security by limiting access in certain specific ways. The <a href="https://en.wikipedia.org/wiki/Superuser" class="extiw" title="wikipedia:Superuser">superuser</a> (root) has complete access to the operating system and its configuration; it is intended for administrative use only. Unprivileged users can use several programs for controlled <a href="../en/List_of_applications/Security.html#Privilege_elevation" title="List of applications/Security">privilege elevation</a>.
</p>
<p>Any individual may have more than one account as long as they use a different name for each account they create. Further, there are some reserved names which may not be used such as "root".
</p>
<p>Users may be grouped together into a "group", and users may be added to an existing group to utilize the privileged access it grants.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The beginner should use these tools carefully and stay away from having anything to do with any other <i>existing</i> user account, other than their own.</div>
<h2><span class="mw-headline" id="Permissions_and_ownership">Permissions and ownership</span></h2>
<p>From <a rel="nofollow" class="external text" href="https://web.archive.org/web/20190816135930/http://ph7spot.com/musings/in-unix-everything-is-a-file">In UNIX Everything is a File</a>:
</p>
<dl><dd>The UNIX operating system crystallizes a couple of unifying ideas and concepts that shaped its design, user interface, culture and evolution. One of the most important of these is probably the mantra: "everything is a file," widely regarded as one of the defining points of UNIX.</dd></dl>
<dl><dd>This key design principle consists of providing a unified paradigm for accessing a wide range of input/output resources: documents, directories, hard-drives, CD-ROMs, modems, keyboards, printers, monitors, terminals and even some inter-process and network communications. The trick is to provide a common abstraction for all of these resources, each of which the UNIX fathers called a "file." Since every "file" is exposed through the same API, you can use the same set of basic commands to read/write to a disk, keyboard, document or network device.</dd></dl>
<p>From <a rel="nofollow" class="external text" href="https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=bb95638cdcae4f1a88354734f96a868704bb6684">Extending UNIX File Abstraction for General-Purpose Networking</a>:
</p>
<dl><dd>A fundamental and very powerful, consistent abstraction provided in UNIX and compatible operating systems is the file abstraction. Many OS services and device interfaces are implemented to provide a file or file system metaphor to applications. This enables new uses for, and greatly increases the power of, existing applications — simple tools designed with specific uses in mind can, with UNIX file abstractions, be used in novel ways. A simple tool, such as cat, designed to read one or more files and output the contents to standard output, can be used to read from I/O devices through special device files, typically found under the <code>/dev</code> directory. On many systems, audio recording and playback can be done simply with the commands, "<code>cat /dev/audio &gt; myfile</code>" and "<code>cat myfile &gt; /dev/audio</code>," respectively.</dd></dl>
<p>Every file on a GNU/Linux system is owned by a user and a group. In addition, there are three types of access permissions: read, write, and execute. Different access permissions can be applied to a file's owning user, owning group, and others (those without ownership). One can determine a file's owners and permissions by viewing the long listing format of the <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Ls">ls</a> command:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /boot/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">total 13740
drwxr-xr-x 2 root root    4096 Jan 12 00:33 grub
-rw-r--r-- 1 root root 8570335 Jan 12 00:33 initramfs-linux-fallback.img
-rw-r--r-- 1 root root 1821573 Jan 12 00:31 initramfs-linux.img
-rw-r--r-- 1 root root 1457315 Jan  8 08:19 System.map26
-rw-r--r-- 1 root root 2209920 Jan  8 08:19 vmlinuz-linux
</pre>
<p>The first column displays the file's permissions (for example, the file <code>initramfs-linux.img</code> has permissions <code>-rw-r--r--</code>). The third and fourth columns display the file's owning user and group, respectively. In this example, all files are owned by the <i>root</i> user and the <i>root</i> group.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /media/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">total 16
drwxrwx--- 1 root vboxsf 16384 Jan 29 11:02 sf_Shared
</pre>
<p>In this example, the <code>sf_Shared</code> directory is owned by the <i>root</i> user and the <i>vboxsf</i> group. It is also possible to determine a file's owners and permissions using the stat command:
</p>
<p>Owning user:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ stat -c %U /media/sf_Shared/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">root
</pre>
<p>Owning group:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ stat -c %G /media/sf_Shared/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vboxsf
</pre>
<p>Access rights:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ stat -c %A /media/sf_Shared/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">drwxrwx---
</pre>
<p>Access permissions are displayed in three groups of characters, representing the permissions of the owning user, owning group, and others, respectively. For example, the characters <code>-rw-r--r--</code> indicate that the file's owner has read and write permission, but not execute (<code>rw-</code>), whilst users belonging to the owning group and other users have only read permission (<code>r--</code> and <code>r--</code>). Meanwhile, the characters <code>drwxrwx---</code> indicate that the file's owner and users belonging to the owning group all have read, write, and execute permissions (<code>rwx</code> and <code>rwx</code>), whilst other users are denied access (<code>---</code>). The first character represents the file's type.
</p>
<p>List files owned by a user or group with the <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Find">find</a> utility:
</p>
<pre># find / -group <i>groupname</i>
</pre>
<pre># find / -group <i>groupnumber</i>
</pre>
<pre># find / -user <i>user</i>
</pre>
<p>A file's owning user and group can be changed with the <a href="../en/File_permissions_and_attributes.html#Changing_ownership" class="mw-redirect" title="Chown">chown</a> (change owner) command. A file's access permissions can be changed with the <a href="../en/File_permissions_and_attributes.html#Changing_permissions" class="mw-redirect" title="Chmod">chmod</a> (change mode) command.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 chown"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chown.1">chown(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 chmod"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chmod.1">chmod(1)</a></span>, and <a rel="nofollow" class="external text" href="https://www.linux.com/tutorials/understanding-linux-file-permissions">Linux file permissions</a> for additional detail.
</p>
<h2><span class="mw-headline" id="Shadow">Shadow</span></h2>
<p>The user, group and password management tools on Arch Linux come from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shadow">shadow</a></span> package, which is a dependency of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">meta package</a>.
</p>
<h2><span class="mw-headline" id="File_list">File list</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Do not edit these files by hand. There are utilities that properly handle locking and avoid invalidating the format of the database. See <a href="#User_management">#User management</a> and <a href="#Group_management">#Group management</a> for an overview.</div>
<table class="wikitable">
<tbody>
<tr>
<th>File</th>
<th>Purpose
</th>
</tr>
<tr>
<td><code>/etc/shadow</code></td>
<td>Secure user account information
</td>
</tr>
<tr>
<td><code>/etc/passwd</code></td>
<td>User account information
</td>
</tr>
<tr>
<td><code>/etc/gshadow</code></td>
<td>Contains the shadowed information for group accounts
</td>
</tr>
<tr>
<td><code>/etc/group</code></td>
<td>Defines the groups to which users belong
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="User_management">User management</span></h2>
<p>To list users currently logged on the system, the <i>who</i> command can be used. To list all existing user accounts including their properties stored in the <a href="#User_database">user database</a>, run <code>passwd -Sa</code> as root. See <span class="plainlinks archwiki-template-man" title="$ man 1 passwd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/passwd.1">passwd(1)</a></span> for the description of the output format.
</p>
<p>To add a new user, use the <i>useradd</i> command:
</p>
<pre># useradd -m -G <i>additional_groups</i> -s <i>login_shell</i> <i>username</i>
</pre>
<dl>
<dt>
<code>-m</code>/<code>--create-home</code>
</dt>
<dd>the user's home directory is created as <code>/home/<i>username</i></code>. The directory is populated by the files in the skeleton directory. The created files are owned by the new user.</dd>
<dt>
<code>-G</code>/<code>--groups</code>
</dt>
<dd>a comma separated list of supplementary groups which the user is also a member of. The default is for the user to belong only to the initial group.</dd>
<dt>
<code>-s</code>/<code>--shell</code>
</dt>
<dd>a path to the user's login shell. Ensure the chosen shell is installed if choosing something other than <a href="../en/Bash.html" title="Bash">Bash</a>. The default shell for newly created user can be set in <code>/etc/default/useradd</code>.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> In order to be able to log in, the login shell must be one of those listed in <code>/etc/shells</code>, otherwise the <a href="../en/PAM.html" title="PAM">PAM</a> module <span class="plainlinks archwiki-template-man" title="$ man 8 pam_shells"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pam_shells.8">pam_shells(8)</a></span> will deny the login request.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The password for the newly created user must then be defined, using <i>passwd</i> as shown in <a href="#Example_adding_a_user">#Example adding a user</a>.</div>
<p>If an initial login group is specified by name or number, it must refer to an already existing group. If not specified, the behaviour of <i>useradd</i> will depend on the <code>USERGROUPS_ENAB</code> variable contained in <code>/etc/login.defs</code>. The default behaviour (<code>USERGROUPS_ENAB yes</code>) is to create a group with the same name as the username.
</p>
<p>When the login shell is intended to be non-functional, for example when the user account is created for a specific service, <code>/usr/bin/nologin</code> may be specified in place of a regular shell to politely refuse a login (see <span class="plainlinks archwiki-template-man" title="$ man 8 nologin"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nologin.8">nologin(8)</a></span>).
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 8 useradd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/useradd.8">useradd(8)</a></span> for other supported options.
</p>
<h3><span class="mw-headline" id="Example_adding_a_user">Example adding a user</span></h3>
<p>To add a new user named <code>archie</code>, creating its home directory and otherwise using all the defaults in terms of groups, directory names, shell used and various other parameters:
</p>
<pre># useradd -m archie
</pre>
<p>Although it is not required to protect the newly created user <code>archie</code> with a password, it is highly recommended to do so:
</p>
<pre># passwd archie
</pre>
<p>The above <i>useradd</i> command will also automatically create a group called <code>archie</code> and makes this the default group for the user <code>archie</code>. Making each user have their own group (with the group name same as the user name) is the preferred way to add users.
</p>
<p>You could also make the default group something else using the <code>-g</code> option, but note that, in multi-user systems, using a single default group (e.g. <code>users</code>) for every user is not recommended. The reason is that typically, the method for facilitating shared write access for specific groups of users is setting user <a href="../en/Umask.html" title="Umask">umask</a> value to <code>002</code>, which means that the default group will by default always have write access to any file you create. See also <a rel="nofollow" class="external text" href="https://web.archive.org/web/20210724233134/https://security.ias.edu/node/441">User Private Groups</a>. If a user must be a member of a specific group specify that group as a supplementary group when creating the user.
</p>
<p>In the recommended scenario, where the default group has the same name as the user name, all files are by default writeable only for the user who created them. To allow write access to a specific group, shared files/directories can be made writeable by default for everyone in this group and the owning group can be automatically fixed to the group which owns the parent directory by setting the <a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes">setgid</a> bit on this directory:
</p>
<pre># chmod g+s <i>our_shared_directory</i>
</pre>
<p>Otherwise the file creator's default group (usually the same as the user name) is used. 
</p>
<p>If a GID change is required temporarily you can also use the <i>newgrp</i> command to change the user's default GID to another GID at runtime. For example, after executing <code>newgrp <i>groupname</i></code> files created by the user will be associated with the <code><i>groupname</i></code> GID, without requiring a re-login. To change back to the default GID, execute <i>newgrp</i> without a groupname.
</p>
<h4><span class="mw-headline" id="Changing_user_defaults">Changing user defaults</span></h4>
<p>The default values used for creating new accounts are set in <code>/etc/default/useradd</code> and can be displayed using <code>useradd --defaults</code>. For example, to change the default shell globally, set <code>SHELL=/usr/bin/<i>shell</i></code>. A different shell can also be specified individually with the <code>-s</code>/<code>--shell</code> option. Use <code>chsh -l</code> to list valid login shells.
</p>
<p>Files can also be specified to be added to newly created user home directories in <code>/etc/skel</code>. This is useful for minimalist window managers where config files need manual configuration to reach DE-familiar behavior. For example, to set up default shortcuts for all newly created users:
</p>
<pre># mkdir /etc/skel/.config
# cp ~archie/.config/sxhkd /etc/skel/.config
</pre>
<p>See also: <a href="../en/Display_manager.html#Run_~/.xinitrc_as_a_session" title="Display manager">Display manager#Run ~/.xinitrc as a session</a> to add xinitrc as an option to all users on the display manager.
</p>
<h3><span class="mw-headline" id="Example_adding_a_system_user">Example adding a system user</span></h3>
<p>System users can be used to run processes/daemons under a different user,  protecting (e.g. with <a href="../en/File_permissions_and_attributes.html#Changing_ownership" class="mw-redirect" title="Chown">chown</a>) files and/or directories and more examples of computer hardening.
</p>
<p>With the following command a system user without shell access and without a <code>home</code> directory is created (optionally append the  <code>-U</code> parameter to create a group with the same name as the user, and add the user to this group):
</p>
<pre># useradd --system -s /usr/bin/nologin <i>username</i>
</pre>
<p>If the system user requires a specific user and group ID, specify them with the <code>-u</code>/<code>--uid</code> and <code>-g</code>/<code>--gid</code> options when creating the user:
</p>
<pre># useradd --system -u 850 -g 850 -s /usr/bin/nologin <i>username</i>
</pre>
<h3>
<span id="Change_a_user.27s_login_name_or_home_directory"></span><span class="mw-headline" id="Change_a_user's_login_name_or_home_directory">Change a user's login name or home directory</span>
</h3>
<p>To change a user's home directory:
</p>
<pre># usermod -d /my/new/home -m <i>username</i>
</pre>
<p>The <code>-m</code> option also automatically creates the new directory and moves the content there.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can create a link from the user's former home directory to the new one. Doing this will allow programs to find files that have hardcoded paths.
<pre># ln -s /my/new/home/ /my/old/home
</pre>
<p>Make sure there is <b>no</b> trailing <code>/</code> on <code>/my/old/home</code>.
</p>
</div>
<p>To change a user's login name:
</p>
<pre># usermod -l <i>newname</i> <i>oldname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Make certain that you are not logged in as the user whose name you are about to change. Open a new tty (e.g. <code>Ctrl+Alt+F6</code>) and log in as root or as another user and <a href="../en/List_of_applications/Security.html#Privilege_elevation" title="List of applications/Security">elevate to root</a>. <i>usermod</i> should prevent you from doing this by mistake.</div>
<p>Changing a username is safe and easy when done properly, just use the <a href="#Other_examples_of_user_management">usermod</a> command. If the user is associated to a group with the same name, you can rename this with the <a href="#Group_management">groupmod</a> command.
</p>
<p>Alternatively, the <code>/etc/passwd</code> file can be edited directly, see <a href="#User_database">#User database</a> for an introduction to its format.
</p>
<p>Also keep in mind the following notes:
</p>
<ul>
<li>If you are using <a href="../en/Sudo.html" title="Sudo">sudo</a> make sure you update your <code>/etc/sudoers</code> to reflect the new username(s) (via the <i>visudo</i> command as root).</li>
<li>Personal <a href="../en/Cron.html#Crontab_format" title="Cron">crontabs</a> need to be adjusted by renaming the user's file in <code>/var/spool/cron</code> from the old to the new name, and then opening <code>crontab -e</code> to change any relevant paths and have it adjust the file permissions accordingly.</li>
<li>
<a href="../en/Wine.html" title="Wine">Wine's</a> personal directories/files' contents in <code>~/.wine/drive_c/users</code>, <code>~/.local/share/applications/wine/Programs</code> and possibly more need to be manually renamed/edited.</li>
<li>Certain Thunderbird addons, like <a rel="nofollow" class="external text" href="https://www.enigmail.net/index.php/en/">Enigmail</a>, may need to be reinstalled.</li>
<li>Anything on your system (desktop shortcuts, shell scripts, etc.) that uses an absolute path to your home dir (i.e. <code>/home/oldname</code>) will need to be changed to reflect your new name. To avoid these problems in shell scripts, simply use the <code>~</code> or <code>$HOME</code> variables for home directories.</li>
<li>Also do not forget to edit accordingly the configuration files in <code>/etc/</code> that relies on your absolute path (e.g. Samba, CUPS, so on). A nice way to learn what files you need to update involves using the grep command this way: <code>grep -r <i>old_user</i> *</code>
</li>
</ul>
<h3><span class="mw-headline" id="Other_examples_of_user_management">Other examples of user management</span></h3>
<p>To enter user information for the <a href="#User_database">GECOS</a> comment (e.g. the full user name), type:
</p>
<pre># chfn <i>username</i>
</pre>
<p>(this way <i>chfn</i> runs in interactive mode).
</p>
<p>Alternatively the GECOS comment can be set more liberally with:
</p>
<pre># usermod -c "Comment" <i>username</i>
</pre>
<p>To mark a user's password as expired, requiring them to create a new password the first time they log in, type:
</p>
<pre># chage -d 0 <i>username</i>
</pre>
<p>User accounts may be deleted with the <i>userdel</i> command:
</p>
<pre># userdel -r <i>username</i>
</pre>
<p>The <code>-r</code> option specifies that the user's home directory and mail spool should also be deleted.
</p>
<p>To change the user's login shell:
</p>
<pre># usermod -s <i>/usr/bin/bash</i> <i>username</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/adduser/">adduser</a></span><sup><small>AUR</small></sup> script allows carrying out the jobs of <i>useradd</i>, <i>chfn</i> and <i>passwd</i> interactively. See also <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/32893">FS#32893</a>.</div>
<h2><span class="mw-headline" id="User_database">User database</span></h2>
<p>Local user information is stored in the plain-text <code>/etc/passwd</code> file: each of its lines represents a user account, and has seven fields delimited by colons.
</p>
<pre><i>account:password:UID:GID:GECOS:directory:shell</i>
</pre>
<p>Where:
</p>
<ul>
<li>
<code><i>account</i></code> is the user name. This field cannot be blank. Standard *NIX naming rules apply.</li>
<li>
<code><i>password</i></code> is the user password. <div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The <code>passwd</code> file is world-readable, so storing passwords (hashed or otherwise) in this file is insecure. Instead, Arch Linux uses <a href="../en/Security.html#Password_hashes" title="Security">shadowed passwords</a>: the <code>password</code> field will contain a placeholder character (<code>x</code>) indicating that the hashed password is saved in the access-restricted file <code>/etc/shadow</code>. For this reason it is recommended to always change passwords using the <b>passwd</b> command.</div>
</li>
<li>
<code><i>UID</i></code> is the numerical user ID. In Arch, the first login name (after root) for a so called normal user, as opposed to services, is UID 1000 by default; subsequent UID entries for users should be greater than 1000.</li>
<li>
<code><i>GID</i></code> is the numerical primary group ID for the user. Numeric values for GIDs are listed in <a href="#Group_management">/etc/group</a>.</li>
<li>
<code><i>GECOS</i></code> is an optional field used for informational purposes; usually it contains the full user name, but it can also be used by services such as <i>finger</i> and managed with the <a href="#Other_examples_of_user_management">chfn</a> command. This field is optional and may be left blank.</li>
<li>
<code><i>directory</i></code> is used by the login command to set the <code>$HOME</code> environment variable. Several services with their own users use <code>/</code>, but normal users usually set a directory under <code>/home</code>.</li>
<li>
<code><i>shell</i></code> is the path to the user's default <a href="../en/Command-line_shell.html" class="mw-redirect" title="Command shell">command shell</a>. This field is optional and defaults to <code>/usr/bin/bash</code>.</li>
</ul>
<p>Example:
</p>
<pre>archie:x:1001:1003:Archie,<i>some comment here</i>,,:/home/archie:/usr/bin/bash
</pre>
<p>Broken down, this means: user <code>archie</code>, whose password is in <code>/etc/shadow</code>, whose UID is 1001 and whose primary group is 1003. Archie is their full name and there is a comment associated to their account; their home directory is <code>/home/archie</code> and they are using <a href="../en/Bash.html" title="Bash">Bash</a>.
</p>
<p>The <i>pwck</i> command can be used to verify the integrity of the user database. It can sort the user list by GID at the same time, which can be helpful for comparison:
</p>
<pre># pwck -s
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Arch Linux defaults of the files are created as <a href="../en/Pacman/Pacnew_and_Pacsave.html" class="mw-redirect" title="Pacnew files">pacnew files</a> by new releases of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=filesystem">filesystem</a></span> package. Unless Pacman outputs related messages for action, these <i>.pacnew</i> files can, and should, be disregarded/removed. New required default users and groups are added or re-added as needed by <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-sysusers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-sysusers.8">systemd-sysusers(8)</a></span> or the package install script.</div>
<h2><span class="mw-headline" id="Automatic_integrity_checks">Automatic integrity checks</span></h2>
<p>Instead of running <code>pwck</code>/<code>grpck</code> manually, the <a href="../en/Systemd/Timers.html" class="mw-redirect" title="Systemd timer">systemd timer</a> <code>shadow.timer</code>, which is part of, and is enabled by, installation of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shadow">shadow</a></span> package, will start <code>shadow.service</code> daily. <code>shadow.service</code> will run <span class="plainlinks archwiki-template-man" title="$ man 8 pwck"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pwck.8">pwck(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 8 grpck"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/grpck.8">grpck(8)</a></span> to verify the integrity of both password and group files.
</p>
<p>If discrepancies are reported, group can be edited with the <span class="plainlinks archwiki-template-man" title="$ man 8 vigr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vigr.8">vigr(8)</a></span> command and users with <span class="plainlinks archwiki-template-man" title="$ man 8 vipw"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vipw.8">vipw(8)</a></span>. This provides an extra margin of protection in that these commands lock the databases for editing. Note that the default text editor is vi, but an alternative editor will be used if the <code>EDITOR</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> is set, then that editor will be used instead.
</p>
<h2><span class="mw-headline" id="Group_management">Group management</span></h2>
<p><code>/etc/group</code> is the file that defines the groups on the system (see <span class="plainlinks archwiki-template-man" title="$ man 5 group"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/group.5">group(5)</a></span> for details). There is also its companion <code>gshadow</code> which is rarely used. Its details are at <span class="plainlinks archwiki-template-man" title="$ man 5 gshadow"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gshadow.5">gshadow(5)</a></span>.
</p>
<p>Display group membership with the <i>groups</i> command:
</p>
<pre>$ groups <i>user</i>
</pre>
<p>If <code><i>user</i></code> is omitted, the current user's group names are displayed.
</p>
<p>The <i>id</i> command provides additional detail, such as the user's UID and associated GIDs:
</p>
<pre>$ id <i>user</i>
</pre>
<p>To list all groups on the system:
</p>
<pre>$ cat /etc/group
</pre>
<p>Create new groups with the <i>groupadd</i> command:
</p>
<pre># groupadd <i>group</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the user is currently logged in, they must log out and in again for changes to take effect.</div>
<p>Add users to a group with the <i>gpasswd</i> command (see <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/58262">FS#58262</a> regarding errors):
</p>
<pre># gpasswd -a <i>user</i> <i>group</i>
</pre>
<p>Alternatively, add a user to additional groups with <i>usermod</i> (replace <code><i>additional_groups</i></code> with a comma-separated list):
</p>
<pre># usermod -aG <i>additional_groups</i> <i>username</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If the <code>-a</code> option is omitted in the <i>usermod</i> command above, the user is removed from all groups not listed in <code><i>additional_groups</i></code> (i.e. the user will be member only of those groups listed in <code><i>additional_groups</i></code>).</div>
<p>Modify an existing group with the <i>groupmod</i> command, e.g. to rename the <code><i>old_group</i></code> group to <code><i>new_group</i></code>:
</p>
<pre># groupmod -n <i>new_group</i> <i>old_group</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will change a group name but not the numerical GID of the group. Hence, all files previously owned by <code><i>old_group</i></code> will be owned by <code><i>new_group</i></code>.</div>
<p>To delete existing groups:
</p>
<pre># groupdel <i>group</i>
</pre>
<p>To remove users from a group:
</p>
<pre># gpasswd -d <i>user</i> <i>group</i>
</pre>
<p>The <i>grpck</i> command can be used to verify the integrity of the system's group files.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Arch Linux defaults of the files are created as <i>.pacnew</i> files by new releases of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=filesystem">filesystem</a></span> package. Unless Pacman outputs related messages for action, these <i>.pacnew</i> files can, and should, be disregarded/removed. New required default users and groups are added or re-added as needed by <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-sysusers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-sysusers.8">systemd-sysusers(8)</a></span> or the package install script.</div>
<h2><span class="mw-headline" id="Group_list">Group list</span></h2>
<p>This section explains the purpose of the essential groups from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=filesystem">filesystem</a></span> package. There are many other groups, which will be created with <a href="../DeveloperWiki:UID_/_GID_Database.html" title="DeveloperWiki:UID / GID Database">correct GID</a> when the relevant package is installed. See the main page for the software for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> A later removal of a package does not remove the automatically created user/group (UID/GID) again. This is intentional because any files created during its usage would otherwise be left orphaned as a potential security risk.</div>
<h3><span class="mw-headline" id="User_groups">User groups</span></h3>
<p>Non-root workstation/desktop users often need to be added to some of following groups to allow access to hardware peripherals and facilitate system administration:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Group</th>
<th>Affected files</th>
<th>Purpose
</th>
</tr>
<tr>
<td>adm</td>
<td></td>
<td>Administration group, commonly used to give read access to protected logs. It has full read access to <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journal">journal</a> files.
</td>
</tr>
<tr>
<td>ftp</td>
<td><code>/srv/ftp/</code></td>
<td>Access to files served by <a href="../en/List_of_applications/Internet.html#FTP_servers" title="List of applications/Internet">FTP servers</a>.
</td>
</tr>
<tr>
<td>games</td>
<td><code>/var/games</code></td>
<td>Access to some game software.
</td>
</tr>
<tr>
<td>http</td>
<td><code>/srv/http/</code></td>
<td>Access to files served by <a href="../en/List_of_applications/Internet.html#Web_servers" title="List of applications/Internet">HTTP servers</a>.
</td>
</tr>
<tr>
<td>log</td>
<td></td>
<td>Access to log files in <code>/var/log/</code> created by <a href="../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a>.
</td>
</tr>
<tr>
<td>rfkill</td>
<td><code>/dev/rfkill</code></td>
<td>Right to control wireless devices power state (used by <a href="../en/Network_configuration/Wireless.html#Rfkill_caveat" class="mw-redirect" title="Rfkill">rfkill</a>).
</td>
</tr>
<tr>
<td>sys</td>
<td></td>
<td>Right to administer printers in <a href="../en/CUPS.html" title="CUPS">CUPS</a>.
</td>
</tr>
<tr>
<td>systemd-journal</td>
<td><code>/var/log/journal/*</code></td>
<td>Can be used to provide read-only access to the systemd logs, as an alternative to <code>adm</code> and <code>wheel</code> <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/blob/19aadacf92ad86967ffb678e37b2ff9e83cb9480/README#L161">[1]</a>. Otherwise, only user generated messages are displayed.
</td>
</tr>
<tr>
<td>uucp</td>
<td>
<code>/dev/ttyS[0-9]+</code>, <code>/dev/tts/[0-9]+</code>, <code>/dev/ttyUSB[0-9]+</code>, <code>/dev/ttyACM[0-9]+</code>, <code>/dev/rfcomm[0-9]+</code>
</td>
<td>
<a href="https://en.wikipedia.org/wiki/RS-232" class="extiw" title="wikipedia:RS-232">RS-232</a> serial ports and devices connected to them.
</td>
</tr>
<tr>
<td>wheel</td>
<td></td>
<td>Administration group, commonly used to give privileges to perform administrative actions. It has full read access to <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journal">journal</a> files and the right to administer printers in <a href="../en/CUPS.html" title="CUPS">CUPS</a>. Can also be used to give access to the <a href="../en/Sudo.html" title="Sudo">sudo</a> and <a href="../en/Su.html" title="Su">su</a> utilities (neither uses it by default).
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="System_groups">System groups</span></h3>
<p>The following groups are used for system purposes, an assignment to users is only required for dedicated purposes:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Group</th>
<th>Affected files</th>
<th>Purpose
</th>
</tr>
<tr>
<td>dbus</td>
<td></td>
<td>used internally by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dbus">dbus</a></span>
</td>
</tr>
<tr>
<td>kmem</td>
<td>
<code>/dev/port</code>, <code>/dev/mem</code>, <code>/dev/kmem</code>
</td>
<td>
</td>
</tr>
<tr>
<td>locate</td>
<td>
<code>/usr/bin/locate</code>, <code>/var/lib/locate</code>, <code>/var/lib/mlocate</code>, <code>/var/lib/slocate</code>
</td>
<td>See <a href="../en/Locate.html" title="Locate">Locate</a>.
</td>
</tr>
<tr>
<td>lp</td>
<td>
<code>/dev/lp[0-9]*</code>, <code>/dev/parport[0-9]*</code>
</td>
<td>Access to parallel port devices (printers and others).
</td>
</tr>
<tr>
<td>mail</td>
<td><code>/usr/bin/mail</code></td>
<td>
</td>
</tr>
<tr>
<td>nobody</td>
<td></td>
<td>Unprivileged group.
</td>
</tr>
<tr>
<td>proc</td>
<td><code>/proc/<i>pid</i>/</code></td>
<td>A group authorized to learn processes information otherwise prohibited by <code>hidepid=</code> mount option of the <a rel="nofollow" class="external text" href="https://docs.kernel.org/filesystems/proc.html">proc file system</a>. The group must be explicitly set with the <code>gid=</code> mount option.
</td>
</tr>
<tr>
<td>root</td>
<td><code>/*</code></td>
<td>Complete system administration and control (root, admin).
</td>
</tr>
<tr>
<td>smmsp</td>
<td></td>
<td>
<a href="../en/Sendmail.html" title="Sendmail">sendmail</a> group.
</td>
</tr>
<tr>
<td>tty</td>
<td>
<code>/dev/tty</code>, <code>/dev/vcc</code>, <code>/dev/vc</code>, <code>/dev/ptmx</code>
</td>
<td>
</td>
</tr>
<tr>
<td>utmp</td>
<td>
<code>/run/utmp</code>, <code>/var/log/btmp</code>, <code>/var/log/wtmp</code>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Pre-systemd_groups">Pre-systemd groups</span></h3>
<p>Before arch migrated to <a href="../en/Systemd.html" title="Systemd">systemd</a>, users had to be manually added to these groups in order to be able to access the corresponding devices. This way has been deprecated in favour of <a href="../en/Udev.html" title="Udev">udev</a> marking the devices with a <code>uaccess</code> <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/blob/main/rules.d/70-uaccess.rules.in">tag</a> and <i>logind</i> assigning the permissions to users dynamically via <a href="../en/Access_Control_Lists.html" class="mw-redirect" title="ACL">ACLs</a> according to which session is currently active. Note that the session must not be broken for this to work (see <a href="../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">General troubleshooting#Session permissions</a> to check it).
</p>
<p>There are some notable exceptions which require adding a user to some of these groups: for example if you want to allow users to access the device even when they are not logged in. However, note that adding users to the groups can even cause some functionality to break (for example, the <code>audio</code> group will break fast user switching and allows applications to block software mixing).
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Group</th>
<th>Affected files</th>
<th>Purpose
</th>
</tr>
<tr>
<td>audio</td>
<td>
<code>/dev/audio</code>, <code>/dev/snd/*</code>, <code>/dev/rtc0</code>
</td>
<td>Direct access to sound hardware, for all sessions. It is still required to make <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> and <a href="../en/Open_Sound_System.html" class="mw-redirect" title="OSS">OSS</a> work in remote sessions, see <a href="../en/Advanced_Linux_Sound_Architecture.html#User_privileges" class="mw-redirect" title="ALSA">ALSA#User privileges</a>, otherwise not recommended. Unlike on certain other distros, this group is not used for <a href="../en/Realtime_process_management.html#Configuring_PAM" title="Realtime process management">realtime privileges</a>.
</td>
</tr>
<tr>
<td>disk</td>
<td><code>/dev/sd[a-zA-Z]*[1-9]*</code></td>
<td>Access to block devices not affected by other groups such as <code>optical</code>, <code>floppy</code>, and <code>storage</code>.
</td>
</tr>
<tr>
<td>floppy</td>
<td><code>/dev/fd[0-9]*</code></td>
<td>Access to floppy drives.
</td>
</tr>
<tr>
<td>input</td>
<td>
<code>/dev/input/event[0-9]*</code>, <code>/dev/input/mouse[0-9]*</code>
</td>
<td>Access to input devices. Introduced in systemd 215 <a rel="nofollow" class="external autonumber" href="https://lists.freedesktop.org/archives/systemd-commits/2014-June/006343.html">[2]</a>.
</td>
</tr>
<tr>
<td>kvm</td>
<td><code>/dev/kvm</code></td>
<td>Access to virtual machines using <a href="../en/KVM.html" title="KVM">KVM</a>.
</td>
</tr>
<tr>
<td>optical</td>
<td>
<code>/dev/sr[0-9]</code>, <code>/dev/sg[0-9]</code>
</td>
<td>Access to optical devices such as CD and DVD drives.
</td>
</tr>
<tr>
<td>scanner</td>
<td><code>/var/lock/sane</code></td>
<td>Access to scanner hardware.
</td>
</tr>
<tr>
<td>storage</td>
<td>
<code>/dev/st[0-9]*[lma]*</code>, <code>/dev/nst[0-9]*[lma]*</code>
</td>
<td>Used to gain access to removable drives such as USB hard drives, flash/jump drives, MP3 players; enables the user to mount storage devices.<a rel="nofollow" class="external autonumber" href="https://lists.archlinux.org/archives/list/arch-dev-public@lists.archlinux.org/thread/7ITKMBKKHUB4SUN5SCS7FLSTEILKGIJH/#IEZCAXRIBMXGOMMW7C4Z3ADED32W24ZI">[3]</a>
<p>Now solely for direct access to tapes if no custom udev rules is involved.<a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/svntogit-packages/blob/packages/systemd/trunk/0001-Use-Arch-Linux-device-access-groups.patch">[4]</a><a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/svntogit-packages/commit/26af78b6ad554dbd00615600edc7d53164ef8dee">[5]</a><a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/blame/aaaf42cb44d4fcd598fca441a11856f3e8dd06d8/rules.d/50-udev-default.rules.in#L69">[6]</a><a rel="nofollow" class="external autonumber" href="https://elixir.bootlin.com/linux/v5.5.6/source/include/scsi/scsi_proto.h#L251">[7]</a>.
</p>
<p>Also required for manipulating some devices via <a href="../en/Udisks.html" title="Udisks">udisks/udisksctl</a>.
</p>
</td>
</tr>
<tr>
<td>video</td>
<td>
<code>/dev/fb/0</code>, <code>/dev/misc/agpgart</code>
</td>
<td>Access to video capture devices, 2D/3D hardware acceleration, framebuffer (<a href="../en/Xorg.html" class="mw-redirect" title="X">X</a> can be used <i>without</i> belonging to this group).
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Unused_groups">Unused groups</span></h3>
<p>The following groups are currently not used for any purpose: 
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Group</th>
<th>Affected files</th>
<th>Purpose
</th>
</tr>
<tr>
<td>bin</td>
<td>none</td>
<td>Historical
</td>
</tr>
<tr>
<td>daemon</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>lock</td>
<td></td>
<td>Used for lockfile access. Required by e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnokii/">gnokii</a></span><sup><small>AUR</small></sup>.
</td>
</tr>
<tr>
<td>mem</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>network</td>
<td></td>
<td>Unused by default. Can be used e.g. for granting access to NetworkManager (see <a href="../en/NetworkManager.html#Set_up_PolicyKit_permissions" title="NetworkManager">NetworkManager#Set up PolicyKit permissions</a>).
</td>
</tr>
<tr>
<td>power</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>uuidd</td>
<td></td>
<td>
</td>
</tr>
<tr>
<td>users</td>
<td></td>
<td>The primary group for users when user private groups are not used (generally not recommended), e.g. when creating users with <code>USERGROUPS_ENAB no</code> in <code>/etc/login.defs</code> or the <code>-N</code>/<code>--no-user-group</code> option of <i>useradd</i>.
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Other_tools_related_to_these_databases">Other tools related to these databases</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Shadow">#Shadow</a>.</b></p>
<div>
<b>Notes:</b> Separate section does not make sense. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Users_and_groups.html">Talk:Users and groups</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Does Arch Linux really prefer <i>chage</i> over <code>vipw -s</code> and <code>vigr -s</code>. (Discuss in <a href="../en/Talk:Users_and_groups.html#Utilities_to_handle_the_shadow_file_in_acrh" title="Talk:Users and groups">Talk:Users and groups#Utilities to handle the shadow file in acrh</a>)</div>
</div>
<p><span class="plainlinks archwiki-template-man" title="$ man 1 getent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/getent.1">getent(1)</a></span> can be used to read a particular record.
</p>
<pre>$ getent group tty
</pre>
<p>As warned in <a href="#User_database">#User database</a>, using specific utilities such as <code>passwd</code> and <code>chfn</code>, is a better way to change the databases. Nevertheless, there are times when editing them directly is looked after. For those times, <code>vipw</code>, <code>vigr</code> are provided. It is strongly recommended to use these tailored editors over using a general text editor as they lock the databases against concurrent editing. They also help prevent invalid entries and/or syntax errors. Note that Arch Linux prefers usage of specific tools, such as <i>chage</i>, for modifying the shadow database over using <code>vipw -s</code> and <code>vigr -s</code> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>. See also <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/31414">FS#31414</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Security.html" title="Category:Security">Security</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Users_and_groups&amp;oldid=812768">https://wiki.archlinux.org/index.php?title=Users_and_groups&amp;oldid=812768</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 22 July 2024, at 13:46.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
