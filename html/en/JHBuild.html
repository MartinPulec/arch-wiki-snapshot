<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>JHBuild - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-JHBuild rootpage-JHBuild skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Default_configuration_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Default_configuration_file">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Default configuration file</div>
			</a>
			
			<ul id="toc-Default_configuration_file-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-User-specific_configuration_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#User-specific_configuration_file">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>User-specific configuration file</div>
			</a>
			
			<ul id="toc-User-specific_configuration_file-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sample_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sample_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Sample configuration</div>
			</a>
			
			<ul id="toc-Sample_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Usage</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Checking_and_installing_prerequisites" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Checking_and_installing_prerequisites">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Checking and installing prerequisites</div>
			</a>
			
			<ul id="toc-Checking_and_installing_prerequisites-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Updating_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Updating_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Updating modules</div>
			</a>
			
			<ul id="toc-Updating_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Building_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Building_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Building modules</div>
			</a>
			
			<ul id="toc-Building_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Running_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Running modules</div>
			</a>
			
			<ul id="toc-Running_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Creating_dependency_graph" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Creating_dependency_graph">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Creating dependency graph</div>
			</a>
			
			<ul id="toc-Creating_dependency_graph-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Python_issues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Python_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Python issues</div>
			</a>
			
			<ul id="toc-Python_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-pkg-config_issues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#pkg-config_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>pkg-config issues</div>
			</a>
			
			<ul id="toc-pkg-config_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Build_failed_due_to_incompatible_meson_versions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Build_failed_due_to_incompatible_meson_versions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Build failed due to incompatible meson versions</div>
			</a>
			
			<ul id="toc-Build_failed_due_to_incompatible_meson_versions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Build_failed_due_to_GCC_library_or_object_not_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Build_failed_due_to_GCC_library_or_object_not_found">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Build failed due to GCC library or object not found</div>
			</a>
			
			<ul id="toc-Build_failed_due_to_GCC_library_or_object_not_found-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gst-plugin-bad_fails_on_missing_vulkan_headers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gst-plugin-bad_fails_on_missing_vulkan_headers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>gst-plugin-bad fails on missing vulkan headers</div>
			</a>
			
			<ul id="toc-gst-plugin-bad_fails_on_missing_vulkan_headers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Library_missing_and_no_known_rule_to_make_it" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Library_missing_and_no_known_rule_to_make_it">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Library missing and no known rule to make it</div>
			</a>
			
			<ul id="toc-Library_missing_and_no_known_rule_to_make_it-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Building_JHBuild_from_scratch" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Building_JHBuild_from_scratch">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Building JHBuild from scratch</div>
		</a>
		
		<ul id="toc-Building_JHBuild_from_scratch-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">JHBuild</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/JHBuild" title="JHBuild – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/GNOME.html" title="GNOME">GNOME</a></li>
</ul>
</div>
<p>From <a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/Jhbuild/Introduction">JHBuild's wiki</a>:
</p>
<dl><dd>JHBuild allows you to build and run GNOME platform and applications building the required modules in a sandbox environment, isolating the installation; so there is no need to build and run GNOME inside a virtual machine.</dd></dl>
<p>JHBuild is a tool that allows you to automatically download and compile "modules" (i.e. source code packages). It can pull modules from a variety of sources (CVS, Subversion, Git, Bazaar, tarballs, etc.) and handle dependencies. You can also choose which specific modules you want to build, instead of building the whole project.
</p>
<p>JHBuild was originally written for building <a href="../en/GNOME.html" title="GNOME">GNOME</a>, but has since been extended to be usable with other projects.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>There are two configuration files: the <a href="#Default_configuration_file">default configuration file</a> installed by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> package, and the <a href="#User-specific_configuration_file">user-specific configuration file</a> created by the user.
</p>
<p>By default JHBuild uses the installed configuration file. Its configuration is overridden by the configuration in the user-specific configuration file if it exists.
</p>
<p>These use <a href="../en/Python.html" title="Python">Python</a> syntax. See <a rel="nofollow" class="external text" href="https://web.archive.org/web/20210331211543/https://developer.gnome.org/jhbuild/stable/">JHBuild Manual</a> for more information.
</p>
<h3><span class="mw-headline" id="Default_configuration_file">Default configuration file</span></h3>
<p>The default configuration file is located at <code>/usr/lib/python3.9/site-packages/jhbuild/defaults.jhbuildrc</code>. It should have everything you need for start using JHBuild, as it sets the modulesets directory, the default moduleset, autogen/meson/cmake arguments for all modules that use it.
</p>
<p>Some default values currently set:
</p>
<ul>
<li>moduleset = <code>gnome-apps-latest</code>
</li>
<li>modules = <code>meta-gnome-core</code>
</li>
<li>directory of downloaded tarball = <code>$XDG_CACHE_HOME/jhbuild/downloads</code>
</li>
<li>buildroot = <code>$XDG_CACHE_HOME/jhbuild/build</code>
</li>
</ul>
<p>If believe you found a Arch-specific setting that should be set, feel free to suggest that in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> comments. If not Arch-specific, consider filing an <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/jhbuild/issues">issue in the upstream</a>.
</p>
<h3><span class="mw-headline" id="User-specific_configuration_file">User-specific configuration file</span></h3>
<p>This configuration file is located at <code>$XDG_CONFIG_HOME/jhbuildrc</code> (e.g. <code>~/.config/jhbuildrc</code>). It is optional, does not exist by default and overrides values set in the default JHBuild configuration file.
</p>
<p>It is very useful for, e.g., set a different moduleset, or to add a compiler flag to debug and try to fix a build failure system.
</p>
<p>See examples in <code>/usr/share/jhbuild/examples/</code>.
</p>
<h3><span class="mw-headline" id="Sample_configuration">Sample configuration</span></h3>
<p>This section shows a non-exhaustive list of key/value pairs that can be set in any of the configuration files.
</p>
<ul><li>Use a local moduleset file instead of downloading it again, making it possible to change something in the file and test it</li></ul>
<pre>use_local_modulesets = True
modulesets_dir = "~/.cache/jhbuild/"</pre>
<ul><li>Enable a wide-most moduleset, and also force GTK3 for modules that would use GTK2 by default</li></ul>
<pre>moduleset = ['gnome-world']
autogenargs = '--with-gtk3'</pre>
<ul><li>Or you may want to enable documentation build for autotools, even though it will slowdown module compilation</li></ul>
<pre>autogenargs = '--enable-gtk-doc'</pre>
<ul><li>Or you want some debug output from make command</li></ul>
<pre>makeargs = 'V=1'</pre>
<ul><li>Or you found out that a module requires a specific automake option (WebKit is already patched, there is no real need for this one)</li></ul>
<pre>module_autogenargs['WebKit'] = 'PYTHON=/usr/bin/python2'</pre>
<ul><li>Or you want to disable documentation build for a module that use meson build system</li></ul>
<pre>module_mesonargs['gstreamer'] = '-Ddisable_gtkdoc=true'</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>autotools</i> and <i>meson</i> are different build systems, so make sure to add the desired flags for the correct option name</div>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>This topic provides some information and examples on how to use some JHBuild commands, but without intending to exhaust the subject. For a detailed information on each of JHBuild commands, please refer to <a rel="nofollow" class="external text" href="https://web.archive.org/web/20210331211543/https://developer.gnome.org/jhbuild/stable/">JHBuild Manual</a>, learn from each command's help output or even read JHBuild's <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/jhbuild/">source code</a>.
</p>
<p>JHBuild provides a general <code>--help</code> which lists all the commands available, and also a help message for each sub-command, e.g. <code>jhbuild sysdeps --help</code>.
</p>
<h3><span class="mw-headline" id="Checking_and_installing_prerequisites">Checking and installing prerequisites</span></h3>
<p><i>sysdeps</i> can be used to get a detailed list of which dependencies you have installed and which ones you should install. In order to get this information, just run:
</p>
<pre>$ jhbuild sysdeps
</pre>
<p>To install missing dependencies,  run use <code>--install</code> parameter:
</p>
<pre>$ jhbuild sysdeps --install
</pre>
<p>For dependencies that the above command is unable install, consider installing the correspondent package from <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> or the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> already lists some dependencies that <code>sysdeps --install</code> cannot install for some reason. If you find a package that should be listed in there, please report it in the comments of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup>.</div>
<h3><span class="mw-headline" id="Updating_modules">Updating modules</span></h3>
<p>It is possible to simply update the source code of the modules without building them, making it possible build another time without having to wait fetching the source code. There are three ways of simply updating modules:
</p>
<p><i>update</i>, without any arguments, will update all modules available in the moduleset/modules set in configuration file
</p>
<pre>$ jhbuild update
</pre>
<p><i>update</i>, with one or more modules as arguments, will update <b>all</b> modules that the named modules depends on. e.g.:
</p>
<pre>$ jhbuild update gedit
</pre>
<p><i>updateone</i>, with one or more modules, will update <b>only</b> the named module(s). e.g.:
</p>
<pre>$ jhbuild updateonly gedit
</pre>
<h3><span class="mw-headline" id="Building_modules">Building modules</span></h3>
<p>This action will run the whole build process: it will update the source code (unless it is already up-to-date), configure &amp; build, and install it in the proper directory.
</p>
<p>Just like <i>update</i>, There are three ways of building modules in JHBuild:
</p>
<p><i>build</i>, without any arguments, will build all modules available in the moduleset/modules set in configuration file
</p>
<pre>$ jhbuild build
</pre>
<p><i>build</i>, with one or more modules as arguments, will build <b>all</b> modules that the named modules depends on. e.g.:
</p>
<pre>$ jhbuild build gedit
</pre>
<p><i>buildone</i>, with one or more modules, will build <b>only</b> the named module(s). e.g.:
</p>
<pre>$ jhbuild buildone gedit
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Please notice that since <i>buildone</i> do not also build the latest development version of a module's dependencies, it may fail due to dependency not being installed or being out-of-date; in this case, you should run <i>build</i> for the named module</div>
<h3><span class="mw-headline" id="Running_modules">Running modules</span></h3>
<p>After a successfully installed application in JHBuild, use <i>run</i> to start the module you just built. e.g.:
</p>
<pre>$ jhbuild run gedit
</pre>
<h3><span class="mw-headline" id="Creating_dependency_graph">Creating dependency graph</span></h3>
<p>JHBuild can output graph contents which can by piped into <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=graphviz">graphviz</a></span> in order to generate e.g. a PNG or PostScript file.
</p>
<p>To generate a PNG file of e.g. gedit, run:
</p>
<pre>$ jhbuild dot gedit | dot -Tpng &gt; dependencies.png
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you encounter an issue that is not documented below, please report it in a comment on the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> package.</div>
<h3><span class="mw-headline" id="Python_issues">Python issues</span></h3>
<p>A module that depends on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python2/">python2</a></span><sup><small>AUR</small></sup> may fail to build as software usually expect the binary filename of python 2.x to be <code>/usr/bin/python</code> and python 3.x to be <code>/usr/bin/python3</code>, which is not the case in Arch Linux: python 2.x is <code>/usr/bin/python2</code> and python 3.x is <code>/usr/bin/python</code>.
</p>
<p>For cases like that, force the modules to run <code>/usr/bin/python2</code> using the one or more methods below:
</p>
<ul><li>set <code>module_autoargs</code> with <code>PYTHON=/usr/bin/python2</code> for this specific module in <code>~/.config/jhbuildrc</code>, as mentioned in the above Configuration section — this will run autogen.sh or configure with this value for variable PYTHON</li></ul>
<ul><li>if the <i>configure</i> or <i>Makefile</i> does not parse PYTHON variable, one approach is to manually find all lines in <i>configure</i>/<i>Makefile</i> that run python binary and rename python -&gt; python2 — this will hard code python2 in the module's source code.</li></ul>
<ul><li>if only the above workarounds still do not work for you, consider editing module's <i>.py</i> files in order to replace <code>python</code> with <code>python2</code> when the first line matches <code>#!/usr/bin/env python</code> or <code>#!/usr/bin/python</code>
</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>All edits and patches that are manually applied to the source code will be lost when you wipe the directory and checkout (download) it again, so it is not exactly a permanent solution</li>
<li>If a module's configure/build process misuse PYTHON variable, or does not use at all, consider reporting it to the module's upstream and/or providing patch for JHBuild upstream</li>
</ul>
</div>
<h3><span class="mw-headline" id="pkg-config_issues">pkg-config issues</span></h3>
<p>If you have a malformatted <i>.pc</i> file on your PKG_CONFIG_PATH, JHBuild will not be able to detect all the (valid) <i>.pc</i> files you have installed and will complain that the <i>.pc</i> files are missing. Look at the output of <code>jhbuild sysdeps</code>—there should be a message about the problematic <i>.pc</i> files.
</p>
<h3><span class="mw-headline" id="Build_failed_due_to_incompatible_meson_versions">Build failed due to incompatible meson versions</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> No longer an issue, as meson now regenerates the configuration from scratch when the meson's version used to generate the build directory has incompatible with the current version. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:JHBuild.html">Talk:JHBuild</a>)</div>
</div>
<p>You may come across with a message similar to one of these below.
</p>
<pre>Meson encountered an error:
Build directory has been generated with Meson version 0.40.0, which is incompatible with current version 0.40.1.
Please delete this build directory AND create a new one.
FAILED: build.ninja 
'/usr/bin/python3' '/home/foobar/jhbuild/install/bin/meson' --internal regenerate '/home/foobar/jhbuild/checkout/gst-plugins-base' '/home/foobar/.cache/jhbuild/build/gst-plugins-base' --backend ninja
ninja: error: rebuilding 'build.ninja': subcommand failed</pre>
<p>In the above example, the module was configured with meson 0.40.0 at on time, but a newer version (0.40.1, in the example) is now installed and is not compatible with the old one.
</p>
<p><b>Solution:</b> Run Configure phase again, in order to have this module configured with newer Meson version
</p>
<h3><span class="mw-headline" id="Build_failed_due_to_GCC_library_or_object_not_found">Build failed due to GCC library or object not found</span></h3>
<p>You may come across with a message similar to the one below.
</p>
<pre>cc: error: /usr/lib/gcc/x86_64-pc-linux-gnu/<i>gcc_version</i>/../../../../lib/<i>name</i>.so: No such file or directory</pre>
<p>or
</p>
<pre>g++: error: /usr/lib/gcc/x86_64-pc-linux-gnu/<i>gcc_version</i>/../../../../lib/<i>name</i>.o: No such file or directory</pre>
<p>where <i>gcc_version</i> is a GCC version older than the current one, and <i>name</i> is the name of the library (.so) or object (.o) that failed to be found.
</p>
<p>This may happen if <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcc">gcc</a></span> was updated and the software was previously configured and built with the previous version of gcc.
</p>
<p><b>Solution:</b> Run <i>Configure</i> phase again, in order to have this module configured with newer GCC version
</p>
<h3><span class="mw-headline" id="gst-plugin-bad_fails_on_missing_vulkan_headers">gst-plugin-bad fails on missing vulkan headers</span></h3>
<p>When building the <i>gst-plugins-bad</i> module, You may come across with a number of messages similar to the one below:
</p>
<pre>In file included from ext/vulkan/gstvulkan-plugins-enumtypes.c:8:
../../../../jhbuild/checkout/gst-plugins-bad/ext/vulkan/vkviewconvert.h:26:10: fatal error: gst/vulkan/vulkan.h: No such file or directory
   26 </pre>
<p>It means <i>gst-plugin-bad</i> was automatically set to build its <i>vulkan</i> extension, but did not find all the dependecies it needs. As of the writing this subsection, <a rel="nofollow" class="external text" href="https://github.com/GStreamer/gst-plugins-bad/blob/master/ext/vulkan/meson.build">ext/vulkan/meson.build</a> looks for the binary <i>glslc</i> provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shaderc">shaderc</a></span>, which several packages depend on directly or indirectly. Removing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shaderc">shaderc</a></span> would solve this error, but this might not be an option if you want to keep one those packages the depends on it.
</p>
<p><b>Solution:</b> edit your jhbuild user configuration file to disable the <i>vulkan</i> extension:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/jhbuildrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">module_mesonargs['gst-plugins-bad'] = '-D vulkan=disabled'</pre>
<p>and run Configure phase again, in order to have the <i>gst-plugins-bad</i> module successfully built.
</p>
<h3><span class="mw-headline" id="Library_missing_and_no_known_rule_to_make_it">Library missing and no known rule to make it</span></h3>
<p>When building a module that uses meson build system you might come across an issue like this:
</p>
<pre>*** Checking out <i>module_name</i> *** [67/218]
<i>some omitted checkout output</i>
*** Building <i>module_name</i> *** [67/218]
ninja
<b>ninja: error: '<i>path/to/missing_library.so</i>', needed by '<i>path/to/module_file</i>', missing and no known rule to make it</b>
*** Error during the phase build of <i>module_name</i>: ########## Error running ninja   *** [67/218]
</pre>
<p>This happens because the module was previously configured and built in another commit of this module, and in that occasion it was configured to a previous version of the dependency <code><i>path/to/missing_library.so</i></code>. Since the file <code><i>path/to/module_file</i></code> was configured to and expects that missing library to be available, it fails.
</p>
<p><b>Solution</b>: Just run option 7 for the configure phase to reconfigure the module and build it again.
</p>
<h2><span class="mw-headline" id="Building_JHBuild_from_scratch">Building JHBuild from scratch</span></h2>
<p>If you do not want to use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jhbuild/">jhbuild</a></span><sup><small>AUR</small></sup> package, and instead you want build JHBuild from scratch on your own, there are a few things you should pay attention too.
</p>
<ul><li>Make sure to install all the dependencies required by JHBuild and its target modules. Refer to <a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/Jhbuild/Dependencies/ArchLinux">list of dependencies for Arch Linux</a>;</li></ul>
<ul><li>JHBuild itself used to depend on <a href="../en/Python.html" title="Python">Python</a> version 2 but it got migrated to python 3, so no specific configuration on python version;</li></ul>
<ul><li>Some modules might still depend on python2. Make sure to read the <a href="#Python_issues">#Python issues</a> section;</li></ul>
<ul><li>For detailed information downloading and building the source code of JHBuild, check <a rel="nofollow" class="external text" href="https://wiki.gnome.org/HowDoI/Jhbuild">JHBuild's "How Do I" at GNOME wiki</a>.</li></ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/Jhbuild">JHBuild homepage in GNOME Wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.gnome.org/HowDoI/Jhbuild">JHBuild for experienced GNOME contributors</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20210331211543/https://developer.gnome.org/jhbuild/stable/">JHBuild Manual</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/jhbuild/">JHBuild Source Code</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=JHBuild&amp;oldid=748088">https://wiki.archlinux.org/index.php?title=JHBuild&amp;oldid=748088</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 24 September 2022, at 11:52.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
