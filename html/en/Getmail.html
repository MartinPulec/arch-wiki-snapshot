<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>getmail - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Getmail rootpage-Getmail skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Retrieving_mail" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Retrieving_mail">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Retrieving mail</div>
			</a>
			
			<ul id="toc-Retrieving_mail-sublist" class="vector-toc-list">
				<li id="toc-Password_management" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Password_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Password management</div>
			</a>
			
			<ul id="toc-Password_management-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_options" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Other_options">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>Other options</div>
			</a>
			
			<ul id="toc-Other_options-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-More_than_one_Email_account_with_getmail" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#More_than_one_Email_account_with_getmail">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.3</span>More than one Email account with getmail</div>
			</a>
			
			<ul id="toc-More_than_one_Email_account_with_getmail-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Sorting_mail_with_procmail" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sorting_mail_with_procmail">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Sorting mail with procmail</div>
			</a>
			
			<ul id="toc-Sorting_mail_with_procmail-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fetching_mail_automatically_with_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fetching_mail_automatically_with_systemd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Fetching mail automatically with systemd</div>
			</a>
			
			<ul id="toc-Fetching_mail_automatically_with_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">getmail</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Getmail" title="Getmail – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> cron (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cronie">cronie</a></span>) is not included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> anymore and has to be installed manually, or use <a href="../en/Systemd/Timers.html" title="Systemd/Timers">systemd/Timers</a> instead (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Getmail.html">Talk:Getmail</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/getmail" class="extiw" title="wikipedia:getmail">getmail</a> is a mail retriever designed to allow you to get your mail from one or more mail accounts on various mail servers to your local machine for reading with a minimum of fuss. <i>getmail</i> is designed to be secure, flexible, reliable, and easy-to-use. <i>getmail</i> is designed to replace other mail retrievers such as <a href="https://en.wikipedia.org/wiki/Fetchmail" class="extiw" title="wikipedia:Fetchmail">fetchmail</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/getmail/">getmail</a></span><sup><small>AUR</small></sup> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<ul>
<li>Create a configuration directory, and set the right permissions by executing: <code>$ mkdir -m 0700 ~/.getmail</code>. The main configuration file often contains sensitive information, namely passwords in plain text.</li>
<li>Create a configuration file, the default being: <code>~/.getmail/getmailrc</code>. A separate configuration file is needed for each mailserver to pick up mail from. Configuration files other than the default, will have to be explicitly passed as arguments to the getmail command.</li>
</ul>
<h3><span class="mw-headline" id="Retrieving_mail">Retrieving mail</span></h3>
<p>Here is an example <code>getmailrc</code> used with a gmail account.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">getmailrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[retriever]
type = SimplePOP3SSLRetriever
server = pop.gmail.com
username = username@gmail.com
port = 995
password = password

[destination]
type = Maildir
path = ~/mail/</pre>
<p>You can tweak this to your POP3 service's specification.
</p>
<h4><span class="mw-headline" id="Password_management">Password management</span></h4>
<p>It is possible, rather than storing your password in the config, to call an external program to read the password. In which case, you would use the <code>password_command</code> parameter:
</p>
<pre>  password_command = ("/path/to/password-retriever", "-p", "myaccount@example.org")
</pre>
<p>Note that the password parameter (in the example configuration above) overrides this parameter; specify one or the other, not both.
</p>
<h4><span class="mw-headline" id="Other_options">Other options</span></h4>
<p>Most people will like to add the following section to their <code>getmailrc</code> to prevent all the mail on the server being downloaded every time getmail is ran.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">getmailrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[options]
read_all = False</pre>
<p>For this guide we will be storing our mail in the <code>maildir</code> format. The two main mailbox formats are <code>mbox</code> and <code>maildir</code>. The main difference between the two is that <code>mbox</code> is one file, with all of your mails and their headers stored in it, whereas a <code>maildir</code> is a directory tree. Each mail is its own file, which will often speed things up.
</p>
<p>A <code>maildir</code> is just a folder with the folders <code>cur</code>, <code>new</code> and <code>tmp</code> in it.
</p>
<pre>$ mkdir -p ~/mail/{cur,new,tmp}
</pre>
<p>Now, run getmail. If it works fine, you can create a cronjob for getmail to run every n hours/minutes. Type <code>crontab -e</code> to edit cronjobs, and enter the following:
</p>
<pre> */10 * * * * /usr/bin/getmail
</pre>
<p>That will run <code>getmail</code> every 10 minutes.
</p>
<p>Also, to quiet getmail down, we can reduce its verbosity to zero by adding the following to <code>getmailrc</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">getmailrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[options]
verbose = 0</pre>
<h4><span class="mw-headline" id="More_than_one_Email_account_with_getmail">More than one Email account with getmail</span></h4>
<p>By default, when you run <code>getmail</code> the program searches for the file getmailrc created as seen above. If you have more than one mail account you would like to get mail from, then you can create such a file for each email address, and then tell getmail to run using both of them.  Obviously if you have two accounts and two files you cannot have both of them called getmailrc. What you do is give them two different names, using myself as an example: I call one personal, and one university. These two files contain content relevant to my personal mail, and my university work mail respectively. Then to get getmail to work on these two files, instead of searching for getmailrc(default), I use the --rcfile switch like so: <code>getmail --rcfile university --rcfile personal</code> This can work with more files if you have more email accounts, just make sure each file is in the .getmail directory and make sure to  alter the cronjob to run the command with the --rcfile switches. E.g.
</p>
<pre> */30 * * * * /usr/bin/getmail --rcfile university --rcfile personal
</pre>
<p>Obviously you can call your files whatever you want, providing you include them in the cronjob or shell command, and they are in the .getmail/ directory, getmail will fetch mail from those two accounts.
</p>
<h3><span class="mw-headline" id="Sorting_mail_with_procmail">Sorting mail with procmail</span></h3>
<p>Edit your getmailrc to pass retrieved mail to procmail:
</p>
<pre>[destination]
type = MDA_external
path = /usr/bin/procmail</pre>
<p>Then configure <a href="../en/Procmail.html" title="Procmail">procmail</a> to filter your mail.
</p>
<h3><span class="mw-headline" id="Fetching_mail_automatically_with_systemd">Fetching mail automatically with systemd</span></h3>
<p>You can run <code>getmail</code> every n hours/minutes with <a href="../en/Systemd/Timers.html" title="Systemd/Timers">Systemd/Timers</a>. Create a unit file for the timer:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/get_mail.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Run getmail every 15 minutes

[Timer]
OnActiveSec=15min
OnUnitActiveSec=15min

[Install]
WantedBy=timers.target
</pre>
<p>Now create the service file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/get_mail.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Run getmail

[Service]
ExecStart=/usr/bin/getmail --quiet

[Install]
WantedBy=default.target
</pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">Enable/start</a> the <a href="../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a> <code>get_mail.timer</code>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://pyropus.ca/software/getmail/">getmail documentation</a></li>
<li><a rel="nofollow" class="external text" href="http://pyropus.ca/software/getmail/configuration.html#running">Documentation on Configuring Getmail with rcfiles</a></li>
<li>How to <a href="../en/Backup_Gmail_with_getmail.html" title="Backup Gmail with getmail">Backup Gmail with getmail</a>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Mail_retrieval_agents.html" title="Category:Mail retrieval agents">Mail retrieval agents</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Getmail&amp;oldid=795646">https://wiki.archlinux.org/index.php?title=Getmail&amp;oldid=795646</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 31 December 2023, at 05:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
