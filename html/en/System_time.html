<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System time - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System_time rootpage-System_time skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Time_standard" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Time_standard">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Time standard</div>
		</a>
		
		<ul id="toc-Time_standard-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Hardware_clock" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hardware_clock">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Hardware clock</div>
		</a>
		
			<button aria-controls="toc-Hardware_clock-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Hardware clock subsection</span>
			</button>
		
		<ul id="toc-Hardware_clock-sublist" class="vector-toc-list">
			<li id="toc-Read_hardware_clock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Read_hardware_clock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Read hardware clock</div>
			</a>
			
			<ul id="toc-Read_hardware_clock-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_hardware_clock_from_system_clock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_hardware_clock_from_system_clock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Set hardware clock from system clock</div>
			</a>
			
			<ul id="toc-Set_hardware_clock_from_system_clock-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Automatic_syncing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Automatic_syncing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Automatic syncing</div>
			</a>
			
			<ul id="toc-Automatic_syncing-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-System_clock" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#System_clock">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>System clock</div>
		</a>
		
			<button aria-controls="toc-System_clock-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle System clock subsection</span>
			</button>
		
		<ul id="toc-System_clock-sublist" class="vector-toc-list">
			<li id="toc-Read_clock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Read_clock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Read clock</div>
			</a>
			
			<ul id="toc-Read_clock-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_system_clock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_system_clock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Set system clock</div>
			</a>
			
			<ul id="toc-Set_system_clock-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Multiple_systems" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Multiple_systems">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Multiple systems</div>
		</a>
		
			<button aria-controls="toc-Multiple_systems-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Multiple systems subsection</span>
			</button>
		
		<ul id="toc-Multiple_systems-sublist" class="vector-toc-list">
			<li id="toc-UTC_in_Microsoft_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UTC_in_Microsoft_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>UTC in Microsoft Windows</div>
			</a>
			
			<ul id="toc-UTC_in_Microsoft_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UTC_in_Ubuntu/Fedora" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UTC_in_Ubuntu/Fedora">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>UTC in Ubuntu/Fedora</div>
			</a>
			
			<ul id="toc-UTC_in_Ubuntu/Fedora-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Multi-NTP_interaction" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multi-NTP_interaction">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Multi-NTP interaction</div>
			</a>
			
			<ul id="toc-Multi-NTP_interaction-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Time_zone" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Time_zone">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Time zone</div>
		</a>
		
			<button aria-controls="toc-Time_zone-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Time zone subsection</span>
			</button>
		
		<ul id="toc-Time_zone-sublist" class="vector-toc-list">
			<li id="toc-Setting_based_on_geolocation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_based_on_geolocation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Setting based on geolocation</div>
			</a>
			
			<ul id="toc-Setting_based_on_geolocation-sublist" class="vector-toc-list">
				<li id="toc-Update_timezone_every_time_NetworkManager_connects_to_a_network" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Update_timezone_every_time_NetworkManager_connects_to_a_network">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.1</span>Update timezone every time NetworkManager connects to a network</div>
			</a>
			
			<ul id="toc-Update_timezone_every_time_NetworkManager_connects_to_a_network-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Time_skew" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Time_skew">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Time skew</div>
		</a>
		
		<ul id="toc-Time_skew-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Time_synchronization" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Time_synchronization">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Time synchronization</div>
		</a>
		
			<button aria-controls="toc-Time_synchronization-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Time synchronization subsection</span>
			</button>
		
		<ul id="toc-Time_synchronization-sublist" class="vector-toc-list">
			<li id="toc-Network_Time_Protocol_(NTP)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Network_Time_Protocol_(NTP)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Network Time Protocol (NTP)</div>
			</a>
			
			<ul id="toc-Network_Time_Protocol_(NTP)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Simple_Network_Time_Protocol_(SNTP)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Simple_Network_Time_Protocol_(SNTP)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Simple Network Time Protocol (SNTP)</div>
			</a>
			
			<ul id="toc-Simple_Network_Time_Protocol_(SNTP)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Per-user/session_or_temporary_settings" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Per-user/session_or_temporary_settings">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Per-user/session or temporary settings</div>
		</a>
		
		<ul id="toc-Per-user/session_or_temporary_settings-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-fake-hwclock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fake-hwclock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>fake-hwclock</div>
			</a>
			
			<ul id="toc-fake-hwclock-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Clock_shows_a_value_that_is_neither_UTC_nor_local_time" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clock_shows_a_value_that_is_neither_UTC_nor_local_time">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.1</span>Clock shows a value that is neither UTC nor local time</div>
			</a>
			
			<ul id="toc-Clock_shows_a_value_that_is_neither_UTC_nor_local_time-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">System time</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/System_time.html" title="System time – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E6%99%82%E5%88%BB" title="時刻 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/System_time.html" title="System time – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/System_time" title="System time – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon">Network Time Protocol daemon</a></li>
<li><a href="../en/OpenNTPD.html" title="OpenNTPD">OpenNTPD</a></li>
<li><a href="../en/Chrony.html" title="Chrony">Chrony</a></li>
<li><a href="../en/Systemd-timesyncd.html" title="Systemd-timesyncd">systemd-timesyncd</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> This article mostly documents <a href="../en/Systemd.html" title="Systemd">systemd</a> <i>timedatectl</i>; explain basic commands like <i>date</i> and <i>hwclock</i> first (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:System_time.html">Talk:System time</a>)</div>
</div>
<p>In an operating system, the time (clock) is determined by three parts: time value, whether it is local time or UTC or something else, time zone, and Daylight Saving Time <i>(DST)</i> if applicable. This article explains what they are and how to read/set them. Two clocks are present on systems: a hardware clock and a system clock which are also detailed in this article.
</p>
<p>Standard behavior of most operating systems is:
</p>
<ul>
<li>Set the system clock from the hardware clock on boot.</li>
<li>Keep accurate time of the system clock, see <a href="#Time_synchronization">#Time synchronization</a>.</li>
<li>Set the hardware clock from the system clock on shutdown.</li>
</ul>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Time_standard">Time standard</span></h2>
<p>There are two time standards: <b>localtime</b> and <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" class="extiw" title="wikipedia:Coordinated Universal Time">Coordinated Universal Time</a> (<b>UTC</b>).  The localtime standard is dependent on the current <i>time zone</i>, while UTC is the <i>global</i> time standard and is independent of time zone values.  Though conceptually different, UTC is also known as GMT (Greenwich Mean Time).
</p>
<p>The standard used by the hardware clock (CMOS clock, the BIOS time) is set by the operating system. By default, Windows uses localtime, macOS uses UTC, other UNIX and UNIX-like systems vary. An OS that uses the UTC standard will generally consider the hardware clock as UTC and make an adjustment to it to set the OS time at boot according to the time zone.
</p>
<h2><span class="mw-headline" id="Hardware_clock">Hardware clock</span></h2>
<p>The <b>hardware clock</b> (a.k.a. the Real Time Clock (RTC) or CMOS clock) stores the values of: Year, Month, Day, Hour, Minute, and Seconds. A <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> firmware has the additional ability to store the timezone, and whether DST is used.
</p>
<h3><span class="mw-headline" id="Read_hardware_clock">Read hardware clock</span></h3>
<pre># hwclock --show
</pre>
<h3><span class="mw-headline" id="Set_hardware_clock_from_system_clock">Set hardware clock from system clock</span></h3>
<p>The following sets the hardware clock from the system clock. Additionally it updates <code>/etc/adjtime</code> or creates it if not present. See <span class="plainlinks archwiki-template-man" title="$ man 8 hwclock"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hwclock.8#The_Adjtime_File">hwclock(8) § The Adjtime File</a></span> for more information on this file as well as the <a href="#Time_skew">#Time skew</a> section.
</p>
<pre># hwclock --systohc
</pre>
<h3><span class="mw-headline" id="Automatic_syncing">Automatic syncing</span></h3>
<p>By default, Arch Linux kernels have a feature enabled where the hardware clock is synchronized to the system clock every 11 minutes. You can see if this is enabled on your kernel as follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ zgrep CMOS /proc/config.gz</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">CONFIG_GENERIC_CMOS_UPDATE=y
CONFIG_RTC_DRV_CMOS=y</pre>
<p>The first synchronization happens at boot time. What this means is that if your hardware clock is extremely out of date (for example, a CMOS battery failure has reset the clock to the year 2000) then for the first 11 minutes after boot anything which requires a reasonably accurate time will give an error - including SSL, uses the <a href="https://en.wikipedia.org/wiki/Online_Certificate_Status_Protocol" class="extiw" title="wikipedia:Online Certificate Status Protocol">Online Certificate Status Protocol (OCSP)</a>. A web browser running on your computer typically sends the hardware clock time in its requests to websites, and a time which is too far out will result in the browser refusing to connect because of an OCSP error.
</p>
<h2><span class="mw-headline" id="System_clock">System clock</span></h2>
<p>The <b>system clock</b> (a.k.a. the software clock) keeps track of: time, time zone, and DST if applicable. It is calculated by the Linux kernel as the number of seconds since midnight January 1st 1970, UTC. The initial value of the system clock is calculated from the hardware clock, dependent on the contents of <code>/etc/adjtime</code>. After boot-up has completed, the system clock runs independently of the hardware clock. The Linux kernel keeps track of the system clock by counting timer interrupts.
</p>
<h3><span class="mw-headline" id="Read_clock">Read clock</span></h3>
<p>To check the current system clock time (presented both in local time and UTC) as well as the RTC (hardware clock):
</p>
<pre>$ timedatectl
</pre>
<h3><span class="mw-headline" id="Set_system_clock">Set system clock</span></h3>
<p>To set the local time of the system clock directly:
</p>
<pre># timedatectl set-time "yyyy-MM-dd hh:mm:ss"
</pre>
<p>For example:
</p>
<pre># timedatectl set-time "2014-05-26 11:13:54"
</pre>
<p>sets the time to May 26th, year 2014, 11:13 and 54 seconds.
</p>
<h2><span class="mw-headline" id="Multiple_systems">Multiple systems</span></h2>
<p>If multiple operating systems are installed on a machine, they will all derive the current time from the same hardware clock: it is recommended to set it to UTC to avoid conflicts across systems. Otherwise, if the hardware clock is set to <i>localtime</i>, more than one operating system may adjust it after a <a href="https://en.wikipedia.org/wiki/Daylight_saving_time" class="extiw" title="wikipedia:Daylight saving time">DST</a> change for example, thus resulting in an over-correction; problems may also arise when traveling between different time zones and using one of the operating systems to reset the system/hardware clock.
</p>
<p>The hardware clock can be queried and set with the <code>timedatectl</code> command. 
You can see the current hardware clock time standard of the Arch system using:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ timedatectl | grep local</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">RTC in local TZ: no
</pre>
<p>To change the hardware clock time standard to localtime, use:
</p>
<pre># timedatectl set-local-rtc <b>1</b>
</pre>
<p>To revert to the hardware clock being in UTC, type:
</p>
<pre># timedatectl set-local-rtc <b>0</b>
</pre>
<p>These generate <code>/etc/adjtime</code> automatically and update the RTC accordingly; no further configuration is required.
</p>
<p>During kernel startup, at the point when the RTC driver is loaded, the system clock may be set from the hardware clock.  Whether this occurs depends on the hardware platform, the version of the kernel and kernel build options. If this does occur, at this point in the boot sequence, the hardware clock time is assumed to be UTC and the value of <code>/sys/class/rtc/rtc<i>N</i>/hctosys</code> (N=0,1,2,..) will be set to 1. 
</p>
<p>Later, the system clock is set again from the hardware clock by systemd, dependent on values in <code>/etc/adjtime</code>. Hence, having the hardware clock using localtime may cause some unexpected behavior during the boot sequence; e.g system time going backwards, which is always a bad idea (<a rel="nofollow" class="external text" href="https://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html">there is a lot more to it</a>). Since systemd version 216, when the RTC is configured to the local time (rather than UTC) systemd will never synchronize back to it, as this might confuse Windows at a later boot. And systemd will no longer inform the kernel about the current timezone. This hence means FAT timestamps will be always considered UTC<a rel="nofollow" class="external autonumber" href="https://cgit.freedesktop.org/systemd/systemd/tree/NEWS">[1]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The use of <code>timedatectl</code> requires an active <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a>.  Therefore, it may not be possible to use this command under a <a href="../en/Chroot.html" title="Chroot">chroot</a> (such as during installation).  In these cases, you can revert back to the hwclock command, or use <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a> instead of chroot.</li>
<li>If <code>/etc/adjtime</code> is not present, <a href="../en/Systemd.html" title="Systemd">systemd</a> assumes the hardware clock is set to UTC.</li>
</ul>
</div>
<h3><span class="mw-headline" id="UTC_in_Microsoft_Windows">UTC in Microsoft Windows</span></h3>
<p>To <a href="../en/Dual_boot_with_Windows.html" title="Dual boot with Windows">dual boot with Windows</a>, it is recommended to configure Windows to use UTC, rather than Linux to use localtime. (Windows by default uses localtime <a rel="nofollow" class="external autonumber" href="https://devblogs.microsoft.com/oldnewthing/20040902-00/?p=37983">[2]</a>.)
</p>
<p>It can be done by a simple registry fix: Open <code>regedit</code> and add a <code>DWORD</code> value with hexadecimal value <code>1</code> to the registry <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation\RealTimeIsUniversal</code>
</p>
<p>You can do this from an Administrator Command Prompt running:
</p>
<pre>C:\&gt;reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation" /v RealTimeIsUniversal /d 1 /t REG_DWORD /f
</pre>
<p>Alternatively, create a <code>*.reg</code> file (on the desktop) with the following content and double-click it to import it into registry:
</p>
<pre>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]
"RealTimeIsUniversal"=dword:00000001
</pre>
<p>Should Windows ask to update the clock due to DST changes, let it. It will leave the clock in UTC as expected, only correcting the displayed time.
</p>
<p>The <a href="#Hardware_clock">#Hardware clock</a> and <a href="#System_clock">#System clock</a> time may need to be updated after setting this value.
</p>
<p>If you are having issues with the offset of the time, try reinstalling <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tzdata">tzdata</a></span> and then setting your time zone again:
</p>
<pre># timedatectl set-timezone America/Los_Angeles
</pre>
<h3>
<span id="UTC_in_Ubuntu.2FFedora"></span><span class="mw-headline" id="UTC_in_Ubuntu/Fedora">UTC in Ubuntu/Fedora</span>
</h3>
<p>Many Linux distributions have the hardware clock set to be interpreted as in "localtime" if Windows was detected on any disk during their installation. This is apparently done deliberately to allow new users to try out Linux on their Windows computers without editing the registry.
</p>
<p>For changing this behavior, see above.
</p>
<h3><span class="mw-headline" id="Multi-NTP_interaction">Multi-NTP interaction</span></h3>
<p>If you use an NTP client (see <a href="#Time_synchronization">#Time synchronization</a> below) that keeps track of RTC drift on any system, you should disable time synchronization on all but one system. Otherwise the NTP clients would be unaware of each other's adjustment and make grossly incorrect estimates of the RTC drift.
</p>
<p>For Windows, go to the <i>Date and time settings</i> and uncheck the time sync option. You can also run <code>w32tm /unregister</code> as an administrator to unregister the time-sync service: Active Directory machines are <a rel="nofollow" class="external text" href="https://social.technet.microsoft.com/Forums/en-US/80950504-d3ff-4ba9-89fe-38e3ad9a5800/disable-time-sync-on-a-windows-2016-server">known to ignore the synchronization settings</a> and <a rel="nofollow" class="external text" href="https://superuser.com/questions/1076720/disabling-syncing-the-clock-in-windows-10-not-working">perform a synchronization anyways</a> to prevent replay attacks. The Windows clock synchronization routine is quite inaccurate to start with, requiring even extra work to reach <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows-server/networking/windows-time-service/support-boundary">one-second accuracy</a>, so disabling it should not be much of a loss.
</p>
<h2><span class="mw-headline" id="Time_zone">Time zone</span></h2>
<p>To check the current zone defined for the system:
</p>
<pre>$ timedatectl status
</pre>
<p>To list available zones:
</p>
<pre>$ timedatectl list-timezones
</pre>
<p>To set your time zone:
</p>
<pre># timedatectl set-timezone <i>Zone</i>/<i>SubZone</i>
</pre>
<p>Example:
</p>
<pre># timedatectl set-timezone Canada/Eastern
</pre>
<p>This will create an <code>/etc/localtime</code> symlink that points to a zoneinfo file under <code>/usr/share/zoneinfo/</code>. In case you choose to create the link manually (for example during <a href="../en/Chroot.html" title="Chroot">chroot</a> where <code>timedatectl</code> will not work), keep in mind that it must be a symbolic link, as specified in <span class="plainlinks archwiki-template-man" title="$ man 5 localtime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localtime.5#DESCRIPTION">localtime(5) § DESCRIPTION</a></span>:
</p>
<pre># ln -sf /usr/share/zoneinfo/<i>Zone</i>/<i>SubZone</i> /etc/localtime
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The time zone can also be selected interactively with <i>tzselect</i>.</div>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 timedatectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timedatectl.1">timedatectl(1)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 localtime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localtime.5">localtime(5)</a></span> for details.
</p>
<h3><span class="mw-headline" id="Setting_based_on_geolocation">Setting based on geolocation</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Some desktop environments have support for automatic time zone selection (e.g. see <a href="../en/GNOME.html#Date_&amp;_time" title="GNOME">GNOME#Date &amp; time</a>).</div>
<p>To set the timezone automatically based on the IP address location, one can use a geolocation API to retrieve the timezone, for example <code>curl https://ipapi.co/timezone</code>, and pass the output to <code>timedatectl set-timezone</code> for automatic setting. Some geo-IP APIs that provide free or partly free services are listed below:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.abstractapi.com/ip-geolocation-api">Abstract IP geolocation API</a></li>
<li><a rel="nofollow" class="external text" href="https://freegeoip.app">FreegeoIP</a></li>
<li><a rel="nofollow" class="external text" href="https://ip-api.com/">IP-api</a></li>
<li><a rel="nofollow" class="external text" href="https://ipapi.co/">IPAPI</a></li>
<li><a rel="nofollow" class="external text" href="https://ipdata.co">Ipdata</a></li>
<li><a rel="nofollow" class="external text" href="https://ipstack.com/">Ipstack</a></li>
<li><a rel="nofollow" class="external text" href="https://timezoneapi.io/">TimezoneApi</a></li>
</ul>
<h4><span class="mw-headline" id="Update_timezone_every_time_NetworkManager_connects_to_a_network">Update timezone every time NetworkManager connects to a network</span></h4>
<p>Create a <a href="../en/NetworkManager.html#Network_services_with_NetworkManager_dispatcher" title="NetworkManager">NetworkManager dispatcher script</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/09-timezone</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
case "$2" in
    up)
        timedatectl set-timezone "$(curl --fail https://ipapi.co/timezone)"
    ;;
esac
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Using <code>connectivity-change</code> instead of <code>up</code> can prevent timezone changes when connecting to VPNs with clients such as <a href="../en/OpenConnect.html" title="OpenConnect">OpenConnect</a>.</div>
<p>Alternatively, the tool <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tzupdate/">tzupdate</a></span><sup><small>AUR</small></sup> automatically sets the timezone based on the geolocation of the IP address. This <a rel="nofollow" class="external text" href="https://medium.com/@ipdata_co/what-is-the-best-commercial-ip-geolocation-api-d8195cda7027">comparison of the most popular IP geolocation apis</a> may be helpful in deciding which API to use in production.
</p>
<h2><span class="mw-headline" id="Time_skew">Time skew</span></h2>
<p>Every clock has a value that differs from <i>real time</i> (the best representation of which being <a href="https://en.wikipedia.org/wiki/International_Atomic_Time" class="extiw" title="wikipedia:International Atomic Time">International Atomic Time</a>); no clock is perfect.  A quartz-based electronic clock keeps imperfect time, but maintains a consistent inaccuracy. This base 'inaccuracy' is known as 'time skew' or 'time drift'.
</p>
<p>When the hardware clock is set with <code>hwclock</code>, a new drift value is calculated in seconds per day. The drift value is calculated by using the difference between the new value set and the hardware clock value just before the set, taking into account the value of the previous drift value and the last time the hardware clock was set. The new drift value and the time when the clock was set is written to the file <code>/etc/adjtime</code> overwriting the previous values. The hardware clock can therefore be adjusted for drift when the command <code>hwclock --adjust</code> is run; this also occurs on shutdown but only if the <code>hwclock</code> daemon is enabled, hence for Arch systems which use systemd, this does not happen.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the hwclock has been set again less than 24 hours after a previous set, the drift is not recalculated as <code>hwclock</code> considers the elapsed time period too short to accurately calculate the drift.</div>
<p>If the hardware clock keeps losing or gaining time in large increments, it is possible that an invalid drift has been recorded (but only applicable, if the hwclock daemon is running). This can happen if you have set the hardware clock time incorrectly or your <a href="#Time_standard">time standard</a> is not synchronized with a Windows or macOS install.  The drift value can be removed by first removing the file <code>/etc/adjtime</code>, then setting the correct hardware clock and system clock time. You should then check if your time standard is correct.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you wish to make use of the drift value stored in <code>/etc/adjtime</code> even when using systemd, (e.g. you cannot or do not want to use NTP), you must call <code>hwclock --adjust</code> on a regular basis, perhaps by creating a <a href="../en/Cron.html" title="Cron">cron</a> job.</div>
<p>The software clock is very accurate but like most clocks is not perfectly accurate and will drift as well. Though rarely, the system clock can lose accuracy if the kernel skips interrupts. There are some tools to improve software clock accuracy:
</p>
<ul><li>See <a href="#Time_synchronization">#Time synchronization</a>.</li></ul>
<h2><span class="mw-headline" id="Time_synchronization">Time synchronization</span></h2>
<p>The <a href="https://en.wikipedia.org/wiki/Network_Time_Protocol" class="extiw" title="wikipedia:Network Time Protocol">Network Time Protocol</a> (NTP) is a protocol for synchronizing the clocks of computer systems over packet-switched, variable-latency data networks.
</p>
<h3>
<span id="Network_Time_Protocol_.28NTP.29"></span><span class="mw-headline" id="Network_Time_Protocol_(NTP)">Network Time Protocol (NTP)</span>
</h3>
<p>For proper NTP support, as defined by the RFC, a client must be able to merge time from multiple servers, compensate for delay, and keep track of drift on the system (software) clock. The following are implementations of NTP available for Arch Linux:
</p>
<ul><li>
<b><a href="../en/Chrony.html" title="Chrony">Chrony</a></b> — A client and server that is roaming friendly and designed specifically for systems that are not online all the time. Converges faster and closer to reference than ntpd in most cases. Can also keep track of hardware clock (RTC) drift.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://chrony.tuxfamily.org/">https://chrony.tuxfamily.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=chrony">chrony</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon">Network Time Protocol daemon</a></b> — The <a href="https://en.wikipedia.org/wiki/reference_implementation" class="extiw" title="wikipedia:reference implementation">reference implementation</a> of the protocol.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.ntp.org/">https://www.ntp.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntp">ntp</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/NTPsec.html" title="NTPsec">NTPsec</a></b> — A fork of NTPd, focused on security. Works similarly, except a lot of old code is thrown out.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://ntpsec.org/">https://ntpsec.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntpsec/">ntpsec</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3>
<span id="Simple_Network_Time_Protocol_.28SNTP.29"></span><span class="mw-headline" id="Simple_Network_Time_Protocol_(SNTP)">Simple Network Time Protocol (SNTP)</span>
</h3>
<p>Anything that does less than a proper NTP node is considered <a href="https://en.wikipedia.org/wiki/Network_Time_Protocol#SNTP" class="extiw" title="wikipedia:Network Time Protocol">Simple Network Time Protocol (SNTP)</a>. A basic SNTP client may simply fetch the time from a single server and set it immediately, without keeping track of long-term drifts. SNTP provides lower accuracy, but takes less resources. The accuracy is usually good enough for desktop users and embedded workloads, but unacceptable for NTP servers. The following implement SNTP:
</p>
<ul><li>
<b><a href="../en/ConnMan.html" title="ConnMan">ConnMan</a></b> — A lightweight network manager with SNTP support.</li></ul>
<dl><dd>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20210224075615/https://01.org/connman">https://01.org/connman (waybackmachine)</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span>
</dd></dl>
<ul><li>
<b>ntpclient</b> — A simple command-line SNTP client.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://doolittle.icarus.com/ntpclient/">http://doolittle.icarus.com/ntpclient/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ntpclient/">ntpclient</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/OpenNTPD.html" title="OpenNTPD">OpenNTPD</a></b> — Part of the OpenBSD project and implements both a SNTP client and a server. No leap second support.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.openntpd.org/">https://www.openntpd.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openntpd">openntpd</a></span>
</dd></dl>
<ul><li>
<b>sntp</b> — An SNTP client that comes with NTPd. It supersedes <i>ntpdate</i> and is recommended in non-server environments.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.ntp.org/">https://www.ntp.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntp">ntp</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Systemd-timesyncd.html" title="Systemd-timesyncd">systemd-timesyncd</a></b> — A simple SNTP daemon that only implements a client side, focusing only on querying time from one remote server. It should be more than appropriate for most installations.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://systemd.io/">https://systemd.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>
</dd></dl>
<h2>
<span id="Per-user.2Fsession_or_temporary_settings"></span><span class="mw-headline" id="Per-user/session_or_temporary_settings">Per-user/session or temporary settings</span>
</h2>
<p>For some use cases it may be useful to change the time settings without touching the global system values. For example to test applications relying on the time during development or adjusting the system time zone when logging into a server remotely from another zone. 
</p>
<p>To make an application "see" a different date/time than the system one, you can use the <span class="plainlinks archwiki-template-man" title="$ man 1 faketime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/faketime.1">faketime(1)</a></span> utility (from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfaketime">libfaketime</a></span>).
</p>
<p>If instead you want an application to "see" a different time zone than the system one, set the <code>TZ</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>, for example: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ date &amp;&amp; export TZ=":/usr/share/zoneinfo/Pacific/Fiji" &amp;&amp; date</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Tue Nov  1 14:34:51 CET 2016
Wed Nov  2 01:34:51 FJT 2016</pre>
<p>This is different than just setting the time, as for example it allows to test the behavior of a program with positive or negative UTC offset values, or the effects of DST changes when developing on systems in a non-DST time zone.
</p>
<p>Another use case is having different time zones set for different users of the same system: this can be accomplished by setting the <code>TZ</code> variable in the shell's configuration file, see <a href="../en/Environment_variables.html#Defining_variables" title="Environment variables">Environment variables#Defining variables</a>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="fake-hwclock">fake-hwclock</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/xanmanning/alarm-fake-hwclock">alarm-fake-hwclock</a> designed especially for system without battery backed up RTC, it includes a systemd service which on shutdown saves the current time and on startup restores the saved time, thus avoiding strange time travel errors. 
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fake-hwclock-git/">fake-hwclock-git</a></span><sup><small>AUR</small></sup>, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> the service <code>fake-hwclock.service</code>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Clock_shows_a_value_that_is_neither_UTC_nor_local_time">Clock shows a value that is neither UTC nor local time</span></h3>
<p>This might be caused by a number of reasons. For example, if your hardware clock is running on local time, but <code>timedatectl</code> is set to assume it is in UTC, the result would be that your timezone's offset to UTC effectively gets applied twice, resulting in wrong values for your local time and UTC.
</p>
<p>To force your clock to the correct time, and to also write the correct UTC to your hardware clock, follow these steps:
</p>
<ul>
<li>Setup <a href="../en/Network_Time_Protocol_daemon.html" class="mw-redirect" title="Ntpd">ntpd</a> (enabling it as a service is not necessary).</li>
<li>Set your <a href="#Time_zone">time zone</a> correctly.</li>
<li>Run <code>ntpd -qg</code> to manually synchronize your clock with the network, ignoring large deviations between local UTC and network UTC.</li>
<li>Run <code>hwclock --systohc</code> to write the current software UTC time to the hardware clock.</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://sunnyan.tistory.com/entry/Linux-Clocks-and-Time">Linux Tips - Linux, Clocks, and Time</a></li>
<li><a rel="nofollow" class="external text" href="https://opensource.com/article/17/6/timekeeping-linux-vms">An introduction to timekeeping in Linux VMs</a></li>
<li>
<a rel="nofollow" class="external text" href="https://data.iana.org/time-zones/tz-link.html">Sources for Time Zone and Daylight Saving Time Data</a> for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tzdata">tzdata</a></span>
</li>
<li><a rel="nofollow" class="external text" href="https://www.ucolick.org/~sla/leapsecs/timescales.html">Time Scales</a></li>
<li><a href="https://wiki.gentoo.org/wiki/System_time" class="extiw" title="gentoo:System time">Gentoo: System time</a></li>
<li><a href="https://en.wikipedia.org/wiki/Time" class="extiw" title="wikipedia:Time">Wikipedia:Time</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Mainboards_and_BIOS.html" title="Category:Mainboards and BIOS">Mainboards and BIOS</a></li>
<li><a href="../en/Category:System_administration.html" title="Category:System administration">System administration</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System_time&amp;oldid=807190">https://wiki.archlinux.org/index.php?title=System_time&amp;oldid=807190</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 May 2024, at 06:21.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
