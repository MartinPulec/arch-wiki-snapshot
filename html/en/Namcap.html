<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Namcap - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Namcap rootpage-Namcap skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-How_to_use_it" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#How_to_use_it">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>How to use it</div>
		</a>
		
		<ul id="toc-How_to_use_it-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Understanding_the_output" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Understanding_the_output">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Understanding the output</div>
		</a>
		
		<ul id="toc-Understanding_the_output-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tags" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tags">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tags</div>
		</a>
		
			<button aria-controls="toc-Tags-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tags subsection</span>
			</button>
		
		<ul id="toc-Tags-sublist" class="vector-toc-list">
			<li id="toc-Symbolic_Links" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Symbolic_Links">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Symbolic Links</div>
			</a>
			
			<ul id="toc-Symbolic_Links-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Dependencies" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Dependencies">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Dependencies</div>
			</a>
			
			<ul id="toc-Dependencies-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Licenses" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Licenses">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Licenses</div>
			</a>
			
			<ul id="toc-Licenses-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Files">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Files</div>
			</a>
			
			<ul id="toc-Files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Miscellaneous" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Miscellaneous">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Miscellaneous</div>
			</a>
			
			<ul id="toc-Miscellaneous-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PKGBUILDs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PKGBUILDs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>PKGBUILDs</div>
			</a>
			
			<ul id="toc-PKGBUILDs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unreleased" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unreleased">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Unreleased</div>
			</a>
			
			<ul id="toc-Unreleased-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Making_a_namcap_module" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Making_a_namcap_module">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Making a namcap module</div>
		</a>
		
		<ul id="toc-Making_a_namcap_module-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Namcap_reports" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Namcap_reports">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Namcap reports</div>
		</a>
		
		<ul id="toc-Namcap_reports-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Namcap</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-it mw-list-item"><a href="../it/Namcap.html" title="Namcap – italiano" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Namcap" title="Namcap – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Namcap.html" title="Namcap – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Many style issues. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Namcap.html">Talk:Namcap</a>)</div>
</div>
<p>Namcap is a tool to check binary packages and source PKGBUILDs for common packaging mistakes, which can also be automatically enabled. It was created by <a rel="nofollow" class="external text" href="https://archlinux.org/people/developer-fellows/#jason">Jason Chu</a>.
</p>
<p><b>Changes</b>: The <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/pacman/namcap/blob/master/NEWS">NEWS</a> file in the git repository contains the changes from the previous version concisely.
</p>
<p><b>Development Branch</b>: <a rel="nofollow" class="external free" href="https://gitlab.archlinux.org/pacman/namcap">https://gitlab.archlinux.org/pacman/namcap</a>
</p>
<p>To <b>report a bug</b> or a <b>feature request</b> for namcap, file a bug in the <i>Packages:Extra</i> section of the Arch Linux <a rel="nofollow" class="external text" href="https://bugs.archlinux.org">bugtracker</a> and the set the importance accordingly. If you are reporting a bug, please give concrete examples of packages where the problem occurs and remember to insert the version number.
</p>
<p>If you have a patch (fixing a bug or a new namcap module), then you can send it to the <a rel="nofollow" class="external text" href="mailto:arch-projects@lists.archlinux.org">arch-projects</a> mailing list. Namcap development is managed with git, so git-formatted patches are preferred.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=namcap">namcap</a></span> package.
</p>
<h2><span class="mw-headline" id="How_to_use_it">How to use it</span></h2>
<p>To run namcap on a file, where <i>filename</i> is <code>PKGBUILD</code> or the name of a binary <code>pkg.tar.zst</code>:
</p>
<pre>$ namcap <i>filename</i>
</pre>
<p>If you want to see extra informational messages, then invoke namcap with the <code>-i</code> flag:
</p>
<pre>$ namcap -i <i>filename</i>
</pre>
<p>For more info on usage, see the man page <span class="plainlinks archwiki-template-man" title="$ man 1 namcap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/namcap.1">namcap(1)</a></span>.
</p>
<h2><span class="mw-headline" id="Understanding_the_output">Understanding the output</span></h2>
<p>Namcap uses a system of <b>tags</b> to classify the output. Currently, tags are of three types, <i>errors</i> (denoted by E), <i>warnings</i> (denoted by W) and <i>informational</i> (denoted by I). An error is important and should be fixed immediately; mostly they relate to insufficient security, missing licenses or permission problems.
</p>
<p>Normally namcap prints a human-readable explanation (sometimes with suggestions on how to fix the problem). If you want output which can be easily parsed by a program, then pass the -m (<i>machine-readable</i>) flag to namcap (this feature is currently in the development branch).
</p>
<h2><span class="mw-headline" id="Tags">Tags</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> New tags are missing and others need attention (Discuss in <a href="../en/Talk:Namcap.html#Tags_are_out_of_date" title="Talk:Namcap">Talk:Namcap#Tags are out of date</a>)</div>
</div>
<h3><span class="mw-headline" id="Symbolic_Links">Symbolic Links</span></h3>
<ul>
<li>
<b>symlink-found</b> (<i>informational</i>) Reports any <b>symbolic links</b> present in the package.</li>
<li>
<b>hardlink-found</b> (<i>informational</i>) Reports any <b>hard links</b> present in the package.</li>
<li>
<b>dangling-symlink</b> (<i><span style="color:#e00000">error</span></i>) Reports occurrences of symbolic links which point to a file which is not present in the package.</li>
<li>
<b>dangling-hardlink</b> (<i><span style="color:#e00000">error</span></i>) Reports occurrences of hard links which point to a file which is not present in the package.</li>
</ul>
<h3><span class="mw-headline" id="Dependencies">Dependencies</span></h3>
<ul>
<li>
<b>link-level-dependence</b> (<i>informational</i>) Informs about a library to which a package is dynamically linked.</li>
<li>
<b>dependency-is-testing-release</b> (<i>warning</i>) The package dependency listed is in the [core-testing] or [extra-testing] repository. While packages are being built for the official Arch Linux repositories (core and extra), then they <b>should not be built</b> against packages from [core-testing] or [extra-testing]. For [core] and [extra] packages, packages built against [core-testing] or [extra-testing] should be put in the [core-testing] or [extra-testing] repository.</li>
<li>
<b>dependency-covered-by-link-dependence</b> (<i>informational</i>) Dependency covered by dependencies from link dependence. Thus this is a redundant dependency.</li>
<li>
<b>dependency-detected-not-included</b> (<i><span style="color:#e00000">error</span></i>) The file referred to has a dependency which is not listed in the depends array. Ignore this error if the named dependency is listed in the optdepends array.</li>
<li>
<b>dependency-already-satisfied</b> (<i>warning</i>) The dependency is already satisfied (as the dependency of some package already listed as a dependency for example) and thus is redundant. You can use the <code>pactree</code> tool from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> to view the dependency tree of your package.</li>
<li>
<b>dependency-not-needed</b> (<i>warning</i>) This dependency is not required by any file present in the program (as far as namcap could deduce). This does not work properly yet for scripts (like python or perl packages) though; there you will have to figure out the dependencies on your own.</li>
<li>
<b>depends-by-namcap-sight</b> (<i>informational</i>) A list of dependencies according to namcap.</li>
</ul>
<h3><span class="mw-headline" id="Licenses">Licenses</span></h3>
<ul>
<li>
<b>missing-license</b> (<i><span style="color:#e00000">error</span></i>) This package is missing a license. Licenses should be put in the <code>license=()</code> array of the PKGBUILD. See the <a href="../en/Arch_package_guidelines.html" class="mw-redirect" title="Arch packaging standards">Arch packaging standards</a> for more information. It is <b>very important</b> to fix this error as soon as possible, since not including a license is a copyright violation in many cases.</li>
<li>
<b>missing-custom-license-dir</b> (<i><span style="color:#e00000">error</span></i>) The license specified is <i>custom</i> but no license directory was found under <i>/usr/share/licenses/</i> as specified in the packaging guidelines.</li>
<li>
<b>missing-custom-license-file</b> (<i><span style="color:#e00000">error</span></i>) The license specified is <i>custom</i> but no license file was found in <i>/usr/share/licenses/$pkgname</i>.</li>
<li>
<b>not-a-common-license</b> (<i><span style="color:#e00000">error</span></i>) The license specified is <b>not</b> <i>custom</i> but it is not present in the common <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> package shipped in the Arch Linux distribution.</li>
</ul>
<h3><span class="mw-headline" id="Files">Files</span></h3>
<p>This section describes the tags which relate to incorrect permissions of files or files not being installed in accordance with the FHS guidelines.
</p>
<ul>
<li>
<b>script-link-detected</b> (<i>informational</i>) The following file is a script.</li>
<li>
<b>file-in-non-standard-dir</b> (<i>warning</i>) The following file is in a non-standard directory as defined by the <a rel="nofollow" class="external text" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html">FHS guidelines</a>. The allowed directories are: <i>bin/</i>, <i>etc/</i>, <i>usr/bin/</i>, <i>usr/sbin/</i>, <i>usr/lib</i>, <i>usr/include/</i>, <i>usr/share/</i>, <i>opt/</i>, <i>lib/</i>, <i>sbin/</i>, <i>srv/</i>, <i>var/lib/</i>, <i>var/opt/</i>, <i>var/spool/</i>, <i>var/lock/</i>, <i>var/state/</i>, <i>var/run/</i>, <i>var/log/</i>.</li>
<li>
<b>elffile-not-in-allowed-dirs</b> (<i><span style="color:#e00000">error</span></i>) ELF files should only be in these directories: <i>/lib</i>, <i>/bin</i>, <i>/sbin</i>, <i>/usr/bin</i>, <i>/usr/sbin</i>, <i>/lib</i>, <i>/usr/lib</i>, <i>/opt/$pkgname/</i>.</li>
<li>
<b>empty-directory</b> (<i>warning</i>) The following directory in the package is empty.</li>
<li>
<b>non-fhs-man-page</b> (<i><span style="color:#e00000">error</span></i>) The package installs manual pages into a location other than <i>/usr/share/man</i> which is the directory for manual pages according to the <a rel="nofollow" class="external text" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html#usrsharemanManualPages">FHS guidelines</a>.</li>
<li>
<b>potential-non-fhs-man-page</b> (<i>warning</i>) This file seems to be a manual page which is not installed in <i>/usr/share/man</i> but namcap is not too sure about it.</li>
<li>
<b>non-fhs-info-page</b> (<i><span style="color:#e00000">error</span></i>) The package installs info pages into a location other than <i>/usr/share/info</i> which is where architecture independent data should be installed according to the <a rel="nofollow" class="external text" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html#usrshareArchitectureindependentData">FHS guidelines</a>
</li>
<li>
<b>potential-non-fhs-info-page</b> (<i>warning</i>) This file seems to be a info page which is not installed in <i>/usr/share/info</i> but namcap is not too sure about it.</li>
<li>
<b>incorrect-permissions</b> (<i><span style="color:#e00000">error</span></i>) This file has incorrect ownership. The ownership of files in binary packages should be <code>root/root</code>.</li>
<li>
<b>file-not-world-readable</b> (<i>warning</i>) The file is not readable by everyone; usually this should not be the case.</li>
<li>
<b>file-world-writable</b> (<i>warning</i>) Anyone can write to this file; again not a typical case.</li>
<li>
<b>directory-not-world-executable</b> (<i>warning</i>) The directory does not have the world executable bit set. This disallows access to the directory for programs running under user privileges.</li>
<li>
<b>incorrect-library-permissions</b> (<i>warning</i>) The static library file (.a) does not have permission 644 (readable and writable by root, readable by anyone else).</li>
<li>
<b>libtool-file-present</b> (<i>warning</i>) This file is a libtool (.la) file and should not be normally present. One can use the <code>!libtool</code> option in the <i>options</i> array of the PKGBUILD to remove these files automatically.</li>
<li>
<b>perllocal-pod-present</b> (<i><span style="color:#e00000">error</span></i>) The file perllocal.pod should not be present in a perl package; see the <a href="../en/Perl_package_guidelines.html" title="Perl package guidelines">Perl package guidelines</a> for more information.</li>
<li>
<b>scrollkeeper-dir-exists</b> (<i><span style="color:#e00000">error</span></i>) A scrollkeeper directory was found in the package. scrollkeeper should not be run till post_{install,upgrade,remove}.</li>
<li>
<b>info-dir-file-present</b> (<i><span style="color:#e00000">error</span></i>) The info directory file <i>/usr/share/info/dir</i> was found in the package. This file should not be present.</li>
<li>
<b>gnome-mime-file</b> (<i><span style="color:#e00000">error</span></i>) The file is an autogenerated GNOME mime file and should not be present in the package.</li>
</ul>
<h3><span class="mw-headline" id="Miscellaneous">Miscellaneous</span></h3>
<ul><li>
<b>insecure-rpath</b> (<i><span style="color:#e00000">error</span></i>) An RPATH (for an executable) is outside <i>/usr/lib</i>. An RPATH to an insecure location is a potential security issue. See <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/14049">FS#14049</a> for discussion.</li></ul>
<h3><span class="mw-headline" id="PKGBUILDs">PKGBUILDs</span></h3>
<p>These are the tags related to the PKGBUILDs. Some of these might also apply for binary packages.
</p>
<ul>
<li>
<b>variable-not-array</b> (<i>warning</i>) The variable should be a bash array instead of a string. These are the variables which should be written as arrays: <i>arch</i>, <i>license</i>, <i>depends</i>, <i>makedepends</i>, <i>optdepends</i>, <i>provides</i>, <i>conflicts</i>, <i>replaces</i>, <i>backup</i>, <i>source</i>, <i>noextract</i>, <i>md5sums</i>
</li>
<li>
<b>backups-preceding-slashes</b> (<i><span style="color:#e00000">error</span></i>) The file mentioned in the backup array begins with a slash ('/').</li>
<li>
<b>package-name-in-uppercase</b> (<i><span style="color:#e00000">error</span></i>) There should not be any uppercase letters in package names.</li>
<li>
<b>specific-host-type-used</b> (<i>warning</i>) Instead of using a specific host type (like i686 or x86_64) use the generic $CARCH variable.</li>
<li>
<b>extra-var-begins-without-underscore</b> (<i>warning</i>) The variable is not one of the standard variables defined in the PKGBUILD manual, yet it does not begin with an underscore.</li>
<li>
<b>file-referred-in-startdir</b> (<i><span style="color:#e00000">error</span></i>) A file was referenced in <i>$startdir</i> outside of <i>$startdir/pkg</i> and <i>$startdir/src</i>.</li>
<li>
<b>missing-md5sums</b> (<i><span style="color:#e00000">error</span></i>) MD5sums corresponding to the source files are missing. These can be added to the PKGBUILD using <code>updpkgsums</code> (from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>).</li>
<li>
<b>not-enough-md5sums</b> (<i><span style="color:#e00000">error</span></i>) There are more source files than MD5sums provided in the PKGBUILD.</li>
<li>
<b>too-many-md5sums</b> (<i><span style="color:#e00000">error</span></i>) There are more MD5sums than source files in the PKGBUILD.</li>
<li>
<b>improper-md5sum</b> (<i><span style="color:#e00000">error</span></i>) An improper MD5sum was found. MD5sums are of 32 characters in length.</li>
<li>
<b>specific-sourceforge-mirror</b> (<i>warning</i>) The PKGBUILD uses a specific sourceforge mirror. <a rel="nofollow" class="external free" href="https://downloads.sourceforge.net">https://downloads.sourceforge.net</a> should be used instead.</li>
<li>
<b>using-dl-sourceforge</b> (<i>warning</i>) The deprecated <a rel="nofollow" class="external free" href="http://dl.sourceforge.net">http://dl.sourceforge.net</a> domain is being used in the source array. <a rel="nofollow" class="external free" href="https://downloads.sourceforge.net">https://downloads.sourceforge.net</a> should be used instead.</li>
<li>
<b>missing-contributor</b> (<i>warning</i>) The contributor tag is missing.</li>
<li>
<b>missing-maintainer</b> (<i>warning</i>) The maintainer tag is missing.</li>
<li>
<b>missing-url</b> (<i><span style="color:#e00000">error</span></i>) The package does not have an upstream homepage set. Use the <code>url</code> variable for this.</li>
<li>
<b>pkgname-in-description</b> (<i>warning</i>) Description should not contain the package name.</li>
<li>
<b>recommend-use-pkgdir</b> (<i>informational</i>) <i>$startdir/pkg</i> is deprecated, use <i>$pkgdir</i> instead.</li>
<li>
<b>recommend-use-srcdir</b> (<i>informational</i>) <i>$startdir/src</i> is deprecated, use <i>$srcdir</i> instead.</li>
</ul>
<h3><span class="mw-headline" id="Unreleased">Unreleased</span></h3>
<p>There are currently no new tags in the development version.
</p>
<h2><span class="mw-headline" id="Making_a_namcap_module">Making a namcap module</span></h2>
<p>This section documents the innards of namcap and specifies how to create a new namcap module.
</p>
<p>The main namcap program namcap.py takes as parameters the filename of a package or a PKGBUILD and makes a pkginfo object, which it passes to a list of rules defined in <code>__tarball__</code> and <code>__pkgbuild__</code>.
</p>
<ul>
<li>
<i>__tarball__</i> defines the rules which process binary packages.</li>
<li>
<i>__pkgbuild__</i> defines the rules which process PKGBUILDs</li>
</ul>
<p>Once your module is finalized, remember to add it to the appropriate array (<i>__tarball__</i> or <i>__pkgbuild__</i>) defined in <i>Namcap/__init__.py</i>
</p>
<p>A sample namcap module is like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">namcap/url.py</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  import pacman

  class package:
  	def short_name(self):
		return "url"
	def long_name(self):
		return "Verifies url is included in a PKGBUILD"
	def prereq(self):
		return ""
	def analyze(self, pkginfo, tar):
		ret = [[],[],[]]
		if not hasattr(pkginfo, 'url'):
			ret[0].append(("missing-url", ()))
		return ret
	def type(self):
		return "pkgbuild"
</pre>
<p>Mostly, the code is self-explanatory. The following are the list of the methods that each namcap module must have:
</p>
<ul>
<li>
<b>short_name</b>(self) Returns a string containing a short name of the module. Usually, this is the same as the basename of the module file.</li>
<li>
<b>long_name</b>(self)  Returns a string containing a concise description of the module. This description is used when listing all the rules using <code>namcap -r list</code>.</li>
<li>
<b>prereq</b>(self) Return a string containing the prerequisites needed for the module to operate properly. Usually "" for modules processing PKGBUILDs and "tar" for modules processing package files. "extract" should be specified if the package contents should be extracted to a temporary directory before further processing.</li>
<li>
<b>analyze</b>(self, pkginfo, tar) Should return a list comprising in turn of three lists: of error tags, warning tags and information tags respectively. Each member of these tag lists should be a tuple consisting of two components: <b>the short, hyphenated form</b> of the tag with the appropriate format specifiers (%s, etc.) The first word of this string must be the tag name. The human readable form of the tag should be put in the tags file. The format of the tags file is described below; and <b>the parameters</b> which should replace the format specifier tokens in the final output.</li>
<li>
<b>type</b>(self) "pkgbuild" for a module processing PKGBUILDs, "tarball" for a module processing a binary package file.</li>
</ul>
<p>The tags file consists of lines specifying the human readable form of the hyphenated tags used in the namcap code. A line beginning with a '#' is treated as a comment. Otherwise the format of the file is:
</p>
<pre> machine-parseable-tag %s :: This is machine parseable tag %s
</pre>
<p>Note that a double colon (::) is used to separate the hyphenated tag from the human readable description.
</p>
<h2><span class="mw-headline" id="Namcap_reports">Namcap reports</span></h2>
<p><b>namcap-reports</b> is an automatically generated report obtained after running namcap against the core and extra trees.
</p>
<p>How it works:
</p>
<ul>
<li>namcap is run against the entire <a href="../en/Arch_build_system.html" class="mw-redirect" title="ABS">ABS</a> tree to make <code>namcap.log</code>.</li>
<li>The packages in core and extra are put in files named core and extra respectively (using <code>pacman -Slq</code>).</li>
<li>
<code>namcap-report.py</code> takes the code and prepares the report and RSS feeds, which is then copied to the webserver.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Package_management.html" title="Category:Package management">Package management</a></li>
<li><a href="../en/Category:Package_development.html" title="Category:Package development">Package development</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Namcap&amp;oldid=778711">https://wiki.archlinux.org/index.php?title=Namcap&amp;oldid=778711</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 19 May 2023, at 20:27.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
