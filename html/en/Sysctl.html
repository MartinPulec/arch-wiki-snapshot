<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>sysctl - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sysctl rootpage-Sysctl skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Security" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Security">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Security</span>
			</div>
		</a>
		
		<ul id="toc-Security-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Networking" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Networking">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Networking</span>
			</div>
		</a>
		
			<button aria-controls="toc-Networking-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Networking subsection</span>
			</button>
		
		<ul id="toc-Networking-sublist" class="vector-toc-list">
			<li id="toc-Improving_performance" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Improving_performance">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Improving performance</span>
				</div>
			</a>
			
			<ul id="toc-Improving_performance-sublist" class="vector-toc-list">
				<li id="toc-Increasing_the_size_of_the_receive_queue." class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Increasing_the_size_of_the_receive_queue.">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.1</span>
					<span>Increasing the size of the receive queue.</span>
				</div>
			</a>
			
			<ul id="toc-Increasing_the_size_of_the_receive_queue.-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Increase_the_maximum_connections" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Increase_the_maximum_connections">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.2</span>
					<span>Increase the maximum connections</span>
				</div>
			</a>
			
			<ul id="toc-Increase_the_maximum_connections-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Increase_the_memory_dedicated_to_the_network_interfaces" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Increase_the_memory_dedicated_to_the_network_interfaces">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.3</span>
					<span>Increase the memory dedicated to the network interfaces</span>
				</div>
			</a>
			
			<ul id="toc-Increase_the_memory_dedicated_to_the_network_interfaces-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_TCP_Fast_Open" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_TCP_Fast_Open">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.4</span>
					<span>Enable TCP Fast Open</span>
				</div>
			</a>
			
			<ul id="toc-Enable_TCP_Fast_Open-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tweak_the_pending_connection_handling" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tweak_the_pending_connection_handling">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.5</span>
					<span>Tweak the pending connection handling</span>
				</div>
			</a>
			
			<ul id="toc-Tweak_the_pending_connection_handling-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Change_TCP_keepalive_parameters" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Change_TCP_keepalive_parameters">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.6</span>
					<span>Change TCP keepalive parameters</span>
				</div>
			</a>
			
			<ul id="toc-Change_TCP_keepalive_parameters-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_MTU_probing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_MTU_probing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.7</span>
					<span>Enable MTU probing</span>
				</div>
			</a>
			
			<ul id="toc-Enable_MTU_probing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-TCP_timestamps" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TCP_timestamps">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.8</span>
					<span>TCP timestamps</span>
				</div>
			</a>
			
			<ul id="toc-TCP_timestamps-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-TCP_Selective_Acknowledgement" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TCP_Selective_Acknowledgement">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.9</span>
					<span>TCP Selective Acknowledgement</span>
				</div>
			</a>
			
			<ul id="toc-TCP_Selective_Acknowledgement-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_BBR" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_BBR">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.10</span>
					<span>Enable BBR</span>
				</div>
			</a>
			
			<ul id="toc-Enable_BBR-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Increase_the_Ephemeral_port_range" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Increase_the_Ephemeral_port_range">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.11</span>
					<span>Increase the Ephemeral port range</span>
				</div>
			</a>
			
			<ul id="toc-Increase_the_Ephemeral_port_range-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-TCP/IP_stack_hardening" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TCP/IP_stack_hardening">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>TCP/IP stack hardening</span>
				</div>
			</a>
			
			<ul id="toc-TCP/IP_stack_hardening-sublist" class="vector-toc-list">
				<li id="toc-TCP_SYN_cookie_protection" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TCP_SYN_cookie_protection">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.1</span>
					<span>TCP SYN cookie protection</span>
				</div>
			</a>
			
			<ul id="toc-TCP_SYN_cookie_protection-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-TCP_rfc1337" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TCP_rfc1337">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.2</span>
					<span>TCP rfc1337</span>
				</div>
			</a>
			
			<ul id="toc-TCP_rfc1337-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reverse_path_filtering" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Reverse_path_filtering">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.3</span>
					<span>Reverse path filtering</span>
				</div>
			</a>
			
			<ul id="toc-Reverse_path_filtering-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Log_martian_packets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Log_martian_packets">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.4</span>
					<span>Log martian packets</span>
				</div>
			</a>
			
			<ul id="toc-Log_martian_packets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disable_ICMP_redirects" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disable_ICMP_redirects">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.5</span>
					<span>Disable ICMP redirects</span>
				</div>
			</a>
			
			<ul id="toc-Disable_ICMP_redirects-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignore_ICMP_echo_requests" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ignore_ICMP_echo_requests">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.6</span>
					<span>Ignore ICMP echo requests</span>
				</div>
			</a>
			
			<ul id="toc-Ignore_ICMP_echo_requests-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Other" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Other">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Other</span>
				</div>
			</a>
			
			<ul id="toc-Other-sublist" class="vector-toc-list">
				<li id="toc-Allow_unprivileged_users_to_create_IPPROTO_ICMP_sockets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Allow_unprivileged_users_to_create_IPPROTO_ICMP_sockets">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.1</span>
					<span>Allow unprivileged users to create IPPROTO_ICMP sockets</span>
				</div>
			</a>
			
			<ul id="toc-Allow_unprivileged_users_to_create_IPPROTO_ICMP_sockets-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Virtual_memory" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Virtual_memory">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Virtual memory</span>
			</div>
		</a>
		
			<button aria-controls="toc-Virtual_memory-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Virtual memory subsection</span>
			</button>
		
		<ul id="toc-Virtual_memory-sublist" class="vector-toc-list">
			<li id="toc-VFS_cache" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#VFS_cache">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>VFS cache</span>
				</div>
			</a>
			
			<ul id="toc-VFS_cache-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-MDADM" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#MDADM">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>MDADM</span>
			</div>
		</a>
		
		<ul id="toc-MDADM-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Small_periodic_system_freezes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Small_periodic_system_freezes">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.1</span>
					<span>Small periodic system freezes</span>
				</div>
			</a>
			
			<ul id="toc-Small_periodic_system_freezes-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">sysctl</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Sysctl" title="Sysctl – 日本語" lang="ja" hreflang="ja" data-title="Sysctl" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Sysctl.html" title="Sysctl – русский" lang="ru" hreflang="ru" data-title="Sysctl" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Sysctl" title="Sysctl – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Sysctl" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
<a href="https://en.wikipedia.org/wiki/sysctl" class="extiw" title="wikipedia:sysctl">sysctl</a> is a tool for examining and changing <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> at runtime. sysctl is implemented in <a href="https://en.wikipedia.org/wiki/procfs" class="extiw" title="wikipedia:procfs">procfs</a>, the virtual process file system at <code>/proc/</code>.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=procps-ng">procps-ng</a></span> package should already be <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a>, as it is a dependency of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">meta package</a>. 
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p>The <b>sysctl</b> preload/configuration file can be created at <code>/etc/sysctl.d/99-sysctl.conf</code>. For <a href="../en/Systemd.html" title="Systemd">systemd</a>, <code>/etc/sysctl.d/</code> and <code>/usr/lib/sysctl.d/</code> are drop-in directories for kernel sysctl parameters. The naming and source directory decide the order of processing, which is important since the last parameter processed may override earlier ones. For example, parameters in a <code>/usr/lib/sysctl.d/50-default.conf</code> will be overriden by equal parameters in <code>/etc/sysctl.d/50-default.conf</code> and any configuration file processed later from both directories. 
</p>
<p>To load all configuration files manually, execute:
</p>
<pre># sysctl --system 
</pre>
<p>which will also output the applied hierarchy. A single parameter file can also be loaded explicitly with:
</p>
<pre># sysctl --load=<i>filename.conf</i>
</pre>
<p>See <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/the-new-configuration-files">the new configuration files</a> and more specifically <span class="plainlinks archwiki-template-man" title="$ man 5 sysctl.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.d.5">sysctl.d(5)</a></span> for more information.
</p>
<p>The parameters available are those listed under <code>/proc/sys/</code>. For example, the <code>kernel.sysrq</code> parameter refers to the file <code>/proc/sys/kernel/sysrq</code> on the file system. The <code>sysctl --all</code> command can be used to display all currently available values.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If you have the kernel documentation installed (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-docs">linux-docs</a></span>), you can find detailed information about sysctl settings in <code>/usr/lib/modules/$(uname -r)/build/Documentation/admin-guide/sysctl/</code>. An online version is referred by the <a href="#See_also">#See also</a> section of this article. It is highly recommended reading these before changing sysctl settings.</div>
<p>Settings can be changed through file manipulation or using the <span class="plainlinks archwiki-template-man" title="$ man 8 sysctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.8">sysctl(8)</a></span> utility. For example, to temporarily enable the <a href="https://en.wikipedia.org/wiki/Magic_SysRq_key" class="extiw" title="wikipedia:Magic SysRq key">magic SysRq key</a>:
</p>
<pre># sysctl kernel.sysrq=1
</pre>
<p>or:
</p>
<pre># echo "1" &gt; /proc/sys/kernel/sysrq 
</pre>
<p>See <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/sysrq.html">Linux kernel documentation</a> for details about <code>kernel.sysrq</code>.
</p>
<p>To preserve changes between reboots, <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Add">add</a> or modify the appropriate lines in <code>/etc/sysctl.d/99-sysctl.conf</code> or another applicable parameter file in <code>/etc/sysctl.d/</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> Some parameters that can be applied may depend on kernel modules which in turn might not be loaded. For example parameters in <code>/proc/sys/net/bridge/*</code> depend on the <code>br_netfilter</code> module. If it is not loaded at runtime (or after a reboot), those will <i>silently</i> not be applied. See <a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a>.</div>
<div class="mw-heading mw-heading2"><h2 id="Security">Security</h2></div>
<p>See also <a href="../en/Security.html#Kernel_hardening" title="Security">Security#Kernel hardening</a>, as well as the rest of this article.
</p>
<div class="mw-heading mw-heading2"><h2 id="Networking">Networking</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Improving_performance">Improving performance</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Increasing_the_size_of_the_receive_queue.">Increasing the size of the receive queue.</h4></div>
<p>The received frames will be stored in this queue after taking them from the ring buffer on the network card.
</p>
<p>Increasing this value for high speed cards may help prevent losing packets:
</p>
<pre>net.core.netdev_max_backlog = 16384
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In real time application like SIP routers, this option requires a high speed CPU otherwise the data in the queue will be out of date.</div>
<div class="mw-heading mw-heading4"><h4 id="Increase_the_maximum_connections">Increase the maximum connections</h4></div>
<p>The upper limit on how many connections the kernel will accept (default 4096):
</p>
<pre>net.core.somaxconn = 8192
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Increasing this value may only increase performance on high-loaded servers and may cause a slow processing rate (e.g. a single threaded blocking server) or insufficient number of worker threads/processes <a rel="nofollow" class="external autonumber" href="https://serverfault.com/questions/518862/will-increasing-net-core-somaxconn-make-a-difference/519152">[1]</a>.</div>
<div class="mw-heading mw-heading4"><h4 id="Increase_the_memory_dedicated_to_the_network_interfaces">Increase the memory dedicated to the network interfaces</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Explain what are the units for each option (bytes or kilobytes or memory pages?) (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Sysctl.html">Talk:Sysctl</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> This section seems motivated by the Cloudflare blog post, but <a rel="nofollow" class="external text" href="https://github.com/redhat-performance/tuned/blob/master/profiles/network-throughput/tuned.conf#L10">Red Hat's tuned profile</a> suggests even smaller values and claims "this seems only necessary at 40Gb speeds". Hence, these settings do not seem useful for commodity hardware. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Sysctl.html">Talk:Sysctl</a>)</div>
</div>
<p>By default the Linux network stack is not configured for high speed large file transfer across WAN links (i.e. handle more network packets) and setting the correct values may save memory resources:
</p>
<pre>net.core.rmem_default = 1048576
net.core.rmem_max = 16777216
net.core.wmem_default = 1048576
net.core.wmem_max = 16777216
net.core.optmem_max = 65536
net.ipv4.tcp_rmem = 4096 1048576 2097152
net.ipv4.tcp_wmem = 4096 65536 16777216
</pre>
<p>It is also possible increase the default <code>4096</code> UDP limits:
</p>
<pre>net.ipv4.udp_rmem_min = 8192
net.ipv4.udp_wmem_min = 8192
</pre>
<p>See the following sources for more information and recommend values:
</p>
<ul>
<li><a rel="nofollow" class="external free" href="http://www.nateware.com/linux-network-tuning-for-2013.html">http://www.nateware.com/linux-network-tuning-for-2013.html</a></li>
<li><a rel="nofollow" class="external free" href="https://blog.cloudflare.com/the-story-of-one-latency-spike/">https://blog.cloudflare.com/the-story-of-one-latency-spike/</a></li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Enable_TCP_Fast_Open">Enable TCP Fast Open</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Mention the option to "enable all listeners to support Fast Open by default without explicit TCP_FASTOPEN socket option", i.e. value <code>1027</code> (0x1+0x2+0x400). (Discuss in <a href="../en/Talk:Sysctl.html#TCP_Fast_Open" title="Talk:Sysctl">Talk:Sysctl#TCP Fast Open</a>)</div>
</div>
<p>TCP Fast Open is an extension to the transmission control protocol (TCP) that helps reduce network latency by enabling data to be exchanged during the sender’s initial TCP SYN <a rel="nofollow" class="external autonumber" href="https://www.keycdn.com/support/tcp-fast-open/">[2]</a>. Using the value <code>3</code> instead of the default <code>1</code> allows TCP Fast Open for both incoming and outgoing connections:
</p>
<pre>net.ipv4.tcp_fastopen = 3
</pre>
<div class="mw-heading mw-heading4"><h4 id="Tweak_the_pending_connection_handling">Tweak the pending connection handling</h4></div>
<p><code>tcp_max_syn_backlog</code> is the maximum queue length of pending connections 'Waiting Acknowledgment'.
</p>
<p>In the event of a synflood DOS attack, this queue can fill up pretty quickly, at which point <a href="https://en.wikipedia.org/wiki/SYN_cookies" class="extiw" title="wikipedia:SYN cookies">TCP SYN cookies</a> will kick in allowing your system to continue to respond to legitimate traffic, and allowing you to gain access to block malicious IPs.
</p>
<p>If the server suffers from overloads at peak times, you may want to increase this value a little bit:
</p>
<pre>net.ipv4.tcp_max_syn_backlog = 8192
</pre>
<p><code>tcp_max_tw_buckets</code> is the maximum number of sockets in TIME_WAIT state.
</p>
<p>After reaching this number the system will start destroying the socket that are in this state.
</p>
<p>Increase this to prevent simple DOS attacks:
</p>
<pre>net.ipv4.tcp_max_tw_buckets = 2000000
</pre>
<p><code>tcp_tw_reuse</code> sets whether TCP should reuse an existing connection in the TIME-WAIT state for a new outgoing connection if the new timestamp is strictly bigger than the most recent timestamp recorded for the previous connection.
</p>
<p>The default value is <code>2</code>, means it's enabled for loopback connections only. You can set it to <code>1</code> to enable for all connections, this helps avoid from running out of available network sockets:
</p>
<pre>net.ipv4.tcp_tw_reuse = 1
</pre>
<p>Specify how many seconds to wait for a final FIN packet before the socket is forcibly closed.  This is strictly a violation  of  the TCP specification, but required to prevent denial-of-service attacks.  In Linux 2.2, the default value was 180 <a rel="nofollow" class="external autonumber" href="https://access.redhat.com/solutions/41776">[3]</a>:
</p>
<pre>net.ipv4.tcp_fin_timeout = 10
</pre>
<p><code>tcp_slow_start_after_idle</code> sets whether TCP should start at the default window size only for new connections or also for existing connections that have been idle for too long.
</p>
<p>This setting kills persistent single connection performance and could be turned off:
</p>
<pre>net.ipv4.tcp_slow_start_after_idle = 0
</pre>
<div class="mw-heading mw-heading4"><h4 id="Change_TCP_keepalive_parameters">Change TCP keepalive parameters</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=filesystem">filesystem</a></span> 2025.05.03-1 sets <code>net.ipv4.tcp_keepalive_time</code> to <code>120</code> in <code>/usr/lib/sysctl.d/10-arch.conf</code>. See <a rel="nofollow" class="external autonumber" href="https://rfc.archlinux.page/0051-tcp-keepalive/">[4]</a>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Sysctl.html">Talk:Sysctl</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Keepalive#TCP_keepalive" class="extiw" title="wikipedia:Keepalive">TCP keepalive</a> is a mechanism for TCP connections that help to determine whether the other end has stopped responding or not. TCP will send the keepalive probe that contains null data to the network peer several times after a period of idle time. If the peer does not respond, the socket will be closed automatically. By default, TCP keepalive process waits for two hours (7200 secs) for socket activity before sending the first keepalive probe, and then resend it every 75 seconds. As long as there is TCP/IP socket communications going on and active, no keepalive packets are needed.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> With the following settings, your application will detect dead TCP connections after 120 seconds (60s + 10s + 10s + 10s + 10s + 10s + 10s).</div>
<pre>net.ipv4.tcp_keepalive_time = 60
net.ipv4.tcp_keepalive_intvl = 10
net.ipv4.tcp_keepalive_probes = 6
</pre>
<div class="mw-heading mw-heading4"><h4 id="Enable_MTU_probing">Enable MTU probing</h4></div>
<p>The longer the <a href="https://en.wikipedia.org/wiki/Maximum_transmission_unit" class="extiw" title="wikipedia:Maximum transmission unit">maximum transmission unit (MTU)</a> the better for performance, but the worse for reliability.
</p>
<p>This is because a lost packet means more data to be retransmitted and because many routers on the Internet cannot deliver very long packets:
</p>
<pre>net.ipv4.tcp_mtu_probing = 1
</pre>
<p>See <a rel="nofollow" class="external free" href="https://blog.cloudflare.com/path-mtu-discovery-in-practice/">https://blog.cloudflare.com/path-mtu-discovery-in-practice/</a> for more information.
</p>
<div class="mw-heading mw-heading4"><h4 id="TCP_timestamps">TCP timestamps</h4></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> TCP timestamps protect against wrapping sequence numbers (at gigabit speeds) and round trip time calculation implemented in TCP. It is not recommended to turn off TCP timestamps as it may cause a security risk <a rel="nofollow" class="external autonumber" href="https://access.redhat.com/sites/default/files/attachments/20150325_network_performance_tuning.pdf">[5]</a>.</div>
<p>Disabling timestamp generation will reduce spikes and may give a performance boost on gigabit networks:
</p>
<pre>net.ipv4.tcp_timestamps = 0
</pre>
<div class="mw-heading mw-heading4"><h4 id="TCP_Selective_Acknowledgement">TCP Selective Acknowledgement</h4></div>
<p>TCP Selective Acknowledgement (TCP SACK), controlled by the boolean <code>tcp_sack</code>, allows the receiving side to give the sender more detail about lost segments, reducing volume of retransmissions. This is useful on high latency networks, but disable this to improve throughput on high-speed LANs. Also disable <code>tcp_dsack</code>, if you aren't sending SACK you certainly don't want to send duplicates! Forward Acknowledgement works on top of SACK and will be disabled if SACK is. <a rel="nofollow" class="external autonumber" href="https://cromwell-intl.com/open-source/performance-tuning/tcp.html">[6]</a>
</p>
<pre>net.ipv4.tcp_sack = 1
</pre>
<div class="mw-heading mw-heading4"><h4 id="Enable_BBR">Enable BBR</h4></div>
<p>The <a href="https://en.wikipedia.org/wiki/TCP_congestion_control#TCP_BBR" class="extiw" title="wikipedia:TCP congestion control">BBR congestion control algorithm</a> can help achieve higher bandwidths and lower latencies for internet traffic. First, <a href="../en/Kernel_module.html#Manual_module_handling" title="Kernel module">load</a> the <code>tcp_bbr</code> module.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <a rel="nofollow" class="external text" href="https://github.com/google/bbr/blob/master/README.md">BBR GitHub says</a>, "This is not an official Google product."</div>
<pre>net.core.default_qdisc = cake
net.ipv4.tcp_congestion_control = bbr
</pre>
<div class="mw-heading mw-heading4"><h4 id="Increase_the_Ephemeral_port_range">Increase the Ephemeral port range</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> How does this change improve performance? (Discuss in <a href="../en/Talk:Sysctl.html#net.ipv4.ip_local_port_range" title="Talk:Sysctl">Talk:Sysctl#net.ipv4.ip_local_port_range</a>)</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Ephemeral_port" class="extiw" title="wikipedia:Ephemeral port">Wikipedia:Ephemeral port</a> is typically used by the Transmission Control Protocol (TCP), User Datagram Protocol (UDP), or the Stream Control Transmission Protocol (SCTP) as the port assignment for the client end of a client–server communication.
</p>
<pre>net.ipv4.ip_local_port_range = 30000 65535
</pre>
<div class="mw-heading mw-heading3"><h3 id="TCP/IP_stack_hardening">
<span id="TCP.2FIP_stack_hardening"></span>TCP/IP stack hardening</h3></div>
<p>The following specifies a parameter set to tighten network security options of the kernel for the IPv4 protocol and related IPv6 parameters where an equivalent exists. 
</p>
<p>For some use-cases, for example using the system as a <a href="../en/Router.html" title="Router">router</a>, other parameters may be useful or required as well.
</p>
<div class="mw-heading mw-heading4"><h4 id="TCP_SYN_cookie_protection">TCP SYN cookie protection</h4></div>
<p>Helps protect against SYN flood attacks. Only kicks in when <code>net.ipv4.tcp_max_syn_backlog</code> is reached. More details at, for example, <a rel="nofollow" class="external autonumber" href="https://cateee.net/lkddb/web-lkddb/SYN_COOKIES.html">[7]</a>. As of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> 5.10, it is set by default.
</p>
<pre>net.ipv4.tcp_syncookies = 1
</pre>
<div class="mw-heading mw-heading4"><h4 id="TCP_rfc1337">TCP rfc1337</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> This does not seem to be part of the TCP standard? The description may not be accurate. <a rel="nofollow" class="external autonumber" href="https://serverfault.com/questions/787624/why-isnt-net-ipv4-tcp-rfc1337-enabled-by-default">[8]</a> (Discuss in <a href="../en/Talk:Sysctl.html#net.ipv4.tcp_rfc1337" title="Talk:Sysctl">Talk:Sysctl#net.ipv4.tcp_rfc1337</a>)</div>
</div>
<p>Protect against tcp time-wait assassination hazards, drop RST packets for sockets in the time-wait state. Not widely supported outside of Linux,  but conforms to RFC:
</p>
<pre>net.ipv4.tcp_rfc1337 = 1
</pre>
<div class="mw-heading mw-heading4"><h4 id="Reverse_path_filtering">Reverse path filtering</h4></div>
<p>By enabling reverse path filtering, the kernel will do source validation of the packets received from all the interfaces on the machine. This can protect from attackers that are using IP spoofing methods to do harm.
</p>
<p>The kernel's default value is <code>0</code> (no source validation), but systemd ships <code>/usr/lib/sysctl.d/50-default.conf</code> that sets <code>net.ipv4.conf.all.rp_filter</code> to <code>2</code> (loose mode)<a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/pull/10971">[9]</a>.
</p>
<p>The following will set the reverse path filtering mechanism to value <code>1</code> (strict mode):
</p>
<pre>net.ipv4.conf.default.rp_filter = 1
net.ipv4.conf.all.rp_filter = 1
</pre>
<p>The relationship and behavior of <code>net.ipv4.conf.default.*</code>, <code>net.ipv4.conf.<i>interface</i>.*</code> and <code>net.ipv4.conf.all.*</code> is explained in <a rel="nofollow" class="external text" href="https://docs.kernel.org/networking/ip-sysctl.html">ip-sysctl.html</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Log_martian_packets">Log martian packets</h4></div>
<p>A <a href="https://en.wikipedia.org/wiki/Martian_packet" class="extiw" title="wikipedia:Martian packet">martian packet</a> is an IP packet which specifies a source or destination address that is reserved for special-use by Internet Assigned Numbers Authority (IANA). See <a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses" class="extiw" title="wikipedia:Reserved IP addresses">Reserved IP addresses</a> for more details.
</p>
<p>Often martian and unroutable packet may be used for a dangerous purpose. Logging these packets for further inspection may be useful <a rel="nofollow" class="external autonumber" href="https://www.cyberciti.biz/faq/linux-log-suspicious-martian-packets-un-routable-source-addresses/">[10]</a>:
</p>
<pre>net.ipv4.conf.default.log_martians = 1
net.ipv4.conf.all.log_martians = 1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This can fill up your logs with a lot of information, it is advisable to only enable this for testing.</div>
<div class="mw-heading mw-heading4"><h4 id="Disable_ICMP_redirects">Disable ICMP redirects</h4></div>
<p>Background is at <a rel="nofollow" class="external text" href="https://askubuntu.com/questions/118273/what-are-icmp-redirects-and-should-they-be-blocked">What are ICMP redirects? Should they be blocked?</a>
</p>
<p>To disable ICMP redirect acceptance:
</p>
<pre>net.ipv4.conf.all.accept_redirects = 0
net.ipv4.conf.default.accept_redirects = 0
net.ipv4.conf.all.secure_redirects = 0
net.ipv4.conf.default.secure_redirects = 0
net.ipv6.conf.all.accept_redirects = 0
net.ipv6.conf.default.accept_redirects = 0
</pre>
<p>To disable ICMP redirect sending when on a non router:
</p>
<pre>net.ipv4.conf.all.send_redirects = 0
net.ipv4.conf.default.send_redirects = 0
</pre>
<div class="mw-heading mw-heading4"><h4 id="Ignore_ICMP_echo_requests">Ignore ICMP echo requests</h4></div>
<p>To disable ICMP echo (aka ping) requests:
</p>
<pre>net.ipv4.icmp_echo_ignore_all = 1
net.ipv6.icmp.echo_ignore_all = 1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Beware this may cause issues with monitoring tools and/or applications relying on ICMP echo responses.</div>
<div class="mw-heading mw-heading3"><h3 id="Other">Other</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Allow_unprivileged_users_to_create_IPPROTO_ICMP_sockets">Allow unprivileged users to create IPPROTO_ICMP sockets</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> <code>/usr/lib/sysctl.d/50-default.conf</code> sets <code>net.ipv4.ping_group_range</code> to <code>0 2147483647</code>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Sysctl.html">Talk:Sysctl</a>)</div>
</div>
<p>The IPPROTO_ICMP (<span class="plainlinks archwiki-template-man" title="$ man 7 icmp"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/icmp.7">icmp(7)</a></span>) socket type adds the possibility to send ICMP_ECHO messages and receive corresponding ICMP_ECHOREPLY messages without the need to open a <span class="plainlinks archwiki-template-man" title="$ man 7 raw"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/raw.7">raw(7)</a></span> socket, an operation which requires the CAP_NET_RAW <a href="../en/Capabilities.html" title="Capabilities">capability</a> or the SUID bit with a proper privileged owner. These ICMP_ECHO messages are sent by the <a href="../en/Network_configuration.html#Ping" class="mw-redirect" title="Ping">ping</a> application thus making the IPPROTO_ICMP socket also known as ping socket in addition to ICMP Echo socket.
</p>
<p><code>ping_group_range</code> determines the GID range of groups which their users are allowed to create IPPROTO_ICMP sockets. Additionally, the owner of the CAP_NET_RAW capability is also allowed to create IPPROTO_ICMP sockets. By default this range is <code>1 0</code> which means no one is allowed to create IPPROTO_ICMP sockets except root. To take advantage of this setting programs which currently uses raw sockets need to ported to use IPPROTO_ICMP sockets instead. For example, QEMU uses IPPROTO_ICMP for SLIRP aka User-mode networking, so allowing the user running QEMU to create IPPROTO_ICMP sockets means it is possible to ping from the guest.
</p>
<p>To allow only users which are members of the group with GID 100 to create IPPROTO_ICMP sockets:
</p>
<pre>net.ipv4.ping_group_range = 100 100
</pre>
<p>To allow all the users in the system to create IPPROTO_ICMP sockets:
</p>
<pre>net.ipv4.ping_group_range = 0 65535
</pre>
<div class="mw-heading mw-heading2"><h2 id="Virtual_memory">Virtual memory</h2></div>
<p>There are several key parameters to tune the operation of the <a href="https://en.wikipedia.org/wiki/virtual_memory" class="extiw" title="wikipedia:virtual memory">virtual memory</a> subsystem of the Linux kernel and the write out of dirty data to disk. See the official <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/sysctl/vm.html">Linux kernel documentation</a> for more information. For example:
</p>
<ul><li><code>vm.dirty_ratio = 10</code></li></ul>
<dl><dd>Contains, as a percentage of total available memory that contains free pages and reclaimable pages, the number of pages at which a process which is generating disk writes will itself start writing out dirty data.</dd></dl>
<ul><li><code>vm.dirty_background_ratio = 5</code></li></ul>
<dl><dd>Contains, as a percentage of total available memory that contains free pages and reclaimable pages, the number of pages at which the background kernel flusher threads will start writing out dirty data.</dd></dl>
<p>As noted in the comments for the parameters, one needs to consider the total amount of RAM when setting these values. For example, simplifying by taking the installed system RAM instead of available memory:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> 
<ul>
<li>Higher ratio values may increase performance, it also increases the risk of data loss.</li>
<li>Setting this value to <code>0</code> may cause higher latency on disks and spikes.</li>
</ul>
<p>See <a rel="nofollow" class="external free" href="https://lonesysadmin.net/2013/12/22/better-linux-disk-caching-performance-vm-dirty_ratio/">https://lonesysadmin.net/2013/12/22/better-linux-disk-caching-performance-vm-dirty_ratio/</a> for more information.
</p>
</div>
<ul>
<li>Consensus is that setting <code>vm.dirty_ratio</code> to 10% of RAM is a sane value if RAM is say 1 GB (so 10% is 100 MB). But if the machine has much more RAM, say 16 GB (10% is 1.6 GB), the percentage may be out of proportion as it becomes several seconds of writeback on spinning disks. A more sane value in this case may be <code>3</code> (3% of 16 GB is approximately 491 MB).</li>
<li>Similarly, setting <code>vm.dirty_background_ratio</code> to <code>5</code> may be just fine for small memory values, but again, consider and adjust accordingly for the amount of RAM on a particular system.</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="VFS_cache">VFS cache</h3></div>
<p>Decreasing the <a rel="nofollow" class="external text" href="https://docs.kernel.org/filesystems/vfs.html">virtual file system</a> (VFS) cache parameter value may improve system responsiveness:
</p>
<ul><li><code>vm.vfs_cache_pressure = 50</code></li></ul>
<dl><dd>The value controls the tendency of the kernel to reclaim the memory which is used for caching of directory and inode objects (VFS cache). Lowering it from the default value of 100 makes the kernel less inclined to reclaim VFS cache (do not set it to 0, this may produce out-of-memory conditions).</dd></dl>
<div class="mw-heading mw-heading2"><h2 id="MDADM">MDADM</h2></div>
<p>See <a href="../en/RAID.html#Change_sync_speed_limits" title="RAID">RAID#Change sync speed limits</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Small_periodic_system_freezes">Small periodic system freezes</h3></div>
<p>Set dirty bytes to small enough value (for example 4 MiB):
</p>
<pre>vm.dirty_background_bytes = 4194304
vm.dirty_bytes = 4194304
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The <code>dirty_background_bytes</code> and <code>dirty_bytes</code> parameters are counterparts of <code>dirty_background_ratio</code> and <code>dirty_ratio</code> (as seen in <a href="#Virtual_memory">#Virtual memory</a>). Only one of the parameters may be specified at a time.</div>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 sysctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.8">sysctl(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 sysctl.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.conf.5">sysctl.conf(5)</a></span>
</li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/sysctl/index.html">Linux kernel documentation for /proc/sys/</a></li>
<li>Kernel Documentation: <a rel="nofollow" class="external text" href="https://docs.kernel.org/networking/ip-sysctl.html">IP Sysctl</a>
</li>
<li><a rel="nofollow" class="external text" href="https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.kernel.html">Kernel network parameters for sysctl</a></li>
<li><a rel="nofollow" class="external text" href="https://sysctl-explorer.net">sysctl-explorer.net – an initiative to facilitate the access of Linux' sysctl reference documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security_guide/sect-security_guide-server_security-disable-source-routing">Disable Source Routing - Red Hat Customer Portal</a></li>
<li><a rel="nofollow" class="external text" href="https://www.suse.com/documentation/sles11/book_hardening/data/sec_sec_prot_general_kernel.html">SUSE handbook about Security Features in the Kernel</a></li>
<li><a rel="nofollow" class="external text" href="https://enterprise-support.nvidia.com/s/article/linux-sysctl-tuning">Linux sysctl Tuning</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Kernel.html" title="Category:Kernel">Kernel</a></li>
<li><a href="../en/Category:Commands.html" title="Category:Commands">Commands</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sysctl&amp;oldid=834787">https://wiki.archlinux.org/index.php?title=Sysctl&amp;oldid=834787</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 May 2025, at 09:03.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true">sysctl</div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
