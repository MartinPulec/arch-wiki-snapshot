<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Initiative for Open Authentication - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Initiative_for_Open_Authentication rootpage-Initiative_for_Open_Authentication skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Standards" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Standards">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Standards</div>
		</a>
		
		<ul id="toc-Standards-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-URI_credential_format" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#URI_credential_format">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>URI credential format</div>
		</a>
		
		<ul id="toc-URI_credential_format-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Decode_QR_codes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Decode_QR_codes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Decode QR codes</div>
			</a>
			
			<ul id="toc-Decode_QR_codes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Create_QR_codes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Create_QR_codes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Create QR codes</div>
			</a>
			
			<ul id="toc-Create_QR_codes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Generate_keys" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Generate_keys">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Generate keys</div>
			</a>
			
			<ul id="toc-Generate_keys-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Generate_OTPs_from_the_command_line" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Generate_OTPs_from_the_command_line">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Generate OTPs from the command line</div>
			</a>
			
			<ul id="toc-Generate_OTPs_from_the_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Linux_User_authentication_with_PAM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Linux_User_authentication_with_PAM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Linux User authentication with PAM</div>
			</a>
			
			<ul id="toc-Linux_User_authentication_with_PAM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Initiative for Open Authentication</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Initiative_for_Open_Authentication" title="Initiative for Open Authentication – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Universal_2nd_Factor.html" class="mw-redirect" title="U2F">U2F</a></li>
<li><a href="../en/Data-at-rest_encryption.html" title="Data-at-rest encryption">Data-at-rest encryption</a></li>
<li><a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a></li>
<li><a href="../en/Identity_management.html" title="Identity management">identity management</a></li>
<li><a href="../en/YubiKey.html" class="mw-redirect" title="Yubikey">Yubikey</a></li>
<li><a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a></li>
<li><a href="../en/Pass.html" title="Pass">pass</a></li>
</ul>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Initiative_for_Open_Authentication" class="extiw" title="wikipedia:Initiative for Open Authentication">Initiative for Open Authentication</a> (OATH) is an industry-wide collaboration to develop an open reference architecture using open standards to promote the adoption of strong authentication. They publish the standard which Google Authenticator and other common 2-factor applications use.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The following packages can be used to generate, transfer, and validate OATH credentials:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=oath-toolkit">oath-toolkit</a></span> - Takes credentials and generates codes. Includes a PAM module for user authentication. See <a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libpam-google-authenticator">libpam-google-authenticator</a></span> - Offers a client program <code>google-authenticator</code> for generating new credentials and a PAM module for user authentication. See <a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pass-otp">pass-otp</a></span> - Adds OATH support to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pass">pass</a></span>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zbar">zbar</a></span> - Decodes QR codes</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qrencode">qrencode</a></span> - Encodes QR codes</li>
</ul>
<h2><span class="mw-headline" id="Standards">Standards</span></h2>
<p>OATH has created two standards of significance to an Arch user, both based on a Base32-encoded shared secret of arbitrary length:
</p>
<dl>
<dt>HOTP</dt>
<dd>HMAC (Hash-based message authentication code) One-time Password (<a href="https://en.wikipedia.org/wiki/HMAC-based_One-time_Password_algorithm" class="extiw" title="wikipedia:HMAC-based One-time Password algorithm">HOTP</a>). Every time a password is generated, a counter is incremented. This value is concatenated with a secret key, and then hashed to generate a 6-10 digit code. The authenticating party does the same, except it increments a counter when a code is successfully authenticated. To handle desynchronization of the counter, the authenticating party can also check several (30-100) additional values beyond its current counter state.</dd>
<dt>TOTP</dt>
<dd>Time-based one-time-password (<a href="https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm" class="extiw" title="wikipedia:Time-based One-time Password algorithm">TOTP</a>), which works much like HOTP except it uses the current time instead of a counter. This solves the desynchronization problem, and eliminates the possibility of an adversary recording OTPs for use later.</dd>
</dl>
<h2><span class="mw-headline" id="URI_credential_format">URI credential format</span></h2>
<p>Credentials are usually shared in a QR-encoded <a rel="nofollow" class="external text" href="https://github.com/google/google-authenticator/wiki/Key-Uri-Format">URI format</a>. All fields must be URI-encoded strings:
</p>
<pre>otpauth://TYPE/LABEL?PARAMETERS
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> A URI formatted credential, and any QR code generated from it, contains all information required to generate valid one-time passwords. Protect it as you would any other password.</div>
<dl>
<dt>TYPE</dt>
<dd>
<code>totp</code> or <code>hotp</code>
</dd>
<dt>LABEL</dt>
<dd>Identifies which account a key is associated with, optionally prefixed with an issuer string. Example: <code>Arch%20Wiki:alice@archlinux.org</code>
</dd>
<dt>PARAMETERS</dt>
<dd>Take the standard URI parameter format - <code>?name=value&amp;name=value...</code>
</dd>
</dl>
<ul>
<li>
<code>secret</code> - required; this is the Base32 shared secret.</li>
<li>
<code>issuer</code> - Indicates the provider or service the account is associated with. If this is absent, the issuer prefix of the label will be used. If both are present, they should be equal.</li>
<li>
<code>algorithm</code> - <code>SHA1</code> by default. Can also be <code>SHA256</code> or <code>SHA512</code>.</li>
<li>
<code>digits</code> - How long passcodes should be. Default is 6, can be 8.</li>
<li>
<code>counter</code> - Required if using HOTP. Initial counter value.</li>
<li>
<code>period</code> - Optional if using TOTP. Sets how long a code is valid, 30 seconds by default.</li>
</ul>
<p>Here is an example:
</p>
<pre>otpauth://totp/Example%20Company:alice@google.com?secret=JBSWY3DPEHPK3PXP&amp;issuer=Example%20Company
         |type|  issuer prefix  |    account     |         secret        |     issuer            |
              |               label              |                  parameters                   |
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Decode_QR_codes">Decode QR codes</span></h3>
<p>This can be accomplished with tools from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zbar">zbar</a></span>. Decode a PNG file:
</p>
<pre>$ zbarimg my_qr_code.png --quiet --raw
</pre>
<p>Decode images from a camera:
</p>
<pre>$ zbarcam /dev/video0
</pre>
<h3><span class="mw-headline" id="Create_QR_codes">Create QR codes</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qrencode">qrencode</a></span> package is useful here. 
</p>
<p>Encode a URI, save it as a PNG:
</p>
<pre>$ qrencode -o my_code.png 'MY_URI'
</pre>
<p>Encode a URI, print a QR code to the terminal:
</p>
<pre>$ qrencode -t ansiutf8 'MY_URI'
</pre>
<h3><span class="mw-headline" id="Generate_keys">Generate keys</span></h3>
<p>To generate your own key in the proper format, you can use something like the following:
</p>
<pre>$ head -c 16 /dev/urandom | base32 --wrap 0
</pre>
<h3><span class="mw-headline" id="Generate_OTPs_from_the_command_line">Generate OTPs from the command line</span></h3>
<p>Use <span class="plainlinks archwiki-template-man" title="$ man 1 oathtool"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/oathtool.1">oathtool(1)</a></span> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=oath-toolkit">oath-toolkit</a></span>:
</p>
<pre>$ oathtool --base32 --totp KEY
</pre>
<p>Many password managers, including <a href="../en/Pass.html" title="Pass">pass</a> and <a href="../en/KeePass.html" title="KeePass">KeePass</a> also offer support for generating these codes.
</p>
<h3><span class="mw-headline" id="Linux_User_authentication_with_PAM">Linux User authentication with PAM</span></h3>
<p>See either <a href="../en/Pam_oath.html" title="Pam oath">pam_oath</a> or <a href="../en/Google_Authenticator.html" title="Google Authenticator">Google Authenticator</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://openauthentication.org/specifications-technical-resources/">Standard specifications</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/google/google-authenticator/wiki/Key-Uri-Format">URI format reference</a></li>
<li>
<a rel="nofollow" class="external text" href="https://zxing.org/w/decode.jspx">QR and barcode decoder</a> - Do not enter actual credentials here.</li>
<li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20210127122609/https://rootprojects.org/authenticator/">QR code tester (archive.org)</a> - Do not enter actual credentials here.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Authentication.html" title="Category:Authentication">Authentication</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Initiative_for_Open_Authentication&amp;oldid=814608">https://wiki.archlinux.org/index.php?title=Initiative_for_Open_Authentication&amp;oldid=814608</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 August 2024, at 10:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
