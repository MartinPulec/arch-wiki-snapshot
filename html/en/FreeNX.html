<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>FreeNX - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-FreeNX rootpage-FreeNX skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Server" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Server">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Server</div>
			</a>
			
			<ul id="toc-Server-sublist" class="vector-toc-list">
				<li id="toc-SSHD" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SSHD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>SSHD</div>
			</a>
			
			<ul id="toc-SSHD-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Main_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Main_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>Main configuration</div>
			</a>
			
			<ul id="toc-Main_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Keys" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Keys">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.3</span>Keys</div>
			</a>
			
			<ul id="toc-Keys-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Starting_the_server" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Starting_the_server">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.4</span>Starting the server</div>
			</a>
			
			<ul id="toc-Starting_the_server-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Client" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Client">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Client</div>
			</a>
			
			<ul id="toc-Client-sublist" class="vector-toc-list">
				<li id="toc-Arch_Linux" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Arch_Linux">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Arch Linux</div>
			</a>
			
			<ul id="toc-Arch_Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Windows</div>
			</a>
			
			<ul id="toc-Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configuration_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.3</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Running" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Running">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Running</div>
		</a>
		
			<button aria-controls="toc-Running-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Running subsection</span>
			</button>
		
		<ul id="toc-Running-sublist" class="vector-toc-list">
			<li id="toc-Keyboard_shortcuts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard_shortcuts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Keyboard shortcuts</div>
			</a>
			
			<ul id="toc-Keyboard_shortcuts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Leaving_fullscreen" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Leaving_fullscreen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Leaving fullscreen</div>
			</a>
			
			<ul id="toc-Leaving_fullscreen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tips_on_resume" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tips_on_resume">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Tips on resume</div>
			</a>
			
			<ul id="toc-Tips_on_resume-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fix_DPI_settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fix_DPI_settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Fix DPI settings</div>
			</a>
			
			<ul id="toc-Fix_DPI_settings-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-FreeNX_to_existing_display" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#FreeNX_to_existing_display">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>FreeNX to existing display</div>
		</a>
		
		<ul id="toc-FreeNX_to_existing_display-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Setting_up_non-KDE_or_GNOME_desktop_managers" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Setting_up_non-KDE_or_GNOME_desktop_managers">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Setting up non-KDE or GNOME desktop managers</div>
		</a>
		
			<button aria-controls="toc-Setting_up_non-KDE_or_GNOME_desktop_managers-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Setting up non-KDE or GNOME desktop managers subsection</span>
			</button>
		
		<ul id="toc-Setting_up_non-KDE_or_GNOME_desktop_managers-sublist" class="vector-toc-list">
			<li id="toc-Alternative_fix" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Alternative_fix">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Alternative fix</div>
			</a>
			
			<ul id="toc-Alternative_fix-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Problems" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Problems">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Problems</div>
		</a>
		
			<button aria-controls="toc-Problems-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Problems subsection</span>
			</button>
		
		<ul id="toc-Problems-sublist" class="vector-toc-list">
			<li id="toc-Keyboard_Mapping_problems" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard_Mapping_problems">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Keyboard Mapping problems</div>
			</a>
			
			<ul id="toc-Keyboard_Mapping_problems-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Debug_problems" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Debug_problems">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Debug problems</div>
			</a>
			
			<ul id="toc-Debug_problems-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Authentication_OK,_but_connection_fails" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Authentication_OK,_but_connection_fails">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Authentication OK, but connection fails</div>
			</a>
			
			<ul id="toc-Authentication_OK,_but_connection_fails-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Key_changes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Key_changes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Key changes</div>
			</a>
			
			<ul id="toc-Key_changes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wrong_password_/_No_connection_possible_/_Key-based_authentication" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wrong_password_/_No_connection_possible_/_Key-based_authentication">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Wrong password / No connection possible / Key-based authentication</div>
			</a>
			
			<ul id="toc-Wrong_password_/_No_connection_possible_/_Key-based_authentication-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NX_crashes_on_session_startup" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NX_crashes_on_session_startup">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>NX crashes on session startup</div>
			</a>
			
			<ul id="toc-NX_crashes_on_session_startup-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NX_logo_then_blank_screen" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NX_logo_then_blank_screen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>NX logo then blank screen</div>
			</a>
			
			<ul id="toc-NX_logo_then_blank_screen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM/XDM_Session_Menu_Error_with_non-KDE_or_GNOME_Desktop_Managers_(more_common_with_non-Arch_Linux_users)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GDM/XDM_Session_Menu_Error_with_non-KDE_or_GNOME_Desktop_Managers_(more_common_with_non-Arch_Linux_users)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8</span>GDM/XDM Session Menu Error with non-KDE or GNOME Desktop Managers (more common with non-Arch Linux users)</div>
			</a>
			
			<ul id="toc-GDM/XDM_Session_Menu_Error_with_non-KDE_or_GNOME_Desktop_Managers_(more_common_with_non-Arch_Linux_users)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cannot_connect_because_command_sessreg_not_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cannot_connect_because_command_sessreg_not_found">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.9</span>Cannot connect because command sessreg not found</div>
			</a>
			
			<ul id="toc-Cannot_connect_because_command_sessreg_not_found-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Broken_resume_with_Cairo_1.12.x" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Broken_resume_with_Cairo_1.12.x">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.10</span>Broken resume with Cairo 1.12.x</div>
			</a>
			
			<ul id="toc-Broken_resume_with_Cairo_1.12.x-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Eclipse_crashes_when_editing_a_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Eclipse_crashes_when_editing_a_file">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.11</span>Eclipse crashes when editing a file</div>
			</a>
			
			<ul id="toc-Eclipse_crashes_when_editing_a_file-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">FreeNX</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/FreeNX" title="FreeNX – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://www.berlios.de/software/freenx/">FreeNX, German text</a>, is a system that allows you to access your desktop from another computer over the Internet. The program is open source, secure (<a href="../en/Secure_Shell.html" class="mw-redirect" title="SSH">SSH</a> based), fast and versatile. <a href="../en/PKGBUILD.html#license" class="mw-redirect" title="License">License</a>: GPL. It was the non-commercial version of <a href="../en/NoMachine.html" title="NoMachine">NoMachine</a>, which has meanwhile switched to closed source. A good FreeNX alternative is <a href="../en/X2Go.html" title="X2Go">X2Go</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Get FreeNX/Nomachine from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nx3-all/">nx3-all</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nomachine/">nomachine</a></span><sup><small>AUR</small></sup>. Both server and client packages are included in the package.
The sshd daemon (available in openssh package) must be installed and running for it to function properly.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Server">Server</span></h3>
<h4><span class="mw-headline" id="SSHD">SSHD</span></h4>
<p>For freenx authentication to work, sshd has to be setup properly.
You need to allow RSAauthentication, Password Authentication, and you also need to include nx public keys to Authorizedkeysfile.
</p>
<p>If you do not want to allow password login globally, add match block at the end of file like below: <code>/etc/ssh/sshd_config</code>:
</p>
<pre>RSAAuthentication yes
PubkeyAuthentication yes
PasswordAuthentication no
PermitEmptyPasswords yes
AuthorizedKeysFile /usr/NX/home/nx/.ssh/authorized_keys /usr/NX/home/nx/.ssh/authorized_keys2
#
#
#
Match Address 127.0.0.1
  PasswordAuthentication yes
</pre>
<h4><span class="mw-headline" id="Main_configuration">Main configuration</span></h4>
<p>The main configuration file is located at <code>/usr/NX/etc/node.cfg</code>.
</p>
<p><i>If you are running your SSH daemon on a port other than the default port 22, you will need to uncomment and update:</i><code>SSHD_PORT=22</code>
</p>
<p>If you use KDE or GNOME desktop environments you do not need to edit this file, as the defaults with the modified MD5SUM command should work in this case.  If you use another window manager such as Fluxbox/Openbox or Xfce, you may need to edit this file slightly (see below).
</p>
<p>Or if you are not using CDE but Xfce you could simply edit CDE line like below and start cde from the client:
</p>
<pre>CommandStartCDE = "/usr/bin/startxfce4"
</pre>
<p>For an overview of the install and uninstall procedures, run the following after installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nx3-all/">nx3-all</a></span><sup><small>AUR</small></sup>: 
</p>
<pre># /usr/NX/scripts/setup/nxserver --help</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>You should also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdialog">xdialog</a></span> on the server or you will not see the "suspend/terminate" dialog when you try to close the window or hit <code>Ctrl+Alt+t</code>.</li>
<li>Although mostly assumed that you will have it already, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xterm">xterm</a></span> is also necessary for some things.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Keys">Keys</span></h4>
<p>Keys are used to authenticate the clients with the server by default. You could used the default key created during installation or you could create a new pair.
If you create your own key pair, make sure you add the directory of the public key to authorizedkeyfiles in sshd_config and also SSHAuthorizedKeys in node.cfg. And Do not forget to send the private key to the client.
</p>
<p>The public key can be found here check :
</p>
<pre>/usr/NX/home/nx/.ssh/authorized_keys2
</pre>
<p>The private key can be found here:
</p>
<pre>/usr/NX/share/keys/server.id_dsa.key
</pre>
<p>Recreation of random keys:
</p>
<pre>/usr/NX/bin/nxserver --keygen
</pre>
<p>You can check if the nxserver is running by:
</p>
<pre>/usr/NX/bin/nxserver --status 
</pre>
<p>You can also check if a desired user can be logged on by:
</p>
<pre>/usr/NX/bin/nxserver --usercheck USERNAME
</pre>
<h4><span class="mw-headline" id="Starting_the_server">Starting the server</span></h4>
<p>As of installation nxserver is set to start up automatically, however, you are likely to need to restart the server after setting up:
</p>
<pre>/usr/NX/bin/nxserver --restart
</pre>
<h3><span class="mw-headline" id="Client">Client</span></h3>
<h4><span class="mw-headline" id="Arch_Linux">Arch Linux</span></h4>
<p>Install one or both of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/opennx/">opennx</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nx3-all/">nx3-all</a></span><sup><small>AUR</small></sup> packages.
</p>
<h4><span class="mw-headline" id="Windows">Windows</span></h4>
<p>Get the client from nomachine's homepage: <a rel="nofollow" class="external free" href="https://www.nomachine.com">https://www.nomachine.com</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Nomachine tends to remove old clients from their homepage,
If your setup works with a client save it in a safe place.</div>
<h4><span class="mw-headline" id="Configuration_2">Configuration</span></h4>
<p>As mentioned above, the client must contain the correct key to connect to the server.  If you are using the custom keys generated during install, you need to copy the client key to the following locations:
</p>
<ul>
<li>Windows: <code><i>your_install_dir_on_windows</i>/share/keys/client.id_dsa.key</code>
</li>
<li>Arch Linux: <code>/usr/lib/nx/share/keys/client.id_dsa.key</code>
</li>
</ul>
<p>After moving the keys you may have use the nxclient GUI to import the new keys.  From the configuration dialog press the 'Key...' button and import the new client key.
</p>
<h2><span class="mw-headline" id="Running">Running</span></h2>
<p>After installing nxclient on Arch Linux, executables are available in <code>/usr/lib/nx/bin/</code> symlinked to <code>/usr/bin/</code>. At the first run of <code>/usr/bin/nxclient</code>, the user will be led through a wizard.
</p>
<h3><span class="mw-headline" id="Keyboard_shortcuts">Keyboard shortcuts</span></h3>
<table class="wikitable">
<tbody>
<tr>
<th>Keyboard Shortcut
</th>
<th>Description
</th>
</tr>
<tr>
<td>
<code>Ctrl+Alt+f</code>
</td>
<td>Toggles full-screen mode.
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+t</code>
</td>
<td>Shows the terminate, suspend dialog.
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+m</code>
</td>
<td>Maximizes or minimizes the window.
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+Mouse</code>
</td>
<td>Drags the viewport, so you can view different portions of the desktop.
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+Arrows/Keypad</code>
</td>
<td>Moves the viewport by an incremental amount of pixels.
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+s</code>
</td>
<td>Activates "screen-scraping" mode, so all the GetImage originated by the clients will be forwarded to the real display.
<p>By pressing the sequence again, nxagent will revert to the usual "fast" mode.
</p>
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+e</code>
</td>
<td>lazy image encoding
</td>
</tr>
<tr>
<td>
<code>Ctrl+Alt+Shift+Esc</code>
</td>
<td>Emergency-exit and kill-window
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Leaving_fullscreen">Leaving fullscreen</span></h3>
<p>There is a magic-pixel in the top right corner of nearly every nx-application
in fullscreenmode. Left-click the pixel and application-window gets iconified.
</p>
<h3><span class="mw-headline" id="Tips_on_resume">Tips on resume</span></h3>
<ul>
<li>Resume is a bit experimental, crashes might appear after session has resumed. You have to find out which applications like resuming and which do not ;) .</li>
<li>Resuming between Linux and Windows sessions does not work. UPDATE: It appears that version 3.2.0-14 is able to resume Windows-suspended sessions.</li>
<li>If resume fails let it time out and do not use the cancel button, else sessions will stay open and consume RAM on server. To kill such sessions use the Session Admin program to kill them.</li>
</ul>
<h3><span class="mw-headline" id="Fix_DPI_settings">Fix DPI settings</span></h3>
<p>If you like to have the same font-sizes/dpi sizes on all your client session, set the X resource <code>Xft.dpi</code>. For example putting the following line into a user's <code>~/.Xresources</code> makes their "desktop" a 100dpi.
</p>
<pre>Xft.dpi: 100
</pre>
<h2><span class="mw-headline" id="FreeNX_to_existing_display">FreeNX to existing display</span></h2>
<p>Usually, when connecting to a NX server, a new X session is created. Sometimes it might be useful, to connect to an existing X session, e.g. the root session. This is not possible with NX in default setup, but can be reached, using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tightvnc/">tightvnc</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x11vnc">x11vnc</a></span>. Install them on the NX server system.
</p>
<p>x11vnc will serve the X session, we have to create a file <code>$HOME/.x11vncrc</code> to give x11vnc some options, e.g.:
</p>
<pre>display :0
shared
forever
localhost
rfbauth /home/<i>user</i>/.x11vnc/passwd
</pre>
<p>Create the VNC password file:
</p>
<pre>$ mkdir $HOME/.x11vnc
$ x11vnc -storepasswd PASSWORD $HOME/.x11vnc/passwd
$ chmod 600 $HOME/.x11vnc/passwd
</pre>
<p>Create a shell script, which starts the x11vnc service, if not running and starts the vncviewer provided by the package tightvnc.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The variable <code>$VNC_PORT</code> in the following script defines the X display, which is configured as <code>display :0</code> under <code>$HOME/.x11vncrc</code>, <code>590<b>0</b></code> is the root session, if you want to use <code>display :1</code> use the port <code>590<b>1</b></code> and so on</div>
<pre>#!/bin/sh
VNC_VIEWER=vncviewer
VNC_SERVER=x11vnc
VNC_RESOLUTION=1024x786
VNC_PASSWD=/home/USER/.x11vnc/passwd
VNC_PORT=5900

if [ -z "$(pgrep ${VNC_SERVER})" ]; then
	echo $VNC_SERVER not running, starting...
	exec $VNC_SERVER &amp;
	sleep 5
fi

exec $VNC_VIEWER -geometry $VNC_RESOLUTION -passwd $VNC_PASSWD localhost::$VNC_PORT
</pre>
<p>Save this script with a texteditor of your choice, e.g. under <code>$HOME/shell/nxvnc.sh</code>. Make it executable and create a symbolic link, e.g:
</p>
<pre>$ chmod +x $HOME/shell/nxvnc.sh
# ln -s /home/USER/shell/nxvnc.sh /usr/local/bin/nxvnc
</pre>
<p>At this point, you might want to test the current configuration:
</p>
<pre>$ /usr/local/bin/nxvnc
</pre>
<p>If the x11vnc service and a vncviewer session is started, you configuration works well. You are now able to connect to the current X session using your NX client with following options:
</p>
<pre>Login, Password, Host, Port: your default entries
Desktop: Unix -&gt; Custom
 - Settings:
   - Run the following command: /usr/local/bin/nxvnc
   - New virtual desktop
Display:
  - Fullscreen or Custom with you preferred resolution
</pre>
<p>You are able to connect to your current X session via NX client now.
</p>
<dl><dd>— <a rel="nofollow" class="external text" href="https://en.opensuse.org/SDB:FreeNX_to_existing_display">FreeNX to existing display (opensuse.org)</a>
</dd></dl>
<h2><span class="mw-headline" id="Setting_up_non-KDE_or_GNOME_desktop_managers">Setting up non-KDE or GNOME desktop managers</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> First person. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:FreeNX.html">Talk:FreeNX</a>)</div>
</div>
<p>Before following anything in this part, make sure the server working setup and accepting connections. This section only deals with problems once NXClient has logged on.
</p>
<p>It is quite simple (once the server is setup) to connect to GNOME and KDE sessions, however connecting to other window managers (Fluxbox, Xfce, whatever) is slightly different.
</p>
<p>Choosing "custom" and using a command like startx of startfluxbox will either result in a blank screen after the !M logo or the Client to present an error complaining about lack of a X server. A way around this is open a session with the command "startx", and the another with the command to start your window-manager-of-choice.
</p>
<p>If you do not want to do this, you can start X by <a href="../en/Display_manager.html" title="Display manager">installing a login manager like SLIM or XDM</a>. I would recommend using SLiM because of its small size.
</p>
<p>(Authors note: This is how I got fluxbox, xfce and others to work on my arch installation- however, I have now removed slim from inittab and set the run level back to 3, and yet I can still login perfectly with NXClient. Possibly try this if you get your system working this way, if like me you have a low memory machine.)
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The above information may not be true anymore. Once connection and authentication were valid (and xterm was installed on mine), startfluxbox was added to the custom command line, new window was selected, and it started right up.</div>
<h3><span class="mw-headline" id="Alternative_fix">Alternative fix</span></h3>
<p>A simple fix without resorting to the above seems to involve a simple edit to the configuration file.  This should work for Fluxbox/Openbox/XFCE or any other window manager that uses the <code>.xinitrc</code> startup file in a call to <i>startx</i>.
</p>
<p>Simply edit the configuration file <code>/etc/nxserver/node.conf</code> as root and change:
</p>
<pre>#USER_X_STARTUP_SCRIPT=.Xclients
</pre>
<p>to:
</p>
<pre>USER_X_STARTUP_SCRIPT=.xinitrc
</pre>
<p>Remember to remove the # symbol from the start of the line.
</p>
<p>Then in the client under configuration settings, choose <b>Custom</b> as the desktop, and click on settings:
</p>
<ul>
<li>In the first group select -  <b><code>Run the default X client Script on server</code></b>
</li>
<li>In the second group select - <b><code>New virtual desktop</code></b>
</li>
</ul>
<h2><span class="mw-headline" id="Problems">Problems</span></h2>
<h3><span class="mw-headline" id="Keyboard_Mapping_problems">Keyboard Mapping problems</span></h3>
<p>Keyboard layout aways falls back to en_US.
</p>
<p>After login, run setxkbmap with your layout.
</p>
<p>Example:
</p>
<pre> $ setxkbmap -layout br
</pre>
<p>or create the file <code>/usr/share/X11/xkb/keymap.dir</code>
</p>
<pre> # touch /usr/share/X11/xkb/keymap.dir
</pre>
<p>Creating this file will fix the issue for the next logins.
</p>
<h3><span class="mw-headline" id="Debug_problems">Debug problems</span></h3>
<p>Edit the nxserver configuration file <code>/etc/nxserver/node.conf</code> and change:
</p>
<pre> #SESSION_LOG_CLEAN=1
</pre>
<p>to 
</p>
<pre> SESSION_LOG_CLEAN=0
</pre>
<p>Then you can look/debug the log files in:
</p>
<pre> $HOME/.nx/T-C-<i>hostname</i>-<i>display</i>-<i>session-id</i>
</pre>
<p>For succesfull connections and:
</p>
<pre> $HOME/.nx/F-C-<i>hostname</i>-<i>display</i>-<i>session-id</i>
</pre>
<p>For failed ones.
</p>
<h3>
<span id="Authentication_OK.2C_but_connection_fails"></span><span class="mw-headline" id="Authentication_OK,_but_connection_fails">Authentication OK, but connection fails</span>
</h3>
<p>If you are trying to start KDE edit <code>/etc/nxserver/node.conf</code> and search for:
</p>
<pre> COMMAND_START_KDE=startkde
</pre>
<p>Replace for:
</p>
<pre> COMMAND_START_KDE=/usr/bin/startkde
</pre>
<h3><span class="mw-headline" id="Key_changes">Key changes</span></h3>
<p>Change the key in GUI setup to new generated key.
</p>
<h3>
<span id="Wrong_password_.2F_No_connection_possible_.2F_Key-based_authentication"></span><span class="mw-headline" id="Wrong_password_/_No_connection_possible_/_Key-based_authentication">Wrong password / No connection possible / Key-based authentication</span>
</h3>
<ul><li>If you have changed your ssh daemon to run on an alternate port, be sure to modify SSHD_PORT within /etc/nxserver/node.conf.</li></ul>
<ul><li>If you get always wrong password or no connection after authentication was done and you are sure that you typed it correct, check that your server can connect to itself using localhost by ssh.</li></ul>
<ul><li>If you messed up your key files, create new ones or fix the old ones, it is probably caused by a wrong known_hosts file.</li></ul>
<ul><li>If you get wrong password or login, put <b>ENABLE_PASSDB_AUTHENTICATION="1"</b> in <code>/etc/nxserver/node.conf</code> and add a user by</li></ul>
<pre># /usr/bin/nxserver --adduser [username]
# /usr/bin/nxserver --passwd [username]
</pre>
<ul><li>The above commands are also necessary if you have disabled password authentication in ssh and instead are using key-based authentication.</li></ul>
<h3><span class="mw-headline" id="NX_crashes_on_session_startup">NX crashes on session startup</span></h3>
<p>If your NX Client shows the NX logo then disappears with a Connection Problem dialog afterwards.
</p>
<h3><span class="mw-headline" id="NX_logo_then_blank_screen">NX logo then blank screen</span></h3>
<p>If you see the NX logo (!M) then a blank screen.
</p>
<p>This problem can be solved by running a login manager- The problem is that X11 is not started, and it appears that "startx" or similar do not work from the freenx client.
Follow these instructions to setup a login manager and load it at startup: <a href="../en/Display_manager.html" title="Display manager">Display manager</a>
</p>
<p>Blind: If this does not resolve your issues, be aware that freenx and bash_completion do not play well together. I only got things to work after removing bash_completion from the .bashrc.
</p>
<h3>
<span id="GDM.2FXDM_Session_Menu_Error_with_non-KDE_or_GNOME_Desktop_Managers_.28more_common_with_non-Arch_Linux_users.29"></span><span class="mw-headline" id="GDM/XDM_Session_Menu_Error_with_non-KDE_or_GNOME_Desktop_Managers_(more_common_with_non-Arch_Linux_users)">GDM/XDM Session Menu Error with non-KDE or GNOME Desktop Managers (more common with non-Arch Linux users)</span>
</h3>
<p>Problem: A session menu comes up talking about "chooseSessionListWidget." A window manager never loads.
</p>
<p>Double check to see if .xinitrc is <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>, if not make it so: 
</p>
<pre>stat -c "%A" ~/.xinitrc
</pre>
<p>Keep in mind this command should be executed along with pertinent instructions on this page about <a href="#Setting_up_non-KDE_or_GNOME_desktop_managers">setting up non-KDE or GNOME desktop managers</a>.
</p>
<h3><span class="mw-headline" id="Cannot_connect_because_command_sessreg_not_found">Cannot connect because command sessreg not found</span></h3>
<p>If you get the following error while connecting:
</p>
<pre> /usr/bin/nxserver: line 941: sessreg: command not found
 NX&gt; 280 Exiting on signal: 15
</pre>
<p>then you have to install the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-sessreg">xorg-sessreg</a></span>.
</p>
<h3><span class="mw-headline" id="Broken_resume_with_Cairo_1.12.x">Broken resume with Cairo 1.12.x</span></h3>
<p>Latest cairo updates broke the render extension. After resuming a session all characters from before suspending will not get rendered. To fix this add this single line to  <code>/etc/nxserver/node.conf</code>.
</p>
<pre> AGENT_EXTRA_OPTIONS_X="-norender"
</pre>
<h3><span class="mw-headline" id="Eclipse_crashes_when_editing_a_file">Eclipse crashes when editing a file</span></h3>
<pre>The program 'Eclipse' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadValue (integer parameter out of range for operation)'.
(Details: serial 8414 error_code 2 request_code 149 minor_code 26)
</pre>
<p>Start eclipse using (see <a rel="nofollow" class="external autonumber" href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=386955">[1]</a>):
</p>
<pre>$ eclipse -vmargs -Dorg.eclipse.swt.internal.gtk.cairoGraphics=false
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Remote_desktop.html" title="Category:Remote desktop">Remote desktop</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=FreeNX&amp;oldid=789954">https://wiki.archlinux.org/index.php?title=FreeNX&amp;oldid=789954</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 October 2023, at 14:55.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
