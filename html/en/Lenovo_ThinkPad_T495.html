<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad T495 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_T495 rootpage-Lenovo_ThinkPad_T495 skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Fingerprint_Sensor" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fingerprint_Sensor">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Fingerprint Sensor</span>
			</div>
		</a>
		
		<ul id="toc-Fingerprint_Sensor-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Battery_and_power_management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Battery_and_power_management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Battery and power management</span>
			</div>
		</a>
		
		<ul id="toc-Battery_and_power_management-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Ethernet_connection" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Ethernet_connection">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Ethernet connection</span>
			</div>
		</a>
		
		<ul id="toc-Ethernet_connection-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Known_Issues" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Known_Issues">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Known Issues</span>
			</div>
		</a>
		
		<ul id="toc-Known_Issues-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Lenovo ThinkPad T495</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Lenovo_ThinkPad_T495" title="Lenovo ThinkPad T495 – 日本語" lang="ja" hreflang="ja" data-title="Lenovo ThinkPad T495" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> The hardware table needs IDs added. A function keys section is missing. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Lenovo_ThinkPad_T495.html">Talk:Lenovo ThinkPad T495</a>)</div>
</div>
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>GPU</td>
<td><code>06:00.0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>8087:0025</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>06:00.6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>TrackPoint</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchpad</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td><code>13d3:56a6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>8087:0025</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Untested
</td>
</tr>
<tr>
<td>Fingerprint scanner</td>
<td><code>06cb:00bd</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>MicroSD Reader</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Smartcard Reader</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Fingerprint_Sensor">Fingerprint Sensor</span></h2>
<p>The fingerprint sensor works with some recent firmware and software updates.
</p>
<ol>
<li>Use <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> to install the latest firmware for "Synaptics Prometheus Fingerprint Reader". The update might have to be done manually as the released firmware is in testing; or you could <a rel="nofollow" class="external text" href="https://github.com/fwupd/fwupd/wiki/LVFS-Testing-remote">enable the testing remote in fwupd</a> to allow automated upgrade. The relevant firmwares are <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.firmware">Prometheus Fingerprint Reader</a> and <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.config">Prometheus Fingerprint Reader Configuration</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fprintd">fprintd</a></span> ≥ 1.90.1 and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfprint">libfprint</a></span> ≥ 1.90.1 are required.</li>
</ol>
<p><a href="../en/Fprint.html" title="Fprint">fprint</a> has more details on how to setup the fingerprint, for <a href="../en/PAM.html" title="PAM">PAM</a>-based authentication for example.
</p>
<h2><span class="mw-headline" id="Battery_and_power_management">Battery and power management</span></h2>
<p>TLP prevents plugged in USB devices from working when running on battery. This can be fixed by blacklisting power management of the USB3.1 PCI device in TLP. Find the proper USB IDs via:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><b>05:00.3</b> USB controller: Advanced Micro Devices, Inc. [AMD] Raven USB 3.1
<b>05:00.4</b> USB controller: Advanced Micro Devices, Inc. [AMD] Raven USB 3.1</pre>
<p>and <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">create</a> the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tlp.d/01-usb.conf </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">RUNTIME_PM_BLACKLIST="<b>05:00.3 05:00.4</b>"</pre>
<h2><span class="mw-headline" id="Ethernet_connection">Ethernet connection</span></h2>
<p>Some models might have issues in noticing ethernet's link state changes (cable connect/disconnect events) when running on battery.
</p>
<p>The issue can be noticed by trying to connect the ethernet cable while the computer is running on battery: if there is no connection until you connect the power cable you are affected.
</p>
<p>To fix the issue one can try blacklisting the <code>r8169</code> module by appending the following line to <code>/etc/modprobe.d/blacklist.conf</code>:
</p>
<pre>blacklist r8169</pre>
<p>Install then the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/r8168/">r8168</a></span><sup><small>AUR</small></sup> package (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=r8168-lts">r8168-lts</a></span> if running the <code>linux-lts</code>, or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/r8168-dkms/">r8168-dkms</a></span><sup><small>AUR</small></sup> for other kernels).
</p>
<p>Reboot and the problem should be gone.
</p>
<h2><span class="mw-headline" id="Known_Issues">Known Issues</span></h2>
<p>The following issues are commonly seen even with recent kernels such as 5.9.3:
</p>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel warning: irq 7: nobody cared</code></div>
<div class="mw-collapsible-content">
<pre>[ 6402.261413] irq 7: nobody cared (try booting with the "irqpoll" option)
[ 6402.261423] CPU: 0 PID: 0 Comm: swapper/0 Tainted: G        W         5.5.0-rc2 #1-NixOS
[ 6402.261425] Hardware name: LENOVO 20NJCTO1WW/20NJCTO1WW, BIOS R12ET46W(1.16 ) 10/28/2019
[ 6402.261426] Call Trace:
[ 6402.261430]  &lt;IRQ&gt;
[ 6402.261439]  dump_stack+0x66/0x90
[ 6402.261444]  __report_bad_irq+0x37/0xb1
[ 6402.261449]  note_interrupt.cold.10+0xa/0x6d
[ 6402.261452]  handle_irq_event_percpu+0x6a/0x80
[ 6402.261455]  handle_irq_event+0x3c/0x5c
[ 6402.261459]  handle_fasteoi_irq+0xa3/0x150
[ 6402.261463]  do_IRQ+0x51/0xe0
[ 6402.261465]  common_interrupt+0xf/0xf
[ 6402.261467]  &lt;/IRQ&gt;
[ 6402.261472] RIP: 0010:cpuidle_enter_state+0xbe/0x3f0
[ 6402.261476] Code: e8 27 c6 b3 ff 80 7c 24 13 00 74 17 9c 58 0f 1f 44 00 00 f6 c4 02 0f 85 d5 02 00 00 31 ff e8 f9 d3 b9 ff fb 66 0f 1f 44 00 00 &lt;85&gt; ed 0f 88 42 02 00 00 48 63 c5 4c 8b 3c 24 4c 2b 7c 24 08 48 8d
[ 6402.261478] RSP: 0018:ffffffff95a03e48 EFLAGS: 00000246 ORIG_RAX: ffffffffffffffc8
[ 6402.261482] RAX: ffff8e4a38a2c300 RBX: ffff8e4a3482b800 RCX: 000000000000001f
[ 6402.261483] RDX: 000005d2a483e85f RSI: 0000000037c1c5c9 RDI: 0000000000000000
[ 6402.261485] RBP: 0000000000000002 R08: 0000000000000002 R09: 000000000002bb80
[ 6402.261486] R10: 0000000270e10990 R11: ffff8e4a38a2b3e4 R12: ffffffff95ab9da0
[ 6402.261487] R13: ffffffff95ab9e88 R14: 0000000000000002 R15: 0000000000000002
[ 6402.261493]  ? cpuidle_enter_state+0x99/0x3f0
[ 6402.261496]  cpuidle_enter+0x29/0x40
[ 6402.261501]  do_idle+0x22b/0x260
[ 6402.261506]  cpu_startup_entry+0x19/0x20
[ 6402.261509]  start_kernel+0x4e2/0x504
[ 6402.261514]  secondary_startup_64+0xb6/0xc0
[ 6402.261517] handlers:
[ 6402.261524] [&lt;000000002329e34f&gt;] amd_gpio_irq_handler [pinctrl_amd]
[ 6402.261527] Disabling IRQ #7
</pre>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=201817">https://bugzilla.kernel.org/show_bug.cgi?id=201817</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel warning: nvme_poll_irqdisable</code></div>
<div class="mw-collapsible-content">
<pre>[ 6390.413248] ------------[ cut here ]------------
[ 6390.413259] WARNING: CPU: 4 PID: 13706 at kernel/irq/chip.c:210 irq_startup+0xe1/0xf0
[ 6390.413260] Modules linked in: cpufreq_powersave fuse ctr ccm af_packet cmac algif_hash bnep uvcvideo videobuf2_vmalloc videobuf2_memops videobuf2_v4l2 videobuf2_common videodev mc joydev mousedev btusb btrtl btbcm btintel bluetooth uas ecdh_generic ecc crc16 amdgpu wmi_bmof iwlmvm amd_iommu_v2 gpu_sched mac80211 ttm edac_mce_amd edac_core snd_hda_codec_realtek drm_kms_helper libarc4 snd_hda_codec_generic snd_hda_codec_hdmi deflate efi_pstore pstore nls_iso8859_1 drm evdev crct10dif_pclmul nls_cp437 iwlwifi snd_hda_intel mac_hid ghash_clmulni_intel vfat sp5100_tco fat psmouse snd_intel_dspcfg agpgart serio_raw tpm_crb r8169 i2c_algo_bit snd_hda_codec efivars watchdog fb_sys_fops tpm_tis realtek tpm_tis_core snd_hda_core syscopyarea k10temp ucsi_acpi thinkpad_acpi sysfillrect i2c_piix4 snd_pci_acp3x cfg80211 sysimgblt snd_hwdep typec_ucsi ipmi_devintf libphy nvram tpm 8250_pci ledtrig_audio ipmi_msghandler typec rng_core wmi rfkill video i2c_scmi battery ac backlight i2c_core pinctrl_amd
[ 6390.413323]  button acpi_cpufreq ip6table_nat iptable_nat nf_nat xt_conntrack nf_conntrack nf_defrag_ipv4 libcrc32c crc32c_generic ip6t_rpfilter ipt_rpfilter ip6table_raw iptable_raw xt_pkttype nf_log_ipv6 nf_log_ipv4 nf_log_common xt_LOG xt_tcpudp ip6table_filter ip6_tables iptable_filter sch_fq_codel snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd soundcore msr loop cpufreq_ondemand tun tap macvlan bridge stp llc kvm_amd kvm irqbypass efivarfs ip_tables x_tables ipv6 nf_defrag_ipv6 crc_ccitt autofs4 f2fs dm_crypt algif_skcipher af_alg sd_mod usb_storage scsi_mod input_leds rtsx_pci_sdmmc led_class mmc_core atkbd libps2 crc32_pclmul crc32c_intel xhci_pci xhci_hcd ehci_pci aesni_intel ehci_hcd crypto_simd usbcore cryptd glue_helper nvme rtsx_pci nvme_core usb_common i8042 rtc_cmos serio dm_mod
[ 6390.413371] CPU: 4 PID: 13706 Comm: kworker/u32:9 Tainted: G        W         5.5.0-rc2 #1-NixOS
[ 6390.413372] Hardware name: LENOVO 20NJCTO1WW/20NJCTO1WW, BIOS R12ET46W(1.16 ) 10/28/2019
[ 6390.413378] Workqueue: events_unbound async_run_entry_fn
[ 6390.413380] RIP: 0010:irq_startup+0xe1/0xf0
[ 6390.413383] Code: 31 f6 4c 89 ef e8 8f 3e 00 00 85 c0 75 20 48 89 ee 31 d2 4c 89 ef e8 5e cd ff ff 48 89 df e8 a6 fe ff ff 89 c5 e9 54 ff ff ff &lt;0f&gt; 0b eb b6 0f 0b eb b2 0f 1f 80 00 00 00 00 0f 1f 44 00 00 55 48
[ 6390.413384] RSP: 0018:ffffa3bb03717c38 EFLAGS: 00010002
[ 6390.413385] RAX: 0000000000000180 RBX: ffff8e4a324e9000 RCX: 0000000000000180
[ 6390.413386] RDX: 0000000000000005 RSI: ffffffff95b13a20 RDI: ffff8e4a324e9018
[ 6390.413387] RBP: ffff8e4a324e9018 R08: 0000000000000000 R09: ffff8e4a36bd7718
[ 6390.413388] R10: 0000000000000000 R11: ffffffff95a4cba8 R12: 0000000000000001
[ 6390.413388] R13: 0000000000000001 R14: ffff8e4a349c9000 R15: 0000000000000000
[ 6390.413389] FS:  0000000000000000(0000) GS:ffff8e4a38b00000(0000) knlGS:0000000000000000
[ 6390.413390] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 6390.413391] CR2: 00007fce04010826 CR3: 0000000137940000 CR4: 00000000003406e0
[ 6390.413391] Call Trace:
[ 6390.413398]  enable_irq+0x49/0x90
[ 6390.413405]  nvme_poll_irqdisable+0x2d0/0x350 [nvme]
[ 6390.413408]  __nvme_disable_io_queues+0x1b2/0x1f0 [nvme]
[ 6390.413410]  ? nvme_del_queue_end+0x20/0x20 [nvme]
[ 6390.413412]  nvme_dev_disable+0x17c/0x240 [nvme]
[ 6390.413414]  nvme_suspend+0x51/0x150 [nvme]
[ 6390.413418]  pci_pm_suspend+0x73/0x150
[ 6390.413420]  ? pci_pm_freeze+0xb0/0xb0
[ 6390.413424]  dpm_run_callback+0x4f/0x140
[ 6390.413426]  __device_suspend+0x103/0x450
[ 6390.413428]  async_suspend+0x1a/0x90
[ 6390.413430]  async_run_entry_fn+0x37/0x140
[ 6390.413433]  process_one_work+0x206/0x3c0
[ 6390.413435]  worker_thread+0x2d/0x3e0
[ 6390.413436]  ? process_one_work+0x3c0/0x3c0
[ 6390.413439]  kthread+0x112/0x130
[ 6390.413440]  ? kthread_park+0x80/0x80
[ 6390.413444]  ret_from_fork+0x22/0x40
[ 6390.413447] ---[ end trace 9878c5f80dece12a ]---
</pre>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=202891">https://bugzilla.kernel.org/show_bug.cgi?id=202891</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel warning: pending airtime underflow</code></div>
<div class="mw-collapsible-content">
<pre>[  112.406635] ------------[ cut here ]------------
[  112.406641] STA 00:xx:xx:xx:xx:xx AC 2 txq pending airtime underflow: 4294967200, 96
[  112.406694] WARNING: CPU: 2 PID: 913 at net/mac80211/sta_info.c:1933 ieee80211_sta_update_pending_airtime+0x110/0x120 [mac80211]
[  112.406695] Modules linked in: fuse ctr ccm af_packet cmac algif_hash bnep uvcvideo videobuf2_vmalloc videobuf2_memops videobuf2_v4l2 videobuf2_common videodev mc joydev mousedev btusb btrtl btbcm btintel bluetooth uas ecdh_generic ecc crc16 amdgpu wmi_bmof iwlmvm amd_iommu_v2 gpu_sched mac80211 ttm edac_mce_amd edac_core snd_hda_codec_realtek drm_kms_helper libarc4 snd_hda_codec_generic snd_hda_codec_hdmi deflate efi_pstore pstore nls_iso8859_1 drm evdev crct10dif_pclmul nls_cp437 iwlwifi snd_hda_intel mac_hid ghash_clmulni_intel vfat sp5100_tco fat psmouse snd_intel_dspcfg agpgart serio_raw tpm_crb r8169 i2c_algo_bit snd_hda_codec efivars watchdog fb_sys_fops tpm_tis realtek tpm_tis_core snd_hda_core syscopyarea k10temp ucsi_acpi thinkpad_acpi sysfillrect i2c_piix4 snd_pci_acp3x cfg80211 sysimgblt snd_hwdep typec_ucsi ipmi_devintf libphy nvram tpm 8250_pci ledtrig_audio ipmi_msghandler typec rng_core wmi rfkill video i2c_scmi battery ac backlight i2c_core pinctrl_amd button acpi_cpufreq
[  112.406743]  ip6table_nat iptable_nat nf_nat xt_conntrack nf_conntrack nf_defrag_ipv4 libcrc32c crc32c_generic ip6t_rpfilter ipt_rpfilter ip6table_raw iptable_raw xt_pkttype nf_log_ipv6 nf_log_ipv4 nf_log_common xt_LOG xt_tcpudp ip6table_filter ip6_tables iptable_filter sch_fq_codel snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd soundcore msr loop cpufreq_ondemand tun tap macvlan bridge stp llc kvm_amd kvm irqbypass efivarfs ip_tables x_tables ipv6 nf_defrag_ipv6 crc_ccitt autofs4 f2fs dm_crypt algif_skcipher af_alg sd_mod usb_storage scsi_mod input_leds rtsx_pci_sdmmc led_class mmc_core atkbd libps2 crc32_pclmul crc32c_intel xhci_pci xhci_hcd ehci_pci aesni_intel ehci_hcd crypto_simd usbcore cryptd glue_helper nvme rtsx_pci nvme_core usb_common i8042 rtc_cmos serio dm_mod
[  112.406788] CPU: 2 PID: 913 Comm: irq/81-iwlwifi: Not tainted 5.5.0-rc2 #1-NixOS
[  112.406789] Hardware name: LENOVO 20NJCTO1WW/20NJCTO1WW, BIOS R12ET46W(1.16 ) 10/28/2019
[  112.406798] RIP: 0010:ieee80211_sta_update_pending_airtime+0x110/0x120 [mac80211]
[  112.406800] Code: ba d3 0f 0b 8b 44 24 04 eb a0 48 83 c6 40 41 89 e8 89 c1 48 c7 c7 28 71 f3 c0 89 44 24 04 c6 05 32 27 09 00 01 e8 db 4a ba d3 &lt;0f&gt; 0b 8b 44 24 04 eb 8f 0f 1f 84 00 00 00 00 00 0f 1f 44 00 00 55
[  112.406802] RSP: 0018:ffffa3bb00737ba8 EFLAGS: 00010286
[  112.406803] RAX: 0000000000000000 RBX: 00000000ffffffa0 RCX: 0000000000000000
[  112.406804] RDX: 0000000000000000 RSI: ffffffff95fc05c8 RDI: 0000000000000246
[  112.406805] RBP: 0000000000000060 R08: ffffffff95fc0580 R09: 000000000002bb80
[  112.406806] R10: 00000042845c12d5 R11: 0000000000000391 R12: ffff8e49c87a87c0
[  112.406806] R13: 0000000000000002 R14: ffff8e49c569c5c0 R15: ffffa3bb00737c58
[  112.406808] FS:  0000000000000000(0000) GS:ffff8e4a38a80000(0000) knlGS:0000000000000000
[  112.406809] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[  112.406810] CR2: 00002a29a779c000 CR3: 0000000182128000 CR4: 00000000003406e0
[  112.406811] Call Trace:
[  112.406825]  __ieee80211_tx_status+0x67d/0x800 [mac80211]
[  112.406833]  ieee80211_tx_status+0x6a/0x90 [mac80211]
[  112.406842]  iwl_mvm_tx_reclaim+0x2ad/0x3c0 [iwlmvm]
[  112.406849]  iwl_mvm_rx_ba_notif+0x10c/0x2e0 [iwlmvm]
[  112.406854]  iwl_mvm_rx_common+0xae/0x2c0 [iwlmvm]
[  112.406867]  iwl_pcie_rx_handle+0x3fd/0xa60 [iwlwifi]
[  112.406875]  ? irq_finalize_oneshot.part.46+0xf0/0xf0
[  112.406879]  iwl_pcie_irq_rx_msix_handler+0x54/0x100 [iwlwifi]
[  112.406881]  ? irq_finalize_oneshot.part.46+0xf0/0xf0
[  112.406883]  irq_thread_fn+0x1f/0x60
[  112.406885]  irq_thread+0xe7/0x170
[  112.406887]  ? irq_forced_thread_fn+0x70/0x70
[  112.406889]  ? irq_thread_check_affinity+0xc0/0xc0
[  112.406892]  kthread+0x112/0x130
[  112.406894]  ? kthread_park+0x80/0x80
[  112.406898]  ret_from_fork+0x22/0x40
[  112.406900] ---[ end trace 9878c5f80dece128 ]---
[  112.406901] ------------[ cut here ]------------
</pre>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=205869">https://bugzilla.kernel.org/show_bug.cgi?id=205869</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel error: pci 0000:00:00.2: AMD-Vi: Unable to read/write to IOMMU perf counter.</code></div>
<div class="mw-collapsible-content">
<p>It seems like this message could be ignored, i.e. treated as a warning.
</p>
<p>Please see <a href="https://wiki.gentoo.org/wiki/Lenovo_Thinkpad_T495#Unable_to_write_to_IOMMU" class="extiw" title="gentoo:Lenovo Thinkpad T495">Gentoo:Lenovo Thinkpad T495#Unable to write to IOMMU</a> and <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=201753">https://bugzilla.kernel.org/show_bug.cgi?id=201753</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel error: tpm tpm0: [Firmware Bug]: TPM interrupt not working, polling instead.</code></div>
<div class="mw-collapsible-content">
<pre>tpm tpm0: tpm_try_transmit: send(): error -5
tpm tpm0: [Firmware Bug]: TPM interrupt not working, polling instead
</pre>
<p>As a workaround you can turn off the TPM in BIOS settings.
</p>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=204121">https://bugzilla.kernel.org/show_bug.cgi?id=204121</a> and <a rel="nofollow" class="external free" href="https://bugzilla.redhat.com/show_bug.cgi?id=1770021">https://bugzilla.redhat.com/show_bug.cgi?id=1770021</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel error: [Firmware Bug]: TPM interrupt not working, polling instead</code></div>
<div class="mw-collapsible-content">
<pre>tpm tpm0: tpm_try_transmit: send(): error -5
tpm tpm0: [Firmware Bug]: TPM interrupt not working, polling instead
</pre>
<p>As a workaround you can turn off the TPM in BIOS settings.
</p>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=204121">https://bugzilla.kernel.org/show_bug.cgi?id=204121</a> and <a rel="nofollow" class="external free" href="https://bugzilla.redhat.com/show_bug.cgi?id=1770021">https://bugzilla.redhat.com/show_bug.cgi?id=1770021</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel error: *ERROR* mstb 000000002ef7ea2e port 3: DPCD read on addr 0x60 for 1 bytes NAKed</code></div>
<div class="mw-collapsible-content">
<pre>[drm:drm_dp_mst_dpcd_read [drm_kms_helper]] *ERROR* mstb 000000002ef7ea2e port 3: DPCD read on addr 0x60 for 1 bytes NAKed
</pre>
<p>Please see <a rel="nofollow" class="external free" href="https://bugzilla.redhat.com/show_bug.cgi?id=1874782">https://bugzilla.redhat.com/show_bug.cgi?id=1874782</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>systemd-modules-load: Failed to find module 'platform-integrity'</code></div>
<div class="mw-collapsible-content">
<p>You can comment or remove loading of <code>platform-integrity</code> module.
</p>
<p>Please see <a rel="nofollow" class="external free" href="https://forum.endeavouros.com/t/failed-to-find-module-platform-integrity-after-update/9279/10">https://forum.endeavouros.com/t/failed-to-find-module-platform-integrity-after-update/9279/10</a> for more information.
</p>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px; overflow:auto;">
<div style="font-weight:bold;line-height:1.6;"><code>Kernel error: [drm:drm_atomic_helper_wait_for_flip_done [drm_kms_helper]] *ERROR* [CRTC:67:crtc-0] flip_done timed out</code></div>
<div class="mw-collapsible-content">
<p>Occasionally after resuming from sleep, the display freezes with the following showing up in the kernel log:
</p>
<pre>[drm:drm_atomic_helper_wait_for_flip_done [drm_kms_helper]] *ERROR* [CRTC:67:crtc-0] flip_done timed out
[drm:drm_atomic_helper_wait_for_dependencies [drm_kms_helper]] *ERROR* [CRTC:67:crtc-0] flip_done timed out
[drm:drm_atomic_helper_wait_for_dependencies [drm_kms_helper]] *ERROR* [PLANE:55:plane-3] flip_done timed out</pre>
<p>There is currently no known workarounds for this issue. <a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1000">https://gitlab.freedesktop.org/drm/amd/-/issues/1000</a>
</p>
</div>
</div>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T495&amp;oldid=808577">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T495&amp;oldid=808577</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 18 May 2024, at 06:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
