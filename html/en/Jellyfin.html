<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Jellyfin - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Jellyfin rootpage-Jellyfin skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Nginx_reverse_proxy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nginx_reverse_proxy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Nginx reverse proxy</div>
			</a>
			
			<ul id="toc-Nginx_reverse_proxy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-CSS_customization" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#CSS_customization">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>CSS customization</div>
			</a>
			
			<ul id="toc-CSS_customization-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Plugins" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Plugins">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Plugins</div>
			</a>
			
			<ul id="toc-Plugins-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-File_permission" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#File_permission">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>File permission</div>
			</a>
			
			<ul id="toc-File_permission-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Intel_Quick_Sync_Video_(QSV)_accelerated_hardware_transcoding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Intel_Quick_Sync_Video_(QSV)_accelerated_hardware_transcoding">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Intel Quick Sync Video (QSV) accelerated hardware transcoding</div>
			</a>
			
			<ul id="toc-Intel_Quick_Sync_Video_(QSV)_accelerated_hardware_transcoding-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Clients" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Clients">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Clients</div>
		</a>
		
		<ul id="toc-Clients-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Jellyfin_does_not_detect_folder_or_external_drive" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Jellyfin_does_not_detect_folder_or_external_drive">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Jellyfin does not detect folder or external drive</div>
			</a>
			
			<ul id="toc-Jellyfin_does_not_detect_folder_or_external_drive-sublist" class="vector-toc-list">
				<li id="toc-External_drives" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#External_drives">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>External drives</div>
			</a>
			
			<ul id="toc-External_drives-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Playback_issues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Playback_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Playback issues</div>
			</a>
			
			<ul id="toc-Playback_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Web_interface_redirects_to_setup_wizard_after_update" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Web_interface_redirects_to_setup_wizard_after_update">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Web interface redirects to setup wizard after update</div>
			</a>
			
			<ul id="toc-Web_interface_redirects_to_setup_wizard_after_update-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Transcoding_is_extremely_slow_with_Intel_DG2_hardware_decode/encode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Transcoding_is_extremely_slow_with_Intel_DG2_hardware_decode/encode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Transcoding is extremely slow with Intel DG2 hardware decode/encode</div>
			</a>
			
			<ul id="toc-Transcoding_is_extremely_slow_with_Intel_DG2_hardware_decode/encode-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Hardening_Guide" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hardening_Guide">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Hardening Guide</div>
		</a>
		
		<ul id="toc-Hardening_Guide-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Jellyfin</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://jellyfin.org/">Jellyfin</a> is a free and open-source multimedia application suite designed to organize, manage, and share digital media files to networked devices.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>There are a few options for installation:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jellyfin-server">jellyfin-server</a></span> — main server backend</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jellyfin-web">jellyfin-web</a></span> — required to host the web frontend. Alternatively, add <code>hostwebclient=false</code> to your configuration.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jellyfin-git/">jellyfin-git</a></span><sup><small>AUR</small></sup> — compile from latest commit</li>
</ul>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> the <code>jellyfin.service</code> systemd unit. Upon starting for the first time, Jellyfin will create configuration and data directories at <code>/var/lib/jellyfin/</code> by default.
</p>
<p>To begin configuring Jellyfin, browse to <a rel="nofollow" class="external free" href="http://localhost:8096/">http://localhost:8096/</a> and complete the initial wizard.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Check if any firewall settings are obstructing connection to Jellyfin if issues arise at this point.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Nginx_reverse_proxy">Nginx reverse proxy</span></h3>
<p>The below configuration describes a <a href="../en/Nginx.html" title="Nginx">Nginx</a> reverse proxy with a sample certificate. Be sure to modify the template to suit your own circumstances. See <a rel="nofollow" class="external text" href="https://jellyfin.org/docs/general/networking/nginx.html">upstream documentation</a> for more reverse proxy configuration examples.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Uncomment and append URLs of external web resources to the <code>Content-Security-Policy</code> header to avoid missing functionality when accessing Jellyfin via the reverse proxy.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nginx/sites-available/domain.com.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name DOMAIN_NAME;

    # use a variable to store the upstream proxy
    # in this example we are using a hostname which is resolved via DNS
    # (if you are not using DNS remove the resolver line and change the variable to point to an IP address e.g `set $jellyfin 127.0.0.1`)
    set $jellyfin jellyfin;
    resolver 127.0.0.1 valid=30;

    ssl_certificate /etc/letsencrypt/live/DOMAIN_NAME/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/DOMAIN_NAME/privkey.pem;
    include /etc/letsencrypt/options-ssl-nginx.conf;
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
    add_header Strict-Transport-Security "max-age=31536000" always;
    ssl_trusted_certificate /etc/letsencrypt/live/DOMAIN_NAME/chain.pem;
    ssl_stapling on;
    ssl_stapling_verify on;

    # Security / XSS Mitigation Headers
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-XSS-Protection "1; mode=block";
    add_header X-Content-Type-Options "nosniff";

    # Content Security Policy
    # See: https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP
    # Enforces https content and restricts JS/CSS to origin
    # External Javascript (such as cast_sender.js for Chromecast) must be whitelisted.
    #add_header Content-Security-Policy "default-src https: data: blob: http://image.tmdb.org; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' https://www.gstatic.com/cv/js/sender/v1/cast_sender.js https://www.youtube.com blob:; worker-src 'self' blob:; connect-src 'self'; object-src 'none'; frame-ancestors 'self'";

    location = / {
        return 302 https://$host/web/;
    }

    location / {
        # Proxy main Jellyfin traffic
        proxy_pass http://$jellyfin:8096;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Protocol $scheme;
        proxy_set_header X-Forwarded-Host $http_host;

        # Disable buffering when the nginx proxy gets very resource heavy upon streaming
        proxy_buffering off;
    }

    # location block for /web - This is purely for aesthetics so /web/#!/ works instead of having to go to /web/index.html/#!/
    location = /web/ {
        # Proxy main Jellyfin traffic
        proxy_pass http://$jellyfin:8096/web/index.html;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Protocol $scheme;
        proxy_set_header X-Forwarded-Host $http_host;
    }

    location /socket {
        # Proxy Jellyfin Websockets traffic
        proxy_pass http://$jellyfin:8096;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Protocol $scheme;
        proxy_set_header X-Forwarded-Host $http_host;
    }
}
</pre>
<h3><span class="mw-headline" id="CSS_customization">CSS customization</span></h3>
<p>Server administrators can modify Jellyfin's appearance via the custom CSS field on the web dashboard. Many sources offer portable blocks of CSS to change server typography, colors, and layout. Some examples include <a rel="nofollow" class="external text" href="https://github.com/CTalvio/Ultrachromic">Ultrachromic</a> and <a rel="nofollow" class="external text" href="https://jellyfin.org/docs/general/clients/css-customization.html">upstream documentation.</a>
</p>
<h3><span class="mw-headline" id="Plugins">Plugins</span></h3>
<p>Jellyfin features many community-developed plugins that can be installed from the web dashboard. By default, plugins will automatically update.
</p>
<h3><span class="mw-headline" id="File_permission">File permission</span></h3>
<p>Jellyfin runs as user <code>jellyfin</code>, which has no permission for your home directory. If you add a directory inside your home directory to a library, Jellyfin fails to access it. You can create a dedicated directory for Jellyfin.
</p>
<pre># mkdir /media
</pre>
<p>You may want to change the owner of the directory to your current user for easier management.
</p>
<pre># chown $USER: /media
</pre>
<h3>
<span id="Intel_Quick_Sync_Video_.28QSV.29_accelerated_hardware_transcoding"></span><span class="mw-headline" id="Intel_Quick_Sync_Video_(QSV)_accelerated_hardware_transcoding">Intel Quick Sync Video (QSV) accelerated hardware transcoding</span>
</h3>
<p>The optional dependency <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vpl-gpu-rt">vpl-gpu-rt</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vpl-gpu-rt-git/">vpl-gpu-rt-git</a></span><sup><small>AUR</small></sup> must be installed for this to work with the custom <code>jellyfin-ffmpeg</code> binary.
</p>
<p>See the <a rel="nofollow" class="external text" href="https://jellyfin.org/docs/general/administration/hardware-acceleration/intel">official guide</a> for more details.
</p>
<h2><span class="mw-headline" id="Clients">Clients</span></h2>
<p>In addition to the web interface, there are alternative desktop clients available.
</p>
<ul><li>
<b>Jellyfin Media Player</b> — Power desktop client which uses jellyfin-web and an embedded MPV player for maximum codec compatibility</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/jellyfin/jellyfin-media-player/">https://github.com/jellyfin/jellyfin-media-player/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jellyfin-media-player/">jellyfin-media-player</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Jellyfin MPV Shim</b> — Cast client for Jellyfin</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/jellyfin/jellyfin-mpv-shim/">https://github.com/jellyfin/jellyfin-mpv-shim/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jellyfin-mpv-shim/">jellyfin-mpv-shim</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>jftui</b> — Command-line client that interfaces with MPV</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Aanok/jftui">https://github.com/Aanok/jftui</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jftui/">jftui</a></span><sup><small>AUR</small></sup>
</dd></dl>
<p><br>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Jellyfin_does_not_detect_folder_or_external_drive">Jellyfin does not detect folder or external drive</span></h3>
<p>In order for Jellyfin to see folders, it needs to be given read and execute permissions. This is due to Jellyfin being run as the user "jellyfin" instead of your user. As such, it will not have access to your /home/ folder by default. The best practice is to put the media into a folder in the root folder (e.g. <code> /jellyfinmedia/</code>) or on an external drive. Then you have to give it read and execute permissions via the code below or by setting it via a file explorer.
</p>
<pre># chmod -R 775 path/to/media/folder</pre>
<p>If not set already, set the owner/group to your username.
</p>
<pre># chown yourusername:yourusername /mediafolder</pre>
<h5><span class="mw-headline" id="External_drives">External drives</span></h5>
<p>If you haven't explicitly set up a mounting configuration for your drives, your desktop environment (e.g. GNOME or KDE) might automatically mount it when you try accessing it via their file explorers. Jellyfin won't be able to access the drive. This is because the desktop environment mounts it to your user (via <a href="../en/FUSE.html" title="FUSE">FUSE</a>), while Jellyfin uses by default the "Jellyfin" user. 
</p>
<p>You will need to manually mount the drives for Jellyfin to see them by setting the mount point. See <a href="../en/Fstab.html" title="Fstab">Fstab</a> for more details. You can also use a program such as KDE Partition Manager or GNOME Disks to set the partition's mount point. Be sure to give the external drive the correct user permissions.
</p>
<h3><span class="mw-headline" id="Playback_issues">Playback issues</span></h3>
<p>Jellyfin sometimes fails to play back specific media files. Most media files should be compatible with Jellyfin as it automatically detects the media format and transcodes (using <code>ffmpeg</code>) to a format the client can handle. However, this is a complicated process that can fail in various ways. This is made more complicated by the fact that specific Jellyfin plugins use different methods for handling the transcoding process. Hence, the troubleshooting tips are provided below with reference to specific plugins / clients. However, these issues may show up in different Jellyfin clients or with different Jellyfin plugins.
</p>
<ul>
<li>When using the TVHeadend Jellyfin plugin, recording playback works fine, but viewing live TV fails with an unsupported format error on the client. Check the <i>Dashboard &gt; Playback &gt; Transcode Path</i> configuration. Be sure that there is no trailing slash in the path. For example <code>/var/transcode</code> is fine, but <code>/var/transcode/</code> is not. This might be fixed in the future. See the issue: <a rel="nofollow" class="external free" href="https://github.com/jellyfin/jellyfin/issues/10299">https://github.com/jellyfin/jellyfin/issues/10299</a>
</li>
<li>When using the Jellyfin web client, playback of some media files fails randomly. Check that <i>User &gt; Settings &gt; Playback &gt; Maximum Allowed Audio Channels</i> is set to "Stereo". Some browsers do not support 6-channel audio and sometimes some recorded TV broadcasts contain 6-channel audio, causing the web client to fail to playback otherwise valid recordings. Forcing stereo audio should fix this. See this related bug report with some tools shown on how to check the number of audio channels in a video: <a rel="nofollow" class="external free" href="https://github.com/Dash-Industry-Forum/dash.js/issues/2864">https://github.com/Dash-Industry-Forum/dash.js/issues/2864</a>.</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The Jellyfin web client uses HLS.js, not dash.js, but the dash.js issue linked above can be helpful if you are unsure of how many audio channels your media contains.</div></dd></dl>
<h3><span class="mw-headline" id="Web_interface_redirects_to_setup_wizard_after_update">Web interface redirects to setup wizard after update</span></h3>
<p>Some <a rel="nofollow" class="external text" href="https://github.com/jellyfin/jellyfin-web/issues/4910">users report</a> that after an update, the web UI does not allow them to log in, and instead shows them the initial setup wizard. To fix this, ensure that in <code>/etc/jellyfin/system.xml</code> the value of <code>isStartupWizardCompleted</code> is set to <code>true</code>.
</p>
<h3>
<span id="Transcoding_is_extremely_slow_with_Intel_DG2_hardware_decode.2Fencode"></span><span class="mw-headline" id="Transcoding_is_extremely_slow_with_Intel_DG2_hardware_decode/encode">Transcoding is extremely slow with Intel DG2 hardware decode/encode</span>
</h3>
<p>If transcoding has become extremely slow (less than 5 frames/second) and you are using an Intel DG2/Alchemist GPU for hardware decoding/encoding, ensure you are using the <code>i915</code> kernel driver and not the <code>xe</code> kernel driver.
</p>
<p>See this ticket on the <code>xe</code> module issue tracker for more information: <a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/drm/xe/kernel/-/issues/234">https://gitlab.freedesktop.org/drm/xe/kernel/-/issues/234</a>
</p>
<p>To disable the <code>xe</code> driver, create a file in <code>/etc/modprobe.d</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/disable-intel-xe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">install xe /bin/true
</pre>
<p>You will need to reboot after creating the file.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Hardening_Guide">Hardening Guide</span></h2>
<p>Just like any other service, Jellyfin can be hardened by modifying its systemd unit.
Hardening is also called <i>sandboxing</i> in the literature.
The following sandboxing options are an effective way to limit the exposure of the system towards the unit's processes.
</p>
<p>Create the following file in <code>/etc/systemd/system/jellyfin.service.d/</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/jellyfin.service.d/harden.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
PrivateTmp = true
ProtectSystem = strict
ProtectHome = true
ProtectKernelTunables = true
ReadWritePaths=/etc/jellyfin /var/cache/jellyfin /var/lib/jellyfin /var/log/jellyfin
ReadOnlyPaths = /mnt/mymovies
InaccessiblePaths = /mnt/mybackup
</pre>
<p>This will allow Jellyfin to only write to <code>/etc/jellyfin</code>, <code>/var/cache/jellyfin</code>, <code>/var/lib/jellyfin</code>, <code>/var/log/jellyfin</code> and restrict writing to the rest of the file system. It will also deny access to the entire <code>/home</code> and limit access to <code>/etc</code>.
This also restrict any access to <code>/mnt/mybackup</code>. Multiple paths can be specified for this option.
</p>
<p>Reload the service with:
</p>
<pre>systemctl daemon-reload
systemctl restart jellyfin.service
</pre>
<p>More details on the systemd sandboxing options can be found at <code>man systemd.exec</code> or at:
</p>
<p><a rel="nofollow" class="external free" href="https://www.freedesktop.org/software/systemd/man/latest/systemd.exec.html#Sandboxing">https://www.freedesktop.org/software/systemd/man/latest/systemd.exec.html#Sandboxing</a>
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Media_servers.html" title="Category:Media servers">Media servers</a></li>
<li><a href="../en/Category:Home_theater.html" title="Category:Home theater">Home theater</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Jellyfin&amp;oldid=812502">https://wiki.archlinux.org/index.php?title=Jellyfin&amp;oldid=812502</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 July 2024, at 00:57.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
