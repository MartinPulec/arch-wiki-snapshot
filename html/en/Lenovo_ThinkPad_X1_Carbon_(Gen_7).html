<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X1 Carbon (Gen 7) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X1_Carbon_Gen_7 rootpage-Lenovo_ThinkPad_X1_Carbon_Gen_7 skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Firmware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Firmware">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Firmware</div>
		</a>
		
			<button aria-controls="toc-Firmware-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Firmware subsection</span>
			</button>
		
		<ul id="toc-Firmware-sublist" class="vector-toc-list">
			<li id="toc-Updates" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Updates">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Updates</div>
			</a>
			
			<ul id="toc-Updates-sublist" class="vector-toc-list">
				<li id="toc-Automatic_(Linux_Vendor_Firmware_Service)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Automatic_(Linux_Vendor_Firmware_Service)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1</span>Automatic (Linux Vendor Firmware Service)</div>
			</a>
			
			<ul id="toc-Automatic_(Linux_Vendor_Firmware_Service)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manual_(fwupdmgr)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Manual_(fwupdmgr)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.2</span>Manual (fwupdmgr)</div>
			</a>
			
			<ul id="toc-Manual_(fwupdmgr)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Sleep/Suspend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sleep/Suspend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Sleep/Suspend</div>
			</a>
			
			<ul id="toc-Sleep/Suspend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-S3_Suspend_Bug_with_Bluetooth_Devices" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#S3_Suspend_Bug_with_Bluetooth_Devices">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>S3 Suspend Bug with Bluetooth Devices</div>
			</a>
			
			<ul id="toc-S3_Suspend_Bug_with_Bluetooth_Devices-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_configurations" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_configurations">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>BIOS configurations</div>
			</a>
			
			<ul id="toc-BIOS_configurations-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Firmware_issues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Firmware_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Firmware issues</div>
			</a>
			
			<ul id="toc-Firmware_issues-sublist" class="vector-toc-list">
				<li id="toc-Touchpad_issues" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Touchpad_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5.1</span>Touchpad issues</div>
			</a>
			
			<ul id="toc-Touchpad_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Freeze_when_suspending" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Freeze_when_suspending">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5.2</span>Freeze when suspending</div>
			</a>
			
			<ul id="toc-Freeze_when_suspending-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Power_management/Throttling_issues" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Power_management/Throttling_issues">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5.3</span>Power management/Throttling issues</div>
			</a>
			
			<ul id="toc-Power_management/Throttling_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Audio" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Audio">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Audio</div>
		</a>
		
			<button aria-controls="toc-Audio-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Audio subsection</span>
			</button>
		
		<ul id="toc-Audio-sublist" class="vector-toc-list">
			<li id="toc-Clicking/cracking_noise_when_using_headphones" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clicking/cracking_noise_when_using_headphones">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Clicking/cracking noise when using headphones</div>
			</a>
			
			<ul id="toc-Clicking/cracking_noise_when_using_headphones-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Clicking/cracking_noise_when_using_speakers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clicking/cracking_noise_when_using_speakers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Clicking/cracking noise when using speakers</div>
			</a>
			
			<ul id="toc-Clicking/cracking_noise_when_using_speakers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Microphone" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Microphone">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Microphone</div>
			</a>
			
			<ul id="toc-Microphone-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Camera" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Camera">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Camera</div>
		</a>
		
			<button aria-controls="toc-Camera-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Camera subsection</span>
			</button>
		
		<ul id="toc-Camera-sublist" class="vector-toc-list">
			<li id="toc-Secondary_IR" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Secondary_IR">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Secondary IR</div>
			</a>
			
			<ul id="toc-Secondary_IR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Function_Keys" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Function_Keys">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Function Keys</div>
		</a>
		
		<ul id="toc-Function_Keys-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fingerprint_sensor" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fingerprint_sensor">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Fingerprint sensor</div>
		</a>
		
		<ul id="toc-Fingerprint_sensor-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Mobile_broadband" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Mobile_broadband">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Mobile broadband</div>
		</a>
		
		<ul id="toc-Mobile_broadband-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Disabling_red_LED_in_ThinkPad_logo" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Disabling_red_LED_in_ThinkPad_logo">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Disabling red LED in ThinkPad logo</div>
		</a>
		
		<ul id="toc-Disabling_red_LED_in_ThinkPad_logo-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Lenovo ThinkPad X1 Carbon (Gen 7)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Lenovo_ThinkPad_X1_Carbon_(Gen_7)" title="Lenovo ThinkPad X1 Carbon (Gen 7) – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Video</td>
<td><code>8086:3ea0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>8086:9df0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Ethernet</td>
<td><code>8086:15be</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>8086:9dc8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchpad</td>
<td><code>06cb:cd8b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>TrackPoint</td>
<td><code>06cb:cd8b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Camera</td>
<td><code>13d3:56ba</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>06cb:00bd</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>8087:0aaa</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>NFC</td>
<td></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No
</td>
</tr>
</tbody>
</table>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> There are reports that enrolling custom Secure Boot keys may brick this machine because of firmware bugs.</div> 
<p>The most convenient way to install Arch Linux is by disabling "Secure Boot" <code>Security -&gt; Secure Boot - Set to "Disabled"</code>. However it is possible to self-sign your kernel and boot with it enabled. For further information have a look at the <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> article.
</p>
<p>In case your <code>efivars</code> are not properly set it is most likely due to you not being booted into <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>. Should the problem persist be sure to consult the <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_variables" class="mw-redirect" title="UEFI">UEFI#UEFI variables</a> section.
</p>
<h3><span class="mw-headline" id="Updates">Updates</span></h3>
<h4>
<span id="Automatic_.28Linux_Vendor_Firmware_Service.29"></span><span class="mw-headline" id="Automatic_(Linux_Vendor_Firmware_Service)">Automatic (Linux Vendor Firmware Service)</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://blogs.gnome.org/hughsie/2018/08/06/please-welcome-lenovo-to-the-lvfs/">In August of 2018 Lenovo has joined</a> the <a rel="nofollow" class="external text" href="https://fwupd.org/">Linux Vendor Firmware Service (LVFS)</a> project, which enables firmware updates from within the OS.
BIOS updates (and possibly other firmware such as the Thunderbolt controller) can be queried for and installed through <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.
</p>
<p>If your thunderbolt port is unstable after upgrading with fwupd, you can visit the <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-carbon-7th-gen-type-20qd-20qe/downloads/driver-list">Lenovo ThinkPad X1 Carbon (Gen 7) driver website</a> and upgrade the thunderbolt firmware manually.
</p>
<h4>
<span id="Manual_.28fwupdmgr.29"></span><span class="mw-headline" id="Manual_(fwupdmgr)">Manual (fwupdmgr)</span>
</h4>
<p>Lenovo may in the future provide cabinet files that can be directly installed with fwupdmgr.
Check for Linux <code>.cab</code> files from the <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-carbon-7th-gen-type-20qd-20qe/downloads">Lenovo ThinkPad X1 Carbon (Gen 7) driver website</a>.
</p>
<ol>
<li>Make sure the AC adapter is firmly connected to the target computer.</li>
<li>Launch Terminal.</li>
<li>Move to the directory where the cabinet file was placed.</li>
<li>Run <code>fwupdmgr install xxxxxxxx.cab</code> to schedule firmware update.</li>
<li>Restart the system.</li>
<li>The computer will be restarted and the UEFI BIOS will be updated.</li>
</ol>
<h3>
<span id="Sleep.2FSuspend"></span><span class="mw-headline" id="Sleep/Suspend">Sleep/Suspend</span>
</h3>
<p>The BIOS has two "Sleep State" options, Windows and Linux, which you can find in <code>Config -&gt; Power -&gt; Sleep State</code>. The Linux option is the traditional S3 power state where all hardware components are turned off except for the RAM, and it should work normally. The Windows option is a newer software-based "modern standby" which works on Linux (despite the name). One possible benefit to the Windows sleep state is faster wake up time, and one possible drawback is increased power usage.
</p>
<p>Mark Pearson, a Lenovo employee, <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Fedora/Fedora-32-Workstation-image-for-Thinkpad-P1G2/m-p/5042732?page=1#5156832">recommends using the "Windows" sleep state option</a> as it is better supported on modern Intel processors. The same is true for other modern Thinkpads <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/T14-AMD-battery-drain-in-standby-Linux/m-p/5037674?page=3#5189273">except for AMD models</a> (as of November 2020).
</p>
<h3><span class="mw-headline" id="S3_Suspend_Bug_with_Bluetooth_Devices">S3 Suspend Bug with Bluetooth Devices</span></h3>
<p>Occasionally your Thinkpad will wake up immediately after suspending with certain <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> devices added. To prevent this, remove the devices or disable <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> before suspending.
</p>
<h3><span class="mw-headline" id="BIOS_configurations">BIOS configurations</span></h3>
<p>In <i>Config &gt; Thunderbolt BIOS Assist Mode</i> set to <i>Enabled</i>. When disabled, power usage appears to be significantly higher because of a substantial number of CPU wakeups in s2idle.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You may need to disable Kernel DMA protection in <i>Security &gt; Virtualization &gt; Kernel DMA Protection</i> set to <i>Disabled</i>
</div>
<h3><span class="mw-headline" id="Firmware_issues">Firmware issues</span></h3>
<p>The following issues can all be resolved by upgrading the firmware with fwupdmgr (<i>see <a href="#Updates">#BIOS Updates</a></i>), but there may be alternative manual/temporary fixes.
</p>
<h4><span class="mw-headline" id="Touchpad_issues">Touchpad issues</span></h4>
<p>Due to a bug in a touchpad firmware, the touchpad might not work with following logs in <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a>:
</p>
<pre>[    4.499490] i2c_designware i2c_designware.1: i2c_dw_handle_tx_abort: lost arbitration
[...]
[   12.668795] i2c_hid i2c-SYNA8005:00: failed to set a report to device.
[   13.678765] i2c_designware i2c_designware.1: controller timed out
</pre>
<h4><span class="mw-headline" id="Freeze_when_suspending">Freeze when suspending</span></h4>
<p>There are reports of the system freezing after initiating a suspend or hibernate. A temporary fix is to add <code>snd_hda_intel.dmic_detect=0</code> to your kernel parameters. see <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/e5oe4p/systemctl_suspend_causes_freeze/fa8mzft/">[1]</a>. This temporary fix is somehow disable the microphone, use this at your own risk
</p>
<h4>
<span id="Power_management.2FThrottling_issues"></span><span class="mw-headline" id="Power_management/Throttling_issues">Power management/Throttling issues</span>
</h4>
<p>A <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191114160718/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/td-p/4028489/highlight/true">bug</a> causes the CPU to consume less power than under Windows and throttle at 80°C instead of 97°. 
</p>
<p>Lenovo has confirmed the issue, <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191115170150/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4534535/highlight/true#M13642">explained the cause</a> and published <a rel="nofollow" class="external text" href="https://web.archive.org/web/20191114160928/https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4535310/highlight/true#M13653">updates for the embedded controller and the BIOS</a> to LVFS .
</p>
<p>The alternative fix is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=throttled">throttled</a></span>, then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>throttled.service</code>.
</p>
<h2><span class="mw-headline" id="Audio">Audio</span></h2>
<p>This laptop requires <a href="../en/Advanced_Linux_Sound_Architecture.html#Firmware" class="mw-redirect" title="Sound Open Firmware">Sound Open Firmware</a> to work.
</p>
<p>If you are still having issues, add the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist snd_hda_intel
blacklist snd_soc_skl
</pre>
<p>and <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">append</a> the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">load-module module-alsa-sink device=hw:0,0 channels=4
load-module module-alsa-source device=hw:0,7 channels=4</pre>
<p>Afterwards, reboot.
</p>
<h3>
<span id="Clicking.2Fcracking_noise_when_using_headphones"></span><span class="mw-headline" id="Clicking/cracking_noise_when_using_headphones">Clicking/cracking noise when using headphones</span>
</h3>
<p>If you are hearing clicking/cracking noises when using headphones, this command helped me. I have to run it after each restart.
</p>
<pre># hda-verb /dev/snd/hwC0D0 0x1d SET_PIN_WIDGET_CONTROL 0x0
</pre>
<h3>
<span id="Clicking.2Fcracking_noise_when_using_speakers"></span><span class="mw-headline" id="Clicking/cracking_noise_when_using_speakers">Clicking/cracking noise when using speakers</span>
</h3>
<p>The newest alsa-ucm-conf is missing the speakers configuration. Downgrade it to 1.2.3-2.
</p>
<pre># downgrade alsa-ucm-conf
</pre>
<h3><span class="mw-headline" id="Microphone">Microphone</span></h3>
<p>On version 5.3 and newer the SOF firmware can be enabled, see <a href="../en/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_7).html#Microphone" title="Talk:Lenovo ThinkPad X1 Carbon (Gen 7)">Talk#Microphone</a>.
</p>
<p>If you are having issues getting the microphone to be detected, see the troubleshooting section in <a href="#Audio">#Audio</a>.
</p>
<h2><span class="mw-headline" id="Camera">Camera</span></h2>
<h3><span class="mw-headline" id="Secondary_IR">Secondary IR</span></h3>
<p>Some models of this laptop include a second infrared (IR) <a href="../en/Webcam_setup.html" class="mw-redirect" title="Webcam">webcam</a> (originally to be used with Windows Hello) which is uncovered by the privacy slider. <code>v4l2-ctl --list-devices</code> will show all available video devices. The IR emitter can be manipulated using <a rel="nofollow" class="external text" href="https://github.com/PetePriority/chicony-ir-toggle">chicony-ir-toggle</a>.
</p>
<p>Facial authentication can be archived using <a href="../en/Howdy.html" title="Howdy">Howdy</a>.
</p>
<h2><span class="mw-headline" id="Function_Keys">Function Keys</span></h2>
<p>In the firmware configuration it is possible to swap the <code>Ctrl</code> and <code>Fn</code> keys.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Key
</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn+Esc</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Toggles Fn lock
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioLowerVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioRaiseVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMicMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessDown</code>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessUp</code>
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Display</code>
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86WLAN</code>
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Tools</code>
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Bluetooth</code>
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>No Effect
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Favorites</code>
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools.</li>
<li>The physical key has a symbol on it, which describes its function.</li>
</ol>
<h2><span class="mw-headline" id="Fingerprint_sensor">Fingerprint sensor</span></h2>
<p>An official Lenovo firmware with Linux support is available from <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>. After installing fwupd, you can update the Synaptics Prometheus driver for the fingerprint sensor:
</p>
<pre># fwupdmgr refresh
# fwupdmgr get-updates
   Prometheus Fingerprint Reader Device Update:
   New version:       10.01.3158804
   New features and enhancements:   Support Linux system
# fwupdmgr update
</pre>
<p>To use the fingerprint sensor, follow the instructions from <a href="../en/Fprint.html" title="Fprint">Fprint</a>.
</p>
<p>If you had previously installed the testing version of this driver from lvfs-testing, there should be no issues updating to this driver version from the main repository.
</p>
<h2><span class="mw-headline" id="Mobile_broadband">Mobile broadband</span></h2>
<p>The Fibocom LTE module has Linux support once switched to USB mode; see <a rel="nofollow" class="external autonumber" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/How-To-Configure-X1-Carbon-Gen-7-on-Debian-FingerPrint-4G-Modem/td-p/4550327">[2]</a> and <a rel="nofollow" class="external autonumber" href="https://github.com/abrasive/xmm7360">[3]</a>
</p>
<h2><span class="mw-headline" id="Disabling_red_LED_in_ThinkPad_logo">Disabling red LED in ThinkPad logo</span></h2>
<p>You can temporarily disable the red LED in the ThinkPad logo on the cover:
</p>
<ol>
<li>Enable writing to the embedded controller registers by adding the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> <code>ec_sys.write_support=1</code>.</li>
<li>Disable the LED with this command:</li>
</ol>
<pre># echo -n -e "\x0a" | dd of="/sys/kernel/debug/ec/ec0/io" bs=1 seek=12 count=1 conv=notrunc 2&gt; /dev/null
</pre>
<p>This would need to be run after each suspend/reboot to be permanent.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external free" href="https://www.thinkwiki.org/wiki/ThinkWiki">https://www.thinkwiki.org/wiki/ThinkWiki</a></li>
<li>
<a rel="nofollow" class="external text" href="https://gist.github.com/greigdp/bb70fbc331a0aaf447c2d38eacb85b8f">Dell XPS 13 9370 quirks</a>: Some pointers on getting Watt usage down to ~2W, Intel video powersaving features might be interesting, see also the <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> page for interesting power-saving options.</li>
<li>
<a rel="nofollow" class="external text" href="https://01.org/blogs/rzhang/2015/best-practice-debug-linux-suspend/hibernate-issues">Intel Blog: Best practice to debug Linux* suspend/hibernate issues</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-09-16 ⓘ]</sup>, including the <a rel="nofollow" class="external text" href="https://github.com/01org/pm-graph">pm-graph</a> tool to analyze power usage during suspend</li>
<li>
<a rel="nofollow" class="external text" href="https://forums.linuxmint.com/viewtopic.php?t=91453">How to fix volume control (ALSA problem)</a> This is where the volume fix came from originally.</li>
<li><a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows/win32/power/system-power-states">Windows System Power States</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/sleep-states.html">System Sleep States at kernel.org</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=823038">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=823038</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 December 2024, at 18:24.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
