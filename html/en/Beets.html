<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Beets - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Beets rootpage-Beets skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Get_help_and_generalities" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Get_help_and_generalities">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Get help and generalities</span>
				</div>
			</a>
			
			<ul id="toc-Get_help_and_generalities-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Add_music" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Add_music">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Add music</span>
				</div>
			</a>
			
			<ul id="toc-Add_music-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-List_music" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#List_music">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>List music</span>
				</div>
			</a>
			
			<ul id="toc-List_music-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Remove_music" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remove_music">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Remove music</span>
				</div>
			</a>
			
			<ul id="toc-Remove_music-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tag_music" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tag_music">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Tag music</span>
				</div>
			</a>
			
			<ul id="toc-Tag_music-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Querying" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Querying">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6</span>
					<span>Querying</span>
				</div>
			</a>
			
			<ul id="toc-Querying-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ReplayGain" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ReplayGain">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.7</span>
					<span>ReplayGain</span>
				</div>
			</a>
			
			<ul id="toc-ReplayGain-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Album_art" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Album_art">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.8</span>
					<span>Album art</span>
				</div>
			</a>
			
			<ul id="toc-Album_art-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Plugins" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Plugins">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Plugins</span>
			</div>
		</a>
		
		<ul id="toc-Plugins-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Enabling_tab_autocompletion" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_tab_autocompletion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Enabling tab autocompletion</span>
				</div>
			</a>
			
			<ul id="toc-Enabling_tab_autocompletion-sublist" class="vector-toc-list">
				<li id="toc-Bash" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Bash">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1.1</span>
					<span>Bash</span>
				</div>
			</a>
			
			<ul id="toc-Bash-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zsh" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Zsh">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1.2</span>
					<span>Zsh</span>
				</div>
			</a>
			
			<ul id="toc-Zsh-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Setup_the_library_directory_(external_drive,_network)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setup_the_library_directory_(external_drive,_network)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Setup the library directory (external drive, network)</span>
				</div>
			</a>
			
			<ul id="toc-Setup_the_library_directory_(external_drive,_network)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Updating_the_library_directory" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Updating_the_library_directory">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Updating the library directory</span>
				</div>
			</a>
			
			<ul id="toc-Updating_the_library_directory-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Synchronization_across_computers_and_external_drives" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Synchronization_across_computers_and_external_drives">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Synchronization across computers and external drives</span>
				</div>
			</a>
			
			<ul id="toc-Synchronization_across_computers_and_external_drives-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Beets</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Beets.html" title="Beets – español" lang="es" hreflang="es" data-title="Beets" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Beets" title="Beets – 日本語" lang="ja" hreflang="ja" data-title="Beets" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://beets.io/">Beets</a> is a music tagger and library organizer using the <a rel="nofollow" class="external text" href="https://musicbrainz.org/">MusicBrainz</a> database. It has been initially released in 2010 and is regularly updated since.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=beets">beets</a></span> package or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/beets-git/">beets-git</a></span><sup><small>AUR</small></sup> for the development version.
</p>
<p>The audio file decoding backend of Beets is <a rel="nofollow" class="external text" href="https://github.com/beetbox/audioread">audioread</a>, a project developed by the same team.
This backend works itself by using, among others, <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a> and/or <a href="../en/GStreamer.html" title="GStreamer">GStreamer</a> (including its <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-libav">gst-libav</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugins-good">gst-plugins-good</a></span> packages) as backends.
</p>
<p>Additionally, see the <a href="#Plugins">#Plugins</a> for plugin specific dependencies.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Beets provides a command for configuration manipulations. To edit the configuration file, run <code>beet config -e</code>. It will be opened with the text editor specified in the <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>EDITOR</code>.</div>
<p>User configuration is done using <a href="https://en.wikipedia.org/wiki/YAML" class="extiw" title="wikipedia:YAML">YAML</a> syntax. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/beets/config.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">directory: ~/beets/library/     # Library directory to store music.
library: ~/beets/library.db     # Database file to store library state and metada.
</pre>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>See the <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/guides/main.html#">Getting Started</a> guide to start with Beets. In this section, we assume that the reader already know the basics. The following operations are organized by their goal and are more advanced examples than the basics. 
</p>
<h3><span class="mw-headline" id="Get_help_and_generalities">Get help and generalities</span></h3>
<p>The <code>beet</code> command and its subcommands (<i>e.g.</i>, <code>import</code>, <code>list</code>, <i>etc</i>.) supports a <code>-h/--help</code> flag to print the help. You can list enabled/loaded plugins using <code>beet version</code>. You can enable a verbose output for debugging using the <code>-vv</code> flag. Finally, you can ensure the default behavior without any loaded plugin only for one command using the <code>--plugin=""</code> flag.
</p>
<h3><span class="mw-headline" id="Add_music">Add music</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/guides/main.html#importing-your-library">Beets importing music</a>.
</p>
<p>By default, Beets will copy or move imported files as well as writing tags to the file. Beets support a <i>read-only</i> importation mode, where imported files will not be modified nor moved:
</p>
<pre>$ beet import -A -C -W <i>path</i>
</pre>
<p>Additionally, one may enable the <code>fetchart</code> plugin using <code>--plugin=fetchart</code> such that Beets will look for album arts in the same directory as the imported file.
</p>
<h3><span class="mw-headline" id="List_music">List music</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/guides/main.html#seeing-your-music">Beets seeing your music</a>.
</p>
<p>Beets support custom format for listing the music. The fields name can be either a default/standard field (<code>genre</code> in the following example) or a custom/flexible field (<code>mood</code> in the following example) as long as it is used in the Beets SQLite database:
</p>
<pre>$ beet ls -f 'Mood: ${mood} Genre: ${genre}' <i>query</i>
</pre>
<p>Here are some corner cases when listing music:
</p>
<ul><li>List files without titles in their tags:</li></ul>
<pre>$ beet list -p "title::^$"
</pre>
<ul><li>List missing files in the library:</li></ul>
<pre>$ beet --plugin="badfiles" bad 2&gt;/dev/null | grep "file does not exist"
</pre>
<ul><li>Delete missing files from the library automatically:</li></ul>
<pre>$ beet --plugin="badfiles" bad 2&gt;/dev/null | grep "file does not exist" | cut -d ":" -f 1 | xargs -I% beet remove -f path::%
</pre>
<h3><span class="mw-headline" id="Remove_music">Remove music</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/reference/cli.html#remove">Beets remove</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you remove music from your filesystem or do any changes to the files without using <code>beet</code>, do not forget to run <code>beet update</code> to update your library database.</div>
<h3><span class="mw-headline" id="Tag_music">Tag music</span></h3>
<p>To run the Beets <b>auto-tagger</b> on already imported music, the way to go is to re-import the files directly from the music library:
</p>
<ol>
<li>...using a path: <code>beet import <i>/my/beets/library/my/album</i></code>
</li>
<li>...using a query (see <a href="#Querying">#Querying</a>)]: <code>beet import -L <i>query</i></code>
</li>
</ol>
<p>To manually tag music, one may use the <code>modify</code> command or the <code>edit</code> command from the <code>edit</code>  plugin (see <a href="#Plugins">#Plugins</a>). Beware that the <code>edit</code> command will use the <code>import</code> configuration regarding moving (<code>move</code> option) and copying (<code>copy</code> option) for moving files after the command completion. For example, you can add two genre tags to the music using:
</p>
<pre>$ beet modify <i>query</i> genre="<i>genre1</i>;<i>genre2</i>"
</pre>
<p>Tagging modifications will be written to the database. To reflect the modifications into the file tags, use the following command:
</p>
<pre>$ beet write <i>query</i>
</pre>
<h3><span class="mw-headline" id="Querying">Querying</span></h3>
<p>Nearly all Beets commands operate on <i>matching items</i> (music files imported into the library) based on a query. You can list the fields available using the <code>beet fields</code> command. The query format is the following:
</p>
<dl>
<dt><code>value</code></dt>
<dd>Match songs with <code>value</code> contained in tags <code>title</code>, <code>artist</code>, <code>albumname</code>, <code>albumartist</code>, <code>genre</code>, <code>comments</code>.</dd>
<dt><code>#value</code></dt>
<dd>Match songs with the <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/bareasc.html"><code>bareasc</code></a> plugin, searching the library using simple ASCII character matching (ignoring special characters).</dd>
<dt><code>~value</code></dt>
<dd>Match sings with the <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/plugins/fuzzy.html"><code>fuzzy</code></a> plugin, searching the library using fuzzy matching algorithms.</dd>
<dt><code>tag:value</code></dt>
<dd>Match songs with <code>tag</code> containing <code>value</code>.</dd>
<dt><code>tag::regex</code></dt>
<dd>Match songs with <code>tag</code> matching the <a rel="nofollow" class="external text" href="https://docs.python.org/3/library/re.html">Python regular expression</a>'s <code>regex</code>.</dd>
<dt><code>tag:N1..N2</code></dt>
<dd>Match songs with <code>tag</code> matching numbers between the range <code>N1</code> and <code>N2</code>.</dd>
<dt>
<code>tag:=value</code> / <code>tag:=~value</code>
</dt>
<dd>Match songs with <code>tag</code> matching <code>value</code> in a case-sensitive or case-insensitive way, respectively.</dd>
<dt><code><i>SPACE</i></code></dt>
<dd>Logical AND between queries.</dd>
<dt><code>,<i>SPACE</i></code></dt>
<dd>Logical OR between queries (the <code><i>SPACE</i></code> character after the comma is mandatory to separate the keywords).</dd>
<dt>
<code>^</code> / <code>-</code>
</dt>
<dd>Logical NOT.</dd>
</dl>
<h3><span class="mw-headline" id="ReplayGain">ReplayGain</span></h3>
<p><a href="https://en.wikipedia.org/wiki/ReplayGain" class="extiw" title="wikipedia:ReplayGain">ReplayGain</a> support is accessible via an included plugin (see <a href="#Plugins">#Plugins</a>). One can compute ReplayGain information for files matching the query using:
</p>
<pre>$ beet --plugin="replaygain" replaygain <i>query</i> 
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Add the <code>-w -f</code> flags to force writing the result into file tags.</div>
<h3><span class="mw-headline" id="Album_art">Album art</span></h3>
<p>Album art is automatically fetched during the import, if the <code>fetchart</code> included plugin is enabled (see <a href="#Plugins">#Plugins</a>). After importing, one can:
</p>
<ul><li>Manually add an image as an album art inside a file metadata:</li></ul>
<pre>$ beet --plugin="embedart" embedart -f <i>/path/to/image.jpg</i> <i>query</i>
</pre>
<p>Ensure that the <code>zero</code> plugin is <b>not loaded</b>, otherwise it will delete our album art after saving it, therefore canceling our command.
</p>
<ul><li>Import an album art into the library:</li></ul>
<pre>$ beet --plugin="fetchart" fetchart -q <i>query</i>
</pre>
<p>It will search in priority for images on the filesystem, <i>i.e.</i>, where the music is stored in the library.
</p>
<ul><li>Remove album art from files:
<ul>
<li>First, include <code>images</code> in the <code>fields</code> parameter of the <code>zero</code> plugin inside the configuration file.</li>
<li>Second, run:</li>
</ul>
</li></ul>
<pre>$ beet --plugin="zero" zero <i>query</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> There is no confirmation before removing the album art and no output of processed files.</div>
<h2><span class="mw-headline" id="Plugins">Plugins</span></h2>
<p>Beets supports <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/plugins/index.html">official plugins</a> and <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/plugins/index.html#other-plugins">community plugins</a>. Here is a <i>curated list</i> of plugins that add major features that may be available in other music library organizer tools:
</p>
<dl>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/replaygain.html"><code>replaygain</code></a></dt>
<dd>Support computing and adding <a href="https://en.wikipedia.org/wiki/ReplayGain" class="extiw" title="wikipedia:ReplayGain">ReplayGain</a> information during music import (relies on the <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a> or <a href="../en/GStreamer.html" title="GStreamer">GStreamer</a> backend through the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-gobject">python-gobject</a></span> package).</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/plugins/chroma.html"><code>chroma</code></a></dt>
<dd>Compute audio fingerprint using the <a rel="nofollow" class="external text" href="https://acoustid.org/chromaprint">Chromaprint</a> technology and identify songs using the <a rel="nofollow" class="external text" href="https://acoustid.org/">AcoustID</a> online database. Requires the <code>fpcalc</code> command-line tool provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=chromaprint">chromaprint</a></span> package for fingerprint computation, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-pyacoustid">python-pyacoustid</a></span> package for fetching the online database. The fingerprint will be written inside the <code>ACOUSTID_FINGERPRINT</code> tag of files.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/lyrics.html"><code>lyrics</code></a></dt>
<dd>Search and download lyrics from web databases during music import (relies on the backend <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-beautifulsoup4">python-beautifulsoup4</a></span> package).</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/fetchart.html"><code>fetchart</code></a></dt>
<dd>Search the local filesystem and/or download album art from web databases during the music import.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/convert.html"><code>convert</code></a></dt>
<dd>Transcode a library into another directory (e.g., from lossless to lossy transcoding for nomad devices) (relies on backends like <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a>).</dd>
<dt><a rel="nofollow" class="external text" href="https://github.com/geigerzaehler/beets-alternatives"><code>alternatives</code></a></dt>
<dd>External plugin supporting multiple versions (e.g., a lossless and lossy version) or locations for the library.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/playlist.html"><code>playlist</code></a></dt>
<dd>Read playlists in <code>m3u</code> format.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/smartplaylist.html"><code>smartplaylist</code></a></dt>
<dd>Create and automatically update playlists in <code>m3u</code> format based on predefined queries.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/fuzzy.html"><code>fuzzy</code></a></dt>
<dd>Search the library using fuzzy pattern matching.</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/edit.html"><code>edit</code></a></dt>
<dd>Modify music metadata inside external editors (e.g., configuring the <code>EDITOR</code> variable for <a href="../en/Vim.html" title="Vim">Vim</a>, <a href="../en/Emacs.html" title="Emacs">Emacs</a>, etc.).</dd>
<dt><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/plugins/badfiles.html"><code>badfiles</code></a></dt>
<dd>Check for corrupted files using checksum. Requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=flac">flac</a></span> for FLAC files <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mp3val/">mp3val</a></span><sup><small>AUR</small></sup> for MP3 files.</dd>
</dl>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Enabling_tab_autocompletion">Enabling tab autocompletion</span></h3>
<p>Autocompletion is supported for <a href="../en/Bash.html" title="Bash">Bash</a> and <a href="../en/Zsh.html" title="Zsh">Zsh</a>.
</p>
<h4><span class="mw-headline" id="Bash">Bash</span></h4>
<p>Beets includes support for <a href="../en/Bash.html" title="Bash">Bash</a> shell <a href="../en/Bash.html#Tab_completion" title="Bash">command completion</a>. To enable completion, put the following line into your <code>.bashrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">eval "$(beet completion)"</pre>
<p>You will also need to <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bash-completion">bash-completion</a></span> for this to work.
</p>
<h4><span class="mw-headline" id="Zsh">Zsh</span></h4>
<p>The official Arch package install the <a href="../en/Zsh.html" title="Zsh">Zsh</a> completion on the system.
If using another installation method, to install the completions, make the <code>beets/extra/_beet</code> (from the upstream repository) file available in one of the <a href="../en/Zsh.html" title="Zsh">Zsh</a>'s <code>$fpath</code> directories (either by a copy or symlink). 
Using the Zsh's Bash completion compatibility as suggested by the documentation does only work partially.
</p>
<h3>
<span id="Setup_the_library_directory_.28external_drive.2C_network.29"></span><span class="mw-headline" id="Setup_the_library_directory_(external_drive,_network)">Setup the library directory (external drive, network)</span>
</h3>
<p>Once imported, Beets hard code the path of each item of the library inside the <a href="../en/SQLite.html" title="SQLite">SQLite</a>'s <code>.db</code> database file.
Therefore, it is recommended to use a fixed path on the filesystem using a link redirecting to the actual directory storing the Beets library.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is possible to use a symbolic link instead of an hardlink, since Beets will <b>not</b> dereference the link. Compared to an hardlink, it allows to point on a different filesystem (<i>e.g.</i>, an external drive).</div>
<p>It has the following advantages:
</p>
<ol>
<li>Having the link of the library <i>pointing to different paths across machines</i>, when the library is synced but not available on the same path.</li>
<li>Allowing to <i>dynamically change the path of the library</i> by updating the symbolic link, for example, when switching to a synced external hard drive.</li>
<li>Not having to <i>deal with SQLite's database</i> items path when the library is moved. Indeed, if you change the library location on the filesystem without any <code>beet</code> command, it will be cumbersome to change the path of already imported items inside the database file (see <a href="#Updating_the_library_directory">#Updating the library directory</a>).</li>
</ol>
<p>As an example, to use a symlink with a fixed path of <code>/srv/beets</code> pointing to a library mounted over network at <code>/mnt/network/beets</code>, execute:
</p>
<pre>$ ln -sfT /srv/beets /mnt/network/beets
</pre>
<p>You can rexecute the same command to update the symlink to another location later.
In the configuration file, one should have:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/beets/config.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">directory: /srv/beets
</pre>
<h3><span class="mw-headline" id="Updating_the_library_directory">Updating the library directory</span></h3>
<p>According to <a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/faq.html#point-beets-at-a-new-music-directory">Beets' FAQ</a>, two regular options are offered to modify the path to the library directory (containing music files) after the files have been imported:
</p>
<ol>
<li>Make the modification in <code>~/.config/beets/config.yaml</code> and use <code>beet move</code>. This solution has the disadvantage that the library should be moved <b>by Beets itself</b>, and not before by an external program.</li>
<li>Delete the SQLite database (<code>.db</code> file) and re-create it from the new path using <code>beet import -AWC</code>. This solution has the disadvantage that the <b>custom tags</b> that are stored inside the SQLite database itself (instead of inside the music files' metadata/header) <b>would be lost</b>.</li>
</ol>
<p>The last solution suggested by Beets developers are to manually modifying the <a href="../en/SQLite.html" title="SQLite">SQLite</a> database without further indication.
This can be achieved by the following, assuming that SQLite is installed, and that the old and new paths of the library was <code>/old/library/path</code> and <code>/new/library/path</code>, respectively.
</p>
<p>1. Make a backup of the library database and open it:
</p>
<pre>$ cp /path/to/library.db /path/to/library.db.bak"
$ sqlite /path/to/library.db
</pre>
<p>2. List the tables to check that the scheme corresponds to the following <code>UPDATE</code> requests, and update it (in-place):
</p>
<pre>sqlite&gt; .schema
sqlite&gt; UPDATE items  SET path    = REPLACE(path,    '/old/library/path', '/new/library/path');
sqlite&gt; UPDATE albums SET artpath = REPLACE(artpath, '/old/library/path', '/new/library/path');
</pre>
<p>3. Exit SQLite: 
</p>
<pre>sqlite&gt; .exit
</pre>
<p>4. Check that Beets correctly list the files of the library under the new path:
</p>
<pre>$ beet ls -p [QUERY]
</pre>
<h3><span class="mw-headline" id="Synchronization_across_computers_and_external_drives">Synchronization across computers and external drives</span></h3>
<p>Beets does not implement any syncing mechanisms on its own. However, its architecture makes it well suited to be used with other FOSS syncing software (as reported in its <a rel="nofollow" class="external text" href="https://github.com/beetbox/beets/issues/271">GitHub Issue #271</a>):
</p>
<dl>
<dt><a href="../en/Syncthing.html" title="Syncthing">Syncthing</a></dt>
<dd>For syncing the SQLite database and the library across devices.</dd>
<dt><a href="../en/Synchronization_and_backup_programs.html#Table" class="mw-redirect" title="Git-annex">git-annex</a></dt>
<dd>For syncing the library with a more advanced and fine-grained configuration across devices and external drives.</dd>
</dl>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://beets.io/">Website</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/beetbox/beets">GitHub</a></li>
<li>
<a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest">Documentation</a>
<ul>
<li><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/reference/cli.html">Command line interface</a></li>
<li><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/reference/config.html">Configuration guide</a></li>
<li><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/stable/faq.html">FAQ</a></li>
<li><a rel="nofollow" class="external text" href="https://beets.readthedocs.io/en/latest/plugins/index.html">Plugins</a></li>
</ul>
</li>
<li>Manpages:
<ul>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 1 beet"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/beet.1">beet(1)</a></span>: Command-line interface of Beets.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 5 beetsconfig"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/beetsconfig.5">beetsconfig(5)</a></span>: Configuration file of Beets.</li>
</ul>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Music.html" title="Category:Music">Music</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Beets&amp;oldid=827640">https://wiki.archlinux.org/index.php?title=Beets&amp;oldid=827640</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 23 February 2025, at 19:36.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
