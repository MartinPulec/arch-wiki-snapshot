<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Install Arch Linux on WSL - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Install_Arch_Linux_on_WSL rootpage-Install_Arch_Linux_on_WSL skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Install_WSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Install_WSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Install WSL</span>
				</div>
			</a>
			
			<ul id="toc-Install_WSL-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Update_WSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Update_WSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Update WSL</span>
				</div>
			</a>
			
			<ul id="toc-Update_WSL-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Install_Arch_Linux_in_WSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Install_Arch_Linux_in_WSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>Install Arch Linux in WSL</span>
				</div>
			</a>
			
			<ul id="toc-Install_Arch_Linux_in_WSL-sublist" class="vector-toc-list">
				<li id="toc-Automated_installation" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Automated_installation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3.1</span>
					<span>Automated installation</span>
				</div>
			</a>
			
			<ul id="toc-Automated_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manual_installation" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Manual_installation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3.2</span>
					<span>Manual installation</span>
				</div>
			</a>
			
			<ul id="toc-Manual_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Set_default_user" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_default_user">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Set default user</span>
				</div>
			</a>
			
			<ul id="toc-Set_default_user-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Open_URLs_in_the_WSL_hosts_browser" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Open_URLs_in_the_WSL_hosts_browser">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Open URLs in the WSL hosts browser</span>
				</div>
			</a>
			
			<ul id="toc-Open_URLs_in_the_WSL_hosts_browser-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Run_graphical_applications_with_WSLg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Run_graphical_applications_with_WSLg">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Run graphical applications with WSLg</span>
				</div>
			</a>
			
			<ul id="toc-Run_graphical_applications_with_WSLg-sublist" class="vector-toc-list">
				<li id="toc-Hardware_accelerated_rendering" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Hardware_accelerated_rendering">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.1</span>
					<span>Hardware accelerated rendering</span>
				</div>
			</a>
			
			<ul id="toc-Hardware_accelerated_rendering-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-WSL_interoperability" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WSL_interoperability">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>WSL interoperability</span>
				</div>
			</a>
			
			<ul id="toc-WSL_interoperability-sublist" class="vector-toc-list">
				<li id="toc-Bridge_the_ssh-agent_service_from_Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Bridge_the_ssh-agent_service_from_Windows">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4.1</span>
					<span>Bridge the ssh-agent service from Windows</span>
				</div>
			</a>
			
			<ul id="toc-Bridge_the_ssh-agent_service_from_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PAM_authentication_with_Windows_Hello" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#PAM_authentication_with_Windows_Hello">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4.2</span>
					<span>PAM authentication with Windows Hello</span>
				</div>
			</a>
			
			<ul id="toc-PAM_authentication_with_Windows_Hello-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Passing_devices_to_WSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Passing_devices_to_WSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Passing devices to WSL</span>
				</div>
			</a>
			
			<ul id="toc-Passing_devices_to_WSL-sublist" class="vector-toc-list">
				<li id="toc-Mount_a_disk" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Mount_a_disk">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5.1</span>
					<span>Mount a disk</span>
				</div>
			</a>
			
			<ul id="toc-Mount_a_disk-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connect_USB_devices" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connect_USB_devices">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5.2</span>
					<span>Connect USB devices</span>
				</div>
			</a>
			
			<ul id="toc-Connect_USB_devices-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Adjust_locale" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adjust_locale">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.6</span>
					<span>Adjust locale</span>
				</div>
			</a>
			
			<ul id="toc-Adjust_locale-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Failure_when_running_Docker_containers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Failure_when_running_Docker_containers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Failure when running Docker containers</span>
				</div>
			</a>
			
			<ul id="toc-Failure_when_running_Docker_containers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Docker_takes_longer_to_initialize" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Docker_takes_longer_to_initialize">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Docker takes longer to initialize</span>
				</div>
			</a>
			
			<ul id="toc-Docker_takes_longer_to_initialize-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Install Arch Linux on WSL</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>Arch Linux provides an official <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl/about">WSL (Windows Subsystem for Linux)</a> image as part of the <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archlinux-wsl">archlinux-wsl</a> project.
</p>
<p>Images are built and released monthly and aim to provide the simplest but complete system to offer an outright Arch Linux experience with WSL.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <b>WSL 2</b> is required. WSL 1 is <b>not</b> supported. These instructions assume the latest stable version is installed.
</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Install_WSL">Install WSL</h3></div>
<p><a rel="nofollow" class="external text" href="https://support.microsoft.com/en-us/windows/enable-virtualization-on-windows-c5578302-6e43-4b4b-a449-8ced115f58e1">Enable virtualization</a> in the UEFI Setup, then <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl/install">install</a> the <b>Windows Subsystem for Linux</b> from the Microsoft Store.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The Store version of WSL is <a rel="nofollow" class="external text" href="https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-in-the-microsoft-store-is-now-generally-available-on-windows-10-and-11/">now the default</a> version of WSL. You should not enable the "Windows Subsystem for Linux" optional component, nor install the WSL kernel or WSLg MSI packages as they are no longer needed. Using the <a rel="nofollow" class="external text" href="https://aka.ms/wslstorepage">Store version</a> of WSL allows you to <a rel="nofollow" class="external text" href="https://devblogs.microsoft.com/commandline/a-preview-of-wsl-in-the-microsoft-store-is-now-available/">get updates to WSL much faster</a> compared to when it was a Windows component. <a rel="nofollow" class="external text" href="https://aka.ms/wslg">WSLg</a> is also now bundled.</div>
<div class="mw-heading mw-heading3"><h3 id="Update_WSL">Update WSL</h3></div>
<p>To update to the latest stable version of WSL and WSLg, run the following command in an elevated Windows command-line shell:
</p>
<pre>&gt; wsl --update
</pre>
<p>To update to the latest pre-release version, run instead:
</p>
<pre>&gt; wsl --update --pre-release
</pre>
<div class="mw-heading mw-heading3"><h3 id="Install_Arch_Linux_in_WSL">Install Arch Linux in WSL</h3></div>
<p>From a Windows system <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl/install">with WSL 2 installed</a>, use one of the following installation methods.
</p>
<div class="mw-heading mw-heading4"><h4 id="Automated_installation">Automated installation</h4></div>
<p>Run the following command in a Windows shell:
</p>
<pre>&gt; wsl --install archlinux
</pre>
<p>You can then run Arch Linux in WSL via the <code>archlinux</code> application from the Start menu, or by running <code>wsl -d archlinux</code> in a Windows shell.
</p>
<div class="mw-heading mw-heading4"><h4 id="Manual_installation">Manual installation</h4></div>
<p>Download the <a rel="nofollow" class="external text" href="https://fastly.mirror.pkgbuild.com/wsl/latest/">latest Arch Linux .wsl</a> image and double-click on it to start the installation or run the following command in a Windows shell:
</p>
<pre>&gt; wsl --install --from-file <i>WSL_image</i>
</pre>
<p>For instance:
</p>
<pre>&gt; wsl --install --from-file C:\Users\<i>Username</i>\Downloads\archlinux-2025.04.01.121271.wsl
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> This will install the WSL image with the default distro name <code>archlinux</code>. If you would like to import it under a different name add the option <code>--name <i>distro_name</i></code>.</div>
<p>You can then run Arch Linux in WSL via the <code>archlinux</code> application from the Start menu, or by running <code>wsl -d archlinux</code> in a Windows shell.
</p>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Set_default_user">Set default user</h3></div>
<p>To set a different default user than <code>root</code>, first <a href="../en/Users_and_groups.html#Example_adding_a_user" title="Users and groups">ensure the user has been created</a>, then append the following to the <code>/etc/wsl.conf</code> file:
</p>
<pre>[user]
default=<i>username</i>
</pre>
<p>Make sure to give your <code>root</code> user a password before you close your session. If you find yourself 'locked out', invoke
</p>
<pre>&gt; wsl -u root
</pre>
<p>from a CMD window in the windows host.
</p>
<p>The change will apply at the next session. To terminate your current session, run the following command in a Windows shell:
</p>
<pre>&gt; wsl --terminate archlinux
</pre>
<p>If you are using WSL 2.4.10 or later, you can set the default user for your distribution with:
</p>
<pre>&gt; wsl --manage archlinux --set-default-user <i>username</i>
</pre>
<p>This change will take effect the next time you launch the distribution.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> WSL does not support enabling systemd in multiple running distributions when their respective default users share the same UID. It is recommended to use distinct UIDs for each default user of each WSL distributions / images (see <a href="../en/Users_and_groups.html#Example_adding_a_system_user" title="Users and groups">how to create a user with a specific UID</a>).</div>
<div class="mw-heading mw-heading3"><h3 id="Open_URLs_in_the_WSL_hosts_browser">Open URLs in the WSL hosts browser</h3></div>
<p>In order to open links in your Windows host browser install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span> package. This is important for various commands like <code>pkgctl repo web</code> and widely used in the authentication flows of the various cloud provider CLI tools (i.e. <code>az login</code>).
</p>
<div class="mw-heading mw-heading3"><h3 id="Run_graphical_applications_with_WSLg">Run graphical applications with WSLg</h3></div>
<p><a rel="nofollow" class="external text" href="https://github.com/microsoft/wslg">WSLg (Windows Subsystem for Linux GUI)</a> is a project that aims to enable <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps">running Linux applications with audio (PulseAudio) and graphical (X11 and Wayland) support within WSL</a>.
</p>
<p>WSLg is enabled by default. You can disable it by setting <code>wsl2.guiApplications</code> to <code>false</code> in <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config">the WSL configuration file</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Hardware_accelerated_rendering">Hardware accelerated rendering</h4></div>
<p>To enable <a rel="nofollow" class="external text" href="https://devblogs.microsoft.com/commandline/d3d12-gpu-video-acceleration-in-the-windows-subsystem-for-linux-now-available/">GPU video accelerated rendering</a> in WSL, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the following packages:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> - Contains the <code>d3d12</code> Gallium driver for OpenGL</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vulkan-dzn">vulkan-dzn</a></span> - Contains the experimental <code>dzn</code> (also known as <code>microsoft-experimental</code>) Vulkan driver</li>
</ul>
<p>You will need to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vulkan-icd-loader">vulkan-icd-loader</a></span> (and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-vulkan-icd-loader">lib32-vulkan-icd-loader</a></span> if you also want to run 32-bit applications) as well.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">export GALLIUM_DRIVER=d3d12
export LIBVA_DRIVER_NAME=d3d12
</pre>
<p>If OpenGL falls back to the llvmpipe software renderer for Intel GPUs, you need to create a symlink for libedit:
</p>
<pre># ln -s /usr/lib/libedit.so /usr/lib/libedit.so.2
</pre>
<p>See <a rel="nofollow" class="external free" href="https://github.com/microsoft/wslg/issues/996">https://github.com/microsoft/wslg/issues/996</a> and <a href="https://wiki.gentoo.org/wiki/Gentoo_in_WSL#OpenGL_falling_back_to_llvmpipe_software_renderer_on_Intel_GPUs" class="extiw" title="gentoo:Gentoo in WSL">Gentoo:Gentoo in WSL#OpenGL falling back to llvmpipe software renderer on Intel GPUs</a> for more information.
</p>
<div class="mw-heading mw-heading3"><h3 id="WSL_interoperability">WSL interoperability</h3></div>
<p>WSL features <a rel="nofollow" class="external text" href="https://github.com/ubuntu/WSL/blob/main/docs/tutorials/interop.md">interoperability between the Windows and WSL</a>. This allows you to run Windows binaries from within WSL.
</p>
<p>It is enabled by default. You can disable it by setting <code>interop.enabled</code> to <code>false</code> in the <code>/etc/wsl.conf</code> file. <a rel="nofollow" class="external autonumber" href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config#interop-settings">[1]</a>
</p>
<p>Various tools have been created to allow you to utilise Windows services and features from within WSL.
</p>
<div class="mw-heading mw-heading4"><h4 id="Bridge_the_ssh-agent_service_from_Windows">Bridge the ssh-agent service from Windows</h4></div>
<p><a rel="nofollow" class="external text" href="https://github.com/mame/wsl2-ssh-agent">wsl2-ssh-agent</a> is a tool that allows you to use the Windows <a href="../en/SSH_agent.html" class="mw-redirect" title="SSH agent">SSH agent</a> from within WSL.
</p>
<p>This is especially useful if you utilise <code>*-sk</code> SSH keys requiring the use of physical security keys or even <a rel="nofollow" class="external text" href="https://www.microsoft.com/en-us/windows/tips/windows-hello">Windows Hello</a>.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wsl2-ssh-agent/">wsl2-ssh-agent</a></span><sup><small>AUR</small></sup> and add the following to your <code>~/.bashrc</code>:
</p>
<pre>eval "$(/usr/sbin/wsl2-ssh-agent)"
</pre>
<p>Restart your shell and the <code>SSH_AUTH_SOCK</code> <a href="../en/Environment_variable.html" class="mw-redirect" title="Environment variable">environment variable</a> should be configured correctly.
</p>
<div class="mw-heading mw-heading4"><h4 id="PAM_authentication_with_Windows_Hello">PAM authentication with Windows Hello</h4></div>
<p><a rel="nofollow" class="external text" href="https://github.com/nullpo-head/WSL-Hello-sudo">WSL-Hello-Sudo</a> is a <a href="../en/PAM.html" title="PAM">PAM</a> plugin that allows you to authenticate your user via <a rel="nofollow" class="external text" href="https://www.microsoft.com/en-us/windows/tips/windows-hello">Windows Hello</a>.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wsl-hello-sudo-bin/">wsl-hello-sudo-bin</a></span><sup><small>AUR</small></sup> and run <code>/opt/wsl-hello-sudo/install.sh</code>. The installer will copy a Windows executable to a directory of your choosing and store a certificate used to authenticate beside it.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <a rel="nofollow" class="external free" href="https://github.com/nullpo-head/WSL-Hello-sudo">https://github.com/nullpo-head/WSL-Hello-sudo</a> has not been updated in 4 years, so <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wsl-hello-sudo-bin/">wsl-hello-sudo-bin</a></span><sup><small>AUR</small></sup> utilises a fork (<a rel="nofollow" class="external free" href="https://github.com/lzlrd/wsl-hello-sudo">https://github.com/lzlrd/wsl-hello-sudo</a>) which has merged in dependency updates.</div>
<p>Add <code>auth sufficient pam_wsl_hello.so</code> to any <code>/etc/pam.d</code> configuration files you wish to authenticate with Windows Hello for. For example, with sudo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/sudo</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
auth            sufficient      pam_wsl_hello.so
auth            include         system-auth
account         include         system-auth
session         include         system-auth
</pre>
<div class="mw-heading mw-heading3"><h3 id="Passing_devices_to_WSL">Passing devices to WSL</h3></div>
<p>WSL 2 is a <a href="../en/Hyper-V.html" title="Hyper-V">Hyper-V</a> virtual machine. This allows for passthrough for physical devices from the host (Windows) to the guest (WSL 2).
</p>
<div class="mw-heading mw-heading4"><h4 id="Mount_a_disk">Mount a disk</h4></div>
<p>WSL 2 supports attaching and mounting disks available to Windows.
</p>
<p>To do so, first idenitfy the <code>DeviceID</code> for the given disk with the following PowerShell command:
</p>
<pre>&gt; GET-CimInstance -query "SELECT * from Win32_DiskDrive"
</pre>
<p>Once you have found the disk you would like to pass, run the following on Windows (with Administrator privileges):
</p>
<pre>&gt; wsl --mount <i>DeviceID</i> --bare
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> This will take the disk offline in Windows! Make sure you have closed all running applications using the drive.</div>
<p>Once attached, you should be able to see the device with <i>lsblk</i>.
</p>
<p>To unmount a disk, run:
</p>
<pre>&gt; wsl --unmount <i>DeviceID</i>
</pre>
<p>For more information, see <a rel="nofollow" class="external free" href="https://learn.microsoft.com/en-us/windows/wsl/wsl2-mount-disk">https://learn.microsoft.com/en-us/windows/wsl/wsl2-mount-disk</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Connect_USB_devices">Connect USB devices</h4></div>
<p><a rel="nofollow" class="external text" href="https://github.com/dorssel/usbipd-win">usbipd-win</a> is a project which allows for sharing locally connected USB devices to other machines, including WSL 2.
</p>
<p>You first need to install the software on Windows. You can either run the installer (<i>.msi</i>) from the <a rel="nofollow" class="external text" href="https://github.com/dorssel/usbipd-win/releases/latest">latest release</a> or use use the <a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/package-manager/winget/">Windows Package Manager</a>:
</p>
<pre>&gt; winget install usbipd
</pre>
<p>Once installed, identify the USB devices available using and take note of the bus ID by running the following on Windows:
</p>
<pre>&gt; usbipd list
</pre>
<p>Prepare the USB device you have selected by running (this requires Administrator privileges):
</p>
<pre>&gt; usbipd bind --busid <i>busid</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Make sure you have closed all running applications using the USB device.</div>
<p>Then, attach the USB device to WSL 2 using:
</p>
<pre>&gt; usbipd attach --wsl --busid <i>busid</i>
</pre>
<p>Once attached, you should be able to see the device with <code>lsusb</code>.
</p>
<p>To detatch a USB device, run:
</p>
<pre>&gt; usbipd detach --busid <i>busid</i>
</pre>
<p>For more information, see <a rel="nofollow" class="external free" href="https://learn.microsoft.com/en-us/windows/wsl/connect-usb">https://learn.microsoft.com/en-us/windows/wsl/connect-usb</a>.
</p>
<p><br>
</p>
<div class="mw-heading mw-heading3"><h3 id="Adjust_locale">Adjust locale</h3></div>
<p>By default, WSL will try to set your locale to match windows. If you want to override this, run:
</p>
<pre>ln -sf /etc/locale.conf /etc/default/locale
</pre>
<p>Then <a href="../en/Locale.html" title="Locale">set your locale</a> the same way you would in any other installation.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Failure_when_running_Docker_containers">Failure when running Docker containers</h3></div>
<p>One might face the following error when running a <a href="../en/Docker.html" title="Docker">Docker</a> container from WSL:
</p>
<pre>Error response from daemon: path / is mounted on / but it is not a shared or slave mount
Error: failed to start containers
</pre>
<p>It is also possible that commands like <code>docker run</code> simply hang forever without producing any output.
</p>
<p>This is because Docker expects the root (<code>/</code>) directory to be mounted with rshared propagation.
</p>
<p>To do so, run:
</p>
<pre># mount --make-rshared /
</pre>
<p>To make the change persistent, you can <a rel="nofollow" class="external text" href="https://github.com/microsoft/WSL/issues/11715#issuecomment-2798498272">create a systemd service</a> that runs this command early in the boot:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/mount-root-rshared.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Remount / with shared propagation
Requires=-.mount
After=-.mount

[Service]
Type=oneshot
ExecStart=/bin/mount --make-rshared /

[Install]
WantedBy=local-fs.target</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>mount-root-rshared.service</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Docker_takes_longer_to_initialize">Docker takes longer to initialize</h3></div>
<p>If you start your WSL Session using <code>docker.service</code> or after <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>docker.socket</code> and executing <code>docker info</code> or any other <a href="../en/Docker.html" title="Docker">docker</a> command, it might take a very long time for docker to initialize.
</p>
<p>That's because <code>docker.socket</code> wants to start <code>systemd-networkd-wait-online.service</code> and that fails.
</p>
<p>So <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Disable">disable</a> <code>systemd-networkd-wait-online.service</code> fixes that.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux" class="extiw" title="wikipedia:Windows Subsystem for Linux">Wikipedia:Windows Subsystem for Linux</a></li>
<li><a href="https://wiki.gentoo.org/wiki/Gentoo_in_WSL" class="extiw" title="gentoo:Gentoo in WSL">Gentoo:Gentoo in WSL</a></li>
<li><a rel="nofollow" class="external text" href="https://learn.microsoft.com/en-us/windows/wsl">Official documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/microsoft/WSLg/wiki">WSLg GitHub Wiki</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Installation_process.html" title="Category:Installation process">Installation process</a></li>
<li><a href="../en/Category:Hypervisors.html" title="Category:Hypervisors">Hypervisors</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Install_Arch_Linux_on_WSL&amp;oldid=862869">https://wiki.archlinux.org/index.php?title=Install_Arch_Linux_on_WSL&amp;oldid=862869</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 January 2026, at 10:32.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Install Arch Linux on WSL</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
