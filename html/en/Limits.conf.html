<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>limits.conf - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Limits_conf rootpage-Limits_conf skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Syntax" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Syntax">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Syntax</div>
		</a>
		
		<ul id="toc-Syntax-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Recommendations" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Recommendations">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Recommendations</div>
		</a>
		
			<button aria-controls="toc-Recommendations-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Recommendations subsection</span>
			</button>
		
		<ul id="toc-Recommendations-sublist" class="vector-toc-list">
			<li id="toc-core" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#core">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>core</div>
			</a>
			
			<ul id="toc-core-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nice" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nice">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>nice</div>
			</a>
			
			<ul id="toc-nice-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nofile" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nofile">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>nofile</div>
			</a>
			
			<ul id="toc-nofile-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nproc" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nproc">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>nproc</div>
			</a>
			
			<ul id="toc-nproc-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-priority" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#priority">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>priority</div>
			</a>
			
			<ul id="toc-priority-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">limits.conf</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Limits.conf" title="Limits.conf – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Limits.conf.html" title="Limits.conf – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-go-next.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is a candidate for moving to <a href="/index.php?title=System_limits&amp;action=edit&amp;redlink=1" class="new" title="System limits (page does not exist)">System limits</a>.</b></p>
<div>
<b>Notes:</b> This should cover setting limits in systemd configs as well. (Discuss in <a href="../en/Talk:Limits.conf.html#Including_systemd_issues" title="Talk:Limits.conf">Talk:Limits.conf#Including systemd issues</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Cgroups.html" title="Cgroups">cgroups</a></li>
<li><a href="../en/Security.html" title="Security">Security</a></li>
</ul>
</div>
<p><code>/etc/security/limits.conf</code> allows setting resource limits for users logged in via <a href="../en/PAM.html" title="PAM">PAM</a>. This is a useful way of preventing, for example, <a href="https://en.wikipedia.org/wiki/Fork_bomb" class="extiw" title="wikipedia:Fork bomb">fork-bombs</a> from using up all system resources.  
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The file does not affect system services. For <a href="../en/Systemd.html" title="Systemd">systemd</a> services the files <code>/etc/systemd/system.conf</code>, <code>/etc/systemd/user.conf</code>, and <code>/etc/systemd/system/<i>unit</i>.d/override.conf</code> control the limit. See the <span class="plainlinks archwiki-template-man" title="$ man 5 systemd-system.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-system.conf.5">systemd-system.conf(5)</a></span> man page for details.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Syntax">Syntax</span></h2>
<p>The default file comes well-commented, but extra information can be gleaned by checking the <span class="plainlinks archwiki-template-man" title="$ man 5 limits.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/limits.conf.5">limits.conf(5)</a></span> man page.
</p>
<h2><span class="mw-headline" id="Recommendations">Recommendations</span></h2>
<h3><span class="mw-headline" id="core">core</span></h3>
<p>Corefiles are useful for debugging, but annoying when normally using your system.  You should have a soft limit of 0 and a hard limit of unlimited, and then temporarily raise your limit for the current shell with <code>ulimit -c unlimited</code> when you need corefiles for debugging.
</p>
<pre>*           soft    core       0           # Prevent corefiles from being generated by default.
*           hard    core       unlimited   # Allow corefiles to be temporarily enabled.
</pre>
<h3><span class="mw-headline" id="nice">nice</span></h3>
<p>You should disallow everyone except for root from having processes of minimal niceness (-20), so that root can fix an unresponsive system.
</p>
<pre>*           hard    nice       -19         # Prevent non-root users from running a process at minimal niceness.
root        hard    nice       -20         # Allows root to run a process at minimal niceness to fix the system when unresponsive.
</pre>
<h3><span class="mw-headline" id="nofile">nofile</span></h3>
<p>This limits the number of file descriptors any process owned by the specified domain can have open at any one time.  You may need to increase this value to something as high as <code>8192</code> <a rel="nofollow" class="external text" href="https://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=21080&amp;iTestingId=89787#notes">for certain games to work</a>. Some database applications like MongoDB or Apache Kafka recommend setting <code>nofile</code> to <code>64000</code> or <code>128000</code><a rel="nofollow" class="external autonumber" href="https://docs.mongodb.com/manual/reference/ulimit/#recommended-ulimit-settings">[1]</a>.
</p>
<pre>*           hard    nofile     65535
*           soft    nofile      8192       # Required for certain games to run.
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Setting this value too high or to unlimited may break some tools like <a rel="nofollow" class="external text" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=920913">fakeroot</a>.</div>
<h3><span class="mw-headline" id="nproc">nproc</span></h3>
<p>Having an nproc limit is important, because this will limit how many times a fork-bomb can replicate.  However, having it too low can make your system unstable or even unusable, as new processes will not be able to be created.
</p>
<p>A value of <code>300</code> is too low for even the most minimal of Window-managers to run more than a few desktop applications and daemons, but is often fine for an X-less server (In fact, <code>300</code> is the value that the University of Georgia's Computer Science department used for the undergrad process limit on its Linux servers in 2017.).
</p>
<p>Here is an example nproc limit for all users on a system:
</p>
<pre>*           hard    nproc      2048        # Prevent fork-bombs from taking out the system.
</pre>
<p>Note that this value of <code>2048</code> is just an example, and you may need to set yours higher.  On the flipside, you also may be able to do with it being lower.
</p>
<p>Whatever you set your nproc to, make sure to allow your root user to create as many processes as it wants;  else, you might make your system inoperable by setting the normal nproc limit too low.  Note that this line has to come after the global hardlimit, and that the value below (<code>65536</code>) is arbitrary.
</p>
<pre>root        hard    nproc      65536       # Prevent root from not being able to launch enough processes
</pre>
<h3><span class="mw-headline" id="priority">priority</span></h3>
<p>The default niceness should generally be 0, but you can set individual users and groups to have different default priorities using this parameter.
</p>
<pre>*           soft    priority   0           # Set the default priority to neutral niceness.
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Authentication.html" title="Category:Authentication">Authentication</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Move.html" title="Category:Pages or sections flagged with Template:Move">Pages or sections flagged with Template:Move</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Limits.conf&amp;oldid=812384">https://wiki.archlinux.org/index.php?title=Limits.conf&amp;oldid=812384</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 July 2024, at 14:09.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
