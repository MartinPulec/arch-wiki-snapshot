<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Nagios - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Nagios rootpage-Nagios skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Features" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Features">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Features</div>
		</a>
		
		<ul id="toc-Features-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Webserver" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Webserver">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Webserver</div>
		</a>
		
			<button aria-controls="toc-Webserver-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Webserver subsection</span>
			</button>
		
		<ul id="toc-Webserver-sublist" class="vector-toc-list">
			<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nagios_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nagios_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Nagios configuration</div>
			</a>
			
			<ul id="toc-Nagios_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Apache_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Apache_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Apache configuration</div>
			</a>
			
			<ul id="toc-Apache_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nginx_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nginx_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Nginx configuration</div>
			</a>
			
			<ul id="toc-Nginx_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lighttpd_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lighttpd_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Lighttpd configuration</div>
			</a>
			
			<ul id="toc-Lighttpd_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PHP_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PHP_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>PHP configuration</div>
			</a>
			
			<ul id="toc-PHP_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Final_steps" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Final_steps">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7</span>Final steps</div>
			</a>
			
			<ul id="toc-Final_steps-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Monitor_an_Arch_Linux_host" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Monitor_an_Arch_Linux_host">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Monitor an Arch Linux host</div>
		</a>
		
			<button aria-controls="toc-Monitor_an_Arch_Linux_host-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Monitor an Arch Linux host subsection</span>
			</button>
		
		<ul id="toc-Monitor_an_Arch_Linux_host-sublist" class="vector-toc-list">
			<li id="toc-nrpe" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nrpe">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>nrpe</div>
			</a>
			
			<ul id="toc-nrpe-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-check_by_ssh" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#check_by_ssh">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>check_by_ssh</div>
			</a>
			
			<ul id="toc-check_by_ssh-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Forks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Forks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Forks</div>
		</a>
		
		<ul id="toc-Forks-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Nagios</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Nagios" title="Nagios – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://www.nagios.org/">Nagios</a> is an open source host, service and network monitoring program. It monitors specified hosts and services, alerting you to any developing issues, errors or improvements. This article describes the installation and configuration of Nagios.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Features">Features</span></h2>
<p>Some of Nagios' features <a rel="nofollow" class="external text" href="http://nagios.sourceforge.net/docs/3_0/about.html#whatis">include</a>:
</p>
<ul>
<li>Monitoring of network services (SMTP, POP3, HTTP, NNTP, PING, etc.)</li>
<li>Monitoring of host resources (processor load, disk usage, etc.)</li>
<li>Simple plugin design that allows users to easily develop their own service checks</li>
<li>Parallelized service checks</li>
<li>Ability to define network host hierarchy using "parent" hosts, allowing detection of and distinction between hosts that are down and those that are unreachable</li>
<li>Contact notifications when service or host problems occur and get resolved (via email, pager, or user-defined method)</li>
<li>Ability to define event handlers to be run during service or host events for proactive problem resolution</li>
<li>Automatic log file rotation</li>
<li>Support for implementing redundant monitoring hosts</li>
<li>Optional web interface for viewing current network status, notification and problem history, log file, etc.</li>
</ul>
<p>The following installation and configuration were tested using nagios 3.2.0-1, <a href="../en/Apache_HTTP_Server.html" title="Apache HTTP Server">Apache</a> web server 2.2.14-2, and <a href="../en/PHP.html" title="PHP">PHP</a>5 5.3.1-3 by <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=88461">awayand</a>.
</p>
<h2><span class="mw-headline" id="Webserver">Webserver</span></h2>
<p>According to the <a rel="nofollow" class="external text" href="http://nagios.sourceforge.net/docs/3_0/about.html">official documentation</a> a webserver is not required, but if you wish to use any of the CGI features then a webserver (apache preferred), PHP (<a href="../en/Apache_HTTP_Server.html#PHP" title="Apache HTTP Server">php-apache</a>) for it and the gd library are required. This is assumed for this installation.
</p>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p>Before installation, it is a good idea to make sure you have prerequisites installed, e.g. if you are using nginx then: nginx, php, php-fpm, fcgiwrap might be a good start.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nagios/">nagios</a></span><sup><small>AUR</small></sup> package.
</p>
<p>Users may also want to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=monitoring-plugins">monitoring-plugins</a></span>. When you do, make sure to edit <code>/etc/nagios/resource.cfg</code> later to reflect the new paths:
</p>
<pre>#$USER1$=/usr/share/nagios/libexec
$USER1$=/usr/lib/monitoring-plugins
</pre>
<h3><span class="mw-headline" id="Nagios_configuration">Nagios configuration</span></h3>
<p>Copy the sample configuration files:
</p>
<pre># for samples in /etc/nagios/{cgi.cfg.sample,resource.cfg.sample,nagios.cfg.sample,objects/commands.cfg.sample,objects/contacts.cfg.sample,objects/localhost.cfg.sample,objects/templates.cfg.sample,objects/timeperiods.cfg.sample} ; do cp $samples ${samples%.*} ; done
</pre>
<p>Make owner/group for all the files you just copied and belong to root equal to nagios/nagios:
</p>
<pre># chown -R nagios:nagios /etc/nagios
</pre>
<p>If you have installed apache-tools, then create htpasswd.users file with a username (e.g. nagiosadmin). You will be prompted to add a password.
</p>
<pre># htpasswd -c /etc/nagios/htpasswd.users nagiosadmin
</pre>
<p>Instead, if you do not want to install apache-tools, you can run the following command
</p>
<pre># echo -e "nagiosadmin:`perl -le 'print crypt("<i>your_password</i>","salt")'`" &gt; /etc/nagios/htpasswd.users
</pre>
<p>You can also add a different user, but before you can do anything with it in Nagios, you will need to edit <code>/etc/nagios/cgi.cfg</code>. You can replace 'nagiosadmin' with the desired user, or, you can append it with comma: nagiosadmin,yourusername,yournextusername etc.
</p>
<p>If the owner/group of the nagios-plugins you installed are root:root, the following needs to be done:
</p>
<pre># chown -R nagios:nagios /usr/share/nagios
</pre>
<p>Once Nagios is configured, it is time to configure the webserver.
</p>
<h3><span class="mw-headline" id="Apache_configuration">Apache configuration</span></h3>
<p>If using <a href="../en/Apache_HTTP_Server.html" title="Apache HTTP Server">Apache HTTP Server</a> as webserver, edit <code>/etc/httpd/conf/httpd.conf</code> and add the following to the end of the file:
</p>
<pre>LoadModule php5_module modules/libphp5.so
Include "conf/extra/nagios.conf"
Include "conf/extra/php5_module.conf"</pre>
<p>If planning to use Nagios CGI scripts, you will need to uncomment the following:
</p>
<pre>LoadModule cgi_module modules/mod_cgi.so</pre>
<p>Copy configure file:
</p>
<pre># cp /etc/webapps/nagios/apache.example.conf /etc/httpd/conf/extra/nagios.conf
</pre>
<p>Add the apache user http to the group nagios, otherwise you will get the following error when using nagios: "Could not open command file '/var/nagios/rw/nagios.cmd' for update!"
</p>
<pre># usermod -G nagios -a http
</pre>
<p>If you are still getting this error, you might need to change the rights on the file:
</p>
<pre># chmod 666 /var/nagios/rw/nagios.cmd
</pre>
<h3><span class="mw-headline" id="Nginx_configuration">Nginx configuration</span></h3>
<p>Apart from php and php-fpm, You should have <a href="../en/Nginx.html#CGI_implementation" title="Nginx">fcgiwrap</a> installed or else CGI scripts will not run.
</p>
<p>You will also need to ensure php-fm and fcgiwrap services/sockets are started when using nginx
</p>
<ol>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a>, or restart, <code>php-fpm.service</code> for php-fpm</li>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a>, or restart, <code>fcgiwrap.socket</code> for fcgiwrap</li>
</ol>
<p>Example configuration:
</p>
<pre>server {
    server_name     nagios.yourdomain.tld;
    root            /usr/share/nagios/share;
    listen          80;
    index           index.php index.html index.htm;
    access_log      nagios.access.log;
    error_log       nagios.error.log;

    auth_basic            "Nagios Access";
    auth_basic_user_file  /etc/nagios/htpasswd.users;

    # Fixes frames not working
    add_header X-Frame-Options "ALLOW";
    
    location ~ \.php$ {
        try_files       $uri = 404;
        fastcgi_index   index.php;
        fastcgi_pass    unix:/run/php-fpm/php-fpm.sock;
        include         fastcgi.conf;
    }

    location ~ \.cgi$ {
        root            /usr/share/nagios/sbin;
        rewrite         ^/nagios/cgi-bin/(.*)\.cgi /$1.cgi break;
        fastcgi_param   AUTH_USER $remote_user;
        fastcgi_param   REMOTE_USER $remote_user;
        include         fastcgi.conf;
        fastcgi_pass    unix:/run/fcgiwrap.sock;
    }

    # Fixes the fact some links are expected to resolve to /nagios, see <a rel="nofollow" class="external text" href="https://serverfault.com/questions/653960/nagios-nginx-css-and-image-issues">here</a>.
    location /nagios {
        alias /usr/share/nagios/share;
    }

}</pre>
<h3><span class="mw-headline" id="Lighttpd_configuration">Lighttpd configuration</span></h3>
<p>Example for <a href="../en/Lighttpd.html" title="Lighttpd">lighttpd</a>:
</p>
<pre>$HTTP["url"] =~ "^/nagios" {
        alias.url = (
                "/nagios/cgi-bin" =&gt; "/usr/share/nagios/sbin",
                "/nagios" =&gt; "/usr/share/nagios/share" 
        )

        $HTTP["url"] =~ "^/nagios/cgi-bin" {
                cgi.assign = ( "" =&gt; "" )
        }

        auth.backend = "htpasswd" 
        auth.backend.htpasswd.userfile = "/etc/nagios/htpasswd.users" 
        auth.require = ( "" =&gt; (
                "method" =&gt; "basic",
                "realm" =&gt; "nagios",
                "require" =&gt; "user=nagiosadmin" 
                )
        )
}</pre>
<p>Note that mod_setenv, mod_cgi, mod_alias and mod_auth must be allowed.
</p>
<h3><span class="mw-headline" id="PHP_configuration">PHP configuration</span></h3>
<p>Edit <code>/etc/php/php.ini</code> to include <code>/usr/share/nagios</code> in the open_basedir directive.
</p>
<p>Example configuration:
</p>
<pre>open_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/:/usr/share/webapps:/etc/webapps:/usr/share/nagios</pre>
<h3><span class="mw-headline" id="Final_steps">Final steps</span></h3>
<ol>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a>, or restart, <code>nagios.service</code> for Nagios</li>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a>, or restart, your webserver: <code>httpd.service</code> for Apache, <code>nginx.service</code> for Nginx, and <code>lighttpd.service</code> for lightttpd.</li>
</ol>
<p>Now you should be able to access nagios through your webbrowser using the username and password you have created above using htpasswd:
</p>
<pre><a rel="nofollow" class="external free" href="http://localhost/nagios">http://localhost/nagios</a>
</pre>
<h2><span class="mw-headline" id="Monitor_an_Arch_Linux_host">Monitor an Arch Linux host</span></h2>
<p>You will need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=monitoring-plugins">monitoring-plugins</a></span> and either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nrpe">nrpe</a></span> or use <i>check_by_ssh</i> along with passwordless ssh to monitor your host.
</p>
<h3><span class="mw-headline" id="nrpe">nrpe</span></h3>
<p>The nrpe configuration is done in <code>/etc/nrpe/nrpe.cfg</code> and the interesting files to monitor will be in <code>/usr/share/nagios/libexec/</code>. Do not forget to edit <code>nrpe.cfg</code> as it is mostly empty after install.
</p>
<h3><span class="mw-headline" id="check_by_ssh">check_by_ssh</span></h3>
<p>On the monitoring system, su to the user account that Nagios/Icinga/whatever runs as, run <code>ssh-keygen</code>.  Create a user on the Arch system to be monitored with the same name and a temporary password, e.g:
</p>
<pre># useradd -m -d /home/icinga -s /bin/bash -p icinga icinga.
</pre>
<p>From the monitoring system run this (where <code><i>client_ipaddress</i></code> is the IP of the client):
</p>
<pre>$ ssh-copy-id <i>client_ipaddess</i>
</pre>
<p>Back on the client, clear the temporary password:
</p>
<pre># passwd -d icinga.
</pre>
<p>Verify you can login from the server with:
</p>
<pre>$ ssh icinga@<i>client_ipaddres</i>
</pre>
<p>Many non Arch systems install the monitoring plugins to <code>/usr/lib/nagios/plugins</code> but Arch installs them to <code>/usr/lib/monitoring-plugins/</code>.  It may be helpful to create <code>/usr/lib/nagios</code> and symlink <code>../monitoring-plugins</code> to <code>plugins</code> from that directory.
</p>
<p>Here is an example of a command invocation run from the command line as the monitoring system's user:
</p>
<pre>$ /usr/lib/nagios/plugins/check_by_ssh -E -H 192.168.100.11 -C "/usr/lib/nagios/plugins/check_disk -w 10 -c 5 --path=/ --units=GB"
</pre>
<h2><span class="mw-headline" id="Forks">Forks</span></h2>
<ul>
<li>
<a href="../en/Icinga.html" title="Icinga">Icinga</a> is a Nagios fork. More details about the fork can be found at <a rel="nofollow" class="external text" href="https://www.icinga.com/icinga/faq/icinga-vs-nagios/">Icinga FAQ: Why a fork?</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-01-13 ⓘ]</sup>
</li>
<li>
<a href="../en/Naemon.html" title="Naemon">Naemon</a> is the new monitoring suite that aims to be faster and more stable, while giving you a clearer view of the state of your network. <a rel="nofollow" class="external text" href="https://www.naemon.io/project.html">Naemon FAQ: Why a fork?</a>
</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.nagios.org/">nagios.org</a> Official website</li>
<li>
<a rel="nofollow" class="external text" href="http://www.nagiosplugins.org/">Nagios Plugins</a> the home of the official plugins</li>
<li>
<a href="https://en.wikipedia.org/wiki/Nagios" class="extiw" title="wikipedia:Nagios">wikipedia.org</a> Wikipedia article</li>
<li>
<a rel="nofollow" class="external text" href="https://exchange.nagios.org">NagiosExchange</a> overview of plugins, addons, mailing lists for Nagios</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Network_monitoring.html" title="Category:Network monitoring">Network monitoring</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Nagios&amp;oldid=796974">https://wiki.archlinux.org/index.php?title=Nagios&amp;oldid=796974</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 January 2024, at 18:20.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
