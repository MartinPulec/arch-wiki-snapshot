<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>rsyslog - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Rsyslog rootpage-Rsyslog skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Starting_service" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Starting_service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Starting service</div>
			</a>
			
			<ul id="toc-Starting_service-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_hostname" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_hostname">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Configure hostname</div>
			</a>
			
			<ul id="toc-Configure_hostname-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-imjournal" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#imjournal">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>imjournal</div>
			</a>
			
			<ul id="toc-imjournal-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-journald's_syslog-forward_feature" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#journald's_syslog-forward_feature">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>journald's syslog-forward feature</div>
			</a>
			
			<ul id="toc-journald's_syslog-forward_feature-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Facility_levels" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Facility_levels">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Facility levels</div>
		</a>
		
		<ul id="toc-Facility_levels-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Severity_levels" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Severity_levels">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Severity levels</div>
		</a>
		
		<ul id="toc-Severity_levels-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Examples">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Examples</div>
		</a>
		
			<button aria-controls="toc-Examples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Examples subsection</span>
			</button>
		
		<ul id="toc-Examples-sublist" class="vector-toc-list">
			<li id="toc-journald_with_rsyslog_for_kernel_messages" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#journald_with_rsyslog_for_kernel_messages">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>journald with rsyslog for kernel messages</div>
			</a>
			
			<ul id="toc-journald_with_rsyslog_for_kernel_messages-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">rsyslog</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Rsyslog" title="Rsyslog – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> References out of date documentation (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Rsyslog.html">Talk:Rsyslog</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://www.rsyslog.com">rsyslog</a> is a <a href="https://en.wikipedia.org/wiki/syslog" class="extiw" title="w:syslog">syslog</a> implementation that offers many benefits over <a href="../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a>. It can be configured to receive log entries from <a href="../en/Systemd/Journal.html" title="Systemd/Journal">systemd's journal</a> in order to process or filter them before quickly writing them to disk or sending them over network.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is recommended to disable and uninstall the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslog-ng">syslog-ng</a></span> package to prevent possible conflicts.</div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rsyslog/">rsyslog</a></span><sup><small>AUR</small></sup> package.
</p>
<h3><span class="mw-headline" id="Starting_service">Starting service</span></h3>
<p>You can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>rsyslog.service</code> after installation.
</p>
<h3><span class="mw-headline" id="Configure_hostname">Configure hostname</span></h3>
<p>Rsyslog uses the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> routine <code>gethostname()</code> or <code>gethostbyname()</code> to determine the hostname of the local machine. The <code>gethostname()</code> or <code>gethostbyname()</code> routine check the contents of <code>/etc/hosts</code> for the fully qualified domain name (FQDN) if you are not using <a href="../en/BIND.html" title="BIND">BIND</a> or <a href="../en/NIS.html" title="NIS">NIS</a>.
</p>
<p>You can check what the local machine's currently configured FQDN is by running <code>hostname --fqdn</code>. The output of <code>hostname --short</code> will be used by rsyslog when writing log messages. If you want to have full hostnames in logs, you need to add <code>$PreserveFQDN on</code> to the beginning of the file (before using any directive that write to files). This is because, rsyslog reads its configuration file and applies it on-the-go and then reads the later lines. 
</p>
<p>The <code>/etc/hosts</code> file contains a number of lines that map FQDNs to IP addresses and that map aliases to FQDNs. See the example <code>/etc/hosts</code> file below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#&lt;ip-address&gt;    &lt;hostname.domain.org&gt; &lt;hostname&gt;
#&lt;ip-address&gt;    &lt;actual FQDN&gt; &lt;aliases&gt;
127.0.0.1        localhost.localdomain somehost.localdomain localhost somehost
::1              localhost.localdomain somehost.localdomain localhost somehost
</pre>
<p><code>localhost.localdomain</code> is the first item following the IP address, so <code>gethostbyname()</code> function will return <b>localhost.localdomain</b> as the local machine's FQDN. Then <code>/var/log/messages</code> file will use <b>localhost</b> as hostname.
</p>
<p>To use <b>somehost</b> as the hostname. Move <b>somehost.localdomain</b> to the first item:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#&lt;ip-address&gt;    &lt;hostname.domain.org&gt; &lt;hostname&gt;
#&lt;ip-address&gt;    &lt;actual FQDN&gt; &lt;aliases&gt;
127.0.0.1        somehost.localdomain localhost.localdomain localhost somehost
::1              somehost.localdomain localhost.localdomain localhost somehost
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>rsyslog is configured in <code>/etc/rsyslog.conf</code>. See <a rel="nofollow" class="external text" href="https://www.rsyslog.com/doc/v8-stable/configuration/index.html">the official documentation</a> for more information on the available configuration options.
</p>
<p>By default, all syslog messages are handled by <a href="../en/Systemd/Journal.html" title="Systemd/Journal">systemd's journal</a>. In order to gather system logs in rsyslog, you either have to turn on <a href="#journald's_syslog-forward_feature">#journald's syslog-forward feature</a> or use the <a href="#imjournal">#imjournal</a> module of rsyslog to gather the logs by importing it from the systemd journald.
</p>
<h3><span class="mw-headline" id="imjournal">imjournal</span></h3>
<p>If you want rsyslog to pull messages from systemd, load the <i>imjournal</i> module:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rsyslog.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$ModLoad imjournal
</pre>
<p>See <a rel="nofollow" class="external text" href="https://www.rsyslog.com/doc/v8-stable/configuration/modules/imjournal.html">the documentation on the imjournal input module</a> for more information.
</p>
<h3>
<span id="journald.27s_syslog-forward_feature"></span><span class="mw-headline" id="journald's_syslog-forward_feature">journald's syslog-forward feature</span>
</h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ForwardToSyslog=yes
</pre>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rsyslog/">rsyslog</a></span><sup><small>AUR</small></sup> does not create its working directory <code>/var/spool/rsyslog</code> defined by the <code>$WorkDirectory</code> variable in the configuration file. You might need to create it manually or change its destination.
</p>
<p>Log output can be fine tuned in <code>/etc/rsyslog.conf</code>. The daemon uses Facility levels (see below) to determine what gets put where. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rsyslog.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># The authpriv file has restricted access.
authpriv.*                                              /var/log/secure
</pre>
<p>States that all messages falling under the <b>authpriv</b> facility are logged to <code>/var/log/secure</code>.
</p>
<p>Another example, which would be similar to the behaviour of <i>syslog-ng</i> for the old <code>auth.log</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rsyslog.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">auth.*                                                  -/var/log/auth
</pre>
<p>See <a href="../en/Systemd/Journal.html#Journald_in_conjunction_with_syslog" title="Systemd/Journal">Systemd/Journal#Journald in conjunction with syslog</a> for more information.
</p>
<h2><span class="mw-headline" id="Facility_levels">Facility levels</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The mapping between Facility Number and Keyword is not uniform over different operating systems and different syslog implementations. Use the keyword where possible, until it is determined which numbers are used by Arch.</div>
<table class="wikitable">

<tbody>
<tr>
<th>Facility Number</th>
<th>Keyword</th>
<th>Facility Description
</th>
</tr>
<tr>
<td>0</td>
<td>kern</td>
<td>kernel messages
</td>
</tr>
<tr>
<td>1</td>
<td>user</td>
<td>user-level messages
</td>
</tr>
<tr>
<td>2</td>
<td>mail</td>
<td>mail system
</td>
</tr>
<tr>
<td>3</td>
<td>daemon</td>
<td>system daemons
</td>
</tr>
<tr>
<td>4</td>
<td>auth</td>
<td>security/authorization messages
</td>
</tr>
<tr>
<td>5</td>
<td>syslog</td>
<td>messages generated internally by syslogd
</td>
</tr>
<tr>
<td>6</td>
<td>lpr</td>
<td>line printer subsystem
</td>
</tr>
<tr>
<td>7</td>
<td>news</td>
<td>network news subsystem
</td>
</tr>
<tr>
<td>8</td>
<td>uucp</td>
<td>UUCP subsystem
</td>
</tr>
<tr>
<td>9</td>
<td></td>
<td>clock daemon
</td>
</tr>
<tr>
<td>10</td>
<td>authpriv</td>
<td>security/authorization messages
</td>
</tr>
<tr>
<td>11</td>
<td>ftp</td>
<td>FTP daemon
</td>
</tr>
<tr>
<td>12</td>
<td>-</td>
<td>NTP subsystem
</td>
</tr>
<tr>
<td>13</td>
<td>-</td>
<td>log audit
</td>
</tr>
<tr>
<td>14</td>
<td>-</td>
<td>log alert
</td>
</tr>
<tr>
<td>15</td>
<td>cron</td>
<td>clock daemon
</td>
</tr>
<tr>
<td>16</td>
<td>local0</td>
<td>local use 0  (local0)
</td>
</tr>
<tr>
<td>17</td>
<td>local1</td>
<td>local use 1  (local1)
</td>
</tr>
<tr>
<td>18</td>
<td>local2</td>
<td>local use 2  (local2)
</td>
</tr>
<tr>
<td>19</td>
<td>local3</td>
<td>local use 3  (local3)
</td>
</tr>
<tr>
<td>20</td>
<td>local4</td>
<td>local use 4  (local4)
</td>
</tr>
<tr>
<td>21</td>
<td>local5</td>
<td>local use 5  (local5)
</td>
</tr>
<tr>
<td>22</td>
<td>local6</td>
<td>local use 6  (local6)
</td>
</tr>
<tr>
<td>23</td>
<td>local7</td>
<td>local use 7  (local7)
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Severity_levels">Severity levels</span></h2>
<p>As defined in <a href="https://tools.ietf.org/html/rfc5424" class="extiw" title="rfc:5424">RFC 5424</a>, there are eight severity levels:
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Code</th>
<th>Severity</th>
<th>Keyword</th>
<th>Description</th>
<th>General Description
</th>
</tr>
<tr>
<td>0</td>
<td>Emergency</td>
<td>emerg (panic)</td>
<td>System is unusable.</td>
<td>A "panic" condition usually affecting multiple apps/servers/sites. At this level it  would usually notify all tech staff on call.
</td>
</tr>
<tr>
<td>1</td>
<td>Alert</td>
<td>alert</td>
<td>Action must be taken immediately.</td>
<td>Should be corrected immediately, therefore notify staff who can fix the problem. An example would be the loss of a primary ISP connection.
</td>
</tr>
<tr>
<td>2</td>
<td>Critical</td>
<td>crit</td>
<td>Critical conditions.</td>
<td>Should be corrected immediately, but indicates failure in a primary system, an example is a loss of a backup ISP connection.
</td>
</tr>
<tr>
<td>3</td>
<td>Error</td>
<td>err (error)</td>
<td>Error conditions.</td>
<td>Non-urgent failures, these should be relayed to developers or admins; each item must be resolved within a given time.
</td>
</tr>
<tr>
<td>4</td>
<td>Warning</td>
<td>warning (warn)</td>
<td>Warning conditions.</td>
<td>Warning messages, not an error, but indication that an error will occur if action is not taken, e.g. file system 85% full - each item must be resolved within a given time.
</td>
</tr>
<tr>
<td>5</td>
<td>Notice</td>
<td>notice</td>
<td>Normal but significant condition.</td>
<td>Events that are unusual but not error conditions - might be summarized in an email to developers or admins to spot potential problems - no immediate action required.
</td>
</tr>
<tr>
<td>6</td>
<td>Informational</td>
<td>info</td>
<td>Informational messages.</td>
<td>Normal operational messages - may be harvested for reporting, measuring throughput, etc. - no action required.
</td>
</tr>
<tr>
<td>7</td>
<td>Debug</td>
<td>debug</td>
<td>Debug-level messages.</td>
<td>Info useful to developers for debugging the application, not useful during operations.
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> A common mnemonic used to remember the syslog levels in reverse order: "Do I Notice When Evenings Come Around Early".</div>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="journald_with_rsyslog_for_kernel_messages">journald with rsyslog for kernel messages</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Redundant instructions, systemd commands... (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Rsyslog.html">Talk:Rsyslog</a>)</div>
</div>
<p>Since the syslog component of systemd, journald, does not flush its logs to disk during normal operation, these logs will be gone when the machine is shut down abnormally (power loss, kernel lock-ups, ...). In the case of kernel lock-ups, it can be important to have some kernel logs for debugging. Until journald gains a configuration option for flushing kernel logs, rsyslog can be used in conjunction with journald.
</p>
<p>Summary of requirements:
</p>
<ul>
<li>journald must still get all log messages.</li>
<li>rsyslog must only log kernel messages, all other logs are handled by journald.</li>
<li>Kernel logs must be logged separatedly to <code>/var/log/kernel.log</code>.</li>
<li>Use systemd to start the service.</li>
</ul>
<p>Installation and configuration steps:
</p>
<ol>
<li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rsyslog/">rsyslog</a></span><sup><small>AUR</small></sup>.</li>
<li>Edit <code>/etc/logrotate.d/rsyslog</code> and add <code>/var/log/kernel.log</code> to the list of logs. Without this modification, the kernel log would grow indefinitely.</li>
<li>Edit <code>/etc/rsyslog.conf</code> and comment everything except for <code>$ModLoad imklog</code>. If a heart-beat (repeated confirmation that the log is alive) is preferred, <code>$ModLoad immark</code> should remain uncommented as well.</li>
<li>Add the next line to the same configuration file:
<dl>
<dd><pre>kern.*     /var/log/kernel.log;RSYSLOG_TraditionalFileFormat</pre></dd>
<dd>The <code>kern.*</code> part catches all messages originating from the kernel. <code>;RSYSLOG_TraditionalFileFormat</code> is used here to use a less verbose date format. By default, a date format like <code>2013-03-09T19:29:33.103897+01:00</code> is used. Since the kernel log contains a precision already (printk time) and the actual log time is irrelevant, a format like <code>Mar  9 19:29:13</code> might be preferred.</dd>
</dl>
</li>
<li>Since rsyslog should operate completely separated from systemd, remove the option that shares a socket with systemd:
<dl><dd><pre># sed 's/^Sockets=/#&amp;/' /usr/lib/systemd/system/rsyslog.service &gt; /etc/systemd/system/rsyslog.service</pre></dd></dl>
</li>
<li>Next, make rsyslog start on boot and start it for this session by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">starting</a> and enabling <code>rsyslog.service</code>.</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> rsyslog reads from <code>/proc/kmsg</code>. This means that subsequent reads from that file (either the user or a syslog daemon) will not read "old" logs from that file anymore. journald is not affected as it reads from <code>/dev/kmsg</code> which allows multiple readers.</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://www.rsyslog.com/doc/v8-stable/">Rsyslog manual</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Logging.html" title="Category:Logging">Logging</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Rsyslog&amp;oldid=805099">https://wiki.archlinux.org/index.php?title=Rsyslog&amp;oldid=805099</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 April 2024, at 09:17.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
