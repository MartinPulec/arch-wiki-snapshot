<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Blu-ray - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Blu-ray rootpage-Blu-ray skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-How_it_works" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#How_it_works">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>How it works</div>
		</a>
		
			<button aria-controls="toc-How_it_works-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle How it works subsection</span>
			</button>
		
		<ul id="toc-How_it_works-sublist" class="vector-toc-list">
			<li id="toc-Blu-ray_DRM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Blu-ray_DRM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Blu-ray DRM</div>
			</a>
			
			<ul id="toc-Blu-ray_DRM-sublist" class="vector-toc-list">
				<li id="toc-AACS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#AACS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1</span>AACS</div>
			</a>
			
			<ul id="toc-AACS-sublist" class="vector-toc-list">
				<li id="toc-AACS_decryption_process" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#AACS_decryption_process">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1.1</span>AACS decryption process</div>
			</a>
			
			<ul id="toc-AACS_decryption_process-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-BD+" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#BD+">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.2</span>BD+</div>
			</a>
			
			<ul id="toc-BD+-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Playback" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Playback">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Playback</div>
		</a>
		
			<button aria-controls="toc-Playback-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Playback subsection</span>
			</button>
		
		<ul id="toc-Playback-sublist" class="vector-toc-list">
			<li id="toc-Preparation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Preparation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Preparation</div>
			</a>
			
			<ul id="toc-Preparation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Querying_your_disc" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Querying_your_disc">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Querying your disc</div>
			</a>
			
			<ul id="toc-Querying_your_disc-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Decryption_process" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Decryption_process">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Decryption process</div>
			</a>
			
			<ul id="toc-Decryption_process-sublist" class="vector-toc-list">
				<li id="toc-Decrypting_using_VUK_(step_3.1_or_3.2.1)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Decrypting_using_VUK_(step_3.1_or_3.2.1)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Decrypting using VUK (step 3.1 or 3.2.1)</div>
			</a>
			
			<ul id="toc-Decrypting_using_VUK_(step_3.1_or_3.2.1)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Decrypting_using_PK_and_Host_K/C_(step_3.2.2)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Decrypting_using_PK_and_Host_K/C_(step_3.2.2)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>Decrypting using PK and Host K/C (step 3.2.2)</div>
			</a>
			
			<ul id="toc-Decrypting_using_PK_and_Host_K/C_(step_3.2.2)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BD+_support" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#BD+_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.3</span>BD+ support</div>
			</a>
			
			<ul id="toc-BD+_support-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Media_players" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Media_players">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Media players</div>
			</a>
			
			<ul id="toc-Media_players-sublist" class="vector-toc-list">
				<li id="toc-mplayer" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#mplayer">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>mplayer</div>
			</a>
			
			<ul id="toc-mplayer-sublist" class="vector-toc-list">
				<li id="toc-Stuttering_video" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Stuttering_video">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.1</span>Stuttering video</div>
			</a>
			
			<ul id="toc-Stuttering_video-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Incorrect_audio_language" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Incorrect_audio_language">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.2</span>Incorrect audio language</div>
			</a>
			
			<ul id="toc-Incorrect_audio_language-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Out-of-sync_audio" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Out-of-sync_audio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.3</span>Out-of-sync audio</div>
			</a>
			
			<ul id="toc-Out-of-sync_audio-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-mpv" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#mpv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.2</span>mpv</div>
			</a>
			
			<ul id="toc-mpv-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-VLC" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#VLC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3</span>VLC</div>
			</a>
			
			<ul id="toc-VLC-sublist" class="vector-toc-list">
				<li id="toc-VLC_loading_endlessly" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#VLC_loading_endlessly">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3.1</span>VLC loading endlessly</div>
			</a>
			
			<ul id="toc-VLC_loading_endlessly-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-xine" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#xine">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.4</span>xine</div>
			</a>
			
			<ul id="toc-xine-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Troubleshooting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Troubleshooting</div>
			</a>
			
			<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
				<li id="toc-Absent_KEYDB.cfg_file" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Absent_KEYDB.cfg_file">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.1</span>Absent KEYDB.cfg file</div>
			</a>
			
			<ul id="toc-Absent_KEYDB.cfg_file-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Revoked_Host_key/certificate" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Revoked_Host_key/certificate">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.2</span>Revoked Host key/certificate</div>
			</a>
			
			<ul id="toc-Revoked_Host_key/certificate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_aacskeys" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_aacskeys">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.3</span>Using aacskeys</div>
			</a>
			
			<ul id="toc-Using_aacskeys-sublist" class="vector-toc-list">
				<li id="toc-If_aacskeys_is_not_able_to_generate_the_key" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#If_aacskeys_is_not_able_to_generate_the_key">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.3.1</span>If aacskeys is not able to generate the key</div>
			</a>
			
			<ul id="toc-If_aacskeys_is_not_able_to_generate_the_key-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-If_you_have_the_corresponding_VUK_but_the_Blu-ray_will_not_play" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#If_you_have_the_corresponding_VUK_but_the_Blu-ray_will_not_play">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.4</span>If you have the corresponding VUK but the Blu-ray will not play</div>
			</a>
			
			<ul id="toc-If_you_have_the_corresponding_VUK_but_the_Blu-ray_will_not_play-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Blu-ray</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Blu-ray" title="Blu-ray – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Optical_disc_drive.html" title="Optical disc drive">Optical disc drive</a></li>
</ul>
</div>
<p>This article is designed to help Linux users to play the Blu-ray discs they have legally purchased on their computers. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Since no commercial Blu-ray player software is available on their system, Linux users have to use open-source libraries capable of handling the DRM schemes that protect these disc contents. This is legal in most countries where interoperability allows this.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="How_it_works">How it works</span></h2>
<h3><span class="mw-headline" id="Blu-ray_DRM">Blu-ray DRM</span></h3>
<p>Contrary to the DVD CSS, which was definitely compromised once the unique encryption key had been discovered, Blu-ray uses stronger DRM mechanisms, which makes it a lot more difficult to manage. Firstly, the AACS standard uses a lot more complicated cryptographic process to protect the disc content, but also allows the industry to revoke compromised keys and distribute new keys through new discs. Secondly, Blu-ray may also use another layer of protection: BD+. Although most of commercial discs use AACS, a few of them additionally use BD+. In 2007, the AACS system was compromised and decryption keys were published on the Internet. Many decryption programs were made available, but the interest to Linux users was the capability of playing their discs - legally purchased - on their computers. Although the industry  was able to revoke the first leaked decryption keys, new keys are regularly published in a cat and mouse play.
</p>
<h4><span class="mw-headline" id="AACS">AACS</span></h4>
<p>The AACS specification and decryption process are publicly available at <a rel="nofollow" class="external autonumber" href="https://aacsla.com/aacs-specifications/">[1]</a>. Many articles and research papers describe it in detail at <a rel="nofollow" class="external autonumber" href="https://forum.doom9.org/showthread.php?t=122363">[2]</a>, <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20170809220215/http://cacr.uwaterloo.ca/~dstinson/papers/AACS-journal.pdf">[3]</a> or <a rel="nofollow" class="external autonumber" href="https://www.iis.sinica.edu.tw/papers/lcs/5007-F.pdf">[4]</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-07-30 ⓘ]</sup>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libaacs">libaacs</a></span> is a research project from the VideoLAN developer team to implement the Advanced Access Content System specification, and distributed as an open-source library <a rel="nofollow" class="external autonumber" href="https://www.videolan.org/developers/libaacs.html">[5]</a>. This project does not offer any key or certificate that could be used to decode encrypted copyrighted material. However, combined with a key database file, it is possible to use it to play Blu-ray discs that use the AACS standard. This file is called <code>KEYDB.cfg</code> and is accessed by libaacs in <code>~/.config/aacs</code>. The format of this file is available at <a rel="nofollow" class="external autonumber" href="https://code.videolan.org/videolan/libaacs/-/blob/master/KEYDB.cfg">[6]</a>.
</p>
<h5><span class="mw-headline" id="AACS_decryption_process">AACS decryption process</span></h5>
<p>The AACS decryption process for a protected disc by a licensed player goes through four stages:
</p>
<ol>
<li>The software/embedded player's Device Keys, together with the disc's Media Key Block (MKB) data are used to retrieve a "Processing Key", and with that (plus another datum from the MKB) to compute the Media Key.</li>
<li>That Media Key, together with the disc's Volume ID (VID) obtained by the player presenting a valid Host Certificate to the drive is used to compute the Volume Unique Key (VUK).</li>
<li>This VUK is used to unscramble the disc's scrambled Title Keys.</li>
<li>Finally those Title Keys unscramble the disc's protected media content.</li>
</ol>
<p>Note that it is the disc that contains the MKB. MKBs have been renewed since the first commercial Blu-ray release in 2006. The latest MKB is version 78, and many discs actually share the same MKB. The software player provides the Host key and certificate, whereas the drive contains a list of the Host key/certificates that have been revoked. Host key/certification revocation occurs when a newer disc (containing a higher MKB than the previous played disc) is decrypted, or played, or attempted to decrypt or play (the mere insertion of a disc does not update the drive). When this happens, the drive forever loses its capability to use older Host key/certificates.
</p>
<p>Using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libaacs">libaacs</a></span>, the decryption process can skip some of these stages to reach the last step, which allows the media player to play the disc. This is either by providing in the <code>KEYDB.cfg</code> file either (or both):
</p>
<ul>
<li>a valid (corresponding to the MKB version of the disc) Processing key and a valid (i.e. non revoked by the drive) Host key/certificate</li>
<li>a valid VUK for the specific disc.</li>
</ul>
<p>If libaacs finds a valid processing key for the disc MKB version as well as a valid Host key and certificates, it can start the decryption process from step 2. However, the Host key/certificates are regularly revoked through the propagation of new Blu-ray discs. Once revoked, a drive is not able to read both new and older discs. This is usually irreversible and can only be fixed by providing a more recent Host key/certificate (for Windows users, this corresponds to updating their software player). The advantage of this method is that until the Host key/certificate is revoked, and as long as the disc uses an MKB version for which the Processing key is known, libaacs is able to compute the VUK of any disc.
</p>
<p>Thankfully, in case no valid Processing key is available and/or the Host certificate has been revoked, libaacs has an alternative way to decrypt a disc: by providing a valid VUK in the <code>KEYDB.cfg</code> file. This allows libaacs to skip directly to step 3. Contrary to the Processing keys, VUKs are unique and specific to one disc ; however the great advantage is that once computed the VUK cannot be revoked. Note that if libaacs is able to perform step 2 (with a valid Host key/certificate), then it stores the VUK calculated in step 3 in <code>~/.cache/aacs/vuk</code>. At subsequent viewings of the same disc, libaacs can reuse the stored VUK. Thus it may be a good idea to backup these VUKs or, even better, share them online.
</p>
<p>There have been several efforts to compile VUKs from various sources. Early attempts were provided in various forums, such as <a rel="nofollow" class="external text" href="https://forum.doom9.org/forumdisplay.php?f=9">Doom9.org</a>. As the community got organised, a centralised VUK database was created at <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20170726015555/http://www.labdv.com/aacs">[7]</a> with more than 24,000 published VUKs ; however, this website appears to be no longer maintained. A new initiative by the author of the <a rel="nofollow" class="external text" href="https://forum.doom9.org/showthread.php?t=172472">FindVUK tool</a> was then created at <a rel="nofollow" class="external free" href="http://fvonline-db.bplaced.net/">http://fvonline-db.bplaced.net/</a> with more than 150,000 downloadable entries, which makes it the most comprehensive source of public VUKs available.
</p>
<h4>
<span id="BD.2B"></span><span class="mw-headline" id="BD+">BD+</span>
</h4>
<p>BD+ is an additional but optional component of the Blu-ray DRM. In December 2013, VideoLAN released the long awaited <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libbdplus/">libbdplus</a></span><sup><small>AUR</small></sup> which provides experimental support for BD+ decryption. The library does not provide keys or certificates required for BD+ decryption, you need to retrieve and install them separately.
</p>
<p>BD+ mainly works by adding errors to the video stream, not enough to make it unwatchable but enough to make it unpleasant to watch due to near constant artifacting. These are fixed in official players by using "fixup tables", which are downloaded from the internet and provide a mapping to convert the broken video stream into the correct video stream.
</p>
<h2><span class="mw-headline" id="Playback">Playback</span></h2>
<h3><span class="mw-headline" id="Preparation">Preparation</span></h3>
<ol>
<li>
<a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libbluray">libbluray</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libaacs">libaacs</a></span>.</li>
<li>Download a <code>KEYDB.cfg</code> file (uppercase matters) from <a rel="nofollow" class="external autonumber" href="http://fvonline-db.bplaced.net/">[8]</a> and copy it in the directory <code>~/.config/aacs</code>. This file contains VUK data required for attempting the decryption process described below for more than 90,000 discs. Note that all languages contain the same information to read a disc, only the name of the disc is translated. You may want to update this file regularly, as new versions are provided from time to time.</li>
<li>Optionally, copy the PK and Host K/C data provided at <a rel="nofollow" class="external autonumber" href="https://forum.doom9.org/showpost.php?p=1883655&amp;postcount=3">[9]</a> at the beginning of that <code>KEYDB.cfg</code> file. This provides PK and Host K/C data for discs up to MKB v68. This is only necessary for discs that may not already be listed in the VUK list, and will only work for drives that have never read a disc using MKB v70 or above.</li>
<li>If necessary (i.e. if volumes are not mounted automatically on your system), mount the disc to a directory, <i>e.g.</i>: <pre># mount /dev/sr0 /media/blurays</pre>
</li>
</ol>
<h3><span class="mw-headline" id="Querying_your_disc">Querying your disc</span></h3>
<p>The <code>bd_info</code> tool that comes with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libbluray">libbluray</a></span> is a useful tool to identify what specific encryption and DRM schemes are used on your target disc and whether it is decryptable with your current setup. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># bd_info /dev/sr0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Using libbluray version 1.2.1
aacs.c:597: Error calculating media key. Missing right processing key ?
mmc.c:386: AACS not active or supported by the drive
bluray.c:1091: WARNING: BluRay profile 6 BD-J menu support is experimental
Volume Identifier   : TITLE
BluRay detected     : yes
First Play supported: yes
Top menu supported  : yes
HDMV titles         : 8
BD-J titles         : 3
UNSUPPORTED titles  : 0

BD-J detected       : yes
Java VM found       : yes
BD-J handled        : yes
BD-J organization ID: XXXXX
BD-J disc ID        : XX000000000000000000000000XXXXX

AACS detected       : yes
libaacs detected    : yes
Disc ID             : XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AACS MKB version    : 76
AACS handled        : yes

BD+ detected        : no
...
</pre>
<p>Note the <code>AACS handled: yes</code> that indicates this disc is decryptable and playback should not be an issue.
</p>
<h3><span class="mw-headline" id="Decryption_process">Decryption process</span></h3>
<p>Launch a Blu-ray software player, such as VLC, and try to play the disc (on VLC, select <i>Media &gt; Open Disc</i>, then in the <i>Disc</i> tab, choose <i>Blu-ray</i>. Be sure <i>No disc Menus</i> is checked.). The software player will then apply the decryption process described below:
</p>
<ol>
<li>The user starts playing a Blu-ray with a video player having libbluray and libaacs support.</li>
<li>If the BR disc is not scrambled with AACS, go to 4.1.</li>
<li>If the BR disc is scrambled with AACS, libaacs will:
<ol>
<li>Check if a valid VUK for the disc is already available in <code>~/.cache/aacs/vuk/</code>. If yes, go to step 4.1, if not continue to next step.</li>
<li>Read <code>~/.config/aacs/KEYDB.cfg</code>:
<ol>
<li>If a valid VUK is available, go to 4.1, if not continue to next step.</li>
<li>If a valid PK (<i>i.e.</i> corresponding to the disc MKB version) and a valid (non-revoked by drive) Host key/certificate is available, libaacs will attempt to compute the VUK. The VUK is then stored in <code>~/.cache/aacs/vuk</code> for future use. Go to step 4.1. If no valid PK/HKC are available, go to step 4.2.</li>
</ol>
</li>
</ol>
</li>
<li>Result
<ol>
<li>The software player is able to play the disc content.</li>
<li>The software player fails to read the disc content.</li>
</ol>
</li>
</ol>
<h4>
<span id="Decrypting_using_VUK_.28step_3.1_or_3.2.1.29"></span><span class="mw-headline" id="Decrypting_using_VUK_(step_3.1_or_3.2.1)">Decrypting using VUK (step 3.1 or 3.2.1)</span>
</h4>
<p>Using the VUK specific to your disc will always work, and cannot be revoked by the industry, as it is the most downstream decryption key for a Blu-ray disc. However, there is one unique VUK per disc, corresponding to one VID, making this method rely on VUK lists or databases. The VUK will be known if either of these are true:
</p>
<ul>
<li>decrypting using PK and Host K/C described below has worked once, and the generated VUK for your disc has been stored in <code>~/.cache/aacs/vuk</code>, or</li>
<li>the valid VUK for your disc has been obtained from a third party (<i>i.e.</i> is available in <code>KEYDB.cfg</code>). This allows you to read a disc, even if the PK and host key/certificate have been revoked for your disc MKB version.</li>
</ul>
<p>If none of these are true, then the software player will attempt decrypting the disc using the second method.
</p>
<h4>
<span id="Decrypting_using_PK_and_Host_K.2FC_.28step_3.2.2.29"></span><span class="mw-headline" id="Decrypting_using_PK_and_Host_K/C_(step_3.2.2)">Decrypting using PK and Host K/C (step 3.2.2)</span>
</h4>
<p>This method uses the Processing keys and a Host Key/Certificate present at the beginning of the <code>KEYDB.cfg</code> file and will only work if they have not been revoked in your drive.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> As of August 2019, latest commercial Blu-ray discs come with MKB v70. Because the latest publicly available PK and Host K/C are valid up to MKB v68, this method can only be used for drives that have only opened discs using MKB v68 or below. If you have opened a disc using MKB v70 or above, all publicly known Host K/C have been revoked on your drive, and you can only rely on the <a href="#Decrypting_using_VUK_(step_3.1_or_3.2.1)">former</a> method.</div>
<p>If this method is successful, after you play the disc, libaacs will store the VUK in <code>~/.cache/aacs/vuk</code>. The filename is the disc ID and its content is the VUK itself. VLC will reuse this VUK even if it does not find a valid <code>KEYDB.cfg</code> file, so it could be a good idea to backup this directory for the future.
</p>
<h4>
<span id="BD.2B_support"></span><span class="mw-headline" id="BD+_support">BD+ support</span>
</h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libbdplus/">libbdplus</a></span><sup><small>AUR</small></sup> provides experimental support for BD+ decryption, but if this fails, users will have to use commercial solutions, such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/makemkv/">makemkv</a></span><sup><small>AUR</small></sup> or <a href="#See_also">DVDFab</a> (under Wine).
</p>
<p>Since version 0.2.0, libbdplus supports cached tables that are used to correct the streams, thus circumventing the need to fully emulate the BD+ virtual machine.
</p>
<p>In order for libbdplus to work, the following preparation needs to be done:
</p>
<ol>
<li>Download the BD+ virtual machine files and the archives of the cached tables from the Doom9’s forum <a rel="nofollow" class="external autonumber" href="https://forum.doom9.org/showthread.php?t=176924">[10]</a>.</li>
<li>Move the virtual machine files to <code>~/.config/bdplus/vm0/</code>.</li>
<li>Extract the cached tables and move them to <code>~/.cache/bdplus/convtab/</code>.</li>
</ol>
<p>Now, when playing a BD+ protected disc, libbdplus should find the appropriate table and fix the stream.
</p>
<h3><span class="mw-headline" id="Media_players">Media players</span></h3>
<p>These are media players capable of using libbluray and libaacs to play AACS-scrambled Blu-ray discs.
</p>
<h4><span class="mw-headline" id="mplayer">mplayer</span></h4>
<p>To play Blu-ray discs in mplayer the basic playback command is:
</p>
<pre>$ mplayer br:///<i>/bluray/mount/dir</i>
</pre>
<p>or:
</p>
<pre>$ mplayer br://<i>title number</i> -bluray-device <i>/bluray/mount/dir</i>
</pre>
<h5><span class="mw-headline" id="Stuttering_video">Stuttering video</span></h5>
<p>It is likely that you will need to enable hardware acceleration and multi core CPU support for the Blu-ray to play smoothly.
</p>
<p>For nvidia cards, enable hardware acceleration by installing libvdpau and using the option <code>--hwdec=auto</code> with mplayer. e.g:
</p>
<pre>$ mplayer --hwdec=auto br:///<i>/bluray/mount/dir</i>
</pre>
<p>For multi core CPU support use the options <code>--vd-lavc-threads=<i>N</i></code>, where <code><i>N</i></code> is the number of cores, e.g:
</p>
<pre>$ mplayer --vd-lavc-threads=4 br:///<i>/bluray/mount/dir</i>
</pre>
<h5><span class="mw-headline" id="Incorrect_audio_language">Incorrect audio language</span></h5>
<p>You can scroll through the playback languages using the <code>#</code> key.
</p>
<h5><span class="mw-headline" id="Out-of-sync_audio">Out-of-sync audio</span></h5>
<p>From your first mplayer output, you must find the codec used for the Blu-ray. It will be at the end of the line "Selected video codec".
</p>
<p>For H.264 discs use the option <code>-vc ffh264vdpau</code>. e.g:
</p>
<pre>$ mplayer -vc ffh264vdpau br:///<i>/bluray/mount/dir</i>
</pre>
<p>For VC-1 discs use <code>-vc ffvc1vdpau</code>. e.g:
</p>
<pre>$ mplayer -vc ffvc1vdpau br:///<i>/bluray/mount/dir</i>
</pre>
<p>For MPEG discs use <code>-vc ffmpeg12vdpau</code>. e.g:
</p>
<pre>$ mplayer -vc ffmpeg12vdpau br:///<i>/bluray/mount/dir</i>
</pre>
<h4><span class="mw-headline" id="mpv">mpv</span></h4>
<p>Blu-Ray playback can simply be achieved with:
</p>
<pre>$ mpv bd://<i>title/device</i>
</pre>
<h4><span class="mw-headline" id="VLC">VLC</span></h4>
<p>Start playback with:
</p>
<pre>$ vlc bluray://<i>/bluray/mount/dir</i>
</pre>
<h5><span class="mw-headline" id="VLC_loading_endlessly">VLC loading endlessly</span></h5>
<p>If VLC is endlessly loading the video without giving an error message, see <a href="../en/VLC_media_player.html#Media_does_not_load" title="VLC media player">VLC media player#Media does not load</a>.
</p>
<h4><span class="mw-headline" id="xine">xine</span></h4>
<p>Start playback with:
</p>
<pre>$ xine bluray://<i>/bluray/mount/dir</i>
</pre>
<h3><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h3>
<h4><span class="mw-headline" id="Absent_KEYDB.cfg_file">Absent KEYDB.cfg file</span></h4>
<p>If a valid VUK is found in <code>~/.cache/aacs/vuk</code>, then libaacs does not need to use <code>KEYDB.cfg</code> to decrypt the content. However, a <code>KEYDB.cfg</code> file in <code>~/.config/aacs/</code> is still required (even if that file is empty).
</p>
<h4>
<span id="Revoked_Host_key.2Fcertificate"></span><span class="mw-headline" id="Revoked_Host_key/certificate">Revoked Host key/certificate</span>
</h4>
<p>Unfortunately, what may happen when trying to play a newer Blu-ray disc is the revocation of host key/certificates (which are keys of licensed software players) by your drive. When this happens, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aacskeys/">aacskeys</a></span><sup><small>AUR</small></sup> will return this message:
</p>
<pre>The given Host Certficate / Private Key has been revoked by your drive.
</pre>
<p>This is part of the AACS protection scheme: editors are able to revoke old software player host keys that have leaked on the Internet and distribute the lists on newer commercial disc releases. This is irreversible and cannot be fixed even after reflashing the drive. The only two ways to correct this would be:
</p>
<ul>
<li>to update the host key/certificate part in <code>KEYDB.cfg</code> to ones that have not been revoked (yet)</li>
<li>to add in <code>KEYDB.cfg</code> the VUK of each specific disc instead, <a href="#Decrypting_using_VUK_(step_3.1_or_3.2.1)">as explained above</a>. VUKs cannot be revoked by the industry.</li>
</ul>
<p>When a disc (using mplayer or vlc) is succesfully decrypted, libaacs will store the VUK in <code>~/.cache/aacs/vuk</code>. If the host key/certificate in <code>KEYDB.cfg</code> is subsequently revoked, VLC will still be able to use the stored VUK, so it could be a good idea to backup the <code>~/.cache/aacs</code> directory for the future.
</p>
<h4><span class="mw-headline" id="Using_aacskeys">Using aacskeys</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aacskeys/">aacskeys</a></span><sup><small>AUR</small></sup>. You need to run <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aacskeys/">aacskeys</a></span><sup><small>AUR</small></sup> from a directory that contains valid host key/certificate and processing keys:
</p>
<pre>$ cd /usr/share/aacskeys
</pre>
<p>and run: 
</p>
<pre>$ aacskeys <i>/bluray/mount/dir</i>
</pre>
<p>eg: 
</p>
<p>$ cd /usr/share/aacskeys &amp;&amp; aacskeys /media/blurays
</p>
<p>If you wish, you may add the Blu-ray to the key database: edit <code>~/.config/aacs/KEYDB.cfg</code> and add the information output by aacskeys using this syntax:
</p>
<pre>0x<i>unit key file hash</i> = Film Title    | V | 0x<i>volume unique key</i>
</pre>
<h5><span class="mw-headline" id="If_aacskeys_is_not_able_to_generate_the_key">If aacskeys is not able to generate the key</span></h5>
<p>Try <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/makemkv/">makemkv</a></span><sup><small>AUR</small></sup>, it may give you clearer error messages if nothing else.
</p>
<p>If you have a supported drive, you may also look at flashing it with a <a rel="nofollow" class="external text" href="https://www.makemkv.com/forum/viewtopic.php?t=19634#p74718">custom firmware</a> which allows the entire disc to be read without verification. This is referred to as enabling "LibreDrive" mode. <code>sdftool</code>, which comes with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/makemkv/">makemkv</a></span><sup><small>AUR</small></sup>, may work to flash your drive in Linux natively. Options are explained a bit in discussion of the <a rel="nofollow" class="external text" href="https://www.makemkv.com/forum/viewtopic.php?f=16&amp;t=22896#p94848">GUI wrapper</a> which may help to determine when options like <code>enc</code> are required.
</p>
<p>Like any other firmware flash, be very careful - there is the possibility of bricking your device.
</p>
<p>Once flashed the change is persistent and the new firmware should allow media players like VLC to read the disc directly without makemkv's involvement.
</p>
<h4><span class="mw-headline" id="If_you_have_the_corresponding_VUK_but_the_Blu-ray_will_not_play">If you have the corresponding VUK but the Blu-ray will not play</span></h4>
<p>Some drives need the sg module loaded. 
</p>
<pre># modprobe sg</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p>Below are some options for Blu-ray/HD-DVD decryption. Users can employ to backup a commercial Blu-ray movie under Fair Use guidelines:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aacskeys/">aacskeys</a></span><sup><small>AUR</small></sup> - Open source</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/makemkv/">makemkv</a></span><sup><small>AUR</small></sup> - Closed source/limited free beta, has a native Linux version</li>
</ul>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://github.com/m4tthi4s/vukextract">vukextract</a> <a rel="nofollow" class="external text" href="https://forum.doom9.org/showthread.php?t=174404">VukExtract support+discussion</a> - Open source software that uses proprietary DVDFab to extract VUKs</li>
<li>
<a rel="nofollow" class="external text" href="https://www.redfox.bz/anydvdhd.html">AnyDVD HD</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-07-30 ⓘ]</sup> - Commercial software requiring users to run it on an Microsoft OS in a VM.</li>
<li>
<a rel="nofollow" class="external text" href="https://appdb.winehq.org/objectManager.php?sClass=application&amp;iId=2377">DVDFab HD Decrypter</a> - Commercial software for Windows, but works fine using <a href="../en/Wine.html" title="Wine">Wine</a>.</li>
<li>
<a rel="nofollow" class="external text" href="https://www.aiseesoft.com/blu-ray-player/">Aiseesoft Blu-ray Player</a> - Commercial software player for Windows, but works fine using <a href="../en/Wine.html" title="Wine">Wine</a>.</li>
<li>
<a rel="nofollow" class="external text" href="https://forum.doom9.org/showthread.php?t=176924">Blu-ray playback with libaacs and libbdplus thread</a> on Doom9’s forum.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li>
<li><a href="../en/Category:Optical_disc.html" title="Category:Optical disc">Optical disc</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Blu-ray&amp;oldid=813268">https://wiki.archlinux.org/index.php?title=Blu-ray&amp;oldid=813268</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 05:50.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
