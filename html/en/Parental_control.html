<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Parental control - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Parental_control rootpage-Parental_control skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Applications" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Applications">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Applications</div>
		</a>
		
		<ul id="toc-Applications-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Restrict_opening_applications" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Restrict_opening_applications">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Restrict opening applications</div>
		</a>
		
		<ul id="toc-Restrict_opening_applications-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Whitelist_with_Tinyproxy_and_Firehol" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Whitelist_with_Tinyproxy_and_Firehol">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Whitelist with Tinyproxy and Firehol</div>
		</a>
		
		<ul id="toc-Whitelist_with_Tinyproxy_and_Firehol-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-OpenDNS_Parental_Control" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#OpenDNS_Parental_Control">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>OpenDNS Parental Control</div>
		</a>
		
		<ul id="toc-OpenDNS_Parental_Control-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Editing_/etc/hosts" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Editing_/etc/hosts">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Editing /etc/hosts</div>
		</a>
		
		<ul id="toc-Editing_/etc/hosts-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Blocklisting_using_named" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Blocklisting_using_named">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Blocklisting using named</div>
		</a>
		
		<ul id="toc-Blocklisting_using_named-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Squid" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Squid">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Squid</div>
		</a>
		
		<ul id="toc-Squid-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Browser_add-ons" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Browser_add-ons">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Browser add-ons</div>
		</a>
		
		<ul id="toc-Browser_add-ons-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Parental control</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Parental_control.html" title="Parental control – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%9A%E3%82%A2%E3%83%AC%E3%83%B3%E3%82%BF%E3%83%AB%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB" title="ペアレンタルコントロール – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>Several methods exist to protect and limit child activity on a computer.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Any security features will be effective only on the level you enforce them. For example, even after installing a parental control application in the operating system, the child may bypass it by downloading and booting any Linux distribution live image.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Applications">Applications</span></h2>
<ul><li>
<b>timekpr-next</b> — Timekpr-nExT, a fresh, simple and easy to use screen time managing application that helps optimizing time spent at computer.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://mjasnik.gitlab.io/timekpr-next/">https://mjasnik.gitlab.io/timekpr-next/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/timekpr-next/">timekpr-next</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>timeoutd</b> — A lightweight alternative to timekpr, it scans <code>/var/run/utmp</code> every minute and checks <code>/etc/timeouts</code> for an entry matching a restricted user.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sohonet/timeoutd">https://github.com/sohonet/timeoutd</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/timeoutd/">timeoutd</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>logkeys</b> — A daemon that logs keypresses into a logfile for later inspection.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/kernc/logkeys">https://github.com/kernc/logkeys</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/logkeys/">logkeys</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Restrict_opening_applications">Restrict opening applications</span></h2>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=malcontent">malcontent</a></span> allows setting access restrictions for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=flatpak">flatpak</a></span> based applications.
</p>
<pre>malcontent-client set-app-filter timmy x-scheme-handler/http
</pre>
<p>This will disallow the user timmy from opening a web browser provided by Flatpak.
</p>
<h2><span class="mw-headline" id="Whitelist_with_Tinyproxy_and_Firehol">Whitelist with Tinyproxy and Firehol</span></h2>
<p>The following description will enable you to filter any user's access to the internet with a whitelist of url-s using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/firehol/">firehol</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tinyproxy">tinyproxy</a></span> (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tinyproxy-git/">tinyproxy-git</a></span><sup><small>AUR</small></sup>).
</p>
<p><code>/etc/tinyproxy/tinyproxy.conf</code> consists of the following changes:
</p>
<pre>FilterURLs On
FilterDefaultDeny Yes
Filter "/etc/tinyproxy/whitelist"
</pre>
<p><code>/etc/tinyproxy/whitelist</code> should hold the url's that will be only allowed accessed by selected users. A silly example:
</p>
<pre>(www|wiki|static).archlinux.org
google.com
</pre>
<p><code>/etc/firehol/firehol.conf</code> should contain the following line:
</p>
<pre>transparent_proxy "80 443" 8888 "nobody root bin myaccount"
</pre>
<p>where myaccount is my account that should not be filtered by Tinyproxy.
</p>
<h2><span class="mw-headline" id="OpenDNS_Parental_Control">OpenDNS Parental Control</span></h2>
<p><a rel="nofollow" class="external text" href="https://www.opendns.com/home-internet-security/">OpenDNS</a> provides free DNS services as an alternative to your ISP's default servers. Furthermore, they provide optional filtering capabilities. Different levels of filtering is possible; see the OpenDNS main page for details.
</p>
<p>For dynamic IP addresses, it is a good idea to keep them updated on OpenDNS. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ddclient">ddclient</a></span> and edit <code>/etc/ddclient/ddclient.conf</code> as follows:
</p>
<pre># OpenDNS.com account-configuration
use=web, web=myip.dnsomatic.com
server=updates.opendns.com
protocol=dyndns2
login=myopendns@email.address
password=myopendnspassword
myhostname
</pre>
<p>You may sometimes even set up your router to use OpenDNS, therefore allowing protection spanning on all devices connected to that router.
</p>
<h2>
<span id="Editing_.2Fetc.2Fhosts"></span><span class="mw-headline" id="Editing_/etc/hosts">Editing /etc/hosts</span>
</h2>
<p>You may configure your <a href="https://en.wikipedia.org/wiki/Hosts_(file)" class="extiw" title="wikipedia:Hosts (file)">/etc/hosts</a> file to block access to certain domains. A more draconian approach is to only allow domains explicitly stated in <code>/etc/hosts</code>, as described <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/ParentalControls#Do_It_Yourself_Whitelisting">here</a>. If you do this, please remember that this will affect your whole system, so for example pacman may be unable to connect to the update server unless you make a proper binding in your <code>/etc/hosts</code>.
</p>
<h2><span class="mw-headline" id="Blocklisting_using_named">Blocklisting using named</span></h2>
<p>See also: <a href="../en/BIND.html" title="BIND">BIND</a>
</p>
<p>Create stub zone file ("/var/named/denied.zone") that redirects everything to localhost
</p>
<pre>@                               1D IN SOA   ns1.example.com. root.example.com. (
                                   42    ; serial (yyyymmdd##)
                                   3H    ; refresh
                                   15M   ; retry
                                   1W    ; expiry
                                   1D )  ; minimum ttl
                               1D  IN  NS      ns.example.com.
                      1D  IN  A       127.0.0.1
                      1D  IN  AAAA    ::1

*                      1D  IN  A       127.0.0.1
*                      1D  IN  AAAA    ::1
</pre>
<p>Add
</p>
<pre>zone "SOME-DOMAIN-1.TLD" IN { type master; file "denied.zone"; };
...
zone "SOME-DOMAIN-N.TLD" IN { type master; file "denied.zone"; };
</pre>
<p>to named.conf.
</p>
<p>Recent named versions support DoT and DoH, so you can expose named to internet and use it from outside your lan.
(For example Firefox can use DoH, android devices has global "private DNS server" setting for DoT)
</p>
<h2><span class="mw-headline" id="Squid">Squid</span></h2>
<p><a rel="nofollow" class="external text" href="http://www.squid-cache.org">Squid</a>  is feature reach proxy that supports authorization, caching, TLS bumping, transparency with firewall, access lists based on MAC, IP, domain, and TLS SNI.
It has separate <a href="../en/Squid.html" title="Squid">article</a>.
In combination with <a href="../en/Nftables.html" title="Nftables">nftables</a>, <a href="../en/Squid.html" title="Squid">Squid</a> can be used to fully control which websites can be browsed by the children (see <a rel="nofollow" class="external autonumber" href="https://archtemis.readthedocs.io/en/latest/network.html#parental-controls">[1]</a>).
</p>
<h2><span class="mw-headline" id="Browser_add-ons">Browser add-ons</span></h2>
<p>Several add-ons exist for web browsers to filter web content. Some of them can even block out pages examining on their body, not only on their URL. Be warned, however, that this is not a very secure way. Starting Firefox in safe mode, messing with the Firefox profile directory or Firefox profile manager are obvious ways to attempt to shut down Firefox-based add-ons. If all else fails, the kid may simply use a different browser.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Security.html" title="Category:Security">Security</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Parental_control&amp;oldid=809314">https://wiki.archlinux.org/index.php?title=Parental_control&amp;oldid=809314</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 25 May 2024, at 15:09.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
