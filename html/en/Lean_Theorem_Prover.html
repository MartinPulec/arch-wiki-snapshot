<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lean Theorem Prover - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lean_Theorem_Prover rootpage-Lean_Theorem_Prover skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation_of_lean" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation_of_lean">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation of lean</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation_of_lean-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation of lean subsection</span>
			</button>
		
		<ul id="toc-Installation_of_lean-sublist" class="vector-toc-list">
			<li id="toc-Lean_4_using_elan" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lean_4_using_elan">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Lean 4 using elan</span>
				</div>
			</a>
			
			<ul id="toc-Lean_4_using_elan-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lean_3_via_the_AUR" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lean_3_via_the_AUR">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Lean 3 via the AUR</span>
				</div>
			</a>
			
			<ul id="toc-Lean_3_via_the_AUR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Project_Management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Project_Management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Project Management</span>
			</div>
		</a>
		
			<button aria-controls="toc-Project_Management-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Project Management subsection</span>
			</button>
		
		<ul id="toc-Project_Management-sublist" class="vector-toc-list">
			<li id="toc-Structure_of_a_project" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Structure_of_a_project">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Structure of a project</span>
				</div>
			</a>
			
			<ul id="toc-Structure_of_a_project-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Creating_a_project" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Creating_a_project">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Creating a project</span>
				</div>
			</a>
			
			<ul id="toc-Creating_a_project-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Managing_a_project" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Managing_a_project">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Managing a project</span>
				</div>
			</a>
			
			<ul id="toc-Managing_a_project-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Contributing_to_Mathlib" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Contributing_to_Mathlib">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Contributing to Mathlib</span>
				</div>
			</a>
			
			<ul id="toc-Contributing_to_Mathlib-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Automatically_generating_documentation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Automatically_generating_documentation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Automatically generating documentation</span>
				</div>
			</a>
			
			<ul id="toc-Automatically_generating_documentation-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Text_editors" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Text_editors">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Text editors</span>
			</div>
		</a>
		
			<button aria-controls="toc-Text_editors-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Text editors subsection</span>
			</button>
		
		<ul id="toc-Text_editors-sublist" class="vector-toc-list">
			<li id="toc-Using_Lean_with_Emacs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_Lean_with_Emacs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Using Lean with Emacs</span>
				</div>
			</a>
			
			<ul id="toc-Using_Lean_with_Emacs-sublist" class="vector-toc-list">
				<li id="toc-Install_lean-mode" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Install_lean-mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1</span>
					<span>Install lean-mode</span>
				</div>
			</a>
			
			<ul id="toc-Install_lean-mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Keybindings" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Keybindings">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.2</span>
					<span>Keybindings</span>
				</div>
			</a>
			
			<ul id="toc-Keybindings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Automatic_unicode_input" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Automatic_unicode_input">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.3</span>
					<span>Automatic unicode input</span>
				</div>
			</a>
			
			<ul id="toc-Automatic_unicode_input-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Viewing_goal_in_separate_buffer" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Viewing_goal_in_separate_buffer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.4</span>
					<span>Viewing goal in separate buffer</span>
				</div>
			</a>
			
			<ul id="toc-Viewing_goal_in_separate_buffer-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Using_Lean_with_Neovim" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_Lean_with_Neovim">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Using Lean with Neovim</span>
				</div>
			</a>
			
			<ul id="toc-Using_Lean_with_Neovim-sublist" class="vector-toc-list">
				<li id="toc-Install_lean.nvim" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Install_lean.nvim">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1</span>
					<span>Install lean.nvim</span>
				</div>
			</a>
			
			<ul id="toc-Install_lean.nvim-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Caches_and_oleans" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Caches_and_oleans">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Caches and oleans</span>
				</div>
			</a>
			
			<ul id="toc-Caches_and_oleans-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Lean_documentation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Lean_documentation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Lean documentation</span>
			</div>
		</a>
		
		<ul id="toc-Lean_documentation-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Lean Theorem Prover</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>The <a rel="nofollow" class="external text" href="https://leanprover.github.io/">Lean theorem prover</a> is a proof assistant developed principally by Leonardo de Moura at Microsoft Research. The Lean mathematical library, <a rel="nofollow" class="external text" href="https://github.com/leanprover-community/mathlib4">mathlib</a>, is a community-driven effort to build a unified library of mathematics formalized in the Lean proof assistant.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation_of_lean">Installation of lean</span></h2>
<h3><span class="mw-headline" id="Lean_4_using_elan">Lean 4 using elan</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/leanprover/elan">elan</a> is a tool to manage installs of the lean theorem prover.
It facilitates maintaining several concurrent versions of lean.
In addition, as lean 4 is under heavy development, using it often requires installing nightly builds, which is made easy using elan.
elan installs lean in subdirectories of <code>$HOME/.elan/toolchains</code>, and does not require root access.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/elan-lean/">elan-lean</a></span><sup><small>AUR</small></sup> package.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The rest of these instructions explain how to install lean, but if you wish to contribute to an existing project, such as mathlib, the lean installation will be handled automatically, and you can skip ahead to the <a href="#Project_Management">Project Management</a> section</div>
<p>To install the latest stable version of lean 4, use
</p>
<pre>$ elan toolchain install leanprover/lean4:stable
</pre>
<p>However, many applications (including using mathlib4) require development versions of lean4. For instance, the build of lean that mathlib4 is using can be found in the file <a rel="nofollow" class="external autonumber" href="https://github.com/leanprover-community/mathlib4/blob/master/lean-toolchain">[1]</a>. To install the desired build, run
</p>
<pre>$ elan toolchain install leanprover/lean4:<i>build</i>
</pre>
<p>where <code><i>build</i></code> should be replaced with the desired build.
</p>
<p>The installed versions of lean can be listed with
</p>
<pre>$ elan show
</pre>
<p>and a default can be selected with
</p>
<pre>$ elan default <i>build</i>
</pre>
<p>When using lean 4, the default build can be overridden for a given project by <code>cd</code>-ing to the project directory and creating a file
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">lean-toolchain</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>build</i></pre>
<p>Replace <code><i>build</i></code> with the appropriate build identifier.
</p>
<p>To get the path to an executable in the current lean build, use
</p>
<pre>$ elan which <i>name_of_executable</i>
</pre>
<p><br>
</p>
<h3><span class="mw-headline" id="Lean_3_via_the_AUR">Lean 3 via the AUR</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lean-community-bin/">lean-community-bin</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lean-community/">lean-community</a></span><sup><small>AUR</small></sup>.
</p>
<p>To install mathlib, you must first install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-mathlibtools/">python-mathlibtools</a></span><sup><small>AUR</small></sup>, which will install 'leanproject'.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-mathlibtools/">python-mathlibtools</a></span><sup><small>AUR</small></sup> will not install mathlib, just the tools needed to download mathlib.</div>
<p>To install mathlib, you must create a lean project:
</p>
<pre>$ cd <i>/path/to/project</i>
$ leanproject new <i>name_of_project</i>
</pre>
<p>which will download mathlib to <code><i>/path/to/project/name_of_project/</i>_target/deps/mathlib</code>.
</p>
<h2><span class="mw-headline" id="Project_Management">Project Management</span></h2>
<p>In this section, we will describe how to create and contribute to Lean 4 projects, including mathlib4.
</p>
<h3><span class="mw-headline" id="Structure_of_a_project">Structure of a project</span></h3>
<p>A Lean 4 project will contain several files that are used to manage the project.
</p>
<ul>
<li>
<code>lakefile.lean</code>: contains information on how to build the project, as well as a list of dependencies.</li>
<li>
<code>lean-toolchain</code>: a single-line file specifying the build to be used for the project.</li>
<li>
<code>lake-manifest.json</code>: an automatically generated file that contains information on the specific version of each of the installed dependencies. If you have a <code>lake-manifest.json</code> file, running <code>lake update</code> will download the versions of the dependencies specified in <code>lake-manifest.json</code>. This is useful to avoid incompatible dependency versions.</li>
<li>
<code>.lake</code> (or, in earlier versions of lean 4, <code>lake-packages</code>): this is where dependencies are installed.</li>
<li>
<code>build</code>: directory where built lean files are stored.</li>
<li>Lean files, containing the lean code.</li>
</ul>
<h3><span class="mw-headline" id="Creating_a_project">Creating a project</span></h3>
<p>To create a project, install elan and a lean build, as described in the <a href="#Lean_4_using_elan">Lean 4 using elan</a> section above.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> As of this writing, the stable build does not include <code>lake</code>, so to run the code below, you will need to install a newer build, such as <code>v4.3.0-rc2</code>, and make it the default</div>
<p>Next, run
</p>
<pre>$ lake new <i>path/to/project</i>
</pre>
<p>This will create a default <code>lakefile.lean</code> and <code>lean-toolchain</code> file.
</p>
<p>This will not download mathlib, which you may want to do. <a rel="nofollow" class="external text" href="https://github.com/leanprover-community/mathlib4">Mathlib</a> is the official math library of the Lean project, and contains a lot of definitions, lemmas and theorems that you may need for your project. If you want to add mathlib to your project, you must add it as a dependency in the lakefile. See below for details.
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="Managing_a_project">Managing a project</span></h3>
<p>If you are working with an existing project, for instance one you have downloaded from the internet (e.g. github), you do not need to install lean separately, as long as you have elan installed, see the <a href="#Lean_4_using_elan">Lean 4 using elan</a> section above. As long as the appropriate <code>lean-toolchain</code> file is present in the project, you can simply run
</p>
<pre>$ lake update
</pre>
<p>which will download the required version of Lean, as well as all the dependencies for the project.
</p>
<p>Dependencies can be added by editing the <code>lakefile.lean</code> file.
For example, to add mathlib as a dependency, add the line
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">lakefile.lean</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">require mathlib from git "<a rel="nofollow" class="external free" href="https://github.com/leanprover-community/mathlib4.git">https://github.com/leanprover-community/mathlib4.git</a>"</pre>
<p>to <code>lakefile.lean</code>. Next run
</p>
<pre>$ lake update
</pre>
<p>to download mathlib, and
</p>
<pre>$ lake exe cache get
</pre>
<p>to download the pre-compiled library (see section <a href="#Caches_and_oleans">Caches and oleans</a> below).
</p>
<h3><span class="mw-headline" id="Contributing_to_Mathlib">Contributing to Mathlib</span></h3>
<p>If you wish to participate in the ongoing effort to formalize much of mathematics, you may want to make contributions to <a rel="nofollow" class="external text" href="https://github.com/leanprover-community/mathlib4">Mathlib</a>, which is the official math library of the Lean project.
</p>
<p>To do so, you will first need to download mathlib:
</p>
<pre>$ git clone <a rel="nofollow" class="external free" href="https://github.com/leanprover-community/mathlib4.git">https://github.com/leanprover-community/mathlib4.git</a>
</pre>
<p>and <code>cd</code> to the downloaded directly and run
</p>
<pre>$ lake update
$ lake exe cache get
</pre>
<p>If you wish to submit your work, you will need to get a branch on the mathlib <a href="../en/Git.html" title="Git">Git</a> server, and submit a <a href="../en/Git.html#Contributing_to_a_project" title="Git">pull request</a>. To get a branch, contact the community on the <a rel="nofollow" class="external text" href="https://leanprover.zulipchat.com">leanprover Zulip chat</a>, introduce yourself and your project, and ask for a branch.
</p>
<h3><span class="mw-headline" id="Automatically_generating_documentation">Automatically generating documentation</span></h3>
<p>It is possible to automatically generate documentation, in the same style as the <a rel="nofollow" class="external text" href="https://leanprover-community.github.io/mathlib4_docs/">mathlib documentation</a>. This is done using the <a rel="nofollow" class="external text" href="https://github.com/leanprover/doc-gen4">doc-gen4</a> package. To install it, add it to your <code>lakefile.lean</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">lakefile.lean</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">meta if get_config? env = some "dev" then require «doc-gen4» from git "<a rel="nofollow" class="external free" href="https://github.com/leanprover/doc-gen4">https://github.com/leanprover/doc-gen4</a>"@"main"</pre>
<p>(the <code>"dev"</code> part of the code ensures that the doc can only be built when running <code>lake</code> with <code>-Kenv=dev</code>, as below, so as to avoid generating the doc when merely trying to build the package) and download it:
</p>
<pre>$ lake -Kenv=dev update
</pre>
<p>The documentation can be generated using
</p>
<pre>$ lake -Kenv=dev build <i>NameOfProject</i>:docs
</pre>
<p>where <i>NameOfProject</i> should be replaced by the name of your project. This will generate the documentation and place it in the <code>build/doc</code> directory. You can then navigate through the documentation by opening <code>build/doc/index.html</code> in a browser.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> opening the documentation files locally using a browser is not officially supported. Instead, it is recommended to start an http server, for instance with <code>python -m http.server</code>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>doc-gen4</code> assumes the project builds properly. If there are any errors at build time, the documentation will not be functional. Make sure that <code>lake build</code> exits without errors before generating the documentation</div>
<p>The documentation also includes a search function. To search for a term in the documentation, use
</p>
<pre>file:///path/to/doc/find/index.html?pattern='search_term'#doc
</pre>
<h2><span class="mw-headline" id="Text_editors">Text editors</span></h2>
<h3><span class="mw-headline" id="Using_Lean_with_Emacs">Using Lean with Emacs</span></h3>
<h4><span class="mw-headline" id="Install_lean-mode">Install lean-mode</span></h4>
<p>To use lean with emacs, you must install the <a rel="nofollow" class="external text" href="https://github.com/leanprover/lean-mode">lean-mode</a> package. To install it from the <a rel="nofollow" class="external text" href="https://melpa.org/">MELPA</a> repository, add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">(require 'package)
(add-to-list 'package-archives
  '("melpa" . "<a rel="nofollow" class="external free" href="https://melpa.org/packages/">https://melpa.org/packages/</a>"))
(package-initialize)
(package-refresh-contents)</pre>
<p>to your <a href="../en/Emacs.html#Configuration" title="Emacs">Emacs configuration file</a> open emacs, and type
</p>
<pre>M-x package-install RET
lean-mode RET
</pre>
<p>Opening a file in emacs with the <code>.lean</code> extension will now automatically be opened in Lean mode.
</p>
<h4><span class="mw-headline" id="Keybindings">Keybindings</span></h4>
<p>A list of keybindings is available at <a rel="nofollow" class="external text" href="https://github.com/leanprover/lean-mode">https://github.com/leanprover/lean-mode</a>.
</p>
<h4><span class="mw-headline" id="Automatic_unicode_input">Automatic unicode input</span></h4>
<p>Lean uses unicode symbols as part of its language.
<code>lean-mode</code> can handle this input easily by translating standard text to unicode characters, for instance, typing <code>\R</code> will resolve to the unicode character <code>ℝ</code>.
To do this, the <code>Lean</code> input method needs to be selected.
This can be done automatically by adding the following to your <a href="../en/Emacs.html#Configuration" title="Emacs">Emacs configuration file</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">(add-hook 'lean-mode-hook
  (lambda () (set-input-method "Lean")))</pre>
<h4><span class="mw-headline" id="Viewing_goal_in_separate_buffer">Viewing goal in separate buffer</span></h4>
<p>Keeping track of the "goal" is very useful when writing proofs in Lean.
The goal can be seen directly in emacs using the <code>C-c C-b</code> keybinding, which will open a new buffer in which the goal is shown.
This buffer can also be opened automatically when editing a <code>.lean</code> file by adding:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">(add-hook 'lean-mode-hook 'lean-toggle-show-goal)</pre>
<p>to your <a href="../en/Emacs.html#Configuration" title="Emacs">Emacs configuration file</a>.
</p>
<h3><span class="mw-headline" id="Using_Lean_with_Neovim">Using Lean with Neovim</span></h3>
<h4><span class="mw-headline" id="Install_lean.nvim">Install lean.nvim</span></h4>
<p>To use lean with <a href="../en/Neovim.html" title="Neovim">Neovim</a>, you must install the <a rel="nofollow" class="external text" href="https://github.com/Julian/lean.nvim/">lean.nvim</a> plugin. This can be done easily using <a href="../en/Vim.html#Using_a_plugin_manager" title="Vim">vim-plug</a> byadding the following to your <a href="../en/Neovim.html#Configuration" title="Neovim">Neovim Configuration file</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">init.vim</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">call plug#begin()

...

Plug 'Julian/lean.nvim'
Plug 'neovim/nvim-lspconfig'
Plug 'nvim-lua/plenary.nvim'

...

call plug#end()</pre>
<p>open nvim, and type
</p>
<pre>:PlugInstall
</pre>
<p>If you are using lean 3, you will also need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lean-language-server/">lean-language-server</a></span><sup><small>AUR</small></sup>. (The language server is built into lean 4, so it is not necessary for lean 4 installs).
</p>
<p>Next, create a configuration file at <code>$XDG_CONFIG_HOME/nvim/plugin/lean.lua</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$XDG_CONFIG_HOME/nvim/plugin/lean.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">require('lean').setup{
 abbreviations = { builtin = true },
 mappings = true,
}
</pre>
<p><code>abbreviatons</code> enables abbreviating unicode characters, and <code>mappings</code> enables a number of useful keybindings, see <a rel="nofollow" class="external text" href="https://github.com/Julian/lean.nvim/">https://github.com/Julian/lean.nvim/</a> for a full list.
More configuration options are available at <a rel="nofollow" class="external text" href="https://github.com/Julian/lean.nvim/">https://github.com/Julian/lean.nvim/</a>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Caches_and_oleans">Caches and oleans</span></h3>
<p>In order to use the theorems and lemmas in mathlib, mathlib needs to be built (i.e. compiled).
This is a long process.
To avoid this, the mathlib community provides a repository of pre-compiled mathlib files (also called "oleans").
To download them using lean 4, use
</p>
<pre>$ lake exe cache get
</pre>
<p>and using lean 3, use
</p>
<pre>$ leanproject get-cache
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In order for the oleans to be used, they have to have been pre-compiled with the same version of lean (i.e. the same nightly build if you are using those) as is used by the project.</div>
<p>When using lean 4, a simple way of ensuring that the project always uses the same version as mathlib is to link the mathlib <code>lean-toolchain</code> file to the project directory:
</p>
<pre>$ ln -sf lake-packages/mathlib/lean-toolchain ./
$ lake update
</pre>
<h2><span class="mw-headline" id="Lean_documentation">Lean documentation</span></h2>
<p>A good resource to learn theorem proving in lean 4 is <a rel="nofollow" class="external autonumber" href="https://leanprover.github.io/theorem_proving_in_lean4/">[2]</a>.
Of particular note, a succinct "cheatsheet" for useful commands for theorem proving in lean 4 is available from <a rel="nofollow" class="external autonumber" href="https://github.com/madvorak/lean4-cheatsheet/blob/main/lean-tactics.pdf">[3]</a>.
</p>
<p>The documentation for mathlib in lean 4 is available at <a rel="nofollow" class="external autonumber" href="https://leanprover-community.github.io/mathlib4_docs/">[4]</a>.
</p>
<p>Since the documentation is still rather sparse, it is often more productive to address questions to the lean community directly.
The most popular forum for this is the <a rel="nofollow" class="external text" href="https://leanprover.zulipchat.com">leanprover Zulip chat</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Science.html" title="Category:Science">Science</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lean_Theorem_Prover&amp;oldid=830633">https://wiki.archlinux.org/index.php?title=Lean_Theorem_Prover&amp;oldid=830633</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 4 April 2025, at 16:19.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
