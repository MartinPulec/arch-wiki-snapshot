<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>xdg-menu - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xdg-menu rootpage-Xdg-menu skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Menu_hierarchy" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Menu_hierarchy">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Menu hierarchy</div>
		</a>
		
		<ul id="toc-Menu_hierarchy-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Adding_desktop_entries_from_other_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adding_desktop_entries_from_other_directories">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Adding desktop entries from other directories</div>
			</a>
			
			<ul id="toc-Adding_desktop_entries_from_other_directories-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Usage</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-xdg_menu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xdg_menu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>xdg_menu</div>
			</a>
			
			<ul id="toc-xdg_menu-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-update-menus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#update-menus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>update-menus</div>
			</a>
			
			<ul id="toc-update-menus-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Examples">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Examples</div>
		</a>
		
			<button aria-controls="toc-Examples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Examples subsection</span>
			</button>
		
		<ul id="toc-Examples-sublist" class="vector-toc-list">
			<li id="toc-Awesome" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Awesome">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Awesome</div>
			</a>
			
			<ul id="toc-Awesome-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-IceWM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IceWM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>IceWM</div>
			</a>
			
			<ul id="toc-IceWM-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-FluxBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#FluxBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>FluxBox</div>
			</a>
			
			<ul id="toc-FluxBox-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_3" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-OpenBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>OpenBox</div>
			</a>
			
			<ul id="toc-OpenBox-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_4" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_4">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_4-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-As_a_pipe_menu" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#As_a_pipe_menu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4.2</span>As a pipe menu</div>
			</a>
			
			<ul id="toc-As_a_pipe_menu-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_3" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4.3</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_3-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Twm" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Twm">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Twm</div>
			</a>
			
			<ul id="toc-Twm-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_5" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_4" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_4">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_4-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-WindowMaker" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WindowMaker">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>WindowMaker</div>
			</a>
			
			<ul id="toc-WindowMaker-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_6" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_6">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_6-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_5" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_5-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Fvwm2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fvwm2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>Fvwm2</div>
			</a>
			
			<ul id="toc-Fvwm2-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_7" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_7">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_7-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_6" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_6">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_6-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-BlackBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BlackBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>BlackBox</div>
			</a>
			
			<ul id="toc-BlackBox-sublist" class="vector-toc-list">
				<li id="toc-With_xdg_menu_8" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_xdg_menu_8">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8.1</span>With xdg_menu</div>
			</a>
			
			<ul id="toc-With_xdg_menu_8-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-With_update-menus_7" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#With_update-menus_7">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8.2</span>With update-menus</div>
			</a>
			
			<ul id="toc-With_update-menus_7-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">xdg-menu</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Xdg-menu.html" title="Xdg-menu – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Xdg-menu" title="Xdg-menu – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Xdg-menu.html" title="Xdg-menu – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Xdg-menu" title="Xdg-menu – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
<i>xdg-menu</i> is a tool that generates <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/menu-spec/menu-spec-latest.html">XDG Desktop Menus</a> for the following <a href="../en/Window_manager.html" title="Window manager">window managers</a>:
</p>
<ul>
<li><a href="../en/Awesome.html" title="Awesome">awesome</a></li>
<li><a href="../en/Blackbox.html" title="Blackbox">Blackbox</a></li>
<li><a href="../en/Fluxbox.html" title="Fluxbox">Fluxbox</a></li>
<li><a href="../en/FVWM.html" class="mw-redirect" title="FVWM2">FVWM2</a></li>
<li><a href="../en/IceWM.html" title="IceWM">IceWM</a></li>
<li><a href="../en/Openbox.html" title="Openbox">Openbox</a></li>
<li><a href="../en/Twm.html" title="Twm">twm</a></li>
<li><a href="../en/Window_Maker.html" title="Window Maker">Window Maker</a></li>
</ul>
<p><a href="../en/KDE.html" title="KDE">KDE</a>, <a href="../en/GNOME.html" title="GNOME">GNOME</a>, <a href="../en/Xfce.html" title="Xfce">Xfce</a> and <a href="../en/Enlightenment.html" title="Enlightenment">Enlightenment</a> are already XDG compatible.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-xdg-menu">archlinux-xdg-menu</a></span> package.
</p>
<h2><span class="mw-headline" id="Menu_hierarchy">Menu hierarchy</span></h2>
<ul><li>Applications
<ul>
<li>Accessibility</li>
<li>Accessories</li>
<li>Development</li>
<li>Education</li>
<li>Games</li>
<li>Graphics</li>
<li>Internet</li>
<li>Multimedia</li>
<li>Office</li>
<li>Other</li>
<li>Science</li>
<li>System</li>
</ul>
</li></ul>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>xdg_menu relies on three sets of information to generate menus: a root menu or in other words an XML menu template generally passed on the command line, information cached when it was last run, and a series of configuration files. 
</p>
<ul>
<li>You can find some XML menu templates in <code>/etc/xdg/menus</code>.</li>
<li>If altering the code in xdg_menu to change layout, make sure you delete everything in <code>~/.xdg_menu_cache</code> or you will spend hours trying to figure out why your changes to the perl script do not take.</li>
<li>You can find individual application configurations in <code>/usr/share/applications</code>.</li>
</ul>
<p>Other configuration file directories can be found under <code>/usr/share</code>. In most cases you will not need to touch these. However if you want to change how your menu is layed out you can alter the menu template for minor changes. Major changes require tweaking the actual xdg_menu perl script. If you find that applications do not appear or that they are called strange things, then you will need to look at the .desktop file in <code>/usr/share/applications</code>. Check the <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html">desktop entry specification</a>.
</p>
<h3><span class="mw-headline" id="Adding_desktop_entries_from_other_directories">Adding desktop entries from other directories</span></h3>
<p>By default, the Xdg-menu will be populated with applications which install their desktop entries to <code>/usr/share/applications</code>. To add applications to the menu which install their desktop entry to a user folder such as <code>~/.local/share/applications</code>, edit the <code>/etc/xdg/menus/arch-applications.menu</code> file and add an <code>&lt;AppDir&gt;</code> tag for the relevant directory, see below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/xdg/menus/arch-applications.menu</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;Menu&gt;

  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;Directory&gt;Arch-Applications.directory&lt;/Directory&gt;
  &lt;DefaultAppDirs/&gt;
  <b>&lt;AppDir&gt;/home/<i>username</i>/.local/share/applications&lt;/AppDir&gt;</b>
  &lt;DefaultDirectoryDirs/&gt;
  &lt;DefaultMergeDirs/&gt;
  ...
</pre>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="xdg_menu">xdg_menu</span></h3>
<pre>xdg_menu [--format &lt;format&gt;] [--desktop &lt;desktop&gt;] 
         [--charset &lt;charset&gt;] [--language &lt;language&gt;]  
	 [--root-menu &lt;root-menu&gt;] [--die-on-error]
	 [--fullmenu] [--help]
		 
	format - output format
	         possible formats: twm, WindowMaker, fvwm2, icewm, ion3
	                           blackbox, fluxbox, openbox, 
				   xfce4, openbox3, openbox3-pipe, awesome
				   readable
		 default: WindowMaker
		
 	fullmenu  - output a full menu and not only a submenu

	desktop - desktop name for NotShowIn and OnlyShowIn
		 default: the same as format
			 
	charset - output charset
		 default: &lt;locale&gt;
			 
	language - output language
		 default: &lt;locale&gt;
			 
	root-menu - location of root menu file
		 default: /opt/gnome/etc/xdg/menus/applications.menu
			 
	die-on-error - abort execution on any error, 
		 default: try to continue

	verbose - print debugging information
		 
	help - print this text
</pre>
<h3><span class="mw-headline" id="update-menus">update-menus</span></h3>
<p><i>update-menus</i> updates WM's menus from XDG data and can be configured to do it automaticaly.
</p>
<p>This is a script wrapper around xdg_menu that relies on <code>/etc/update-menus.conf</code>
</p>
<p>To use it, you need to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-xdg-menu">archlinux-xdg-menu</a></span> package (xdg_menu)
</p>
<p>In <code>/etc/update-menus.conf</code>, you have to select from a list of window managers for which the menu should be generated. Comments with # are allowed.
</p>
<p>All generated menus are placed in <code>/var/cache/xdg-menu/</code>. See wm-specific <a href="#Examples">#Examples</a> section of this page to get more information.
</p>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="Awesome">Awesome</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu">With xdg_menu</span></h4>
<pre>$ xdg_menu --format awesome --root-menu /etc/xdg/menus/arch-applications.menu &gt; ~/.config/awesome/archmenu.lua
</pre>
<p>Then, edit your <code>rc.lua</code> as shown below.
</p>
<ul>
<li>Add a require statment for your new <code>menu.lua</code> file.</li>
<li>Add an entry to your <code>awful.menu</code> object for your new menu which calls <code>xdg-menu</code>.</li>
</ul>
<pre>...
xdg_menu = require("archmenu")
...

...
mymainmenu = awful.menu({ items = { { "awesome", myawesomemenu, beautiful.awesome_icon },
                                    { "Applications", xdgmenu },
                                    { "open terminal", terminal }
                                  }
                        })
...</pre>
<h3><span class="mw-headline" id="IceWM">IceWM</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_2">With xdg_menu</span></h4>
<pre>$ xdg_menu --format icewm --fullmenu --root-menu /etc/xdg/menus/arch-applications.menu &gt;&gt; ~/.icewm/programs
</pre>
<h4><span class="mw-headline" id="With_update-menus">With update-menus</span></h4>
<ul>
<li>Uncomment <i>icewm</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Make a symlink to <code>/var/cache/xdg-menu/icewm/programs</code> in <code>~/.icewm/programs</code>.</li>
</ul>
<h3><span class="mw-headline" id="FluxBox">FluxBox</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_3">With xdg_menu</span></h4>
<pre>$ xdg_menu --format fluxbox --root-menu /etc/xdg/menus/arch-applications.menu &gt; ~/.fluxbox/my-menu
</pre>
<p>Change your menu file to include the generated menu.
</p>
<p>For example, add this line:
</p>
<pre>[include] (my-menu)
</pre>
<h4><span class="mw-headline" id="With_update-menus_2">With update-menus</span></h4>
<ul>
<li>Uncomment <i>fluxbox</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Change your menu file to include generated menu.</li>
</ul>
<p>For example, add this line:
</p>
<pre>[include] (/var/cache/xdg-menu/fluxbox/boxrc)
</pre>
<h3><span class="mw-headline" id="OpenBox">OpenBox</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_4">With xdg_menu</span></h4>
<p>Generate menu with:
</p>
<pre>$ xdg_menu --format openbox3 --root-menu /etc/xdg/menus/arch-applications.menu &gt; xdg-menu.xml
</pre>
<p>And manually add it into your <code>menu.xml</code>. For example, put <code>xdg-menu.xml</code> into <code>menu.xml</code> and add:
</p>
<pre>&lt;menu id="Applications" /&gt;
</pre>
<p>Into <code>root-menu</code>.
</p>
<h4><span class="mw-headline" id="As_a_pipe_menu">As a pipe menu</span></h4>
<p>Using xdg_open as a pipe menu gives you the added benefit of having a menu that automatically updates when you install new applications.
</p>
<p>Add the following somewhere inside your menu.xml between your root menu tags:
</p>
<pre>&lt;menu id="applications" label="Applications" execute="xdg_menu --format openbox3-pipe --root-menu /etc/xdg/menus/arch-applications.menu" /&gt;
</pre>
<p>A very basic example:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;openbox_menu xmlns="http://openbox.org/3.4/menu"&gt;

&lt;menu id="root-menu" label="Openbox 3"&gt;
  &lt;menu id="applications" label="Applications" execute="xdg_menu --format openbox3-pipe --root-menu /etc/xdg/menus/arch-applications.menu" /&gt;
  &lt;separator /&gt;
  &lt;item label="Log Out"&gt;
    &lt;action name="Exit"&gt;
      &lt;prompt&gt;yes&lt;/prompt&gt;
    &lt;/action&gt;
  &lt;/item&gt;
&lt;/menu&gt;

&lt;/openbox_menu&gt;
</pre>
<h4><span class="mw-headline" id="With_update-menus_3">With update-menus</span></h4>
<ul>
<li>Uncomment <i>openbox</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Change your <code>menu.xml</code> file to include generated menu.</li>
</ul>
<p>For example, add following to root-menu:
</p>
<pre>&lt;menu id="xdg-menu" label="XDG Menu" execute="cat /var/cache/xdg-menu/openbox/menu.xml"/&gt;
</pre>
<h3><span class="mw-headline" id="Twm">Twm</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_5">With xdg_menu</span></h4>
<p>Use:
</p>
<pre>$ xdg_menu --format twm --root-menu /etc/xdg/menus/arch-applications.menu &gt;my-twm-menu
</pre>
<p>And add it into twmrc manually. In the case of twm derivatives with m4 preprocessing such as vtwm or ctwm it can be included by adding:
</p>
<pre>sinclude(`/PATH/TO/my-twm-menu')
</pre>
<p>To <code>*twmrc</code>.
</p>
<h4><span class="mw-headline" id="With_update-menus_4">With update-menus</span></h4>
<ul>
<li>Uncomment <i>twm</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Add in <code>/etc/X11/twm/system.twmrc</code> a file applications menu (add it into <code>defops menu</code>):</li>
</ul>
<pre> "apps"          f.menu "Applications"
</pre>
<ul>
<li>Run <code>update-menus</code> as root.</li>
<li>Run <code>twm -f /var/cache/xdg-menu/twm/twmrc</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You will also want to add your other customizations to <code>/etc/X11/twm/system.twmrc</code>.</div>
<h3><span class="mw-headline" id="WindowMaker">WindowMaker</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_6">With xdg_menu</span></h4>
<p>Use:
</p>
<pre>$ xdg_menu --format WindowMaker --root-menu /etc/xdg/menus/arch-applications.menu &gt;my-wm-menu
</pre>
<p>And add:
</p>
<pre>#include "my-wm-menu"
</pre>
<p>Into your WindowMaker menu file.
</p>
<p>You can also use the WPrefs "Application Menu Definitions", and add the xdg command as a parameter in a "Generated Submenu" object.
</p>
<h4><span class="mw-headline" id="With_update-menus_5">With update-menus</span></h4>
<ul>
<li>Uncomment <i>WindowMaker</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Add:</li>
</ul>
<pre>#include "/var/cache/xdg-menu/WindowMaker/wmrc"
</pre>
<p>Into your menu file.
</p>
<h3><span class="mw-headline" id="Fvwm2">Fvwm2</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_7">With xdg_menu</span></h4>
<p>Generate the menu:
</p>
<pre>$ xdg_menu --format fvwm2 --root-menu /etc/xdg/menus/arch-applications.menu &gt;fvwm2-menu
</pre>
<p>And add it into the root menu:
</p>
<pre>read fvwm2-menu

AddToMenu MenuFvwmRoot  "Root Menu"             Title
+                       "&amp;0. XDG Menu"          Popup xdg_menu
</pre>
<h4><span class="mw-headline" id="With_update-menus_6">With update-menus</span></h4>
<ul>
<li>Uncomment <i>fvwm2</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Change your <code>.fvwm2rc</code> file to include generated menu. For example:</li>
</ul>
<pre>AddToMenu MenuFvwmRoot  "Root Menu"             Title
+                       "&amp;0. XDG Menu"          Popup xdg_menu
</pre>
<pre>read /var/cache/xdg-menu/fvwm2/fvwm2rc
</pre>
<h3><span class="mw-headline" id="BlackBox">BlackBox</span></h3>
<h4><span class="mw-headline" id="With_xdg_menu_8">With xdg_menu</span></h4>
<pre>$ xdg_menu --format blackbox  --root-menu /etc/xdg/menus/arch-applications.menu &gt;my-menu
</pre>
<p>Change your menu file to include the generated menu.
</p>
<p>For example, add this line:
</p>
<pre>[include] (my-menu)
</pre>
<h4><span class="mw-headline" id="With_update-menus_7">With update-menus</span></h4>
<ul>
<li>Uncomment <i>blackbox</i> in <code>/etc/update-menus.conf</code>.</li>
<li>Run <code>update-menus</code> as root.</li>
<li>Change your menu file to include the generated menu.</li>
</ul>
<p>For example, add this line:
</p>
<pre>[include] (/var/cache/xdg-menu/blackbox/boxrc)
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="../en/Sawfish.html#Menus" title="Sawfish">Sawfish#Menus</a></li>
<li><a rel="nofollow" class="external free" href="https://github.com/gapan/xdgmenumaker">https://github.com/gapan/xdgmenumaker</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Freedesktop.org.html" title="Category:Freedesktop.org">Freedesktop.org</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xdg-menu&amp;oldid=777834">https://wiki.archlinux.org/index.php?title=Xdg-menu&amp;oldid=777834</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 May 2023, at 05:15.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
