<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ThinkPad docks - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ThinkPad_docks rootpage-ThinkPad_docks skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Using_dockd" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Using_dockd">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Using dockd</div>
		</a>
		
		<ul id="toc-Using_dockd-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Installing" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installing">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Installing</div>
		</a>
		
		<ul id="toc-Installing-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Dock_and_undock_hooks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Dock_and_undock_hooks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Dock and undock hooks</div>
		</a>
		
		<ul id="toc-Dock_and_undock_hooks-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting_headset_microphone_on_4X10E52935_dock" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting_headset_microphone_on_4X10E52935_dock">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting headset microphone on 4X10E52935 dock</div>
		</a>
		
		<ul id="toc-Troubleshooting_headset_microphone_on_4X10E52935_dock-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">ThinkPad docks</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/ThinkPad_%E3%83%89%E3%83%83%E3%82%AF" title="ThinkPad ドック – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Laptop/Lenovo.html" title="Laptop/Lenovo">Laptop/Lenovo</a></li>
<li><a href="../en/Docking.html" title="Docking">Docking</a></li>
</ul>
</div>
<p>Business laptops manufactured by Lenovo and IBM under the ThinkPad brand have a proprietary connector at the bottom of the laptop that is used in junction with docking stations that enable the ThinkPad to be used as a desktop PC.
</p>
<p>These docking stations can function in two ways:
</p>
<ul>
<li>Passive port replicators (no active components)</li>
<li>Active docks (active components such as USB hubs or USB 3.0 controllers)</li>
</ul>
<p>Both of them are supported out-the-box by <a href="../en/GNOME.html" title="GNOME">GNOME</a> and <a href="../en/KDE.html" title="KDE">KDE</a> and should not require additional software. Otherwise you can <a href="#Using_dockd">use dockd</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Some modern ThinkPads with exotic <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> graphics like the Quadro M2200 might not work with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dockd/">dockd</a></span><sup><small>AUR</small></sup> because the <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> driver is buggy and causes a kernel crash. See <a rel="nofollow" class="external text" href="https://github.com/libthinkpad/dockd/issues/3">Issue #3</a> on Github</li>
<li>If you are using a different environment than <a href="../en/GNOME.html" title="GNOME">GNOME</a> or <a href="../en/KDE.html" title="KDE">KDE</a> and you are connecting the dock through a thunderbolt connector, you may have to authorize the use of the thunderbolt device before you can use the dock. You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bolt">bolt</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tbt/">tbt</a></span><sup><small>AUR</small></sup> to authorize devices. See <a href="../en/Thunderbolt.html" title="Thunderbolt">Thunderbolt</a> for more information. </li>
</ul>
</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Using_dockd">Using dockd</span></h2>
<p>To handle docks outside <a href="../en/KDE.html" title="KDE">KDE</a> and <a href="../en/GNOME.html" title="GNOME">GNOME</a> you will need to install a dock daemon that will auto-switch the monitors.
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dockd/">dockd</a></span><sup><small>AUR</small></sup> is a dock daemon that was developed for light desktops and will auto switch the monitor configuration.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> dockd is not Coreboot/Libreboot compatible.</div>
<h2><span class="mw-headline" id="Installing">Installing</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dockd/">dockd</a></span><sup><small>AUR</small></sup> package.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If your current desktop environment switches the displays automatically you do <i>not</i> need this program.</div>
<p>The daemon needs to know your current display configuration when the laptop is docked and undocked, so we need to configure the daemon first before using it.
</p>
<ul>
<li>Insert your ThinkPad into the dock</li>
<li>Configure the display layouts and resolutions using your desktop environments interface or <a href="../en/Xrandr.html" title="Xrandr">xrandr</a>
</li>
<li>Write the profile when the ThinkPad is docked</li>
</ul>
<pre># dockd --config docked
</pre>
<ul>
<li>Remove the ThinkPad from the dock</li>
<li>Configure the internal panel resolution and refresh rates using your desktop environments interface or <a href="../en/Xrandr.html" title="Xrandr">xrandr</a>
</li>
<li>Write the profile when the ThinkPad is undocked</li>
</ul>
<pre># dockd --config undocked
</pre>
<ul>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> <code>acpid.service</code> (see <a href="../en/Acpid.html" title="Acpid">acpid</a> if needed).</li>
<li>If you are using <a href="../en/I3.html" title="I3">i3</a>, you need to manual autostart dockd as <a href="../en/I3.html" title="I3">i3</a> is not XDG Autostart compatible</li>
</ul>
 <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/i3/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> exec --no-startup-id dockd --daemon</pre>
<ul><li>Log out and log back in</li></ul>
<p>The daemon should now be configured and ready to use. Insert the ThinkPad into the dock and observe if the daemon switches to your external display automatically.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If it does not switch output modes automatically, that means your system or configuration is not supported. Please, open an issue on <a rel="nofollow" class="external text" href="https://github.com/libthinkpad/dockd">GitHub</a> with your ThinkPad and dock model, as well as the <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journalctl">journalctl</a> output.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong>  If you change your monitor setup or resolution, you <b>MUST</b> configure the daemon again.</div>
<h2><span class="mw-headline" id="Dock_and_undock_hooks">Dock and undock hooks</span></h2>
<p>As of dockd 1.21, you can define some hooks that run when the ThinkPad is docked and undocked.
</p>
<p>For example, to disable WiFi when docking and enable it when undocking:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> dockd runs as non-root, so these scripts have to be <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a> by the user.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dockd/dock.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">nmcli radio wifi off</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dockd/undock.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">nmcli radio wifi on</pre>
<h2><span class="mw-headline" id="Troubleshooting_headset_microphone_on_4X10E52935_dock">Troubleshooting headset microphone on 4X10E52935 dock</span></h2>
<p>This dock appears to use an <a href="https://en.wikipedia.org/wiki/Phone_connector_(audio)#TRRS_standards" class="extiw" title="wikipedia:Phone connector (audio)">OMTP standard wiring</a> for the headset connector instead of the more common CTIA standard. Thus the pins (from tip to sleeve) are left channel, right channel, microphone, ground instead of left channel, right channel, ground, microphone. Adapters can be found by searching "3.5mm OMTP to CTIA adapter" on your favorite e-commerce site.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://libthinkpad.github.io/projects/dockd">dockd Documentation - ThinkPads.org</a></li>
<li><a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/Docking_Port">Docking Port - ThinkWiki</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li>
<li><a href="../en/Category:Dockings.html" title="Category:Dockings">Dockings</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ThinkPad_docks&amp;oldid=758274">https://wiki.archlinux.org/index.php?title=ThinkPad_docks&amp;oldid=758274</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 November 2022, at 10:55.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
