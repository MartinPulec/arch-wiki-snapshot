<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Zsh - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Zsh rootpage-Zsh skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Initial_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Initial_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Initial configuration</span>
				</div>
			</a>
			
			<ul id="toc-Initial_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Making_Zsh_your_default_shell" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Making_Zsh_your_default_shell">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Making Zsh your default shell</span>
				</div>
			</a>
			
			<ul id="toc-Making_Zsh_your_default_shell-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Startup/Shutdown_files" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Startup/Shutdown_files">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Startup/Shutdown files</span>
			</div>
		</a>
		
		<ul id="toc-Startup/Shutdown_files-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configure_Zsh" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configure_Zsh">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Configure Zsh</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configure_Zsh-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configure Zsh subsection</span>
			</button>
		
		<ul id="toc-Configure_Zsh-sublist" class="vector-toc-list">
			<li id="toc-Simple_.zshrc" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Simple_.zshrc">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Simple .zshrc</span>
				</div>
			</a>
			
			<ul id="toc-Simple_.zshrc-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuring_$PATH" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuring_$PATH">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Configuring $PATH</span>
				</div>
			</a>
			
			<ul id="toc-Configuring_$PATH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Command_completion" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Command_completion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Command completion</span>
				</div>
			</a>
			
			<ul id="toc-Command_completion-sublist" class="vector-toc-list">
				<li id="toc-Custom_completion" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Custom_completion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.1</span>
					<span>Custom completion</span>
				</div>
			</a>
			
			<ul id="toc-Custom_completion-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Key_bindings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Key_bindings">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Key bindings</span>
				</div>
			</a>
			
			<ul id="toc-Key_bindings-sublist" class="vector-toc-list">
				<li id="toc-History_search" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#History_search">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4.1</span>
					<span>History search</span>
				</div>
			</a>
			
			<ul id="toc-History_search-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Shift,_Alt,_Ctrl_and_Meta_modifiers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Shift,_Alt,_Ctrl_and_Meta_modifiers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4.2</span>
					<span>Shift, Alt, Ctrl and Meta modifiers</span>
				</div>
			</a>
			
			<ul id="toc-Shift,_Alt,_Ctrl_and_Meta_modifiers-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Prompts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prompts">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Prompts</span>
				</div>
			</a>
			
			<ul id="toc-Prompts-sublist" class="vector-toc-list">
				<li id="toc-Prompt_themes" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Prompt_themes">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.1</span>
					<span>Prompt themes</span>
				</div>
			</a>
			
			<ul id="toc-Prompt_themes-sublist" class="vector-toc-list">
				<li id="toc-Manually_installing_prompt_themes" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Manually_installing_prompt_themes">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.1.1</span>
					<span>Manually installing prompt themes</span>
				</div>
			</a>
			
			<ul id="toc-Manually_installing_prompt_themes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adding_prompt_themes_without_a_separate_file_for_each_one" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Adding_prompt_themes_without_a_separate_file_for_each_one">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.1.2</span>
					<span>Adding prompt themes without a separate file for each one</span>
				</div>
			</a>
			
			<ul id="toc-Adding_prompt_themes_without_a_separate_file_for_each_one-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Customized_prompt" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Customized_prompt">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.2</span>
					<span>Customized prompt</span>
				</div>
			</a>
			
			<ul id="toc-Customized_prompt-sublist" class="vector-toc-list">
				<li id="toc-Colors" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Colors">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.2.1</span>
					<span>Colors</span>
				</div>
			</a>
			
			<ul id="toc-Colors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Example" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Example">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5.2.2</span>
					<span>Example</span>
				</div>
			</a>
			
			<ul id="toc-Example-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Sample_.zshrc_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sample_.zshrc_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6</span>
					<span>Sample .zshrc files</span>
				</div>
			</a>
			
			<ul id="toc-Sample_.zshrc_files-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Autostart_X_at_login" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Autostart_X_at_login">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Autostart X at login</span>
				</div>
			</a>
			
			<ul id="toc-Autostart_X_at_login-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Restore_terminal_settings_after_a_program_exits_abnormally" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Restore_terminal_settings_after_a_program_exits_abnormally">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Restore terminal settings after a program exits abnormally</span>
				</div>
			</a>
			
			<ul id="toc-Restore_terminal_settings_after_a_program_exits_abnormally-sublist" class="vector-toc-list">
				<li id="toc-The_ttyctl_command" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#The_ttyctl_command">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.1</span>
					<span>The ttyctl command</span>
				</div>
			</a>
			
			<ul id="toc-The_ttyctl_command-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Resetting_the_terminal_with_escape_sequences" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Resetting_the_terminal_with_escape_sequences">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.2</span>
					<span>Resetting the terminal with escape sequences</span>
				</div>
			</a>
			
			<ul id="toc-Resetting_the_terminal_with_escape_sequences-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Remembering_recent_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remembering_recent_directories">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Remembering recent directories</span>
				</div>
			</a>
			
			<ul id="toc-Remembering_recent_directories-sublist" class="vector-toc-list">
				<li id="toc-Dirstack" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Dirstack">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.1</span>
					<span>Dirstack</span>
				</div>
			</a>
			
			<ul id="toc-Dirstack-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-cdr" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#cdr">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.2</span>
					<span>cdr</span>
				</div>
			</a>
			
			<ul id="toc-cdr-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-zoxide" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#zoxide">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.3</span>
					<span>zoxide</span>
				</div>
			</a>
			
			<ul id="toc-zoxide-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Help_command" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Help_command">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Help command</span>
				</div>
			</a>
			
			<ul id="toc-Help_command-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Persistent_rehash" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Persistent_rehash">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Persistent rehash</span>
				</div>
			</a>
			
			<ul id="toc-Persistent_rehash-sublist" class="vector-toc-list">
				<li id="toc-On-demand_rehash" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#On-demand_rehash">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5.1</span>
					<span>On-demand rehash</span>
				</div>
			</a>
			
			<ul id="toc-On-demand_rehash-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Alternative_on-demand_rehash_using_SIGUSR1" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Alternative_on-demand_rehash_using_SIGUSR1">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5.2</span>
					<span>Alternative on-demand rehash using SIGUSR1</span>
				</div>
			</a>
			
			<ul id="toc-Alternative_on-demand_rehash_using_SIGUSR1-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Bind_key_to_ncurses_application" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bind_key_to_ncurses_application">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.6</span>
					<span>Bind key to ncurses application</span>
				</div>
			</a>
			
			<ul id="toc-Bind_key_to_ncurses_application-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-File_manager_key_binds" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#File_manager_key_binds">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.7</span>
					<span>File manager key binds</span>
				</div>
			</a>
			
			<ul id="toc-File_manager_key_binds-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xterm_title" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xterm_title">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.8</span>
					<span>xterm title</span>
				</div>
			</a>
			
			<ul id="toc-xterm_title-sublist" class="vector-toc-list">
				<li id="toc-Terminal_emulator_tab_title" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Terminal_emulator_tab_title">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.8.1</span>
					<span>Terminal emulator tab title</span>
				</div>
			</a>
			
			<ul id="toc-Terminal_emulator_tab_title-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Shell_environment_detection" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Shell_environment_detection">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.9</span>
					<span>Shell environment detection</span>
				</div>
			</a>
			
			<ul id="toc-Shell_environment_detection-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/dev/tcp_equivalent:_ztcp" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/dev/tcp_equivalent:_ztcp">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.10</span>
					<span>/dev/tcp equivalent: ztcp</span>
				</div>
			</a>
			
			<ul id="toc-/dev/tcp_equivalent:_ztcp-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Shortcut_to_exit_shell_on_partial_command_line" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Shortcut_to_exit_shell_on_partial_command_line">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.11</span>
					<span>Shortcut to exit shell on partial command line</span>
				</div>
			</a>
			
			<ul id="toc-Shortcut_to_exit_shell_on_partial_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-pacman_-F_&quot;command_not_found&quot;_handler" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#pacman_-F_&quot;command_not_found&quot;_handler">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.12</span>
					<span>pacman -F "command not found" handler</span>
				</div>
			</a>
			
			<ul id="toc-pacman_-F_&quot;command_not_found&quot;_handler-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Clear_the_backbuffer_using_a_key_binding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clear_the_backbuffer_using_a_key_binding">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.13</span>
					<span>Clear the backbuffer using a key binding</span>
				</div>
			</a>
			
			<ul id="toc-Clear_the_backbuffer_using_a_key_binding-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Third-party_extensions" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Third-party_extensions">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Third-party extensions</span>
			</div>
		</a>
		
			<button aria-controls="toc-Third-party_extensions-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Third-party extensions subsection</span>
			</button>
		
		<ul id="toc-Third-party_extensions-sublist" class="vector-toc-list">
			<li id="toc-Configuration_frameworks" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_frameworks">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Configuration frameworks</span>
				</div>
			</a>
			
			<ul id="toc-Configuration_frameworks-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Plugin_managers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Plugin_managers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Plugin managers</span>
				</div>
			</a>
			
			<ul id="toc-Plugin_managers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fish-like_syntax_highlighting_and_autosuggestions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fish-like_syntax_highlighting_and_autosuggestions">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Fish-like syntax highlighting and autosuggestions</span>
				</div>
			</a>
			
			<ul id="toc-Fish-like_syntax_highlighting_and_autosuggestions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-pkgfile_&quot;command_not_found&quot;_handler" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#pkgfile_&quot;command_not_found&quot;_handler">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>pkgfile "command not found" handler</span>
				</div>
			</a>
			
			<ul id="toc-pkgfile_&quot;command_not_found&quot;_handler-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-IOT_instruction" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IOT_instruction">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>IOT instruction</span>
				</div>
			</a>
			
			<ul id="toc-IOT_instruction-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Zsh</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 7 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-7" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">7 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Zsh" title="Zsh – Deutsch" lang="de" hreflang="de" data-title="Zsh" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Zsh.html" title="Zsh – español" lang="es" hreflang="es" data-title="Zsh" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/Zsh.html" title="Zsh – magyar" lang="hu" hreflang="hu" data-title="Zsh" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Zsh" title="Zsh – 日本語" lang="ja" hreflang="ja" data-title="Zsh" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Zsh.html" title="Zsh – português" lang="pt" hreflang="pt" data-title="Zsh" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Zsh.html" title="Zsh – русский" lang="ru" hreflang="ru" data-title="Zsh" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Zsh" title="Zsh – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Zsh" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://www.zsh.org/">Zsh</a> is a powerful <a href="../en/Command-line_shell.html" class="mw-redirect" title="Shell">shell</a> that operates as both an interactive shell and as a scripting language interpreter. While being compatible with the POSIX sh (not by default, only if issuing <code>emulate sh</code>), it offers advantages such as improved <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Guide/zshguide06.html">tab completion</a> and <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Doc/Release/Expansion.html">globbing</a>.
</p>
<p>The <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/FAQ/zshfaq01.html#l4">Zsh FAQ</a> offers more reasons to use Zsh.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p>Before starting, users may want to see what shell is currently being used:
</p>
<pre>$ echo $SHELL
</pre>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh">zsh</a></span> package. For additional completion definitions, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-completions">zsh-completions</a></span> package as well.
</p>
<div class="mw-heading mw-heading3"><h3 id="Initial_configuration">Initial configuration</h3></div>
<p>Make sure that Zsh has been installed correctly by running the following in a terminal:
</p>
<pre>$ zsh
</pre>
<p>You should now see <i>zsh-newuser-install</i>, which will walk you through some basic configuration. If you want to skip this, press <code>q</code>. If you did not see it, you can invoke it manually with:
</p>
<pre>$ autoload -Uz zsh-newuser-install
$ zsh-newuser-install -f
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Make sure your terminal's size is at least 72×15 otherwise <i>zsh-newuser-install</i> will not run.</div>
<div class="mw-heading mw-heading3"><h3 id="Making_Zsh_your_default_shell">Making Zsh your default shell</h3></div>
<p>Change your shell to <code>/usr/bin/zsh</code>. See <a href="../en/Command-line_shell.html#Changing_your_default_shell" title="Command-line shell">Command-line shell#Changing your default shell</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> If replacing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bash">bash</a></span>, users may want to move some code from <code>~/.bashrc</code> to <code>~/.zshrc</code> (e.g. the prompt and the <a href="../en/Bash.html#Aliases" title="Bash">aliases</a>) and from <code>~/.bash_profile</code> to <code>~/.zprofile</code> (e.g. <a href="../en/Xinit.html#Autostart_X_at_login" title="Xinit">the code that starts the X Window System</a>).</div>
<div class="mw-heading mw-heading2"><h2 id="Startup/Shutdown_files">
<span id="Startup.2FShutdown_files"></span>Startup/Shutdown files</h2></div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> See <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Guide/zshguide02.html">A User's Guide to the Z-Shell</a> for explanation on interactive and login shells, and what to put in your startup files.
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>If <code>$ZDOTDIR</code> is not set, <code>$HOME</code> is used instead.</li>
<li>If option <code>RCS</code> is unset in any of the files, no configuration files will be read after that file.</li>
<li>If option <code>GLOBAL_RCS</code> is unset in any of the files, no global configuration files (<code>/etc/zsh/*</code>) will be read after that file.</li>
</ul>
</div>
<p>When starting, Zsh will read commands from the following files in this order by default, provided they exist. 
</p>
<ul>
<li>
<code>/etc/zsh/zshenv</code> Used for setting <a href="../en/Environment_variables.html" title="Environment variables">environment variables</a> for all users; it should not contain commands that produce output or assume the shell is attached to a TTY. When this file exists it will <i><b>always</b></i> be read, this cannot be overridden.</li>
<li>
<code>$ZDOTDIR/.zshenv</code> Used for setting user's environment variables; it should not contain commands that produce output or assume the shell is attached to a TTY. When this file exists it will <i><b>always</b></i> be read.</li>
<li>
<code>/etc/zsh/zprofile</code> Used for executing commands at start for all users, will be read when starting as a <i><b>login shell</b></i>. Please note that on Arch Linux, by default it contains <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/zsh/-/blob/main/zprofile">one line</a> which sources <code>/etc/profile</code>. See warning below before wanting to remove that!
<ul><li>
<code>/etc/profile</code> This file should be sourced by all POSIX sh-compatible shells upon login: it sets up <code>$PATH</code> and other environment variables and application-specific (<code>/etc/profile.d/*.sh</code>) settings upon login.</li></ul>
</li>
<li>
<code>$ZDOTDIR/.zprofile</code> Used for executing user's commands at start, will be read when starting as a <i><b>login shell</b></i>. Typically used to autostart graphical sessions and to set session-wide environment variables.</li>
<li>
<code>/etc/zsh/zshrc</code> Used for setting interactive shell configuration and executing commands for all users, will be read when starting as an <i><b>interactive shell</b></i>.</li>
<li>
<code>$ZDOTDIR/.zshrc</code> Used for setting user's interactive shell configuration and executing commands, will be read when starting as an <i><b>interactive shell</b></i>.</li>
<li>
<code>/etc/zsh/zlogin</code> Used for executing commands for all users at ending of initial progress, will be read when starting as a <i><b>login shell</b></i>.</li>
<li>
<code>$ZDOTDIR/.zlogin</code> Used for executing user's commands at ending of initial progress, will be read when starting as a <i><b>login shell</b></i>. Typically used to autostart command line utilities. Should not be used to autostart graphical sessions, as at this point the session might contain configuration meant only for an interactive shell.</li>
<li>
<code>$ZDOTDIR/.zlogout</code> Used for executing commands when a <i><b>login shell</b></i> <b>exits</b>.</li>
<li>
<code>/etc/zsh/zlogout</code> Used for executing commands for all users when a <i><b>login shell</b></i> <b>exits</b>.</li>
</ul>
<p>See <a rel="nofollow" class="external text" href="https://web.archive.org/web/20241008050626/https://blog.flowblok.id.au/2013-02/shell-startup-scripts.html#implementation">the graphic representation</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <code>$HOME/.profile</code> is not a part of the Zsh startup files and <b>is not sourced</b> by Zsh unless Zsh is invoked as <code>sh</code> or <code>ksh</code> and started as a login shell. For more details about the sh and <a href="../en/Command-line_shell.html" class="mw-redirect" title="Ksh">ksh</a> compatibility modes refer to <span class="plainlinks archwiki-template-man" title="$ man 1 zsh"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zsh.1#COMPATIBILITY">zsh(1) § COMPATIBILITY</a></span>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Do not remove the default <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/zsh/-/blob/main/zprofile">one line</a> in <code>/etc/zsh/zprofile</code>, otherwise it will break the integrity of other packages which provide some scripts in <code>/etc/profile.d/</code>.</div>
<div class="mw-heading mw-heading2"><h2 id="Configure_Zsh">Configure Zsh</h2></div>
<p>Although Zsh is usable out of the box, it is almost certainly not set up the way most users would like to use it. But due to the sheer amount of customization available in Zsh, configuring Zsh can be a daunting and time-consuming experience. For automatic configuration, see <a href="#Third-party_extensions">#Third-party extensions</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Simple_.zshrc">Simple .zshrc</h3></div>
<p>Included below is a sample configuration file. It provides a decent set of default options as well as giving examples of many ways that Zsh can be customized. In order to use this configuration save it as a file named <code>.zshrc</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> Apply the changes without needing to logout and then back in by running <code>source ~/.zshrc</code>.</div>
<p>Here is a simple <code>.zshrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz compinit promptinit
compinit
promptinit

# This will set the default prompt to the walters theme
prompt walters
</pre>
<p>See <a href="#Prompt_themes">#Prompt themes</a> for more details about the prompt theme system.
</p>
<div class="mw-heading mw-heading3"><h3 id="Configuring_$PATH">
<span id="Configuring_.24PATH"></span>Configuring $PATH</h3></div>
<p>Zsh ties the <code>PATH</code> variable to a <code>path</code> array. This allows you to manipulate <code>PATH</code> by simply modifying the <code>path</code> array. See <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Guide/zshguide02.html#l24">A User's Guide to the Z-Shell</a> for details.
</p>
<p>To add <code>~/.local/bin/</code> to the <code>PATH</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshenv</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">typeset -U path PATH
path=(~/.local/bin $path)
export PATH</pre>
<div class="mw-heading mw-heading3"><h3 id="Command_completion">Command completion</h3></div>
<p>Perhaps the most compelling feature of Zsh is its advanced autocompletion abilities. At the very least, enable autocompletion in <code>.zshrc</code>. To enable autocompletion, add the following to your <code>~/.zshrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz compinit
compinit
</pre>
<p>The above configuration includes ssh/scp/sftp hostnames completion but in order for this feature to work, users must not enable ssh's hostname hashing (i.e. option <code>HashKnownHosts</code> in ssh client configuration).
</p>
<p>For autocompletion with an arrow-key driven interface, add the following to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">zstyle ':completion:*' menu select
</pre>
<p>To activate the menu, press <code>Tab</code> twice.
</p>
<p>For enabling autocompletion of privileged environments in privileged commands (e.g. if you complete a command starting with <a href="../en/Sudo.html" title="Sudo">sudo</a>, completion scripts will also try to determine your completions with sudo), include:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">zstyle ':completion::complete:*' gain-privileges 1
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> This will let Zsh completion scripts run commands with sudo privileges. You should not enable this if you use untrusted autocompletion scripts.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This special kind of context-aware completion is only available for a small number of commands.</div>
<div class="mw-heading mw-heading4"><h4 id="Custom_completion">Custom completion</h4></div>
<p>You can write custom completions on your own. Should you do so, you can refer to the <span class="plainlinks archwiki-template-man" title="$ man 1 zshcompsys"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshcompsys.1">zshcompsys(1)</a></span> man page.
</p>
<p>Note that the official documentation can be hard to read. You can consider trying the simpler <a rel="nofollow" class="external text" href="https://github.com/zsh-users/zsh-completions/blob/master/zsh-completions-howto.org">zsh-completion-howto</a> tutorial for an easy start.
</p>
<div class="mw-heading mw-heading3"><h3 id="Key_bindings">Key bindings</h3></div>
<p>Zsh does not use <a href="../en/Readline.html" title="Readline">readline</a>, instead it uses its own and more powerful Zsh Line Editor (ZLE). It does not read <code>/etc/inputrc</code> or <code>~/.inputrc</code>. Read <a rel="nofollow" class="external text" href="https://sgeb.io/posts/2014/04/zsh-zle-custom-widgets/">A closer look at the zsh line editor and creating custom widgets</a> for an introduction to ZLE configuration.
</p>
<p>ZLE has an <a href="../en/Emacs.html" title="Emacs">Emacs</a> mode and a <a href="../en/Vi.html" title="Vi">vi</a> mode. If one of the <code>VISUAL</code> or <code>EDITOR</code> <a href="../en/Environment_variables.html" title="Environment variables">environment variables</a> contain the string <code>vi</code> then vi mode will be used; otherwise, it will default to Emacs mode. Set the mode explicitly with <code>bindkey -e</code> or <code>bindkey -v</code> respectively for Emacs mode or vi mode. The delay of pressing Esc key in vi mode is 0.4s by default, and you can make it shorter (0.05s) with <code>export KEYTIMEOUT=5</code>.
</p>
<p>Key bindings are assigned by mapping an escape sequence matching a keypress to a ZLE widget. The available widgets, with descriptions of their actions and their default keybindings, are listed in <span class="plainlinks archwiki-template-man" title="$ man 1 zshzle"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshzle.1#STANDARD_WIDGETS">zshzle(1) § STANDARD WIDGETS</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 1 zshcontrib"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshcontrib.1#ZLE_FUNCTIONS">zshcontrib(1) § ZLE FUNCTIONS</a></span>.
</p>
<p>The recommended way to set key bindings in Zsh is by using string capabilities from <span class="plainlinks archwiki-template-man" title="$ man 5 terminfo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/terminfo.5">terminfo(5)</a></span>. For example<a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20180704181216/http://zshwiki.org/home/zle/bindkeys">[1]</a><a rel="nofollow" class="external autonumber" href="https://www.zsh.org/mla/users/2010/msg00065.html">[2]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># create a zkbd compatible hash;
# to add other keys to this hash, see: man 5 terminfo
typeset -g -A key

key[Home]="${terminfo[khome]}"
key[End]="${terminfo[kend]}"
key[Insert]="${terminfo[kich1]}"
key[Backspace]="${terminfo[kbs]}"
key[Delete]="${terminfo[kdch1]}"
key[Up]="${terminfo[kcuu1]}"
key[Down]="${terminfo[kcud1]}"
key[Left]="${terminfo[kcub1]}"
key[Right]="${terminfo[kcuf1]}"
key[PageUp]="${terminfo[kpp]}"
key[PageDown]="${terminfo[knp]}"
key[Shift-Tab]="${terminfo[kcbt]}"

# setup key accordingly
[[ -n "${key[Home]}"      ]] &amp;&amp; bindkey -- "${key[Home]}"       beginning-of-line
[[ -n "${key[End]}"       ]] &amp;&amp; bindkey -- "${key[End]}"        end-of-line
[[ -n "${key[Insert]}"    ]] &amp;&amp; bindkey -- "${key[Insert]}"     overwrite-mode
[[ -n "${key[Backspace]}" ]] &amp;&amp; bindkey -- "${key[Backspace]}"  backward-delete-char
[[ -n "${key[Delete]}"    ]] &amp;&amp; bindkey -- "${key[Delete]}"     delete-char
[[ -n "${key[Up]}"        ]] &amp;&amp; bindkey -- "${key[Up]}"         up-line-or-history
[[ -n "${key[Down]}"      ]] &amp;&amp; bindkey -- "${key[Down]}"       down-line-or-history
[[ -n "${key[Left]}"      ]] &amp;&amp; bindkey -- "${key[Left]}"       backward-char
[[ -n "${key[Right]}"     ]] &amp;&amp; bindkey -- "${key[Right]}"      forward-char
[[ -n "${key[PageUp]}"    ]] &amp;&amp; bindkey -- "${key[PageUp]}"     beginning-of-buffer-or-history
[[ -n "${key[PageDown]}"  ]] &amp;&amp; bindkey -- "${key[PageDown]}"   end-of-buffer-or-history
[[ -n "${key[Shift-Tab]}" ]] &amp;&amp; bindkey -- "${key[Shift-Tab]}"  reverse-menu-complete

# Finally, make sure the terminal is in application mode, when zle is
# active. Only then are the values from $terminfo valid.
if (( ${+terminfo[smkx]} &amp;&amp; ${+terminfo[rmkx]} )); then
	autoload -Uz add-zle-hook-widget
	function zle_application_mode_start { echoti smkx }
	function zle_application_mode_stop { echoti rmkx }
	add-zle-hook-widget -Uz zle-line-init zle_application_mode_start
	add-zle-hook-widget -Uz zle-line-finish zle_application_mode_stop
fi</pre>
<div class="mw-heading mw-heading4"><h4 id="History_search">History search</h4></div>
<p>You need to set up the <code>key</code> array and make sure that ZLE enters application mode to use the following instructions; see <a href="#Key_bindings">#Key bindings</a>.
</p>
<p>To enable history search add these lines to <code>.zshrc</code> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz up-line-or-beginning-search down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search

[[ -n "${key[Up]}"   ]] &amp;&amp; bindkey -- "${key[Up]}"   up-line-or-beginning-search
[[ -n "${key[Down]}" ]] &amp;&amp; bindkey -- "${key[Down]}" down-line-or-beginning-search
</pre>
<p>By doing this, only the past commands matching the current line up to the current cursor position will be shown when <code>Up</code> or <code>Down</code> keys are pressed.
</p>
<div class="mw-heading mw-heading4"><h4 id="Shift,_Alt,_Ctrl_and_Meta_modifiers">
<span id="Shift.2C_Alt.2C_Ctrl_and_Meta_modifiers"></span>Shift, Alt, Ctrl and Meta modifiers</h4></div>
<p>xterm-compatible terminals can use extended key-definitions from <span class="plainlinks archwiki-template-man" title="$ man 5 user_caps"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/user_caps.5">user_caps(5)</a></span>. Those are combinations of <code>Shift</code>, <code>Alt</code>, <code>Ctrl</code> and <code>Meta</code> together with <code>Up</code>, <code>Down</code>, <code>Left</code>, <code>Right</code>, <code>PageUp</code>, <code>PageDown</code>, <code>Home</code>, <code>End</code> or <code>Del</code>. Refer to the <a rel="nofollow" class="external text" href="https://sourceforge.net/p/zsh/code/ci/master/tree/Functions/Misc/zkbd">zkbd source</a> for a list of recommended names for the modifier keys and key combinations.
</p>
<p>For example, for <code>Ctrl+Left</code> to move to the beginning of the previous word and <code>Ctrl+Right</code> to move to the beginning of the next word:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">key[Control-Left]="${terminfo[kLFT5]}"
key[Control-Right]="${terminfo[kRIT5]}"

[[ -n "${key[Control-Left]}"  ]] &amp;&amp; bindkey -- "${key[Control-Left]}"  backward-word
[[ -n "${key[Control-Right]}" ]] &amp;&amp; bindkey -- "${key[Control-Right]}" forward-word</pre>
<div class="mw-heading mw-heading3"><h3 id="Prompts">Prompts</h3></div>
<p>Zsh offers the options of using a prompt theme or, for users who are dissatisfied with the themes (or want to expand their usefulness), the possibility to build a custom prompt.
</p>
<div class="mw-heading mw-heading4"><h4 id="Prompt_themes">Prompt themes</h4></div>
<p>Prompt themes are a quick and easy way to set up a colored prompt in Zsh. See <span class="plainlinks archwiki-template-man" title="$ man 1 zshcontrib"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshcontrib.1#PROMPT_THEMES">zshcontrib(1) § PROMPT THEMES</a></span> for information about prompt themes and how to write your own theme.
</p>
<p>To use a theme, make sure that prompt theme system is set to autoload in <code>.zshrc</code>. This can be done by adding these lines to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz promptinit
promptinit
</pre>
<p>Available prompt themes are listed by running the command:
</p>
<pre>$ prompt -l
</pre>
<p>For example, to use the <code>walters</code> theme, enter:
</p>
<pre>$ prompt walters
</pre>
<p>To preview all available themes, use this command:
</p>
<pre>$ prompt -p
</pre>
<div class="mw-heading mw-heading5"><h5 id="Manually_installing_prompt_themes">Manually installing prompt themes</h5></div>
<p>It is possible to install themes manually, without external configuration manager tools. For a local installation, first create a folder and add it to the <code>fpath</code> array, eg:
</p>
<pre>$ mkdir ~/.zprompts
$ fpath=("$HOME/.zprompts" "$fpath[@]")
</pre>
<p>Now create a symbolic link of your theme file in this folder:
</p>
<pre>$ ln -s mytheme.zsh ~/.zprompts/prompt_mytheme_setup
</pre>
<p>If instead you wish to install a theme globally, do:
</p>
<pre># ln -s mytheme.zsh /usr/share/zsh/functions/Prompts/prompt_mytheme_setup
</pre>
<p>Now you should be able to activate it using:
</p>
<pre>$ prompt mytheme
</pre>
<p>If everything works, you can edit your <code>.zshrc</code> accordingly.
</p>
<div class="mw-heading mw-heading5"><h5 id="Adding_prompt_themes_without_a_separate_file_for_each_one">Adding prompt themes without a separate file for each one</h5></div>
<p>In addition to adding a prompt theme through its own file, it is possible to add themes from within another file (like your <code>.zshrc</code>), eg:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Load promptinit
autoload -Uz promptinit &amp;&amp; promptinit

# Define the theme
prompt_mytheme_setup() {
  PS1="%~%# "
}

# Add the theme to promptsys
prompt_themes+=( mytheme )

# Load the theme
prompt mytheme</pre>
<div class="mw-heading mw-heading4"><h4 id="Customized_prompt">Customized prompt</h4></div>
<p>Additionally to a primary left-sided prompt <code>PS1</code> (<code>PROMPT</code>, <code>prompt</code>) that is common to all shells, Zsh also supports a right-sided prompt <code>RPS1</code> (<code>RPROMPT</code>). These two variables are the ones you will want to set to a custom value.
</p>
<p>Other special purpose prompts, such as <code>PS2</code> (<code>PROMPT2</code>), <code>PS3</code> (<code>PROMPT3</code>), <code>PS4</code> (<code>PROMPT4</code>), <code>RPS1</code> (<code>RPROMPT</code>), <code>RPS2</code> (<code>RPROMPT2</code>) and <code>SPROMPT</code>, are explained in <span class="plainlinks archwiki-template-man" title="$ man 1 zshparam"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshparam.1#PARAMETERS_USED_BY_THE_SHELL">zshparam(1) § PARAMETERS USED BY THE SHELL</a></span>.
</p>
<p>All prompts can be customized with prompt escapes. The available prompt escapes are listed in <span class="plainlinks archwiki-template-man" title="$ man 1 zshmisc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmisc.1#EXPANSION_OF_PROMPT_SEQUENCES">zshmisc(1) § EXPANSION OF PROMPT SEQUENCES</a></span>.
</p>
<div class="mw-heading mw-heading5"><h5 id="Colors">Colors</h5></div>
<p>Zsh sets colors differently than <a href="../en/Bash/Prompt_customization.html" title="Bash/Prompt customization">Bash</a>; You do not need to use profuse ANSI escape sequences or terminal capabilities from <span class="plainlinks archwiki-template-man" title="$ man 5 terminfo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/terminfo.5">terminfo(5)</a></span>. Zsh provides convenient prompt escapes to set the foreground color, background color and other visual effects; see <span class="plainlinks archwiki-template-man" title="$ man 1 zshmisc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmisc.1#Visual_effects">zshmisc(1) § Visual effects</a></span> for a list of them and their descriptions.
</p>
<p><a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/FAQ/zshfaq03.html#l42">Colors</a> can be specified using a decimal integer, the name of one of the eight most widely-supported colors or as a # followed by an RGB triplet in hexadecimal format. See the description of fg=colour in <span class="plainlinks archwiki-template-man" title="$ man 1 zshzle"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshzle.1#CHARACTER_HIGHLIGHTING">zshzle(1) § CHARACTER HIGHLIGHTING</a></span> for more details.
</p>
<p>Most terminals support the following colors by name:
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Name</th>
<th>Number
</th>
</tr>
<tr>
<td><code>black</code></td>
<td>
<code>0</code>
</td>
</tr>
<tr>
<td><code>red</code></td>
<td>
<code>1</code>
</td>
</tr>
<tr>
<td><code>green</code></td>
<td>
<code>2</code>
</td>
</tr>
<tr>
<td><code>yellow</code></td>
<td>
<code>3</code>
</td>
</tr>
<tr>
<td><code>blue</code></td>
<td>
<code>4</code>
</td>
</tr>
<tr>
<td><code>magenta</code></td>
<td>
<code>5</code>
</td>
</tr>
<tr>
<td><code>cyan</code></td>
<td>
<code>6</code>
</td>
</tr>
<tr>
<td><code>white</code></td>
<td>
<code>7</code>
</td>
</tr>
</tbody>
</table>
<p>Color numbers 0–255 for terminal emulators compatible with xterm 256 colors can be found in the <a rel="nofollow" class="external text" href="https://upload.wikimedia.org/wikipedia/commons/1/15/Xterm_256color_chart.svg">xterm-256color chart</a>.
</p>
<p>With a correctly set TERM environment variable, the terminal's supported maximum number of colors can be found from the <span class="plainlinks archwiki-template-man" title="$ man 5 terminfo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/terminfo.5">terminfo(5)</a></span> database using <code>echoti colors</code>. In the case of <a rel="nofollow" class="external text" href="https://github.com/termstandard/colors/blob/master/README.md">24-bit colors</a>, also check the COLORTERM environment variable with <code>print $COLORTERM</code>. If it returns <code>24bit</code> or <code>truecolor</code> then your terminal supports 16777216 (2<sup>24</sup>) colors even if terminfo shows a smaller number.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>The colors 0–15 may differ between terminal emulators and their used color schemes.</li>
<li>Many terminal emulators display bold with a brighter color.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>Prompt escapes can be tested with command <code>print -P <i>"prompt escapes"</i></code>, for example: <pre>$ print -P '%B%F{red}co%F{green}lo%F{blue}rs%f%b'</pre>
</li>
<li>If you use 24-bit colors, you might want to load the <code>zsh/nearcolor</code> module in terminals that do not support them. E.g.: <pre>[[ "$COLORTERM" == (24bit|truecolor) || "${terminfo[colors]}" -eq '16777216' ]] || zmodload zsh/nearcolor</pre> See <span class="plainlinks archwiki-template-man" title="$ man 1 zshmodules"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmodules.1#THE_ZSH/NEARCOLOR_MODULE">zshmodules(1) § THE ZSH/NEARCOLOR MODULE</a></span> for details about the <code>zsh/nearcolor</code> module.</li>
</ul>
</div>
<div class="mw-heading mw-heading5"><h5 id="Example">Example</h5></div>
<p>An example of a simple colorless prompt:
</p>
<pre>PROMPT='%n@%m %~ %# '
</pre>
<p>How it will be displayed:
</p>
<div class="mw-no-invert" style="font-family: monospace, monospace; white-space: pre; padding: 1em; background-color: #000; border: 1px solid #bcd; color: #c0c0c0; overflow:hidden;"><span style="float:left;">username@host ~ % </span></div>
<p>This is an example of a two-sided prompt with color:
</p>
<pre>PROMPT='%F{green}%n%f@%F{magenta}%m%f %F{blue}%B%~%b%f %# '
RPROMPT='[%F{yellow}%?%f]'
</pre>
<p>And here is how it will be displayed:
</p>
<div class="mw-no-invert" style="font-family: monospace, monospace; white-space: pre; padding: 1em; background-color: #000; border: 1px solid #bcd; color: #c0c0c0; overflow: hidden;">
<span style="float:left;"><span style="color: #008000;">username</span>@<span style="color: #800080;">host</span> <span style="color: #0000ff;">~</span> % </span><span style="float:right;">[<span style="color: #808000;">0</span>]</span>
</div>
<p>To use colors from the 16-255 range and 24-bit true color, you can use the number from 0 to 255 assigned to the wanted color and its hexadecimal color code, respectively:
</p>
<pre>PROMPT='%F{2}%n%f@%F{5}%m%f %F{4}%B%~%b%f %# '
RPROMPT='[%F{3}%?%f]'
</pre>
<pre>PROMPT='%F{#c0c0c0}%n%f@%F{#008000}%m%f %F{#800080}%B%~%b%f %# '
RPROMPT='[%F{#0000ff}%?%f]'
</pre>
<div class="mw-heading mw-heading3"><h3 id="Sample_.zshrc_files">Sample .zshrc files</h3></div>
<ul>
<li>To get the same setup as the <a rel="nofollow" class="external text" href="https://archlinux.org/download/">monthly ISO releases</a> (which use Zsh by default), install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grml-zsh-config">grml-zsh-config</a></span>. It includes the many tweaks and advanced optimizations from <a rel="nofollow" class="external text" href="https://grml.org/zsh/">grml</a>.</li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/MrElendig/dotfiles-alice/blob/master/.zshrc">https://github.com/MrElendig/dotfiles-alice/blob/master/.zshrc</a> - basic setup, with dynamic prompt and window title/hardinfo.</li>
</ul>
<p>See <a href="../en/Dotfiles.html#User_repositories" title="Dotfiles">dotfiles#User repositories</a> for more.
</p>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Autostart_X_at_login">Autostart X at login</h3></div>
<p>See <a href="../en/Xinit.html#Autostart_X_at_login" title="Xinit">xinit#Autostart X at login</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Restore_terminal_settings_after_a_program_exits_abnormally">Restore terminal settings after a program exits abnormally</h3></div>
<p>Many programs change the terminal state, and often do not restore terminal settings on exiting abnormally (e.g. when crashing or encountering SIGINT). 
</p>
<p>This can typically be solved by executing <span class="plainlinks archwiki-template-man" title="$ man 1 reset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/reset.1">reset(1)</a></span>:
</p>
<pre>$ reset
</pre>
<p>The following sections describe ways to avoid the need to manually reset the terminal.
</p>
<div class="mw-heading mw-heading4"><h4 id="The_ttyctl_command">The ttyctl command</h4></div>
<p>The <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Doc/Release/Shell-Builtin-Commands.html#index-tty_002c-freezing">ttyctl</a> command can be used to "freeze/unfreeze" the terminal. To freeze the interactive shell on launch, use the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ttyctl -f
</pre>
<div class="mw-heading mw-heading4"><h4 id="Resetting_the_terminal_with_escape_sequences">Resetting the terminal with escape sequences</h4></div>
<p><a rel="nofollow" class="external text" href="https://www.in-ulm.de/~mascheck/various/alternate_charset/">Alternate linedrawing character set</a> can screw up the terminal in a way which ttyctl cannot prevent.
</p>
<p>A simple solution is to output the escape sequences that reset the terminal from the <code>precmd</code> hook function, so that they are executed every time before the prompt is drawn. For example, using <a rel="nofollow" class="external text" href="https://www.in-ulm.de/~mascheck/various/alternate_charset/#solution">the escape sequence</a> <code>\e[0m\e(B\e)0\017\e[?5l\e7\e[0;0r\e8</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz add-zsh-hook

function reset_broken_terminal () {
	printf '%b' '\e[0m\e(B\e)0\017\e[?5l\e7\e[0;0r\e8'
}

add-zsh-hook -Uz precmd reset_broken_terminal</pre>
<p>To test if it works, run: 
</p>
<pre>$ print '\e(0\e)B'
</pre>
<div class="mw-heading mw-heading3"><h3 id="Remembering_recent_directories">Remembering recent directories</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Dirstack">Dirstack</h4></div>
<p>Zsh can be configured to remember the DIRSTACKSIZE last visited folders. This can then be used to <i>cd</i> them very quickly. You need to add some lines to your configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz add-zsh-hook

DIRSTACKFILE="${XDG_CACHE_HOME:-$HOME/.cache}/zsh/dirs"
if [[ -f "$DIRSTACKFILE" ]] &amp;&amp; (( ${#dirstack} == 0 )); then
	dirstack=("${(@f)"$(&lt; "$DIRSTACKFILE")"}")
	[[ -d "${dirstack[1]}" ]] &amp;&amp; cd -- "${dirstack[1]}"
fi
chpwd_dirstack() {
	print -l -- "$PWD" "${(u)dirstack[@]}" &gt; "$DIRSTACKFILE"
}
add-zsh-hook -Uz chpwd chpwd_dirstack

DIRSTACKSIZE='20'

setopt AUTO_PUSHD PUSHD_SILENT PUSHD_TO_HOME

## Remove duplicate entries
setopt PUSHD_IGNORE_DUPS

## This reverts the +/- operators.
setopt PUSHD_MINUS
</pre>
<p>Now use
</p>
<pre>$ dirs -v
</pre>
<p>to print the dirstack. Use <code>cd -&lt;NUM&gt;</code> to go back to a visited folder. Use autocompletion after the dash. This proves very handy if using the autocompletion menu.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>This will not work if you have more than one <i>zsh</i> session open, and attempt to <code>cd</code>, due to a conflict in both sessions writing to the same file.</li>
<li>You might need to create <code>$HOME/.cache/zsh</code> directory not to get <code>no such file or directory</code> error.</li>
</ul>
</div>
<div class="mw-heading mw-heading4"><h4 id="cdr">cdr</h4></div>
<p>cdr allows you to change the working directory to a previous working directory from a list maintained automatically. It stores all entries in files that are maintained across sessions and (by default) between terminal emulators in the current session.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 zshcontrib"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshcontrib.1#REMEMBERING_RECENT_DIRECTORIES">zshcontrib(1) § REMEMBERING RECENT DIRECTORIES</a></span> for setup instructions.
</p>
<div class="mw-heading mw-heading4"><h4 id="zoxide">zoxide</h4></div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zoxide">zoxide</a></span> is a smarter <i>cd</i> command that lets you navigate anywhere in just a few keystrokes. It remembers your frequently used directories and uses a scoring mechanism to guess where you want to go.
</p>
<div class="mw-heading mw-heading3"><h3 id="Help_command">Help command</h3></div>
<p>Unlike <a href="../en/Bash.html" title="Bash">Bash</a>, Zsh does not enable a built in <code>help</code> command, instead it provides <code>run-help</code>. By default <code>run-help</code> is an alias to <code>man</code>, it can be either executed manually by prepending it to a command or it can be invoked for the currently typed command with the keyboard shortcuts <code>Alt+h</code> or <code>Esc</code> <code>h</code>.
</p>
<p>Since by default it is just an alias to <a href="../en/Man_page.html" class="mw-redirect" title="Man">man</a>, it will only work on external commands. To improve its functionality, so that it works on shell builtins and other shell features, you need to use the <code>run-help</code> function. See <span class="plainlinks archwiki-template-man" title="$ man 1 zshcontrib"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshcontrib.1">zshcontrib(1)</a></span> for more information on the <code>run-help</code> and its assistant functions.
</p>
<p>First load the <code>run-help</code> function and then remove the existing <code>run-help</code> alias. For convenience <code>help</code> can be aliased to <code>run-help</code>. For example, add following to your <code>zshrc</code>:
</p>
<pre>autoload -Uz run-help
(( ${+aliases[run-help]} )) &amp;&amp; unalias run-help
alias help=run-help
</pre>
<p>Assistant functions have to be enabled separately:
</p>
<pre>autoload -Uz run-help-git run-help-ip run-help-openssl run-help-p4 run-help-sudo run-help-svk run-help-svn
</pre>
<p>For example, <code>run-help git commit</code> command will now open the <a href="../en/Man_page.html" title="Man page">man page</a> <span class="plainlinks archwiki-template-man" title="$ man 1 git-commit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/git-commit.1">git-commit(1)</a></span> instead of <span class="plainlinks archwiki-template-man" title="$ man 1 git"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/git.1">git(1)</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Persistent_rehash">Persistent rehash</h3></div>
<p>Typically, compinit will not automatically find new executables in the <code>$PATH</code>. For example, after you install a new package, the files in <code>/usr/bin/</code> would not be immediately or automatically included in the completion. Thus, to have these new executables included, one would run:
</p>
<pre>$ rehash
</pre>
<p>This 'rehash' can be set to happen automatically.<a rel="nofollow" class="external autonumber" href="https://github.com/robbyrussell/oh-my-zsh/issues/3440">[3]</a> Simply include the following in your <code>zshrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">zstyle ':completion:*' rehash true
</pre>
<div class="mw-heading mw-heading4"><h4 id="On-demand_rehash">On-demand rehash</h4></div>
<p>As above, however <a href="../en/Pacman.html" title="Pacman">pacman</a> can be configured with <a href="../en/Pacman.html#Hooks" class="mw-redirect" title="Hooks">hooks</a> to automatically request a <code>rehash</code>, which does not incur the performance penalty of constant rehashing as above. To enable this, create the <code>/etc/pacman.d/hooks</code> directory, and a <code>/var/cache/zsh</code> directory, then create a hook file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/zsh-rehash.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Operation = Remove
Type = Path
Target = usr/bin/*
[Action]
Depends = zsh
When = PostTransaction
Exec = /usr/bin/install -Dm644 /dev/null /var/cache/zsh/pacman</pre>
<p>This keeps the modification date of the file <code>/var/cache/zsh/pacman</code> consistent with the last time a package was installed, upgraded or removed. Then, <code>zsh</code> must be coaxed into rehashing its own command cache when it goes out of date, by adding to your <code>~/.zshrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">zshcache_time="$(date +%s%N)"

autoload -Uz add-zsh-hook

rehash_precmd() {
  if [[ -a /var/cache/zsh/pacman ]]; then
    local paccache_time="$(date -r /var/cache/zsh/pacman +%s%N)"
    if (( zshcache_time &lt; paccache_time )); then
      rehash
      zshcache_time="$paccache_time"
    fi
  fi
}

add-zsh-hook -Uz precmd rehash_precmd
</pre>
<p>If the <code>precmd</code> hook is triggered before <code>/var/cache/zsh/pacman</code> is updated, completion may not work until a new prompt is initiated. Running an empty command, e.g. pressing <code>enter</code>, should be sufficient.
</p>
<div class="mw-heading mw-heading4"><h4 id="Alternative_on-demand_rehash_using_SIGUSR1">Alternative on-demand rehash using SIGUSR1</h4></div>
<p>As above, however the hook file looks like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/zsh-rehash.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Operation = Remove
Type = Path
Target = usr/bin/*

[Action]
Depends = zsh
Depends = procps-ng
When = PostTransaction
Exec = /usr/bin/pkill zsh --signal=USR1</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> This sends SIGUSR1 to all running <code>zsh</code> instances. Note that the default behavior for SIGUSR1 is terminate so when you first configure this all running <code>zsh</code> instances of all users (including login shells) will terminate if they have not sourced the trap below.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">TRAPUSR1() { rehash }
</pre>
<p>The <i>function trap</i> above can be replaced with a <i>list trap</i> <code>trap 'rehash' USR1</code>. See <span class="plainlinks archwiki-template-man" title="$ man 1 zshmisc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmisc.1#Trap_Functions">zshmisc(1) § Trap Functions</a></span> for differences between types of traps.
</p>
<p>This method will instantly <code>rehash</code> all <code>zsh</code> instances, removing the need to press enter to trigger <code>precmd</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Bind_key_to_ncurses_application">Bind key to ncurses application</h3></div>
<p>Bind a ncurses application to a keystroke, but it will not accept interaction. Use <code>BUFFER</code> variable to make it work. The following example lets users open <a href="../en/Ncmpcpp.html" title="Ncmpcpp">ncmpcpp</a> using <code>Alt+\</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ncmpcppShow() {
  BUFFER="ncmpcpp"
  zle accept-line
}
zle -N ncmpcppShow
bindkey '^[\' ncmpcppShow</pre>
<p>An alternate method, that will keep everything you entered in the line before calling application:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ncmpcppShow() {
  ncmpcpp &lt;$TTY
  zle redisplay
}
zle -N ncmpcppShow
bindkey '^[\' ncmpcppShow</pre>
<div class="mw-heading mw-heading3"><h3 id="File_manager_key_binds">File manager key binds</h3></div>
<p>Key binds like those used in graphic file managers may come handy. The first comes back in directory history (<code>Alt+Left</code>), the second let the user go to the parent directory (<code>Alt+Up</code>). They also display the directory content.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">cdUndoKey() {
  popd
  zle       reset-prompt
  print
  ls
  zle       reset-prompt
}

cdParentKey() {
  pushd ..
  zle      reset-prompt
  print
  ls
  zle       reset-prompt
}

zle -N                 cdParentKey
zle -N                 cdUndoKey
bindkey '^[[1;3A'      cdParentKey
bindkey '^[[1;3D'      cdUndoKey
</pre>
<div class="mw-heading mw-heading3"><h3 id="xterm_title">xterm title</h3></div>
<p>If your terminal emulator supports it, you can set its title from Zsh. This allows dynamically changing the title to display relevant information about the shell state, for example showing the user name and current directory or the currently executing command.
</p>
<p>The xterm title is set with the <a rel="nofollow" class="external text" href="https://www.tldp.org/HOWTO/Xterm-Title-3.html#ss3.1">xterm control sequence operating system command</a> <code>\e]2;</code><code>\a</code> or <code>\e]2;</code><code>\e\\</code>. For example:
</p>
<pre>$ print -n '\e]2;My xterm title\a'
</pre>
<p>will set the title to
</p>
<pre>My xterm title
</pre>
<p>A simple way to have a dynamic title is to set the title in the <code>precmd</code> and <code>preexec</code> hook functions. See <span class="plainlinks archwiki-template-man" title="$ man 1 zshmisc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmisc.1#Hook_Functions">zshmisc(1) § Hook Functions</a></span> for a list of available hook functions and their descriptions.
</p>
<p>By using <code>print -P</code> you can additionally take advantage of Zsh's prompt escapes.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>Title printing can be split up in multiple commands as long as they are sequential.</li>
<li>
<a href="../en/GNU_Screen.html" title="GNU Screen">GNU Screen</a> sends the xterm title to the hardstatus (<code>%h</code>). If you want to use Screen's <a rel="nofollow" class="external text" href="https://www.gnu.org/software/screen/manual/html_node/String-Escapes.html">string escapes</a> (e.g. for colors) you should set the hardstatus with the <code>\e_</code><code>\e\\</code> escape sequence. Otherwise, if string escapes are used in <code>\e]2;</code><code>\a</code>, the terminal emulator will get a garbled title due to it being incapable of interpreting Screen's string escapes.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Do not use the <code>-P</code> option of <code>print</code> when printing variables to prevent them from being parsed as prompt escapes.</li>
<li>Use the <code>q</code> <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Doc/Release/Expansion.html#Parameter-Expansion-Flags">parameter expansion flag</a> when printing variables to prevent them from being parsed as escape sequences.</li>
</ul>
</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autoload -Uz add-zsh-hook

function xterm_title_precmd () {
	print -Pn -- '\e]2;%n@%m %~\a'
	[[ "$TERM" == 'screen'* ]] &amp;&amp; print -Pn -- '\e_\005{2}%n\005{-}@\005{5}%m\005{-} \005{+b 4}%~\005{-}\e\\'
}

function xterm_title_preexec () {
	print -Pn -- '\e]2;%n@%m %~ %# ' &amp;&amp; print -n -- "${(q)1}\a"
	[[ "$TERM" == 'screen'* ]] &amp;&amp; { print -Pn -- '\e_\005{2}%n\005{-}@\005{5}%m\005{-} \005{+b 4}%~\005{-} %# ' &amp;&amp; print -n -- "${(q)1}\e\\"; }
}

if [[ "$TERM" == (Eterm*|alacritty*|aterm*|foot*|gnome*|konsole*|kterm*|putty*|rxvt*|screen*|wezterm*|tmux*|xterm*) ]]; then
	add-zsh-hook -Uz precmd xterm_title_precmd
	add-zsh-hook -Uz preexec xterm_title_preexec
fi
</pre>
<div class="mw-heading mw-heading4"><h4 id="Terminal_emulator_tab_title">Terminal emulator tab title</h4></div>
<p>Some terminal emulators and multiplexers support setting the title of the tab. The escape sequences depend on the terminal:
</p>
<table class="wikitable sortable">
<tbody>
<tr>
<th>Terminal
</th>
<th>Escape sequences
</th>
<th>Description
</th>
</tr>
<tr>
<th>
<a href="../en/GNU_Screen.html" title="GNU Screen">GNU Screen</a>
</th>
<td>
<code>\ek</code><code>\e\\</code>
</td>
<td>Screen's window title (<code>%t</code>).
</td>
</tr>
<tr>
<th>
<a href="../en/Konsole.html" title="Konsole">Konsole</a>
</th>
<td>
<code>\e]30;</code><code>\a</code>
</td>
<td>Konsole's tab title.
</td>
</tr>
</tbody>
</table>
<div class="mw-heading mw-heading3"><h3 id="Shell_environment_detection">Shell environment detection</h3></div>
<p>See <a rel="nofollow" class="external text" href="https://gitlab.com/jdorel-documentation/shell-environment-detection">a repository about shell environment detection</a> for tests to detect the shell environment. This includes login/interactive shell, Xorg session, TTY and SSH session.
</p>
<div class="mw-heading mw-heading3"><h3 id="/dev/tcp_equivalent:_ztcp">
<span id=".2Fdev.2Ftcp_equivalent:_ztcp"></span>/dev/tcp equivalent: ztcp</h3></div>
<p>Use the <code>zsh/net/tcp</code> module:
</p>
<pre>$ zmodload zsh/net/tcp
</pre>
<p>You can now establish TCP connections:
</p>
<pre>$ ztcp example.com 80
</pre>
<p>More details are available in <span class="plainlinks archwiki-template-man" title="$ man 1 zshmodules"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshmodules.1#THE_ZSH/NET/TCP_MODULE">zshmodules(1) § THE_ZSH/NET/TCP_MODULE</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 1 zshtcpsys"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zshtcpsys.1">zshtcpsys(1)</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Shortcut_to_exit_shell_on_partial_command_line">Shortcut to exit shell on partial command line</h3></div>
<p>By default, <code>Ctrl+d</code> will not close your shell if the command line is filled, this fixes it:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exit_zsh() { exit }
zle -N exit_zsh
bindkey '^D' exit_zsh
</pre>
<div class="mw-heading mw-heading3"><h3 id="pacman_-F_&quot;command_not_found&quot;_handler">
<span id="pacman_-F_.22command_not_found.22_handler"></span>pacman -F "command not found" handler</h3></div>
<p><a href="../en/Pacman.html" title="Pacman">pacman</a> includes functionality to search for packages containing a file. The following command-not-found handler will use pacman directly to search for matching packages when an unknown command is executed.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
function command_not_found_handler {
    local purple='\e[1;35m' bright='\e[0;1m' green='\e[1;32m' reset='\e[0m'
    printf 'zsh: command not found: %s\n' "$1"
    local entries=(
        ${(f)"$(/usr/bin/pacman -F --machinereadable -- "/usr/bin/$1")"}
    )
    if (( ${#entries[@]} ))
    then
        printf "${bright}$1${reset} may be found in the following packages:\n"
        local pkg
        for entry in "${entries[@]}"
        do
            # (repo package version file)
            local fields=(
                ${(0)entry}
            )
            if [[ "$pkg" != "${fields[2]}" ]]
            then
                printf "${purple}%s/${bright}%s ${green}%s${reset}\n" "${fields[1]}" "${fields[2]}" "${fields[3]}"
            fi
            printf '    /%s\n' "${fields[4]}"
            pkg="${fields[2]}"
        done
    fi
    return 127
}
...</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The files database of pacman is separate from the normal sync database and it needs to be fetched using <code>pacman -Fy</code>. See <a href="../en/Pacman.html#Querying_package_databases" title="Pacman">pacman#Querying package databases</a> for details.</div>
<p>For an alternative using <a href="../en/Pkgfile.html" title="Pkgfile">pkgfile</a>, see <a href="#pkgfile_&quot;command_not_found&quot;_handler">#pkgfile "command not found" handler</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Clear_the_backbuffer_using_a_key_binding">Clear the backbuffer using a key binding</h3></div>
<p>By default, the clear screen keybinding will not clear the backbuffer (the part you need to scroll up for to see it) on most terminal emulators. A possible solution to this problem is the following.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
function clear-screen-and-scrollback() {
    printf '\x1Bc'
    zle clear-screen
}

zle -N clear-screen-and-scrollback
bindkey '^L' clear-screen-and-scrollback
...</pre>
<div class="mw-heading mw-heading2"><h2 id="Third-party_extensions">Third-party extensions</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Configuration_frameworks">Configuration frameworks</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Frameworks introduce a level of abstraction and complexity. They can, and often do, introduce undefined behavior. In case of shell breakage, the <i>first</i> debugging step should be to revert to the plain shell.</div>
<ul><li>
<b>oh-my-posh</b> — Oh My Posh is a custom prompt engine for any shell that has the ability to adjust the prompt string with a function or variable.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/JanDeDobbeleer/oh-my-posh">https://github.com/JanDeDobbeleer/oh-my-posh</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oh-my-posh/">oh-my-posh</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>oh-my-zsh</b> — A popular, community-driven framework for managing your Zsh configuration. It comes bundled with a ton of helpful functions, helpers, plugins, themes.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ohmyzsh/ohmyzsh">https://github.com/ohmyzsh/ohmyzsh</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oh-my-zsh-git/">oh-my-zsh-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Prezto</b> — A configuration framework for Zsh. It comes with modules, enriching the command line interface environment with sane defaults, aliases, functions, auto completion, and prompt themes.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sorin-ionescu/prezto">https://github.com/sorin-ionescu/prezto</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/prezto-git/">prezto-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ZIM</b> — A configuration framework with blazing speed and modular extensions. Zim is very easy to customize, and comes with a rich set of modules and features without compromising on speed or functionality.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/zimfw/zimfw">https://github.com/zimfw/zimfw</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zsh-zim-git/">zsh-zim-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="Plugin_managers">Plugin managers</h3></div>
<ul><li>
<b>Antidote</b> — A feature complete Zsh implementation of the legacy Antibody plugin manager.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mattmc3/antidote">https://github.com/mattmc3/antidote</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zsh-antidote/">zsh-antidote</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>zinit (previously "zplugin")</b> — Flexible Zsh plugin manager with clean fpath, reports, completion management, turbo mode <a rel="nofollow" class="external text" href="https://github.com/zdharma-continuum/I_WANT_TO_HELP">REVIVED</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/zdharma-continuum/zinit">https://github.com/zdharma-continuum/zinit</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zinit/">zinit</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>zi (previously "zplugin")</b> — Alternative fork of zplugin aiming to expand on the original project, instead of preservation and maintenance of the original project like zinit.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/z-shell/zi">https://github.com/z-shell/zi</a> || <small>not packaged? <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/">search in AUR</a></small>
</dd></dl>
<ul><li>
<b>sheldon</b> — Fast, configurable, shell plugin manager, written in Rust <a rel="nofollow" class="external autonumber" href="https://github.com/rossmacarthur/sheldon">[4]</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rossmacarthur/sheldon">https://github.com/rossmacarthur/sheldon</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sheldon">sheldon</a></span>
</dd></dl>
<ul><li>
<b>Antigen</b> — A plugin manager for Zsh, inspired by oh-my-zsh and vundle. <a rel="nofollow" class="external text" href="https://github.com/zsh-users/antigen/issues/673">ABANDONED</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/zsh-users/antigen">https://github.com/zsh-users/antigen</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/antigen-git/">antigen-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>zgen</b> — A lightweight and simple plugin manager for Zsh. <a rel="nofollow" class="external text" href="https://github.com/tarjoilija/zgen/issues/123">ABANDONED</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/tarjoilija/zgen">https://github.com/tarjoilija/zgen</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zgen-git/">zgen-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>zplug</b> — A next-generation plugin manager for Zsh. <a rel="nofollow" class="external text" href="https://github.com/zplug/zplug/issues/403#issuecomment-477520784">ABANDONED</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/zplug/zplug">https://github.com/zplug/zplug</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zplug/">zplug</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="Fish-like_syntax_highlighting_and_autosuggestions">Fish-like syntax highlighting and autosuggestions</h3></div>
<p><a href="../en/Fish.html" title="Fish">Fish</a> provides very powerful shell syntax highlighting and autosuggestions. To use both in Zsh, you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-syntax-highlighting">zsh-syntax-highlighting</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-autosuggestions">zsh-autosuggestions</a></span>, and finally <a href="../en/Help:Reading.html#Source" class="mw-redirect" title="Source">source</a> one or both of the provided scripts from the end of your zshrc, ensuring that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-syntax-highlighting">zsh-syntax-highlighting</a></span> is sourced after <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-autosuggestions">zsh-autosuggestions</a></span> <a rel="nofollow" class="external autonumber" href="https://github.com/zsh-users/zsh-syntax-highlighting#why-must-zsh-syntax-highlightingzsh-be-sourced-at-the-end-of-the-zshrc-file">[5]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</pre>
<div class="mw-heading mw-heading3"><h3 id="pkgfile_&quot;command_not_found&quot;_handler">
<span id="pkgfile_.22command_not_found.22_handler"></span>pkgfile "command not found" handler</h3></div>
<p><a href="../en/Pkgfile.html" title="Pkgfile">pkgfile</a> includes a Zsh script file that provides a <code>command_not_found_handler</code> function that will automatically search the pkgfile database when entering an unrecognized command.
</p>
<p>You need to <a href="../en/Help:Reading.html#Source" class="mw-redirect" title="Source">source</a> the script to enable it. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.zshrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">source /usr/share/doc/pkgfile/command-not-found.zsh</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The pkgfile database may need to be updated before this will work. See <a href="../en/Pkgfile.html#Installation" title="Pkgfile">pkgfile#Installation</a> for details.</div>
<p>For an alternative using pacman's native functionality, see <a href="#pacman_-F_&quot;command_not_found&quot;_handler">#pacman -F "command not found" handler</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="IOT_instruction">IOT instruction</h3></div>
<p><code>IOT instruction</code> message just means that an application exited with signal 6 (SIGABRT, Signal Abort). The <a rel="nofollow" class="external text" href="https://zsh.org/workers/51602">patch</a> is already in upstream (i.e. you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zsh-git/">zsh-git</a></span><sup><small>AUR</small></sup>) and it will be applied in 5.10. For more information, see <a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/questions/75842144/can-anyone-explain-what-iot-instruction-core-dumped-refers-to/75844316#75844316">[6]</a>, <a rel="nofollow" class="external autonumber" href="https://zsh.org/workers/51601">[7]</a> and <span class="plainlinks archwiki-template-man" title="$ man 7 signal"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/signal.7#Standard_signals">signal(7) § Standard signals</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Zsh" class="extiw" title="wikipedia:Zsh">Wikipedia:Zsh</a></li>
<li><a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Intro/intro_toc.html">An Introduction to the Z Shell</a></li>
<li><a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Guide/zshguide.html">A User's Guide to ZSH</a></li>
<li>
<a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Doc/Release/index-frame.html">The Z Shell Manual</a> (different format available <a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/Doc/">here</a>)</li>
<li><a rel="nofollow" class="external text" href="https://zsh.sourceforge.io/FAQ/zshfaq01.html">Zsh FAQ</a></li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 1 zsh-lovers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/zsh-lovers.1">zsh-lovers(1)</a></span> (available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zsh-lovers">zsh-lovers</a></span> package)</li>
<li><a href="https://wiki.gentoo.org/wiki/Zsh/Guide" class="extiw" title="gentoo:Zsh/Guide">Gentoo: Zsh/Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://www.bash2zsh.com/zsh_refcard/refcard.pdf">Bash2Zsh Reference Card</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Command-line_shells.html" title="Category:Command-line shells">Command-line shells</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_missing_package_links.html" title="Category:Pages with missing package links">Pages with missing package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Zsh&amp;oldid=849318">https://wiki.archlinux.org/index.php?title=Zsh&amp;oldid=849318</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 October 2025, at 18:00.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Zsh</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
