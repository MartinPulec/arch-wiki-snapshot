<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network UPS Tools - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_UPS_Tools rootpage-Network_UPS_Tools skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Driver_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Driver_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Driver configuration</span>
				</div>
			</a>
			
			<ul id="toc-Driver_configuration-sublist" class="vector-toc-list">
				<li id="toc-Can't_claim_USB_device_error" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Can't_claim_USB_device_error">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Can't claim USB device error</span>
				</div>
			</a>
			
			<ul id="toc-Can't_claim_USB_device_error-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-upsd_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#upsd_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>upsd configuration</span>
				</div>
			</a>
			
			<ul id="toc-upsd_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-upsmon_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#upsmon_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>upsmon configuration</span>
				</div>
			</a>
			
			<ul id="toc-upsmon_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd_targets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd_targets">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>systemd targets</span>
				</div>
			</a>
			
			<ul id="toc-systemd_targets-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-NUT-Monitor" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#NUT-Monitor">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>NUT-Monitor</span>
			</div>
		</a>
		
		<ul id="toc-NUT-Monitor-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-CyberPower_UPS_keeps_disconnecting/reconnecting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#CyberPower_UPS_keeps_disconnecting/reconnecting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>CyberPower UPS keeps disconnecting/reconnecting</span>
				</div>
			</a>
			
			<ul id="toc-CyberPower_UPS_keeps_disconnecting/reconnecting-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-EATON_5E650iUSB_fails_to_start_driver" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#EATON_5E650iUSB_fails_to_start_driver">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>EATON 5E650iUSB fails to start driver</span>
				</div>
			</a>
			
			<ul id="toc-EATON_5E650iUSB_fails_to_start_driver-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Can't_claim_USB_device:_Entity_not_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Can't_claim_USB_device:_Entity_not_found">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Can't claim USB device: Entity not found</span>
				</div>
			</a>
			
			<ul id="toc-Can't_claim_USB_device:_Entity_not_found-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Network UPS Tools</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Network_UPS_Tools" title="Network UPS Tools – 日本語" lang="ja" hreflang="ja" data-title="Network UPS Tools" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Network_UPS_Tools.html" title="Network UPS Tools – русский" lang="ru" hreflang="ru" data-title="Network UPS Tools" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/APC_UPS.html" title="APC UPS">APC UPS</a></li>
</ul>
</div>
<p>This document describes how to install the <a rel="nofollow" class="external text" href="https://networkupstools.org/">Network UPS Tools (NUT)</a>. Network UPS Tools is compatible with thousands of models of UPS. You can check the <a rel="nofollow" class="external text" href="https://networkupstools.org/stable-hcl.html">Hardware Compatibility List</a> to see if your UPS is supported.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nut">nut</a></span> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>NUT has 3 daemons associated with it:
</p>
<ul>
<li>The driver which communicates with the UPS.</li>
<li>A server (upsd) which uses the driver to report the status of the UPS.</li>
<li>A monitoring daemon (upsmon) which monitors the upsd server and takes action based on information it receives.</li>
</ul>
<p>The idea is that if you have multiple systems connected to the UPS, one can communicate the status of the UPS over the network and the others can monitor that status by running their own upsmon services.  NUT has <a rel="nofollow" class="external text" href="https://networkupstools.org/docs/user-manual.chunked/ar01s06.html#_configuring_and_using">extensive documentation on the configuration</a> however this is going to walk through a simple setup of a USB UPS and the associated server and monitor all in one system (common desktop configuration).
</p>
<h3><span class="mw-headline" id="Driver_configuration">Driver configuration</span></h3>
<p>The configuration here will depend on the type of UPS you have. Consult the previously mentioned Hardware Compatibility List to find what driver will likely work for your UPS. You can run the tool <span class="plainlinks archwiki-template-man" title="$ man 8 nut-scanner"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nut-scanner.8">nut-scanner(8)</a></span> which will detect NUT-compatible devices attached to your system.
</p>
<p>For many UPS connected by USB, use the <span class="plainlinks archwiki-template-man" title="$ man 8 usbhid-ups"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/usbhid-ups.8">usbhid-ups(8)</a></span> driver. For UPS with serial port, use <code>port=/dev/ttySX</code>, where X is the number of serial port (Example: <code>/dev/ttyS1</code>). For UPS with USB port, use <code>port=auto</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nut/ups.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[<i>upsname</i>]
    driver = usbhid-ups
    port = auto</pre>
<p>You can name the UPS device whatever you like. <span class="plainlinks archwiki-template-man" title="$ man 5 ups.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ups.conf.5">ups.conf(5)</a></span>
</p>
<p>Start the driver as root with <code>upsdrvctl start</code>. If there are no errors, you should see a message like this one for the driver <code>usbhid-ups</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># upsdrvctl start</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Network UPS Tools - Generic HID driver 0.34 (2.4.1)
USB communication driver 0.31
Using subdriver: MGE HID 1.12
Detected EATON - Ellipse MAX 1100 [ADKK22008]
</pre>
<p>If the driver does not start cleanly, make sure you have picked the right one for your hardware. You might need to try other drivers by changing the <code>driver=</code> value in <code>ups.conf</code>.
</p>
<p>At this point you should be able to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nut-driver-enumerator.service</code> which will automatically create nut-driver@&lt;ups name&gt; systemd service instance and start it.
</p>
<h4>
<span id="Can.27t_claim_USB_device_error"></span><span class="mw-headline" id="Can't_claim_USB_device_error">Can't claim USB device error</span>
</h4>
<p>If you receive an error message like this one:
</p>
<pre>Can't claim USB device [<i>XXXX:YYYY</i>]: could not detach kernel driver from
interface 0: Operation not permitted
Driver failed to start (exit status=1)
</pre>
<p>Or a less specific one:
</p>
<pre>USB communication driver 0.33
No matching HID UPS found
Driver failed to start (exit status=1)
</pre>
<p>It is most likely a problem with permissions for accessing the device. You can fix that by specifying an <a href="../en/Udev.html" title="Udev">udev</a> rule that sets the correct group:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/50-ups.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="usb", ATTR{idVendor}=="<i>XXXX</i>", ATTR{idProduct}=="<i>YYYY</i>", GROUP="nut"</pre>
<p>Where <code><i>XXXX</i></code> and <code><i>YYYY</i></code> are the device manufacturer and product IDs. You can see these either in the error output (<code>[<i>XXXX:YYYY</i>]</code>) or by using <code>lsusb</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <code>nut</code> group is added by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nut">nut</a></span> package. If you used different installation method, you may need to correct the group.</div>
<p>After this is done, reload and retrigger udev rules by running:
</p>
<pre># udevadm control --reload
# udevadm trigger
</pre>
<h3><span class="mw-headline" id="upsd_configuration">upsd configuration</span></h3>
<p>By default upsd listens only on localhost <code>tcp/3493</code> and this is fine for our purpose. Though it is not necessary for following this guide, you can configure upsd beyond the defaults by editing <code>/etc/nut/upsd.conf</code>. See <span class="plainlinks archwiki-template-man" title="$ man 5 upsd.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/upsd.conf.5">upsd.conf(5)</a></span>.
</p>
<p>You will need to add a user for a monitor to connect to the server and issue commands. See <span class="plainlinks archwiki-template-man" title="$ man 5 upsd.users"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/upsd.users.5">upsd.users(5)</a></span>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nut/upsd.users</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[<i>upsuser</i>]
     password = <i>password</i>
     upsmon primary
     actions = SET
     instcmds = ALL</pre>
<p>At this point you should be able to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nut-server.service</code>.
</p>
<p>If it has started successfully, you can run <code>upsc <i>upsname</i></code> to get information from the UPS. Example output from the command:
</p>
<pre>battery.charge: 100
battery.charge.low: 10
battery.charge.warning: 20
battery.mfr.date: CPS
battery.runtime: 5550
battery.runtime.low: 300
battery.type: PbAcid
battery.voltage: 13.5
battery.voltage.nominal: 12
device.mfr: CPS
device.model: UPS CP1000AVRLCD
device.type: ups
driver.name: usbhid-ups
driver.parameter.pollfreq: 30
driver.parameter.pollinterval: 2
driver.parameter.port: auto
driver.parameter.synchronous: no
driver.version: 2.7.4
driver.version.data: CyberPower HID 0.4
driver.version.internal: 0.41
input.transfer.high: 140
input.transfer.low: 90
input.voltage: 122.0
input.voltage.nominal: 120
output.voltage: 122.0
ups.beeper.status: disabled
ups.delay.shutdown: 20
ups.delay.start: 30
ups.load: 0
ups.mfr: CPS
ups.model: UPS CP1000AVRLCD
ups.productid: 0501
ups.realpower.nominal: 600
ups.status: OL
ups.test.result: Done and passed
ups.timer.shutdown: -60
ups.timer.start: 0
ups.vendorid: 0764
</pre>
<h3><span class="mw-headline" id="upsmon_configuration">upsmon configuration</span></h3>
<p>The last step is to configure upsmon to listen to upsd and take action on events.
</p>
<p>Add the following line to <code>/etc/nut/upsmon.conf</code>:
</p>
<pre>MONITOR <i>upsname</i>@localhost 1 <i>upsduser</i> <i>password</i> primary
</pre>
<p>Here <i>upsname</i> is the name of the UPS, and <i>upsduser</i> and <i>password</i> is the user and its password you set in <code>/etc/nut/upsd.users</code>.
</p>
<p>You can also configure what alerts are sent, where they are sent, what action is taken when the battery is low, and more. See <span class="plainlinks archwiki-template-man" title="$ man 5 upsmon.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/upsmon.conf.5">upsmon.conf(5)</a></span>.
</p>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nut-monitor.service</code>.
</p>
<p>Your logs should show upsmon starting and monitoring the UPS.
</p>
<h3><span class="mw-headline" id="systemd_targets">systemd targets</span></h3>
<p>In order for the systemd service units to start on boot, you must <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>nut.target</code> and <code>nut-driver.target</code>.
</p>
<h2><span class="mw-headline" id="NUT-Monitor">NUT-Monitor</span></h2>
<p><a rel="nofollow" class="external text" href="https://networkupstools.org/projects.html#_a_href_http_www_lestat_st_en_informatique_projets_nut_monitor_nut_monitor_a">NUT-Monitor</a> is a graphical user interface to monitor and manage devices connected to the Network UPS Tools server.
</p>
<p>You can <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> nut-monitor with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nut-monitor/">nut-monitor</a></span><sup><small>AUR</small></sup> package.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="CyberPower_UPS_keeps_disconnecting.2Freconnecting"></span><span class="mw-headline" id="CyberPower_UPS_keeps_disconnecting/reconnecting">CyberPower UPS keeps disconnecting/reconnecting</span>
</h3>
<p>Some <a href="../en/CyberPower_UPS.html" title="CyberPower UPS">CyberPower UPS</a> products are known to keep disconnecting/reconnecting until the driver successfully attaches to it <a rel="nofollow" class="external autonumber" href="https://alioth-lists.debian.net/pipermail/nut-upsuser/2011-June/006871.html">[1]</a>. Once the disconnect/reconnect loop starts, it can be difficult for <code>upsd</code> to establish connection to the UPS using default configuration (which appears to impact the proprietary driver as well).
</p>
<p>To mitigate this issue, <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> <code>nut-driver@.service</code>, add the following configuration, then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nut-driver@cyberpower.service</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/nut-driver@.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
StopWhenUnneeded=no

[Service]
PIDFile=/run/nut/usbhid-ups-cyberpower.pid
Group=nut
User=nut
RestartSec=10s</pre>
<p>Additionally, consider using <code>maxretry</code> in UPS configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nut/ups.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">maxretry = 5

[cyberpower]
        driver = "usbhid-ups"
        port = "auto"
        ...</pre>
<h3><span class="mw-headline" id="EATON_5E650iUSB_fails_to_start_driver">EATON 5E650iUSB fails to start driver</span></h3>
<p>According to an <a rel="nofollow" class="external text" href="https://github.com/networkupstools/nut/issues/630">issue on GitHub</a>, there is a bug in the kernel and the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> can be used as a workaround:
</p>
<pre>usbhid.quirks=0x0463:0xffff:0x08
</pre>
<h3>
<span id="Can.27t_claim_USB_device:_Entity_not_found"></span><span class="mw-headline" id="Can't_claim_USB_device:_Entity_not_found">Can't claim USB device: Entity not found</span>
</h3>
<p>When getting the following error from nut-driver:
</p>
<pre>Can't claim USB device [XXXX:XXXX]@0/0/0: Entity not found
</pre>
<p>Several users report (example <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=290778">[2]</a>) that rebooting (power-cycling) the UPS can fix this issue.
</p>
<p>Alternatively, you can try <code>upsdrvctl stop</code> before <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting">starting</a> the <code>nut-driver@<i>ups_name</i></code> systemd service.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://forums.unraid.net/topic/93341-tutorial-networked-nut-for-cyberpower-ups/">Tutorial on networked NUT for Cyberpower UPS</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Power_management.html" title="Category:Power management">Power management</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_UPS_Tools&amp;oldid=834993">https://wiki.archlinux.org/index.php?title=Network_UPS_Tools&amp;oldid=834993</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 June 2025, at 10:01.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
