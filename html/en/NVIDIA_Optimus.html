<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NVIDIA Optimus - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NVIDIA_Optimus rootpage-NVIDIA_Optimus skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Available_methods" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Available_methods">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Available methods</div>
		</a>
		
		<ul id="toc-Available_methods-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Use_integrated_graphics_only" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Use_integrated_graphics_only">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Use integrated graphics only</div>
		</a>
		
			<button aria-controls="toc-Use_integrated_graphics_only-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Use integrated graphics only subsection</span>
			</button>
		
		<ul id="toc-Use_integrated_graphics_only-sublist" class="vector-toc-list">
			<li id="toc-Use_CUDA_without_switching_the_rendering_provider" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_CUDA_without_switching_the_rendering_provider">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Use CUDA without switching the rendering provider</div>
			</a>
			
			<ul id="toc-Use_CUDA_without_switching_the_rendering_provider-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Use_NVIDIA_graphics_only" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Use_NVIDIA_graphics_only">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Use NVIDIA graphics only</div>
		</a>
		
			<button aria-controls="toc-Use_NVIDIA_graphics_only-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Use NVIDIA graphics only subsection</span>
			</button>
		
		<ul id="toc-Use_NVIDIA_graphics_only-sublist" class="vector-toc-list">
			<li id="toc-Display_managers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Display_managers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Display managers</div>
			</a>
			
			<ul id="toc-Display_managers-sublist" class="vector-toc-list">
				<li id="toc-LightDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LightDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>LightDM</div>
			</a>
			
			<ul id="toc-LightDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SDDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SDDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>SDDM</div>
			</a>
			
			<ul id="toc-SDDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>GDM</div>
			</a>
			
			<ul id="toc-GDM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Checking_3D" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Checking_3D">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Checking 3D</div>
			</a>
			
			<ul id="toc-Checking_3D-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Further_information" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Further_information">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Further information</div>
			</a>
			
			<ul id="toc-Further_information-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Use_switchable_graphics" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Use_switchable_graphics">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Use switchable graphics</div>
		</a>
		
			<button aria-controls="toc-Use_switchable_graphics-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Use switchable graphics subsection</span>
			</button>
		
		<ul id="toc-Use_switchable_graphics-sublist" class="vector-toc-list">
			<li id="toc-Using_PRIME_render_offload" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_PRIME_render_offload">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Using PRIME render offload</div>
			</a>
			
			<ul id="toc-Using_PRIME_render_offload-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_nouveau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_nouveau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Using nouveau</div>
			</a>
			
			<ul id="toc-Using_nouveau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_Bumblebee" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_Bumblebee">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Using Bumblebee</div>
			</a>
			
			<ul id="toc-Using_Bumblebee-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_switcheroo-control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_switcheroo-control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Using switcheroo-control</div>
			</a>
			
			<ul id="toc-Using_switcheroo-control-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_nvidia-xrun" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_nvidia-xrun">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Using nvidia-xrun</div>
			</a>
			
			<ul id="toc-Using_nvidia-xrun-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_optimus-manager" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_optimus-manager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Using optimus-manager</div>
			</a>
			
			<ul id="toc-Using_optimus-manager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_EnvyControl" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_EnvyControl">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Using EnvyControl</div>
			</a>
			
			<ul id="toc-Using_EnvyControl-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_NVidia-eXec" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_NVidia-eXec">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Using NVidia-eXec</div>
			</a>
			
			<ul id="toc-Using_NVidia-eXec-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_nvidia-switch" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_nvidia-switch">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>Using nvidia-switch</div>
			</a>
			
			<ul id="toc-Using_nvidia-switch-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Tearing/Broken_VSync" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tearing/Broken_VSync">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Tearing/Broken VSync</div>
			</a>
			
			<ul id="toc-Tearing/Broken_VSync-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</div>
			</a>
			
			<ul id="toc-Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Resolution,_screen_scan_wrong._EDID_errors_in_Xorg.log" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resolution,_screen_scan_wrong._EDID_errors_in_Xorg.log">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Resolution, screen scan wrong. EDID errors in Xorg.log</div>
			</a>
			
			<ul id="toc-Resolution,_screen_scan_wrong._EDID_errors_in_Xorg.log-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wrong_resolution_without_EDID_errors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wrong_resolution_without_EDID_errors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Wrong resolution without EDID errors</div>
			</a>
			
			<ul id="toc-Wrong_resolution_without_EDID_errors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lockup_issue_(lspci_hangs)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lockup_issue_(lspci_hangs)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Lockup issue (lspci hangs)</div>
			</a>
			
			<ul id="toc-Lockup_issue_(lspci_hangs)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-No_screens_found_on_a_laptop/NVIDIA_Optimus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#No_screens_found_on_a_laptop/NVIDIA_Optimus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>No screens found on a laptop/NVIDIA Optimus</div>
			</a>
			
			<ul id="toc-No_screens_found_on_a_laptop/NVIDIA_Optimus-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Random_freezes_"(EE)_NVIDIA(GPU-0):_WAIT"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Random_freezes_"(EE)_NVIDIA(GPU-0):_WAIT"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>Random freezes "(EE) NVIDIA(GPU-0): WAIT"</div>
			</a>
			
			<ul id='toc-Random_freezes_"(EE)_NVIDIA(GPU-0):_WAIT"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"No_Devices_detected"_with_optimus-manager' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#"No_Devices_detected"_with_optimus-manager'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>"No Devices detected" with optimus-manager</div>
			</a>
			
			<ul id='toc-"No_Devices_detected"_with_optimus-manager-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg:_external_monitor_updates_only_when_the_mouse_is_moving" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg:_external_monitor_updates_only_when_the_mouse_is_moving">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.9</span>Xorg: external monitor updates only when the mouse is moving</div>
			</a>
			
			<ul id="toc-Xorg:_external_monitor_updates_only_when_the_mouse_is_moving-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Low_power_usage_(TDP)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Low_power_usage_(TDP)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.10</span>Low power usage (TDP)</div>
			</a>
			
			<ul id="toc-Low_power_usage_(TDP)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NVIDIA_GPU_will_not_turn_off_or_stay_deactivated" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NVIDIA_GPU_will_not_turn_off_or_stay_deactivated">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.11</span>NVIDIA GPU will not turn off or stay deactivated</div>
			</a>
			
			<ul id="toc-NVIDIA_GPU_will_not_turn_off_or_stay_deactivated-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NVIDIA Optimus</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/NVIDIA_Optimus.html" title="NVIDIA Optimus – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/NVIDIA_Optimus.html" title="NVIDIA Optimus – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NVIDIA_Optimus" title="NVIDIA Optimus – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/NVIDIA_Optimus.html" title="NVIDIA Optimus – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NVIDIA_Optimus" title="NVIDIA Optimus – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/PRIME.html" title="PRIME">PRIME</a></li>
<li><a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a></li>
<li><a href="../en/Nouveau.html" title="Nouveau">Nouveau</a></li>
<li><a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a></li>
<li><a href="../en/Nvidia-xrun.html" title="Nvidia-xrun">nvidia-xrun</a></li>
<li><a href="../en/External_GPU.html" title="External GPU">External GPU</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Make clear what's specific to X and what is usable on Wayland. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NVIDIA_Optimus.html">Talk:NVIDIA Optimus</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/NVIDIA_Optimus" class="extiw" title="wikipedia:NVIDIA Optimus">NVIDIA Optimus</a> is a technology that allows an integrated GPU and discrete NVIDIA GPU to be built into and accessed by a laptop.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Available_methods">Available methods</span></h2>
<p>There are several methods available:
</p>
<ul>
<li>
<a href="#Use_integrated_graphics_only">#Use integrated graphics only</a> - saves power, because NVIDIA GPU will be completely powered off.</li>
<li>
<a href="#Use_NVIDIA_graphics_only">#Use NVIDIA graphics only</a> - gives more performance than integrated graphics, but drains more battery (which is not welcome for mobile devices). This utilizes the same underlying process as the <a href="#Using_optimus-manager">optimus-manager</a> and <a href="#Using_nvidia-xrun">nvidia-xrun</a> options, it should be utilized for troubleshooting and verifying general functionality, before opting for one of the more automated approaches.</li>
<li>Using both (use NVIDIA GPU when needed and keep it powered off to save power):
<ul>
<li>
<a href="#Using_PRIME_render_offload">#Using PRIME render offload</a> - official method supported by NVIDIA.</li>
<li>
<a href="#Using_optimus-manager">#Using optimus-manager</a> - switches graphics with a single command (logout and login required to take effect). Also supports hybrid mode with PRIME render offload. It achieves maximum performance out of NVIDIA GPU and switches it off if not in use. Since the 1.4 release AMD+NVIDIA combination is also supported.</li>
<li>
<a href="#Using_nvidia-xrun">#Using nvidia-xrun</a> - run separate X session on different TTY with NVIDIA graphics. It achieves maximum performance out of NVIDIA GPU and switches it off if not in use.</li>
<li>
<a href="#Using_Bumblebee">#Using Bumblebee</a> - provides Windows-like functionality by allowing to run selected applications with NVIDIA graphics while using Intel graphics for everything else. Has significant performance issues.</li>
<li>
<a href="#Using_switcheroo-control">#Using switcheroo-control</a> - Similar to Bumblebee, but specifically for <a href="../en/GNOME.html" title="GNOME">GNOME</a> users. Allows applications to specify if they prefer the dedicated GPU in their <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop entry">desktop entry</a> file, and lets you manually run any application on the NVIDIA GPU from the right-click menu.</li>
<li>
<a href="#Using_nouveau">#Using nouveau</a> - offers poorer performance (compared to the proprietary NVIDIA driver) and may cause issues with sleep and hibernate. Does not work with latest NVIDIA GPUs.</li>
<li>
<a href="#Using_EnvyControl">#Using EnvyControl</a> - Similar to optimus-manager but does not require extensive configuration or having a daemon running in the background as well as having to install a patched version of GDM if you are a GNOME user.</li>
<li>
<a href="#Using_NVidia-eXec">#Using NVidia-eXec</a> - Similar to Bumblebee, but without the performance impact. It works on both Xorg and Wayland. This package is experimental, and is currently being tested only under GNOME/GDM.</li>
<li>
<a href="#Using_nvidia-switch">#Using nvidia-switch</a> - Similar to nvidia-xrun, but not needing to change TTY, the switches will be done by login and logouts in your display manager. This package is being tested on Debian based system, but, like nvidia-xrun, it must work in all Linux systems.</li>
</ul>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> All of these options are mutually exclusive, if you test one approach and decide for another, you must ensure to revert any configuration changes done by following one approach before attempting another method, otherwise file conflicts and undefined behaviours may arise.</div>
<h2><span class="mw-headline" id="Use_integrated_graphics_only">Use integrated graphics only</span></h2>
<p>If you only care to use a certain GPU without switching, check the options in your system's BIOS. There should be an option to disable one of the cards. Some laptops only allow disabling of the discrete card, or vice-versa, but it is worth checking if you only plan to use just one of the cards.
</p>
<p>If your BIOS does not allow to disable Nvidia graphics, you can disable it from the Linux kernel itself. See <a href="../en/Hybrid_graphics.html#Fully_power_down_discrete_GPU" title="Hybrid graphics">Hybrid graphics#Fully power down discrete GPU</a>.
</p>
<h3><span class="mw-headline" id="Use_CUDA_without_switching_the_rendering_provider">Use CUDA without switching the rendering provider</span></h3>
<p>You can use CUDA without switching rendering to the Nvidia graphics. All you need to do is ensure that the Nvidia card is powered on before starting a CUDA application, see <a href="../en/Hybrid_graphics.html#Fully_power_down_discrete_GPU" title="Hybrid graphics">Hybrid graphics#Fully power down discrete GPU</a> for details.
</p>
<p>Now when you start a CUDA application, it will automatically load all necessary kernel modules. Before turning off the Nvidia card after using CUDA, the <code>nvidia</code> kernel modules have to be unloaded first:
</p>
<pre># rmmod nvidia_uvm
# rmmod nvidia
</pre>
<h2><span class="mw-headline" id="Use_NVIDIA_graphics_only">Use NVIDIA graphics only</span></h2>
<p>The proprietary NVIDIA driver can be configured to be the primary rendering provider. It also has notable screen-tearing issues unless you enable prime sync by enabling <a href="../en/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA">NVIDIA#DRM kernel mode setting</a>, see <a rel="nofollow" class="external autonumber" href="https://devtalk.nvidia.com/default/topic/957814/linux/prime-and-prime-synchronization/">[1]</a> for further information. It does allow use of the discrete GPU and has (as of <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=nouveau-410-blob&amp;num=1">January 2017</a>) a marked edge in performance over the nouveau driver.
</p>
<p>First, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> driver and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xrandr">xorg-xrandr</a></span>. Then, configure <code>/etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code> the options of which will be combined with the package provided <code>/usr/share/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code> to provide compatibility with this setup.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> On some setups this setup breaks automatic detection of the values of the display by the nvidia driver through the EDID file. As a work-around see <a href="#Resolution,_screen_scan_wrong._EDID_errors_in_Xorg.log">#Resolution, screen scan wrong. EDID errors in Xorg.log</a>. </div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "OutputClass"
    Identifier "intel"
    MatchDriver "i915"
    Driver "modesetting"
EndSection

Section "OutputClass"
    Identifier "nvidia"
    MatchDriver "nvidia-drm"
    Driver "nvidia"
    Option "AllowEmptyInitialConfiguration"
    Option "PrimaryGPU" "yes"
    ModulePath "/usr/lib/nvidia/xorg"
    ModulePath "/usr/lib/xorg/modules"
EndSection
</pre>
<p>Next, add the following two lines to the beginning of your <code>~/.xinitrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<p>Now reboot to load the drivers, and X should start.
</p>
<p>If your display dpi is not correct add the following line:
</p>
<pre>xrandr --dpi 96
</pre>
<p>If you get a black screen when starting X, make sure that there are no ampersands after the two <code>xrandr</code> commands in <code>~/.xinitrc</code>. If there are ampersands, it seems that the window manager can run before the <code>xrandr</code> commands finish executing, leading to a black screen.
</p>
<h3><span class="mw-headline" id="Display_managers">Display managers</span></h3>
<p>If you are using a <a href="../en/Display_manager.html" title="Display manager">display manager</a> then you will need to create or edit a display setup script for your display manager instead of using <code>~/.xinitrc</code>.
</p>
<h4><span class="mw-headline" id="LightDM">LightDM</span></h4>
<p>For the <a href="../en/LightDM.html" title="LightDM">LightDM</a> display manager:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/display_setup.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<p>Make the script <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>.
</p>
<p>Now configure lightdm to run the script by editing the <code>[Seat:*]</code> section in <code>/etc/lightdm/lightdm.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
display-setup-script=/etc/lightdm/display_setup.sh</pre>
<p>Now reboot and your display manager should start.
</p>
<h4><span class="mw-headline" id="SDDM">SDDM</span></h4>
<p>For the <a href="../en/SDDM.html" title="SDDM">SDDM</a> display manager (SDDM is the default DM for <a href="../en/KDE.html" title="KDE">KDE</a>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/sddm/scripts/Xsetup</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</pre>
<h4><span class="mw-headline" id="GDM">GDM</span></h4>
<p>For the <a href="../en/GDM.html" title="GDM">GDM</a> display manager create two new .desktop files:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/gdm/greeter/autostart/optimus.desktop
/etc/xdg/autostart/optimus.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Type=Application
Name=Optimus
Exec=sh -c "xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto"
NoDisplay=true
X-GNOME-Autostart-Phase=DisplayServer
</pre>
<p>Make sure that GDM use <a href="../en/GDM.html#Use_Xorg_backend" title="GDM">X as default backend</a>.
</p>
<h3><span class="mw-headline" id="Checking_3D">Checking 3D</span></h3>
<p>You can check if the NVIDIA graphics are being used by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-utils">mesa-utils</a></span> and running
</p>
<pre>$ glxinfo | grep NVIDIA
</pre>
<h3><span class="mw-headline" id="Further_information">Further information</span></h3>
<p>For more information, look at NVIDIA's official page on the topic <a rel="nofollow" class="external autonumber" href="http://us.download.nvidia.com/XFree86/Linux-x86/370.28/README/randr14.html">[2]</a>.
</p>
<h2><span class="mw-headline" id="Use_switchable_graphics">Use switchable graphics</span></h2>
<h3><span class="mw-headline" id="Using_PRIME_render_offload">Using PRIME render offload</span></h3>
<p>This is the official NVIDIA method to support switchable graphics.
</p>
<p>See <a href="../en/PRIME.html#PRIME_render_offload" title="PRIME">PRIME#PRIME render offload</a> for details.
</p>
<h3><span class="mw-headline" id="Using_nouveau">Using nouveau</span></h3>
<p>See <a href="../en/PRIME.html" title="PRIME">PRIME</a> for graphics switching and <a href="../en/Nouveau.html" title="Nouveau">nouveau</a> for open-source NVIDIA driver.
</p>
<h3><span class="mw-headline" id="Using_Bumblebee">Using Bumblebee</span></h3>
<p>See <a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a>.
</p>
<h3><span class="mw-headline" id="Using_switcheroo-control">Using switcheroo-control</span></h3>
<p>See <a href="../en/PRIME.html#GNOME_integration" title="PRIME">PRIME#GNOME integration</a>.
</p>
<h3><span class="mw-headline" id="Using_nvidia-xrun">Using nvidia-xrun</span></h3>
<p>See <a href="../en/Nvidia-xrun.html" title="Nvidia-xrun">nvidia-xrun</a>.
</p>
<h3><span class="mw-headline" id="Using_optimus-manager">Using optimus-manager</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://github.com/Askannz/optimus-manager">Optimus-manager</a> upstream documentation. It covers both installation and configuration in Arch Linux systems.
</p>
<h3><span class="mw-headline" id="Using_EnvyControl">Using EnvyControl</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://github.com/geminis3/envycontrol">EnvyControl</a> upstream documentation. It covers both installation and usage instructions.
</p>
<h3><span class="mw-headline" id="Using_NVidia-eXec">Using NVidia-eXec</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://github.com/pedro00dk/nvidia-exec">NVidia-eXec</a> upstream documentation. It covers both installation and usage instructions.
</p>
<h3><span class="mw-headline" id="Using_nvidia-switch">Using nvidia-switch</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://github.com/nvidiaswitch/nvidia-switch">nvidia-switch</a> upstream documentation. It covers both installation and usage instructions.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Tearing.2FBroken_VSync"></span><span class="mw-headline" id="Tearing/Broken_VSync">Tearing/Broken VSync</span>
</h3>
<p>Enable <a href="../en/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA">DRM kernel mode setting</a>, which will in turn enable the PRIME synchronization and fix the tearing.
</p>
<p>You can read the official <a rel="nofollow" class="external text" href="https://devtalk.nvidia.com/default/topic/957814/linux/prime-and-prime-synchronization/">forum thread</a> for details.
</p>
<h3>
<span id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_.28GPU_fallen_off_the_bus_.2F_RmInitAdapter_failed.21.29"></span><span class="mw-headline" id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)">Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</span>
</h3>
<p>Add <code>rcutree.gp_init_delay=1</code> to the kernel parameters. Original topic can be found in <a rel="nofollow" class="external autonumber" href="https://github.com/Bumblebee-Project/Bumblebee/issues/455#issuecomment-22497464">[3]</a> and <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=169742">[4]</a>.
</p>
<h3>
<span id="Resolution.2C_screen_scan_wrong._EDID_errors_in_Xorg.log"></span><span class="mw-headline" id="Resolution,_screen_scan_wrong._EDID_errors_in_Xorg.log">Resolution, screen scan wrong. EDID errors in Xorg.log</span>
</h3>
<p>This is due to the NVIDIA driver not detecting the EDID for the display. You need to manually specify the path to an EDID file or provide the same information in a similar way.
</p>
<p>To provide the path to the EDID file edit the Device Section for the NVIDIA card in Xorg.conf, adding these lines and changing parts to reflect your own system:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
       	Option		"ConnectedMonitor" "CRT-0"
       	Option		"CustomEDID" "CRT-0:/sys/class/drm/card0-LVDS-1/edid"
	Option		"IgnoreEDID" "false"
	Option		"UseEDID" "true"
EndSection
</pre>
<p>If Xorg will not start try swapping out all references of CRT to DFB.
<code>card0</code> is the identifier for the Intel card to which the display is connected via LVDS. The edid binary is in this directory. If the hardware arrangement is different, the value for CustomEDID might vary but yet this has to be confirmed. The path will start in any case with <code>/sys/class/drm</code>.
</p>
<p>Alternatively you can generate your edid with tools like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=read-edid">read-edid</a></span> and point the driver to this file. Even modelines can be used, but then be sure to change <code>UseEDID</code> and <code>IgnoreEDID</code>.
</p>
<h3><span class="mw-headline" id="Wrong_resolution_without_EDID_errors">Wrong resolution without EDID errors</span></h3>
<p>Using <i>nvidia-xconfig</i>, incorrect information might be generated in <code>xorg.conf</code> and in particular wrong monitor refresh rates that restrict the possible resolutions. Try commenting out the <code>HorizSync</code>/<code>VertRefresh</code> lines. If this helps, you can probably also remove everything else not mentioned in this article.
</p>
<h3>
<span id="Lockup_issue_.28lspci_hangs.29"></span><span class="mw-headline" id="Lockup_issue_(lspci_hangs)">Lockup issue (lspci hangs)</span>
</h3>
<p>Symptoms: lspci hangs, system suspend fails, shutdown hangs, optirun hangs.
</p>
<p>Applies to: newer laptops with GTX 965M or alike when bbswitch (e.g. via Bumblebee) or nouveau is in use.
</p>
<p>When the dGPU power resource is turned on, it may fail to do so and hang in ACPI code (<a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=156341">kernel bug 156341</a>).
</p>
<p>When using nouveau, disabling runtime power-management stops it from changing the power state, thus avoiding this issue.
To disable runtime power-management, add <code>nouveau.runpm=0</code> to the kernel parameters.
</p>
<p>For known model-specific workarounds, see <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/issues/764#issuecomment-234494238">this issue</a>.
In other cases you can try to boot with <code>acpi_osi="!Windows 2015"</code> or <code>acpi_osi=! acpi_osi="Windows 2009"</code> added to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">Kernel parameters</a>. (Consider reporting your laptop to that issue.)
</p>
<h3>
<span id="No_screens_found_on_a_laptop.2FNVIDIA_Optimus"></span><span class="mw-headline" id="No_screens_found_on_a_laptop/NVIDIA_Optimus">No screens found on a laptop/NVIDIA Optimus</span>
</h3>
<p>Check if the output is something similar to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep VGA</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">00:02.0 VGA compatible controller: Intel Corporation Core Processor Integrated Graphics Controller (rev 02)
01:00.0 VGA compatible controller: nVidia Corporation Device 0df4 (rev a1)
</pre>
<p>NVIDIA drivers now offer Optimus support since 319.12 Beta <a rel="nofollow" class="external autonumber" href="https://www.nvidia.com/object/linux-display-amd64-319.12-driver.html">[5]</a> with kernels above and including 3.9.
</p>
<p>Another solution is to install the <a href="../en/Intel_graphics.html" class="mw-redirect" title="Intel">Intel</a> driver to handle the screens, then if you want 3D software you should run them through <a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a> to tell them to use the NVIDIA card.
</p>
<h3>
<span id="Random_freezes_.22.28EE.29_NVIDIA.28GPU-0.29:_WAIT.22"></span><span class="mw-headline" id='Random_freezes_"(EE)_NVIDIA(GPU-0):_WAIT"'>Random freezes "(EE) NVIDIA(GPU-0): WAIT"</span>
</h3>
<p>Using the proprietary drivers on a setup with an integrated AMD card and with the dedicated NVIDIA card set as the only one in use, users report freezes for up to 10 seconds, with the following errors in the Xorg logs:
</p>
<pre>[   219.796] (EE) NVIDIA(GPU-0): WAIT (2, 8, 0x8000, 0x0002e1c4, 0x0002e1cc)
[   226.796] (EE) NVIDIA(GPU-0): WAIT (1, 8, 0x8000, 0x0002e1c4, 0x0002e1cc)
</pre>
<p>While this is not root-caused yet, it seems linked to a conflict in how the integrated and dedicated cards interact with Xorg.
</p>
<p>The workaround is to use switchable graphics, see <a href="../en/PRIME.html#PRIME_render_offload" title="PRIME">PRIME#PRIME render offload</a> for details.
</p>
<h3>
<span id=".22No_Devices_detected.22_with_optimus-manager"></span><span class="mw-headline" id='"No_Devices_detected"_with_optimus-manager'>"No Devices detected" with optimus-manager</span>
</h3>
<p>There are cases where <i>lspci</i> will show the PCI domain as first output column, making <i>optimus-manager</i> generated files break while trying to map <code>BusID</code> on multiple laptop models.
</p>
<p>If you face a black screen that never ends to load your GUI, GUI partially loading with console artifacts or Xorg crashing with <code>(EE) - No Devices detected</code>, the workaround and bug reports are available at the <a rel="nofollow" class="external text" href="https://github.com/Askannz/optimus-manager/issues/471#issuecomment-1315628537">upstream GitHub</a>.
</p>
<h3><span class="mw-headline" id="Xorg:_external_monitor_updates_only_when_the_mouse_is_moving">Xorg: external monitor updates only when the mouse is moving</span></h3>
<p>A workaround for the issue is to uninstall the Xorg driver of the iGPU (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>) <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=284651">[6]</a>. This should work as long as the external monitor port (HDMI/DP/USB-C) is connected directly to the Nvidia dGPU.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The desktop behavior may become quirky (e.g. switching virtual desktops or Alt-Tab'ing freezes the image on the external monitor), which can be also worked around by disabling the laptop's monitor.</div>
<h3>
<span id="Low_power_usage_.28TDP.29"></span><span class="mw-headline" id="Low_power_usage_(TDP)">Low power usage (TDP)</span>
</h3>
<p>Since the 530.41 driver version, cases of cards locked at low power consumption limits appeared (see <a rel="nofollow" class="external text" href="https://github.com/NVIDIA/open-gpu-kernel-modules/issues/483">GitHub issue 483</a>). The NVIDIA driver has disabled the ability to manually set the power limit using <code>nvidia-smi</code> command, so many laptops are stuck with low power usage and bad performance.
</p>
<p>To workaround this problem (for the Ampere generation or newer), <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nvidia-powerd.service</code>, which enables <a rel="nofollow" class="external text" href="https://download.nvidia.com/XFree86/Linux-x86_64/535.54.03/README/dynamicboost.html">DynamicBoost</a>.
</p>
<h3><span class="mw-headline" id="NVIDIA_GPU_will_not_turn_off_or_stay_deactivated">NVIDIA GPU will not turn off or stay deactivated</span></h3>
<p>If you use a thermal monitor that is probing your GPU temperature, it typically calls <code>nvidia-smi</code> to get this temperature, which will wake up your GPU and keep it in an active state. This causes significantly increased power usage, lower battery life, and higher temperatures.
</p>
<p>Check if your GPU is in an active state or suspended
</p>
<pre>$ cat /sys/bus/pci/devices/0000\:01\:00.0/power/runtime_status
</pre>
<p>and if the state is <code>active</code>, ensure you are not using a thermal monitoring tool or widget that is calling <code>nvidia-smi</code>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Graphics.html" title="Category:Graphics">Graphics</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NVIDIA_Optimus&amp;oldid=823982">https://wiki.archlinux.org/index.php?title=NVIDIA_Optimus&amp;oldid=823982</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 December 2024, at 13:54.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
