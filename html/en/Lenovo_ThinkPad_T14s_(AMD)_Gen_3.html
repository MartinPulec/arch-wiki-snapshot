<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad T14s (AMD) Gen 3 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_T14s_AMD_Gen_3 rootpage-Lenovo_ThinkPad_T14s_AMD_Gen_3 skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Firmware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Firmware">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Firmware</div>
		</a>
		
		<ul id="toc-Firmware-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-CPU" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#CPU">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>CPU</div>
		</a>
		
		<ul id="toc-CPU-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Touchpad" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Touchpad">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Touchpad</div>
		</a>
		
			<button aria-controls="toc-Touchpad-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Touchpad subsection</span>
			</button>
		
		<ul id="toc-Touchpad-sublist" class="vector-toc-list">
			<li id="toc-Disable_wakeup_from_sleep_on_touchpad_activity" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_wakeup_from_sleep_on_touchpad_activity">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Disable wakeup from sleep on touchpad activity</div>
			</a>
			
			<ul id="toc-Disable_wakeup_from_sleep_on_touchpad_activity-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Speakers" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Speakers">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Speakers</div>
		</a>
		
		<ul id="toc-Speakers-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Display" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Display">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Display</div>
		</a>
		
		<ul id="toc-Display-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Network_/_Wi-Fi" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Network_/_Wi-Fi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Network / Wi-Fi</div>
		</a>
		
		<ul id="toc-Network_/_Wi-Fi-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Mobile_broadband" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Mobile_broadband">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Mobile broadband</div>
		</a>
		
		<ul id="toc-Mobile_broadband-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Smartcard_reader" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Smartcard_reader">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Smartcard reader</div>
		</a>
		
		<ul id="toc-Smartcard_reader-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fingerprint_reader" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fingerprint_reader">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Fingerprint reader</div>
		</a>
		
		<ul id="toc-Fingerprint_reader-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Power_management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Power_management">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Power management</div>
		</a>
		
			<button aria-controls="toc-Power_management-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Power management subsection</span>
			</button>
		
		<ul id="toc-Power_management-sublist" class="vector-toc-list">
			<li id="toc-S3_sleep_/_s2idle" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#S3_sleep_/_s2idle">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.1</span>S3 sleep / s2idle</div>
			</a>
			
			<ul id="toc-S3_sleep_/_s2idle-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hibernate" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hibernate">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.2</span>Hibernate</div>
			</a>
			
			<ul id="toc-Hibernate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Battery_thresholds" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Battery_thresholds">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.3</span>Battery thresholds</div>
			</a>
			
			<ul id="toc-Battery_thresholds-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-AMD_P-State_EPP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#AMD_P-State_EPP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.4</span>AMD P-State EPP</div>
			</a>
			
			<ul id="toc-AMD_P-State_EPP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Power_Profiles_Daemon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Power_Profiles_Daemon">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.5</span>Power Profiles Daemon</div>
			</a>
			
			<ul id="toc-Power_Profiles_Daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Microphone_LED" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Microphone_LED">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>Microphone LED</div>
		</a>
		
		<ul id="toc-Microphone_LED-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Function_keys" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Function_keys">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">12</span>Function keys</div>
		</a>
		
		<ul id="toc-Function_keys-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">13</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Laptop_cannot_suspend/reboot/shutdown" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Laptop_cannot_suspend/reboot/shutdown">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.1</span>Laptop cannot suspend/reboot/shutdown</div>
			</a>
			
			<ul id="toc-Laptop_cannot_suspend/reboot/shutdown-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">14</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Lenovo ThinkPad T14s (AMD) Gen 3</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>GPU</td>
<td><code>1002:1681</code></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Has issues
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>17cb:1103</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>1022:15e3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>TrackPoint</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchpad</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td><code>04f2:b74f</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>27c6:6594</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td><code>2c7c:030a</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>10ab:9309</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Smartcard reader</td>
<td><code>058f:9540</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<p>This article covers the installation and configuration of Arch Linux on a Lenovo Thinkpad T14s (AMD) Gen 3 laptop. Almost everything seems to work pretty much out the box.
</p>
<p>For a general overview of laptop-related articles and recommendations, see <a href="../en/Laptop.html" title="Laptop">Laptop</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<p>Updating the firmware using the <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> utility works as long as all the relevant options are enabled in the BIOS (Enable Windows Update UEFI Update).
</p>
<p>Updating the BIOS firmware also fixes some error that produces the following output from linux:
</p>
<pre>[Hardware Error]: Corrected error, no action required.
[Hardware Error]: CPU:0 (19:44:1) MC15_STATUS[Over|CE|MiscV|AddrV|-|-|SyndV|CECC|-|-|-]: 0xdc204000000c011b
[Hardware Error]: Error Addr: 0x00000001faa88180
[Hardware Error]: IPID: 0x0000009600050f00, Syndrome: 0x000001ff0a240700
...
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong>  The UEFI firmware 0.1.40 has been reported to cause troubles on this Thinkpad. See <a href="#Laptop_cannot_suspend/reboot/shutdown">#Laptop cannot suspend/reboot/shutdown</a>
</div>
<h2><span class="mw-headline" id="CPU">CPU</span></h2>
<p>There are a number of frequency-scaling issues surrounding ACPI-cpufreq causing the internal GPU to reset at seemingly random times. This can be fixed by using "amd_pstate" (see below). GPU resets are infrequent, but should be considered prior to purchase of laptop if intending to stick with the ACPI-cpufreq performance scaling driver. The resets cause the screen to turn black, forcing the user to either reboot or relogin via a <a href="../en/Display_manager.html" class="mw-redirect" title="Login manager">login manager</a>. Switching to a <a href="../en/Linux_console.html" title="Linux console">TTY</a> during a GPU reset is sometimes possible.
</p>
<p>To follow these issues, see:
</p>
<p><a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=213145">https://bugzilla.kernel.org/show_bug.cgi?id=213145</a>
</p>
<p><a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1974">https://gitlab.freedesktop.org/drm/amd/-/issues/1974</a>
</p>
<p><a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2068">https://gitlab.freedesktop.org/drm/amd/-/issues/2068</a>
</p>
<p><a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2443">https://gitlab.freedesktop.org/drm/amd/-/issues/2443</a>
</p>
<p>The overvolting workaround provided does not affect the ThinkPad T14s Gen 3 (AMD) processors because ultrabook processors are unable to be overvolted.
</p>
<p>On kernels &lt; 6.5, if using ACPI-cpufreq is not a requirement, it is possible to use the experimental amd-pstate frequency-scaling driver, by adding the <code>amd_pstate=passive</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> (prior to Kernel 6.3) or <code>amd_pstate=active</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> (for Kernel 6.3 or newer). Note that the kernel parameter is only available for kernel versions 5.17 and up. This driver appears to be more stable than the ACPI-cpufreq driver, not only reducing the number of GPU resets, but also lowering idle CPU temperatures.
</p>
<p>Since kernel 6.5, the AMD P-State EPP driver with "Active" profile applied by default, so normally no changes are needed.
</p>
<h2><span class="mw-headline" id="Touchpad">Touchpad</span></h2>
<p>The touchpad works fine on <a href="../en/Wayland.html" title="Wayland">Wayland</a>.
</p>
<p>However, some people have an occasional freeze of 3-4 seconds on <a href="../en/Xorg.html" title="Xorg">Xorg</a>.
</p>
<h3><span class="mw-headline" id="Disable_wakeup_from_sleep_on_touchpad_activity">Disable wakeup from sleep on touchpad activity</span></h3>
<p>Use the following to disable wake-up events caused by the touchpad. Note that this only applies to the touchpad itself and the integrated buttons for left/right click at its bottom, not the 3 buttons at its top or any other input.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-disable-touchpad-wakeup.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KERNEL=="i2c-SYNA8018:00", SUBSYSTEM=="i2c", ATTR{power/wakeup}="disabled"</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can find the device name with <code>grep -i touchpad -A 1 /proc/bus/input/devices</code>.</div>
<p><br>
</p>
<h2><span class="mw-headline" id="Speakers">Speakers</span></h2>
<p>Speakers work out of the box. How ever, they won't have the same sound quality as on Windows due to the missing Dolby Atmos Convolver.
</p>
<p>To enable Dolby Atmos Convolver install <a href="../en/PipeWire.html#EasyEffects" class="mw-redirect" title="EasyEffects">EasyEffects</a>, go to <i>Effects &gt; Add Convolver &gt; Import Impulse</i>
</p>
<p>You can download the "Movie" and "Music" preset here: 
</p>
<p><a rel="nofollow" class="external free" href="https://files.bestmail.ws/Arch/T14s_G3_AMD/T14S_G3_Music_Movies.irs">https://files.bestmail.ws/Arch/T14s_G3_AMD/T14S_G3_Music_Movies.irs</a>
</p>
<p>They were created on the T14s G3 AMD with Windows 10.
</p>
<h2><span class="mw-headline" id="Display">Display</span></h2>
<p>The display works fine out of the box. 
You can download a calibrated color profile for the 400nits IPS panel here: 
</p>
<p><a rel="nofollow" class="external free" href="https://files.bestmail.ws/Arch/T14s_G3_AMD/T14s_Display_Calibration_200323_4.icc">https://files.bestmail.ws/Arch/T14s_G3_AMD/T14s_Display_Calibration_200323_4.icc</a>
</p>
<p>Some users reported crashes / issue of the display, especially after hibernate/suspend.
</p>
<p>A fix is to disable PS by adding "amdgpu.dcdebugmask=0x10" to the kernel parameters.
</p>
<h2>
<span id="Network_.2F_Wi-Fi"></span><span class="mw-headline" id="Network_/_Wi-Fi">Network / Wi-Fi</span>
</h2>
<p>There was a <a rel="nofollow" class="external text" href="https://lore.kernel.org/linux-wireless/1263051271.53086.1674425560245.JavaMail.zimbra@nod.at/">known bug</a> in the <code>ath11k</code> module that could block the resume process, freeze the graphics interface and cause loss of wireless card interface. A manual fix is to disable the <code>ath11k_pci</code> module before hibernate and re-enable it after resume. However, this issue shouldn't be present anymore.
</p>
<p>If you still face the issue: See <a href="../en/Dell_XPS_13_(9310).html#Wi-Fi" title="Dell XPS 13 (9310)">Dell XPS 13 (9310)#Wi-Fi</a> for a systemd service to automate this procedure.
</p>
<p>This can be automated via sleep hooks - if the module is unloaded before hibernating or suspending it unloads immediately with no delay, and the resume kernel bug does not happen:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/ath11k-suspend.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Suspend: rmmod ath11k_pci
Before=sleep.target

[Service]
Type=oneshot
ExecStart=/usr/bin/rmmod ath11k_pci

[Install]
WantedBy=sleep.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/ath11k-resume.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Resume: modprobe ath11k_pci
After=suspend.target suspend-then-hibernate.target hibernate.target hybrid-sleep.target

[Service]
Type=oneshot
ExecStart=/usr/bin/modprobe ath11k_pci

[Install]
WantedBy=suspend.target suspend-then-hibernate.target hibernate.target hybrid-sleep.target</pre>
<p>You need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>ath11k-suspend.service</code> and <code>ath11k-resume.service</code>.
</p>
<p>Additionally it might be required to also <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>NetworkManager.service</code>.
</p>
<h2><span class="mw-headline" id="Mobile_broadband">Mobile broadband</span></h2>
<p>Works correctly. Follow instruction from <a href="../en/Mobile_broadband_modem.html" title="Mobile broadband modem">Mobile broadband modem</a> especially section <a href="../en/Mobile_broadband_modem.html#FCC_locking" title="Mobile broadband modem">FCC unlocking</a>.
</p>
<h2><span class="mw-headline" id="Smartcard_reader">Smartcard reader</span></h2>
<p>Seems to work and read cards. Follow instructions from <a href="../en/Smartcards.html" title="Smartcards">smartcards</a>.
</p>
<h2><span class="mw-headline" id="Fingerprint_reader">Fingerprint reader</span></h2>
<p>Work as expected. Follow <a href="../en/Fprint.html" class="mw-redirect" title="Fprintd">fprintd</a>
</p>
<h2><span class="mw-headline" id="Power_management">Power management</span></h2>
<h3>
<span id="S3_sleep_.2F_s2idle"></span><span class="mw-headline" id="S3_sleep_/_s2idle">S3 sleep / s2idle</span>
</h3>
<p>S3 sleep is not supported. However, s2idle works out of the box and causes no problems with sleep / hibernation.
</p>
<h3><span class="mw-headline" id="Hibernate">Hibernate</span></h3>
<p>Works fine. If you face Wi-Fi issues after hibernation see: Network / Wi-Fi
</p>
<h3><span class="mw-headline" id="Battery_thresholds">Battery thresholds</span></h3>
<p>Battery charge thresholds can be correctly set with <a href="../en/TLP.html" title="TLP">TLP</a>, within <a href="../en/KDE.html" title="KDE">KDE</a> / <a href="../en/GNOME.html" title="GNOME">GNOME</a> power management or from the command line:
</p>
<pre># echo 75 &gt; /sys/class/power_supply/BAT0/charge_start_threshold
# echo 80 &gt; /sys/class/power_supply/BAT0/charge_stop_threshold
</pre>
<h3><span class="mw-headline" id="AMD_P-State_EPP">AMD P-State EPP</span></h3>
<p>Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span> or this udev rule + script to apply different AMD P-State EPP states depending on whether the laptop is running on battery or charger.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-battery.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="power_supply", ATTR{online}=="0", RUN+="/usr/local/bin/on_battery.sh"
SUBSYSTEM=="power_supply", ATTR{online}=="1", RUN+="/usr/local/bin/on_ac.sh"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/on_battery.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/usr/bin/bash

# Change Dirty Writeback Centisecs according to TLP / Powertop
echo '5000' &gt; '/proc/sys/vm/dirty_writeback_centisecs';

# Change AMD Paste EPP energy preference
# Available profiles: performance, balance_performance, balance_power, power
echo 'balance_power' | tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference;

# If required, change cpu scaling governor
# Possible options are: conservative ondemand userspace powersave performance schedutil
#cpupower frequency-set -g powersave;

# Platform Profiles Daemon will do this automatically, based on your settings in KDE / GNOME
# You can how ever, set this manually as well
# Possible profile options are: performance, powersave, low-power
#echo 'powersave' &gt; '/sys/firmware/acpi/platform_profile';

# Radeon AMDGPU DPM switching doesn't seem to be supported.
# Possible options should be: battery, balanced, performance, auto
#echo 'battery' &gt; '/sys/class/drm/card0/device/power_dpm_state'; 

# Should always be auto (TLP default = auto)
# Possible options are: auto, high, low
#echo 'auto' &gt; '/sys/class/drm/card0/device/power_dpm_force_performance_level';

# Runtime PM for PCI Device to auto
find /sys/bus/pci/devices/*/power -name control -exec sh -c 'echo "auto" &gt; "$1"' _ {} \;
for i in $(find /sys/devices/pci0000\:00/0* -maxdepth 3 -name control); do
    echo auto &gt; $i;
done</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/on_ac.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/usr/bin/bash

# Change Dirty Writeback Centisecs according to TLP / Powertop
echo '500' &gt; '/proc/sys/vm/dirty_writeback_centisecs';

# Change AMD Paste EPP energy preference
# Available profiles: performance, balance_performance, balance_power, power
echo 'balance_performance' | tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference;

# If required, change cpu scaling governor
# Possible options are: conservative ondemand userspace powersave performance schedutil
#cpupower frequency-set -g performance;

# Platform Profiles Daemon will do this automatically, based on your settings in KDE / GNOME
# You can how ever, set this manually as well
# Possible profile options are: performance, powersave, low-power
#echo 'performance' &gt; '/sys/firmware/acpi/platform_profile';

# Radeon AMDGPU DPM switching doesn't seem to be supported.
# Possible options should be: battery, balanced, performance, auto
#echo 'performance' &gt; '/sys/class/drm/card0/device/power_dpm_state';

# Should always be auto (TLP default = auto)
# Possible options are: auto, high, low
#echo 'auto' &gt; '/sys/class/drm/card0/device/power_dpm_force_performance_level';

# Runtime PM for PCI Device to on
find /sys/bus/pci/devices/*/power -name control -exec sh -c 'echo "on" &gt; "$1"' _ {} \;
for i in $(find /sys/devices/pci0000\:00/0* -maxdepth 3 -name control); do
    echo on &gt; $i;
done</pre>
<p>Additionally make <code>/usr/local/bin/on_battery.sh</code> and <code>/usr/local/bin/on_ac.sh</code> <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>.
</p>
<h3><span class="mw-headline" id="Power_Profiles_Daemon">Power Profiles Daemon</span></h3>
<p>The package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span> is the standard power management service for <a href="../en/KDE.html#Power_management" title="KDE">KDE#Power management</a> and <a href="../en/GNOME.html#Power_modes" title="GNOME">GNOME#Power modes</a>. 
It conflicts with <a href="../en/TLP.html" title="TLP">TLP</a> and the reasons for that are described here: <a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/upower/power-profiles-daemon#why-not">https://gitlab.freedesktop.org/upower/power-profiles-daemon#why-not</a>
</p>
<ol>
<li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span>
</li>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> the <code>power-profiles-daemon</code> service.</li>
</ol>
<h2><span class="mw-headline" id="Microphone_LED">Microphone LED</span></h2>
<p>Some users reported that the Mic LED is always on.
</p>
<p>This doesn't always happen but if you face the issue see: <a href="../en/Lenovo_ThinkPad_T14_(AMD)_Gen_3.html#Mute_Mic_LED_always_on" title="Lenovo ThinkPad T14 (AMD) Gen 3">Lenovo ThinkPad T14 (AMD) Gen 3#Mute Mic LED always on</a>.
</p>
<h2><span class="mw-headline" id="Function_keys">Function keys</span></h2>
<table class="wikitable">

<tbody>
<tr>
<th>Key
</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
<th>Note
</th>
</tr>
<tr>
<td><code>Fn</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>XF86WakeUp</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86Sleep</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+Esc</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Toggles Fn lock</td>
<td>Has status led
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86AudioMute</code></td>
<td>Has status led
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86AudioLowerVolume</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86AudioRaiseVolume</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86AudioMicMute</code></td>
<td>Has status led
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86MonBrightnessDown</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86MonBrightnessUp</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86Display</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86WLAN</code></td>
<td>Marked with airplane mode
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86Messenger</code></td>
<td>Marked with message box
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86Go</code></td>
<td>Marked with phone answer call
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>Cancel</code></td>
<td>Marked with phone end call
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>XF86Favorites</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+Left</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>Home</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+Right</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>End</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+P</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>Pause</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+S</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>Sys_Req</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+K</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>Scroll_Lock</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+B</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><code>Break</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Stamp</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><code>Print</code></td>
<td>
</td>
</tr>
<tr>
<td><code>Fn+Space</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Change keyboard backlight level</td>
<td>
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools.</li>
<li>The physical key has a symbol on it, which describes its function.</li>
</ol>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Laptop_cannot_suspend.2Freboot.2Fshutdown"></span><span class="mw-headline" id="Laptop_cannot_suspend/reboot/shutdown">Laptop cannot suspend/reboot/shutdown</span>
</h3>
<p>If your laptop cannot suspend, reboot or even shutdown, it might be due to the UEFI Firmware 0.1.40, released on May 5th, 2024.
This firmware has been reported to cause several issues such as (and possibly not limited to):
</p>
<ol>
<li>Laptop cannot suspend/reboot/shutdown;</li>
<li>TLP and <code>fwupdmgr</code> services cannot start;</li>
<li>Regenerating the <code>initramfs</code> is not possible, as the <code>mkinitcpio</code> autodetect hook hangs indefinitely.</li>
</ol>
<p>All these issues might be related to the malfunctioning of the <a rel="nofollow" class="external text" href="https://docs.kernel.org/hid/amd-sfh-hid.html">AMD Sensor Fusion HUB device</a>.
Running <code>dmesg</code> will reveal similar errors:
</p>
<pre>[    5.547449] BUG: unable to handle page fault for address: 000000010000003a
[    5.547474] #PF: supervisor read access in kernel mode
[    5.547486] #PF: error_code(0x0000) - not-present page
[    5.547497] PGD 0 P4D 0 
[    5.547509] Oops: Oops: 0000 [#1] PREEMPT SMP NOPTI
[    5.547522] CPU: 13 PID: 466 Comm: (udev-worker) Not tainted 6.10.2-arch1-2 #1 
[    5.547557] RIP: 0010:amd_sfh_get_report+0x1c/0x110 [amd_sfh]
...
[    5.557018] CR2: 000000010000003a
[    5.557524] ---[ end trace 0000000000000000 ]---
</pre>
<p>To solve this issue, <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">blacklist</a> the <code>amd_sfh</code> kernel module. 
Notice that, since you cannot rebuild the <code>initramfs</code>, you should first blacklist the 
module  from your boot loader, and later make it permanent.
See also <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=288482">here</a> and <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/Latest-bios-update-breaks-Archlinux-on-Thinkpad-T14s-GEN-3-AMD/m-p/5326186">here</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a href="../en/Lenovo_ThinkPad_T14_(AMD)_Gen_3.html" title="Lenovo ThinkPad T14 (AMD) Gen 3">Lenovo ThinkPad T14 (AMD) Gen 3</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T14s_(AMD)_Gen_3&amp;oldid=825176">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T14s_(AMD)_Gen_3&amp;oldid=825176</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 17 January 2025, at 15:51.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
