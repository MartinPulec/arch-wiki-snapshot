<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad T14/T14s (Intel) Gen 2 - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_T14_T14s_Intel_Gen_2 rootpage-Lenovo_ThinkPad_T14 skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Intel_Turbo_Boost" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Intel_Turbo_Boost">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Intel Turbo Boost</div>
			</a>
			
			<ul id="toc-Intel_Turbo_Boost-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Suspend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suspend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Suspend</div>
			</a>
			
			<ul id="toc-Suspend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Graphics" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Graphics">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Graphics</div>
			</a>
			
			<ul id="toc-Graphics-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sound" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sound">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Sound</div>
			</a>
			
			<ul id="toc-Sound-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Firmware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Firmware">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Firmware</div>
		</a>
		
			<button aria-controls="toc-Firmware-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Firmware subsection</span>
			</button>
		
		<ul id="toc-Firmware-sublist" class="vector-toc-list">
			<li id="toc-fwupd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fwupd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>fwupd</div>
			</a>
			
			<ul id="toc-fwupd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Function_keys" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Function_keys">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Function keys</div>
		</a>
		
		<ul id="toc-Function_keys-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Keyboard_backlight" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Keyboard_backlight">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Keyboard backlight</div>
		</a>
		
			<button aria-controls="toc-Keyboard_backlight-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Keyboard backlight subsection</span>
			</button>
		
		<ul id="toc-Keyboard_backlight-sublist" class="vector-toc-list">
			<li id="toc-Automatically_turn_on_backlight_when_typing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Automatically_turn_on_backlight_when_typing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Automatically turn on backlight when typing</div>
			</a>
			
			<ul id="toc-Automatically_turn_on_backlight_when_typing-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Display" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Display">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Display</div>
		</a>
		
		<ul id="toc-Display-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
			<button aria-controls="toc-See_also-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle See also subsection</span>
			</button>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
			<li id="toc-T14_links" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#T14_links">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>T14 links</div>
			</a>
			
			<ul id="toc-T14_links-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-T14s_links" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#T14s_links">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>T14s links</div>
			</a>
			
			<ul id="toc-T14s_links-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Lenovo ThinkPad T14/T14s (Intel) Gen 2</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Missing an accessibility section. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2.html">Talk:Lenovo ThinkPad T14/T14s (Intel) Gen 2</a>)</div>
</div>
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Touchpad</td>
<td><code>06CB:CE68</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>TrackPoint</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (Intel)</td>
<td><code>8086:9A49</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td><code>13D3:5439</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>8087:0026</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>8086:A0C8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>8086:A0F0</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Ethernet</td>
<td><code>8086:15FC</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Untested
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>06CB:00F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<p>The Lenovo ThinkPad T14/T14s (Intel) Gen 2 was introduced in 2020. It features a 14" screen, 11th-gen Intel Core processors, and integrated Intel Iris Xe graphics. Everything seems to work pretty much out the box with kernel &gt;=5.16.0.
</p>
<p>To ensure you have this version, <a href="../../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmidecode">dmidecode</a></span> and run:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmidecode -s system-version</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ThinkPad T14s Gen 2i</pre>
<p>For a general overview of laptop-related articles and recommendations, see <a href="../../en/Laptop.html" title="Laptop">Laptop</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Intel_Turbo_Boost">Intel Turbo Boost</span></h3>
<p>Check that Intel® Turbo Boost Technology 2.0 is enabled using 
</p>
<pre>$ cat /sys/devices/system/cpu/intel_pstate/no_turbo
</pre>
<p>An output of 1 means it is not enabled, so you will have to reset your BIOS to defaults. After doing that, running the command again should print 0.
You should be able to see your CPU boosting way higher.
</p>
<h3><span class="mw-headline" id="Suspend">Suspend</span></h3>
<p>The BIOS has two options for suspend: <i>Windows and Linux</i> (aka S0ix or "modern standby") and <i>Linux S3</i>. Both S0ix and S3 modes work on this system, but there is <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Fedora/Touchpad-become-lag-and-Jumping-after-S3-suspend/m-p/5081818">a bug that causes the trackpad to become laggy after resuming from S3 suspend</a>.
</p>
<h3><span class="mw-headline" id="Graphics">Graphics</span></h3>
<p>Screen Tearing might be visible on some desktop environments on this machines built-in display. Installing the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> package resolves the issue. Note that there might be caveats in installing the packages as discussed in <a href="../../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a>.
</p>
<h3><span class="mw-headline" id="Sound">Sound</span></h3>
<p>This laptop requires <a href="../../en/Advanced_Linux_Sound_Architecture.html#ALSA_firmware" class="mw-redirect" title="ALSA firmware">ALSA firmware</a> for the internal sound card to work.
</p>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<h3><span class="mw-headline" id="fwupd">fwupd</span></h3>
<p><a href="../../en/Fwupd.html" title="Fwupd">fwupd</a> supports updating the UEFI BIOS, NVMe SSD, and fingerprint reader (via the <a rel="nofollow" class="external text" href="https://github.com/fwupd/fwupd/wiki/LVFS-Testing-remote">LVFS testing remote</a>) out of the box.
</p>
<h2><span class="mw-headline" id="Function_keys">Function keys</span></h2>
<table class="wikitable">
<tbody>
<tr>
<th>Key</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn+Esc</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Enables Fn lock
</td>
</tr>
<tr>
<td><code>Fn</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86WakeUp</code>
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioLowerVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioRaiseVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMicMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessDown</code>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessUp</code>
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Display</code>
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86WLAN</code>
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Tools</code>
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Bluetooth</code>
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Unknown
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Favorites</code>
</td>
</tr>
<tr>
<td><code>Fn+Space</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Toggle Keyboard Backlight
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools.</li>
<li>The physical key has a symbol on it, which describes its function.</li>
</ol>
<h2><span class="mw-headline" id="Keyboard_backlight">Keyboard backlight</span></h2>
<p>Works out of the box. There is no button on the keyboard to toggle it, but it can be controlled by software.
</p>
<h3><span class="mw-headline" id="Automatically_turn_on_backlight_when_typing">Automatically turn on backlight when typing</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Long code should not be kept inside the pages + missing prompt &amp; a few <a href="../../en/Template:Ic.html" title="Template:Ic">Template:ic</a>. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2.html">Talk:Lenovo ThinkPad T14/T14s (Intel) Gen 2</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> The C code has been updated in <a href="../../en/Lenovo_ThinkPad_X1_Carbon_(Gen_2).html#Automatically_turn_on_keyboard_backlight_when_typing" title="Lenovo ThinkPad X1 Carbon (Gen 2)">Lenovo ThinkPad X1 Carbon (Gen 2)#Automatically turn on keyboard backlight when typing</a>. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2.html">Talk:Lenovo ThinkPad T14/T14s (Intel) Gen 2</a>)</div>
</div>
<p>Using a c program that continuously checks for keyboard input, it is possible to activate the backlight for a certain time.
The program source is as a follows
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">kbdbacklight.c</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* Original Author: Howard Chu &lt;hyc@symas.com&gt; 2013-01-15
 *
 * compile as "gcc -O2 -o kbdbacklight kbdbacklight.c" and run it in the background, or arrange to have it run at bootup.
 *
 * adapted by gabtub@gmail.com 2017-01-22
 * using https://gist.github.com/hadess/6847281
 * based on http://askubuntu.com/questions/383501/enable-the-keyboard-backlights-on-supported-lenovo-e-g-carbon-x1-with-command
 * original code found at  http://forum.notebookreview.com/threads/asus-keyboard-backlight-controller.703985/
 * sigterm catching done as shown in https://airtower.wordpress.com/2010/06/16/catch-sigterm-exit-gracefully/
 *
 * fixed by sva 2022-10-08
 * uses /sys/class/leds/, s.t. ec_sys is not necessary
 *
 * monitor keyboard activity and toggle keyboard backlight
 */
#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;poll.h&gt;
#include &lt;unistd.h&gt;
#include &lt;signal.h&gt;
#include &lt;string.h&gt;

static char dummybuf[8192];

/** @brief How many milliseconds before turning off kbd light */
#ifndef IDLE_MSEC
#define IDLE_MSEC	5000
#endif

#ifndef BRGHT_OFF
#define BRGHT_OFF	'0'
#endif
#ifndef BRGHT_MED
#define BRGHT_MED	'1'
#endif
#ifndef BRGHT_MAX
#define BRGHT_MAX	'2'
#endif

volatile sig_atomic_t running = 1;

void term(int signum)
{
    // sigterm == 15
    running = 0;
}

int main(int argc, char *argv[])
{
  struct sigaction action;
  struct pollfd pfd;
  int rc, blfd;
  int timeout, prev = -1;
  char bm = BRGHT_MED;

  memset(&amp;action, 0, sizeof(struct sigaction));
  action.sa_handler = term;
  sigaction(SIGTERM, &amp;action, NULL);

  blfd = open("/sys/class/leds/tpacpi::kbd_backlight/brightness", O_WRONLY);

  // needs the event bound to the keyboard
  // for Xorg ie find using
  //  cat /var/log/Xorg.0.log | grep "keyboard.*event"
  //  cat ~/.local/share/xorg/Xorg.0.log | grep "keyboard.*event" 
  pfd.fd = open("/dev/input/event3", O_RDONLY);
  pfd.events = POLLIN;
  timeout = IDLE_MSEC;

  while (running) {
    rc = poll(&amp;pfd, 1, timeout);
    if (rc) {
      /* got keyboard input, flush it all and
       * wait for the next event.
       */
      read(pfd.fd, dummybuf, sizeof(dummybuf));
      timeout = IDLE_MSEC;
      bm = BRGHT_MED;
    } else {
      /* once we've gotten a timeout, turn off
       * kbd backlight and wait forever for
       * the next keypress
       */
      timeout = -1;
      bm = BRGHT_OFF;
    }
    if (bm == prev)
      continue;
    lseek(blfd, 13, SEEK_SET);
    write(blfd, &amp;bm, 1);
    prev = bm;
  }
  // clean up after sigterm
  bm = BRGHT_OFF;
  lseek(blfd, 13, SEEK_SET);
  write(blfd, &amp;bm, 1);
}
</pre>
<p>This file can be compiled with:
</p>
<pre> gcc -O2 -o kbdbacklight kbdbacklight.c
</pre>
<p>and must be executed as root. 
</p>
<p>It would be possible to autostart this by creating a systemd service as follows:
</p>
<ul>
<li>Create a folder /usr/local/customscripts/kbdbacklight/</li>
<li>Save the compiled c program to /usr/local/customscripts/kbdbacklight/kbdbacklight</li>
<li>Create the following systemd service and place it in /etc/systemd/system/kbdbacklight.service</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kbdbacklight.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=starts a daemon monitoring keyboard usage. will turn on keyboard backlight until no key is pressed for a TIMEOUT period
Requires=
After=

[Service]
Type=simple
User=root
ExecStart=/usr/local/customscripts/kbdbacklight/kbdbacklight
KillSignal=SIGKILL

[Install]
WantedBy=multi-user.target
</pre>
<ul><li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>kbdbacklight.service</code>
</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>Specifiy the amount timeout for turning the backlight off again by adjusting the constant IDLE_MSEC in the c program. (and recompiling it again)
</p>
</div>
<h2><span class="mw-headline" id="Display">Display</span></h2>
<p>Panel part number is: LP140WF9-SPF2. The color calibration file is available <a rel="nofollow" class="external text" href="https://www.notebookcheck.net/Lenovo-ThinkPad-T14-Gen-2-laptop-review-Familiar-benefits-from-Intel-Tiger-Lake.537486.0.html">here at the "Download ICC File" link</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<h3><span class="mw-headline" id="T14_links">T14 links</span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://psref.lenovo.com/syspool/Sys/PDF/ThinkPad/ThinkPad_T14_Gen_2_Intel/ThinkPad_T14_Gen_2_Intel_Spec.pdf">Product Specifications Reference (PSREF)</a></li>
<li><a rel="nofollow" class="external text" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t14_gen2_p14s_gen2_hmm_en.pdf">Hardware maintenance manual</a></li>
<li><a rel="nofollow" class="external text" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t14_gen2_t15_gen2_p14s_gen2_p15s_gen2_ug_en.pdf">User guide</a></li>
<li><a rel="nofollow" class="external free" href="https://ubuntu.com/certified/202104-28912">https://ubuntu.com/certified/202104-28912</a></li>
</ul>
<h3><span class="mw-headline" id="T14s_links">T14s links</span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://psref.lenovo.com/syspool/Sys/PDF/ThinkPad/ThinkPad_T14s_Gen_2_Intel/ThinkPad_T14s_Gen_2_Intel_Spec.pdf">Product Specifications Reference (PSREF)</a></li>
<li><a rel="nofollow" class="external text" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t14s_gen2_x13_gen2_hmm_en.pdf">Hardware maintenance manual</a></li>
<li><a rel="nofollow" class="external text" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t14s_gen_2_x13_gen_2_ug_en.pdf">User guide</a></li>
<li><a rel="nofollow" class="external free" href="https://ubuntu.com/certified/202103-28856">https://ubuntu.com/certified/202103-28856</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2&amp;oldid=812416">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T14/T14s_(Intel)_Gen_2&amp;oldid=812416</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 July 2024, at 05:57.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
