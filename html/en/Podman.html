<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Podman - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Podman rootpage-Podman skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Registries" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Registries">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Registries</span>
				</div>
			</a>
			
			<ul id="toc-Registries-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-User_namespace_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#User_namespace_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>User namespace mode</span>
				</div>
			</a>
			
			<ul id="toc-User_namespace_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rootless_Podman" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rootless_Podman">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Rootless Podman</span>
				</div>
			</a>
			
			<ul id="toc-Rootless_Podman-sublist" class="vector-toc-list">
				<li id="toc-Enable_kernel.unprivileged_userns_clone" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_kernel.unprivileged_userns_clone">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.1</span>
					<span>Enable kernel.unprivileged_userns_clone</span>
				</div>
			</a>
			
			<ul id="toc-Enable_kernel.unprivileged_userns_clone-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_subuid_and_subgid" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Set_subuid_and_subgid">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.2</span>
					<span>Set subuid and subgid</span>
				</div>
			</a>
			
			<ul id="toc-Set_subuid_and_subgid-sublist" class="vector-toc-list">
				<li id="toc-Migration_for_users_created_prior_to_shadow_4.11.1-3" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Migration_for_users_created_prior_to_shadow_4.11.1-3">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.2.1</span>
					<span>Migration for users created prior to shadow 4.11.1-3</span>
				</div>
			</a>
			
			<ul id="toc-Migration_for_users_created_prior_to_shadow_4.11.1-3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Workaround_for_users_managed_by_homed" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Workaround_for_users_managed_by_homed">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.2.2</span>
					<span>Workaround for users managed by homed</span>
				</div>
			</a>
			
			<ul id="toc-Workaround_for_users_managed_by_homed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Propagate_changes_to_subuid_and_subgid" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Propagate_changes_to_subuid_and_subgid">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.2.3</span>
					<span>Propagate changes to subuid and subgid</span>
				</div>
			</a>
			
			<ul id="toc-Propagate_changes_to_subuid_and_subgid-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Enable_native_rootless_overlays" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_native_rootless_overlays">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.3</span>
					<span>Enable native rootless overlays</span>
				</div>
			</a>
			
			<ul id="toc-Enable_native_rootless_overlays-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Networking" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Networking">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.4</span>
					<span>Networking</span>
				</div>
			</a>
			
			<ul id="toc-Networking-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Storage" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Storage">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Storage</span>
				</div>
			</a>
			
			<ul id="toc-Storage-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Foreign_architectures" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Foreign_architectures">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Foreign architectures</span>
				</div>
			</a>
			
			<ul id="toc-Foreign_architectures-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Docker_Compose" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Docker_Compose">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.6</span>
					<span>Docker Compose</span>
				</div>
			</a>
			
			<ul id="toc-Docker_Compose-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NVIDIA_GPUs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NVIDIA_GPUs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.7</span>
					<span>NVIDIA GPUs</span>
				</div>
			</a>
			
			<ul id="toc-NVIDIA_GPUs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Containers_with_restart_policy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Containers_with_restart_policy">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.8</span>
					<span>Containers with restart policy</span>
				</div>
			</a>
			
			<ul id="toc-Containers_with_restart_policy-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Runtimes" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Runtimes">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Runtimes</span>
			</div>
		</a>
		
		<ul id="toc-Runtimes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Quadlet" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Quadlet">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Quadlet</span>
			</div>
		</a>
		
		<ul id="toc-Quadlet-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Images" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Images">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Images</span>
			</div>
		</a>
		
			<button aria-controls="toc-Images-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Images subsection</span>
			</button>
		
		<ul id="toc-Images-sublist" class="vector-toc-list">
			<li id="toc-Arch_Linux" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Arch_Linux">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Arch Linux</span>
				</div>
			</a>
			
			<ul id="toc-Arch_Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Alpine_Linux" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Alpine_Linux">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Alpine Linux</span>
				</div>
			</a>
			
			<ul id="toc-Alpine_Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-CentOS_Stream" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#CentOS_Stream">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>CentOS Stream</span>
				</div>
			</a>
			
			<ul id="toc-CentOS_Stream-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Debian" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Debian">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Debian</span>
				</div>
			</a>
			
			<ul id="toc-Debian-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Add_pause_to_process" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Add_pause_to_process">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Add pause to process</span>
				</div>
			</a>
			
			<ul id="toc-Add_pause_to_process-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Containers_terminate_on_shell_logout" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Containers_terminate_on_shell_logout">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Containers terminate on shell logout</span>
				</div>
			</a>
			
			<ul id="toc-Containers_terminate_on_shell_logout-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error_on_commit_in_rootless_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_on_commit_in_rootless_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Error on commit in rootless mode</span>
				</div>
			</a>
			
			<ul id="toc-Error_on_commit_in_rootless_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error_when_creating_a_container_with_bridge_network_in_rootless_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_when_creating_a_container_with_bridge_network_in_rootless_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>Error when creating a container with bridge network in rootless mode</span>
				</div>
			</a>
			
			<ul id="toc-Error_when_creating_a_container_with_bridge_network_in_rootless_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-No_image_found" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#No_image_found">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>No image found</span>
				</div>
			</a>
			
			<ul id="toc-No_image_found-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Permission_denied:_OCI_permission_denied" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Permission_denied:_OCI_permission_denied">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Permission denied: OCI permission denied</span>
				</div>
			</a>
			
			<ul id="toc-Permission_denied:_OCI_permission_denied-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pushing_images_to_Docker_Hub:_access_denied/authentication_required" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pushing_images_to_Docker_Hub:_access_denied/authentication_required">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.7</span>
					<span>Pushing images to Docker Hub: access denied/authentication required</span>
				</div>
			</a>
			
			<ul id="toc-Pushing_images_to_Docker_Hub:_access_denied/authentication_required-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-WARN[0000]_&quot;/&quot;_is_not_a_shared_mount,_this_could_cause_issues_or_missing_mounts_with_rootless_containers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WARN[0000]_&quot;/&quot;_is_not_a_shared_mount,_this_could_cause_issues_or_missing_mounts_with_rootless_containers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8</span>
					<span>WARN[0000] "/" is not a shared mount, this could cause issues or missing mounts with rootless containers</span>
				</div>
			</a>
			
			<ul id="toc-WARN[0000]_&quot;/&quot;_is_not_a_shared_mount,_this_could_cause_issues_or_missing_mounts_with_rootless_containers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Networking_issues_inside_containers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Networking_issues_inside_containers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9</span>
					<span>Networking issues inside containers</span>
				</div>
			</a>
			
			<ul id="toc-Networking_issues_inside_containers-sublist" class="vector-toc-list">
				<li id="toc-IP_networking" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#IP_networking">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9.1</span>
					<span>IP networking</span>
				</div>
			</a>
			
			<ul id="toc-IP_networking-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DNS_and_name_resolution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#DNS_and_name_resolution">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9.2</span>
					<span>DNS and name resolution</span>
				</div>
			</a>
			
			<ul id="toc-DNS_and_name_resolution-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Error:_netavark:_nftables_error:_unable_to_execute_&quot;nft&quot;_(os_error_2)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error:_netavark:_nftables_error:_unable_to_execute_&quot;nft&quot;_(os_error_2)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.10</span>
					<span>Error: netavark: nftables error: unable to execute "nft" (os error 2)</span>
				</div>
			</a>
			
			<ul id="toc-Error:_netavark:_nftables_error:_unable_to_execute_&quot;nft&quot;_(os_error_2)-sublist" class="vector-toc-list">
				<li id="toc-Symptom" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Symptom">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.10.1</span>
					<span>Symptom</span>
				</div>
			</a>
			
			<ul id="toc-Symptom-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Solution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Solution">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.10.2</span>
					<span>Solution</span>
				</div>
			</a>
			
			<ul id="toc-Solution-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-kernel_does_not_support_overlay_fs:_'overlay'_is_not_supported_over_&lt;filesystem&gt;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#kernel_does_not_support_overlay_fs:_'overlay'_is_not_supported_over_<filesystem>">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.11</span>
					<span>kernel does not support overlay fs: 'overlay' is not supported over &lt;filesystem&gt;</span>
				</div>
			</a>
			
			<ul id="toc-kernel_does_not_support_overlay_fs:_'overlay'_is_not_supported_over_&lt;filesystem&gt;-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Podman</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a></li>
<li><a href="../en/Linux_Containers.html" title="Linux Containers">Linux Containers</a></li>
<li><a href="../en/Docker.html" title="Docker">Docker</a></li>
<li><a href="../en/Buildah.html" title="Buildah">Buildah</a></li>
<li><a href="../en/Vagrant.html" title="Vagrant">Vagrant</a></li>
</ul>
</div>
<p>Podman is an alternative to <a href="../en/Docker.html" title="Docker">Docker</a>, providing a similar interface. It supports rootless containers and a shim service for <i>docker-compose</i>.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=podman">podman</a></span> package.
</p>
<p>Podman depends on the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netavark">netavark</a></span> package as the default network backend for rootful containers (see <span class="plainlinks archwiki-template-man" title="$ man 1 podman-network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-network.1">podman-network(1)</a></span>). Netavark depends on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=aardvark-dns">aardvark-dns</a></span> for name resolution among containers in the same network. Support for the alternative network backend (CNI, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cni-plugins">cni-plugins</a></span>) is deprecated.
</p>
<p>If you want to replace <a href="../en/Docker.html" title="Docker">Docker</a>, one can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=podman-docker">podman-docker</a></span> to mimic the docker binary along with man pages. 
</p>
<p>Unlike <a href="../en/Docker.html" title="Docker">Docker</a>, Podman does not require a daemon, but there is one providing an API for services like <a href="../en/Cockpit.html" title="Cockpit">cockpit</a> via <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cockpit-podman">cockpit-podman</a></span>.
</p>
<p>For advanced usage related to building containers see <span class="plainlinks archwiki-template-man" title="$ man 1 podman-build"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-build.1">podman-build(1)</a></span> which is based on <a href="../en/Buildah.html" title="Buildah">Buildah</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p>Configuration files for configuring how containers behave are located at <code>/usr/share/containers/</code>. You must copy necessary files to <code>/etc/containers</code> before editing. To configure the network bridge interface used by Podman, see <code>/etc/cni/net.d/87-podman.conflist</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Registries">Registries</h3></div>
<p>By default, no container image registries are configured in Arch Linux <a rel="nofollow" class="external autonumber" href="https://github.com/containers/podman/issues/8896">[1]</a>. This means unqualified searches like <code>podman search httpd</code> will not work. To make Podman behave like Docker, configure <span class="plainlinks archwiki-template-man" title="$ man 5 containers-registries.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/containers-registries.conf.5">containers-registries.conf(5)</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/containers/registries.conf.d/10-unqualified-search-registries.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">unqualified-search-registries = ["docker.io"]</pre>
<div class="mw-heading mw-heading3"><h3 id="User_namespace_mode">User namespace mode</h3></div>
<p>By default, processes in Podman containers run within the same user namespace as the caller, i.e. containers are not isolated by the <span class="plainlinks archwiki-template-man" title="$ man 7 user_namespaces"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/user_namespaces.7">user_namespaces(7)</a></span> feature. This is the behavior of <code>--userns=host</code>, see <span class="plainlinks archwiki-template-man" title="$ man 1 podman-run"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-run.1">podman-run(1)</a></span>.
</p>
<p>The <code>--userns=auto</code> flag automatically creates a unique user namespace for the container using an empty range of UIDs and GIDs:
</p>
<ul>
<li>For containers started by root, the <code>--userns=auto</code> flag requires the user name <code>containers</code> to be specified in the <code>/etc/subuid</code> and <code>/etc/subgid</code> files with an unused range of IDs. For example: <code>containers:2147483647:2147483648</code>.</li>
<li>For containers started by other users, the user's range from the <code>/etc/subuid</code> and <code>/etc/subgid</code> files will be used. See <a href="#Rootless_Podman">#Rootless Podman</a> for the necessary configuration.</li>
</ul>
<p>There are other valid values for the <code>--userns</code> flag, see <span class="plainlinks archwiki-template-man" title="$ man 1 podman-run"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-run.1">podman-run(1)</a></span> for details. The user namespace mode can also be configured in the <span class="plainlinks archwiki-template-man" title="$ man 5 containers.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/containers.conf.5">containers.conf(5)</a></span> file on a per-system or per-user basis.
</p>
<div class="mw-heading mw-heading3"><h3 id="Rootless_Podman">Rootless Podman</h3></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Rootless Podman relies on the unprivileged user namespace usage (<code>CONFIG_USER_NS_UNPRIVILEGED</code>) which has some serious security implications, see <a href="../en/Security.html#Sandboxing_applications" title="Security">Security#Sandboxing applications</a> for details.</div>
<p>By default, only <code>root</code> is allowed to run containers (or namespaces in kernelspeak). Running rootless Podman improves security as an attacker will not have root privileges over your system, and also allows multiple unprivileged users to run containers on the same machine. See also <span class="plainlinks archwiki-template-man" title="$ man 1 podman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman.1#Rootless_mode">podman(1) § Rootless mode</a></span> and the official <a rel="nofollow" class="external text" href="https://github.com/containers/podman/blob/main/docs/tutorials/rootless_tutorial.md">rootless tutorial</a> (may be outdated).
</p>
<div class="mw-heading mw-heading4"><h4 id="Enable_kernel.unprivileged_userns_clone">Enable kernel.unprivileged_userns_clone</h4></div>
<p>First, check the value of <code>kernel.unprivileged_userns_clone</code> by running:
</p>
<pre>$ sysctl kernel.unprivileged_userns_clone
</pre>
<p>If it is currently set to <code>0</code>, enable it by setting <code>1</code> via <a href="../en/Sysctl.html" title="Sysctl">sysctl</a> or a <a href="../en/Kernel_parameter.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-hardened">linux-hardened</a></span> has <code>kernel.unprivileged_userns_clone</code> set to <code>0</code> by default.</div>
<div class="mw-heading mw-heading4"><h4 id="Set_subuid_and_subgid">Set subuid and subgid</h4></div>
<p>In order for users to run rootless Podman, a <span class="plainlinks archwiki-template-man" title="$ man 5 subuid"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/subuid.5">subuid(5)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 subgid"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/subgid.5">subgid(5)</a></span> configuration entry must exist for each user that wants to use it. New <a href="../en/Users_and_groups.html" class="mw-redirect" title="Users">users</a> created using <span class="plainlinks archwiki-template-man" title="$ man 8 useradd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/useradd.8">useradd(8)</a></span> have these entries by default.
</p>
<div class="mw-heading mw-heading5"><h5 id="Migration_for_users_created_prior_to_shadow_4.11.1-3">Migration for users created prior to shadow 4.11.1-3</h5></div>
<p>Users created prior to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shadow">shadow</a></span> 4.11.1-3 do not have entries in <code>/etc/subuid</code> and <code>/etc/subgid</code> by default. An entry can be created for them using the <span class="plainlinks archwiki-template-man" title="$ man 8 usermod"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/usermod.8">usermod(8)</a></span> command or by manually modifying the files.
</p>
<p>The following command enables the <code><i>username</i></code> user and group to run Podman containers (or other types of containers in that case). It allocates a given range of UIDs and GIDs to the given user and group.
</p>
<pre># usermod --add-subuids 100000-165535 --add-subgids 100000-165535 <i>username</i>
</pre>
<p>The above range for the user <code><i>username</i></code> may already be taken by another user as it defines the default range for the first user on the system. If in doubt, first consult the <code>/etc/subuid</code> and <code>/etc/subgid</code> files to find the already reserved ranges.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Many images require 65536 UIDs/GIDs for mapping (notably the base <i>busybox</i> and <i>alpine</i> images). It is recommended that you allocate at least that many UIDs/GIDs for each user to maximize compatibility with Docker.</li>
<li>The configuration file lists the start and count and not the start and end subuid like the <i>usermod</i> command. See <span class="plainlinks archwiki-template-man" title="$ man 5 subuid"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/subuid.5">subuid(5)</a></span>.</li>
</ul>
</div>
<div class="mw-heading mw-heading5"><h5 id="Workaround_for_users_managed_by_homed">Workaround for users managed by homed</h5></div>
<p>Homed does not seem to allocate <i>gid</i> and <i>uid</i> entries to its users. To do this manually, run:
</p>
<pre># usermod --add-subuids 524288-589823 --add-subgids 524288-589823 <i>username</i>
</pre>
<p>Or simply edit the following configuration files as root and add these lines
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/subuid</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>username</i>:524288:65536</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/subgid</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>username</i>:524288:65536</pre>
<p>This allocates <i>uid</i> and <i>gid</i> range <code>524288-589823</code> to the <code><i>username</i></code> user. If these ranges are already taken by other users, you need to shift/adjust the ranges accordingly.
</p>
<p>You might need to reboot to reflect the changes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>This is a workaround only, <a rel="nofollow" class="external text" href="https://github.com/containers/podman/issues/20040#issuecomment-1731335711">Podman does not seem to support homed officially</a>.</li>
<li>This is a <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/29297">known issue</a> of <i>systemd-homed</i>.</li>
<li>Using Docker <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/29297#issuecomment-1823566012">seems to work</a> (adding the user to the <code>docker</code> group, but it has its own <a rel="nofollow" class="external text" href="https://docs.docker.com/engine/security/">security implications</a>).</li>
</ul>
</div>
<div class="mw-heading mw-heading5"><h5 id="Propagate_changes_to_subuid_and_subgid">Propagate changes to subuid and subgid</h5></div>
<p>Rootless Podman uses a pause process to keep the unprivileged namespaces alive. This prevents any change to the <code>/etc/subuid</code> and <code>/etc/subgid</code> files from being propagated to the rootless containers while the pause process is running. For these changes to be propagated it is necessary to run:
</p>
<pre>$ podman system migrate
</pre>
<p>After this, the user/group specified in the above files is able to start and run Podman containers.
</p>
<div class="mw-heading mw-heading4"><h4 id="Enable_native_rootless_overlays">Enable native rootless overlays</h4></div>
<p>Previously, it was necessary to use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fuse-overlayfs">fuse-overlayfs</a></span> package for <a href="../en/FUSE.html" title="FUSE">FUSE</a> overlay mounts in a rootless environment. However, modern versions of Podman and Linux kernel <a rel="nofollow" class="external text" href="https://www.redhat.com/sysadmin/podman-rootless-overlay">support</a> <i>native</i> rootless overlays, which yields better performance.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> When starting a rootless container with modified UID/GID mapping, and no container has yet been created with the specified container image and UID/GID mapping, using <i>native overlays</i> causes a performance penalty compared to <i>fuse-overlayfs</i>, because the UID/GID of all files for the container must be updated on disk. This affects especially <code>--userns auto</code> where different UID/GID mappings could potentially be used on each invocation. See the <a rel="nofollow" class="external text" href="https://github.com/containers/podman/blob/main/docs/tutorials/performance.md#choosing-a-storage-driver">Podman performance guide</a> for details.</div>
<p>To migrate from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fuse-overlayfs">fuse-overlayfs</a></span>, run the following command (it will unfortunately delete all pulled images):
</p>
<pre>$ podman system reset
</pre>
<p>Also make sure that Podman uses the <code>overlay</code> driver and that the <code>mount_program</code> parameter is not defined in <span class="plainlinks archwiki-template-man" title="$ man 5 containers-storage.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/containers-storage.conf.5">containers-storage.conf(5)</a></span>. Follow the instructions in <a href="../en/Docker.html#Enable_native_overlay_diff_engine" title="Docker">Docker#Enable native overlay diff engine</a>.
</p>
<p>To verify that native rootless overlays are enabled, run
</p>
<pre>$ podman info | grep -i overlay
</pre>
<p>It should show <code>graphDriverName: overlay</code> and <code>Native Overlay Diff: "true"</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Networking">Networking</h4></div>
<p>Podman depends on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=passt">passt</a></span>, which provides <a rel="nofollow" class="external text" href="https://passt.top/passt/about/#pasta">pasta</a> as the default rootless network backend.
</p>
<p>An alternative rootless network backend is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=slirp4netns">slirp4netns</a></span>, which was the default up to Podman 5.
</p>
<p>A major difference between the two is outlined in <a rel="nofollow" class="external text" href="https://blog.podman.io/2024/03/podman-5-0-breaking-changes-in-detail/#:~:text=Pasta%20by%20default%20performs%20no%20Network%20Address%20Translation%20(NAT)%20and%20copies%20the%20ip%20addresses%20from%20your%20main%20interface%20into%20the%20container%20namespace.">Podman 5.0 breaking changes in detail</a>:
</p>
<dl><dd><i>Pasta by default performs no Network Address Translation (NAT) and copies the ip addresses from your main interface into the container namespace.</i></dd></dl>
<p>The consequences of this change are explained in upstream's <a rel="nofollow" class="external text" href="https://github.com/containers/podman/blob/main/rootless.md">Shortcomings of Rootless Podman</a>:
</p>
<dl><dd><i>Since pasta copies the IP address of the main interface, connections to that IP from containers do not work. This means that unless you have more than one interface, inter-container connections cannot be made without explicitly passing a pasta network configuration, either in <code>containers.conf</code> or at runtime.</i></dd></dl>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> The container-to-host communication problem is fixed in Podman 5.3.<a rel="nofollow" class="external autonumber" href="https://blog.podman.io/2024/10/podman-5-3-changes-for-improved-networking-experience-with-pasta/">[2]</a>
</div>
<p>An example to mimic slirp4netns behavior is given in the "Podman 5.0 breaking changes" blog post:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">containers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[network]
pasta_options = ["-a", "10.0.2.0", "-n", "24", "-g", "10.0.2.2", "--dns-forward", "10.0.2.3"]</pre>
<p>Also, the default rootless networking tool can be selected in <code>containers.conf</code> under the <code>[network]</code> section with <code>default_rootless_network_cmd</code>, which can be set to <code>pasta</code> or <code>slirp4netns</code>. So, if you run into bugs, you can always revert to slirp4netns like so (provided it is installed):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">containers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[network]
default_rootless_network_cmd = "slirp4netns"</pre>
<div class="mw-heading mw-heading3"><h3 id="Storage">Storage</h3></div>
<p>The configuration for how and where container images and instances are stored takes place in <code>/etc/containers/storage.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> When using <a href="#Rootless_Podman">#Rootless Podman</a>, overrides to the storage settings can be added to <code>$XDG_CONFIG_HOME/containers/storage.conf</code> on a per-user basis.</div>
<p>The default <code>overlay</code> driver is well tested and supports reflink copies <a rel="nofollow" class="external autonumber" href="https://github.com/containers/podman/issues/6563#issuecomment-659085291">[3]</a> on filesystems that support it (<a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>, <a href="../en/XFS.html" title="XFS">XFS</a>, <a href="../en/ZFS.html" title="ZFS">ZFS</a>...) <a rel="nofollow" class="external autonumber" href="https://github.com/containers/podman/blob/main/docs/tutorials/performance.md#choosing-a-host-file-system">[4]</a>.
</p>
<p>For more information on the available alternatives and other configuration options, see <span class="plainlinks archwiki-template-man" title="$ man 5 containers-storage.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/containers-storage.conf.5#STORAGE_TABLE">containers-storage.conf(5) § STORAGE_TABLE</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Foreign_architectures">Foreign architectures</h3></div>
<p>Podman is able to run images built for different CPU architecture than the host using the <a href="https://en.wikipedia.org/wiki/binfmt_misc" class="extiw" title="wikipedia:binfmt misc">Wikipedia:binfmt_misc</a> system.
</p>
<p>To enable it, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qemu-user-static">qemu-user-static</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qemu-user-static-binfmt">qemu-user-static-binfmt</a></span>.
</p>
<p><a href="../en/Systemd.html" title="Systemd">systemd</a> comes with the <code>systemd-binfmt.service</code> service which should enable new rules.
</p>
<p>Verify that binfmt rules have been added:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls /proc/sys/fs/binfmt_misc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DOSWin        qemu-cris        qemu-ppc      qemu-sh4eb        status
qemu-aarch64  qemu-m68k        qemu-ppc64    qemu-sparc        
qemu-alpha    qemu-microblaze  qemu-riscv64  qemu-sparc32plus  
qemu-arm      qemu-mips        qemu-s390x    qemu-sparc64      
qemu-armeb    qemu-mipsel      qemu-sh4      register
</pre>
<p>Podman should now be able to run foreign architecture images. Most commands use the foreign architecture when <code>--arch</code> option is passed.
</p>
<p>Example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># podman run --arch arm64 'docker.io/alpine:latest' arch</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">aarch64
</pre>
<div class="mw-heading mw-heading3"><h3 id="Docker_Compose">Docker Compose</h3></div>
<p>Podman has a <i>compose</i> subcommand which is a thin wrapper around a compose provider, either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=docker-compose">docker-compose</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=podman-compose">podman-compose</a></span>. If both are installed, <i>docker-compose</i> takes precedence. You can override this using the <code>PODMAN_COMPOSE_PROVIDER</code> environment variable.
</p>
<p>If you want to use <i>docker-compose</i>, you will need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> the <code>podman.socket</code> <a href="../en/User_unit.html" class="mw-redirect" title="User unit">user unit</a> and set docker socket environment variable for that user:
</p>
<pre>$ export DOCKER_HOST=unix://$XDG_RUNTIME_DIR/podman/podman.sock
</pre>
<p>This is not required when using <i>podman-compose</i> as it will use <i>podman</i> directly.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>If you have enabled buildkit in docker, the integration will not work. You need to disable buildkit by setting the <code>DOCKER_BUILDKIT=0</code> <a href="../en/Environment_variable.html" class="mw-redirect" title="Environment variable">environment variable</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=podman-compose">podman-compose</a></span> has compatibility issues, see <a rel="nofollow" class="external autonumber" href="https://github.com/containers/podman-compose/issues">[5]</a>.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="NVIDIA_GPUs">NVIDIA GPUs</h3></div>
<p><a rel="nofollow" class="external text" href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#podman">NVIDIA Container Toolkit</a> provides container runtime for NVIDIA GPUs. Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-container-toolkit">nvidia-container-toolkit</a></span> package. It contains a <a href="../en/Pacman_hook.html" class="mw-redirect" title="Pacman hook">pacman hook</a> that generates the CDI specification for your GPU and saves it in <code>/etc/cdi/nvidia.yaml</code>.
</p>
<p>Test the setup:
</p>
<pre>$ podman run --rm --gpus all archlinux nvidia-smi -L
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The NVIDIA CDI hook does not work with the <code>--userns nomap</code> and <code>--userns auto</code> podman run parameters. <a rel="nofollow" class="external autonumber" href="https://github.com/NVIDIA/nvidia-container-toolkit/issues/648">[6]</a>
</div>
<div class="mw-heading mw-heading3"><h3 id="Containers_with_restart_policy">Containers with restart policy</h3></div>
<p>To automatically start containers with a restart policy, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>podman-restart.service</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Runtimes">Runtimes</h2></div>
<p>Podman allows you to use different container runtimes that should each more or less provide the same features and guarantees.
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=runc">runc</a></span>: The former default runtime.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=crun">crun</a></span>: The new default runtime. Generally preferable since it is faster than <code>runc</code>.</li>
<li>
<code>krun</code>: Part of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=crun">crun</a></span>. A special runtime that uses KVM-backed <a rel="nofollow" class="external text" href="https://github.com/containers/krunvm">krunvm</a>-based micro VMs to execute the container. Compared to a full VM, these micro VMs start in milliseconds and use a different kernel. This should provide better security compared to regular containers that run with the host kernel.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/youki/">youki</a></span><sup><small>AUR</small></sup>: Memory-safe runtime written in Rust.</li>
</ul>
<p>To start a single command in an alternative runtime, you can use <code>--runtime</code> like so:
</p>
<pre>$ podman run --rm --runtime=krun archlinux uname -a
</pre>
<p>To make this change permanent, you can put it into <code>containers.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">containers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[engines]
runtime = "krun"</pre>
<div class="mw-heading mw-heading2"><h2 id="Quadlet">Quadlet</h2></div>
<p><a rel="nofollow" class="external text" href="https://docs.podman.io/en/latest/markdown/podman-systemd.unit.5.html">Quadlet</a> allows to manage Podman containers with <a href="../en/Systemd.html" title="Systemd">systemd</a>.
</p>
<p>For rootless Podman, place Quadlet files under one of following directories:
</p>
<ul>
<li>
<code>$XDG_CONFIG_HOME/containers/systemd/</code> or <code>~/.config/containers/systemd/</code>
</li>
<li>
<code>/etc/containers/systemd/users/<i>UID</i></code> for the user matching <code><i>UID</i></code>
</li>
<li>
<code>/etc/containers/systemd/users/</code> for all users</li>
</ul>
<p>For Podman with root permissions, the directory is <code>/etc/containers/systemd/</code>.
</p>
<p>Podman will read Quadlet files with extensions <i>.container</i>, <i>.volume</i>, <i>.network</i>, <i>.kube</i>, <i>.image</i>, <i>.build</i> and <i>.pod</i>. A corresponding <i>.service</i> file will be generated using <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.generator.7">systemd.generator(7)</a></span>. The Quadlet files are read during boot or manually by running a <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Daemon-reload">daemon-reload</a>.
</p>
<p>Quadlet files can also be generated from Podman commands using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/podlet/">podlet</a></span><sup><small>AUR</small></sup>.
</p>
<p>For example, here is a command that will run <a href="../en/Syncthing.html" title="Syncthing">Syncthing</a> container from LinuxServer.io:
</p>
<pre>$ podman run \
    --rm \
    --replace \
    --label io.containers.autoupdate=registry \
    --name syncthing \
    --hostname=syncthing \
    --uidmap 1000:0:1 \
    --uidmap 0:1:1000 \
    --uidmap 1001:1001:64536 \
    --env PUID=1000 \
    --env PGID=1000 \
    --env TZ=Etc/UTC \
    --publish 127.0.0.1:8384:8384/tcp \
    --publish 22000:22000/tcp \
    --volume /path/to/syncthing/config:/config \
    --volume /path/to/data1:/data1 \
    lscr.io/linuxserver/syncthing:latest
</pre>
<p>To manage it as a systemd service, create the following Quadlet file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/containers/systemd/syncthing-lsio.container</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Syncthing container

# Containers can depend on one another using systemd dependencies, but with a ".service" suffix.
# For example, to make another container wait until this one starts, add "After=syncthing-lsio.service"
# to its [Unit] section.

[Container]
ContainerName=syncthing
Image=lscr.io/linuxserver/syncthing:latest

# Enable auto-update container
AutoUpdate=registry

Volume=/path/to/syncthing/config:/config
Volume=/path/to/data1:/data1

HostName=syncthing
PublishPort=127.0.0.1:8384:8384/tcp
PublishPort=22000:22000/tcp

Environment=PUID=1000
Environment=PGID=1000
Environment=TZ=Etc/UTC

# UID mapping is needed to run linuxserver.io container as rootless podman.
# This will map <i>UID=1000</i> inside the container to intermediate <i>UID=0</i>.
# For rootless podman intermediate <i>UID=0</i> will be mapped to the UID of current user.
UIDMap=1000:0:1
UIDMap=0:1:1000
UIDMap=1001:1001:64536

[Service]
Restart=on-failure

# Extend Timeout to allow time to pull the image
TimeoutStartSec=300

# The [Install] section allows enabling the generated service.
[Install]
WantedBy=default.target</pre>
<p>We can validate the Quadlet file via
</p>
<pre>$ /usr/lib/podman/quadlet -dryrun -user</pre>
<p>Then, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Daemon-reload">daemon-reload</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>syncthing-lsio.service</code>. See <a href="../en/Systemd/User.html#Automatic_start-up_of_systemd_user_instances" title="Systemd/User">systemd/User#Automatic start-up of systemd user instances</a> to start rootless containers without any open sessions.
</p>
<p>If you want to start containers at boot, make sure that your <a href="../en/Network_manager.html" class="mw-redirect" title="Network manager">network manager</a> supports and is configured for <a href="../en/Systemd.html#Running_services_after_the_network_is_up" title="Systemd">running services after the network is up</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Services generated from the Quadlet files with an <code>[Install]</code> section are <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enabled">enabled</a> automatically (the generator creates the symlink in the <code>/run/user/$UID/systemd/generator/</code> directory, see <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/a/332797">[7]</a>).</li>
<li>Quadlet will add implicit dependencies on the <code>network-online.target</code> (as root) or <code>podman-user-wait-network-online.service</code> (as user) by adding <code>After=</code> and <code>Wants=</code> properties to the systemd unit. This is to ensure that the network is reachable if an image needs to be pulled and by the time the container is started. See <span class="plainlinks archwiki-template-man" title="$ man 5 podman-systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-systemd.unit.5#Implicit_network_dependencies">podman-systemd.unit(5) § Implicit network dependencies</a></span> for details.</li>
</ul>
</div>
<p>Valid options for the <code>Container</code> section are listed under <span class="plainlinks archwiki-template-man" title="$ man 5 podman-systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-systemd.unit.5#Container_units_%5BContainer%5D">podman-systemd.unit(5) § Container units [Container]</a></span>. <code>PodmanArgs=</code> can be used to add other Podman arguments that do not have corresponding file options.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 podman-systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-systemd.unit.5#EXAMPLES">podman-systemd.unit(5) § EXAMPLES</a></span> for more examples including <code>Pod</code>, <code>Volume</code>, <code>Network</code> and <code>Image</code> units.
</p>
<div class="mw-heading mw-heading2"><h2 id="Images">Images</h2></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> You may omit the registry prefix from the images, as Podman will automatically search for the image in all registries defined in <code>/etc/containers/registries.conf</code> at <code>unqualified-search-registries</code> in the defined order. The following images will always contain the prefix, to allow for configurations without <code>docker.io</code> in the configuration.</div>
<div class="mw-heading mw-heading3"><h3 id="Arch_Linux">Arch Linux</h3></div>
<p>The following command pulls the <a rel="nofollow" class="external text" href="https://hub.docker.com/_/archlinux/">Arch Linux</a> x86_64 image from <a rel="nofollow" class="external text" href="https://hub.docker.com/">Docker Hub</a>.
</p>
<pre># podman pull docker.io/archlinux
</pre>
<p>See the Docker Hub page for a full list of available tags, including versions with and without build tools.
</p>
<p>See also <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archlinux-docker/blob/master/README.md">README.md</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Alpine_Linux">Alpine Linux</h3></div>
<p><a rel="nofollow" class="external text" href="https://www.alpinelinux.org/">Alpine Linux</a> is a popular choice for small container images, especially for software compiled as static binaries. The following command pulls the latest Alpine Linux image from <a rel="nofollow" class="external text" href="https://hub.docker.com/">Docker Hub</a>:
</p>
<pre># podman pull docker.io/alpine
</pre>
<p>Alpine Linux uses the <a rel="nofollow" class="external text" href="https://musl.libc.org/">musl</a> libc implementation instead of the <a rel="nofollow" class="external text" href="https://www.gnu.org/software/libc/">glibc</a> libc implementation used by most Linux distributions. Because Arch Linux uses glibc, there are a number of functional differences between an Arch Linux host and an Alpine Linux container that can impact the performance and correctness of software. A list of these differences is documented in <a rel="nofollow" class="external free" href="https://wiki.musl-libc.org/functional-differences-from-glibc.html">https://wiki.musl-libc.org/functional-differences-from-glibc.html</a>.
</p>
<p>Note that dynamically linked software built on Arch Linux (or any other system using glibc) may have bugs and performance problems when run on Alpine Linux (or any other system using a different libc). See <a rel="nofollow" class="external autonumber" href="https://bugs.python.org/issue32307">[8]</a>, <a rel="nofollow" class="external autonumber" href="https://superuser.com/questions/1219609/why-is-the-alpine-docker-image-over-50-slower-than-the-ubuntu-image">[9]</a> and <a rel="nofollow" class="external autonumber" href="https://pythonspeed.com/articles/alpine-docker-python">[10]</a> for examples.
</p>
<div class="mw-heading mw-heading3"><h3 id="CentOS_Stream">CentOS Stream</h3></div>
<p>The following command pulls the latest <a rel="nofollow" class="external text" href="https://quay.io/repository/centos/centos">CentOS Stream</a> image from <a rel="nofollow" class="external text" href="https://quay.io/">Quay</a>:
</p>
<pre># podman pull quay.io/centos/centos
</pre>
<p>See the Quay page for a full list of available tags for each CentOS release.
</p>
<div class="mw-heading mw-heading3"><h3 id="Debian">Debian</h3></div>
<p>The following command pulls the latest <a rel="nofollow" class="external text" href="https://hub.docker.com/_/debian">Debian</a> image from <a rel="nofollow" class="external text" href="https://hub.docker.com/">Docker Hub</a>:
</p>
<pre># podman pull docker.io/debian
</pre>
<p>See the Docker Hub page for a full list of available tags, including both standard and slim versions for each Debian release.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Add_pause_to_process">Add pause to process</h3></div>
<pre>WARN[0000] Failed to add pause process to systemd sandbox cgroup: Process org.freedesktop.systemd1 exited with status 1 
</pre>
<p>Can be solved using: <a rel="nofollow" class="external free" href="https://github.com/containers/crun/issues/704">https://github.com/containers/crun/issues/704</a>
</p>
<pre># echo +cpu +cpuset +io +memory +pids &gt; /sys/fs/cgroup/cgroup.subtree_control
</pre>
<div class="mw-heading mw-heading3"><h3 id="Containers_terminate_on_shell_logout">Containers terminate on shell logout</h3></div>
<p>After logging out from machine, Podman containers are stopped for some users. To prevent that, <a href="../en/Systemd/User.html#Automatic_start-up_of_systemd_user_instances" title="Systemd/User">enable lingering</a> for users running containers.
</p>
<p>You can also create user systemd unit as described in <span class="plainlinks archwiki-template-man" title="$ man 1 podman-auto-update"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/podman-auto-update.1#EXAMPLES">podman-auto-update(1) § EXAMPLES</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Error_on_commit_in_rootless_mode">Error on commit in rootless mode</h3></div>
<pre>Error committing the finished image: error adding layer with blob "sha256:02823fca9b5444c196f1f406aa235213254af9909fca270f462e32793e2260d8": Error processing tar file(exit status 1) permitted operation
</pre>
<p>Check that the storage driver is overlay in the <a href="#Storage">storage configuration</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Error_when_creating_a_container_with_bridge_network_in_rootless_mode">Error when creating a container with bridge network in rootless mode</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> The CNI network backend is deprecated. Is this an issue with the Netavark backend? (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Podman.html">Talk:Podman</a>)</div>
</div>
<p>If you are using <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> you might end up with problems when creating container using a bridge network with the <code>dnsname</code> plugin enabled:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ podman network create foo</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/home/<i>user</i>/.config/cni/net.d/foo.conflist
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ podman run --rm -it --network=foo docker.io/library/alpine:latest ip addr</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Error: command rootless-cni-infra [alloc 89398a9315256cb1938075c377275d29c2b6ebdd75a96b5c26051a89541eb928 foo festive_hofstadter    ] in container 1f4344bbd1087c892a18bacc35f4fdafbb61106c146952426488bc940a751efe failed with status 1, stdout="", stderr="exit status 3\n"</pre>
<p>This can be solved by adding the following lines to <code>/etc/apparmor.d/local/usr.sbin.dnsmasq</code>:
</p>
<pre>owner /run/user/[0-9]*/containers/cni/dnsname/*/dnsmasq.conf r,
owner /run/user/[0-9]*/containers/cni/dnsname/*/addnhosts r,
owner /run/user/[0-9]*/containers/cni/dnsname/*/pidfile rw,
</pre>
<p>And then reloading the AppArmor profile:
</p>
<pre># apparmor_parser -R /etc/apparmor.d/usr.sbin.dnsmasq
# apparmor_parser /etc/apparmor.d/usr.sbin.dnsmasq
</pre>
<div class="mw-heading mw-heading3"><h3 id="No_image_found">No image found</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="#Registries">#Registries</a>.</b></p>
<div>
<b>Notes:</b> Now the topic should be covered in the configuration section. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Podman.html">Talk:Podman</a>)</div>
</div>
<p>By default, the registry list is not populated as the files in the package come from upstream. This means that by default, trying to pull any image without specifying the registry will result in an error similar to the following:
</p>
<pre>Error: short-name "archlinux" did not resolve to an alias and no unqualified-search registries are defined in "/etc/containers/registries.conf"
</pre>
<p>A starting configuration could be the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/containers/registries.conf.d/00-unqualified-search-registries.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">unqualified-search-registries = ["docker.io"]</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/containers/registries.conf.d/01-registries.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[[registry]]
location = "docker.io"
</pre>
<p>This is equivalent to the default docker configuration.
</p>
<p>A less convenient alternative, but having a higher compatibility with systems without configured shortnames, use the full registry path in the <code>Containerfile</code> or <code>Dockerfile</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Containerfile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">FROM docker.io/archlinux/archlinux
</pre>
<div class="mw-heading mw-heading3"><h3 id="Permission_denied:_OCI_permission_denied">Permission denied: OCI permission denied</h3></div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ podman exec openvas_openvas_1 bash</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Error: crun: writing file `/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/user.slice/libpod-b3e8048a9b91e43c214b4d850ac7132155a684d6502e12e22ceb6f73848d117a.scope/container/cgroup.procs`: Permission denied: OCI permission denied
</pre>
<p>Can be solved: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=253966">BBS#253966</a>
</p>
<pre>$ env DBUS_SESSION_BUS_ADDRESS= podman ...
$ env DBUS_SESSION_BUS_ADDRESS= podman-compose ...
</pre>
<div class="mw-heading mw-heading3"><h3 id="Pushing_images_to_Docker_Hub:_access_denied/authentication_required">
<span id="Pushing_images_to_Docker_Hub:_access_denied.2Fauthentication_required"></span>Pushing images to Docker Hub: access denied/authentication required</h3></div>
<p>When using <code>podman push</code> to push container images to Docker Hub, the following errors could occur: <code>Requested access to the resource is denied</code> or <code>Authentication required</code>. The following hints can help to fix potential issues: 
</p>
<ul>
<li>Tag the local image: <pre># podman tag &lt;localImage&gt; docker.io/&lt;dockerHubUsername&gt;/&lt;dockerHubRepository&gt;:&lt;Tag&gt;</pre>
</li>
<li>Push the tagged image: <pre># podman push docker.io/&lt;dockerHubUsername&gt;/&lt;dockerHubRepository&gt;:&lt;Tag&gt; docker://docker.io/&lt;dockerHubUsername&gt;/&lt;dockerHubRepository&gt;:&lt;Tag&gt;</pre>
</li>
<li>Login to docker.io, the Docker Hub repository and Docker Hub Registry server:</li>
</ul>
<dl><dd><pre># podman login -u &lt;DockerHubUsername&gt; -p &lt;DockerHubPassword&gt; registry-1.docker.io
# podman login -u &lt;DockerHubUsername&gt; -p &lt;DockerHubPassword&gt; docker.io/&lt;dockerHubUsername&gt;/&lt;dockerHubRepository&gt;
# podman login -u &lt;DockerHubUsername&gt; -p &lt;DockerHubPassword&gt; docker.io
</pre></dd></dl>
<ul>
<li>Logout from all registries before the login, e.g., <pre># podman logout --all</pre>
</li>
<li>Add <code>&lt;dockerHubUsername&gt;</code> as collaborator in the Docker Hub Collaborators tab of the repository</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="WARN[0000]_&quot;/&quot;_is_not_a_shared_mount,_this_could_cause_issues_or_missing_mounts_with_rootless_containers">
<span id="WARN.5B0000.5D_.22.2F.22_is_not_a_shared_mount.2C_this_could_cause_issues_or_missing_mounts_with_rootless_containers"></span>WARN[0000] "/" is not a shared mount, this could cause issues or missing mounts with rootless containers</h3></div>
<p>Buildah/Podman running as rootless expects the bind mount to be shared, check if it is set to private:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ findmnt -o PROPAGATION /</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PROPAGATION
private
</pre>
<p>In this case see <span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8#Shared_subtree_operations">mount(8) § Shared_subtree_operations</a></span> and set <b>temporarily</b> the mount as shared with:
</p>
<pre># mount --make-shared /
</pre>
<p>To set it <b>permanently</b> edit <a href="../en/Fstab.html#Usage" title="Fstab">/etc/fstab</a> and add the <i>shared</i> option to the desired mount and reboot. It will result in a entry like:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># &lt;device&gt;                                &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;fsck&gt;
UUID=0a3407de-014b-458b-b5c1-848e92a327a3 /     ext4   defaults,shared   0      1</pre>
<div class="mw-heading mw-heading3"><h3 id="Networking_issues_inside_containers">Networking issues inside containers</h3></div>
<div class="mw-heading mw-heading4"><h4 id="IP_networking">IP networking</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> This is an overly verbose introduction to the statement that containers networking is affected by the firewall on host. Netavark creates its own firewall rules using iptables, so default <code>DROP</code> policy in iptables chains is not a problem. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Podman.html">Talk:Podman</a>)</div>
</div>
<p>Podman containers are by default bridged with the host through their own virtual network interfaces.
</p>
<p>For example, inside a container, virtual interface <code>eth0@if6</code> has IP 10.89.0.3 (IPs might be different on your system!):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">container# ip addr</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
2: eth0@if6: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    ...
    inet 10.89.0.3/24 brd 10.89.0.255 scope global eth0
       valid_lft forever preferred_lft forever
</pre>
<p>On the host, packets from the container exit on the host side from another virtual interface, here named <code>podman1</code> as if routed via IP 10.89.0.1:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">host# ip addr</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
4: podman1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    ...
    inet 10.89.0.1/24 brd 10.89.0.255 scope global podman1
</pre>
<p>Despite being virtual IP addresses, packets are still routed through the kernel's packet filtering system and can therefore be blocked by iptables/nftables rules. In particular, default <code>DROP</code> policy in <code>INPUT</code> or <code>FORWARD</code> iptables filter chains and/or running firewalls (<a href="../en/Uncomplicated_Firewall.html" class="mw-redirect" title="Ufw">ufw</a>, <a href="../en/Firewalld.html" title="Firewalld">firewalld</a>) can affect containers in some cases. Check your configuration (for example with <code>iptables -L -n -v</code> or <code>nft list ruleset</code>) if you think this may be the case.
</p>
<p>After a change in <code>docker-compose.yml</code>, note that created networks (from the <code>networks:</code> section) may not be destroyed when using <code>podman compose down</code> to destroy an environment. Make sure (using <code>podman network ls</code> and <code>podman network rm</code> if necessary) that they are if that is your intention.
</p>
<div class="mw-heading mw-heading4"><h4 id="DNS_and_name_resolution">DNS and name resolution</h4></div>
<p>Name resolution is handled by subsystems of Podman (for example <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=aardvark-dns">aardvark-dns</a></span>), which provide both external DNS (usually through the host's DNS resolver) and container name resolution (e.g. <code>webserver.dns.podman</code> talking to <code>database.dns.podman</code>).
</p>
<p>In the example above, containers are configured automatically by Podman via <code>/etc/resolv.conf</code> to ask a DNS resolver running on port 53 on the host-side of the pipe:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">container# cat /etc/resolv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">search dns.podman
nameserver 10.89.0.1
</pre>
<p>Check that you don't have another DNS resolver running on the host on port 53 (for example <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> or <a href="../en/Unbound.html" title="Unbound">Unbound</a>), as it may interfere with Podman name resolution. If that is the case, you can change the port used by Podman on the host to any other available port, and Podman should automatically forward container requests from containers to the correct port on the host:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">host# # cat /etc/containers/containers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
dns_bind_port = 20053
</pre>
<div class="mw-heading mw-heading3"><h3 id="Error:_netavark:_nftables_error:_unable_to_execute_&quot;nft&quot;_(os_error_2)">
<span id="Error:_netavark:_nftables_error:_unable_to_execute_.22nft.22_.28os_error_2.29"></span>Error: netavark: nftables error: unable to execute "nft" (os error 2)</h3></div>
<p>This error occurs when the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nftables">nftables</a></span> package is missing. While <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netavark">netavark</a></span> does not list it as a hard dependency, it defaults to the <code>nftables</code> backend on modern kernels.
</p>
<p>A common scenario for this is uninstalling <a href="../en/Docker.html" title="Docker">Docker</a>, which explicitly depends on <code>nftables</code>, causing it to be removed as an orphan while Podman still requires the <code>nft</code> binary for network isolation.
</p>
<div class="mw-heading mw-heading4"><h4 id="Symptom">Symptom</h4></div>
<p>When managed by <a href="#Quadlet">Quadlet</a>, the main service may fail with a generic dependency error. However, the underlying <code>netavark</code> failure can be found in the journal during container creation or cleanup:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">journalctl</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">podman[PID]: Error: cleaning up container &lt;ID&gt; network: netavark: nftables error: unable to execute "nft": No such file or directory (os error 2)
&lt;unit&gt;[PID]: Error: netavark: nftables error: unable to execute "nft": No such file or directory (os error 2)</pre>
<div class="mw-heading mw-heading4"><h4 id="Solution">Solution</h4></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Help:Reading">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nftables">nftables</a></span> package.
</p>
<div class="mw-heading mw-heading3"><h3 id="kernel_does_not_support_overlay_fs:_'overlay'_is_not_supported_over_&lt;filesystem&gt;">
<span id="kernel_does_not_support_overlay_fs:_.27overlay.27_is_not_supported_over_.3Cfilesystem.3E"></span>kernel does not support overlay fs: 'overlay' is not supported over &lt;filesystem&gt;</h3></div>
<p>Reboot your system, as explained in <a href="../en/General_troubleshooting.html#Cannot_use_some_peripherals_after_kernel_upgrade" title="General troubleshooting">General troubleshooting#Cannot use some peripherals after kernel upgrade</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://podman.io/">Official website</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/containers/podman/blob/main/docs/tutorials/README.md">Podman Tutorials</a></li>
<li><a rel="nofollow" class="external text" href="https://phoenixnap.com/kb/podman-vs-docker">Podman vs. Docker: Everything You Need to Know</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Virtualization.html" title="Category:Virtualization">Virtualization</a></li>
<li><a href="../en/Category:Sandboxing.html" title="Category:Sandboxing">Sandboxing</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Podman&amp;oldid=863174">https://wiki.archlinux.org/index.php?title=Podman&amp;oldid=863174</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 January 2026, at 07:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Podman</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
