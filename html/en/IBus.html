<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>IBus - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-IBus rootpage-IBus skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Integration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Integration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Integration</div>
		</a>
		
		<ul id="toc-Integration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-GNOME" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GNOME">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>GNOME</div>
			</a>
			
			<ul id="toc-GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_desktop_environments" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Other_desktop_environments">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Other desktop environments</div>
			</a>
			
			<ul id="toc-Other_desktop_environments-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Emoji_input" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Emoji_input">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Emoji input</div>
			</a>
			
			<ul id="toc-Emoji_input-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unicode_input" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unicode_input">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Unicode input</div>
			</a>
			
			<ul id="toc-Unicode_input-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tray_icon_color" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tray_icon_color">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Tray icon color</div>
			</a>
			
			<ul id="toc-Tray_icon_color-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Layout_switcher_display_delay" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Layout_switcher_display_delay">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Layout switcher display delay</div>
			</a>
			
			<ul id="toc-Layout_switcher_display_delay-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_modifier_key_combinations_to_switch_layouts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_modifier_key_combinations_to_switch_layouts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Using modifier key combinations to switch layouts</div>
			</a>
			
			<ul id="toc-Using_modifier_key_combinations_to_switch_layouts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-rxvt-unicode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#rxvt-unicode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>rxvt-unicode</div>
			</a>
			
			<ul id="toc-rxvt-unicode-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Missing_packages_due_to_pyenv" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Missing_packages_due_to_pyenv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Missing packages due to pyenv</div>
			</a>
			
			<ul id="toc-Missing_packages_due_to_pyenv-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Settings_removed_after_restart" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Settings_removed_after_restart">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Settings removed after restart</div>
			</a>
			
			<ul id="toc-Settings_removed_after_restart-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ibus_IME_packages_only_input_keyboard's_native_charset" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ibus_IME_packages_only_input_keyboard's_native_charset">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Ibus IME packages only input keyboard's native charset</div>
			</a>
			
			<ul id="toc-Ibus_IME_packages_only_input_keyboard's_native_charset-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Keys_"stick"_after_being_held_down' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Keys_"stick"_after_being_held_down'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Keys "stick" after being held down</div>
			</a>
			
			<ul id='toc-Keys_"stick"_after_being_held_down-sublist' class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">IBus</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/IBus" title="IBus – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/IBus" title="IBus – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Localization.html" title="Localization">Localization</a></li>
<li><a href="../en/Input_method.html" title="Input method">Input method</a></li>
<li><a href="../en/Fcitx.html" title="Fcitx">Fcitx</a></li>
<li><a href="../en/Fcitx5.html" title="Fcitx5">Fcitx5</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Intelligent_Input_Bus" class="extiw" title="wikipedia:Intelligent Input Bus">IBus</a> (<i>Intelligent Input Bus</i>) is an <a href="../en/Input_method.html#Input_method_framework" title="Input method">input method framework</a>, a type of application that allows for easily switching between different keyboard layouts. When combined with an <a href="../en/Input_method.html" class="mw-redirect" title="Input method editor">input method editor</a>, it also allows for typing non-Latin characters using a keyboard that does not natively support them.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus">ibus</a></span> package.
</p>
<p>Additionally, see <a href="../en/Input_method.html#List_of_available_input_method_editors" title="Input method">Input method#List of available input method editors</a> for a comprehensive list of available input method editors.
</p>
<h2><span class="mw-headline" id="Integration">Integration</span></h2>
<p>Set at least the following <a href="../en/Environment_variables.html" title="Environment variables">environment variables</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GTK_IM_MODULE=ibus
QT_IM_MODULE=ibus
XMODIFIERS=@im=ibus</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <a href="../en/GNOME.html" title="GNOME">GNOME</a> has <a rel="nofollow" class="external text" href="https://help.gnome.org/misc/release-notes/3.6/i18n-ibus.html">integrated</a> IBus since version 3.6 and makes use of it by default, so if you use it as your <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environment</a>, you may skip the next part.</div>
<p>To launch IBus on user login, create an <a href="../en/Autostarting.html" class="mw-redirect" title="Autostart">autostart</a> entry with the following command:
</p>
<pre>ibus-daemon -rxRd
</pre>
<p>On the next login IBus will start along with the user session.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-autostart/">ibus-autostart</a></span><sup><small>AUR</small></sup> package provides an <a href="../en/Autostarting.html" class="mw-redirect" title="Autostart">autostart</a> entry that can auto start this.</li>
<li>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-daemon/">ibus-daemon</a></span><sup><small>AUR</small></sup> package provides an <code>ibus@$DISPLAY.service</code> that can be <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enabled</a> to achieve this.</li>
<li>
<a href="../en/KDE.html" title="KDE">KDE</a> comes with a plasmoid called Input Method Panel that can act as an IBus frontend and can possibly provide a better integrated experience.
<ul>
<li>To launch IBus with Input Method Panel, use the <code>--panel=/usr/lib/kimpanel-ibus-panel</code> option with the <i>ibus-daemon</i> command above (if the panel doesn't appear, you can try the <code>--desktop=kde</code> option instead). To configure the <i>Input Method Panel</i> widget, see the <a rel="nofollow" class="external text" href="https://userbase.kde.org/Tutorials/Kimpanel">KDE UserBase Wiki</a> and <a href="../en/KDE.html#Widgets" title="KDE">KDE#Widgets</a> for details.</li>
<li>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-autostart-kimpanel/">ibus-autostart-kimpanel</a></span><sup><small>AUR</small></sup> package provides an <a href="../en/Autostarting.html" class="mw-redirect" title="Autostart">autostart</a> entry that can auto start this.</li>
</ul>
</li>
<li>Additional functionality on <a href="../en/KDE.html" title="KDE">KDE</a> may be provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kimtoy">kimtoy</a></span>. However, the project has been <a rel="nofollow" class="external text" href="https://invent.kde.org/unmaintained/kimtoy">archived</a> and may not work as expected.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>See <a href="../en/Locale.html" title="Locale">Locale</a> for help with adding non-Latin language support to your system.
</p>
<p>See <a href="../en/Fonts.html#Non-latin_scripts" title="Fonts">Fonts#Non-latin scripts</a> for a non-exhaustive list of available non-Latin fonts.
</p>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p><a href="../en/GNOME.html" title="GNOME">GNOME</a> uses IBus by default, so you can simply go to <i>Settings &gt; Keyboard &gt; Input Sources</i> and add a keyboard layout for the language of your choice.
</p>
<p>Some non-Latin languages (e.g. Simplified Chinese) need to enable the <i>Show Extended Input Sources</i> option in <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gnome-tweaks">GNOME Tweaks</a>.
</p>
<h3><span class="mw-headline" id="Other_desktop_environments">Other desktop environments</span></h3>
<p>To launch the IBus preferences window, you can:
</p>
<ul>
<li>Right-click on its tray icon and select <i>Preferences</i>, or</li>
<li>Find and launch the GUI application IBus Preferences, or</li>
<li>Run the command <code>ibus-setup</code> in a terminal</li>
</ul>
<p>The points of interest here are the keyboard shortcut for <i>Next input method</i> (which is the one you will want to use instead of the default shortcut provided by your desktop environment) and the <i>Input Method</i> tab where you can add or remove the different keyboard layouts (which is where you will want to do this instead of your desktop environment's default layout manager).
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Emoji_input">Emoji input</span></h3>
<p>IBus supports the input of emoji icons. Type <code>Super+.</code> and you will see the input prompt change to an underlined <u><b>e</b></u> character. You can then type the symbol or name of the emoji you want (e.g. <b>:)</b> or <b>face</b>) and press <code>Space</code> to render it. If you are satisfied with the result press <code>Enter</code> to submit it and exit emoji input mode, or press <code>Space</code> for a second time to open a dialog where you can further customize your desired emoji.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 7 ibus-emoji"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ibus-emoji.7">ibus-emoji(7)</a></span> for more information.
</p>
<h3><span class="mw-headline" id="Unicode_input">Unicode input</span></h3>
<p>IBus supports the input of complex Unicode characters. Type <code>Ctrl+Shift+u</code> and you will see the input prompt change to an underlined <u><b>u</b></u> character. You can then type the code of the Unicode character you want and press <code>Space</code> or <code>Enter</code> to render and submit it.
</p>
<h3><span class="mw-headline" id="Tray_icon_color">Tray icon color</span></h3>
<p>By default, IBus uses a dark blue color to display the language symbol of the currently active layout (e.g. <b>EN</b>). The color value is stored in a <a href="../en/GNOME.html#Configuration" title="GNOME">gsettings schema</a>, so if you wish to change it you can run the following command:
</p>
<pre>$ gsettings set org.freedesktop.ibus.panel xkb-icon-rgba 'COLOR'
</pre>
<p>The string 'COLOR' should conform to the following guidelines:
</p>
<p>The RGBA value can be
</p>
<ol>
<li>a color name from X11,</li>
<li>a hex value in form '#rrggbb' where 'r', 'g' and 'b' are hex digits of the red, green, and blue,</li>
<li>a RGB color in form 'rgb(r,g,b)' or</li>
<li>a RGBA color in form 'rgba(r,g,b,a)' where 'r', 'g', and 'b' are either integers in the range 0 to 255 or percentage values in the range 0% to 100%, and 'a' is a floating point value in the range 0 to 1 of the alpha.</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can also use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span> to edit the gsettings schema in a more user-friendly way.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This doesn’t apply to either <a href="../en/GNOME.html" title="GNOME">GNOME</a> or <a href="../en/KDE.html" title="KDE">KDE</a> with KDE Input Method Panel, because they both provide their own icons for IBus.</div>
<h3><span class="mw-headline" id="Layout_switcher_display_delay">Layout switcher display delay</span></h3>
<p>When pressing the <b>Next input method</b> hotkey, IBus displays a small dialog to signify the layout switch. By default this dialog is displayed 400ms after pressing the key, but this value can be changed by the user, with some interesting choices being '0' to display the dialog immediately without any delay, or a negative value (e.g. '-1') to switch the layouts without showing the window at all (which may be useful if you only use two layouts and simply switch from one to the other).
</p>
<p>The value is stored in a <a href="../en/GNOME.html#Configuration" title="GNOME">gsettings schema</a>, so if you wish to change it you can run the following command:
</p>
<pre>$ gsettings set org.freedesktop.ibus.general switcher-delay-time 'VALUE'
</pre>
<p>To show the currently stored value, run the following command:
</p>
<pre>$ gsettings get org.freedesktop.ibus.general switcher-delay-time
</pre>
<p>The string 'VALUE' should conform to the following guidelines:
</p>
<p>Set popup delay milliseconds to show IME switcher window. The default is 400.
</p>
<ul>
<li>0 = Show the window immediately.</li>
<li>0 &lt; Delay milliseconds.</li>
<li>0 &gt; Do not show the window and switch prev/next engines.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can also use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span> to edit the gsettings schema in a more user-friendly way.</div>
<h3><span class="mw-headline" id="Using_modifier_key_combinations_to_switch_layouts">Using modifier key combinations to switch layouts</span></h3>
<p>For some reason, the IBus preferences GUI will not let you use a subset of modifier key combinations (e.g. <code>Alt+Shift_R</code>) as the layout switching hotkey. However, IBus stores the hotkey as a string in a <a href="../en/GNOME.html#Configuration" title="GNOME">gsettings schema</a>, so you can still use such combinations by directly editing that string:
</p>
<pre>$ gsettings set org.freedesktop.ibus.general.hotkey triggers "['VALUE']"
</pre>
<p>The string <code>'VALUE'</code> should be any valid modifier key combination written in a format that IBus recognizes, e.g. <code>&lt;Alt&gt;Shift_R</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can also use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span> to edit the gsettings schema in a more user-friendly way.</div>
<h3><span class="mw-headline" id="rxvt-unicode">rxvt-unicode</span></h3>
<p>For <i>rxvt-unicode</i> to work correctly with IBus, you may need to add the following lines to <code>~/.Xresources</code>:
</p>
<pre>URxvt.inputMethod: ibus
URxvt.preeditType: OverTheSpot
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Missing_packages_due_to_pyenv">Missing packages due to pyenv</span></h3>
<p>If using <code>pyenv</code> to manage python versions and configuration, <code>ibus</code> dependencies may not be installed on the set global python version. This can happen if the global version is not the one managed by the system (to which dependencies that ibus depends on, such as <code>gi</code> are installed). This may result in a running but non-functional ibus setup (ibus is in the system tray, but preferences can not be opened, etc). One way to verify this issue is to attempt to run <code>ibus-setup</code> and see if any missing dependency errors arise.
</p>
<p>To fix this issue, change your pyenv global version to the system version:
</p>
<pre>pyenv global system
</pre>
<h3><span class="mw-headline" id="Settings_removed_after_restart">Settings removed after restart</span></h3>
<p>If you find your settings are being removed consistently after restart (input methods being reverted), you can confirm the engines set to be preloaded and the order in which they will be loaded:
</p>
<pre>$ gsettings get org.freedesktop.ibus.general preload-engines
['xkb:us::eng']
$ gsettings get org.freedesktop.ibus.general engines-order
['xkb:us::eng', 'anthy']
</pre>
<p>To ensure <code>anthy</code> gets loaded in this case, add it to the <code>org.freedesktop.ibus.preload-engines</code> list:
</p>
<pre>$ gsettings set org.freedesktop.ibus.general preload-engines "['xkb:us::eng', 'anthy']"
</pre>
<p>Changes your changes should be reflected immediately, and should persist across restarts.
</p>
<h3>
<span id="Ibus_IME_packages_only_input_keyboard.27s_native_charset"></span><span class="mw-headline" id="Ibus_IME_packages_only_input_keyboard's_native_charset">Ibus IME packages only input keyboard's native charset</span>
</h3>
<p>A possible fix is to set the GTK_IM_MODULE <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> to xim instead of ibus: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GTK_IM_MODULE=xim
QT_IM_MODULE=ibus
XMODIFIERS=@im=ibus</pre>
<h3>
<span id="Keys_.22stick.22_after_being_held_down"></span><span class="mw-headline" id='Keys_"stick"_after_being_held_down'>Keys "stick" after being held down</span>
</h3>
<p>In certain games, especially those running via Proton, keeping a key pressed for several seconds might result in that key "sticking" (continuing to be registered as pressed) until it is pressed and released again. Limited testing <a rel="nofollow" class="external autonumber" href="https://github.com/ValveSoftware/Proton/issues/5294#issuecomment-1455434318">[1]</a> has found that simply killing the IBus daemon is sufficient to resolve the issue.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://github.com/ibus/ibus">GitHub repository</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Input_methods.html" title="Category:Input methods">Input methods</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=IBus&amp;oldid=810488">https://wiki.archlinux.org/index.php?title=IBus&amp;oldid=810488</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 June 2024, at 08:30.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
