<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Mozc - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Mozc rootpage-Mozc skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Split_vs._integrated_packages" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Split_vs._integrated_packages">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Split vs. integrated packages</div>
			</a>
			
			<ul id="toc-Split_vs._integrated_packages-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_UT_Dictionary" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_UT_Dictionary">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>The UT Dictionary</div>
			</a>
			
			<ul id="toc-The_UT_Dictionary-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Summary" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Summary">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Summary</div>
			</a>
			
			<ul id="toc-Summary-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-IBus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IBus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>IBus</div>
			</a>
			
			<ul id="toc-IBus-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fcitx5" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fcitx5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Fcitx5</div>
			</a>
			
			<ul id="toc-Fcitx5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Emacs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Emacs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Emacs</div>
			</a>
			
			<ul id="toc-Emacs-sublist" class="vector-toc-list">
				<li id="toc-Disabling_XIM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disabling_XIM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Disabling XIM</div>
			</a>
			
			<ul id="toc-Disabling_XIM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Confirming_Mozc_version_which_you_are_using_now" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Confirming_Mozc_version_which_you_are_using_now">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Confirming Mozc version which you are using now</div>
			</a>
			
			<ul id="toc-Confirming_Mozc_version_which_you_are_using_now-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Launching_Mozc_tools_from_command_line" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Launching_Mozc_tools_from_command_line">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Launching Mozc tools from command line</div>
			</a>
			
			<ul id="toc-Launching_Mozc_tools_from_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Use CapsLock as Eisu_toggle key on ASCII layout keyboard</div>
			</a>
			
			<ul id="toc-Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_underlying_Japanese_keymap_on_Non-English/Non-Japanese_systems" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_underlying_Japanese_keymap_on_Non-English/Non-Japanese_systems">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Use underlying Japanese keymap on Non-English/Non-Japanese systems</div>
			</a>
			
			<ul id="toc-Use_underlying_Japanese_keymap_on_Non-English/Non-Japanese_systems-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Building_Mozc_fails_(process_is_killed)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Building_Mozc_fails_(process_is_killed)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Building Mozc fails (process is killed)</div>
			</a>
			
			<ul id="toc-Building_Mozc_fails_(process_is_killed)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_Input_Method_Framework_(not_rebooted)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_Input_Method_Framework_(not_rebooted)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>New version of Mozc does not appear though I upgraded Mozc and restarted X or Input Method Framework (not rebooted)</div>
			</a>
			
			<ul id="toc-New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_Input_Method_Framework_(not_rebooted)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mozc_server_becomes_defunct" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mozc_server_becomes_defunct">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>mozc_server becomes defunct</div>
			</a>
			
			<ul id="toc-mozc_server_becomes_defunct-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mozc_emacs_helper_not_found_in_emacs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mozc_emacs_helper_not_found_in_emacs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>mozc_emacs_helper not found in emacs</div>
			</a>
			
			<ul id="toc-mozc_emacs_helper_not_found_in_emacs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mozc_tool(s)_does_not_launch" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mozc_tool(s)_does_not_launch">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>mozc tool(s) does not launch</div>
			</a>
			
			<ul id="toc-mozc_tool(s)_does_not_launch-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Suggestion_window_is_blindingly_white_in_dark_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suggestion_window_is_blindingly_white_in_dark_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Suggestion window is blindingly white in dark mode</div>
			</a>
			
			<ul id="toc-Suggestion_window_is_blindingly_white_in_dark_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Mozc</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Mozc" title="Mozc – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>From the project's <a rel="nofollow" class="external text" href="https://github.com/google/mozc">home page</a>:
</p>
<dl><dd>
<b>Mozc</b> is a Japanese <a href="../en/Input_method.html" title="Input method">input method</a> editor (IME) designed for multi-platform such as Android OS, Apple OS X, Chromium OS, GNU/Linux and Microsoft Windows. This OpenSource project originates from <a rel="nofollow" class="external text" href="https://www.google.com/intl/ja/ime/">Google Japanese Input</a>.</dd></dl>
<p>The differences between Mozc and Google Japanese Input are described in detail at the project's <a rel="nofollow" class="external text" href="https://github.com/google/mozc/blob/master/docs/about_branding.md">About Branding</a> page, but in short, Mozc's open-source code does not include Google's extensive word conversion tables (so called "dictionaries"), so its conversion quality is not equivalent to that of Google's branded product. This can be mostly mitigated with custom dictionaries though (see below).
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Split_vs._integrated_packages">Split vs. integrated packages</span></h3>
<p>As an IME, Mozc has two distinct parts: a <b>server</b>, which does all the work of the conversion, and a set of <b>modules</b> which allow the server to communicate with the system's <a href="../en/Input_method.html#Input_method_framework" title="Input method">input method framework</a> and output the result on the screen. A separate module is required for each of <a href="../en/IBus.html" title="IBus">IBus</a>, <a href="../en/Fcitx5.html" title="Fcitx5">Fcitx5</a>, <a href="../en/Fcitx.html" title="Fcitx">Fcitx</a> and <a href="../en/Emacs.html" title="Emacs">Emacs</a>.
</p>
<p>Some Mozc packages contain only the IMF-specific modules and <b>split</b> the server into a separate <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc/">mozc</a></span><sup><small>AUR</small></sup> package; this allows for the different modules to be installed side by side, independently from the server itself (which can be useful in a multi-user setup where different users use different IMFs, or when using Emacs).
</p>
<p>Other Mozc packages forego this split and instead <b>integrate</b> the server together with the modules. This does have its advantages, but one very notable disadvantage is that it makes it impossible to install additional modules due to file conflicts (because more than one package are competing to provide the server's files).
</p>
<p>If for any reason you will be needing more than one IMF module installed at the same time, the solution is to either build the non-split packages yourself and manually resolve the file conflicts, or to only choose from among the packages that split the server from the modules.
</p>
<h3><span class="mw-headline" id="The_UT_Dictionary">The UT Dictionary</span></h3>
<p>As already mentioned, Mozc's conversion quality is not quite as good as that of Google Japanese Input because it does not include Google's extensive word conversion tables (so called "dictionaries"). A solution exists for that in the form of the <a rel="nofollow" class="external text" href="http://linuxplayers.g1.xrea.com/mozc-ut.html">UT dictionary</a>, which is a third-party dictionary that enhances Mozc's conversion quality and brings it closer to Google Japanese Input. It achieves that by including thousands of additional words aggregated from several popular online sources (based on page rankings from Google, Yahoo and Wikipedia) and also by integrating a variety of other specialized sources such as the <a rel="nofollow" class="external text" href="https://github.com/neologd/mecab-ipadic-neologd">NEologd dictionary</a>, which in the words of its creator contains <i>"neologisms (new words), which are extracted from many language resources on the Web"</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Use of the UT dictionary is optional but highly recommended.</div>
<h3><span class="mw-headline" id="Summary">Summary</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> one or more of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fcitx5-mozc-ut/">fcitx5-mozc-ut</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fcitx-mozc-ut/">fcitx-mozc-ut</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-mozc/">ibus-mozc</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/emacs-mozc/">emacs-mozc</a></span><sup><small>AUR</small></sup>.
</p>
<p>When you are asked which flavor of Mozc you wish to use, select either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc/">mozc</a></span><sup><small>AUR</small></sup> for the vanilla Mozc or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc-ut/">mozc-ut</a></span><sup><small>AUR</small></sup> for the UT-enhanced Mozc.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you wish to use the <b>integrated packages</b> you can instead install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx5-mozc">fcitx5-mozc</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-mozc">fcitx-mozc</a></span> (both of them are based on the vanilla Mozc).</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Once Mozc is installed, you may need to restart X or your input method framework before you can use it.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="IBus">IBus</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Mostly in <a href="../en/Template:Tip.html" title="Template:Tip">Template:Tip</a>, are they really <a href="../en/Help:Style.html#Notes,_Warnings,_Tips" title="Help:Style">useful but ignorable</a> in the context of this section? (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Mozc.html">Talk:Mozc</a>)</div>
</div>
<p>See <a href="../en/IBus.html" title="IBus">IBus</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> When used with IBus, by default Mozc will launch in Direct (Eisu) input mode, which can be problematic on keyboards that lack the Eisu key. To change this behavior and make Mozc launch in Hiragana input mode instead, edit <code>~/.config/mozc/ibus_config.textproto</code> and append the following line:
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mozc/ibus_config.textproto</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
}
<b>active_on_launch: True</b></pre>
<p>If that doesn't work:
</p>
<ul>
<li>Check that <code>~/.mozc/ibus_config.textproto</code> does not exist. If it does (for example because Mozc was upgraded from an older installation), it will take precedence over <code>~/.config/mozc/ibus_config.textproto</code>.</li>
<li>Run the <code>ibus write-cache; ibus restart</code> command to restart IBus.</li>
</ul>
<p>More information is available in the <a rel="nofollow" class="external text" href="https://github.com/google/mozc/blob/master/docs/configurations.md#ibus">Mozc documentation</a>.
</p>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> On <a href="../en/GNOME.html" title="GNOME">GNOME</a>, IBus is integrated with the System Settings so there is no need to run a separate app. Simply go to <i>System Settings &gt; Keyboard</i> and add the Mozc layout there. You can then disregard the following instructions.</div>
<p>Open the IBus configuration tool by running:
</p>
<pre>$ ibus-setup
</pre>
<p>In the <i>Input Method</i> tab, click on <i>Add</i>, and then search for and add the Mozc layout.
</p>
<p>You can switch to the new Mozc layout with <code>Alt+Shift_L</code> (as per the IBus default).
</p>
<h3><span class="mw-headline" id="Fcitx5">Fcitx5</span></h3>
<p>See <a href="../en/Fcitx5.html" title="Fcitx5">Fcitx5</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> On <a href="../en/KDE.html" title="KDE">KDE</a>, Fcitx5 is integrated with the System Settings so there is no need to run a separate app. Simply go to <i>System Settings &gt; Regional Settings &gt; Input Method</i>. If this option is missing, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx5-configtool">fcitx5-configtool</a></span> package.</div>
<p>Open the Fcitx5 configuration tool by running:
</p>
<pre>$ fcitx5-configtool
</pre>
<p>In the <i>Input Method</i> tab, find Mozc on the list of available layouts to the right and add it to the list of active layouts by clicking the leftward arrow. You can then switch to the Mozc layout with the standard keyboard shortcuts for switching between layouts.
</p>
<h3><span class="mw-headline" id="Emacs">Emacs</span></h3>
<p>You can use mozc.el (mozc-mode) to input Japanese via LEIM (Library of Emacs Input Method). To use mozc-mode, write the following into your <code>.emacs.d/init.el</code> or some other file for Emacs customizing:
</p>
<pre>(require 'mozc)  ; or (load-file "/path/to/mozc.el")
(setq default-input-method "japanese-mozc")
</pre>
<p>mozc.el provides "overlay" mode in the styles of showing candidates (from mozc r77) which shows a candidate window in box style close to the point. If you want to use it by default, add the following:
</p>
<pre>(setq mozc-candidate-style 'overlay)
</pre>
<p><code>C-\</code> (<i>toggle-input-method</i>) enables and disables use of mozc-mode.
</p>
<h4><span class="mw-headline" id="Disabling_XIM">Disabling XIM</span></h4>
<p>When you are using input method on your desktop and assigning activation/deactivation of input method to C-SPC, you will be not able to use C-SPC/C-@ as set-mark-command on Emacs. To avoid this problem, add the following into your <code>~/.Xresources</code> or <code>~/.Xdefaults</code>. xim will be disabled on Emacs.
</p>
<pre>Emacs*UseXIM: false
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Confirming_Mozc_version_which_you_are_using_now">Confirming Mozc version which you are using now</span></h3>
<p>Type "ばーじょん" ("version") and convert it while activating Mozc. The version number of Mozc will be shown in the candidate list like follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><u>ばーじょん</u></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">バージョン
ヴァージョン
ばーじょん
Mozc-1.6.1187.102  <i>⇐ Current version of Mozc</i>
...</pre>
<h3><span class="mw-headline" id="Launching_Mozc_tools_from_command_line">Launching Mozc tools from command line</span></h3>
<p>The followings are commands to launch Mozc tools: 
</p>
<ul>
<li>Mozc Settings: <code>/usr/lib/mozc/mozc_tool --mode=config_dialog</code>
</li>
<li>Mozc Dictionary Tool: <code>/usr/lib/mozc/mozc_tool --mode=dictionary_tool</code>
</li>
<li>Mozc Word Register: <code>/usr/lib/mozc/mozc_tool --mode=word_register_dialog</code>
</li>
</ul>
<h3><span class="mw-headline" id="Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard">Use CapsLock as Eisu_toggle key on ASCII layout keyboard</span></h3>
<p>In all of the preset keymap styles of Mozc, the command <i>Toggle alphanumeric mode</i> on <i>Composition</i> mode is assigned to the <code>Eisu</code> (Eisu_toggle), <code>Hiragana/Katakana</code> or <code>Muhenkan</code> key, but the ASCII keyboard has none of them.
</p>
<p>One solution for it is to use Caps Lock key as Eisu_toggle (Mozc does not recognize the Caps Lock key as of r124). The following is a way to assign Eisu_toggle to <code>Caps Lock</code> (without any modifier keys) and Caps_Lock to <code>Shift+CapsLock</code>, as on the OADG keyboard layout.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This will affect all applications.</div>
<p>Edit <code>~/.Xmodmap</code> as follows:
</p>
<pre>keycode 66 = Eisu_toggle Caps_Lock
clear Lock
</pre>
<p>Then, restart X or run <i>xmodmap</i> to apply the changes immediately:
</p>
<pre>$ xmodmap ~/.Xmodmap
</pre>
<h3>
<span id="Use_underlying_Japanese_keymap_on_Non-English.2FNon-Japanese_systems"></span><span class="mw-headline" id="Use_underlying_Japanese_keymap_on_Non-English/Non-Japanese_systems">Use underlying Japanese keymap on Non-English/Non-Japanese systems</span>
</h3>
<p>If you are primarily using a Non-English or Non-Japanese system with a keyboard layout different than QWERTY (e.g. German) and only want to use Japanese as a secondary input language, the key mapping might be based on this <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/mozc/+bug/1958492">main keyboard language</a>. This might be odd, especially if migrating from Windows or MacOS or directly from a Japanese computer.
</p>
<p>To change the underlying keyboard layout on Ibus, change the default keymap in <code>~/.config/mozc/ibus_config.textproto</code> by setting the <code>layout</code> key to Japanese (or some other keyboard with QWERTY):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mozc/ibus_config.textproto</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">engines {
...
  layout : "jp"
...
}</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Building_Mozc_fails_.28process_is_killed.29"></span><span class="mw-headline" id="Building_Mozc_fails_(process_is_killed)">Building Mozc fails (process is killed)</span>
</h3>
<p>If the build process fails with an error message like the following:
</p>
<pre>...
/bin/sh: line 1:  xxxx killed
...
make: *** [xxx/xxx...] error 137
...
</pre>
<p>Make sure you have not run out of memory.
</p>
<h3>
<span id="New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_Input_Method_Framework_.28not_rebooted.29"></span><span class="mw-headline" id="New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_Input_Method_Framework_(not_rebooted)">New version of Mozc does not appear though I upgraded Mozc and restarted X or Input Method Framework (not rebooted)</span>
</h3>
<p>The old version of Mozc may be still on your memory. Try to kill the existing <i>mozc_server</i> process:
</p>
<pre>$ killall mozc_server
</pre>
<h3><span class="mw-headline" id="mozc_server_becomes_defunct">mozc_server becomes defunct</span></h3>
<p>Mozc cannot run in root. Start X in normal user.
</p>
<h3><span class="mw-headline" id="mozc_emacs_helper_not_found_in_emacs">mozc_emacs_helper not found in emacs</span></h3>
<p>When installing mozc.el you need to install a helper program called <code>mozc_emacs_helper</code>.
</p>
<p>You need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/emacs-mozc/">emacs-mozc</a></span><sup><small>AUR</small></sup> for this helper program.
</p>
<h3>
<span id="mozc_tool.28s.29_does_not_launch"></span><span class="mw-headline" id="mozc_tool(s)_does_not_launch">mozc tool(s) does not launch</span>
</h3>
<p>It is also possible to launch Mozc tools with log sent directly to console, which is useful for debugging. To enable this, simply append <code>--logtostderr</code> like this for example:
</p>
<pre><code>$ /usr/lib/mozc/mozc_tool --mode=config_dialog --logtostderr</code>
</pre>
<p><a rel="nofollow" class="external text" href="https://github.com/google/mozc/issues/438">See also</a>
</p>
<h3><span class="mw-headline" id="Suggestion_window_is_blindingly_white_in_dark_mode">Suggestion window is blindingly white in dark mode</span></h3>
<p>Use the following <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>: 
</p>
<pre>MOZC_IBUS_CANDIDATE_WINDOW=ibus
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Input_methods.html" title="Category:Input methods">Input methods</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mozc&amp;oldid=809463">https://wiki.archlinux.org/index.php?title=Mozc&amp;oldid=809463</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 27 May 2024, at 15:22.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
