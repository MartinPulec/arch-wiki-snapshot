<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Grommunio - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Grommunio rootpage-Grommunio skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Overview" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Overview">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Overview</div>
			</a>
			
			<ul id="toc-Overview-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Packages" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Packages">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Packages</div>
			</a>
			
			<ul id="toc-Packages-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-General_information" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#General_information">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>General information</div>
			</a>
			
			<ul id="toc-General_information-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Database" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Database">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Database</div>
			</a>
			
			<ul id="toc-Database-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-event_/_timer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#event_/_timer">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>event / timer</div>
			</a>
			
			<ul id="toc-event_/_timer-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Grommunio</span></h1>
				</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p><br>
<a rel="nofollow" class="external text" href="https://grommunio.com">Grommunio</a> is a digital communication and collaboration software suite. It is build up from a set of different components.<br><br>
</p>
<p>This guide will guide through the  basic installation and configuration of the different components to get a working setup.<br><br>
</p>
<p>It tries to fill some gaps, that made the initial start quite difficult and explains which component is working together with other ones.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>This chapter will guide through the basic installation of the required packages. It will give a rough overview on what we want to achieve and how to get there.
</p>
<h3><span class="mw-headline" id="Overview">Overview</span></h3>
<p>We assume that we want to have a single node server, that will host all the components we need.<br>
<br>
For this we assume that the server has a mta setup and configured (ae. <a href="../en/Postfix.html" title="Postfix">postfix</a>) and further a working mysql database (ae. <a href="../en/MariaDB.html" class="mw-redirect" title="Mariadb">mariadb</a>)<br>
<br>
Optional there should be a directory server (<a href="../en/OpenLDAP.html" title="OpenLDAP">openldap</a> or <a href="../en/Samba.html" title="Samba">ActiveDirectory</a>) available. This is not needed to follow this guide but highly recommended to get a complete picture.
</p>
<h3><span class="mw-headline" id="Packages">Packages</span></h3>
<p>This is an list of the grommunio packages that needs to.be <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a>:
</p>
<table class="wikitable">
<caption>Package list
</caption>
<tbody>
<tr>
<th>Package</th>
<th>Description
</th>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vmime/">vmime</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>C++ library for working with RFC-822 and MIME messages
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vmime-libonly/">vmime-libonly</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>C++ library for working with RFC-822 and MIME messages. <b>This one just containes the so files and can be used to install parallel with other ones (ae. Kopano libvmime) to help with migration and / or simultaneous installations</b>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libexmdbpp/">libexmdbpp</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>C++ implementation of the exmdb wire protocol
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-mapi-headers/">grommunio-mapi-headers</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>PHP mapi headers used in various applications
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gromox/">gromox</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Central groupware server component
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-sync/">grommunio-sync</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>ActiveSync synchronisation service
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-web/">grommunio-web</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Web application for users
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-admin-api/">grommunio-admin-api</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Central administration API component
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-admin-web/">grommunio-admin-web</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Web application for administrators
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-configs/">grommunio-configs</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Basic set of configuration files for nginx
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-admin-configs/">grommunio-admin-configs</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Basic set of configuration files for nginx (admin part)
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grommunio-index/">grommunio-index</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</td>
<td>Indexing service for the web application
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>This chapter will guide through the initial configuration to get everything up and running.<br>
<br>
It is highly recommended to read / follow the <a rel="nofollow" class="external text" href="https://docs.grommunio.com/admin/manual_core.html">official guide</a> along which is the basis for all the tasks that are following.
</p>
<h3><span class="mw-headline" id="General_information">General information</span></h3>
<p>There will be multiple system user accounts created and used that will separate the needed permissions regarding their needs.<br>
<br>
This will be described in more detail during this guide, but for now the following explanation should give a rough overview.
</p>
<table class="wikitable">
<caption>Users / Groups
</caption>
<tbody>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description
</th>
</tr>
<tr>
<td>grommunio</td>
<td>User</td>
<td>Administration API user
</td>
</tr>
<tr>
<td>gromox</td>
<td>User</td>
<td>Service user for the core services
</td>
</tr>
<tr>
<td>gromoxcf</td>
<td>Group</td>
<td>Group that can read core config files
</td>
</tr>
<tr>
<td>gromoxss</td>
<td>Group</td>
<td>Group that can access shared resources (in this case zcore socket)
</td>
</tr>
</tbody>
</table>
<p>There are more users / groups used by single services to separate and limit the access to the minimum needed ones. Further some users (like http used by nginx) will be added to some groups to be able to access the needed resources (ae. php-fpm sockets).
</p>
<h3><span class="mw-headline" id="Database">Database</span></h3>
<p>The first step is to create a database and a user for grommunio and adjust the configuration file. Therefore connect to your database and create a db and user for your setup. The following example is using mariadb as backend.
</p>
<pre>$ mariadb -u root -p
$ CREATE DATABASE `grommuniodb`;
$ GRANT ALL ON `grommuniodb`.* TO 'grommunio'@'localhost' IDENTIFIED BY 'super-secrect-password';
$ FLUSH PRIVILEGES;
$ quit;
</pre>
<p>After creating the user, we'll edit the file mysql_adaptor.cfg from the gromox package and change the values to our db ones.
</p>
<pre>$ vim /etc/gromox/mysql_adaptor.cfg
</pre>
<pre>mysql_username=grommunio
mysql_password=super-secret-password
mysql_dbname=grommuniodb
schema_upgrade=host:your.mailserver.dom
</pre>
<p>The schema_upgrade is not required for a single node setup. It is only needed to have one master updating database schema and tell the nodes which one is in charge.
</p>
<p>The next step is to create the initial tables by issuing the gromox-dbop command:
</p>
<pre>$ gromox-dbop -C
dbop: Creating admin_roles
dbop: Creating associations
dbop: Creating configs
dbop: Creating domains
dbop: Creating forwards
dbop: Creating groups
dbop: Creating options
dbop: Creating orgs
dbop: Creating specifieds
dbop: Creating users
dbop: Creating aliases
dbop: Creating mlists
dbop: Creating user_properties
dbop: Creating admin_role_permission_relation
dbop: Creating admin_user_role_relation
dbop: Creating classes
dbop: Creating fetchmail
dbop: Creating secondary_store_hints
dbop: Creating user_devices
dbop: Creating user_device_history
dbop: Creating task_queue
dbop: Creating servers
dbop: Creating orgparam
dbop: Creating altnames
</pre>
<h3>
<span id="event_.2F_timer"></span><span class="mw-headline" id="event_/_timer">event / timer</span>
</h3>
<p>gromox-event is a notification daemon for an interprocess channel between gromox-imap/gromox-midb. The config file is '/etc/gromox/timer.cfg' and just contains the state path adopted to my setup:
</p>
<pre>timer_state_path=/var/lib/grommunio/gromox/timer.txt
</pre>
<p>gromox-timer is an at(1)/atd(8)-like daemon for delayed delivery. There is no explicit configuration delivered for this service.
</p>
<p>The timer service listens on port 6666 and the event service on port 33333.
</p>
<p>For all possible configuration directives you can refer to their man pages: <a rel="nofollow" class="external text" href="https://docs.grommunio.com/man/event.8gx.html">event</a> and <a rel="nofollow" class="external text" href="https://docs.grommunio.com/man/timer.8gx.html">timer</a>
</p>
<p>Now we enable and start these services:
</p>
<pre>$ systemctl enable --now gromox-event
$ systemctl enable --now gromox-timer
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Groupware.html" title="Category:Groupware">Groupware</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Grommunio&amp;oldid=804826">https://wiki.archlinux.org/index.php?title=Grommunio&amp;oldid=804826</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 March 2024, at 08:33.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
