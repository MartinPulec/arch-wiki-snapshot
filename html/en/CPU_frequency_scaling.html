<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>CPU frequency scaling - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CPU_frequency_scaling rootpage-CPU_frequency_scaling skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Userspace_tools" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Userspace_tools">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Userspace tools</div>
		</a>
		
			<button aria-controls="toc-Userspace_tools-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Userspace tools subsection</span>
			</button>
		
		<ul id="toc-Userspace_tools-sublist" class="vector-toc-list">
			<li id="toc-i7z" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#i7z">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>i7z</div>
			</a>
			
			<ul id="toc-i7z-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-turbostat" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#turbostat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>turbostat</div>
			</a>
			
			<ul id="toc-turbostat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-cpupower" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#cpupower">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>cpupower</div>
			</a>
			
			<ul id="toc-cpupower-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-thermald" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#thermald">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>thermald</div>
			</a>
			
			<ul id="toc-thermald-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-power-profiles-daemon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#power-profiles-daemon">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>power-profiles-daemon</div>
			</a>
			
			<ul id="toc-power-profiles-daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-tuned" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#tuned">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6</span>tuned</div>
			</a>
			
			<ul id="toc-tuned-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-cpupower-gui" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#cpupower-gui">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.7</span>cpupower-gui</div>
			</a>
			
			<ul id="toc-cpupower-gui-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gnome-shell-extension-cpupower" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gnome-shell-extension-cpupower">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.8</span>gnome-shell-extension-cpupower</div>
			</a>
			
			<ul id="toc-gnome-shell-extension-cpupower-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-auto-cpufreq" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#auto-cpufreq">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.9</span>auto-cpufreq</div>
			</a>
			
			<ul id="toc-auto-cpufreq-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Scaling_drivers" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Scaling_drivers">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Scaling drivers</div>
		</a>
		
			<button aria-controls="toc-Scaling_drivers-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Scaling drivers subsection</span>
			</button>
		
		<ul id="toc-Scaling_drivers-sublist" class="vector-toc-list">
			<li id="toc-Setting_maximum_and_minimum_frequencies" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_maximum_and_minimum_frequencies">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Setting maximum and minimum frequencies</div>
			</a>
			
			<ul id="toc-Setting_maximum_and_minimum_frequencies-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuring_frequency_boosting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuring_frequency_boosting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Configuring frequency boosting</div>
			</a>
			
			<ul id="toc-Configuring_frequency_boosting-sublist" class="vector-toc-list">
				<li id="toc-Setting_via_sysfs_(intel_pstate)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Setting_via_sysfs_(intel_pstate)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Setting via sysfs (intel_pstate)</div>
			</a>
			
			<ul id="toc-Setting_via_sysfs_(intel_pstate)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_via_sysfs_(other_scaling_drivers)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Setting_via_sysfs_(other_scaling_drivers)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Setting via sysfs (other scaling drivers)</div>
			</a>
			
			<ul id="toc-Setting_via_sysfs_(other_scaling_drivers)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_via_x86_energy_perf_policy" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Setting_via_x86_energy_perf_policy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.3</span>Setting via x86_energy_perf_policy</div>
			</a>
			
			<ul id="toc-Setting_via_x86_energy_perf_policy-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-amd_pstate" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#amd_pstate">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>amd_pstate</div>
			</a>
			
			<ul id="toc-amd_pstate-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Scaling_governors" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Scaling_governors">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Scaling governors</div>
		</a>
		
			<button aria-controls="toc-Scaling_governors-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Scaling governors subsection</span>
			</button>
		
		<ul id="toc-Scaling_governors-sublist" class="vector-toc-list">
			<li id="toc-Tuning_the_ondemand_governor" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tuning_the_ondemand_governor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Tuning the ondemand governor</div>
			</a>
			
			<ul id="toc-Tuning_the_ondemand_governor-sublist" class="vector-toc-list">
				<li id="toc-Switching_threshold" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Switching_threshold">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Switching threshold</div>
			</a>
			
			<ul id="toc-Switching_threshold-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sampling_rate" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sampling_rate">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>Sampling rate</div>
			</a>
			
			<ul id="toc-Sampling_rate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Make_changes_permanent" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Make_changes_permanent">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>Make changes permanent</div>
			</a>
			
			<ul id="toc-Make_changes_permanent-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Autonomous_frequency_scaling" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Autonomous_frequency_scaling">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Autonomous frequency scaling</div>
		</a>
		
			<button aria-controls="toc-Autonomous_frequency_scaling-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Autonomous frequency scaling subsection</span>
			</button>
		
		<ul id="toc-Autonomous_frequency_scaling-sublist" class="vector-toc-list">
			<li id="toc-Intel_active,_non-HWP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Intel_active,_non-HWP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Intel active, non-HWP</div>
			</a>
			
			<ul id="toc-Intel_active,_non-HWP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_the_EPP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_the_EPP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Setting the EPP</div>
			</a>
			
			<ul id="toc-Setting_the_EPP-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Collaborative_processor_performance_control" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Collaborative_processor_performance_control">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Collaborative processor performance control</div>
		</a>
		
		<ul id="toc-Collaborative_processor_performance_control-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Intel_performance_and_energy_bias_hint" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Intel_performance_and_energy_bias_hint">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Intel performance and energy bias hint</div>
		</a>
		
			<button aria-controls="toc-Intel_performance_and_energy_bias_hint-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Intel performance and energy bias hint subsection</span>
			</button>
		
		<ul id="toc-Intel_performance_and_energy_bias_hint-sublist" class="vector-toc-list">
			<li id="toc-Setting_via_sysfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_via_sysfs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Setting via sysfs</div>
			</a>
			
			<ul id="toc-Setting_via_sysfs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_via_x86_energy_perf_policy_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_via_x86_energy_perf_policy_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Setting via x86_energy_perf_policy</div>
			</a>
			
			<ul id="toc-Setting_via_x86_energy_perf_policy_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_via_cpupower" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_via_cpupower">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Setting via cpupower</div>
			</a>
			
			<ul id="toc-Setting_via_cpupower-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Interaction_with_ACPI_events" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Interaction_with_ACPI_events">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Interaction with ACPI events</div>
		</a>
		
		<ul id="toc-Interaction_with_ACPI_events-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-BIOS_frequency_limitation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_frequency_limitation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>BIOS frequency limitation</div>
			</a>
			
			<ul id="toc-BIOS_frequency_limitation-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">CPU frequency scaling</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Cpufrequtils" title="Cpufrequtils – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/CPU_frequency_scaling.html" title="CPU frequency scaling – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/CPU_%E5%91%A8%E6%B3%A2%E6%95%B0%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0" title="CPU 周波数スケーリング – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/CPU_frequency_scaling.html" title="CPU frequency scaling – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/CPU_frequency_scaling" title="CPU frequency scaling – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Power_management.html" class="mw-redirect" title="Power saving">Power saving</a></li>
<li><a href="../en/Laptop_Mode_Tools.html" title="Laptop Mode Tools">Laptop Mode Tools</a></li>
<li><a href="../en/Undervolting_CPU.html" title="Undervolting CPU">Undervolting CPU</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/cpufreq.html">CPU performance scaling</a> enables the operating system to scale the CPU frequency up or down in order to save power or improve performance. Scaling can be done automatically in response to system load, adjust itself in response to ACPI events, or be manually changed by user space programs.
</p>
<p>The Linux kernel offers CPU performance scaling via the <i>CPUFreq</i> subsystem, which defines two layers of abstraction:
</p>
<ul>
<li>
<a href="#Scaling_governors">Scaling governors</a> implement the algorithms to compute the desired CPU frequency, potentially based off of the system's needs.</li>
<li>
<a href="#Scaling_drivers">Scaling drivers</a> interact with the CPU directly, enacting the desired frequencies that the current governor is requesting.</li>
</ul>
<p>A default scaling driver and governor are selected automatically, but userspace tools like <a href="#cpupower">cpupower</a>, <a href="../en/Acpid.html" title="Acpid">acpid</a>, <a href="../en/Laptop_Mode_Tools.html" title="Laptop Mode Tools">Laptop Mode Tools</a>, or GUI tools provided for your desktop environment, may still be used for advanced configuration.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Userspace_tools">Userspace tools</span></h2>
<h3><span class="mw-headline" id="i7z">i7z</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=i7z">i7z</a></span> is an i7 (and now i3, i5, i7, i9) CPU reporting tool for Linux. It can be launched from a Terminal with the command <code>i7z</code> or as GUI with <code>i7z-gui</code>.
</p>
<h3><span class="mw-headline" id="turbostat">turbostat</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=turbostat">turbostat</a></span> can display the frequency, power consumption, idle status and other statistics of the modern Intel and AMD CPUs.
</p>
<h3><span class="mw-headline" id="cpupower">cpupower</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cpupower">cpupower</a></span> is a set of userspace utilities designed to assist with CPU frequency scaling. The package is not required to use scaling, but is highly recommended because it provides useful command-line utilities and a <a href="../en/Systemd.html" title="Systemd">systemd</a> service to change the governor at boot.
</p>
<p>The configuration file for <i>cpupower</i> is located in <code>/etc/default/cpupower</code>. This configuration file is read by a bash script in <code>/usr/lib/systemd/scripts/cpupower</code> which is activated by <i>systemd</i> with <code>cpupower.service</code>. You may want to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>cpupower.service</code> to start at boot.
</p>
<h3><span class="mw-headline" id="thermald">thermald</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=thermald">thermald</a></span> is a <a rel="nofollow" class="external text" href="https://github.com/intel/thermal_daemon">Linux daemon</a> used to prevent the overheating of Intel CPUs. This daemon proactively controls thermal parameters using P-states, T-states, and the Intel power clamp driver. thermald can also be used for older Intel CPUs. If the latest drivers are not available, then the daemon will revert to x86 model specific registers and the Linux "cpufreq subsystem" to control system cooling.
</p>
<p>By default, it monitors CPU temperature using available CPU digital temperature sensors and maintains CPU temperature under control, before hardware takes aggressive correction action. If there is a skin temperature sensor in thermal sysfs, then it tries to keep skin temperature under 45C.
</p>
<p>On Tiger Lake laptops (e.g. <a href="../en/Dell_Latitude_3420.html" title="Dell Latitude 3420">Dell Latitude 3420</a>), this daemon has been reported as <a rel="nofollow" class="external text" href="https://www.phoronix.com/review/intel-thermald-tgl">unlocking more performance</a> than what would be otherwise available. 
</p>
<p>The associated systemd unit is <code>thermald.service</code>, which should be <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">started</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enabled</a>. See <span class="plainlinks archwiki-template-man" title="$ man 8 thermald"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/thermald.8">thermald(8)</a></span> for more information.
</p>
<h3><span class="mw-headline" id="power-profiles-daemon">power-profiles-daemon</span></h3>
<p>The <i>powerprofilesctl</i> command-line tool from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span> handles power profiles (e.g. balanced, power-saver, performance) through the <code>power-profiles-daemon</code> service. GNOME and KDE also provide <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/upower/power-profiles-daemon#how-to-use">graphical interfaces</a> for profile switching; see the following:
</p>
<ul>
<li><a href="../en/GNOME.html#Power_modes" title="GNOME">GNOME#Power modes</a></li>
<li><a href="../en/KDE.html#Power_management" title="KDE">KDE#Power management</a></li>
</ul>
<p>See the <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/upower/power-profiles-daemon#power-profiles-daemon">project's README</a> for more information on usage, use cases, and comparisons with similar projects.
</p>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> the <code>power-profiles-daemon</code> service. Note that when <i>powerprofilesctl</i> is launched, it also attempts to start the service (see the <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Unit status">unit status</a> of <code>dbus.service</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<i>power-profiles-daemon</i> <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/upower/power-profiles-daemon/-/blob/main/data/power-profiles-daemon.service.in#L3">conflicts</a> with other power management services such as <a href="../en/TLP.html" title="TLP">TLP</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuned/">tuned</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup>. To use one of the aforementioned services instead without <a href="../en/Pacman.html#Removing_packages" class="mw-redirect" title="Uninstall">uninstalling</a> <i>power-profiles-daemon</i> (due to its potential status as a dependency), disable the <code>power-profiles-daemon</code> service by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Mask">masking</a> it (see also <a rel="nofollow" class="external autonumber" href="https://github.com/linrunner/TLP/issues/564">[1]</a>, <a rel="nofollow" class="external autonumber" href="https://linrunner.de/tlp/installation/arch.html#service-units">[2]</a>).</li>
<li>
<a href="#tuned">tuned</a> now offers a <i>tuned-ppd</i> service compatibility layer for <i>power-prfiles-daemon</i> since version 2.23.0.</li>
</ul>
</div>
<h3><span class="mw-headline" id="tuned">tuned</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuned/">tuned</a></span><sup><small>AUR</small></sup> is a daemon for monitoring and adaptive tuning of system devices, written by the same team as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span>. tuned, however, does more in addition with the same tasks as power-profiles-daemon. It can configure GPU power modes, PCIe power management, set sysctl settings, adjust kernel scheduling and more; a daemon that also configures out aspects of power management in the system.
</p>
<p>As of <a rel="nofollow" class="external text" href="https://github.com/redhat-performance/tuned/releases/tag/v2.23.0#tuned">release 2.23.0</a>, the project ships with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuned-ppd/">tuned-ppd</a></span><sup><small>AUR</small></sup>, a compatibility layer for programs written for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span>, such as the following:
</p>
<ul>
<li><a href="../en/GNOME.html#Power_modes" title="GNOME">GNOME#Power modes</a></li>
<li><a href="../en/KDE.html#Power_management" title="KDE">KDE#Power management</a></li>
</ul>
<p>For reasons for the use of tuned over tuned over power-profiles-daemon, <a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Changes/TunedAsTheDefaultPowerProfileManagementDaemon#Make_Tuned_the_Default_Power_Profile_Management_Daemon#see">the proposal</a> for Fedora to replace power-profiles-daemon with tuned.
</p>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> the <code>tuned</code> daemon service. For power-profiles-daemon compatibility, also <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> the <code>tuned-ppd</code> service. To control tuned from the command line, use <code>tuned-adm</code> to view, set, and recommend profiles.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>tuned-ppd</i> is configured at <code>/etc/tuned/ppd.conf</code>. To set which <i>tuned</i> profile is used whenever a program selects a <i>power-profiles-daemon</i> profile, edit the file, which includes all the power-profiles-daemon modes and battery detection.</div>
<h3><span class="mw-headline" id="cpupower-gui">cpupower-gui</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cpupower-gui-git/">cpupower-gui-git</a></span><sup><small>AUR</small></sup> is a graphical utility designed to assist with CPU frequency scaling. The GUI is based on <a href="../en/GTK.html" title="GTK">GTK</a> and is meant to provide the same options as <i>cpupower</i>. <i>cpupower-gui</i> can enable or disable cores and change the maximum/minimum CPU frequency and governor for each core. The application handles privilege granting through <a href="../en/Polkit.html" title="Polkit">polkit</a> and allows any logged-in user in the <code>wheel</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> to change the frequency and governor. See <a rel="nofollow" class="external text" href="https://github.com/vagnum08/cpupower-gui?tab=readme-ov-file#systemd-units">cpupower-gui systemd units</a> for more information on <code>cpupower-gui.service</code> and <code>cpupower-gui-user.service</code>.
</p>
<h3><span class="mw-headline" id="gnome-shell-extension-cpupower">gnome-shell-extension-cpupower</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-shell-extension-cpupower-git/">gnome-shell-extension-cpupower-git</a></span><sup><small>AUR</small></sup> is a <a href="../en/GNOME.html" title="GNOME">GNOME</a> shell extension that can alter minimum/maximum CPU frequencies and enable/disable frequency boosting.
</p>
<h3><span class="mw-headline" id="auto-cpufreq">auto-cpufreq</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/auto-cpufreq/">auto-cpufreq</a></span><sup><small>AUR</small></sup> is an automatic CPU speed and power optimizer for Linux based on active monitoring of laptop's battery state, CPU usage, CPU temperature and system load.
</p>
<h2><span class="mw-headline" id="Scaling_drivers">Scaling drivers</span></h2>
<p>Scaling drivers implement the CPU-specific details of setting frequencies specified by the governor. Strictly speaking, the ACPI standard requires <a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface#Performance_state" class="extiw" title="wikipedia:Advanced Configuration and Power Interface">power-performance states (P-states)</a> that start at P0, and becoming decreasingly performant. This functionality is called SpeedStep on Intel, and PowerNow! on AMD.
</p>
<p>In practice, though, processors provide methods for specifying specific frequencies rather than being restricted to fixed P-states, which the scaling drivers handle.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The native CPU module is loaded automatically.</li>
<li>The <code>intel_pstate</code> CPU power scaling driver is used automatically for modern Intel CPUs instead of the other drivers below. This driver takes priority over other drivers and is built-in as opposed to being a module. This driver is currently automatically used for Sandy Bridge and newer CPUs. <code>intel_pstate</code> may run in "passive mode" via the <code>intel_cpufreq</code> driver for older CPUs. If you encounter a problem while using this driver, add <code>intel_pstate=disable</code> to your kernel line in order to revert to using the <code>acpi_cpufreq</code> driver.</li>
<li>The <code>amd_pstate</code> CPU power scaling driver is not active by default, but can be manually enabled when using a supported CPU (Zen 2 and newer) by adding <code>amd_pstate=passive</code>, <code>amd_pstate=active</code> or <code>amd_pstate=guided</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>. Some motherboards might not enable the required setting in their firmware, leading to a <code>the _CPC object is not present in SBIOS or ACPI disabled</code> error. Change <i>Enable CPPC</i> , usually found in the <i>AMD CBS &gt; NBIO &gt; SMU &gt; CPPC</i>, from <i>Auto</i> to <i>Enabled</i>, or any similar settings in your UEFI. If they are not present, consult the vendor website for an update.</li>
</ul>
</div>
<p><i>cpupower</i> requires drivers to know the limits of the native CPU:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Driver</th>
<th>Description
</th>
</tr>
<tr>
<td>intel_pstate</td>
<td>This driver implements a scaling driver with an internal governor for Intel Core (Sandy Bridge and newer) processors.
</td>
</tr>
<tr>
<td>amd_pstate_epp</td>
<td>This "active" driver implements a scaling driver with an internal governor for AMD Ryzen (some Zen 2 and newer) processors.
</td>
</tr>
<tr>
<td>acpi_cpufreq</td>
<td>CPUFreq driver which utilizes the ACPI Processor Performance States. This driver also supports the Intel Enhanced SpeedStep (previously supported by the deprecated speedstep-centrino module). For AMD Ryzen it only provides 3 frequency states.
</td>
</tr>
<tr>
<td>intel_cpufreq</td>
<td>Starting with kernel 5.7, the intel_pstate scaling driver selects "passive mode" aka intel_cpufreq for CPUs that do not support hardware-managed P-states (HWP), i.e. Intel Core i 5th generation or older. This "passive" driver acts similar to the ACPI driver on Intel CPUs, except that it does not have the 16-pstate limit of ACPI.
</td>
</tr>
<tr>
<td>amd_pstate</td>
<td>This driver has three modes corresponding to different degrees of autonomy from the CPU hardware. The active mode implements its own pseudo-governors. The guided mode lets the governor instruct the processor to pick from a range of frequencies. The passive mode simply sets the frequency; the main advantage over the ACPI driver is that the whole range of frequencies can be used, as opposed to just three choices.
</td>
</tr>
<tr>
<td>cppc_cpufreq</td>
<td>CPUFreq driver based on ACPI CPPC system (see below). Common default on AArch64 systems. Works on modern x86 too, but the two vendor-specific options above are better.
</td>
</tr>
<tr>
<td>speedstep_lib</td>
<td>CPUFreq driver for Intel SpeedStep-enabled processors (mostly Atoms and older Pentiums)
</td>
</tr>
<tr>
<td>powernow_k8</td>
<td>CPUFreq driver for K8/K10 Athlon 64/Opteron/Phenom processors. Since Linux 3.7, 'acpi_cpufreq' will automatically be used for more modern AMD CPUs.
</td>
</tr>
<tr>
<td>pcc_cpufreq</td>
<td>This driver supports Processor Clocking Control interface by Hewlett-Packard and Microsoft Corporation which is useful on some ProLiant servers.
</td>
</tr>
<tr>
<td>p4_clockmod</td>
<td>CPUFreq driver for Intel Pentium 4/Xeon/Celeron processors which lowers the CPU temperature by skipping clocks. (You probably want to use <code>speedstep_lib</code> instead.)
</td>
</tr>
</tbody>
</table>
<p>To see a full list of available modules, run:
</p>
<pre>$ ls /usr/lib/modules/$(uname -r)/kernel/drivers/cpufreq/
</pre>
<p>Load the appropriate module (see <a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a> for details). Once the appropriate cpufreq driver is loaded, detailed information about the CPU(s) can be displayed by running
</p>
<pre>$ cpupower frequency-info
</pre>
<h3><span class="mw-headline" id="Setting_maximum_and_minimum_frequencies">Setting maximum and minimum frequencies</span></h3>
<p>In some cases, it may be necessary to manually set maximum and minimum frequencies.
</p>
<p>To set the maximum clock frequency (<code><i>clock_freq</i></code> is a clock frequency with units: GHz, MHz):
</p>
<pre># cpupower frequency-set -u <i>clock_freq</i>
</pre>
<p>To set the minimum clock frequency:
</p>
<pre># cpupower frequency-set -d <i>clock_freq</i>
</pre>
<p>To set the CPU to run at a specified frequency:
</p>
<pre># cpupower frequency-set -f <i>clock_freq</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>To adjust for only a single CPU core, append <code>-c <i>core_number</i></code>.</li>
<li>The governor, maximum and minimum frequencies can be set in <code>/etc/default/cpupower</code>.</li>
</ul>
</div>
<p>Alternatively, you can set the frequency manually:
</p>
<pre># echo <i>value</i> | tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_max_freq
</pre>
<p>The available values can be found in <code>/sys/devices/system/cpu/cpu*/cpufreq/scaling_available_frequencies</code> or similar. <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20201029114421/https://software.intel.com/sites/default/files/comment/1716807/how-to-change-frequency-on-linux-pub.txt">[3]</a>
</p>
<h3><span class="mw-headline" id="Configuring_frequency_boosting">Configuring frequency boosting</span></h3>
<p>Some processors support raising their frequency above the normal maximum for a short burst of time, under appropriate thermal conditions. On Intel processors, this is called <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost" class="extiw" title="wikipedia:Intel Turbo Boost">Turbo Boost</a>, and on AMD processors this is called <a href="https://en.wikipedia.org/wiki/AMD_Turbo_Core" class="extiw" title="wikipedia:AMD Turbo Core">Turbo-Core</a>.
</p>
<h4>
<span id="Setting_via_sysfs_.28intel_pstate.29"></span><span class="mw-headline" id="Setting_via_sysfs_(intel_pstate)">Setting via sysfs (intel_pstate)</span>
</h4>
<p>intel_pstate has a driver-specific interface for prohibiting the processor from entering turbo P-States:
</p>
<pre># echo 1 &gt; /sys/devices/system/cpu/intel_pstate/no_turbo
</pre>
<h4>
<span id="Setting_via_sysfs_.28other_scaling_drivers.29"></span><span class="mw-headline" id="Setting_via_sysfs_(other_scaling_drivers)">Setting via sysfs (other scaling drivers)</span>
</h4>
<p>For scaling drivers other than <code>intel_pstate</code>, if the driver supports boosting, the <code>/sys/devices/system/cpu/cpufreq/boost</code> attribute will be present, and can be used to disable/enable boosting. 
</p>
<p>To disable boosting, run:
</p>
<pre># echo 0 &gt; /sys/devices/system/cpu/cpufreq/boost
</pre>
<p>To enable boosting, run:
</p>
<pre># echo 1 &gt; /sys/devices/system/cpu/cpufreq/boost
</pre>
<h4><span class="mw-headline" id="Setting_via_x86_energy_perf_policy">Setting via x86_energy_perf_policy</span></h4>
<p>On Intel processors, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x86_energy_perf_policy">x86_energy_perf_policy</a></span> can also be used to configure Turbo Boost:
</p>
<pre># x86_energy_perf_policy --turbo-enable 0
</pre>
<h3><span class="mw-headline" id="amd_pstate">amd_pstate</span></h3>
<p><code>amd_pstate</code> has three operation modes: CPPC autonomous (active) mode, CPPC non-autonomous (passive) mode and CPPC guided autonomous (guided) mode. The active/passive/guided mode can be chosen with the <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a> <code>amd_pstate=active</code>,<code>amd_pstate=passive</code> or <code>amd_pstate=guided</code>.
</p>
<dl>
<dt>Active mode</dt>
<dd>The <code>active</code> mode is implemented by <code>amd_pstate_epp</code> (Energy Performance Preference) driver, available in kernel version 6.3 and later. In this mode, the <code>amd_pstate_epp</code> driver provides a hint to the hardware when software wants to bias the CPPC firmware towards performance (0x0) or power efficiency (0xff).</dd>
<dt>Passive mode</dt>
<dd>The <code>passive</code> mode is implemented by the <code>amd_pstate</code> driver. In this mode, the driver defines a desired performance based on the current workload, and specifically how much performance degradation can be tolerated without affecting quality of life.</dd>
<dt>Guided mode</dt>
<dd>The <code>guided</code> mode is implemented by <code>amd_pstate</code> driver, available in kernel version 6.4 and later. In this mode, the <code>amd_pstate</code> driver requests minimum and maximum performance level and the platform autonomously selects a performance level in this range and appropriate to the current workload.</dd>
</dl>
<h2><span class="mw-headline" id="Scaling_governors">Scaling governors</span></h2>
<p>Scaling governors are power schemes determining the desired frequency for the CPU. Some request a constant frequency, others implement algorithms to dynamically adjust according to the system load. The governors included in the kernel are:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Each governor is compatible with any scaling driver, with the exceptions of <code>intel_pstate</code> and <code>amd_pstate</code> in active mode, which provide pseudo-governors in the form of <code>powersave</code> and <code>performance</code>. See <a href="#Autonomous_frequency_scaling">#Autonomous frequency scaling</a> below.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Governor</th>
<th>Description
</th>
</tr>
<tr>
<td>performance</td>
<td>Run the CPU at the maximum frequency, obtained from <code>/sys/devices/system/cpu/cpu<i>X</i>/cpufreq/scaling_max_freq</code>.
</td>
</tr>
<tr>
<td>powersave</td>
<td>Run the CPU at the minimum frequency, obtained from <code>/sys/devices/system/cpu/cpu<i>X</i>/cpufreq/scaling_min_freq</code>.
</td>
</tr>
<tr>
<td>userspace</td>
<td>Run the CPU at user specified frequencies, configurable via <code>/sys/devices/system/cpu/cpu<i>X</i>/cpufreq/scaling_setspeed</code>.
</td>
</tr>
<tr>
<td>ondemand</td>
<td>Scales the frequency dynamically according to current load. Jumps to the highest frequency and then possibly back off as the idle time increases.
</td>
</tr>
<tr>
<td>conservative</td>
<td>Scales the frequency dynamically according to current load. Scales the frequency more gradually than ondemand.
</td>
</tr>
<tr>
<td>schedutil</td>
<td>Scheduler-driven CPU frequency selection <a rel="nofollow" class="external autonumber" href="https://lwn.net/Articles/682391/">[4]</a>, <a rel="nofollow" class="external autonumber" href="https://lore.kernel.org/lkml/1614814.usHvZ58O6A@vostro.rjw.lan/">[5]</a>.
</td>
</tr>
</tbody>
</table>
<p>Depending on the scaling driver, one of these governors will be loaded by default:
</p>
<ul>
<li>
<code>schedutil</code> since <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/linux/-/commit/83345a2f829af62ce6fd4b4fa3a875b8f6560f43">Linux 4.9.5</a>
</li>
<li>the internal <code>powersave</code> governor for Intel CPUs using the <code>intel_pstate</code> driver (see the note above, it is equivalent to <code>schedutil</code>).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Use CPU monitoring tools (for temperatures, voltage, etc.) when changing the default governor.</div> 
<p>To activate a particular governor, run:
</p>
<pre># cpupower frequency-set -g <i>governor</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>To adjust for only a single CPU core, append <code>-c <i>core_number</i></code> to the command above.</li>
<li>Activating a governor requires that specific <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a> (named <code>cpufreq_<i>governor</i></code>) is loaded. As of kernel 3.4, these modules are loaded automatically.</li>
</ul>
</div>
<p>Alternatively, you can activate a governor on every available CPU manually:
</p>
<pre># echo <i>governor</i> | tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To monitor cpu speed in real time, run:
<pre>$ watch cat /sys/devices/system/cpu/cpu[0-9]*/cpufreq/scaling_cur_freq
</pre>
</div>
<h3><span class="mw-headline" id="Tuning_the_ondemand_governor">Tuning the ondemand governor</span></h3>
<p>See the <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/cpufreq.html#ondemand">kernel documentation</a> for details.
</p>
<h4><span class="mw-headline" id="Switching_threshold">Switching threshold</span></h4>
<p>To set the threshold for stepping up to another frequency:
</p>
<pre># echo -n <i>percent</i> &gt; /sys/devices/system/cpu/cpufreq/<i>governor</i>/up_threshold
</pre>
<p>To set the threshold for stepping down to another frequency:
</p>
<pre># echo -n <i>percent</i> &gt; /sys/devices/system/cpu/cpufreq/<i>governor</i>/down_threshold
</pre>
<h4><span class="mw-headline" id="Sampling_rate">Sampling rate</span></h4>
<p>The sampling rate determines how frequently the governor checks to tune the CPU. <code>sampling_down_factor</code> is a tunable that multiplies the sampling rate when the CPU is at its highest clock frequency, thereby delaying load evaluation and improving performance. Allowed values for <code>sampling_down_factor</code> are 1 to 100000.  This tunable has no effect on behavior at lower CPU frequencies/loads.
</p>
<p>To read the value (default = 1), run:
</p>
<pre>$ cat /sys/devices/system/cpu/cpufreq/ondemand/sampling_down_factor
</pre>
<p>To set the value, run:
</p>
<pre># echo -n <i>value</i> &gt; /sys/devices/system/cpu/cpufreq/ondemand/sampling_down_factor
</pre>
<h4><span class="mw-headline" id="Make_changes_permanent">Make changes permanent</span></h4>
<p>Since Linux 5.9, it is possible to set the <code>cpufreq.default_governor</code> kernel option.<a rel="nofollow" class="external autonumber" href="https://kernelnewbies.org/Linux_5.9#CPU_Frequency_scaling">[6]</a> To set the desired scaling parameters at boot, configure the <a href="#cpupower">cpupower</a> utility and enable its systemd service. Alternatively, <a href="../en/Systemd.html#systemd-tmpfiles_-_temporary_files" class="mw-redirect" title="Systemd-tmpfiles">systemd-tmpfiles</a> or <a href="../en/Udev.html" title="Udev">udev</a> rules can be used.
</p>
<h2><span class="mw-headline" id="Autonomous_frequency_scaling">Autonomous frequency scaling</span></h2>
<p>Both Intel and AMD define a way to have the CPU decide its own speed based on (1) a performance range from the system and (2) a performance/power hint specifying the preference. The fully-autonomous mode is activated when:
</p>
<ul>
<li>
<code>amd-pstate</code> is set to "active"—requires manual configuration and CPPC support in both the CPU <i>and</i> BIOS,</li>
<li>
<code>intel-pstate</code> is set to "active" <i>and</i> hardware P-state (HWP) is available (i.e. Sandy Bridge and newer)—works out-of-the-box.</li>
</ul>
<p>The most important feature of active governing is that only two governors appear available, <code>powersave</code> and <code>performance</code>. They do not work <i>at all</i> like their normal counterpart, however: these levels are translated into an <i>Energy Performance Preference</i> hint for the CPU's internal governor. As a result, they both provide dynamic scaling, similar to the <code>schedutil</code> or <code>ondemand</code> generic governors respectively, differing mostly in latency. The <code>performance</code> algorithm <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTM3NDQ">should give better power saving functionality than the old ondemand governor</a> for Intel HWP.
</p>
<h3>
<span id="Intel_active.2C_non-HWP"></span><span class="mw-headline" id="Intel_active,_non-HWP">Intel active, non-HWP</span>
</h3>
<p>The intel-pstate driver has, confusingly, an "active" mode that works without the CPU's active decision. This mode turns on when kernel cmdline forces an "active" mode but HWP is unavailable or disabled. It will still only provide <code>powersave</code> and <code>performance</code>, but the driver itself does the governing in a way similar to <code>schedutil</code> and <code>performance</code> (i.e. it stays at the maximum P-state). There is no real benefit to this mode compared to passive intel-pstate.
</p>
<h3><span class="mw-headline" id="Setting_the_EPP">Setting the EPP</span></h3>
<p>It is possible to select in-between hints with the sysfs interfaces available. The interface is identical between AMD and Intel, where the files <code>/sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference</code> describe the current preference and <code>/sys/devices/system/cpu/cpu*/cpufreq/energy_performance_available_preferences</code> providing a list of available preferences. One can also pass a number between 0 (favor performance) and 255 (favor power). A fallback implementation is provided for Intel CPUs without EPP, translating strings to EPB levels (described in next section) but failing on numbers.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x86_energy_perf_policy">x86_energy_perf_policy</a></span> supports configuration of EPP hints via the <code>--hwp-epp</code> switch on Intel CPUs <i>only</i>. It works via direct access of machine-specific registers (MSRs) which differ between Intel and AMD. The program can also restrict the range of HWP frequencies using a range of frequency multipliers.
</p>
<p>To enable hardware P-States with <span class="plainlinks archwiki-template-man" title="$ man 8 x86_energy_perf_policy"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/x86_energy_perf_policy.8">x86_energy_perf_policy(8)</a></span>:
</p>
<pre># x86_energy_perf_policy -H 1
# x86_energy_perf_policy -U 1
</pre>
<h2><span class="mw-headline" id="Collaborative_processor_performance_control">Collaborative processor performance control</span></h2>
<p>The power consumption of modern CPUs is no longer simply dependent on the frequency or voltage setting, as there are modules that can be switched on as needed. Collaborative processor performance control (CPPC) is the P-state replacement provided by ACPI 5.0. Instead of defining a table of static frequency levels, the processor provides many abstract <i>performance levels</i> and the operating system selects from these levels. There are two advantages:
</p>
<ul>
<li>There is no longer a limit of 16 P-state entries; a typical CPU provides hundreds of levels to choose from.</li>
<li>The CPU can provide a higher frequency (e.g. boost) for a performance level when certain parts (e.g. vector FPU) is not used.</li>
</ul>
<p>On the other hand, the flexible frequency breaks frequency-invariant utilization tracking, which is important for fast frequency changes by <code>schedutil</code>. A number of vendor-specific methods have been used to make the frequency static under CPPC, with most successes coming from arm64.
</p>
<p><code>cppc_cpufreq</code> is the generic CPPC scaling driver. <code>amd_pstate</code> also uses ACPI CPPC to manage the CPU frequency when the Zen 3 MSR is unavailable – this method, also called "shared memory", has higher latency than MSR.
</p>
<h2><span class="mw-headline" id="Intel_performance_and_energy_bias_hint">Intel performance and energy bias hint</span></h2>
<p>The <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/intel_epb.html">Intel performance and energy bias hint (EPB)</a> is an interface provided by Intel CPUs to allow for user space to specify the desired power-performance tradeoff, on a scale of 0 (highest performance) to 15 (highest energy savings). The EPB register is another layer of performance management functioning independently from frequency scaling. It influences how aggressive P-state and C-state selection will be, and informs internal model-specific decision making that affects energy consumption.
</p>
<p>Common values and their aliases, as recognized by sysfs and <span class="plainlinks archwiki-template-man" title="$ man 8 x86_energy_perf_policy"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/x86_energy_perf_policy.8">x86_energy_perf_policy(8)</a></span> are:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>EPB value
</th>
<th>String
</th>
</tr>
<tr>
<td>0
</td>
<td>performance
</td>
</tr>
<tr>
<td>4
</td>
<td>balance-performance
</td>
</tr>
<tr>
<td>6
</td>
<td>normal, default
</td>
</tr>
<tr>
<td>8
</td>
<td>balance-power
</td>
</tr>
<tr>
<td>15
</td>
<td>power
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Setting_via_sysfs">Setting via sysfs</span></h3>
<p>The EPB can be set using a sysfs attribute:
</p>
<pre># echo <i>epb</i> | tee /sys/devices/system/cpu/cpu*/power/energy_perf_bias
</pre>
<h3><span class="mw-headline" id="Setting_via_x86_energy_perf_policy_2">Setting via x86_energy_perf_policy</span></h3>
<p>With <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x86_energy_perf_policy">x86_energy_perf_policy</a></span>:
</p>
<pre># x86_energy_perf_policy --epb <i>epb</i>
</pre>
<h3><span class="mw-headline" id="Setting_via_cpupower">Setting via cpupower</span></h3>
<p>With <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cpupower">cpupower</a></span>:
</p>
<pre># cpupower set -b <i>epb_value</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> cpupower does not support the string aliases. If given a string, it will silently set the EPB to 0, corresponding to max performance.</div>
<h2><span class="mw-headline" id="Interaction_with_ACPI_events">Interaction with ACPI events</span></h2>
<p>Users may configure scaling governors to switch automatically based on different ACPI events such as connecting the AC adapter or closing a laptop lid. A quick example is given below; however, it may be worth reading full article on <a href="../en/Acpid.html" title="Acpid">acpid</a>.
</p>
<p>Events are defined in <code>/etc/acpi/handler.sh</code>. If the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpid">acpid</a></span> package is installed, the file should already exist and be executable. For example, to change the scaling governor from <code>performance</code> to <code>conservative</code> when the AC adapter is disconnected and change it back if reconnected:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/acpi/handler.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[...]

ac_adapter)
    case "$2" in
        AC*)
            case "$4" in
                00000000)
                    echo "conservative" &gt;/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor    
                    echo -n $minspeed &gt;$setspeed
                    #/etc/laptop-mode/laptop-mode start
                ;;
                00000001)
                    echo "performance" &gt;/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
                    echo -n $maxspeed &gt;$setspeed
                    #/etc/laptop-mode/laptop-mode stop
                ;;
            esac
        ;;
        *) logger "ACPI action undefined: $2" ;;
    esac
;;

[...]
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="BIOS_frequency_limitation">BIOS frequency limitation</span></h3>
<p>Some CPU/BIOS configurations may have difficulties to scale to the maximum frequency or scale to higher frequencies at all. This is most likely caused by BIOS events telling the OS to limit the frequency resulting in <code>/sys/devices/system/cpu/cpu0/cpufreq/bios_limit</code> set to a lower value.
</p>
<p>Either you just made a specific Setting in the BIOS Setup Utility, (Frequency, Thermal Management, etc.) you can blame a buggy/outdated BIOS or the BIOS might have a serious reason for throttling the CPU on its own.
</p>
<p>Reasons like that can be (assuming your machine's a notebook) that the battery is removed (or near death) so you are on AC-power only. In this case, a weak AC-source might not supply enough electricity to fulfill extreme peak demands by the overall system and as there is no battery to assist this could lead to data loss, data corruption or in worst case even hardware damage!
</p>
<p>Not all BIOS'es limit the CPU-Frequency in this case, but, for example, most IBM/Lenovo Thinkpads do. Refer to thinkwiki for more <a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/Problem_with_CPU_frequency_scaling">thinkpad related info on this topic</a>.
</p>
<p>If you checked there is not just an odd BIOS setting and you know what you are doing, you can make the Kernel ignore these BIOS-limitations.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Make sure you read and understood the section above. CPU frequency limitation is a safety feature of your BIOS and you should not need to work around it.</div>
<p>Set the <code>ignore_ppc=1</code> <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a> for the <code>processor</code> module. For trying this temporarily, change the value in <code>/sys/module/processor/parameters/ignore_ppc</code> from <code>0</code> to <code>1</code>.
</p>
<p>Some systems use another mechanism to limit the CPU frequency, e.g., when running without battery or an unofficial power adapter. See <a href="../en/Lenovo_ThinkPad_T480.html#CPU_stuck_at_minimum_frequency" title="Lenovo ThinkPad T480">Lenovo ThinkPad T480#CPU stuck at minimum frequency</a> for a way to manipulate the BD PROCHOT bit in Intel CPUs and <a href="../en/Dell_XPS_15_(9560).html#General_slowness_&amp;_stuttering" title="Dell XPS 15 (9560)">Dell XPS 15 (9560)#General slowness &amp; stuttering</a> for alternative fixes. It does not only apply to the Lenovo ThinkPad T480, but is a common problem in Dell XPS models like the XPS15 9550 and XPS15 9560, too. The bit also is what makes at least some Intel-based MacBooks run with minimum CPU frequency when no battery is connected.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Please note that this is <b>not</b> recommended and can seriously damage your mac. Do at your own risk. <a rel="nofollow" class="external autonumber" href="https://github.com/syscl/CPUTune">[7]</a>
</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/cpu-freq/index.html">Linux CPUFreq - kernel documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://www.reddit.com/r/linux/comments/1hdogn/acpi_cpufreq_or_intel_pstates/">Reddit post talking about pstate</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/cpufreq.html#frequency-boost-support">Processor boosting control</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/intel_pstate.html">intel_pstate kernel documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/pm/amd-pstate.html">amd-pstate kernel documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://linrunner.de/tlp/settings/processor.html">intel_pstate/intel_cpufreq documentation kernel 5.7+</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Power_management.html" title="Category:Power management">Power management</a></li>
<li><a href="../en/Category:CPU.html" title="Category:CPU">CPU</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=CPU_frequency_scaling&amp;oldid=811521">https://wiki.archlinux.org/index.php?title=CPU_frequency_scaling&amp;oldid=811521</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 June 2024, at 07:42.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
