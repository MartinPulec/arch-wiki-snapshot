<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>MacBookPro8,x - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MacBookPro8_x rootpage-MacBookPro8_x skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Using_rEFInd_and_Kernel_EFISTUB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_rEFInd_and_Kernel_EFISTUB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Using rEFInd and Kernel EFISTUB</div>
			</a>
			
			<ul id="toc-Using_rEFInd_and_Kernel_EFISTUB-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Add_kernel_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Add_kernel_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Add kernel modules</div>
			</a>
			
			<ul id="toc-Add_kernel_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>BIOS boot</div>
			</a>
			
			<ul id="toc-BIOS_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Wireless_network" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Wireless_network">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Wireless network</div>
		</a>
		
		<ul id="toc-Wireless_network-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Keyboard_and_touchPad" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Keyboard_and_touchPad">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Keyboard and touchPad</div>
		</a>
		
			<button aria-controls="toc-Keyboard_and_touchPad-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Keyboard and touchPad subsection</span>
			</button>
		
		<ul id="toc-Keyboard_and_touchPad-sublist" class="vector-toc-list">
			<li id="toc-Keyboard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Keyboard</div>
			</a>
			
			<ul id="toc-Keyboard-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Touchpad" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Touchpad">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Touchpad</div>
			</a>
			
			<ul id="toc-Touchpad-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Video_and_screen" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Video_and_screen">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Video and screen</div>
		</a>
		
		<ul id="toc-Video_and_screen-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Sound" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Sound">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Sound</div>
		</a>
		
		<ul id="toc-Sound-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Suspend_and_hibernate" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Suspend_and_hibernate">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Suspend and hibernate</div>
		</a>
		
		<ul id="toc-Suspend_and_hibernate-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-HFS+" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#HFS+">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>HFS+</div>
		</a>
		
		<ul id="toc-HFS+-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Bluetooth" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Bluetooth">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Bluetooth</div>
		</a>
		
		<ul id="toc-Bluetooth-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Broken_integrated_GPU" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Broken_integrated_GPU">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Broken integrated GPU</div>
			</a>
			
			<ul id="toc-Broken_integrated_GPU-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Grub2-EFI_boot:_Intel_invalid_ROM_contents" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Grub2-EFI_boot:_Intel_invalid_ROM_contents">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>Grub2-EFI boot: Intel invalid ROM contents</div>
			</a>
			
			<ul id="toc-Grub2-EFI_boot:_Intel_invalid_ROM_contents-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">MacBookPro8,x</span></h1>
				</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Stub (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:MacBookPro8,x.html">Talk:MacBookPro8,x</a>)</div>
</div>
<p>This page contains tips on installing Arch Linux on an Early 2011 MacBook Pro.
</p>
<p>discuss at <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?pid=1021706">https://bbs.archlinux.org/viewtopic.php?pid=1021706</a>
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Following the <a href="../en/Installation_guide.html" title="Installation guide">installation guide</a> works for the most part, but it is necessary to add some <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> when booting due to issues with the graphics card as well as potentially switch <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a> to get the wireless network to work:
</p>
<p><b>8,1</b>
</p>
<p>Tested on macbook pro 8.1 . Forum thread: <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=136833&amp;p=1">[1]</a>
</p>
<p>Add following to Kernel Parameters. 
</p>
<pre> i915.enable_fbc=1 usbcore.autosuspend=1 h
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Be cautious about enabling <a href="../en/Intel_graphics.html#Framebuffer_compression_(enable_fbc)" title="Intel graphics">frame buffer compression</a> when using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>, as it can lead to lags or freezes of the primary monitor with some programs, such as Firefox. See <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=213533">[2]</a> for details and workarounds, as well as the notes in <a href="../en/Intel_graphics.html#Installation" title="Intel graphics">Intel graphics#Installation</a>.</div>
<p><b>8,2 and 8,3</b>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For 8,2 (potentially for 8,1 and 8,3 as well) be aware that you might find that <code>ip link</code> does not show the wireless network card. In that case, check what <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a> is being used, by running <code>lspci -v</code> and look for the Network controller called <b>BCM4331</b>. As mentioned on <a href="../en/Broadcom_wireless.html#Installation" title="Broadcom wireless">Broadcom wireless#Installation</a>, the BCM4331 chipset used on 8,2 has issues with the <b>b43</b> module and if the <b>bcma</b> or <b>bcma-pci-bridge</b> is the module loaded, you need to switch it. Try forcing a switch to the (non-free, but much more reliable) <b>wl</b> module by blacklisting any potentially interfering modules: <code>rmmod b43 bcma ssb wl; modprobe wl</code> and then check if the wireless connection is now showing up when doing <code>ip link</code>. You can then proceed to connect to the internet using <a href="../en/Iwd.html#iwctl" class="mw-redirect" title="Iwctl">iwctl</a>. If you are unable to view the device in <a href="../en/Iwd.html#iwctl" class="mw-redirect" title="Iwctl">iwctl</a> you will need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>iwd.service</code>. If you want the changes to persist after installation, remember to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=broadcom-wl-dkms">broadcom-wl-dkms</a></span> during the <a href="../en/Installation_guide.html#Install_essential_packages" title="Installation guide">pacstrap process</a> (as well as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> or a similar package to manage the connection after installation.)</div>
<p>If, after installation, the screen freezes after boot, try booting with the kernel parameter 
</p>
<pre> radeon.modeset=0 
</pre>
<p>in order to disable the ATI Radeon graphics card.
</p>
<h3><span class="mw-headline" id="Using_rEFInd_and_Kernel_EFISTUB">Using rEFInd and Kernel EFISTUB</span></h3>
<p>Using <a href="../en/REFInd.html" title="REFInd">rEFInd</a> as a boot manager as an alternative to <a href="../en/GRUB.html" title="GRUB">GRUB</a> or <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> is possible, but may need some configuration.
</p>
<p><b>Install rEFInd</b>
</p>
<p>Consult <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/refind/installing.html">Installing rEFInd</a>
</p>
<p>Boot into Mac OS X
</p>
<pre> # mkdir -p /efi/refind
 # cp -r refind/* /efi/refind/
 # rm /efi/refind/refind_ia32.efi
 # mv /efi/refind/refind.conf-sample /efi/refind/refind.conf and adjust it
 # bless --setBoot --folder /efi/refind --file /efi/refind/refind_x64.efi
</pre>
<p><b>Setting up EFISTUB</b>
</p>
<p>Follow <a href="../en/EFISTUB.html" title="EFISTUB">EFISTUB</a>.
</p>
<h3><span class="mw-headline" id="Add_kernel_modules">Add kernel modules</span></h3>
<p>Without this, you will get <code>root fs not found</code> error.
</p>
<p>Edit <code>/etc/mkinitcpio.conf</code>:
</p>
<pre> MODULES="..ahci libahci.."
</pre>
<p>Then <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a>.
</p>
<h3><span class="mw-headline" id="BIOS_boot">BIOS boot</span></h3>
<p>Boot into BIOS emulation mode. AMD card works, but intel card does not.
</p>
<p>Use refind to load GRUB legacy.
</p>
<h2><span class="mw-headline" id="Wireless_network">Wireless network</span></h2>
<p>See <a href="../en/Broadcom_wireless.html" title="Broadcom wireless">Broadcom wireless</a> for b43 installation and usage.
</p>
<h2><span class="mw-headline" id="Keyboard_and_touchPad">Keyboard and touchPad</span></h2>
<h3><span class="mw-headline" id="Keyboard">Keyboard</span></h3>
<p>Default <code>F1</code> key represents <code>XF86MonBrightnessDown</code>, if you want it represents to <code>F1</code>. Set <code>fnmode=2</code> parameters to hid_apple module.
See <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel modules">Kernel modules#Setting module options</a> for more information.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>Two finger scrolling and left-click works out of the box. Unfortunately the right-click is not functional.
</p>
<p>There are two drivers to provide features to the touchpad (including right and middle click): <a rel="nofollow" class="external text" href="https://github.com/BlueDragonX/xf86-input-mtrack">mtrack</a> which is reported to work well and <a href="../en/Touchpad_Synaptics.html" class="mw-redirect" title="Synaptics">Synaptics</a> which provides more features but might require some tuning.
</p>
<p><b>mtrack:</b>
</p>
<p>Mtrack is available in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xf86-input-mtrack/">xf86-input-mtrack</a></span><sup><small>AUR</small></sup>. The configuration is done via the <code>/etc/X11/xorg.conf.d/10-mtrack.conf</code> file. Check if the mtrack module is properly loaded in the <code>/var/log/Xorg.0.log</code> file. Sometimes xorg loads other drivers before, like eg. synpatics, and the mtrack driver is not used at all.
</p>
<p>For an MBP 8,3 I needed to use the following config (in <code>/etc/X11/xorg.conf.d/10-mtrack.conf</code>) to stop it picking up other input devices by mistake:
</p>
<pre>Section "InputClass"
  Identifier "Multitouch Touchpad"
  Driver "mtrack"
  MatchDevicePath "/dev/input/event*"
  MatchProduct "bcm5974"
  MatchIsTouchpad "true"
EndSection
</pre>
<p><b>synaptics:</b>
</p>
<p>See <a href="../en/Touchpad_Synaptics.html#Installation" title="Touchpad Synaptics">Touchpad Synaptics#Installation</a> for synaptics installation and configuration instructions.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a href="../en/Touchpad_Synaptics.html#Synclient" title="Touchpad Synaptics">Synclient</a> provides some additional configuration for the touchpad.</div>
<pre> #list all possible configurable parameters.
 synclient
 
 #To change a value for a command use `synclient command=X`
 #Example:
 synclient HorizTwoFingerScroll=1
</pre>
<p>After you have successfully tried and tested your options through synclient, you can make these changes permanent by adding them to <code>/etc/X11/xorg.conf.d/50-synaptics.conf</code>
</p>
<h2><span class="mw-headline" id="Video_and_screen">Video and screen</span></h2>
<p><b>13-inch</b>
</p>
<p>Intel HD Graphics 3000: works with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>.
</p>
<p>Adjust Brightness: works with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Since Linux kernel 6.1, an additional <a href="../en/Backlight.html#Kernel_command-line_options" title="Backlight">backlight kernel parameter</a> is needed such as <code>acpi_backlight=native</code>.<a rel="nofollow" class="external autonumber" href="https://www.linuxquestions.org/questions/slackware-14/brightness-keys-not-working-after-updating-to-kernel-version-6-a-4175720728/">[3]</a>
</div>
<p>For example:
</p>
<pre>$ xbacklight -inc 7 # increase brightness
$ xbacklight -dec 7 # decrease brightness
</pre>
<p>or you can use a simple bash script that provides screen and keyboard backlight management by simple cli (-d for display / -k for keyboard)
</p>
<pre>#!/bin/bash
case $1 in
       -d|--display)
           if [ "$2" != "0" ]
               then
                   echo "$[(($2 * 4882) / 100) % 4883]" &gt; /sys/class/backlight/intel_backlight/brightness
           fi;;
       -k|--keyboard)
           echo "$[(($2 * 255) / 100) % 256]" &gt; /sys/class/leds/smc\:\:kbd_backlight/brightness;;
       -h|--help)
           echo -e "MacBook 8.1 brightness helper\n\t-d\tset display brightness (0-100%)\n\t-k\tset keyboard brightness (0-100%)\n";;
       *)
           echo -e "Unknown option try -h or --help";;
esac
</pre>
<p>Save it in <code>/usr/local/bin/macbackl</code> and mark it as <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>.
</p>
<p>For usage, run:
</p>
<pre>$ macbackl --help
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You must be root to edit the files in <code>/sys/class/*</code> but if you want you can chown <code>/sys/class/leds/smc\:\:kbd_backlight/brightness</code> and <code>/sys/class/backlight/intel_backlight/brightness</code>
</div>
<p><b>15-inch and 17-inch</b>
</p>
<p>AMD Radeon HD 6490M: Unknown.
</p>
<p>AMD Radeon HD 6750M and 6770M: works with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span>.
</p>
<h2><span class="mw-headline" id="Sound">Sound</span></h2>
<p><b>8,3</b>
</p>
<p>Some applications (e.g. <a href="../en/VLC_media_player.html" class="mw-redirect" title="VLC">VLC</a>) have intermittent crackling; appending 'tsched=0' to 'module-udev-detect' in /etc/pulse/default.pa fixes this.
</p>
<h2><span class="mw-headline" id="Suspend_and_hibernate">Suspend and hibernate</span></h2>
<p><b>8,1</b>
</p>
<p>For s2ram install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uswsusp-git/">uswsusp-git</a></span><sup><small>AUR</small></sup> and add to file <code>/etc/pm/config.d/module</code> following content:
</p>
<pre> SUSPEND_MODULES="bcma b43" 
 SLEEP_MODULE=uswsusp
</pre>
<p>Without this, system hangs after the machine wakes up and tries to reconnect to the wireless network.
</p>
<h2>
<span id="HFS.2B"></span><span class="mw-headline" id="HFS+">HFS+</span>
</h2>
<p>HFS is mounted as Read-Only. By <a rel="nofollow" class="external text" href="https://support.apple.com/kb/ht2355">turning journaling off</a> in OS X, the HFS+ file system will be read/write under Linux.
</p>
<h2><span class="mw-headline" id="Bluetooth">Bluetooth</span></h2>
<p>I had problems pairing devices, nothing was detected with
</p>
<pre>hcitool scan
</pre>
<p>There seems to be a conflict between the bluetooth module and the b43 one (wifi). The solution is creating <code>/etc/modprobe.d/b43.conf</code> with the following content:
</p>
<pre>options b43 btcoex=0
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Broken_integrated_GPU">Broken integrated GPU</span></h3>
<p>The 8.2 macbook pro models with integrated graphics card have a manufacturing issue that causes the lead-free solder of the GPU to crack, inhibiting its ability to function. The problem begins by seeing red lines on the monitor and then failing to boot OS X. Apple issued a <a rel="nofollow" class="external text" href="https://www.apple.com/uk/support/macbookpro-videoissues/">repair program</a>, but the odds are that your GPU will die again soon.
</p>
<p>It is still possible to boot linux using the outb 0x750 lines in grub2 as described above, however this is a nuisance because it may be impossible to read the monitor when the problem is severe, making installation impossible. In addition, you may also wish to use another boot loader other than GRUB.
</p>
<p>It is possible to fix the problem by forcing the EFI to use the integrated graphics card.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This requires that you manually write values to the efi. This may brick your system although you should be safe with a pram reset.</div>
<p>If you want to force the EFI to use the integrated graphics card, then check the following topic: <a rel="nofollow" class="external text" href="https://forums.macrumors.com/threads/force-2011-macbook-pro-8-2-with-failed-amd-gpu-to-always-use-intel-integrated-gpu-efi-variable-fix.2037591/">force 2011 macbook to use integrated card</a>. You may need to append radeon.modeset=0 to your kernel command line so that linux does not attempt to use it: 
</p>
<pre>radeon.modeset=0
</pre>
<h3><span class="mw-headline" id="Grub2-EFI_boot:_Intel_invalid_ROM_contents">Grub2-EFI boot: Intel invalid ROM contents</span></h3>
<p>If you see this error on boot and notice the screen output seemingly frozen, you need to disable KMS.
</p>
<p>You have two options, use grub to disable the discrete GPU or disable the discrete GPU in the EFI.
</p>
<p>'<b> use grub '</b>
</p>
<p>Append the following to your /etc/grub/defaults LINUX line:
</p>
<pre>i915.modeset=0 radeon.modeset=0
</pre>
<p>However, newer versions of the Xorg Intel/i915 driver require KMS to work; without it the X server will fallback to framebuffer mode, with poor performance. The underlying issue is that the Intel KMS driver selects the wrong video output; to fix this try the following settings (tested on an 8,3/17" MBP):
</p>
<pre>radeon.modeset=0 i915.modeset=1 i915.lvds_channel_mode=2
</pre>
<p>This should give you Intel graphics output. Note that this requires kernel 3.5rc1 or higher; use linux-mainline from Aur if necessary. See <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=42842">this bug</a> for more details.
</p>
<p>You may find you need to enable the Intel device; if using Grub, the following should enable it at boot time:
</p>
<pre>set gfxpayload=keep
# Switch gmux to IGD
outb 0x728 1
outb 0x710 2
outb 0x740 2
</pre>
<p>Alternatively, if you have OS X available you can use <a rel="nofollow" class="external text" href="http://codykrieger.com/gfxCardStatus">gfxCardStatus</a> to switch to the Intel device before booting into Linux.
</p>
<p>'<b> Force EFI to use integrated '</b>
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This requires that you manually write values to the efi. This may brick your system although you should be safe with a pram reset.</div>
<p>If you want to force the EFI to use the integrated graphics card, then check the following topic: <a rel="nofollow" class="external text" href="https://forums.macrumors.com/threads/force-2011-macbook-pro-8-2-with-failed-amd-gpu-to-always-use-intel-integrated-gpu-efi-variable-fix.2037591/">force 2011 macbook to use integrated card</a>. You may need to append radeon.modeset=0 to your kernel command line so that linux does not attempt to use it: 
</p>
<pre>radeon.modeset=0
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://wiki.debian.org/InstallingDebianOn/Apple/MacBook/8-2">Debian Wiki: Adjusting a Linux installation for Macbook 8,2 to only use an integrated graphics card (2023)</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Apple.html" title="Category:Apple">Apple</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=MacBookPro8,x&amp;oldid=804881">https://wiki.archlinux.org/index.php?title=MacBookPro8,x&amp;oldid=804881</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 March 2024, at 18:47.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
