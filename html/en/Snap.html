<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Snap - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Snap rootpage-Snap skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Finding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Finding">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Finding</span>
				</div>
			</a>
			
			<ul id="toc-Finding-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Installing</span>
				</div>
			</a>
			
			<ul id="toc-Installing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Updating" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Updating">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Updating</span>
				</div>
			</a>
			
			<ul id="toc-Updating-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Removing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Removing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Removing</span>
				</div>
			</a>
			
			<ul id="toc-Removing-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Classic_snaps" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Classic_snaps">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Classic snaps</span>
				</div>
			</a>
			
			<ul id="toc-Classic_snaps-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Confinement" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Confinement">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Confinement</span>
				</div>
			</a>
			
			<ul id="toc-Confinement-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hide_the_snap_folder" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hide_the_snap_folder">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Hide the snap folder</span>
				</div>
			</a>
			
			<ul id="toc-Hide_the_snap_folder-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sudo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sudo">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Sudo</span>
				</div>
			</a>
			
			<ul id="toc-Sudo-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Text_unreadable" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Text_unreadable">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Text unreadable</span>
				</div>
			</a>
			
			<ul id="toc-Text_unreadable-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error:_cannot_mount_squashfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error:_cannot_mount_squashfs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Error: cannot mount squashfs</span>
				</div>
			</a>
			
			<ul id="toc-Error:_cannot_mount_squashfs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error:_/user.slice/user-1000.slice/session-1.scope_is_not_a_snap_cgroup" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error:_/user.slice/user-1000.slice/session-1.scope_is_not_a_snap_cgroup">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Error: /user.slice/user-1000.slice/session-1.scope is not a snap cgroup</span>
				</div>
			</a>
			
			<ul id="toc-Error:_/user.slice/user-1000.slice/session-1.scope_is_not_a_snap_cgroup-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Graphical_management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Graphical_management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Graphical management</span>
			</div>
		</a>
		
		<ul id="toc-Graphical_management-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Support" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Support">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Support</span>
			</div>
		</a>
		
		<ul id="toc-Support-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Snap</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/AppArmor.html" title="AppArmor">AppArmor</a></li>
<li><a href="../en/Distrobox.html" title="Distrobox">Distrobox</a></li>
<li><a href="../en/Flatpak.html" title="Flatpak">Flatpak</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://snapcraft.io/">Snap</a> is a software deployment and package management system. The packages are called 'snaps' and the tool for using them is 'snapd', which works across a range of Linux distributions and allows, therefore, distribution-agnostic upstream software deployment. Canonical, the developer of Snap, manages the <a rel="nofollow" class="external text" href="https://snapcraft.io/store">Snap Store</a> service through which snaps are deployed.
</p>
<p><a rel="nofollow" class="external text" href="https://github.com/snapcore/snapd">snapd</a> is a REST API daemon for managing snap packages. Users can interact with it by using the <i>snap</i> client, which is part of the same package. 
</p>
<p>Snaps can be confined using <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> which is now enabled in the default kernel. Consult relevant wiki pages to find steps for enabling <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> in your system.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> 
<ul>
<li>If AppArmor is not enabled in your system then all snaps will run in <i>devel</i> mode which mean they will have the same unrestricted access to your system as apps installed from Arch Linux repositories.</li>
<li>Running untrusted code is never safe, sandboxing cannot change this.</li>
</ul>
</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/snapd/">snapd</a></span><sup><small>AUR</small></sup> package.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <code>snapd</code> installs a script in <code>/etc/profile.d/snapd.sh</code> to export the paths of binaries installed with the snapd package and desktop entries. Reboot once to make this change take effect.</div>
<p><i>snapd</i> supports the <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> security model if it is enabled on your system, to install it follow <a href="../en/AppArmor.html#Installation" title="AppArmor">AppArmor#Installation</a>.
</p>
<p>If you are using <i>AppArmor</i>, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> both <code>apparmor.service</code> and <code>snapd.apparmor.service</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p>To launch the <code>snapd</code> daemon when <i>snap</i> tries to use it, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">enable/start</a> <code>snapd.socket</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Usage">Usage</h2></div>
<p>The <i>snap</i> tool is used to manage the snaps.
</p>
<div class="mw-heading mw-heading3"><h3 id="Finding">Finding</h3></div>
<p>To find snaps to install, you can query the Ubuntu Store with:
</p>
<pre>$ snap find <i>searchterm</i>
</pre>
<div class="mw-heading mw-heading3"><h3 id="Installing">Installing</h3></div>
<p>Once you found the snap you are looking for you can install it with:
</p>
<pre># snap install <i>snapname</i>
</pre>
<p>This requires root privileges. Per user installation of snaps is not possible, yet. This will download the snap into <code>/var/lib/snapd/snaps</code> and mount it to <code>/var/lib/snapd/snap/<i>snapname</i></code> to make it available to the system.
</p>
<p>It will also create mount units for each snap and add them to <code> /etc/systemd/system/multi-user.target.wants/</code> as symlinks to make all snaps available when the system is booted.
Once that is done you should find it in the list of installed snaps together with its version number, revision and developer using:
</p>
<pre>$ snap list
</pre>
<p>You can also sideload snaps from your local hard drive with:
</p>
<pre># snap install --dangerous <i>/path/to/snap</i>
</pre>
<div class="mw-heading mw-heading3"><h3 id="Updating">Updating</h3></div>
<p>To update your snaps manually use:
</p>
<pre># snap refresh
</pre>
<p>Snaps are refreshed automatically according to snap <code>refresh.timer</code> setting.
</p>
<p>To view the next/last refresh times use:
</p>
<pre># snap refresh --time
</pre>
<p>To set a different refresh time, eg. twice a day:
</p>
<pre># snap set core refresh.timer=0:00~24:00/2
</pre>
<p>See <a rel="nofollow" class="external text" href="https://forum.snapcraft.io/t/system-options/87">system options documentation page</a> for details on customizing the refresh time.
</p>
<div class="mw-heading mw-heading3"><h3 id="Removing">Removing</h3></div>
<p>Snaps can be removed by executing:
</p>
<pre># snap remove <i>snapname</i>
</pre>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Classic_snaps">Classic snaps</h3></div>
<p>Some snaps (e.g. Julia and Pycharm) use classic confinement. However, classic confinement requires the <code>/snap</code> directory, which is not FHS-compliant. The snapd package does not ship this directory, however the user can manually create a symbolic link between <code>/var/lib/snapd/snap</code> and <code>/snap</code> to allow the installation of classic snaps:
</p>
<pre># ln -s /var/lib/snapd/snap /snap
</pre>
<div class="mw-heading mw-heading3"><h3 id="Confinement">Confinement</h3></div>
<p>When using <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a>, <i>snapd</i> will generate the same profiles for snaps as on Ubuntu. The <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> parser is smart enough to drop the rules that are not yet supported by the mainline kernel.
</p>
<p>To verify that basic confinement is working, install <i>hello-world</i> snap. Then run the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ hello-world.evil</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Hello Evil World!
This example demonstrates the app confinement
You should see a permission denied error next
/snap/hello-world/27/bin/evil: 9: /snap/hello-world/27/bin/evil: cannot create /var/tmp/myevil.txt: Permission denied
</pre>
<p>The denial was caused by AppArmor and should have been logged:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[  +0.000003] audit: type=1327 audit(1540469583.966:257): proctitle=2F62696E2F7368002F736E61702F68656C6C6F2D776F726C642F32372F62696E2F6576696C
[ +12.268939] audit: type=1400 audit(1540469596.236:258): apparmor="DENIED" operation="open" profile="snap.hello-world.evil" name="/var/tmp/myevil.txt" pid=10835 comm="evil" requested_mask="wc" denied_mask="wc" fsuid=1000 ouid=1000
[  +0.000006] audit: type=1300 audit(1540469596.236:258): arch=c000003e syscall=2 success=no exit=-13 a0=55d991ba6bc8 a1=241 a2=1b6 a3=55d991ba6be0 items=0 ppid=31349 pid=10835 auid=1000 uid=1000 gid=1000 euid=1000 suid=1000 fsuid=1000 egid=1000 sgid=1000 fsgid=1000 tty=pts2 ses=3 comm="evil" exe="/bin/dash" subj==snap.hello-world.evil (enforce)
...</pre>
<p>If you do not see the denial, verify that the profiles were loaded:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># aa-status | grep snap.hello-world</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">   snap.hello-world.env
   snap.hello-world.evil
   snap.hello-world.hello-world
   snap.hello-world.sh
</pre>
<p>Also, you can check what sandbox features are available in the system according to snapd:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ snap debug sandbox-features</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">apparmor:             kernel:caps kernel:domain kernel:file kernel:mount kernel:namespaces kernel:network_v8 kernel:policy kernel:ptrace kernel:query kernel:rlimit kernel:signal parser:unsafe policy:default support-level:partial
confinement-options:  devmode
dbus:                 mediated-bus-access
kmod:                 mediated-modprobe
mount:                freezer-cgroup-v1 layouts mount-namespace per-snap-persistency per-snap-profiles per-snap-updates per-snap-user-profiles stale-base-invalidation
seccomp:              bpf-argument-filtering kernel:allow kernel:errno kernel:kill_process kernel:kill_thread kernel:log kernel:trace kernel:trap
</pre>
<div class="mw-heading mw-heading3"><h3 id="Hide_the_snap_folder">Hide the snap folder</h3></div>
<p>See <a href="../en/XDG_Base_Directory.html#Hiding_unwanted_directories" title="XDG Base Directory">XDG Base Directory#Hiding unwanted directories</a> to hide the <code>snap</code> folder.
</p>
<div class="mw-heading mw-heading3"><h3 id="Sudo">Sudo</h3></div>
<p>With <code>secure_path</code> being enabled in sudo by default, the <code>/var/lib/snapd/snap/bin</code> directory is no longer present in the default <code>$PATH</code> environment variable of the process started by sudo. Commands such as <code>sudo lxc list</code> will fail, as the <code>lxc</code> symbolic link can no longer be found by the shell process. 
</p>
<p>This can be addressed on per user basis by adding the following snippet to <code>/etc/sudoers.d/90_snap</code>:
</p>
<pre># Add snap binaries installation dir to PATH
Defaults:&lt;your-user-name&gt; secure_path="/usr/local/sbin:/usr/local/bin:/usr/bin:/var/lib/snapd/snap/bin"
</pre>
<p>Where <code>&lt;your-user-name&gt;</code> must be replaced with the desired <code>$USER</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Text_unreadable">Text unreadable</h3></div>
<p>If you are seeing squares instead of readable characters, you need to clear the font cache:
</p>
<pre># rm -f /var/cache/fontconfig/*
$ rm -f ~/.cache/fontconfig/*
# fc-cache -r -v
</pre>
<p>Snapctl also stores internal caches for each individual snap, which need to be <a rel="nofollow" class="external text" href="https://askubuntu.com/a/1228809">cleared seperately</a>.
First, find them by running:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ find ~/snap/ -wholename '*/.cache/fontconfig'</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">... /home/darth_vader/snap/mailspring/common/.cache/fontconfig
... /home/darth_vader/snap/authy/common/.cache/fontconfig
... /home/darth_vader/snap/icedrive/common/.cache/fontconfig
... /home/darth_vader/snap/discord/common/.cache/fontconfig
... /home/darth_vader/snap/bitwarden/common/.cache/fontconfig
</pre>
<p>Then either remove them individually or use <a rel="nofollow" class="external text" href="https://gist.github.com/Techcable/a9382ad83f1b651a0e9c25e9c6f26f88">this simple loop</a>.
</p>
<p>Finally, Restart your session.
</p>
<div class="mw-heading mw-heading3"><h3 id="Error:_cannot_mount_squashfs">Error: cannot mount squashfs</h3></div>
<p>Snap packages use the <a href="../en/File_systems.html#Read-only_file_systems" class="mw-redirect" title="SquashFS">SquashFS</a> file system. In the event of an error similar to the following:
</p>
<pre>error: system does not fully support snapd: cannot mount squashfs image using "squashfs"
</pre>
<p>you may verify that the SquashFS kernel module is loaded with
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lsmod</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Module                  Size  Used by
<b>squashfs               xxxxx  x</b>
...
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> If you have recently <a href="#Installation">installed</a> the snapd package to your system, you may need to reboot Arch Linux before <a href="#Installing">installing Snap packages</a>.
</div>
<div class="mw-heading mw-heading3"><h3 id="Error:_/user.slice/user-1000.slice/session-1.scope_is_not_a_snap_cgroup">
<span id="Error:_.2Fuser.slice.2Fuser-1000.slice.2Fsession-1.scope_is_not_a_snap_cgroup"></span>Error: /user.slice/user-1000.slice/session-1.scope is not a snap cgroup</h3></div>
<p>You need to set your <b>DBUS_SESSION_BUS_ADDRESS</b> environment variable like so:
</p>
<pre>export DBUS_SESSION_BUS_ADDRESS="unix:path=$XDG_RUNTIME_DIR/bus"
</pre>
<p>To make this change permanent and also available in your GUI session, consider adding this line to your <b>~/.xprofile</b> file.
</p>
<p>For more information and full discussion about this issue, please <a rel="nofollow" class="external text" href="https://forum.snapcraft.io/t/cannot-launch-snap-applications-with-cgroup-v2/27700/19">read here</a>
</p>
<div class="mw-heading mw-heading2"><h2 id="Graphical_management">Graphical management</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> snap plugin for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-software">gnome-software</a></span> is not built by default (Discuss in <a href="../en/Talk:Snap.html#Snap_support_in_Gnome_Software_3.38" title="Talk:Snap">Talk:Snap#Snap support in Gnome Software 3.38</a>)</div>
</div>
<p>Both Gnome Software Center and KDE Discover can provide native snap support. For KDE Discover install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/discover-snap/">discover-snap</a></span><sup><small>AUR</small></sup> package.
</p>
<p>The <a rel="nofollow" class="external text" href="https://snapcraft.io/snap-store">Snap Store</a> can be installed via snap 
</p>
<pre># snap install snap-store
</pre>
<div class="mw-heading mw-heading2"><h2 id="Support">Support</h2></div>
<p>Arch Linux related mailing lists and other official Arch Linux support channels are not an appropriate place to request help with snaps on Arch Linux. An appropriate place to ask for support is the <a rel="nofollow" class="external text" href="https://forum.snapcraft.io">Snapcraft forum</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://snapcraft.io/">Official site</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/snapcore/snapd">GitHub repository</a></li>
<li>
<a rel="nofollow" class="external text" href="https://arstechnica.com/information-technology/2016/06/goodbye-apt-and-yum-ubuntus-snap-apps-are-coming-to-distros-everywhere/">ArsTechnica article</a> (2016-06) about Ubuntu snaps becoming available for Arch and other distributions</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Snap&amp;oldid=861445">https://wiki.archlinux.org/index.php?title=Snap&amp;oldid=861445</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 January 2026, at 15:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Snap</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
