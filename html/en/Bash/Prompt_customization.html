<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Bash/Prompt customization - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bash_Prompt_customization rootpage-Bash skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Prompts" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Prompts">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Prompts</div>
		</a>
		
		<ul id="toc-Prompts-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Techniques" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Techniques">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Techniques</div>
		</a>
		
			<button aria-controls="toc-Techniques-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Techniques subsection</span>
			</button>
		
		<ul id="toc-Techniques-sublist" class="vector-toc-list">
			<li id="toc-Bash_escape_sequences" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bash_escape_sequences">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Bash escape sequences</div>
			</a>
			
			<ul id="toc-Bash_escape_sequences-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Terminfo_escape_sequences" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Terminfo_escape_sequences">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Terminfo escape sequences</div>
			</a>
			
			<ul id="toc-Terminfo_escape_sequences-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ANSI_escape_sequences" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ANSI_escape_sequences">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>ANSI escape sequences</div>
			</a>
			
			<ul id="toc-ANSI_escape_sequences-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Embedding_commands" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Embedding_commands">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Embedding commands</div>
			</a>
			
			<ul id="toc-Embedding_commands-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PROMPT_COMMAND" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PROMPT_COMMAND">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>PROMPT_COMMAND</div>
			</a>
			
			<ul id="toc-PROMPT_COMMAND-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Escapes_between_command_input_and_output" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Escapes_between_command_input_and_output">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>Escapes between command input and output</div>
			</a>
			
			<ul id="toc-Escapes_between_command_input_and_output-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Customizing_root_prompts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Customizing_root_prompts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7</span>Customizing root prompts</div>
			</a>
			
			<ul id="toc-Customizing_root_prompts-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Examples">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Examples</div>
		</a>
		
			<button aria-controls="toc-Examples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Examples subsection</span>
			</button>
		
		<ul id="toc-Examples-sublist" class="vector-toc-list">
			<li id="toc-Colors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Colors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Colors</div>
			</a>
			
			<ul id="toc-Colors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Common_capabilities" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Common_capabilities">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Common capabilities</div>
			</a>
			
			<ul id="toc-Common_capabilities-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Visualizing_exit_codes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Visualizing_exit_codes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Visualizing exit codes</div>
			</a>
			
			<ul id="toc-Visualizing_exit_codes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Positioning_the_cursor" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Positioning_the_cursor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Positioning the cursor</div>
			</a>
			
			<ul id="toc-Positioning_the_cursor-sublist" class="vector-toc-list">
				<li id="toc-Right-justified_text" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Right-justified_text">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1</span>Right-justified text</div>
			</a>
			
			<ul id="toc-Right-justified_text-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Arbitrary_positioning" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Arbitrary_positioning">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.2</span>Arbitrary positioning</div>
			</a>
			
			<ul id="toc-Arbitrary_positioning-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Customizing_the_terminal_window_title" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Customizing_the_terminal_window_title">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Customizing the terminal window title</div>
			</a>
			
			<ul id="toc-Customizing_the_terminal_window_title-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Bash/Prompt customization</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Bash-Prompt_anpassen" title="Bash-Prompt anpassen – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Bash/Prompt_customization.html" title="Bash (Español)/Prompt customization – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Bash/%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA" title="Bash/プロンプトのカスタマイズ – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../../ru/Bash/Prompt_customization.html" title="Bash (Русский)/Prompt customization – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../en/Bash.html" title="Bash">Bash</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../../en/Bash.html" title="Bash">Bash</a></li>
<li><a href="../../en/Environment_variables.html" title="Environment variables">Environment variables</a></li>
<li><a href="../../en/Git.html#Git_prompt" title="Git">Git#Git prompt</a></li>
</ul>
</div>
<p>Bash has several prompts which can be customized to increase productivity, aesthetic appeal, and nerd cred.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Prompts">Prompts</span></h2>
<p>Bash has five <i>prompt strings</i> that can be customized:
</p>
<ul>
<li>
<code>PS0</code> is displayed after each command, before any output.</li>
<li>
<code>PS1</code> is the primary prompt which is displayed before each command, thus it is the one most people customize.</li>
<li>
<code>PS2</code> is the secondary prompt displayed when a command needs more input (e.g. a multi-line command).</li>
<li>
<code>PS3</code> is not very commonly used. It is the prompt displayed for Bash's <code>select</code> built-in which displays interactive menus. Unlike the other prompts, it does not expand <a href="#Bash_escape_sequences">Bash escape sequences</a>. Usually you would customize it in the script where the <code>select</code> is used rather than in your <code>.bashrc</code>.</li>
<li>
<code>PS4</code> is also not commonly used. It is displayed when debugging bash scripts to indicate levels of indirection. The first character is repeated to indicate deeper levels.</li>
</ul>
<p>All of the prompts are customized by setting the corresponding variable to the desired string (usually in <code>~/.bashrc</code>), for example 
</p>
<pre>PS2='&gt; '
</pre>
<h2><span class="mw-headline" id="Techniques">Techniques</span></h2>
<p>While one can simply set their prompt to a plain string, there are a variety of techniques for making the prompt more dynamic and useful.
</p>
<h3><span class="mw-headline" id="Bash_escape_sequences">Bash escape sequences</span></h3>
<p>When printing the prompt string, Bash looks for certain backslash-escaped characters and will expand them into special strings. For example, <code>\u</code> is expanded into the current username and <code>\A</code> is expanded to the current time. So a PS1 of <code>'\A \u $ '</code> would be printed like <code>17:35 <i>username</i> $ </code>.
</p>
<p>See the man page <span class="plainlinks archwiki-template-man" title="$ man 1 bash"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bash.1#PROMPTING">bash(1) § PROMPTING</a></span> or the <a rel="nofollow" class="external text" href="https://www.gnu.org/software/bash/manual/html_node/Controlling-the-Prompt.html">Bash reference manual</a> for a complete list of escape sequences.
</p>
<h3><span class="mw-headline" id="Terminfo_escape_sequences">Terminfo escape sequences</span></h3>
<p>Aside from the escape characters recognized by Bash, most terminals recognize special escape sequences that affect the terminal itself rather than printing characters. For example they might change the color of subsequent printed characters, move the cursor to an arbitrary location, or clear the screen. These escape sequences can be somewhat illegible and can vary from terminal to terminal, so they are documented in the terminfo database. To see what capabilities your terminal supports, run
</p>
<pre>$ infocmp
</pre>
<p>The capability names (the part before the =) can be looked up in <span class="plainlinks archwiki-template-man" title="$ man 5 terminfo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/terminfo.5">terminfo(5)</a></span> for a description of what they do. For example, <code>setaf</code> sets the foreground color of whatever text is printed after it. To get the escape code for a capability, you can use the <code>tput</code> command. For example
</p>
<pre>$ tput setaf 2
</pre>
<p>Prints the escape sequence to set the foreground color to green.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If tput commands are failing for you, ensure that you have set the correct <code>TERM</code> value for your shell. For example, if you have set <code>xterm</code> instead of <code>xterm-256color</code>, <code>tput setaf</code> will only work with color numbers 0-7.</div>
<p>To practically incorporate these capabilities into your prompt, you can use Bash's command substitution and string interpolation. For example
</p>
<pre>GREEN="\[$(tput setaf 2)\]"
RESET="\[$(tput sgr0)\]"

PS1="${GREEN}my prompt${RESET}&gt; "
</pre>
<div class="mw-no-invert" style="font-family: monospace; white-space: pre; padding: 1em; background-color: black; border: 1px solid #bcd; color: #c0c0c0;">
<span style="color: #0f0">my prompt</span>&gt; </div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Wrapping the tput output in <code>\[ \]</code> is recommended by the Bash man page. This helps Bash ignore non-printable characters so that it correctly calculates the size of the prompt. The wrap will not work with command substitution, in which case <a rel="nofollow" class="external text" href="https://superuser.com/a/301355">the raw <code>\1 \2</code></a> must be used.</div>
<h3><span class="mw-headline" id="ANSI_escape_sequences">ANSI escape sequences</span></h3>
<p>Unfortunately, valid ANSI escape sequences may be missing from your terminal's terminfo database. This is especially common with escape sequences for newer features such as 256 color support. In that case you cannot use tput, you must input the escape sequence manually.
</p>
<p>See <a href="https://en.wikipedia.org/wiki/ANSI_escape_code" class="extiw" title="wikipedia:ANSI escape code">Wikipedia:ANSI escape code</a> for examples of escape sequences. Every escape sequence starts with a literal escape character, which you can input using the Bash escape sequence <code>\e</code>. So for example,<code>\e[48;5;209m</code> sets the background to a peachy color (if you have 256 color support) and <code>\e[2;2H</code> moves the cursor near the top-left corner of the screen.
</p>
<p>In cases where Bash escape sequences are not supported (such as PS3) you can get a literal escape character using Bash's printf builtin:
</p>
<pre>ESC=$(printf "\e")
PEACH="$ESC[48;5;209m"
</pre>
<h3><span class="mw-headline" id="Embedding_commands">Embedding commands</span></h3>
<p>If you want to add the output of some command to your prompt, you might be tempted to use command substitution. For example, to add the amount of free memory to your prompt you might try:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PS1="$(awk '/MemFree/{print $2}' /proc/meminfo) prompt &gt; "</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">53718 prompt &gt;
53718 prompt &gt;
53718 prompt &gt;</pre>
<p>But this does not work; the amount of memory shown is the same every time! This is because the command is run once, when PS1 is first set, and never again. The trick is to simply prevent the substitution either by escaping the <code>$</code> or by defining it in single quotes — either way it will be substituted when the prompt is actually displayed:
</p>
<pre>PS1="\$(awk '/MemFree/{print \$2}' /proc/meminfo) prompt &gt; "
# or
PS1='$(awk "/MemFree/{print \$2}" /proc/meminfo) prompt &gt; '
</pre>
<p>To prevent long commands from making your PS1 huge, you can define functions:
</p>
<pre>free_mem()
{
    awk '/MemFree/{print $2}' /proc/meminfo
}

PS1='$(free_mem) prompt &gt; '</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can use terminfo/ANSI escape sequences inside substituted functions but <b>not</b> Bash escapes. In particular <code>\[ \]</code> will not work for surrounding non-printable characters. Instead you can use the octal escapes <code>\001</code> and <code>\002</code> (e.g. using <code>printf</code> or <code>echo -e</code>).</div>
<h3><span class="mw-headline" id="PROMPT_COMMAND">PROMPT_COMMAND</span></h3>
<p>If the <code>PROMPT_COMMAND</code> variable or array is set, it will be evaluated right before PS1 is displayed. This can be used to achieve quite powerful effects. For example it can reassign PS1 based on some condition, or perform some operation on your Bash history every time you run a command.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>PROMPT_COMMAND</code> generally should not be used to print characters directly to the prompt. Characters printed outside of PS1 are not counted by Bash, which will cause it to incorrectly place the cursor and clear characters. Either use <code>PROMPT_COMMAND</code> to set PS1 or look at <a href="#Embedding_commands">embedding commands</a>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If the <code>PROMPT_COMMAND</code> becomes too complicated, <a rel="nofollow" class="external text" href="https://github.com/rcaloras/bash-preexec">bash-preexec</a> (an implementation of <a href="../../en/Zsh.html" title="Zsh">Zsh</a>'s <code>preexec</code> and <code>precmd</code> hook functions for Bash) may make it more maintainable.</div>
<h3><span class="mw-headline" id="Escapes_between_command_input_and_output">Escapes between command input and output</span></h3>
<p>You can affect your input text in Bash by not resetting the text properties at the end of your PS1. For example, inserting <code>tput blink</code> at the end of your PS1 will make your typed commands blink. However this effect will also continue through the command's output since the text properties are not reset when you hit Enter.
</p>
<p>In order to insert escape sequences after you type a command but before the output is displayed, you can set PS0. Alternatively, you can trap Bash's DEBUG signal, which is sent right before each command is executed:
</p>
<pre>$ trap 'tput sgr0' DEBUG
</pre>
<h3><span class="mw-headline" id="Customizing_root_prompts">Customizing root prompts</span></h3>
<p>To ensure that you know when you are running as root, you can customize your root prompt to make it clearly stand out (perhaps blinking red?). This is done by customizing the Bash prompt as usual but in root's home directory, <code>/root</code>. Start off by copying the skeleton files <code>/etc/skel/.bash_profile</code> and <code>/etc/skel/.bashrc</code> to <code>/root</code>, then edit <code>/root/.bashrc</code> as desired.
</p>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="Colors">Colors</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Too much duplication with <a href="../../en/Color_output_in_console.html" title="Color output in console">Color output in console</a> WRT listing colors. Should be trimmed to zsh length. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:Bash/Prompt_customization.html">Talk:Bash/Prompt customization</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <code>infocmp</code> shows the number of colors <code>tput</code> works with, for example <code>colors#8</code>.</div>
<p>To see the full range of colors your terminal supports, you can use a simple loop with tput (change <code>setab</code> to <code>setaf</code> for text foregrounds):
</p>
<pre>for C in {0..255}; do
    tput setab $C
    echo -n "$C "
done
tput sgr0
echo
</pre>
<p>If that does not work (and you cannot fix it by setting the <a href="#Terminfo_escape_sequences">correct TERM value</a>), you can test the different manual escape sequences:
</p>
<pre># standard colors
for C in {40..47}; do
    echo -en "\e[${C}m$C "
done
# high intensity colors
for C in {100..107}; do
    echo -en "\e[${C}m$C "
done
# 256 colors
for C in {16..255}; do
    echo -en "\e[48;5;${C}m$C "
done
echo -e "\e(B\e[m"
</pre>
<p>To change the manual escapes from background to foreground, the standard color range is <code>30..37</code>, the high intensity range is <code>90..97</code>, and the 48 should be changed to 38 for 256 colors.
</p>
<h3><span class="mw-headline" id="Common_capabilities">Common capabilities</span></h3>
<p>The following <a href="#Terminfo_escape_sequences">terminfo capabilities</a> are useful for prompt customization and are supported by many terminals. <b>#1</b> and <b>#2</b> are placeholders for numeric arguments.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Capability</th>
<th>Escape sequence</th>
<th>Description
</th>
</tr>
<tr>
<th colspan="3">Text attributes
</th>
</tr>
<tr>
<td>blink</td>
<td>\e[5m</td>
<td>blinking text on
</td>
</tr>
<tr>
<td>bold</td>
<td>\e[1m</td>
<td>bold text on
</td>
</tr>
<tr>
<td>dim</td>
<td>\e[2m</td>
<td>dim text on
</td>
</tr>
<tr>
<td>rev</td>
<td>\e[7m</td>
<td>reverse video on (switch text/background colors)
</td>
</tr>
<tr>
<td>sitm</td>
<td>\e[3m</td>
<td>italic text on
</td>
</tr>
<tr>
<td>ritm</td>
<td>\e[23m</td>
<td>italic text off
</td>
</tr>
<tr>
<td>smso</td>
<td>\e[7m</td>
<td>highlighted text on
</td>
</tr>
<tr>
<td>rmso</td>
<td>\e[27m</td>
<td>highlighted text off
</td>
</tr>
<tr>
<td>smul</td>
<td>\e[4m</td>
<td>underlined text on
</td>
</tr>
<tr>
<td>rmul</td>
<td>\e[24m</td>
<td>underlined text off
</td>
</tr>
<tr>
<td>setab <b>#1</b>
</td>
<td>\e[4<b>#1</b>m</td>
<td>set background color <b>#1</b> (0-7)
</td>
</tr>
<tr>
<td>setaf <b>#1</b>
</td>
<td>\e[3<b>#1</b>m</td>
<td>set text color <b>#1</b> (0-7)
</td>
</tr>
<tr>
<td>sgr0</td>
<td>\e(B\e[m</td>
<td>reset text attributes
</td>
</tr>
<tr>
<th colspan="3">Cursor movement
</th>
</tr>
<tr>
<td>sc</td>
<td>\e7</td>
<td>save cursor position
</td>
</tr>
<tr>
<td>rc</td>
<td>\e8</td>
<td>restore saved cursor position
</td>
</tr>
<tr>
<td>clear</td>
<td>\e[H\e[2J</td>
<td>clear screen and move cursor to top left
</td>
</tr>
<tr>
<td>cuu <b>#1</b>
</td>
<td>\e[<b>#1</b>A</td>
<td>move cursor up <b>#1</b> rows
</td>
</tr>
<tr>
<td>cud <b>#1</b>
</td>
<td>\e[<b>#1</b>B</td>
<td>move cursor down <b>#1</b> rows
</td>
</tr>
<tr>
<td>cuf <b>#1</b>
</td>
<td>\e[<b>#1</b>C</td>
<td>move cursor right <b>#1</b> columns
</td>
</tr>
<tr>
<td>cub <b>#1</b>
</td>
<td>\e[<b>#1</b>D</td>
<td>move cursor left <b>#1</b> columns
</td>
</tr>
<tr>
<td>home</td>
<td>\e[H</td>
<td>move cursor to top left
</td>
</tr>
<tr>
<td>hpa <b>#1</b>
</td>
<td>\e[<b>#1</b>G</td>
<td>move cursor to column <b>#1</b>
</td>
</tr>
<tr>
<td>vpa <b>#1</b>
</td>
<td>\e[<b>#1</b>d</td>
<td>move cursor to row <b>#1</b>, first column
</td>
</tr>
<tr>
<td>cup <b>#1</b> <b>#2</b>
</td>
<td>\e[<b>#1</b>;<b>#2</b>H</td>
<td>move cursor to row <b>#1</b>, column <b>#2</b>
</td>
</tr>
<tr>
<th colspan="3">Removing characters
</th>
</tr>
<tr>
<td>dch <b>#1</b>
</td>
<td>\e<b>#1</b>P</td>
<td>remove <b>#1</b> characters (like backspacing)
</td>
</tr>
<tr>
<td>dl <b>#1</b>
</td>
<td>\e<b>#1</b>M</td>
<td>remove <b>#1</b> lines
</td>
</tr>
<tr>
<td>ech <b>#1</b>
</td>
<td>\e<b>#1</b>X</td>
<td>clear <b>#1</b> characters (without moving cursor)
</td>
</tr>
<tr>
<td>ed</td>
<td>\eE[J</td>
<td>clear to bottom of screen
</td>
</tr>
<tr>
<td>el</td>
<td>\e[K</td>
<td>clear to end of line
</td>
</tr>
<tr>
<td>el1</td>
<td>\e[1K</td>
<td>clear to beginning of line
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Visualizing_exit_codes">Visualizing exit codes</span></h3>
<p>Using the same trick from <a href="#Embedding_commands">embedding commands</a> you can delay the interpolation of special Bash variables like <code>$?</code>. So the following prompt shows the exit code of the previous command:
</p>
<pre>PS1="\$? &gt; "
# or
PS1='$? &gt; '
</pre>
<div class="mw-no-invert" style="font-family: monospace; white-space: pre; padding: 1em; background-color: black; border: 1px solid #bcd; color: #c0c0c0;">0 &gt; true<br>0 &gt; false<br>1 &gt;</div>
<p>This can be made more interesting using conditionals and functions:
</p>
<pre>exitstatus()
{
    if [[ $? == 0 ]]; then
        echo ':)'
    else
        echo 'D:'
    fi
}
PS1='$(exitstatus) &gt; '
</pre>
<div class="mw-no-invert" style="font-family: monospace; white-space: pre; padding: 1em; background-color: black; border: 1px solid #bcd; color: #c0c0c0;">:) &gt; true<br>:) &gt; false<br>D: &gt;</div>
<h3><span class="mw-headline" id="Positioning_the_cursor">Positioning the cursor</span></h3>
<p>It is possible to move the cursor around the screen inside of PS1 to make different parts of the prompt appear in different locations. However, to ensure that Bash positions the cursor and output in the right position, you must move the cursor back to the original position after you are done printing elsewhere. This can be done using the tput capabilities <code>sc</code> and <code>rc</code> to save and restore the cursor position. The general pattern for a prompt that moves the cursor is
</p>
<pre>PS1="\[$(tput sc; <i>cursor-moving code</i>) <i>positioned prompt stuff</i> $(tput rc)\] <i>normal prompt stuff</i>"
</pre>
<p>where the entire block of repositioned prompt is wrapped in <code>\[ \]</code> to prevent Bash from counting it as part of the regular prompt.
</p>
<h4><span class="mw-headline" id="Right-justified_text">Right-justified text</span></h4>
<p>The simplest way to print text on the right side of the screen is to use printf
</p>
<pre>rightprompt()
{
    printf "%*s" $COLUMNS "right prompt"
}

PS1='\[$(tput sc; rightprompt; tput rc)\]left prompt &gt; '</pre>
<div class="mw-no-invert" style="font-family: monospace; white-space: pre; padding: 1em; background-color: black; border: 1px solid #bcd; color: #c0c0c0;">left prompt &gt; <span style="float: right">right prompt</span>
</div>
<p>This creates a right-justified variable-sized field <code>%*s</code> and sets its size to the current number of columns of the terminal <code>$COLUMNS</code>.
</p>
<h4><span class="mw-headline" id="Arbitrary_positioning">Arbitrary positioning</span></h4>
<p>The <code>cup</code> capability moves the cursor to a specific position on the screen, for example <code>tput cup 20 5</code> moves the cursor to line 20, column 5 (where 0 0 is the top left corner). <code>cuu</code>, <code>cud</code>, <code>cuf</code>, and <code>cub</code> (up, down, forward, back) move the cursor relative to its current position. For example <code>tput cuf 10</code> moves the cursor 10 characters to the right. You can use the <code>LINES</code> and <code>COLUMNS</code> variables in the arguments to move the cursor relative to the bottom and right edges. For example, to move 10 lines and 5 columns away from the bottom right corner:
</p>
<pre>$ tput cup $((LINES - 11)) $((COLUMNS - 6))
</pre>
<h3><span class="mw-headline" id="Customizing_the_terminal_window_title">Customizing the terminal window title</span></h3>
<p>The terminal window title can be customized in much the same way as the prompt: by printing escape sequences in the shell. Thus it is common for users to include window title customizations in their prompt. Although this is technically a feature of xterm, many modern terminals support it. The escape sequence to use is <code><b>ESC</b>]2;<i>new title</i><b>BEL</b></code> where <code><b>ESC</b></code> and <code><b>BEL</b></code> are the escape and bell characters. Using <a href="#Bash_escape_sequences">#Bash escape sequences</a>, changing the title in your prompt looks like
</p>
<pre>PS1='\[\e]2;<i>new title</i>\a\]prompt &gt; '
</pre>
<p>Of course your window title string can include output from <a href="#Embedding_commands">embedding commands</a> or variables such as <code>$PWD</code>, so that the title changes with each command.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>Community examples and screenshots in the Forum thread: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=50885">What's your PS1?</a> (only accessible if logged in)</li>
<li>
<a rel="nofollow" class="external text" href="https://gitweb.gentoo.org/repo/gentoo.git/tree/app-shells/bash/files/bashrc">Gentoo's /etc/bash/bashrc</a>. See also <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gentoo-bashrc/">gentoo-bashrc</a></span><sup><small>AUR</small></sup>.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 1 tput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tput.1">tput(1)</a></span>
<ul><li><a rel="nofollow" class="external text" href="https://tldp.org/HOWTO/Bash-Prompt-HOWTO/x405.html">Colours and Cursor Movement With tput</a></li></ul>
</li>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/HOWTO/Bash-Prompt-HOWTO/x329.html">Bash Prompt HOWTO</a></li>
<li><a rel="nofollow" class="external text" href="https://gilesorr.com/bashprompt/prompts/index.html">Giles Orr's collection of sample prompts</a></li>
<li><a rel="nofollow" class="external text" href="https://misc.flogisoft.com/bash/tip_colors_and_formatting">Bash tips: Colors and formatting</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/nojhan/liquidprompt">Liquid Prompt — a useful adaptive prompt for Bash &amp; zsh</a></li>
<li><a rel="nofollow" class="external text" href="https://www.askapache.com/linux/bash-power-prompt/">Bash POWER PROMPT</a></li>
<li><a href="https://en.wikipedia.org/wiki/ANSI_escape_code" class="extiw" title="wikipedia:ANSI escape code">Wikipedia:ANSI escape code</a></li>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/bash/manual/html_node/Controlling-the-Prompt.html">GNU Bash manual: Controlling the Prompt</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../../en/Category:Eye_candy.html" title="Category:Eye candy">Eye candy</a></li>
<li><a href="../../en/Category:Command-line_shells.html" title="Category:Command-line shells">Command-line shells</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Bash/Prompt_customization&amp;oldid=789850">https://wiki.archlinux.org/index.php?title=Bash/Prompt_customization&amp;oldid=789850</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 October 2023, at 12:09.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
