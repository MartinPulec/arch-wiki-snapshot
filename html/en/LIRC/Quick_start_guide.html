<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LIRC/Quick start guide - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LIRC_Quick_start_guide rootpage-LIRC skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Prerequisites" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Prerequisites">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Prerequisites</div>
		</a>
		
		<ul id="toc-Prerequisites-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Setup" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Setup">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Setup</div>
		</a>
		
		<ul id="toc-Setup-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Keypresses_are_not_detected" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keypresses_are_not_detected">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Keypresses are not detected</div>
			</a>
			
			<ul id="toc-Keypresses_are_not_detected-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Repeated_keypress_events" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Repeated_keypress_events">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Repeated keypress events</div>
			</a>
			
			<ul id="toc-Repeated_keypress_events-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Final_configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Final_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Final configuration</div>
		</a>
		
		<ul id="toc-Final_configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Final_testing" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Final_testing">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Final testing</div>
		</a>
		
		<ul id="toc-Final_testing-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">LIRC/Quick start guide</span></h1>
				</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../en/LIRC.html" title="LIRC">LIRC</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../../en/LIRC.html" title="LIRC">LIRC</a>.</b></p>
<div>
<b>Notes:</b> There is no reason this content should be in a subpage. (Discuss in <a href="../../en/Talk:LIRC/Quick_start_guide.html#Merge_tag" title="Talk:LIRC/Quick start guide">Talk:LIRC/Quick start guide#Merge tag</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../../en/LIRC.html" title="LIRC">LIRC</a></li>
</ul>
</div>
<p>Step-by-step <a href="../../en/LIRC.html" title="LIRC">LIRC</a> setup guide for USB (MCE [Media Center Edition]) IR receiver with universal remote control.
</p>
<p><b>This is a quick-start guide only.</b> Please refer to man pages of the commands and files used and online documentation for in-depth help.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Prerequisites">Prerequisites</span></h2>
<ul>
<li>Get a USB IR receiver, preferably an MCE model which is almost always supported out-of-the-box.</li>
<li>Re-purpose an old universal remote control you have lying around the house.</li>
</ul>
<h2><span class="mw-headline" id="Setup">Setup</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Step 5 is unclear. What are universal remote control device modes? How do you change them? (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:LIRC/Quick_start_guide.html">Talk:LIRC/Quick start guide</a>)</div>
</div>
<ol>
<li>Connect the USB IR receiver.</li>
<li>Ensure there are fully charged batteries in your remote control.</li>
<li>Get some kind of output/response from the remote using <code>mode2</code>: <pre># mode2</pre> Point the remote control at the IR receiver and press some buttons. This will attempt to autodetect the correct input device using the default "devinput" driver. However, this might not work without manual configuration of protocols.</li>
<li>If no button presses are detected for most keys, change IR protocols. If you get no response to the remote control buttons you want to use, you likely need to enable different protocols:<pre># ir-keytable -p &lt;protocol&gt; -p &lt;protocol&gt; ...</pre> Look at the output of <code>ir-keytable</code> (as well as <code>cat /sys/class/rc/rc0/protocols</code>). When you have problems, run <code>ir-keytable -p all</code> as <a href="../../en/Users_and_groups.html#Overview" class="mw-redirect" title="Root user">root</a>.</li>
<li>If no button presses are detected for most keys, try different universal remote control device modes. You may also need to try different universal remote control device modes (TV, DVD, Audio, etc., buttons) in order to detect button presses when you are getting started. (You could possibly reprogram the universal remote's modes, but that would likely be a long trial-and-error process to find a setting that works.)</li>
<li>After reconfiguring IR protocols and remote control device mode, retest: <pre># mode2</pre> Point the remote control at the IR receiver and press some buttons. If button presses for most keys are not detected repeat the prior two steps until they are (or just run <code>ir-keytable -p all</code> as <a href="../../en/Users_and_groups.html#Overview" class="mw-redirect" title="Root user">root</a>).</li>
<li>If you have narrowed down what protocols you need to support for your remote control, set them: <pre># ir-keytable -p sony -p rc-5</pre> Otherwise, you can just use all protocols: <pre># ir-keytable -p all</pre>
</li>
<li>Determine the correct device for your IR receiver. Use either the default "devinput" driver or the older "default" driver: <pre>$ mode2 --driver devinput --list-devices
$ mode2 --driver default --list-devices
$ ir-keytable
</pre>
</li>
<li>Use the device found for your USB IR receiver, e.g., <code>/dev/input/event11</code>: <pre># mode2 --driver devinput --device /dev/input/event11</pre> or just try: <pre># mode2 --driver devinput --device auto</pre> See if button presses are detected.</li>
<li>If required, edit <code>/etc/lirc/lirc_options.conf</code>, e.g., if you are using the driver "default" instead of "devinput".</li>
<li>Test your remote to see if scancodes are printed: <pre># ir-keytable -t</pre> See if button presses are detected.</li>
<li>Use a <a href="../../en/Systemd.html#Drop-in_files" class="mw-redirect" title="Drop-in file">drop-in file</a>: <code>/etc/systemd/system/lircd.service.d/override.conf</code>. At the <code>[Service]</code> section add the following line: <pre>ExecStartPost=/usr/bin/ir-keytable -p <i>protocol</i> -p <i>protocol</i></pre> where each <i>protocol</i> string is replaced by the protocol(s) you need (or just use <code>/usr/bin/ir-keytable -p all</code>).</li>
<li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a> the lirc daemon, <code>lircd.service</code>, so you can record keypresses in order to write an lircd configuration file for your remote control.</li>
<li>Use irrecord to record keypress scancodes. Run: <pre># irrecord</pre> to save/record the keystrokes to be used for your application. Follow <code>irrecord</code>'s instructions.</li>
<li>Install the recorded lircd configuration file: <pre># mv <i>device_name</i>.lircd.conf /etc/lirc/lircd.conf.d/<br># chown root:root /etc/lirc/lircd.conf.d/<i>device_name</i>.lircd.conf</pre>
</li>
<li>Move <code>devinput.lircd.conf</code> to <code>devinput.lircd.dist</code> to disable it, because you are not using an IR keyboard and/or mouse, just the IR receiver: <pre># mv /etc/lirc/lircd.conf.d/devinput.lircd.conf /etc/lirc/lircd.conf.d/devinput.lircd.dist</pre>
</li>
<li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>lircd.service</code> so you use the newly created lircd configuration file.</li>
<li>Test to make sure the keys you recorded are correctly detected, that is, the correct key symbol is output for each button you press: <pre>$ irw</pre> See if the correct key symbols are reported, and if repeated signals are properly rejected.</li>
</ol>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Keypresses_are_not_detected">Keypresses are not detected</span></h3>
<p>Follow <a href="#Setup">#Setup</a>.
</p>
<h3><span class="mw-headline" id="Repeated_keypress_events">Repeated keypress events</span></h3>
<p>If you are having keypress repeating problems (each button press is echoed multiple times), examine the output of <code>irw</code>. The second column value is the repeat count. This will increment when repeated signals are detected. Each decoded button press with its count reset to "00" is reported as a separate button press event by lircd.
</p>
<p>To fix this problem, generally the "gap" parameter sampled by <code>irrecord</code> in the <code><i>device_name</i>.lircd.conf</code> file should be adjusted, often to a much larger value (e.g., from 44968 up to 113975).
</p>
<p>After editing/adjusting any lircd configuration file, be sure to restart lircd (as shown above).
</p>
<h2><span class="mw-headline" id="Final_configuration">Final configuration</span></h2>
<p>Write an lircrc file for your end user application. This file is used by all client programs built with lirc support that attach to lircd to read IR control events. Edit <code>~/.lircrc</code> to issue commands to the program to be controlled. Test this configuration by running:
</p>
<pre>$ ircat <i>prog</i>
</pre>
<p>to see if the correct "config" strings for program <code><i>prog</i></code> are being output when you press all the buttons you wish to use. Note:  If <code>~/.lircrc</code> is not read by your application or just does not work, an alternate default location is <code>~/.config/lircrc</code>.
</p>
<h2><span class="mw-headline" id="Final_testing">Final testing</span></h2>
<p>Finally, run your end user application and test remote control button presses to control it. If it works, you are done! If not, review and repeat the above sections as necessary to get each configuration step working before proceeding to the next step or section.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Input_devices.html" title="Category:Input devices">Input devices</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LIRC/Quick_start_guide&amp;oldid=717772">https://wiki.archlinux.org/index.php?title=LIRC/Quick_start_guide&amp;oldid=717772</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 11 February 2022, at 15:42.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
