<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>bspwm - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bspwm rootpage-Bspwm skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Starting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Starting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Starting</div>
		</a>
		
		<ul id="toc-Starting-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Note_for_multi-monitor_setups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Note_for_multi-monitor_setups">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Note for multi-monitor setups</div>
			</a>
			
			<ul id="toc-Note_for_multi-monitor_setups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Rules</div>
			</a>
			
			<ul id="toc-Rules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Panels" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Panels">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Panels</div>
			</a>
			
			<ul id="toc-Panels-sublist" class="vector-toc-list">
				<li id="toc-Using_lemonbar" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_lemonbar">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Using lemonbar</div>
			</a>
			
			<ul id="toc-Using_lemonbar-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_polybar" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_polybar">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Using polybar</div>
			</a>
			
			<ul id="toc-Using_polybar-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Scratchpad" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Scratchpad">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Scratchpad</div>
			</a>
			
			<ul id="toc-Scratchpad-sublist" class="vector-toc-list">
				<li id="toc-Using_pid" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_pid">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1</span>Using pid</div>
			</a>
			
			<ul id="toc-Using_pid-sublist" class="vector-toc-list">
				<li id="toc-Scratchpad_status_using_Polybar" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Scratchpad_status_using_Polybar">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1.1</span>Scratchpad status using Polybar</div>
			</a>
			
			<ul id="toc-Scratchpad_status_using_Polybar-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Using_class_name" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_class_name">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.2</span>Using class name</div>
			</a>
			
			<ul id="toc-Using_class_name-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Other">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.3</span>Other</div>
			</a>
			
			<ul id="toc-Other-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Different_monitor_configurations_for_different_machines" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Different_monitor_configurations_for_different_machines">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Different monitor configurations for different machines</div>
			</a>
			
			<ul id="toc-Different_monitor_configurations_for_different_machines-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_up_a_desktop_where_all_windows_are_floating" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_up_a_desktop_where_all_windows_are_floating">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Set up a desktop where all windows are floating</div>
			</a>
			
			<ul id="toc-Set_up_a_desktop_where_all_windows_are_floating-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Keyboard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Keyboard</div>
			</a>
			
			<ul id="toc-Keyboard-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Blank_screen_and_keybindings_do_not_work" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Blank_screen_and_keybindings_do_not_work">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Blank screen and keybindings do not work</div>
			</a>
			
			<ul id="toc-Blank_screen_and_keybindings_do_not_work-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cursor_themes_do_not_apply_to_the_desktop" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cursor_themes_do_not_apply_to_the_desktop">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Cursor themes do not apply to the desktop</div>
			</a>
			
			<ul id="toc-Cursor_themes_do_not_apply_to_the_desktop-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Window_box_larger_than_the_actual_application" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Window_box_larger_than_the_actual_application">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Window box larger than the actual application</div>
			</a>
			
			<ul id="toc-Window_box_larger_than_the_actual_application-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problems_with_Java_applications" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problems_with_Java_applications">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Problems with Java applications</div>
			</a>
			
			<ul id="toc-Problems_with_Java_applications-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problems_with_keybindings_using_fish" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problems_with_keybindings_using_fish">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Problems with keybindings using fish</div>
			</a>
			
			<ul id="toc-Problems_with_keybindings_using_fish-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Performance_issues_using_fish" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Performance_issues_using_fish">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Performance issues using fish</div>
			</a>
			
			<ul id="toc-Performance_issues_using_fish-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Error_messages_"Could_not_grab_key_43_with_modfield_68"_on_start' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Error_messages_"Could_not_grab_key_43_with_modfield_68"_on_start'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Error messages "Could not grab key 43 with modfield 68" on start</div>
			</a>
			
			<ul id='toc-Error_messages_"Could_not_grab_key_43_with_modfield_68"_on_start-sublist' class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">bspwm</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Bspwm.html" title="Bspwm – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Bspwm" title="Bspwm – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Bspwm.html" title="Bspwm – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Bspwm.html" title="Bspwm – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Bspwm" title="Bspwm – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Window_manager.html" title="Window manager">Window manager</a></li>
<li><a href="../en/Comparison_of_tiling_window_managers.html" title="Comparison of tiling window managers">Comparison of tiling window managers</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm">bspwm</a> is a tiling window manager that represents windows as the leaves of a full binary tree. bspwm supports multiple monitors and is configured and controlled through messages. <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/wm-spec/wm-spec-latest.html">EWMH</a> is partially supported.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bspwm">bspwm</a></span> for the window manager itself and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sxhkd">sxhkd</a></span> for the X hotkey daemon.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There have been no releases since 2020. If you encounter any issues or want missing features, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bspwm-git/">bspwm-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sxhkd-git/">sxhkd-git</a></span><sup><small>AUR</small></sup>.</div>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<p>Run <code>bspwm</code> using <a href="../en/Xinit.html" title="Xinit">xinit</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>The example configuration is located in <code>/usr/share/doc/bspwm/examples/</code>.
</p>
<p>Copy/install <code>bspwmrc</code> from there into <code>~/.config/bspwm/</code> and <code>sxhkdrc</code> into <code>~/.config/sxhkd/</code>.
</p>
<p>The file <code>bspwmrc</code> needs to be executable since the default example is simply a shell script that in turn
configures bspwm via the <code>bspc</code> command.
</p>
<pre>$ install -Dm755 /usr/share/doc/bspwm/examples/bspwmrc ~/.config/bspwm/bspwmrc
$ install -Dm644 /usr/share/doc/bspwm/examples/sxhkdrc ~/.config/sxhkd/sxhkdrc
</pre>
<p>These two files are where you will be setting wm settings and keybindings, respectively.
</p>
<p>See the <span class="plainlinks archwiki-template-man" title="$ man 1 bspwm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bspwm.1">bspwm(1)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 1 sxhkd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sxhkd.1">sxhkd(1)</a></span> manuals for detailed documentation.
</p>
<h3><span class="mw-headline" id="Note_for_multi-monitor_setups">Note for multi-monitor setups</span></h3>
<p>The example bspwmrc configures ten desktops on one monitor like this:
</p>
<pre>bspc monitor -d I II III IV V VI VII VIII IX X
</pre>
<p>You will need to change this line and add one for each monitor, similar to this:
</p>
<pre>bspc monitor DVI-I-1 -d I II III IV
bspc monitor DVI-I-2 -d V VI VII
bspc monitor DP-1 -d VIII IX X
</pre>
<p>You can use <code>xrandr -q</code> or <code>bspc query -M --names</code> to find the monitor names.
Note that if monitor names contain special characters, the entire name needs to be escaped by a percentage sign <code>bspc monitor %DVI-I-1.5 -d I II III IV</code> to get identified correctly.
</p>
<p>The total number of desktops were maintained at ten in the above example. This is so that each desktop can still be addressed with <code>super + {1-9,0}</code> in the sxhkdrc.
</p>
<p>Desktops in bspwm are activated by their index. Unless explicitly set, bspwm will automatically choose the display order, which determines the desktop index. If you encounter issues with desktops being on the wrong display, you should explicitly set the display order. similar to this:
</p>
<pre>bspc wm -O DVI-I-1 DVI-I-2 DP-1

bspc monitor DVI-I-1 -d I II III IV
bspc monitor DVI-I-2 -d V VI VII
bspc monitor DP-1 -d VIII IX X
</pre>
<p>If you want to automate your monitor-screens setup in case you periodically change monitor layouts, you need to use a conditional structure to check if a specific monitor is connected and configure it appropriately; you can place the following script in place of the standard <code>bspc monitor -d I II III IV V VI VII VIII IX X</code> command:
</p>
<pre>   if [[ $(xrandr -q | grep "DP-1 connected") ]];
   then
      xrandr --output DP-1  --primary --mode 1920x1080 --pos 0x0  --rotate normal \
             --output DVI-I-1 --off \
             --output DVI-I-2 --off 
      bspc monitor DP-1 -d I II III IV V VI VII VIII IX
   fi
</pre>
<p>The previous script uses <a href="../en/Xrandr.html" title="Xrandr">xrandr</a> to set the virtual display configuration and bspc to assign the appropriate desktops layout.
</p>
<p>Note that you should first set your preferred monitor layout with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arandr">arandr</a></span>, then export the xrandr configuration script and then copy the contents inside the script in place of the xrandr command.
</p>
<h3><span class="mw-headline" id="Rules">Rules</span></h3>
<p>bspwm can apply rules to windows based on the class name, which is the second string within the <a rel="nofollow" class="external text" href="https://tronche.com/gui/x/icccm/sec-4.html#WM_CLASS">WM_CLASS</a> property specified by <a href="https://en.wikipedia.org/wiki/Inter-Client_Communication_Conventions_Manual" class="extiw" title="wikipedia:Inter-Client Communication Conventions Manual">ICCM</a>. To determine the class name, you can:
</p>
<ol>
<li>
<a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xprop">xorg-xprop</a></span>.</li>
<li>Run <code>xprop | grep WM_CLASS</code>.</li>
<li>Click on the window of interest to indicate it to <code>xprop</code>.</li>
<li>Record the <i>second</i> string from the output of the command.</li>
</ol>
<p>There are two ways to configure window rules (as of <a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/commit/cd97a3290aa8d36346deb706fa307f5f8faa2f34">cd97a32</a>).
</p>
<p>The first is by using the built in rule command, as shown in the example bspwmrc:
</p>
<pre>bspc rule -a Gimp desktop=^8 follow=on state=floating
bspc rule -a Chromium desktop=^2
bspc rule -a mplayer2 state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off
</pre>
<p>The second option is to use an external rule command. This is more complex, but can allow you to craft more complex window rules.  See <a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/tree/master/examples/external_rules">these examples</a> for a sample rule command.
</p>
<h3><span class="mw-headline" id="Panels">Panels</span></h3>
<h4><span class="mw-headline" id="Using_lemonbar">Using lemonbar</span></h4>
<p>An example panel for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lemonbar-git/">lemonbar-git</a></span><sup><small>AUR</small></sup> is provided in the examples folder on the GitHub page. You might also get some insights from the <a href="../en/Lemonbar.html" title="Lemonbar">lemonbar</a> wiki page. The panel will be executed by placing <code>panel &amp;</code> in your bspwmrc. Check the <a href="../en/PKGBUILD.html#optdepends" class="mw-redirect" title="Optdepends">optdepends</a> in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bspwm">bspwm</a></span> package for dependencies that may be required.
</p>
<p>To display system information on your status bar you can use various system calls.  This example will show you how to edit your <code>panel</code> to get the volume status on your BAR:
</p>
<pre>panel_volume()
{
        volStatus=$(amixer get Master | tail -n 1 | cut -d '[' -f 4 | sed 's/].*//g')
        volLevel=$(amixer get Master | tail -n 1 | cut -d '[' -f 2 | sed 's/%.*//g')
        # is alsa muted or not muted?
        if [ "$volStatus" == "on" ]
        then
                echo "%{Fyellowgreen} $volLevel %{F-}"
        else
                # If it is muted, make the font red
                echo "%{Findianred} $volLevel %{F-}"
        fi
}</pre>
<p>Next, we will have to make sure it is called and redirected to <code>$PANEL_FIFO</code>:
</p>
<pre>while true; do
echo "S" "$(panel_volume) $(panel_clock)" &gt; "$PANEL_FIFO"
        sleep 1s
done &amp;
</pre>
<h4><span class="mw-headline" id="Using_polybar">Using polybar</span></h4>
<p><a href="../en/Polybar.html" title="Polybar">Polybar</a> can be used by adding <code>polybar <i>example</i> &amp;</code> to your bspwmrc configuration file, where <code><i>example</i></code> is the name of the bar.
</p>
<h3><span class="mw-headline" id="Scratchpad">Scratchpad</span></h3>
<h4><span class="mw-headline" id="Using_pid">Using pid</span></h4>
<p>You can emulate a dropdown terminal. 
</p>
<p>First create a file called <code>/usr/local/bin/scratch</code>:
</p>
<pre>#!/bin/bash

name="$1"
filename=/tmp/"$1"

bspc_write_nodeid() {
    while true
    do
        flag=false
        for id in $(bspc query -d focused -N -n .floating.sticky.hidden)
        do
            bspc query --node $id -T | grep -q $name &amp;&amp; { echo $id &gt; $filename; flag=true; break; }
        done
        [[ "$flag" == "true" ]] &amp;&amp; break
        sleep 0.1s
    done
}

hide_all_except_current(){
    for id in $(bspc query -d focused -N -n .floating.sticky.!hidden)
    do
        bspc query --node $id -T | grep -qv $name &amp;&amp; bspc node $id --flag hidden=on
    done
}

toggle_hidden() {
    [ -e "$filename" ] || exit 1
    hide_all_except_current
    id=$(&lt;$filename)
    bspc node $id --flag hidden -f
}

create_terminal(){
    alacritty --class="$name","$name" -e $1 &amp;
}

if ! ps -ef | grep -q "[c]lass=$name"
then
    bspc rule -a "$name" --one-shot state=floating sticky=on hidden=on
    case "$name" in
        "htop")
            create_terminal htop
            ;;
        "neomutt")
            create_terminal neomutt
            ;;
        "newsboat")
            create_terminal newsboat
            ;;
        "ranger")
            create_terminal ranger
            ;;
        "terminal")
            create_terminal $SHELL
            ;;
        *)
            exit 1
    esac
    dunstify "Scratch: starting $name"
    bspc_write_nodeid
    toggle_hidden
else
    toggle_hidden
fi
</pre>
<p>The <code>terminal</code> application is alacritty. Modify the following class specification and command execution in above script for other terminals.
</p>
<pre> 
alacritty --class="$name","$name" -e $1 &amp;
</pre>
<p>For toggling the scratchpad, modify <code>~/.config/sxhkd/sxhkdrc</code>:
</p>
<pre># scratchpads
super + alt + {b,g,i,space,t}
    scratch {newsboat,neomutt,ranger,terminal,htop}
</pre>
<p><br>
</p>
<h5><span class="mw-headline" id="Scratchpad_status_using_Polybar">Scratchpad status using Polybar</span></h5>
<p>Modify polybar config with:
</p>
<pre> 
modules-left = scratchpad

[module/scratchpad]
type = custom/script
interval = 0.1
exec = $XDG_CONFIG_HOME/polybar/scratchpads_status.sh
</pre>
<p><br>
And create a file <code>$XDG_CONFIG_HOME/polybar/scratchpads_status.sh</code> with:
</p>
<pre> 
#!/bin/bash

names="
htop H
neomutt M
newsboat N
ranger R
terminal T
"
status=""
cmd=$(ps -ef)

check_scratchpad() {
    grep -q "[c]lass=$1" &lt;&lt;&lt; "$cmd"
}

IFS=$'\n'
for name in $names
do
    status+=$(check_scratchpad ${name% *} &amp;&amp; echo ${name#* })
done

if [ -n "$status" ]
then
    echo "[$status]"
else
    echo ""
fi
</pre>
<h4><span class="mw-headline" id="Using_class_name">Using class name</span></h4>
<p>In this example we are going to use <i>termite</i> with a custom class name as our dropdown terminal. It does not have to be <i>termite</i>.
</p>
<p>First create a file in your path with the following content and make it executable. In this example let us call it <code>scratchpad.sh</code>:
</p>
<pre>#!/usr/bin/bash

if [ -z $1 ]; then
	echo "Usage: $0 &lt;name of hidden scratchpad window&gt;"
	exit 1
fi
    
pids=$(xdotool search --class ${1})
for pid in $pids; do
	echo "Toggle $pid"
	bspc node $pid --flag hidden -f
done
</pre>
<p>Then add this to your bspwm config.
</p>
<pre>...
bspc rule -a dropdown sticky=on state=floating hidden=on
termite --class dropdown -e "zsh -i" &amp;
...
</pre>
<p>To toggle the window a custom rule in <a href="../en/Sxhkd.html" title="Sxhkd">sxhkd</a> is necessary. Give as parameter the custom class name.
</p>
<pre>super + u
        scratchpad.sh dropdown
</pre>
<h4><span class="mw-headline" id="Other">Other</span></h4>
<p>For a scratch-pad which can use any window type without pre-defined rules, see: <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/bspwm/comments/3xnwdf/i3_like_scratch_for_any_window_possible/cy6i585">[1]</a>
</p>
<p>For a more sophisticated scratchpad script that supports many terminals out of the box and has flags for doing things like optionally starting a tmuxinator/tmux session, turning any window into a scratchpad on the fly, and automatically resizing a scratchpad to fit the current monitor see <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tdrop-git/">tdrop-git</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Different_monitor_configurations_for_different_machines">Different monitor configurations for different machines</span></h3>
<p>Since the <code>bspwmrc</code> is a shell script, it allows you to do things like these:
</p>
<pre> #!/bin/bash -
 
 if [[ $HOSTNAME == myhost ]]; then
     bspc monitor eDP1 -d I II III IV V VI VII VIII IX X
 elif [[ $HOSTNAME == otherhost ]]; then
     bspc wm -O VGA-0 VGA-1
     bspc monitor VGA-0 -d I II III IV V
     bspc monitor VGA-1 -d VI VII VIII IX X
 elif [[ $HOSTNAME == yetanotherhost ]]; then
     bspc wm -O DVI-I-2 DVI-I-3
     bspc monitor DVI-I-3 -d VI VII VIII IX X
     bspc monitor DVI-I-2 -d I II III IV V
 fi
</pre>
<h3><span class="mw-headline" id="Set_up_a_desktop_where_all_windows_are_floating">Set up a desktop where all windows are floating</span></h3>
<p>Here is how to setup the desktop 3 to have only floating windows. It can be useful for GIMP or other applications with multiple windows.
</p>
<p>Put this script somewhere in your <code>$PATH</code> and call it from <code>.xinitrc</code> or similar (with a <code>&amp;</code> at the end):
</p>
<pre>#!/bin/bash

 # change the desktop number here
 FLOATING_DESKTOP_ID=$(bspc query -D -d '^3')

 bspc subscribe node_add | while read -a msg ; do
    desk_id=${msg[2]}
    wid=${msg[4]}
    [ "$FLOATING_DESKTOP_ID" = "$desk_id" ] &amp;&amp; bspc node "$wid" -t floating
 done
 
</pre>
<p>(<a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/issues/428#issuecomment-199985423">source</a>)
</p>
<h3><span class="mw-headline" id="Keyboard">Keyboard</span></h3>
<p>Bspwm does not handle any keyboard input and instead provides the <i>bspc</i> program as its interface.
</p>
<p>For keyboard shortcuts you will have to setup a hotkey daemon like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sxhkd">sxhkd</a></span> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sxhkd-git/">sxhkd-git</a></span><sup><small>AUR</small></sup> for the development version).
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Blank_screen_and_keybindings_do_not_work">Blank screen and keybindings do not work</span></h3>
<ul>
<li>Make sure <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sxhkd">sxhkd</a></span> is installed.</li>
<li>Make sure you are starting <i>sxhkd</i> (in the background as it is blocking).</li>
<li>Make sure <code>~/.config/bspwm/bspwmrc</code> is executable.</li>
<li>The example configuration file for <i>sxhkd</i> specifies <a href="../en/Rxvt-unicode.html" class="mw-redirect" title="Urxvt">urxvt</a> as the terminal emulator. If you do not have this installed, edit <code>~/.config/sxhkd/sxhkdrc</code> to point to the terminal emulator of your choosing.</li>
</ul>
<h3><span class="mw-headline" id="Cursor_themes_do_not_apply_to_the_desktop">Cursor themes do not apply to the desktop</span></h3>
<p>See <a href="../en/Cursor_themes.html#Change_X_shaped_default_cursor" title="Cursor themes">Cursor themes#Change X shaped default cursor</a>
</p>
<h3><span class="mw-headline" id="Window_box_larger_than_the_actual_application">Window box larger than the actual application</span></h3>
<p>This can happen if you are using GTK3 applications and usually for dialog windows. Create or add the following: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/gtk.css</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">.window-frame, .window-frame:backdrop {
  box-shadow: 0 0 0 black;
  border-style: none;
  margin: 0;
  border-radius: 0;
}
    
.titlebar {
  border-radius: 0;
}
</pre>
<p>(source: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1404973#p1404973">Bspwm forum thread</a>)
</p>
<h3><span class="mw-headline" id="Problems_with_Java_applications">Problems with Java applications</span></h3>
<p>If you have problems, like Java application Windows not resizing, or menus immediately closing after you click, see <a href="../en/Java.html#Gray_window,_applications_not_resizing_with_WM,_menus_immediately_closing" title="Java">Java#Gray window, applications not resizing with WM, menus immediately closing</a>.
</p>
<p>Furthermore, some applications based on Java can not display any window content at all (e.g. Intellij IDEs like PyCharm, CLion, etc). A solution is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wmname">wmname</a></span> and add the following line in your <code>~/.config/bspwm/bspwmrc</code>:
</p>
<pre>wmname LG3D
</pre>
<p>Additionally, these errors can often be solved by setting an environment variable for the JVM within <code>bspwmrc</code> or a shell rc like <code>~/.bashrc</code>, since BSPWM is a non reparenting WM.
</p>
<pre>export _JAVA_AWT_WM_NONREPARENTING=1
</pre>
<h3><span class="mw-headline" id="Problems_with_keybindings_using_fish">Problems with keybindings using fish</span></h3>
<p>If you use <a href="../en/Fish.html" title="Fish">fish</a>, you will find that you are unable to switch desktops. This is because bspc's use of the ^ character is incompatible with fish. You can fix this by explicitly telling sxhkd to use bash to execute commands:
</p>
<pre>$ set -U SXHKD_SHELL /usr/bin/bash
</pre>
<p>Alternatively, the ^ character may be escaped with a backslash in your sxhkdrc file.
</p>
<h3><span class="mw-headline" id="Performance_issues_using_fish">Performance issues using fish</span></h3>
<p><a href="../en/Sxhkd.html" title="Sxhkd">sxhkd</a> uses the shell set in the SHELL environment variable in order to execute commands. <a href="../en/Fish.html" title="Fish">fish</a> can have long initialization time due to large or improper configuration files, thus all sxhkd commands can take much longer to execute than with other shells. To fix this without changing your default SHELL you can make tell sxhkd explicitly to use bash, or another faster shell to execute commands (for example, sh):
</p>
<pre>$ set -U SXHKD_SHELL sh
</pre>
<h3>
<span id="Error_messages_.22Could_not_grab_key_43_with_modfield_68.22_on_start"></span><span class="mw-headline" id='Error_messages_"Could_not_grab_key_43_with_modfield_68"_on_start'>Error messages "Could not grab key 43 with modfield 68" on start</span>
</h3>
<p>Either you try to use the same key twice, or you start sxhkd twice. Check bspwmrc and <code>~/.profile</code> or <code>~/.bash_profile</code> for excessive commands starting sxhkd.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>Mailing List: bspwm <i>at</i> librelist.com.</li>
<li>
<code>#bspwm</code> - IRC channel at irc.libera.chat</li>
<li>
<a rel="nofollow" class="external text" href="https://matrix.to/#/%23bspwm:matrix.org"><code>#bspwm:matrix.org</code></a> - Matrix channel</li>
<li>
<a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=149444">https://bbs.archlinux.org/viewtopic.php?id=149444</a> - Arch BBS thread</li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/baskerville/bspwm">https://github.com/baskerville/bspwm</a> - GitHub project</li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/windelicato/dotfiles/wiki/bspwm-for-dummies">https://github.com/windelicato/dotfiles/wiki/bspwm-for-dummies</a> - earsplit's "bspwm for dummies"</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Tiling_window_managers.html" title="Category:Tiling window managers">Tiling window managers</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Bspwm&amp;oldid=808012">https://wiki.archlinux.org/index.php?title=Bspwm&amp;oldid=808012</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 9 May 2024, at 21:01.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
