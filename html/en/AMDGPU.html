<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>AMDGPU - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-AMDGPU rootpage-AMDGPU skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Selecting_the_right_driver" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Selecting_the_right_driver">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Selecting the right driver</span>
			</div>
		</a>
		
		<ul id="toc-Selecting_the_right_driver-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Experimental" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Experimental">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Experimental</span>
				</div>
			</a>
			
			<ul id="toc-Experimental-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_Southern_Islands_(SI)_and_Sea_Islands_(CIK)_support" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enable_Southern_Islands_(SI)_and_Sea_Islands_(CIK)_support">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Enable Southern Islands (SI) and Sea Islands (CIK) support</span>
				</div>
			</a>
			
			<ul id="toc-Enable_Southern_Islands_(SI)_and_Sea_Islands_(CIK)_support-sublist" class="vector-toc-list">
				<li id="toc-Load_amdgpu_driver" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Load_amdgpu_driver">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.1</span>
					<span>Load amdgpu driver</span>
				</div>
			</a>
			
			<ul id="toc-Load_amdgpu_driver-sublist" class="vector-toc-list">
				<li id="toc-Set_module_parameters_in_kernel_command_line" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Set_module_parameters_in_kernel_command_line">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.1.1</span>
					<span>Set module parameters in kernel command line</span>
				</div>
			</a>
			
			<ul id="toc-Set_module_parameters_in_kernel_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Specify_the_correct_module_order" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Specify_the_correct_module_order">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.2</span>
					<span>Specify the correct module order</span>
				</div>
			</a>
			
			<ul id="toc-Specify_the_correct_module_order-sublist" class="vector-toc-list">
				<li id="toc-Set_kernel_module_parameters" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Set_kernel_module_parameters">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.2.1</span>
					<span>Set kernel module parameters</span>
				</div>
			</a>
			
			<ul id="toc-Set_kernel_module_parameters-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Compile_kernel_which_supports_amdgpu_driver" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Compile_kernel_which_supports_amdgpu_driver">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.2.2</span>
					<span>Compile kernel which supports amdgpu driver</span>
				</div>
			</a>
			
			<ul id="toc-Compile_kernel_which_supports_amdgpu_driver-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-ACO_compiler" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ACO_compiler">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>ACO compiler</span>
				</div>
			</a>
			
			<ul id="toc-ACO_compiler-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Loading" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Loading">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Loading</span>
			</div>
		</a>
		
		<ul id="toc-Loading-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Xorg_configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Xorg_configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Xorg configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Xorg_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Xorg configuration subsection</span>
			</button>
		
		<ul id="toc-Xorg_configuration-sublist" class="vector-toc-list">
			<li id="toc-Tear_free_rendering" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tear_free_rendering">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Tear free rendering</span>
				</div>
			</a>
			
			<ul id="toc-Tear_free_rendering-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DRI_level" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#DRI_level">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>DRI level</span>
				</div>
			</a>
			
			<ul id="toc-DRI_level-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Variable_refresh_rate" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Variable_refresh_rate">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Variable refresh rate</span>
				</div>
			</a>
			
			<ul id="toc-Variable_refresh_rate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-10-bit_color" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#10-bit_color">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>10-bit color</span>
				</div>
			</a>
			
			<ul id="toc-10-bit_color-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reduce_output_latency" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Reduce_output_latency">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Reduce output latency</span>
				</div>
			</a>
			
			<ul id="toc-Reduce_output_latency-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Features" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Features">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Features</span>
			</div>
		</a>
		
			<button aria-controls="toc-Features-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Features subsection</span>
			</button>
		
		<ul id="toc-Features-sublist" class="vector-toc-list">
			<li id="toc-Video_acceleration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Video_acceleration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Video acceleration</span>
				</div>
			</a>
			
			<ul id="toc-Video_acceleration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Monitoring" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Monitoring">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Monitoring</span>
				</div>
			</a>
			
			<ul id="toc-Monitoring-sublist" class="vector-toc-list">
				<li id="toc-CLI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#CLI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2.1</span>
					<span>CLI</span>
				</div>
			</a>
			
			<ul id="toc-CLI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GUI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GUI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2.2</span>
					<span>GUI</span>
				</div>
			</a>
			
			<ul id="toc-GUI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manually" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Manually">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2.3</span>
					<span>Manually</span>
				</div>
			</a>
			
			<ul id="toc-Manually-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Overclocking" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Overclocking">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Overclocking</span>
				</div>
			</a>
			
			<ul id="toc-Overclocking-sublist" class="vector-toc-list">
				<li id="toc-Boot_parameter" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Boot_parameter">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.1</span>
					<span>Boot parameter</span>
				</div>
			</a>
			
			<ul id="toc-Boot_parameter-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Manual">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.2</span>
					<span>Manual</span>
				</div>
			</a>
			
			<ul id="toc-Manual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Assisted" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Assisted">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.3</span>
					<span>Assisted</span>
				</div>
			</a>
			
			<ul id="toc-Assisted-sublist" class="vector-toc-list">
				<li id="toc-CLI_tools" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#CLI_tools">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.3.1</span>
					<span>CLI tools</span>
				</div>
			</a>
			
			<ul id="toc-CLI_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GUI_tools" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#GUI_tools">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.3.2</span>
					<span>GUI tools</span>
				</div>
			</a>
			
			<ul id="toc-GUI_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Startup_on_boot" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Startup_on_boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.4</span>
					<span>Startup on boot</span>
				</div>
			</a>
			
			<ul id="toc-Startup_on_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Performance_levels" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Performance_levels">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Performance levels</span>
				</div>
			</a>
			
			<ul id="toc-Performance_levels-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Power_profiles" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Power_profiles">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.5</span>
					<span>Power profiles</span>
				</div>
			</a>
			
			<ul id="toc-Power_profiles-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_GPU_display_scaling" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enable_GPU_display_scaling">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.6</span>
					<span>Enable GPU display scaling</span>
				</div>
			</a>
			
			<ul id="toc-Enable_GPU_display_scaling-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Virtual_display_on_headless_setups" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Virtual_display_on_headless_setups">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.7</span>
					<span>Virtual display on headless setups</span>
				</div>
			</a>
			
			<ul id="toc-Virtual_display_on_headless_setups-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-User_queues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#User_queues">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.8</span>
					<span>User queues</span>
				</div>
			</a>
			
			<ul id="toc-User_queues-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Module_parameters" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Module_parameters">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Module parameters</span>
				</div>
			</a>
			
			<ul id="toc-Module_parameters-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg_or_applications_will_not_start" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg_or_applications_will_not_start">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Xorg or applications will not start</span>
				</div>
			</a>
			
			<ul id="toc-Xorg_or_applications_will_not_start-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Screen_artifacts_and_frequency_problem" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Screen_artifacts_and_frequency_problem">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Screen artifacts and frequency problem</span>
				</div>
			</a>
			
			<ul id="toc-Screen_artifacts_and_frequency_problem-sublist" class="vector-toc-list">
				<li id="toc-Artifacts_in_Chromium" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Artifacts_in_Chromium">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.1</span>
					<span>Artifacts in Chromium</span>
				</div>
			</a>
			
			<ul id="toc-Artifacts_in_Chromium-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-R9_390_series_poor_performance_and/or_instability" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#R9_390_series_poor_performance_and/or_instability">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>R9 390 series poor performance and/or instability</span>
				</div>
			</a>
			
			<ul id="toc-R9_390_series_poor_performance_and/or_instability-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Freezes_with_&quot;[drm]_IP_block:gmc_v8_0_is_hung!&quot;_kernel_error" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Freezes_with_&quot;[drm]_IP_block:gmc_v8_0_is_hung!&quot;_kernel_error">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>Freezes with "[drm] IP block:gmc_v8_0 is hung!" kernel error</span>
				</div>
			</a>
			
			<ul id="toc-Freezes_with_&quot;[drm]_IP_block:gmc_v8_0_is_hung!&quot;_kernel_error-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Screen_flickering_white/gray" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Screen_flickering_white/gray">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Screen flickering white/gray</span>
				</div>
			</a>
			
			<ul id="toc-Screen_flickering_white/gray-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-System_freeze_or_crash_when_gaming_on_Vega_cards" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#System_freeze_or_crash_when_gaming_on_Vega_cards">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.7</span>
					<span>System freeze or crash when gaming on Vega cards</span>
				</div>
			</a>
			
			<ul id="toc-System_freeze_or_crash_when_gaming_on_Vega_cards-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-WebRenderer_(Firefox)_corruption" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WebRenderer_(Firefox)_corruption">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8</span>
					<span>WebRenderer (Firefox) corruption</span>
				</div>
			</a>
			
			<ul id="toc-WebRenderer_(Firefox)_corruption-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Double-speed_or_&quot;chipmunk&quot;_audio,_or_no_audio_when_a_4K@60Hz_device_is_connected" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Double-speed_or_&quot;chipmunk&quot;_audio,_or_no_audio_when_a_4K@60Hz_device_is_connected">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9</span>
					<span>Double-speed or "chipmunk" audio, or no audio when a 4K@60Hz device is connected</span>
				</div>
			</a>
			
			<ul id="toc-Double-speed_or_&quot;chipmunk&quot;_audio,_or_no_audio_when_a_4K@60Hz_device_is_connected-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Issues_with_power_management_/_dynamic_re-activation_of_a_discrete_amdgpu_graphics_card" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Issues_with_power_management_/_dynamic_re-activation_of_a_discrete_amdgpu_graphics_card">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.10</span>
					<span>Issues with power management / dynamic re-activation of a discrete amdgpu graphics card</span>
				</div>
			</a>
			
			<ul id="toc-Issues_with_power_management_/_dynamic_re-activation_of_a_discrete_amdgpu_graphics_card-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Frozen_or_unresponsive_display_(flip_done_timed_out)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Frozen_or_unresponsive_display_(flip_done_timed_out)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.11</span>
					<span>Frozen or unresponsive display (flip_done timed out)</span>
				</div>
			</a>
			
			<ul id="toc-Frozen_or_unresponsive_display_(flip_done_timed_out)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-kfd:_amdgpu:_TOPAZ_not_supported_in_kfd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#kfd:_amdgpu:_TOPAZ_not_supported_in_kfd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.12</span>
					<span>kfd: amdgpu: TOPAZ not supported in kfd</span>
				</div>
			</a>
			
			<ul id="toc-kfd:_amdgpu:_TOPAZ_not_supported_in_kfd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-High_idle_power_draw_due_to_MCLK_locked_at_MAX_(1000MHz),_or_MIN_(96MHz)_causing_low_game_performance_(on_6.4_kernel)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#High_idle_power_draw_due_to_MCLK_locked_at_MAX_(1000MHz),_or_MIN_(96MHz)_causing_low_game_performance_(on_6.4_kernel)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.13</span>
					<span>High idle power draw due to MCLK locked at MAX (1000MHz), or MIN (96MHz) causing low game performance (on 6.4 kernel)</span>
				</div>
			</a>
			
			<ul id="toc-High_idle_power_draw_due_to_MCLK_locked_at_MAX_(1000MHz),_or_MIN_(96MHz)_causing_low_game_performance_(on_6.4_kernel)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Failure_to_suspend_to_RAM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Failure_to_suspend_to_RAM">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.14</span>
					<span>Failure to suspend to RAM</span>
				</div>
			</a>
			
			<ul id="toc-Failure_to_suspend_to_RAM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wrong_GPU_clocks_causing_multiple_issues" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wrong_GPU_clocks_causing_multiple_issues">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.15</span>
					<span>Wrong GPU clocks causing multiple issues</span>
				</div>
			</a>
			
			<ul id="toc-Wrong_GPU_clocks_causing_multiple_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-AMD_dedicated_GPU_HDMI_freezing_issue_on_Wayland" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#AMD_dedicated_GPU_HDMI_freezing_issue_on_Wayland">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.16</span>
					<span>AMD dedicated GPU HDMI freezing issue on Wayland</span>
				</div>
			</a>
			
			<ul id="toc-AMD_dedicated_GPU_HDMI_freezing_issue_on_Wayland-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Colors_appear_washed_out_and_dim_on_laptops" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Colors_appear_washed_out_and_dim_on_laptops">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.17</span>
					<span>Colors appear washed out and dim on laptops</span>
				</div>
			</a>
			
			<ul id="toc-Colors_appear_washed_out_and_dim_on_laptops-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-System_freezes_or_reboots_when_idle" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#System_freezes_or_reboots_when_idle">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.18</span>
					<span>System freezes or reboots when idle</span>
				</div>
			</a>
			
			<ul id="toc-System_freezes_or_reboots_when_idle-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">AMDGPU</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/AMDGPU" title="AMDGPU – Deutsch" lang="de" hreflang="de" data-title="AMDGPU" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/AMDGPU.html" title="AMDGPU – magyar" lang="hu" hreflang="hu" data-title="AMDGPU" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/AMDGPU" title="AMDGPU – 日本語" lang="ja" hreflang="ja" data-title="AMDGPU" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/AMDGPU.html" title="AMDGPU – русский" lang="ru" hreflang="ru" data-title="AMDGPU" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/AMDGPU" title="AMDGPU – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="AMDGPU" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/ATI.html" title="ATI">ATI</a></li>
<li><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
<li><a href="../en/Vulkan.html" title="Vulkan">Vulkan</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/AMDGPU" class="extiw" title="wikipedia:AMDGPU">AMDGPU</a> is the open source graphics driver for AMD Radeon graphics cards since the <a href="https://en.wikipedia.org/wiki/Graphics_Core_Next" class="extiw" title="wikipedia:Graphics Core Next">Graphics Core Next</a> family.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Selecting_the_right_driver">Selecting the right driver</h2></div>
<p>Depending on the card you have, find the right driver in <a href="../en/Xorg.html#AMD" title="Xorg">Xorg#AMD</a>. This driver supports <a rel="nofollow" class="external text" href="https://www.x.org/wiki/RadeonFeature/">Southern Islands</a> (GCN 1, released in 2012) cards and later. AMD has no plans to support pre-GCN GPUs.
</p>
<p>Owners of unsupported GPUs may use the open source <a href="../en/ATI.html" title="ATI">ATI</a> driver.
</p>
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> package, which provides both the DRI driver for 3D acceleration and VA-API/VDPAU drivers for <a href="#Video_acceleration">accelerated video decoding</a>.
</p>
<ul>
<li>For 32-bit application support, also install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa">lib32-mesa</a></span> package from the <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> repository.</li>
<li>For 2D acceleration under <a href="../en/Xorg.html" title="Xorg">Xorg</a>, you may optionally install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span> package, which provides the AMD-specific DDX driver. Most systems using the <code>amdgpu</code> kernel driver will work correctly with the generic <i>modesetting</i> DDX built into <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server">xorg-server</a></span>. However, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span> could be required for features such as <code>TearFree</code> or to resolve hardware-specific issues on some AMD hardware, like <i>Southern Islands</i>. Read the Note at <a href="../en/Intel_graphics.html#Installation" title="Intel graphics">Intel graphics#Installation</a>.</li>
<li>For <a href="../en/Vulkan.html" title="Vulkan">Vulkan</a> support install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vulkan-radeon">vulkan-radeon</a></span> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-vulkan-radeon">lib32-vulkan-radeon</a></span> for 32-bit applications).</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Experimental">Experimental</h3></div>
<p>It may be worthwhile for some users to use the upstream experimental build of mesa.
</p>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mesa-git/">mesa-git</a></span><sup><small>AUR</small></sup> package, which provides the DRI driver for 3D acceleration.
</p>
<ul>
<li>For 32-bit application support, also install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-mesa-git/">lib32-mesa-git</a></span><sup><small>AUR</small></sup> package from the <i>mesa-git</i> repository or the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.</li>
<li>For the DDX driver (which provides 2D acceleration in <a href="../en/Xorg.html" title="Xorg">Xorg</a>), install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xf86-video-amdgpu-git/">xf86-video-amdgpu-git</a></span><sup><small>AUR</small></sup> package.</li>
<li>For <a href="../en/Vulkan.html" title="Vulkan">Vulkan</a> support using the <i>mesa-git</i> repository, install the <i>vulkan-radeon-git</i> package. Optionally install the <i>lib32-vulkan-radeon-git</i> package for 32-bit application support. This should not be required if building <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mesa-git/">mesa-git</a></span><sup><small>AUR</small></sup> from the AUR.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> Users who do not wish to go through the process of compiling the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mesa-git/">mesa-git</a></span><sup><small>AUR</small></sup> package can use the <a href="../en/Unofficial_user_repositories.html#mesa-git" title="Unofficial user repositories">mesa-git</a> unofficial repository.</div>
<div class="mw-heading mw-heading3"><h3 id="Enable_Southern_Islands_(SI)_and_Sea_Islands_(CIK)_support">
<span id="Enable_Southern_Islands_.28SI.29_and_Sea_Islands_.28CIK.29_support"></span>Enable Southern Islands (SI) and Sea Islands (CIK) support</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-cut.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is being considered for removal.</b></p>
<div>
<b>Reason:</b> When <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/amd-gfx/2025-November/133749.html">upstream changes</a> making AMDGPU the default reach <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, this will no longer need to be documented. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:AMDGPU.html">Talk:AMDGPU</a>)</div>
</div>
<p><a href="../en/Kernel.html#Officially_supported_kernels" title="Kernel">Officially supported kernels</a> enable AMDGPU support for cards of the Southern Islands (GCN 1, released in 2012) and Sea Islands (GCN 2, released in 2013). The <code>amdgpu</code> kernel driver needs to be loaded before the <a href="../en/ATI.html" title="ATI">radeon</a> one. You can check which kernel driver is loaded by running <code>lspci -k</code>. It should be like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci -k -d ::03xx</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Curacao PRO [Radeon R7 370 / R9 270/370 OEM]
	Subsystem: Gigabyte Technology Co., Ltd Device 226c
	Kernel driver in use: amdgpu
	Kernel modules: radeon, amdgpu
</pre>
<p>If the <code>amdgpu</code> driver is not in use, follow instructions in the next section.
</p>
<div class="mw-heading mw-heading4"><h4 id="Load_amdgpu_driver">Load amdgpu driver</h4></div>
<p>The <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Module parameter">module parameters</a> of both <code>amdgpu</code> and <code>radeon</code> modules are <code>cik_support=</code> and <code>si_support=</code>.
</p>
<p>They need to be set as kernel parameters or in a <i>modprobe</i> configuration file, and depend on the cards GCN version.
</p>
<p>You can use both parameters if you are unsure which kernel card you have.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a> may indicate the correct kernel parameter to use: <code>[..] amdgpu 0000:01:00.0: Use radeon.cik_support=0 amdgpu.cik_support=1 to override</code>.</div>
<div class="mw-heading mw-heading5"><h5 id="Set_module_parameters_in_kernel_command_line">Set module parameters in kernel command line</h5></div>
<p>Set one of the following <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>:
</p>
<ul>
<li>Southern Islands (SI): <code>radeon.si_support=0 amdgpu.si_support=1</code>
</li>
<li>Sea Islands (CIK): <code>radeon.cik_support=0 amdgpu.cik_support=1</code>
</li>
</ul>
<p>Furthermore, if you are using an AMD A10 APU with an integrated Sea Island (GCN 1.1) card, you may have to disable Radeon Dynamic Power Management to get a proper boot. This is a feature that dynamically re-clocks the graphics core in order to keep the APU cooler and quieter, however this feature may put you in an infinite restart loop. To disable it, following the instructions above, add <code>radeon.dpm=0</code> to the boot options.
</p>
<div class="mw-heading mw-heading4"><h4 id="Specify_the_correct_module_order">Specify the correct module order</h4></div>
<p>Make sure <code>amdgpu</code> has been set as first module in the <a href="../en/Mkinitcpio.html#MODULES" title="Mkinitcpio">Mkinitcpio#MODULES</a> array, e.g. <code>MODULES=(amdgpu radeon)</code>.
</p>
<div class="mw-heading mw-heading5"><h5 id="Set_kernel_module_parameters">Set kernel module parameters</h5></div>
<p>For Southern Islands (SI) use the <code>si_support=1</code> <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a>, for Sea Islands (CIK) use <code>cik_support=1</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/amdgpu.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options amdgpu si_support=1
options amdgpu cik_support=1</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/radeon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options radeon si_support=0
options radeon cik_support=0</pre>
<p>Make sure <code>modconf</code> is in the <code>HOOKS</code> array in <code>/etc/mkinitcpio.conf</code> and <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a>.
</p>
<div class="mw-heading mw-heading5"><h5 id="Compile_kernel_which_supports_amdgpu_driver">Compile kernel which supports amdgpu driver</h5></div>
<p>When building or compiling a <a href="../en/Kernel.html" title="Kernel">kernel</a>, <code>CONFIG_DRM_AMDGPU_SI=Y</code> and/or <code>CONFIG_DRM_AMDGPU_CIK=Y</code> should be set in the config.
</p>
<div class="mw-heading mw-heading3"><h3 id="ACO_compiler">ACO compiler</h3></div>
<p>The <a rel="nofollow" class="external text" href="https://steamcommunity.com/games/221410/announcements/detail/1602634609636894200">ACO compiler</a> is an open source shader compiler created and developed by <a href="https://en.wikipedia.org/wiki/Valve_Corporation" class="extiw" title="wikipedia:Valve Corporation">Valve Corporation</a> to directly compete with the <a rel="nofollow" class="external text" href="https://llvm.org/">LLVM compiler</a>, as well as <a href="https://en.wikipedia.org/wiki/Windows_10" class="extiw" title="wikipedia:Windows 10">Windows 10</a>. It offers lesser compilation time and also performs better while gaming than LLVM.
</p>
<p>Some benchmarks can be seen on <a rel="nofollow" class="external text" href="https://gist.github.com/pendingchaos/aba1e4c238cf039d17089f29a8c6aa63">GitHub</a> and Phoronix <a rel="nofollow" class="external autonumber" href="https://www.phoronix.com/scan.php?page=article&amp;item=radv-aco-llvm&amp;num=1">[1]</a> <a rel="nofollow" class="external autonumber" href="https://www.phoronix.com/scan.php?page=article&amp;item=radv-aco-gcn10&amp;num=1">[2]</a>.
</p>
<p>Since <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> version <a rel="nofollow" class="external text" href="https://docs.mesa3d.org/relnotes/20.2.0.html#new-features">20.2</a> ACO is the default shader compiler.
</p>
<div class="mw-heading mw-heading2"><h2 id="Loading">Loading</h2></div>
<p>The <code>amdgpu</code> kernel module is supposed to load automatically on system boot.
</p>
<p>If it does not:
</p>
<ul>
<li>Make sure to <a href="#Enable_Southern_Islands_(SI)_and_Sea_Islands_(CIK)_support">#Enable Southern Islands (SI) and Sea Islands (CIK) support</a> when needed.</li>
<li>Make sure you have the latest <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware-amdgpu">linux-firmware-amdgpu</a></span> package installed. This driver requires the latest firmware for each model to successfully boot.</li>
<li>Make sure you do <b>not</b> have <code>nomodeset</code> or <code>vga=</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>, since <code>amdgpu</code> requires <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a>.</li>
<li>Check that you have not disabled <code>amdgpu</code> by using any <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Kernel modules">kernel module blacklisting</a>.</li>
</ul>
<p>It is possible it loads, but late, after the X server requires it. In this case see <a href="../en/Kernel_mode_setting.html#Early_KMS_start" title="Kernel mode setting">Kernel mode setting#Early KMS start</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Xorg_configuration">Xorg configuration</h2></div>
<p><a href="../en/Xorg.html" title="Xorg">Xorg</a> will automatically load the driver and it will use your monitor's EDID to set the native resolution. Configuration is only required for tuning the driver.
</p>
<p>If you want manual configuration, create <code>/etc/X11/xorg.conf.d/20-amdgpu.conf</code>, and add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-amdgpu.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "OutputClass"
     Identifier "AMD"
     MatchDriver "amdgpu"
     Driver "amdgpu"
EndSection</pre>
<p>Using this section, you can enable features and tweak the driver settings, see <span class="plainlinks archwiki-template-man" title="$ man 4 amdgpu"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/amdgpu.4">amdgpu(4)</a></span> first before setting driver options.
</p>
<div class="mw-heading mw-heading3"><h3 id="Tear_free_rendering">Tear free rendering</h3></div>
<p><i>TearFree</i> controls tearing prevention using the hardware page flipping mechanism. By default, TearFree will be on for rotated outputs, outputs with RandR transforms applied, and for RandR 1.4 slave outputs, and off for everything else. Or you can configure it to be always on or always off with <code>true</code> or <code>false</code> respectively.
</p>
<pre>Option "TearFree" "true"
</pre>
<p>You can also enable TearFree temporarily with <a href="../en/Xrandr.html" title="Xrandr">xrandr</a>:
</p>
<pre>$ xrandr --output <i>output</i> --set TearFree on
</pre>
<p>Where <code><i>output</i></code> should look like <code>DisplayPort-0</code> or <code>HDMI-A-0</code> and can be acquired by running <code>xrandr -q</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="DRI_level">DRI level</h3></div>
<p><i>DRI</i> sets  the maximum level of DRI to enable. Valid values are <i>2</i> for DRI2 or <i>3</i> for DRI3. The default is <i>3</i> for DRI3 if the <a href="../en/Xorg.html" title="Xorg">Xorg</a> version is &gt;=  1.18.3, otherwise DRI2 is used:
</p>
<pre>Option "DRI" "3"
</pre>
<div class="mw-heading mw-heading3"><h3 id="Variable_refresh_rate">Variable refresh rate</h3></div>
<p>See <a href="../en/Variable_refresh_rate.html" title="Variable refresh rate">Variable refresh rate</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="10-bit_color">10-bit color</h3></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Many applications may have graphical artifacts or crash when 10-bit color is enabled. This notably includes <a href="../en/Steam/Troubleshooting.html#Steam:_An_X_Error_occurred" title="Steam/Troubleshooting">Steam</a>, which crashes with an X Error.</div>
<p>Newer AMD cards support 10bpc color, but the default is 24-bit color and 30-bit color must be explicitly enabled. Enabling it can reduce visible banding/artifacts in gradients, if the applications support this too. To check if your monitor supports it search for "EDID" in your <a href="../en/Xorg.html#General" title="Xorg">Xorg log file</a> (e.g. <code>/var/log/Xorg.0.log</code> or <code>~/.local/share/xorg/Xorg.0.log</code>):
</p>
<pre>[   336.695] (II) AMDGPU(0): EDID for output DisplayPort-0
[   336.695] (II) AMDGPU(0): EDID for output DisplayPort-1
[   336.695] (II) AMDGPU(0): Manufacturer: DEL  Model: a0ec  Serial#: 123456789
[   336.695] (II) AMDGPU(0): Year: 2018  Week: 23
[   336.695] (II) AMDGPU(0): EDID Version: 1.4
[   336.695] (II) AMDGPU(0): Digital Display Input
<b>[   336.695] (II) AMDGPU(0): 10 bits per channel</b>
</pre>
<p>To check whether it is currently enabled search for "Depth"):
</p>
<pre>[   336.618] (**) AMDGPU(0): Depth 30, (--) framebuffer bpp 32
[   336.618] (II) AMDGPU(0): Pixel depth = 30 bits stored in 4 bytes (32 bpp pixmaps)
</pre>
<p>With the default configuration it will instead say the depth is 24, with 24 bits stored in 4 bytes.
</p>
<p>To check whether 10-bit works, exit Xorg if you have it running and run <code>Xorg -retro</code> which will display a black and white grid, then press <code>Ctrl-Alt-F1</code> and <code>Ctrl-C</code> to exit X, and run <code>Xorg -depth 30 -retro</code>. If this works fine, then 10-bit is working.
</p>
<p>To launch in 10-bit via <code>startx</code>, use <code>startx -- -depth 30</code>. To permanently enable it, create or add to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-amdgpu.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Screen"
	Identifier "asdf"
	DefaultDepth 30
EndSection</pre>
<div class="mw-heading mw-heading3"><h3 id="Reduce_output_latency">Reduce output latency</h3></div>
<p>If you want to minimize latency you can disable page flipping and tear free:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-amdgpu.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "OutputClass"
     Identifier "AMD"
     MatchDriver "amdgpu"
     Driver "amdgpu"
     Option "EnablePageFlip" "off"
     Option "TearFree" "false"
EndSection</pre>
<p>See <a href="../en/Gaming.html#Reducing_DRI_latency" title="Gaming">Gaming#Reducing DRI latency</a> to further reduce latency.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Setting these options may cause tearing and short-lived artifacts to appear.</div>
<div class="mw-heading mw-heading2"><h2 id="Features">Features</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Video_acceleration">Video acceleration</h3></div>
<p>See <a href="../en/Hardware_video_acceleration.html#AMD/ATI" title="Hardware video acceleration">Hardware video acceleration#AMD/ATI</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Monitoring">Monitoring</h3></div>
<p>Monitoring your GPU is often used to check the temperature and also the P-states of your GPU.
</p>
<div class="mw-heading mw-heading4"><h4 id="CLI">CLI</h4></div>
<ul><li>
<b>amdgpu_top</b> — Tool to display AMDGPU usage</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Umio-Yasuno/amdgpu_top">https://github.com/Umio-Yasuno/amdgpu_top</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amdgpu_top">amdgpu_top</a></span>
</dd></dl>
<ul><li>
<b>nvtop</b> — GPUs process monitoring for AMD, Intel and NVIDIA</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Syllo/nvtop">https://github.com/Syllo/nvtop</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvtop">nvtop</a></span>
</dd></dl>
<ul><li>
<b>radeontop</b> — A GPU utilization viewer, both for the total activity percent and individual blocks</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/clbr/radeontop">https://github.com/clbr/radeontop</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=radeontop">radeontop</a></span>
</dd></dl>
<div class="mw-heading mw-heading4"><h4 id="GUI">GUI</h4></div>
<ul><li>
<b>amdgpu_top</b> — Tool to display AMDGPU usage</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Umio-Yasuno/amdgpu_top">https://github.com/Umio-Yasuno/amdgpu_top</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amdgpu_top">amdgpu_top</a></span>
</dd></dl>
<ul><li>
<b>AmdGuid</b> — A basic fan control GUI fully written in Rust.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Eraden/amdgpud">https://github.com/Eraden/amdgpud</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-wayland-bin/">amdguid-wayland-bin</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-glow-bin/">amdguid-glow-bin</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Radeon Profile</b> — A Qt5 tool to read and change current clocks of AMD Radeon cards.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/emerge-e-world/radeon-profile">https://github.com/emerge-e-world/radeon-profile</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/radeon-profile-git/">radeon-profile-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>TuxClocker</b> — A Qt5 monitoring and overclocking tool.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Lurkki14/tuxclocker">https://github.com/Lurkki14/tuxclocker</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuxclocker/">tuxclocker</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading4"><h4 id="Manually">Manually</h4></div>
<p>To check your GPU's P-states, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/pp_od_clk_voltage
</pre>
<p>To monitor your GPU, execute:
</p>
<pre># watch -n 0.5 cat /sys/kernel/debug/dri/0/amdgpu_pm_info
</pre>
<p>To check your GPU utilization, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/gpu_busy_percent
</pre>
<p>To check your GPU frequency, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/pp_dpm_sclk
</pre>
<p>To check your GPU temperature, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/hwmon/hwmon*/temp1_input
</pre>
<p>To check your VRAM frequency, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/pp_dpm_mclk
</pre>
<p>To check your VRAM usage, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/mem_info_vram_used
</pre>
<p>To check your VRAM size, execute:
</p>
<pre>$ cat /sys/class/drm/card0/device/mem_info_vram_total
</pre>
<div class="mw-heading mw-heading3"><h3 id="Overclocking">Overclocking</h3></div>
<p>Since Linux 4.17, once you have enabled the features at boot below, it is possible to adjust clocks and voltages of the graphics card via <code>/sys/class/drm/card0/device/pp_od_clk_voltage</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Boot_parameter">Boot parameter</h4></div>
<p>It is required to unlock access to adjust clocks and voltages in sysfs by appending the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">Kernel parameter</a> <code>amdgpu.ppfeaturemask=0xffffffff</code>.
</p>
<p>Not all bits are defined, and new features may be added over time. Setting all 32 bits may enable unstable features that cause problems such as screen flicker or broken resume from suspend. It should be sufficient to set the PP_OVERDRIVE_MASK bit, 0x4000, in combination with the default ppfeaturemask. To compute a reasonable parameter for your system, execute:
</p>
<pre>$ printf 'amdgpu.ppfeaturemask=0x%x\n' "$(($(cat /sys/module/amdgpu/parameters/ppfeaturemask) | 0x4000))"
</pre>
<div class="mw-heading mw-heading4"><h4 id="Manual">Manual</h4></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In sysfs, paths like <code>/sys/class/drm/...</code> are just symlinks and may change between reboots. Persistent locations can be found in <code>/sys/devices/</code>, e.g. <code>/sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0/</code>. Adjust the commands accordingly for a reliable result.</div>
<p>For in-depth information on all possible options, read the kernel documentation for <a rel="nofollow" class="external text" href="https://docs.kernel.org/gpu/amdgpu/thermal.html#pp-od-clk-voltage">amdgpu thermal control</a>.
</p>
<p>To enable manual overclocking, select the <code>manual</code> performance level as described in <a href="#Performance_levels">#Performance levels</a>.
</p>
<p>To set the GPU clock for the maximum P-state 7 on e.g. a Polaris GPU to 1209MHz and 900mV voltage, run:
</p>
<pre># echo "s 7 1209 900" &gt; /sys/class/drm/card0/device/pp_od_clk_voltage
</pre>
<p>The same procedure can be applied to the VRAM, e.g. maximum P-state 2 on Polaris 5xx series cards:
</p>
<pre># echo "m 2 1850 850" &gt; /sys/class/drm/card0/device/pp_od_clk_voltage
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Double check the entered values, as mistakes might instantly cause fatal hardware damage!</div>
<p>To apply, run:
</p>
<pre># echo "c" &gt; /sys/class/drm/card0/device/pp_od_clk_voltage
</pre>
<p>To check if it worked out, read out clocks and voltage under 3D load:
</p>
<pre># watch -n 0.5 cat /sys/kernel/debug/dri/0/amdgpu_pm_info
</pre>
<p>You can reset to the default values using:
</p>
<pre># echo "r" &gt; /sys/class/drm/card0/device/pp_od_clk_voltage
</pre>
<p>It is also possible to forbid the driver from switching to certain P-states, e.g. to workaround problems with deep powersaving P-states, such as flickering artifacts or stutter. To force the highest VRAM P-state on a card, while still allowing the GPU itself to run with lower clocks, first find the highest possible P-state, then set it:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/class/drm/card0/device/pp_dpm_mclk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">0: 96Mhz *
1: 456Mhz
2: 675Mhz
3: 1000Mhz
</pre>
<pre># echo "manual" &gt; /sys/class/drm/card0/device/power_dpm_force_performance_level
# echo "3" &gt;  /sys/class/drm/card0/device/pp_dpm_mclk
</pre>
<p>Allow only the three highest GPU P-states:
</p>
<pre># echo "5 6 7" &gt; /sys/class/drm/card0/device/pp_dpm_sclk
</pre>
<p>To set the allowed maximum power consumption of the GPU to e.g. 50 Watts, run:
</p>
<pre># echo <b>50</b>000000 &gt; /sys/class/drm/card0/device/hwmon/hwmon0/power1_cap
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The above procedure was tested with a Polaris RX 560 card. There may be different behavior or bugs with different GPUs.</div>
<div class="mw-heading mw-heading4"><h4 id="Assisted">Assisted</h4></div>
<p>If you are not inclined to fully manually overclock your GPU, there are some overclocking tools that are offered by the community to assist you to overclock and monitor your AMD GPU.
</p>
<div class="mw-heading mw-heading5"><h5 id="CLI_tools">CLI tools</h5></div>
<ul><li>
<b>amdgpu-clocks</b> — A script that can be used to monitor and set custom power states for AMD GPUs. It also offers a Systemd service to apply the settings automatically upon boot.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sibradzic/amdgpu-clocks">https://github.com/sibradzic/amdgpu-clocks</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdgpu-clocks-git/">amdgpu-clocks-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ruby-amdgpu_fan</b> — A CLI for interacting with the amdgpu Linux driver written in Ruby.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/HarlemSquirrel/amdgpu-fan-rb">https://github.com/HarlemSquirrel/amdgpu-fan-rb</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby-amdgpu_fan/">ruby-amdgpu_fan</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading5"><h5 id="GUI_tools">GUI tools</h5></div>
<ul><li>
<b>TuxClocker</b> — A Qt5 monitoring and overclocking tool.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Lurkki14/tuxclocker">https://github.com/Lurkki14/tuxclocker</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuxclocker/">tuxclocker</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>CoreCtrl</b> — A GUI overclocking tool with a WattMan-like UI that supports per-application profiles.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/corectrl/corectrl">https://gitlab.com/corectrl/corectrl</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=corectrl">corectrl</a></span>
</dd></dl>
<ul><li>
<b>LACT</b> — A GTK tool to view information and control your AMD GPU.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ilya-zlobintsev/LACT">https://github.com/ilya-zlobintsev/LACT</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lact">lact</a></span>
</dd></dl>
<ul><li>
<b>Radeon Profile</b> — A Qt5 tool to read and change current clocks of AMD Radeon cards.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/emerge-e-world/radeon-profile">https://github.com/emerge-e-world/radeon-profile</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/radeon-profile-git/">radeon-profile-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading4"><h4 id="Startup_on_boot">Startup on boot</h4></div>
<p>One way is to use systemd units, if you want your settings to apply automatically upon boot, consider looking at this <a rel="nofollow" class="external text" href="https://www.reddit.com/r/Amd/comments/agwroj/how_to_overclock_your_amd_gpu_on_linux/">Reddit thread</a> to configure and apply your settings on boot.
</p>
<p>Another way is to use udev rules for some of the values, for example, to set a low performance level to save energy:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/30-amdgpu-low-power.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="drm", DRIVERS=="amdgpu", ATTR{device/power_dpm_force_performance_level}="low"</pre>
<div class="mw-heading mw-heading3"><h3 id="Performance_levels">Performance levels</h3></div>
<p>AMDGPU offers several performance levels,  the file power_dpm_force_performance_level is used for this, it is possible to select between these levels:
</p>
<ul>
<li>
<b>auto</b>: dynamically select the optimal power profile for current conditions in the driver.</li>
<li>
<b>low</b>: clocks are forced to the lowest power state.</li>
<li>
<b>high</b>: clocks are forced to the highest power state.</li>
<li>
<b>manual</b>: user can manually adjust which power states are enabled for each clock domain (used for setting <a href="#Power_profiles">#Power profiles</a>)</li>
<li>
<b>profile_standard</b>, <b>profile_min_sclk</b>, <b>profile_min_mclk</b>, <b>profile_peak</b>: clock and power gating are disabled and the clocks are set for different profiling cases. This mode is recommended for profiling specific work loads</li>
</ul>
<p>To set the AMDGPU device to use a low performance level, the following command can be executed:
</p>
<pre># echo "low" &gt; /sys/class/drm/card0/device/power_dpm_force_performance_level
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Performance levels changes should be reapplied at every boot, see <a href="#Startup_on_boot">#Startup on boot</a> to automate this.</div>
<div class="mw-heading mw-heading3"><h3 id="Power_profiles">Power profiles</h3></div>
<p>AMDGPU offers several optimizations via power profiles, one of the most commonly used is the compute mode for OpenCL intensive applications. Available power profiles can be listed with:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/class/drm/card0/device/pp_power_profile_mode</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NUM        MODE_NAME     SCLK_UP_HYST   SCLK_DOWN_HYST SCLK_ACTIVE_LEVEL     MCLK_UP_HYST   MCLK_DOWN_HYST MCLK_ACTIVE_LEVEL
  0   BOOTUP_DEFAULT:        -                -                -                -                -                -
  1   3D_FULL_SCREEN:        0              100               30                0              100               10
  2     POWER_SAVING:       10                0               30                -                -                -
  3            VIDEO:        -                -                -               10               16               31
  4               VR:        0               11               50                0              100               10
  5        COMPUTE *:        0                5               30               10               60               25
  6           CUSTOM:        -                -                -                -                -                -
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <code>card0</code> identifies a specific GPU in your machine, in case of multiple GPUs be sure to address the right one.</div>
<p>To use a specific power profile you should first enable manual control over them with:
</p>
<pre># echo "manual" &gt; /sys/class/drm/card0/device/power_dpm_force_performance_level
</pre>
<p>Then to select a power profile by writing the NUM field associated with it, e.g. to enable COMPUTE run:
</p>
<pre># echo "5" &gt; /sys/class/drm/card0/device/pp_power_profile_mode
</pre>
<p>The exact values and limits of power profiles is managed through the <i>powerplay table</i> system. Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/upliftpowerplay/">upliftpowerplay</a></span><sup><small>AUR</small></sup> to modify the table for supported models (Polaris to Navi2x; Navi3x and Navi4x are bugged on kernel side).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Power profile changes should be reapplied at every boot, see <a href="#Startup_on_boot">#Startup on boot</a> to automate this.</div>
<div class="mw-heading mw-heading3"><h3 id="Enable_GPU_display_scaling">Enable GPU display scaling</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Xrandr.html" title="Xrandr">xrandr</a>.</b></p>
<div>
<b>Notes:</b> Not specific to AMDGPU. (Discuss in <a href="../en/Talk:AMDGPU.html#Moving_&quot;Enable_GPU_display_scaling&quot;_to_xrandr" title="Talk:AMDGPU">Talk:AMDGPU#Moving "Enable GPU display scaling" to xrandr</a>)</div>
</div>
<p>To avoid the usage of the scaler which is built in the display, and use the GPU own scaler instead, when not using the native resolution of the monitor, execute:
</p>
<pre>$ xrandr --output <i>output</i> --set "scaling mode" <i>scaling_mode</i>
</pre>
<p>Possible values for <code>"scaling mode"</code> are: <code>None</code>, <code>Full</code>, <code>Center</code>, <code>Full aspect</code>.
</p>
<ul>
<li>To show the available outputs and settings, execute: <pre>$ xrandr --prop</pre>
</li>
<li>To set <code>scaling mode = Full aspect</code> for just every available output, execute: <pre>$ for output in $(xrandr --prop | grep -E -o -i "^[A-Z\-]+-[0-9]+"); do xrandr --output "$output" --set "scaling mode" "Full aspect"; done</pre>
</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Virtual_display_on_headless_setups">Virtual display on headless setups</h3></div>
<p>AMDGPU offers GPU accelerated virtual monitors for headless setups without the use of a dummy plug. This is useful for RDP and game streaming software such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sunshine/">sunshine</a></span><sup><small>AUR</small></sup>.
</p>
<p>Choose the AMD GPU to use:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci -Dd ::03xx</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><b>1234:56:78.9</b> VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] <i>CommercialModelName</i>
</pre>
<p>Add the <code>virtual_display=<i>1234:56:78.9</i>,<i>x</i></code> <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a> for the <code>amdgpu</code> module, where <code><i>1234:56:78.9</i></code> is the PCI address of the GPU and <code><i>x</i></code> is the number of crtc (virtual monitors) to expose. Using this parameter also disables physical outputs. <a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=203339">[3]</a>
</p>
<p>Multiple GPUs can also be used by separating PCI address with a semicolon (;) as shown below:
</p>
<pre>amdgpu.virtual_display=1234:56:78.9,<i>x</i>;9876:54:32.1,<i>y</i>
</pre>
<div class="mw-heading mw-heading3"><h3 id="User_queues">User queues</h3></div>
<p>The AMDGPU driver supports user queues, which allow job submission directly to the GPU hardware without going through the kernel driver’s command submission ioctl.
Enabling this can reduce latency and improve efficiency by bypassing some kernel driver overhead.
</p>
<p>To enable user queues, set the following environment variable:
</p>
<pre>export AMD_USERQ=1
</pre>
<p><br>
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Module_parameters">Module parameters</h3></div>
<p>The amdgpu module stashes several config parameters (<code>modinfo amdgpu | grep mask</code>) in masks that are only documented in the <a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/torvalds/linux/master/drivers/gpu/drm/amd/include/amd_shared.h">kernel sources</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Xorg_or_applications_will_not_start">Xorg or applications will not start</h3></div>
<ul>
<li>"(EE) AMDGPU(0): [DRI2] DRI2SwapBuffers: drawable has no back or front?" error after opening <i>glxgears</i>, can open Xorg server but OpenGL applications crash.</li>
<li>"(EE) AMDGPU(0): Given depth (32) is not supported by amdgpu driver" error, Xorg will not start.</li>
</ul>
<p>Setting the screen's depth under Xorg to 16 or 32 will cause problems/crash. To avoid that, you should use a standard screen depth of 24 by adding this to your "screen" section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-screen.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Screen"
       Identifier     "Screen"
       DefaultDepth    24
       SubSection      "Display"
               Depth   24
       EndSubSection
EndSection
</pre>
<div class="mw-heading mw-heading3"><h3 id="Screen_artifacts_and_frequency_problem">Screen artifacts and frequency problem</h3></div>
<p><a href="../en/ATI.html#Dynamic_power_management" title="ATI">Dynamic power management</a> may cause screen artifacts to appear when displaying to monitors at higher frequencies (anything above 60Hz) due to issues in the way GPU clock speeds are managed<a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=96868">[4]</a><a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/234">[5]</a>.
</p>
<p>A workaround <a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=96868#c13">[6]</a> is to set the <code>high</code> or <code>low</code> performance level as described in <a href="#Performance_levels">#Performance levels</a>.
</p>
<p>Changing the kernel version can also help eliminate this issue. For example, it appears to be fixed in 6.12.9.
</p>
<div class="mw-heading mw-heading4"><h4 id="Artifacts_in_Chromium">Artifacts in Chromium</h4></div>
<p>If you see artifacts in <a href="../en/Chromium.html" title="Chromium">Chromium</a>, forcing the vulkan-based backend might help. Go to <code>chrome://flags</code> and <i>enable</i> <code>#ignore-gpu-blocklist</code> and <code>#enable-vulkan</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="R9_390_series_poor_performance_and/or_instability">
<span id="R9_390_series_poor_performance_and.2For_instability"></span>R9 390 series poor performance and/or instability</h3></div>
<p>If you experience issues <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/mesa/mesa/-/issues/1222">[7]</a> with a AMD R9 390 series graphics card, set <code>radeon.cik_support=0 radeon.si_support=0 amdgpu.cik_support=1 amdgpu.si_support=1 amdgpu.dc=1</code> as <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> to force the use of amdgpu driver instead of radeon.
</p>
<p>If it still does not work, disabling DPM might help, add <code>radeon.cik_support=0 radeon.si_support=0 amdgpu.cik_support=1 amdgpu.si_support=1</code> to the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Freezes_with_&quot;[drm]_IP_block:gmc_v8_0_is_hung!&quot;_kernel_error">
<span id="Freezes_with_.22.5Bdrm.5D_IP_block:gmc_v8_0_is_hung.21.22_kernel_error"></span>Freezes with "[drm] IP block:gmc_v8_0 is hung!" kernel error</h3></div>
<p>If you experience freezes and kernel crashes during a GPU intensive task with the kernel error " [drm] IP block:gmc_v8_0 is hung!" <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/issues/226">[8]</a>, a workaround is to set <code>amdgpu.vm_update_mode=3</code> as <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> to force the GPUVM page tables update to be done using the CPU. Downsides are listed here <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/226#note_308665">[9]</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Screen_flickering_white/gray">
<span id="Screen_flickering_white.2Fgray"></span>Screen flickering white/gray</h3></div>
<p>When you change resolution or connect to an external monitor, if the screen flickers or stays white, add <code>amdgpu.sg_display=0</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="System_freeze_or_crash_when_gaming_on_Vega_cards">System freeze or crash when gaming on Vega cards</h3></div>
<p><a href="../en/ATI.html#Dynamic_power_management" title="ATI">Dynamic power management</a> may cause a complete system freeze whilst gaming due to issues in the way GPU clock speeds are managed. <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/716">[10]</a> A workaround is to set the <code>high</code> performance level as described in <a href="#Performance_levels">#Performance levels</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="WebRenderer_(Firefox)_corruption">
<span id="WebRenderer_.28Firefox.29_corruption"></span>WebRenderer (Firefox) corruption</h3></div>
<p>Artifacts and other anomalies may present themselves (e.g. inability to select extension options) when <a href="../en/Firefox/Tweaks.html#WebRender" title="Firefox/Tweaks">WebRenderer</a> is force enabled by the user. Workaround is to fall back to OpenGL compositing.
</p>
<div class="mw-heading mw-heading3"><h3 id="Double-speed_or_&quot;chipmunk&quot;_audio,_or_no_audio_when_a_4K@60Hz_device_is_connected">
<span id="Double-speed_or_.22chipmunk.22_audio.2C_or_no_audio_when_a_4K.4060Hz_device_is_connected"></span>Double-speed or "chipmunk" audio, or no audio when a 4K@60Hz device is connected</h3></div>
<p>This is sometimes caused by a communication issue between an AMDGPU device and a 4K display connected over HDMI. A possible workaround is to enable HDR or "Ultra HD Deep Color" via the display's built-in settings. On many Android based TVs, this means setting this to "Standard" instead of "Optimal".
</p>
<div class="mw-heading mw-heading3"><h3 id="Issues_with_power_management_/_dynamic_re-activation_of_a_discrete_amdgpu_graphics_card">
<span id="Issues_with_power_management_.2F_dynamic_re-activation_of_a_discrete_amdgpu_graphics_card"></span>Issues with power management / dynamic re-activation of a discrete amdgpu graphics card</h3></div>
<p>If you encounter issues where the kernel driver is loaded, but the discrete graphics card still is not available for games or becomes disabled during use (similar to <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1820">[11]</a>), you can workaround the issue by setting the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> <code>amdgpu.runpm=0</code>, which prevents the dGPU from being powered down dynamically at runtime.
</p>
<div class="mw-heading mw-heading3"><h3 id="Frozen_or_unresponsive_display_(flip_done_timed_out)">
<span id="Frozen_or_unresponsive_display_.28flip_done_timed_out.29"></span>Frozen or unresponsive display (flip_done timed out)</h3></div>
<p>A bug in the amdgpu driver may stop the display from updating <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/4141">[12]</a>. It is suggested to append the <code>amdgpu.dcdebugmask=0x10</code> or <code>amdgpu.dcdebugmask=0x12</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> as a workaround.
</p>
<div class="mw-heading mw-heading3"><h3 id="kfd:_amdgpu:_TOPAZ_not_supported_in_kfd">kfd: amdgpu: TOPAZ not supported in kfd</h3></div>
<p>In the system journal or the kernel message keyring a critical level error message
</p>
<pre>kfd: amdgpu: TOPAZ not supported in kfd
</pre>
<p>may appear. If you are not planning to use <a href="../en/General-purpose_computing_on_graphics_processing_units.html#ROCm" class="mw-redirect" title="GPGPU">Radeon Open Compute</a>, this can be safely ignored. It is not supported in TOPAZ, as they are old GPUs. <a rel="nofollow" class="external autonumber" href="https://github.com/RadeonOpenCompute/ROCm/issues/1148#issuecomment-747849592">[13]</a> <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linuxquestions/comments/yhbbiz/kfd_kfd_amdgpu_topaz_not_supported_in_kfd/">[14]</a>
</p>
<div class="mw-heading mw-heading3"><h3 id="High_idle_power_draw_due_to_MCLK_locked_at_MAX_(1000MHz),_or_MIN_(96MHz)_causing_low_game_performance_(on_6.4_kernel)">
<span id="High_idle_power_draw_due_to_MCLK_locked_at_MAX_.281000MHz.29.2C_or_MIN_.2896MHz.29_causing_low_game_performance_.28on_6.4_kernel.29"></span>High idle power draw due to MCLK locked at MAX (1000MHz), or MIN (96MHz) causing low game performance (on 6.4 kernel)</h3></div>
<p>On high resolutions and refresh rates, the MCLK (vram / memory clock) may be locked at the highest clock rate (1000MHz) <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1403">[15]</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2646">[16]</a> causing higher GPU idle power draw. On Linux kernel 6.4.x, MCLK clocks at the lowest (96MHz), causing low performance in games <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2657">[17]</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2611">[18]</a>.
</p>
<p>This is likely due to a monitor not using Coordinated Video Timings (CVT) with a low V-Blank value for the affected resolutions and refresh rates, see <a rel="nofollow" class="external text" href="https://gist.github.com/Rend0e/3bddac4285dc1f4fbe303f326f36f6cc">this gist</a> for a workaround.
</p>
<div class="mw-heading mw-heading3"><h3 id="Failure_to_suspend_to_RAM">Failure to suspend to RAM</h3></div>
<p>The <code>amdgpu</code> kernel module tries to buffer VRAM in RAM when the system enters S3 to prevent memory loss through VRAM decay which is not sufficiently refreshed.
</p>
<p>If you are using a lot of VRAM and are short on free RAM <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2125">this can fail</a> despite sufficient SWAP memory would be available, because the IO subsystem might have been suspended before.
</p>
<p>You will see something like:
</p>
<pre>kernel: systemd-sleep: page allocation failure: order:0, mode:0x100c02(GFP_NOIO|__GFP_HIGHMEM|__GFP_HARDWALL), nodemask=(null),cpuset=/,mems_allowed=0
kernel: Call Trace:
kernel:  &lt;TASK&gt;
kernel:  dump_stack_lvl+0x47/0x60
kernel:  warn_alloc+0x165/0x1e0
kernel:  __alloc_pages_slowpath.constprop.0+0xd7d/0xde0
kernel:  __alloc_pages+0x32d/0x350
kernel:  ttm_pool_alloc+0x19f/0x600 [ttm 0bd92a9d9dccc3a4f19554535860aaeda76eb4f4]
</pre>
<p>As a workaround, a <a rel="nofollow" class="external text" href="https://git.dolansoft.org/lorenz/memreserver">userspace service</a> can ensure to allocate enough RAM for the VRAM to be buffered by swapping out enough RAM before the system is suspended.
</p>
<div class="mw-heading mw-heading3"><h3 id="Wrong_GPU_clocks_causing_multiple_issues">Wrong GPU clocks causing multiple issues</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> 
<ul>
<li>Users provide unreliable reports and operate under wrong assumptions. See <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/drm/amd/-/issues/3131#note_3007563">explanation</a>.</li>
<li>If you carefully read through the related issues, the problem appear to be caused by some internal setup of GPU power profiles. Which means the shader clock frequency is not the actual issue here, lowering it is more of a workaround, and it decreases performance.</li>
<li>Patches addressing the problem were already merged a few major kernel releases back.</li>
<li>If you are still getting crashes with similar dmesg logs, consider disabling GFXOFF (see <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/3067#note_2959002">[19]</a>)</li>
</ul>
 (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:AMDGPU.html">Talk:AMDGPU</a>)</div>
</div>
<p>There is a bug in the amdgpu module, due to which the video core frequencies can be higher than those declared by the manufacturer, which can cause system instability during the game, when exiting sleep, when rebooting.
</p>
<p>The problem has been noticed on RDNA 3 GPUs (7XXX Models) <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linux_gaming/comments/1dyhizb/fyi_for_amd_card_owners_the_linux_kernel_is/">[20]</a> <a rel="nofollow" class="external autonumber" href="https://wiki.gentoo.org/wiki/AMDGPU#Frequent_and_Sporadic_Crashes">[21]</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/3131">[22]</a>.
</p>
<p>In dmesg you can see logs like theese:
</p>
<pre>amdgpu: [gfxhub] page fault (src_id:0 ring:40 vmid:6 pasid:32830)
amdgpu:  in process GameThread pid 100056 thread vkd3d_queue pid 100468)
amdgpu:   in page starting at address 0x0000000218a36000 from client 10
amdgpu: GCVM_L2_PROTECTION_FAULT_STATUS:0x00641051
amdgpu:          Faulty UTCL2 client ID: TCP (0x8)
amdgpu:          MORE_FAULTS: 0x1
amdgpu:          WALKER_ERROR: 0x0
amdgpu:          PERMISSION_FAULTS: 0x5
amdgpu:          MAPPING_ERROR: 0x0
amdgpu:          RW: 0x1
</pre>
<p>If you have similar problems, check the maximum frequency of the video core in the system with what is stated by the manufacturer. To decrease maximum frequency, refer to <a href="#Overclocking">#Overclocking</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="AMD_dedicated_GPU_HDMI_freezing_issue_on_Wayland">AMD dedicated GPU HDMI freezing issue on Wayland</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Unstructured rambling with no clear explanation of what is done nor why. No bug report or forum thread linked. If this is a model-specific issue, it should be documented in a dedicated laptop page like <a href="../en/ASUS_ROG_Zephyrus_G14_(2022)_GA402.html" title="ASUS ROG Zephyrus G14 (2022) GA402">ASUS ROG Zephyrus G14 (2022) GA402</a>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:AMDGPU.html">Talk:AMDGPU</a>)</div>
</div>
<p>As an example, the ASUS G14 2022 laptop which as has AMD CPU and dedicated AMD GPU. The most successful approach requires to use armor crate on Windows to enforce dGPU Ultimate power options. It's switching GPU order and laptop internal power policies. Since that change HDMI should be working but user is going to experience separate rendering for integrated GPU (which SDDM and Wayland somehow pick by default) and dedicated GPU. User can obviously add <code>DRI_PRIME=0</code> it this case before launching any application but its not convenient. Extending configuration to presented one allows flawless experience in expense of shorter battery life when running on battery.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/hardware.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
DisplayServer=wayland
[Wayland]
CompositorCommand=kwin_wayland --drm --no-lockscreen --no-global-shortcuts
Environment=DRI_PRIME=0</pre>
<p>Additionally kernel command line should be extended with
</p>
<pre>amdgpu.runpm=0 amdgpu.modeset=1
</pre>
<div class="mw-heading mw-heading3"><h3 id="Colors_appear_washed_out_and_dim_on_laptops">Colors appear washed out and dim on laptops</h3></div>
<p>Power-saving applications such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=power-profiles-daemon">power-profiles-daemon</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tuned">tuned</a></span> have started to <a rel="nofollow" class="external text" href="https://www.phoronix.com/news/Power-Profiles-Daemon-0.20">enable</a> a feature known as Panel Power Savings (PPS).
</p>
<p>PPS is a featured supported on Laptops in which the laptop's GPU is instructed to have a lower color accuracy in the name of saving power. This, however, leads to washed out colors whenever selecting more aggressive power-saving modes on the aforementioned power-profiles-daemon and tuned. Therefore, there is interest in disabling this feature entirely.
</p>
<p>It can be done by setting the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> to zero:
</p>
<pre>amdgpu.abmlevel=0
</pre>
<div class="mw-heading mw-heading3"><h3 id="System_freezes_or_reboots_when_idle">System freezes or reboots when idle</h3></div>
<p>Issues with some PowerPlay features, such as <a rel="nofollow" class="external text" href="https://www.phoronix.com/news/AMDGPU-GFXOFF-Patches">GFXOFF</a> can cause frequent, unrecoverable driver crashes<a rel="nofollow" class="external autonumber" href="https://forum.endeavouros.com/t/random-crashes-amdgpu/70453">[23]</a>. They coincide with idle GPU usage on a multi-monitor setup, and especially waking up from sleep mode.
</p>
<p>A well-known solution is appending a kernel parameter (as described in <a href="#Boot_parameter">#Boot parameter</a>) that disables PP_GFXOFF_MASK, for example <code>amdgpu.ppfeaturemask=0xffff7fff</code> - this particular one leaves all other (implemented and unimplemented) PowerPlay features enabled.
</p>
<p>Alternative solutions rely on disabling more features than just GFXOFF:
</p>
<ul>
<li>Disable <a rel="nofollow" class="external text" href="https://www.reddit.com/r/linux4noobs/comments/1ahb8pf/comment/koppio6/">PP_GFXOFF_MASK and PP_STUTTER_MODE</a> with <code>0xfffd7fff</code>,</li>
<li>Disable <a rel="nofollow" class="external text" href="https://forum.endeavouros.com/t/random-crashes-amdgpu/70453/7?u=krzeszny">PP_GFXOFF_MASK, PP_STUTTER_MODE and PP_OVERDRIVE_MASK</a> with <code>0xfffd3fff</code>,</li>
<li>Disable <a rel="nofollow" class="external text" href="https://forum.endeavouros.com/t/random-crashes-amdgpu/70453/15?u=krzeszny">PP_GFXOFF_MASK, PP_GFX_DCS_MASK and PP_OVERDRIVE_MASK</a> with <code>0xfff73fff</code>,</li>
<li>Disable every feature with <code>0</code> (or <code>0x0</code>). This can be used if the cause of driver crashes is unknown.</li>
</ul>
<p>You can create your own feature mask from <code>amdgpu.ppfeaturemask=0x</code> followed by an 8-character mask calculated with a <a rel="nofollow" class="external text" href="https://miniwebtool.com/bitwise-calculator/?data_type=16&amp;number1=ffffffff&amp;number2=8000&amp;operator=XOR">hexadecimal bitwise calculator</a> (example included). Start the mask with <code>ffffffff</code> (all bits enabled) <b>XOR</b> <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/amd/include/amd_shared.h#n185">the feature to mask</a>. You can keep "XORing" more features to the result. You can skip zeroes before the first non-zero character: for example, 0x8000 is equivalent to 0x00008000.
</p>
<p>Make sure the parameter doesn't get removed during kernel updates.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/AMDGPU" class="extiw" title="gentoo:AMDGPU">Gentoo:AMDGPU</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/drm/amd">AMDGPU issue tracker</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Graphics.html" title="Category:Graphics">Graphics</a></li>
<li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=AMDGPU&amp;oldid=853638">https://wiki.archlinux.org/index.php?title=AMDGPU&amp;oldid=853638</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 20 November 2025, at 10:49.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">AMDGPU</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
