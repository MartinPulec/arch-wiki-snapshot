<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>RTorrent/RuTorrent - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-RTorrent_RuTorrent rootpage-RTorrent skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-RPC_Changes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#RPC_Changes">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>RPC Changes</span>
				</div>
			</a>
			
			<ul id="toc-RPC_Changes-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Web_server_configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Web_server_configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Web server configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Web_server_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Web server configuration subsection</span>
			</button>
		
		<ul id="toc-Web_server_configuration-sublist" class="vector-toc-list">
			<li id="toc-Apache_2.4" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Apache_2.4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Apache 2.4</span>
				</div>
			</a>
			
			<ul id="toc-Apache_2.4-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nginx" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nginx">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Nginx</span>
				</div>
			</a>
			
			<ul id="toc-Nginx-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lighttpd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lighttpd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Lighttpd</span>
				</div>
			</a>
			
			<ul id="toc-Lighttpd-sublist" class="vector-toc-list">
				<li id="toc-lighttpd_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#lighttpd_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.1</span>
					<span>lighttpd</span>
				</div>
			</a>
			
			<ul id="toc-lighttpd_2-sublist" class="vector-toc-list">
				<li id="toc-lighttpd.conf" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#lighttpd.conf">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.1.1</span>
					<span>lighttpd.conf</span>
				</div>
			</a>
			
			<ul id="toc-lighttpd.conf-sublist" class="vector-toc-list">
				<li id="toc-Test" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Test">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.1.1.1</span>
					<span>Test</span>
				</div>
			</a>
			
			<ul id="toc-Test-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-php.ini" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#php.ini">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.1.2</span>
					<span>php.ini</span>
				</div>
			</a>
			
			<ul id="toc-php.ini-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-rutorrent" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#rutorrent">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.2</span>
					<span>rutorrent</span>
				</div>
			</a>
			
			<ul id="toc-rutorrent-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Testing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Testing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.3</span>
					<span>Testing</span>
				</div>
			</a>
			
			<ul id="toc-Testing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Plugins" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Plugins">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.4</span>
					<span>Plugins</span>
				</div>
			</a>
			
			<ul id="toc-Plugins-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSL_and_authentication" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SSL_and_authentication">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.5</span>
					<span>SSL and authentication</span>
				</div>
			</a>
			
			<ul id="toc-SSL_and_authentication-sublist" class="vector-toc-list">
				<li id="toc-User_authentication" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#User_authentication">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.5.1</span>
					<span>User authentication</span>
				</div>
			</a>
			
			<ul id="toc-User_authentication-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSL" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#SSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.5.2</span>
					<span>SSL</span>
				</div>
			</a>
			
			<ul id="toc-SSL-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Troubleshooting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3.6</span>
					<span>Troubleshooting</span>
				</div>
			</a>
			
			<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">RTorrent/RuTorrent</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/RuTorrent" title="RuTorrent – 日本語" lang="ja" hreflang="ja" data-title="RuTorrent" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <bdi dir="ltr"><a href="../../en/RTorrent.html" title="RTorrent">RTorrent</a></bdi>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../../en/Category:Web_applications.html" class="mw-redirect" title="LAMP">LAMP</a></li>
<li><a href="../../en/RTorrent.html" title="RTorrent">RTorrent</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> The configuration snippets given on this page are <b>insecure</b> (specifically using unprotected /RPC2 mounts). It needs an in-depth review, and fixing. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:RTorrent/RuTorrent.html">Talk:RTorrent/RuTorrent</a>)</div>
</div>
<p><b><a rel="nofollow" class="external text" href="https://github.com/Novik/ruTorrent">ruTorrent</a></b> is a <a href="../../en/PHP.html" title="PHP">PHP</a> frontend/web interface to <a href="../../en/RTorrent.html" title="RTorrent">rTorrent</a> (a console based BitTorrent client). It uses rTorrent's built-in XML-RPC server to communicate with it.
</p>
<p>It is lightweight, highly extensible, and is designed to look similar to uTorrent.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rutorrent/">rutorrent</a></span><sup><small>AUR</small></sup> from the AUR. If you want to use the development version install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rutorrent-git/">rutorrent-git</a></span><sup><small>AUR</small></sup>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p>See upstream wiki <a rel="nofollow" class="external text" href="https://github.com/Novik/ruTorrent/wiki/Config">here</a>. By default the configuration files are symlinked to  <code>/etc/webapps/rutorrent/conf</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="RPC_Changes">RPC Changes</h3></div>
<p>As of rtorrent v0.15.2 and ruTorrent v5.1.7, you must now disable JSON-RPC and enable the httprpc plugin for ruTorrent to function.
</p>
<p><b>rtorrent.rc</b>
</p>
<pre>network.rpc.use_xmlrpc.set = true
network.rpc.use_jsonrpc.set = false
</pre>
<p>The <code>httprpc</code> plugin should be enabled by default, but if you have disabled it in ruTorrent's <code>plugins.ini</code>, you must remove the lines, or add:
</p>
<p><b>plugins.ini</b>
</p>
<pre>[httprpc]
enabled = yes
</pre>
<div class="mw-heading mw-heading2"><h2 id="Web_server_configuration">Web server configuration</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> See <a href="../../en/Help:Style.html" title="Help:Style">Help:Style</a>. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:RTorrent/RuTorrent.html">Talk:RTorrent/RuTorrent</a>)</div>
</div>
<div class="mw-heading mw-heading3"><h3 id="Apache_2.4">Apache 2.4</h3></div>
<p>Install and configure Apache with PHP according to the <a href="../../en/Category:Web_applications.html" class="mw-redirect" title="LAMP">LAMP</a> page.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The configuration examples below do not take your current Apache hosts into account. If you are, for example, using Virtual Hosts, you should adapt those accordingly.</div>
<ul><li>Edit the <i>open_basedir</i> value in /etc/php/php.ini to include:</li></ul>
<pre>/etc/webapps/rutorrent/conf/:/usr/share/webapps/rutorrent/php/:/usr/share/webapps/rutorrent/
</pre>
<ul><li>Enable the rTorrent XMLRPC interface on UNIX socket : <a href="../../en/RTorrent.html#XMLRPC_interface" title="RTorrent">rTorrent#XMLRPC interface</a>
</li></ul>
<ul><li>Enable SCGI on the socket you chose for rTorrent by adding this to <code>/etc/httpd/conf/httpd.conf</code>:</li></ul>
<pre>ProxyPass /RPC2 scgi:///path/to/rpc.socket
</pre>
<ul><li>Lastly, add the ruTorrent folder to <code>/etc/httpd/conf/httpd.conf</code>
</li></ul>
<p>As a directory alias
</p>
<pre>&lt;IfModule alias_module&gt;
  Alias /rutorrent /usr/share/webapps/rutorrent
  &lt;Directory "/usr/share/webapps/rutorrent"&gt;
    Require all granted
  &lt;/Directory&gt;
&lt;/IfModule&gt;
</pre>
<p>As a VirtualHost
</p>
<pre>&lt;VirtualHost *:80&gt;
  ServerName torrent.yourwebsite.com
  DocumentRoot /usr/share/webapps/rutorrent
  &lt;Directory "/usr/share/webapps/rutorrent"&gt;
     Options -Indexes -MultiViews
     Require all granted
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> You should enable authentication through Apache if your site is public.</div>
<div class="mw-heading mw-heading3"><h3 id="Nginx">Nginx</h3></div>
<ul><li>Create a link from your web root to rutorrent</li></ul>
<pre>ln -s /usr/share/webapps/rutorrent/ /usr/share/nginx/html/rutorrent
</pre>
<ul><li>Edit the <i>open_basedir</i> value in /etc/php/php.ini to include:</li></ul>
<pre>/etc/webapps/rutorrent/conf/:/usr/share/webapps/rutorrent/php/:/usr/share/webapps/rutorrent/
</pre>
<ul><li>Enable the rTorrent XMLRPC interface: <a href="../../en/RTorrent.html#XMLRPC_interface" title="RTorrent">rTorrent#XMLRPC interface</a>
</li></ul>
<ul><li>Edit the following location to your rutorrent configuration at <code>/etc/webapps/rutorrent/conf/config.php</code> where <b>rtorrentuser</b> is the user running rutorrent:</li></ul>
<pre>$scgi_port = 0;
$scgi_host = "unix:///home/rtorrentuser/rpc.socket";
</pre>
<p>Note: A multi-user setup will need user specific configuration files under <code>/usr/share/webapps/rutorrent/conf/users</code> for each user's socket location. Create a folder with the user's name, then create a config.php, for example: 
</p>
<pre>/usr/share/webapps/rutorrent/conf/users/rtorrentuser/config.php
/usr/share/webapps/rutorrent/conf/users/anotheruser/config.php
</pre>
<ul><li>
<a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>nginx.service</code>.</li></ul>
<ul><li>You can now access ruTorrent at <a rel="nofollow" class="external free" href="http://127.0.0.1/rutorrent">http://127.0.0.1/rutorrent</a>
</li></ul>
<div class="mw-heading mw-heading3"><h3 id="Lighttpd">Lighttpd</h3></div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rtorrent">rtorrent</a></span> should be compiled with XML-RPC support.
</p>
<p>Add the following line to your rtorrent configuration file, usually <code>~/.rtorrent.rc</code>.
</p>
<pre>scgi_port = 127.0.0.1:5050
</pre>
<p>Instead of using a tcp port, it may also be possible to use a socket using the scgi_local option instead, however lighttpd may complain about permissions regardless of permissions / location of socket file.
</p>
<p>You can choose a port other than 5050 if you like.
</p>
<div class="mw-heading mw-heading4"><h4 id="lighttpd_2">lighttpd</h4></div>
<p>Install <a href="../../en/Lighttpd.html" title="Lighttpd">Lighttpd</a> and <a href="../../en/PHP.html" title="PHP">PHP</a>: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lighttpd">lighttpd</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=php">php</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=php-cgi">php-cgi</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcgi">fcgi</a></span>.
</p>
<p>After starting lighttpd as per the wiki, you should be able to access the test page at <a rel="nofollow" class="external free" href="http://localhost:80">http://localhost:80</a>.
</p>
<p>By default the pages are served from <code>/srv/http</code>, this is where we will be putting rutorrent.
</p>
<div class="mw-heading mw-heading5"><h5 id="lighttpd.conf">lighttpd.conf</h5></div>
<p>Edit lighttpd's configuration file, <code>/etc/lighttpd/lighttpd.conf</code>.
</p>
<p>The following lines tell lighttpd to load the fastcgi and simple-cgi modules. Fast cgi is needed for rutorrent itself, and scgi for rutorrent to communicate with rtorrent.
</p>
<pre>server.modules += ( "mod_fastcgi" )
server.modules += ( "mod_scgi" )</pre>
<p>Next we add the configuration for scgi to connect to rtorrent. Make sure to use the same port as when configuring rtorrent.
</p>
<pre>scgi.server = ( "/RPC2" =&gt;
    ( "127.0.0.1" =&gt;
        (
            "host" =&gt; "127.0.0.1",
            "port" =&gt; 5050,
            "check-local" =&gt; "disable"
        )
    )
)</pre>
<p>And finally the fastcgi settings so lighttpd knows how to deal with php.
</p>
<pre>fastcgi.server = ( ".php" =&gt; ((
                 "bin-path" =&gt; "/usr/bin/php-cgi",
                 "socket" =&gt; "/tmp/php.socket"
)))</pre>
<div class="mw-heading mw-heading6"><h6 id="Test">Test</h6></div>
<p>At this point, you should be able to test if rtorrent and lighttpd's scgi are working properly using the xmlrpc command to ask rtorrent for a list of functions. ( See <a rel="nofollow" class="external free" href="https://github.com/rakshasa/rtorrent/wiki/RPC-Setup-XMLRPC#test-and-usage">https://github.com/rakshasa/rtorrent/wiki/RPC-Setup-XMLRPC#test-and-usage</a> ).
</p>
<pre>   $ xmlrpc localhost system.listMethods
</pre>
<p>This should output a log list of methods that can be accessed through rtorrent's scgi interface. If it does not then something may be wrong. If you get error 500 (internal server error), make sure rTorrent is running.
</p>
<div class="mw-heading mw-heading5"><h5 id="php.ini">php.ini</h5></div>
<p>We need to make a small change to the open_basedir line in <code>/etc/php/php.ini</code>, to allow rutorrent to access the binaries it needs to run.
</p>
<pre>   open_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/:/usr/bin
</pre>
<p>The binaries are stat, id, php, curl, gzip. If these are installed somewhere other than <code>/usr/bin</code>, then you may need to append that to the line also.
</p>
<div class="mw-heading mw-heading4"><h4 id="rutorrent">rutorrent</h4></div>
<p>Create a link from your web root to rutorrent
</p>
<pre>ln -s /usr/share/webapps/rutorrent/ /srv/http/rutorrent
</pre>
<p>We need to edit <code>/srv/http/rutorrent/conf/config.php</code>, and change the port to the one we used in rtorrent and lighttpd.
</p>
<pre>$scgi_port = 5050;
$scgi_host = "127.0.0.1";
</pre>
<div class="mw-heading mw-heading4"><h4 id="Testing">Testing</h4></div>
<p>rutorrent should now be set up.
</p>
<p>Start rtorrent, and restart lighttpd if you have not done so since changing the configuration.
</p>
<p>You should now be able to access the rutorrent interface on localhost or 127.0.0.1 on port 80 (assuming you did not change the default port for lighttpd).
</p>
<p><a rel="nofollow" class="external free" href="http://localhost">http://localhost</a>
</p>
<div class="mw-heading mw-heading4"><h4 id="Plugins">Plugins</h4></div>
<p>To install plugins for rutorrent, download the archive of the plugin you want and extract to rutorrent's plugin directory.
</p>
<pre>/srv/http/rutorrent/plugins
</pre>
<p>Plugins can be found on the rutorrent website: <a rel="nofollow" class="external free" href="https://code.google.com/p/rutorrent/wiki/Plugins">https://code.google.com/p/rutorrent/wiki/Plugins</a>
</p>
<div class="mw-heading mw-heading4"><h4 id="SSL_and_authentication">SSL and authentication</h4></div>
<div class="mw-heading mw-heading5"><h5 id="User_authentication">User authentication</h5></div>
<p>Detailed information on the different authentication methods can be found here: <a rel="nofollow" class="external free" href="https://redmine.lighttpd.net/projects/1/wiki/Docs_ModAuth">https://redmine.lighttpd.net/projects/1/wiki/Docs_ModAuth</a>
</p>
<p>In this example we will digest authentication with htdigest method.
</p>
<p>In your lighttpd directory, we will create a file called <code>lighttpd-htdigest.user</code> or some other filename of your choice to hold the passwords.
</p>
<p>For htdigest, the format of the lines is:
</p>
<pre>username:Realm:hash
</pre>
<p>Username is your desired username, Realm is a name you chose to give to the access level. Hash is an md5sum of a string that looks like:
</p>
<pre>username:Realm:password
</pre>
<p>So your actual password is not stored in the file, it just contributes to the md5sum.
</p>
<p>So using username: 'tom', Realm: 'rtorrent' and password: 'secret_pass', we can obtain the hash by running:
</p>
<pre>   $ echo -n "tom:rtorrent:secret_pass" | md5sum | cut -b -32
   6a4aaa1091eb2d1d025bbd692dee3f0c
</pre>
<p>-n tells echo not to print a newline, the cut command takes just the first 32 bytes so we do not get the dash at the end.
</p>
<p>So now save the hash in a variable by running:
</p>
<pre>   $ hash=$(echo -n "tom:rtorrent:secret_pass" | md5sum | cut -b -32)
   $ echo $hash
   6a4aaa1091eb2d1d025bbd692dee3f0c
</pre>
<p>Now save it to our password file:
</p>
<pre># echo "tom:rtorrent:$hash" &gt; /etc/lighttpd/lighttpd-htdigest.user
</pre>
<p>You can use any file name you like, just add the same file to <code>lighttpd.conf</code>.
</p>
<p>If root as owner of this file does not work, try http:
</p>
<pre># chown http /etc/lighttpd/lighttpd-htdigest.user
# chmod 400 /etc/lighttpd/lighttpd-htdigest.user
</pre>
<p>Now we will change <code>/etc/lighttpd/lighttpd.conf</code> to tell it to use this password file for anytime rutorrent is accessed.
</p>
<p>Add the following lines:
</p>
<pre>   server.modules += ( "mod_auth" )
   auth.debug = 0
   auth.backend = "htdigest"
   auth.backend.htdigest.userfile = "/etc/lighttpd/lighttpd-htdigest.user"
</pre>
<pre>   auth.require = ( "/rutorrent/" =&gt; (
                    "method"  =&gt; "digest",
                    "realm"   =&gt; "rtorrent",
                    "require" =&gt; "valid-user"
                  ))
</pre>
<p>Restart lighttpd, and it should now require you to enter your username and password when you reload rutorrent.
</p>
<p><a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>lighttpd.service</code>.
</p>
<div class="mw-heading mw-heading5"><h5 id="SSL">SSL</h5></div>
<p>See <a href="../../en/Lighttpd.html#Enabling_https_via_SSL" title="Lighttpd">Lighttpd#Enabling https via SSL</a>. The following resources can help you add ssl to lighttpd <a rel="nofollow" class="external autonumber" href="https://redmine.lighttpd.net/projects/1/wiki/Docs_SSL">[1]</a><a rel="nofollow" class="external autonumber" href="https://redmine.lighttpd.net/projects/1/wiki/HowToSimpleSSL">[2]</a>.
</p>
<p>If you just want to get it working, the following commands should work.
</p>
<p>Create pem file:
</p>
<pre># mkdir /etc/lighttpd/certs
# openssl req -new -x509 -newkey rsa:2048 -keyout /etc/lighttpd/certs/lighttpd.pem -out /etc/lighttpd/certs/lighttpd.pem -days 730 -nodes
</pre>
<p>Then add the following lines to <code>/etc/lighttpd/lighttpd.conf</code> (remove '#' comments if you still want plain http enabled:
</p>
<pre>   #$SERVER["socket"] == ":443" {
        ssl.engine = "enable"
        ssl.pemfile = "/etc/lighttpd/certs/lighttpd.pem"
   #}
</pre>
<p>And change this line from 80 to 443 (if you only want ssl enabled):
</p>
<pre>   server.port     = 443
</pre>
<p>Then https should work, and depending on what you changed, http may not work anymore.
</p>
<p>Note: This cert is not signed by a Certificate Authority, so you will have to add an exception in Firefox.
</p>
<div class="mw-heading mw-heading4"><h4 id="Troubleshooting">Troubleshooting</h4></div>
<p>For problems with rutorrent or lighttpd, the best place to check first is probably the lighttpd log files, in <code>/var/log/lighttpd/</code>, particularly <code>error.log</code>.
</p>
<pre>$ tail /var/log/lighttpd/error.log
</pre>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a rel="nofollow" class="external free" href="https://github.com/Novik/ruTorrent/wiki">https://github.com/Novik/ruTorrent/wiki</a></li>
<li><a rel="nofollow" class="external free" href="https://httpd.apache.org/docs/2.2/configuring.html">https://httpd.apache.org/docs/2.2/configuring.html</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:BitTorrent.html" title="Category:BitTorrent">BitTorrent</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=RTorrent/RuTorrent&amp;oldid=833434">https://wiki.archlinux.org/index.php?title=RTorrent/RuTorrent&amp;oldid=833434</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 May 2025, at 05:14.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">RTorrent/RuTorrent</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
