<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Kodi - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Kodi rootpage-Kodi skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Setup" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setup">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Setup</div>
			</a>
			
			<ul id="toc-Setup-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hardware_video_acceleration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hardware_video_acceleration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Hardware video acceleration</div>
			</a>
			
			<ul id="toc-Hardware_video_acceleration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Running" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Running">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Running</div>
		</a>
		
		<ul id="toc-Running-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Running_standalone" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Running_standalone">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Running standalone</div>
		</a>
		
			<button aria-controls="toc-Running_standalone-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Running standalone subsection</span>
			</button>
		
		<ul id="toc-Running_standalone-sublist" class="vector-toc-list">
			<li id="toc-kodi-standalone_service" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#kodi-standalone_service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>kodi-standalone service</div>
			</a>
			
			<ul id="toc-kodi-standalone_service-sublist" class="vector-toc-list">
				<li id="toc-Recommended_methods_to_reboot/shutdown_using_kodi-standalone_service" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Recommended_methods_to_reboot/shutdown_using_kodi-standalone_service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Recommended methods to reboot/shutdown using kodi-standalone service</div>
			</a>
			
			<ul id="toc-Recommended_methods_to_reboot/shutdown_using_kodi-standalone_service-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Xsession_with_LightDM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xsession_with_LightDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Xsession with LightDM</div>
			</a>
			
			<ul id="toc-Xsession_with_LightDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xsession_with_NoDM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xsession_with_NoDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Xsession with NoDM</div>
			</a>
			
			<ul id="toc-Xsession_with_NoDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Socket_activation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Socket_activation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Socket activation</div>
			</a>
			
			<ul id="toc-Socket_activation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Start_from_remote_control_with_LIRC_/_irexec" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Start_from_remote_control_with_LIRC_/_irexec">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Start from remote control with LIRC / irexec</div>
			</a>
			
			<ul id="toc-Start_from_remote_control_with_LIRC_/_irexec-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Using_a_remote_control" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Using_a_remote_control">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Using a remote control</div>
		</a>
		
			<button aria-controls="toc-Using_a_remote_control-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Using a remote control subsection</span>
			</button>
		
		<ul id="toc-Using_a_remote_control-sublist" class="vector-toc-list">
			<li id="toc-Using_the_Android_or_iOS_app" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_the_Android_or_iOS_app">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Using the Android or iOS app</div>
			</a>
			
			<ul id="toc-Using_the_Android_or_iOS_app-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_a_physical_remote_control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_a_physical_remote_control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Using a physical remote control</div>
			</a>
			
			<ul id="toc-Using_a_physical_remote_control-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-HDMI-CEC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#HDMI-CEC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>HDMI-CEC</div>
			</a>
			
			<ul id="toc-HDMI-CEC-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_a_gamepad" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_a_gamepad">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Using a gamepad</div>
			</a>
			
			<ul id="toc-Using_a_gamepad-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Sharing_media_and_a_centralized_database_across_multiple_nodes" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Sharing_media_and_a_centralized_database_across_multiple_nodes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Sharing media and a centralized database across multiple nodes</div>
		</a>
		
			<button aria-controls="toc-Sharing_media_and_a_centralized_database_across_multiple_nodes-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Sharing media and a centralized database across multiple nodes subsection</span>
			</button>
		
		<ul id="toc-Sharing_media_and_a_centralized_database_across_multiple_nodes-sublist" class="vector-toc-list">
			<li id="toc-NFS_server_export_example" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NFS_server_export_example">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>NFS server export example</div>
			</a>
			
			<ul id="toc-NFS_server_export_example-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Install_and_set_up_the_MariaDB_server" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Install_and_set_up_the_MariaDB_server">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Install and set up the MariaDB server</div>
			</a>
			
			<ul id="toc-Install_and_set_up_the_MariaDB_server-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_up_Kodi_to_use_the_MariaDB_library_and_the_NFS_exports" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_up_Kodi_to_use_the_MariaDB_library_and_the_NFS_exports">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Set up Kodi to use the MariaDB library and the NFS exports</div>
			</a>
			
			<ul id="toc-Set_up_Kodi_to_use_the_MariaDB_library_and_the_NFS_exports-sublist" class="vector-toc-list">
				<li id="toc-Set_up_Kodi_to_use_the_common_SQL_database" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Set_up_Kodi_to_use_the_common_SQL_database">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.1</span>Set up Kodi to use the common SQL database</div>
			</a>
			
			<ul id="toc-Set_up_Kodi_to_use_the_common_SQL_database-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_up_network_shares" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Set_up_network_shares">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.2</span>Set up network shares</div>
			</a>
			
			<ul id="toc-Set_up_network_shares-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Cloning_the_configuration_to_other_nodes_on_the_network" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cloning_the_configuration_to_other_nodes_on_the_network">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Cloning the configuration to other nodes on the network</div>
			</a>
			
			<ul id="toc-Cloning_the_configuration_to_other_nodes_on_the_network-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Keep_a_log_of_what_is_watched" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keep_a_log_of_what_is_watched">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Keep a log of what is watched</div>
			</a>
			
			<ul id="toc-Keep_a_log_of_what_is_watched-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Speedup_video_playback_(synchronized_audio_and_video)_up_to_1.5x" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Speedup_video_playback_(synchronized_audio_and_video)_up_to_1.5x">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Speedup video playback (synchronized audio and video) up to 1.5x</div>
			</a>
			
			<ul id="toc-Speedup_video_playback_(synchronized_audio_and_video)_up_to_1.5x-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modify_default_values_for_watch_and_resume_points" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modify_default_values_for_watch_and_resume_points">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Modify default values for watch and resume points</div>
			</a>
			
			<ul id="toc-Modify_default_values_for_watch_and_resume_points-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-CLI_for_kodi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#CLI_for_kodi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>CLI for kodi</div>
			</a>
			
			<ul id="toc-CLI_for_kodi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_Kodi_to_view_security_camera_streams_(rtsp_or_rtmp)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_Kodi_to_view_security_camera_streams_(rtsp_or_rtmp)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Use Kodi to view security camera streams (rtsp or rtmp)</div>
			</a>
			
			<ul id="toc-Use_Kodi_to_view_security_camera_streams_(rtsp_or_rtmp)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UPnP_and_DLNA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UPnP_and_DLNA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>UPnP and DLNA</div>
			</a>
			
			<ul id="toc-UPnP_and_DLNA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adjusting_CD/DVD_drive_speed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adjusting_CD/DVD_drive_speed">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>Adjusting CD/DVD drive speed</div>
			</a>
			
			<ul id="toc-Adjusting_CD/DVD_drive_speed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_port_80_for_webserver" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_port_80_for_webserver">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8</span>Use port 80 for webserver</div>
			</a>
			
			<ul id="toc-Use_port_80_for_webserver-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_ALSA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_ALSA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.9</span>Using ALSA</div>
			</a>
			
			<ul id="toc-Using_ALSA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Audio_passthrough_output_device_list_in_Kodi_21+" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Audio_passthrough_output_device_list_in_Kodi_21+">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.10</span>Audio passthrough output device list in Kodi 21+</div>
			</a>
			
			<ul id="toc-Audio_passthrough_output_device_list_in_Kodi_21+-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Kodi_JSON-RPC_API_to_alter_settings_from_external_tools" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kodi_JSON-RPC_API_to_alter_settings_from_external_tools">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.11</span>Kodi JSON-RPC API to alter settings from external tools</div>
			</a>
			
			<ul id="toc-Kodi_JSON-RPC_API_to_alter_settings_from_external_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fix_for_delayed_startup_on_wifi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fix_for_delayed_startup_on_wifi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.12</span>Fix for delayed startup on wifi</div>
			</a>
			
			<ul id="toc-Fix_for_delayed_startup_on_wifi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Run_kodi_in_a_window_manager" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Run_kodi_in_a_window_manager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.13</span>Run kodi in a window manager</div>
			</a>
			
			<ul id="toc-Run_kodi_in_a_window_manager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-USB_DAC_not_working" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#USB_DAC_not_working">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.14</span>USB DAC not working</div>
			</a>
			
			<ul id="toc-USB_DAC_not_working-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Virtual_file_system_support" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Virtual_file_system_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.15</span>Virtual file system support</div>
			</a>
			
			<ul id="toc-Virtual_file_system_support-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Inhibit_KDE_automatic_sleep_during_playback" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Inhibit_KDE_automatic_sleep_during_playback">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.16</span>Inhibit KDE automatic sleep during playback</div>
			</a>
			
			<ul id="toc-Inhibit_KDE_automatic_sleep_during_playback-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Accessing_Kodi_logs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Accessing_Kodi_logs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Accessing Kodi logs</div>
			</a>
			
			<ul id="toc-Accessing_Kodi_logs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fullscreen_mode_stretches_Kodi_across_multiple_displays" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fullscreen_mode_stretches_Kodi_across_multiple_displays">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Fullscreen mode stretches Kodi across multiple displays</div>
			</a>
			
			<ul id="toc-Fullscreen_mode_stretches_Kodi_across_multiple_displays-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-H.264_playback_is_using_only_a_single_core" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#H.264_playback_is_using_only_a_single_core">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>H.264 playback is using only a single core</div>
			</a>
			
			<ul id="toc-H.264_playback_is_using_only_a_single_core-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Kodi_hangs_on_exit,_fully_occupying_one_CPU_core,_UI_unresponsive" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kodi_hangs_on_exit,_fully_occupying_one_CPU_core,_UI_unresponsive">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Kodi hangs on exit, fully occupying one CPU core, UI unresponsive</div>
			</a>
			
			<ul id="toc-Kodi_hangs_on_exit,_fully_occupying_one_CPU_core,_UI_unresponsive-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-kodi-standalone_will_not_play_DVDs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#kodi-standalone_will_not_play_DVDs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.5</span>kodi-standalone will not play DVDs</div>
			</a>
			
			<ul id="toc-kodi-standalone_will_not_play_DVDs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Kodi</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Kodi" title="Kodi – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Kodi" title="Kodi – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://kodi.tv/">Kodi</a> (formerly known as XBMC) is an award-winning free and open source (GPL) software media player and entertainment hub that can be installed on Linux, OSX, Windows, iOS and Android, featuring a 10-foot user interface for use with televisions and remote controls. These can all be played directly from a CD/DVD, or from the hard-drive. Kodi can also play multimedia from a computer over a local network (LAN), or play media streams directly from the Internet. It can also be used to play and record live TV using a tuner, a backend server and a PVR plugin; more information about this can be found on the <a rel="nofollow" class="external text" href="https://kodi.wiki/view/PVR">Kodi wiki</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi">kodi</a></span> package. Users wanting HDR support should instead install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi-gles">kodi-gles</a></span> package. Be sure to review/install optional dependencies listed by pacman to enable additional functionality.
</p>
<h3><span class="mw-headline" id="Setup">Setup</span></h3>
<p>Both packages support several composers, with varying levels of functionality: 
</p>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Mesa_(computer_graphics)#Generic_Buffer_Management" class="extiw" title="wikipedia:Mesa (computer graphics)">GBM</a></dt>
<dd>currently the most feature rich. It is the only one of the three options able to display HDR content, may be a good choice for standalone operations since it runs directly on the GPU without the need for the added X11 layer. A complete list of features lacking compared to other back-ends can be found in <a rel="nofollow" class="external text" href="https://github.com/xbmc/xbmc/issues/14876">Kodi issue 14876</a>.</dd>
<dt><a href="../en/Xorg.html" title="Xorg">Xorg</a></dt>
<dd>should be considered on-par with GBM.</dd>
<dt><a href="../en/Wayland.html" title="Wayland">Wayland</a></dt>
<dd>a known limitation is having the resolution and frame rate set in the compositor rather than in Kodi's GUI; also currently does not support VT switching.</dd>
</dl>
<p>All of the official addons in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/kodi-addons/">kodi-addons</a></span> group are disabled by default and need to be enabled in Kodi's addon menu after installation.
</p>
<h3><span class="mw-headline" id="Hardware_video_acceleration">Hardware video acceleration</span></h3>
<p>Enable and configure <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">hardware video acceleration</a> to speed up playback performance. Once installed, the hardware backend(s) are presented under <i>Settings &gt; Player &gt; Videos</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> A level of "Advanced" or "Expert" needs to be set in order to show all options.</div>
<h2><span class="mw-headline" id="Running">Running</span></h2>
<p>There are two general use cases:
</p>
<ol>
<li>
<code>/usr/bin/kodi</code> is meant to be run by any user on an on-demand basis. Use it like any other program on the system.</li>
<li>
<code>/usr/bin/kodi-standalone</code> is meant to be run as the only graphical application, for example on a <a href="https://en.wikipedia.org/wiki/Home_theater_PC" class="extiw" title="wikipedia:Home theater PC">HTPC</a>. See <a href="#Running_standalone">#Running standalone</a> for more information.</li>
</ol>
<h2><span class="mw-headline" id="Running_standalone">Running standalone</span></h2>
<p>Using standalone mode is advantageous for several reasons:
</p>
<ol>
<li>One can define an unprivileged user to run kodi and have no access to a shell.</li>
<li>When paired with a systemd unit (or equivalent, see below), this setup makes the box on which kodi is running more like an appliance.</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Select <b>only one</b> of the methods listed below.</div>
<h3><span class="mw-headline" id="kodi-standalone_service">kodi-standalone service</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup> provides three services and automatically creates and provisions the unprivileged user to run Kodi in standalone mode.
</p>
<ul>
<li><code>kodi-x11.service</code></li>
<li><code>kodi-gbm.service</code></li>
<li><code>kodi-wayland.service</code></li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The correct video driver and optionally <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">hardware video acceleration</a> are assumed dependencies.</li>
<li>The home/userdata directory for the created <code>kodi</code> user is <code>/var/lib/kodi/</code>.</li>
<li>Certain use cases may require environment variables to be passed to the service. Define these variables in <code>/etc/conf.d/kodi-standalone</code> and they will be passed along to the service.</li>
<li>If <code>kodi-x11.service</code> fails to start, see <a href="../en/Xorg.html#Rootless_Xorg" title="Xorg">Xorg#Rootless Xorg</a> for possible workarounds (this is uncommon).</li>
<li>
<code>kodi-gbm.service</code> and <code>kodi-wayland.service</code> do not allow exiting to another virtual console.</li>
</ul>
</div>
<h4>
<span id="Recommended_methods_to_reboot.2Fshutdown_using_kodi-standalone_service"></span><span class="mw-headline" id="Recommended_methods_to_reboot/shutdown_using_kodi-standalone_service">Recommended methods to reboot/shutdown using kodi-standalone service</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Be aware that these services run Kodi in systemd's <i>system.slice</i>, not <i>user.slice</i>. In order to have Kodi exit gracefully, initiate system reboot/shutdown with the respective Kodi actions <b>instead of</b> using <i>systemctl</i>. Failure to do so will result in an ungraceful exit of Kodi and the possible loss of GUI settings, Kodi uptime etc.</div>
<p>In principal this is no different than data loss occurring from a user doing work when a sysadmin issues a reboot command without prior warning. While it is possible to run Kodi in systemd's <i>user.slice</i> instead, doing so makes it difficult to use USB mounts within Kodi and to use pulseaudio for Kodi sessions.
</p>
<ul>
<li>
<b>Kodi GUI</b>: Selecting the corresponding option under power menu in the Kodi GUI.</li>
<li>
<b>Mobile device</b>: The official Android/iOS apps can also perform these actions (assuming the corresponding options are enabled in Kodi).</li>
<li>
<b>CLI</b>: Use <code>kodi-send</code> provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi-eventclients">kodi-eventclients</a></span> to send the <code>ShutDown()</code> or the <code>Reboot</code> command. The syntax is:</li>
</ul>
<pre>$ kodi-send -a Reboot
$ kodi-send -a ShutDown()
</pre>
<h3><span class="mw-headline" id="Xsession_with_LightDM">Xsession with LightDM</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This assumes that a kodi user named <code>kodi</code> is on the system and that the following file is present as described.</div>
<p>To use LightDM with automatic login, see <a href="../en/LightDM.html#Enabling_autologin" title="LightDM">LightDM#Enabling autologin</a> and <a href="../en/LightDM.html#Enabling_interactive_passwordless_login" title="LightDM">LightDM#Enabling interactive passwordless login</a>. <i>Kodi</i> includes <code>kodi.desktop</code> as <a href="../en/Display_manager.html#Session_configuration" class="mw-redirect" title="Xsession">xsession</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:seat0]
pam-service=lightdm-autologin
autologin-user=kodi
autologin-user-timeout=0
user-session=kodi</pre>
<h3><span class="mw-headline" id="Xsession_with_NoDM">Xsession with NoDM</span></h3>
<p><a href="../en/Display_manager.html#Console" class="mw-redirect" title="Nodm">Nodm</a> is an automatic display manager which automatically starts an X session at system boot.
</p>
<p>By creating a <a href="../en/Users_and_groups.html" class="mw-redirect" title="User">user</a> for kodi (e.g. <code>useradd -mU kodi</code>) and <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installing</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nodm">nodm</a></span> we simply have to specify the kodi user inside:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nodm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NODM_USER=kodi
NODM_XSESSION=/home/kodi/.xinitrc</pre>
<p>Make sure to execute <code>kodi</code> inside the <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a> file.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <code>.xinitrc</code> file must be executable, so the <code>kodi</code> user's home must not be mounted with the <code>noexec</code> option.</div>
<h3><span class="mw-headline" id="Socket_activation">Socket activation</span></h3>
<p>Socket activation can be used to start Kodi when the user issues a Wakeup command from a remote control app like Kore, or makes a connection to Kodi's html control port. Start listening by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting">starting</a> <code>kodi@<i>user</i>.socket</code> (replace <i>user</i> with the user running Kodi to be started as).
</p>
<p>There are no packaged <code>kodi@.service</code> and <code>kodi@.socket</code> files, one must create them manually. Depending on the setup, one can optionally change the ports in <code>kodi@.socket</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kodi@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># This fails if the user does not have an X session.
[Unit]
Description=Launch Kodi on main display
Conflicts=kodi.socket

[Service]
Type=simple
Environment=DISPLAY=:0.0
Nice=-1
ExecStart=/usr/bin/su %i /usr/bin/kodi
ExecStopPost=/usr/bin/systemctl --no-block start kodi@%i.socket

[Install]
WantedBy=multi-user.target
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kodi@.socket</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Conflicts=kodi@%i.service

[Socket]
# Unset 
ListenStream=
# Start when receiving a TCP request on the http control port
ListenStream=8080
# start when receiving an UDP datagram (Wakeup/WOL)
ListenDatagram=9

[Install]
WantedBy=sockets.target
</pre>
<h3>
<span id="Start_from_remote_control_with_LIRC_.2F_irexec"></span><span class="mw-headline" id="Start_from_remote_control_with_LIRC_/_irexec">Start from remote control with LIRC / irexec</span>
</h3>
<p>Kodi can be configured to start via a key press. Users will need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lirc">lirc</a></span>. This can be useful on setups running 24/7 and having kodi up on demand.
</p>
<p>See the corresponding <a href="../en/LIRC.html" title="LIRC">LIRC</a> article and create a functional setup with a remote. Also, the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup> has to be installed.
</p>
<p>Generate the file <code>/var/lib/kodi/.lircrc</code> with the following content:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/kodi/.lircrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">begin
prog = irexec
remote = devinput
button = KEY_MEDIA
config = pgrep kodi-standalone || /usr/bin/kodi-standalone -l /run/lirc/lircd
repeat = 0
end
</pre>
<p>Adopt <code>button</code> to whatever button on the remote is to start Kodi. One can use <i>irw</i> (see <a href="../en/LIRC.html#Testing" title="LIRC">LIRC#Testing</a>) to find out the correct values for <code>remote</code> and <code>button</code>.
</p>
<p>Create a <a href="../en/Systemd.html#Drop-in_files" title="Systemd">drop-in</a> for <code>kodi-xxx.service</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kodi-xxx.service.d/lirc.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart =
ExecStart = /usr/bin/irexec</pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a> <code>kodi-xxx.service</code> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> it to run at boot time.
</p>
<h2><span class="mw-headline" id="Using_a_remote_control">Using a remote control</span></h2>
<p>As Kodi is geared toward being a remote-controlled media center via an official app, physical remote control, or USB/bluetooth keyboard/mouse.
</p>
<h3><span class="mw-headline" id="Using_the_Android_or_iOS_app">Using the Android or iOS app</span></h3>
<p>Both Android and iOS users can use the official app (currently free of charge) to control kodi once it is correctly setup to do so. Steps to configure both Kodi and the app are detailed on the <a rel="nofollow" class="external text" href="https://kodi.wiki/view/Official_Kodi_Remote">Official Kodi Remote</a> and <a rel="nofollow" class="external text" href="https://kodi.wiki/view/Kore_Manual">Kore Manual</a> page.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Kore provides <a href="../en/Power_management.html" title="Power management">power management</a> actions to perform remotely <a href="../en/Power_management/Suspend_and_hibernate.html" class="mw-redirect" title="Suspend">suspend</a>/<a href="../en/Power_management/Suspend_and_hibernate.html#Hibernation" class="mw-redirect" title="Hibernation">hibernation</a> and <a href="../en/Wake-on-LAN.html" title="Wake-on-LAN">Wake-on-LAN</a> (WoL).</div>
<h3><span class="mw-headline" id="Using_a_physical_remote_control">Using a physical remote control</span></h3>
<p>Any PC with a supported IR receiver/remote, can use <a href="../en/LIRC.html" title="LIRC">LIRC</a> or even kernel supported modules to drive it. Configuring specific remotes with lirc is covered on the <a href="../en/LIRC.html" title="LIRC">LIRC</a> article.
</p>
<p>To work properly with Kodi, a file that maps the lirc events to Kodi keypresses is needed. Create an <a href="https://en.wikipedia.org/wiki/XML" class="extiw" title="wikipedia:XML">XML</a> file at <code>~/.kodi/userdata/Lircmap.xml</code> (note the capital 'L'). 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Users running Kodi started with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup> will find the <code>kodi</code> user's home (<code>~</code>) under <code>/var/lib/kodi/</code> and should substitute this in for the shortcut above. Also make sure that if creating this file as the root user, it gets proper <a href="../en/File_permissions_and_attributes.html#Changing_ownership" class="mw-redirect" title="Ownership">ownership</a> as <code>kodi:kodi</code> when finished.</div>
<p><code>Lircmap.xml</code> format is as follows: 
</p>
<pre>&lt;lircmap&gt;
  &lt;remote device="devicename"&gt;
      &lt;XBMC_button&gt;LIRC_button&lt;/XBMC_button&gt;
      ...
  &lt;/remote&gt;
&lt;/lircmap&gt;</pre>
<ul>
<li>
<b>Device Name</b> is whatever LIRC calls the remote. This is set using the <b>Name</b> directive in lircd.conf and can be viewed by running <code>irw</code> and pressing a few buttons on the remote. IRW will report the name of the button pressed and the name of the remote will appear on the end of the line.</li>
<li>
<b>XBMC_button</b> is the name of the button as defined in <a rel="nofollow" class="external text" href="https://kodi.wiki/view/Keymap">keymap.xml</a>.</li>
<li>
<b>LIRC_button</b> is the name as defined in <code>lircd.conf</code>. If <code>lircd.conf</code> was autogenerated using <code>irrecord</code>, these are the names selected for the buttons. Refer back to <a href="../en/LIRC.html" title="LIRC">LIRC</a> for more information.</li>
<li>A very thorough <a rel="nofollow" class="external text" href="https://kodi.wiki/view/LIRC">LIRC</a> page hosted on the Kodi Wiki should be consulted for more help and information on this subject as this is out of scope of this article.</li>
</ul>
<h3><span class="mw-headline" id="HDMI-CEC">HDMI-CEC</span></h3>
<p>With a supported <a rel="nofollow" class="external text" href="https://www.pulse-eight.com/p/104/usb-hdmi-cec-adapter">USB-CEC adapter</a>, Kodi can be used to automatically turn on and off the TV and other home theater equipment. Volume control from Kodi can be sent to a supported amplifier, one can manage DVD or Blu-Ray players from inside Kodi, and redirect the active source on the TV to whichever equipment needs it, all from one remote control. For more information see the <a rel="nofollow" class="external text" href="https://kodi.wiki/view/CEC">official Kodi wiki page on CEC</a> and <a rel="nofollow" class="external text" href="https://libcec.pulse-eight.com/faq">libCEC FAQ</a>.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libcec">libcec</a></span>.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Add reference for the need to add users to these groups. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Kodi.html">Talk:Kodi</a>)</div>
</div>
<p>When connected, the USB-CEC's <code>/dev</code> entry (usually <code>/dev/ttyACM*</code>) will default to being owned by the <code>uucp</code> group, so in order to use the device the user running Kodi needs to belong to that group. See <a href="../en/Users_and_groups.html#Group_management" title="Users and groups">Users and groups#Group management</a> for instructions on how to add users to groups.
</p>
<ul><li>Add all users that will use Kodi to the <code>uucp</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a>.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Trying to use the USB-CEC without belonging to above groups may lead to problems, including Kodi crashes, so make sure the correct user belongs to both groups.</div>
<h3><span class="mw-headline" id="Using_a_gamepad">Using a gamepad</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi-addon-peripheral-joystick">kodi-addon-peripheral-joystick</a></span>.
</p>
<p>First, confirm that the <a href="../en/Gamepad.html" title="Gamepad">gamepad</a> is detected by the OS, navigate to <i>Kodi Settings &gt; Input &gt; Peripherals</i> and confirm your device is listed. Then, enter the <i>Configure attached controllers</i> submenu. Kodi will prompt to press buttons on the controller one at a time. Once the mapping is finished, the gamepad should be able to control the UI.
</p>
<h2><span class="mw-headline" id="Sharing_media_and_a_centralized_database_across_multiple_nodes">Sharing media and a centralized database across multiple nodes</span></h2>
<p>If multiple PCs on the same network are running Kodi, they can be configured to share a single media library (video and music). The advantage of this is media and key metadata are stored in one place, and are shared/updated by all nodes on the network. For example, users of this setup can:
</p>
<ul>
<li>Stop watching a movie or show in one room then finish watching it in another room automatically.</li>
<li>Share watched and unwatched status for media on all nodes.</li>
<li>Simplify the setup with only a single library to maintain.</li>
</ul>
<p>As well, the media itself can be located in one space thus allowing a lighter footprint of client systems (ie no need for large HDD space).
</p>
<p>Several things are needed for this to work:
</p>
<ul>
<li>Network exposed media (via protocols that Kodi can read, e.g. NFS or Samba).</li>
<li>A <a href="../en/MariaDB.html" title="MariaDB">MariaDB</a> server.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> When sharing a database, ALL clients need to be on the same major version of Kodi due to versioned requirements of the database schema. Refer to <a rel="nofollow" class="external text" href="https://kodi.wiki/view/Databases#Database_Versions">database version table</a> for a list of database versions.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The following guide is only an example of one configuration and is not meant to be limiting but illustrative. Key steps are shown but a detailed discussion is not offered.</div>
<p>These assumptions are used for the guide, substitute as needed:
</p>
<ul>
<li>The media is located under following mount points: <code>/mnt/shows</code> <code>/mnt/movies</code> <code>/mnt/music</code>.</li>
<li>The network addresses of all nodes are within the 192.168.0.* subnet range.</li>
<li>The IP address of the machine running both the NFS exports and the MariaDB database is 192.168.0.105.</li>
<li>Each Kodi box is referred to as a node.</li>
<li>The Linux user running Kodi is 'kodi' on all nodes.</li>
</ul>
<p>For additional info, refer to the <a rel="nofollow" class="external text" href="https://kodi.wiki/view/MySQL/Setting_up_MySQL#Arch_Linux">official Kodi wiki</a>.
</p>
<h3><span class="mw-headline" id="NFS_server_export_example">NFS server export example</span></h3>
<p>This section provides an example using exports, see <a href="../en/NFS.html" title="NFS">NFS</a> for install and usage. Nexus v20.0 of Kodi contains initial support for NFSv4 exports. A limitation is that users of NFSv4 exports will have to manually add the exports/browsing the NFS network is not currently supported. Users will also need to restart Kodi after the sources have been added. Using a NFSv3 export does not have these caveats.
</p>
<p>Users wanting a pure NFSv4 setup should see <a href="../en/NFS.html#Starting_the_server" title="NFS">NFS#Starting the server</a> in order to keep things clean. Of course, this only applies to the box running the NFSv4 exports.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Users only need one box on the LAN to serve the content, therefore, do not repeat this for each node. The following example assumes the user is running Arch Linux, but any NFS server will work, be it Linux or BSD, etc.</div>
<p>Create an empty directory in NFS root for each media directory to be shared. E.g.:
</p>
<pre># mkdir -p /srv/nfs/{shows,movies,music}
</pre>
<p><a href="../en/NFS.html#Server" title="NFS">Bind mount</a> the media directories to the empty directories in <code>/srv/nfs/</code>.
</p>
<p>The following example is for a NFSv3 <a href="../en/NFS.html#Server" title="NFS">exports</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/exports.d/kodi.exports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/srv/nfs          192.168.0.0/24(ro,fsid=0,no_subtree_check)
/srv/nfs/shows    192.168.0.0/24(ro,no_subtree_check,insecure)
/srv/nfs/movies   192.168.0.0/24(ro,no_subtree_check,insecure)
/srv/nfs/music    192.168.0.0/24(ro,no_subtree_check,insecure)</pre>
<p>The following example is for a NFSv4 <a href="../en/NFS.html#Server" title="NFS">exports</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/exports.d/kodi.exports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/srv/nfs          192.168.0.0/24(ro,fsid=0,no_subtree_check,insecure,async,all_squash,pnfs,anonuid=99,anongid=99)
/srv/nfs/shows    192.168.0.0/24(ro,no_subtree_check,insecure,async,all_squash,pnfs,anonuid=99,anongid=99)
/srv/nfs/movies   192.168.0.0/24(ro,no_subtree_check,insecure,async,all_squash,pnfs,anonuid=99,anongid=99)
/srv/nfs/music    192.168.0.0/24(ro,no_subtree_check,insecure,async,all_squash,pnfs,anonuid=99,anongid=99)</pre>
<h3><span class="mw-headline" id="Install_and_set_up_the_MariaDB_server">Install and set up the MariaDB server</span></h3>
<p>See <a href="../en/MariaDB.html" title="MariaDB">MariaDB</a> for installation and configuration instructions.
</p>
<p>To create a database for Kodi, use the following commands:
</p>
<pre>$ mysql -u root -p
   &lt;&lt;enter the mariadb root password assigned in the first step&gt;&gt;
MariaDB [(none)]&gt; CREATE USER 'kodi' IDENTIFIED BY 'kodi';
MariaDB [(none)]&gt; GRANT ALL ON *.* TO 'kodi';
MariaDB [(none)]&gt; flush privileges;
MariaDB [(none)]&gt; \q
</pre>
<h3><span class="mw-headline" id="Set_up_Kodi_to_use_the_MariaDB_library_and_the_NFS_exports">Set up Kodi to use the MariaDB library and the NFS exports</span></h3>
<h4><span class="mw-headline" id="Set_up_Kodi_to_use_the_common_SQL_database">Set up Kodi to use the common SQL database</span></h4>
<p>To tell Kodi to use the common database, insure that Kodi is not running, then create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.kodi/userdata/advancedsettings.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;advancedsettings&gt;
  &lt;videodatabase&gt;
    &lt;type&gt;mysql&lt;/type&gt;
    &lt;host&gt;192.168.0.105&lt;/host&gt;
    &lt;port&gt;3306&lt;/port&gt;
    &lt;user&gt;kodi&lt;/user&gt;
    &lt;pass&gt;kodi&lt;/pass&gt;
  &lt;/videodatabase&gt;

  &lt;musicdatabase&gt;
    &lt;type&gt;mysql&lt;/type&gt;
    &lt;host&gt;192.168.0.105&lt;/host&gt;
    &lt;port&gt;3306&lt;/port&gt;
    &lt;user&gt;kodi&lt;/user&gt;
    &lt;pass&gt;kodi&lt;/pass&gt;
  &lt;/musicdatabase&gt;

  &lt;videolibrary&gt;
    &lt;importwatchedstate&gt;true&lt;/importwatchedstate&gt;
    &lt;importresumepoint&gt;true&lt;/importresumepoint&gt;
  &lt;/videolibrary&gt;
&lt;/advancedsettings&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup>, the default for the profile is <code>/var/lib/kodi/.kodi</code> and be sure to chown the newly created file to the kodi user and group, i.e. <code>chown kodi:kodi /var/lib/kodi/.kodi/userdata/advancedsettings.xml</code>
</div>
<h4><span class="mw-headline" id="Set_up_network_shares">Set up network shares</span></h4>
<p>For NFSv3 shares, load Kodi and define the network shares that correspond to the exports by browsing to the following within the interface <i>Video &gt; Files &gt; Add Videos &gt; Browse &gt; Network Filesystem(NFS)</i>.
</p>
<p>After a few seconds, the IP address corresponding to the NFS server should appear.
</p>
<p>Select <code>/srv/nfs/shows</code> from the list of share and then <i>OK</i> from the menu on the right. Assign this share the category of <i>TV Shows</i> to setup the appropriate scraper and to populate the SQL database with the correct metadata.
</p>
<p>Repeat this browsing process for the "movies" and "music" and then exit Kodi once properly configured. At this point, the SQL tables should have been created.
</p>
<p>For NFSv4 shares, user cannot browse the network but will have to manually define them under <i>Video &gt; Files &gt; Add Videos &gt; Browse &gt; Add network location...</i>  For there, change the Protocol to "Network File System (NFS)" and then define the server address (numerical IP or hostname) and then define the share under the Remote path section. Repeat for each export.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Even if Kodi is running on the same box that is also running the NFS exports and SQL server, one <b>must</b> setup the media using the nfs shares only.</div>
<h3><span class="mw-headline" id="Cloning_the_configuration_to_other_nodes_on_the_network">Cloning the configuration to other nodes on the network</span></h3>
<p>To set up another Kodi node on the network to use this library, simply copy <code>~/.kodi/userdata/advancedsettings.xml</code> to that box and restart Kodi. There is NO need to copy any other files or to do any other setup steps on the new kodi node. The nfs exports, the metadata for the programming, any stop/start times, view status, etc. are all stored in the SQL tables.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> One can optionally define other media sources that are not managed by kodi database, but they will be specific to that particular node.</div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Keep_a_log_of_what_is_watched">Keep a log of what is watched</span></h3>
<p>Keep track of every video watched on kodi with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-logger/">kodi-logger</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Speedup_video_playback_.28synchronized_audio_and_video.29_up_to_1.5x"></span><span class="mw-headline" id="Speedup_video_playback_(synchronized_audio_and_video)_up_to_1.5x">Speedup video playback (synchronized audio and video) up to 1.5x</span>
</h3>
<p>To enable speed-up and slow-down with audio/video sync (0.8x - 1.5x) do the following:
</p>
<ul><li>Create the following file that will map the <code>[</code> and <code>]</code> keys to the <code>tempo down</code> and <code>tempo up</code> actions, respectively:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.kodi/userdata/keymaps/custom.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;keymap&gt;
  &lt;FullscreenVideo&gt;
    &lt;keyboard&gt;
      &lt;opensquarebracket&gt;PlayerControl(tempodown)&lt;/opensquarebracket&gt;
      &lt;closesquarebracket&gt;PlayerControl(tempoup)&lt;/closesquarebracket&gt;
    &lt;/keyboard&gt;
  &lt;/FullscreenVideo&gt;
  &lt;VideoMenu&gt;
    &lt;keyboard&gt;
      &lt;opensquarebracket&gt;PlayerControl(tempodown)&lt;/opensquarebracket&gt;
      &lt;closesquarebracket&gt;PlayerControl(tempoup)&lt;/closesquarebracket&gt;
    &lt;/keyboard&gt;
  &lt;/VideoMenu&gt;
&lt;/keymap&gt;</pre>
<ul>
<li>Restart kodi which will read in these changes.</li>
<li>Navigate to <i>System &gt; Player &gt; Videos &gt; Playback</i> and enable "Sync playback to display" option.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The following bug affecting GBM (but not affecting X11) is triggered by enabling this option. The bug manifests in sporadic A/V sync errors accompanied by entries in the <code>kodi.log</code> such as: <code>WARNING &lt;general&gt;: ActiveAE - large audio sync error: -89449.339487</code>, see <a rel="nofollow" class="external text" href="https://github.com/xbmc/xbmc/issues/22625">upstream bug #22625</a>.</div>
<h3><span class="mw-headline" id="Modify_default_values_for_watch_and_resume_points">Modify default values for watch and resume points</span></h3>
<p>Some users may wish to make the thresholds Kodi uses to create a resume point/consider a video "watched" entirely. Do so by editing <code>~/.kodi/userdata/advancedsettings.xml</code> inserting the following three xml fields:
</p>
<dl>
<dt>ignoresecondsatstart</dt>
<dd>the number of seconds to wait before keeping track of the start point. If users watch a value below the one defined, no start point is recorded. Default is 180.</dd>
<dt>playcountminimumpercent</dt>
<dd>the percentage of total play time to consider something watched. If users watch more of the video that this number but not the entire video, it is considered watched and any previously recorded resume point is deleted upon stopping and finally, the video is flagged as watched. Default is 90.</dd>
<dt>ignorepercentatend</dt>
<dd>the percentage of total play time at the end of a video to ignore making a resume point. This is related to the previous setting except it considers the last x percent of the video. If users watch enough content to enter this space of the file, no resume point is saved and the video is flagged as watched. Default is 8.</dd>
</dl>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.kodi/userdata/advancedsettings.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;advancedsettings&gt;
  &lt;video&gt;
    &lt;!-- see https://kodi.wiki/view/HOW-TO:Modify_automatic_watch_and_resume_points --&gt;
    &lt;ignoresecondsatstart&gt;10&lt;/ignoresecondsatstart&gt;
    &lt;playcountminimumpercent&gt;90&lt;/playcountminimumpercent&gt;
    &lt;ignorepercentatend&gt;8&lt;/ignorepercentatend&gt;
  &lt;/video&gt;
&lt;/advancedsettings&gt;
</pre>
<h3><span class="mw-headline" id="CLI_for_kodi">CLI for kodi</span></h3>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi-eventclients">kodi-eventclients</a></span> package provides <code>kodi-send</code> which can send valid <a rel="nofollow" class="external text" href="https://kodi.wiki/view/Action_IDs">kodi action</a> or <a rel="nofollow" class="external text" href="https://kodi.wiki/view/List_of_built-in_functions#List_of_functions">kodi function</a> to kodi from the shell.</li></ul>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/texturecache/">texturecache</a></span><sup><small>AUR</small></sup> can handle many aspects of library management, from clean-up of unused images, to searching, to querying what is currently playing.</li></ul>
<h3>
<span id="Use_Kodi_to_view_security_camera_streams_.28rtsp_or_rtmp.29"></span><span class="mw-headline" id="Use_Kodi_to_view_security_camera_streams_(rtsp_or_rtmp)">Use Kodi to view security camera streams (rtsp or rtmp)</span>
</h3>
<p>Since Kodi uses ffmpeg for video playback, it is able to play streams such as rtsp and rtmp can be viewed. To do so, simply create a txt file in the filesystem exposed to the kodi user containing the stream. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat front-door.strm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">rtsp://username:password@10.1.10.101</pre>
<p>Optionally meta-data, such as cover art and summaries can also be associated to the <i>.strm</i> file just like normal entries in a library by using an NFO file.
</p>
<h3><span class="mw-headline" id="UPnP_and_DLNA">UPnP and DLNA</span></h3>
<p>Go to <i>Settings &gt; Services &gt; UPnP/DLNA</i> and toggle <i>Enable UPnP support</i>.
</p>
<h3>
<span id="Adjusting_CD.2FDVD_drive_speed"></span><span class="mw-headline" id="Adjusting_CD/DVD_drive_speed">Adjusting CD/DVD drive speed</span>
</h3>
<p>The <i>eject</i> program from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span> package does a nice job for this, but its setting is cleared as soon as the media is changed.
</p>
<p>This udev-rule reduces the speed permanently:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/dvd-speed.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KERNEL=="sr0", ACTION=="change", ENV{DISK_MEDIA_CHANGE}=="1", RUN+="/usr/bin/eject -x 2 /dev/sr0"</pre>
<p>Replace <code>sr0</code> with the device name of the optical drive. Replace <code>-x 2</code> with <code>-x 4</code> if the preference is 4x-speed instead of 2x-speed.
</p>
<p>After creating the file, reload the udev rules with
</p>
<pre># udevadm control --reload
</pre>
<h3><span class="mw-headline" id="Use_port_80_for_webserver">Use port 80 for webserver</span></h3>
<p>Kodi has a webservice that allows interaction through a web-interface. By default, it uses port <code>8080</code> as <code>80</code> requires root privileges. Use the following to permit it to use low port numbers:
</p>
<pre># setcap 'cap_net_bind_service=+ep' /usr/lib/kodi/kodi.bin
</pre>
<p>Restart Kodi and set port <code>80</code> in the configuration menu (<i>Services &gt; Webserver &gt; Port</i>).
</p>
<h3><span class="mw-headline" id="Using_ALSA">Using ALSA</span></h3>
<p>If <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> or <a href="../en/PipeWire.html" title="PipeWire">PipeWire</a> do not work properly, try forcing <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> by launching Kodi with the <code>--audio-backend=alsa</code> flag.
</p>
<p>One method to set the audio backend permanently is to <a href="../en/Systemd.html#Writing_unit_files" title="Systemd">create a custom systemd unit</a>, or, alternatively, <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> one from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-standalone-service/">kodi-standalone-service</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Audio_passthrough_output_device_list_in_Kodi_21.2B"></span><span class="mw-headline" id="Audio_passthrough_output_device_list_in_Kodi_21+">Audio passthrough output device list in Kodi 21+</span>
</h3>
<p>One can allow an external receiver or sound bar to decode audio by enabling passthrough. This is useful for files encoded in TrueHD or Atmos. If using PulseAudio, follow the instructions at <a rel="nofollow" class="external free" href="https://kodi.wiki/view/PulseAudio">https://kodi.wiki/view/PulseAudio</a> to first enable passthrough in PulseAudio. Once complete, the corresponding passthrough options should appear in Kodi. When forcing ALSA by launching Kodi with <code>--audio-backend=alsa</code>,  the passthrough options will appear in Kodi automatically.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>PulseAudio requires the output in Kodi to be set to 2 channel. Audio encoded in formats not passed through will only be sent as stereo audio. Use ALSA to support passthrough and passing decoded surround audio signals</li>
<li>PulseAudio does not support TrueHD, DTS-MA, or Atmos passthrough. Use ALSA to pass these to through the receiver.</li>
</ul>
</div>
<p>Another way of getting TrueHD and DTS-MA passthrough without disabling Pulseaudio or Pipewire-Pulse is to use an external player like MPV, first create the file <code>~/.kodi/userdata/playercorefactory.xml</code> then paste the following into it:
</p>
<pre>&lt;playercorefactory&gt;
  &lt;players&gt;
    &lt;player name="MPV" type="ExternalPlayer" audio="false" video="true"&gt;
      &lt;filename&gt;/usr/bin/mpv&lt;/filename&gt;
      &lt;args&gt;--fs=yes "{1}"&lt;/args&gt;
      &lt;hidexbmc&gt;true&lt;/hidexbmc&gt;
    &lt;/player&gt;
  &lt;/players&gt;
  &lt;rules action="prepend"&gt;
    &lt;rule video="true" player="MPV"/&gt;
  &lt;/rules&gt;
&lt;/playercorefactory&gt;
</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Mpv.html" title="Mpv">mpv</a>.</b></p>
<div>
<b>Notes:</b> Appears to partially duplicate <a href="../en/Mpv.html#Specify_an_audio_output" title="Mpv">mpv#Specify an audio output</a> and <a href="../en/Mpv.html#HD_Audio_passthrough" title="Mpv">mpv#HD Audio passthrough</a>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Kodi.html">Talk:Kodi</a>)</div>
</div>
<p>MPV should now be the default media player for Kodi. To set the correct audio output device for MPV, use the following command to show a list of available audio devices:
</p>
<pre>$ mpv --audio-device=help
</pre>
<p>For example:
</p>
<pre>alsa/hdmi:CARD=NVidia,DEV=1
</pre>
<p>Now edit <code>~/.config/mpv/mpv.conf</code> and add the following lines:
</p>
<pre>audio-spdif=ac3,eac3,dts-hd,truehd
audio-device=alsa/hdmi:CARD=NVidia,DEV=1
</pre>
<p>To have auto switching of refresh rates create the following folder <code>~/.config/mpv/scripts</code> then download and place <a rel="nofollow" class="external text" href="https://github.com/lvml/mpv-plugin-xrandr/blob/master/xrandr.lua">mpv-plugin-xrandr/xrandr.lua</a> into that folder.
</p>
<h3><span class="mw-headline" id="Kodi_JSON-RPC_API_to_alter_settings_from_external_tools">Kodi JSON-RPC API to alter settings from external tools</span></h3>
<p>Users can interact directly with Kodi on the CLI or from a python script etc. by making use of the <a rel="nofollow" class="external text" href="https://kodi.wiki/view/JSON-RPC_API/v12">JSON-RPC API</a>.
</p>
<p>For example, using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curl">curl</a></span>:
</p>
<pre>$ curl -v -H "Content-type: application/json" -d \
  '{"jsonrpc":"2.0","id":1,"method":"Settings.GetSettingValue","params":{"setting":"audiooutput.audiodevice"}}' \
  <a rel="nofollow" class="external free" href="http://localhost:8080/jsonrpc">http://localhost:8080/jsonrpc</a> -u xbmc:xbmc
</pre>
<p>Another example is <a rel="nofollow" class="external text" href="https://github.com/graysky2/streamzap/blob/master/kodi/audio_switch/audio_switch.py">this python script</a> which simply toggles between two groups of settings, in this case, toggling the audio source back-and-forth between HDMI and optical out.
</p>
<h3><span class="mw-headline" id="Fix_for_delayed_startup_on_wifi">Fix for delayed startup on wifi</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-cut.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is being considered for removal.</b></p>
<div>
<b>Reason:</b> Duplicates <a href="../en/Systemd-networkd.html#systemd-networkd-wait-online" title="Systemd-networkd">systemd-networkd#systemd-networkd-wait-online</a>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Kodi.html">Talk:Kodi</a>)</div>
</div>
<p>If running with WiFi only (wired network unplugged) while <a href="#Sharing_media_and_a_centralized_database_across_multiple_nodes">#Sharing media and a centralized database across multiple nodes</a>, kodi will likely start before the wireless network is up, which will result in failure to connect to the shares and to the SQL server. Assuming the network is managed by <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a>, this can be fixed by using a <a href="../en/Systemd.html#Drop-in_files" class="mw-redirect" title="Drop-in file">drop-in file</a>: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/systemd-networkd-wait-online.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=/usr/lib/systemd/systemd-networkd-wait-online --ignore eth0</pre>
<h3><span class="mw-headline" id="Run_kodi_in_a_window_manager">Run kodi in a window manager</span></h3>
<p>Users running kodi in a <a href="../en/Window_manager.html" title="Window manager">Window manager</a> may see a black screen at exit. To fix this, try switching to another tty. A possible solution is to run kodi with this script (running as the root user):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">kodi.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
kodi-standalone
sudo chvt 2 
sleep 1
sudo chvt 1
</pre>
<p>To make sure that <a href="../en/Sudo.html" title="Sudo">sudo</a> does not ask for password for <code>chvt</code> add this line to <code>sudoers</code> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sudoers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>UserNameHere</i> ALL=NOPASSWD: /usr/bin/chvt</pre>
<h3><span class="mw-headline" id="USB_DAC_not_working">USB DAC not working</span></h3>
<p>Users of USB DAC/sound cards may experience distorted sound/clicks/pops or no sound at all when selecting it from Audio settings. A possible fix: 
</p>
<p>Open <code>guisettings.xml</code> (it should be under <code>/var/lib/kodi/.kodi/userdata/</code> if using the supplied <code>kodi-xxx.service</code>) and change
</p>
<pre>&lt;processquality default="<b>true</b>"&gt;<b>101</b>&lt;/processquality&gt;
</pre>
<p>to
</p>
<pre>&lt;processquality default="<b>false</b>"&gt;<b>100</b>&lt;/processquality&gt;
</pre>
<h3><span class="mw-headline" id="Virtual_file_system_support">Virtual file system support</span></h3>
<p>Kodi provides addons for accessing various virtual file systems from within Kodi. RAR archives can be accessed using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-vfs-rar/">kodi-addon-vfs-rar</a></span><sup><small>AUR</small></sup>. SFTP shares can be accessed using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-vfs-sftp/">kodi-addon-vfs-sftp</a></span><sup><small>AUR</small></sup>. Super Audio CD ISO files can be access using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-vfs-sacd/">kodi-addon-vfs-sacd</a></span><sup><small>AUR</small></sup>. Each of these addons must be enabled within Kodi's addon manager in order to be utilized.
</p>
<h3><span class="mw-headline" id="Inhibit_KDE_automatic_sleep_during_playback">Inhibit KDE automatic sleep during playback</span></h3>
<p>Using the add-on <a rel="nofollow" class="external text" href="https://sourceforge.net/projects/osscreensavermanager/">ossscreensavermanager</a> in combination with commands using <i>kwriteconfig6</i> it is possible to inhibit KDE's power saving functions during playback. Install the add-on, then under its advanced settings write under "Command to suspend screen saver":
</p>
<pre>kwriteconfig6 --file powermanagementprofilesrc --group AC --group SuspendSession --key idleTime 1800000
</pre>
<p>Under "Command to resume screen saver", write:
</p>
<pre>kwriteconfig6 --file powermanagementprofilesrc --group AC --group SuspendSession --key idleTime 86400000
</pre>
<p>In this example, the system suspends after 360 minutes during playback, and after 30 minutes without playback.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Accessing_Kodi_logs">Accessing Kodi logs</span></h3>
<p>In case of an error the first point to start investigation can be <code>~/.kodi/temp/kodi.log</code>.
</p>
<h3><span class="mw-headline" id="Fullscreen_mode_stretches_Kodi_across_multiple_displays">Fullscreen mode stretches Kodi across multiple displays</span></h3>
<p>For a multi-monitor setup, Kodi may default to stretching across all screens. One can restrict the fullscreen mode to one display by setting the <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>SDL_VIDEO_FULLSCREEN_HEAD</code> to the number of the desired target display. For example, having Kodi show up on display 0, add the following line to the Kodi user's <code>~/.bashrc</code> configuration:
</p>
<pre>SDL_VIDEO_FULLSCREEN_HEAD=0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Mouse cursor will be held inside screen with Kodi.</div>
<h3><span class="mw-headline" id="H.264_playback_is_using_only_a_single_core">H.264 playback is using only a single core</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> By default, press <code>O</code> during playback to show codec information and CPU usage. More information about this overlay can be found at <a rel="nofollow" class="external free" href="https://kodi.wiki/view/Player_process_info">https://kodi.wiki/view/Player_process_info</a>.</div>
<p>If the hardware does not or cannot make use of acceleration, disable it and explicitly set video decoding to software.
This is because <a rel="nofollow" class="external text" href="https://forum.kodi.tv/showthread.php?tid=170084&amp;pid=1789661#pid1789661">H.264 decoding is only multithreaded when video decoding is set to software</a>.
</p>
<p>To achieve this, go to <i>System Settings &gt; Video</i>. Set the <code>settings level</code> to <code>Advanced</code> or <code>Expert</code>. Then go to <i>Acceleration</i> and set <code>Decoding method</code> to <code>software</code>.
</p>
<h3>
<span id="Kodi_hangs_on_exit.2C_fully_occupying_one_CPU_core.2C_UI_unresponsive"></span><span class="mw-headline" id="Kodi_hangs_on_exit,_fully_occupying_one_CPU_core,_UI_unresponsive">Kodi hangs on exit, fully occupying one CPU core, UI unresponsive</span>
</h3>
<p>This problem can arise with third-party plugins installed, there is some issue with their termination<a rel="nofollow" class="external autonumber" href="https://www.linuxquestions.org/questions/linux-software-2/kodi-freezes-on-exit-kodi-bin-won't-die-4175588180/">[1]</a>,<a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/5029oo/kodi_freezes_on_exit_kodibin_wont_die/">[2]</a>.
</p>
<p>Workaround: find proper UI description file (<code>DialogButtonMenu.xml</code>) and tweak exit button type from internal Kodi's <code>Quit()</code> function call to sending signal from outside system to Kodi. Here is one-liner that makes modifications to any skin from the default Kodi package:
</p>
<pre># find /usr/share/kodi/addons/skin.* -name DialogButtonMenu.xml -exec sed -i 's%&lt;onclick&gt;Quit()&lt;/onclick&gt;%&lt;onclick&gt;System.Exec ("killall --signal SIGHUP kodi.bin")&lt;/onclick&gt;%' {} \;
</pre>
<h3><span class="mw-headline" id="kodi-standalone_will_not_play_DVDs">kodi-standalone will not play DVDs</span></h3>
<p>If kodi-standalone will not play DVDs, it may help to install <a href="../en/Udisks.html" title="Udisks">udisks</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://kodi.wiki/view/Main_Page">Kodi Wiki</a> - Excellent resource with much information about Arch Linux specifically</li>
<li><a href="https://en.wikipedia.org/wiki/Kodi_(software)" class="extiw" title="wikipedia:Kodi (software)">Wikipedia:Kodi (software)</a></li>
<li>
<a rel="nofollow" class="external free" href="http://www.hdpfans.com/thread-329076-1-1.html">http://www.hdpfans.com/thread-329076-1-1.html</a> - Kodi/xbmc Chinese plug-in library installation method</li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/taxigps/xbmc-addons-chinese">https://github.com/taxigps/xbmc-addons-chinese</a> - xbmc-addons-chinese: Addon scripts, plugins, and skins for XBMC Media Center. Special for chinese laguage.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Home_theater.html" title="Category:Home theater">Home theater</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Kodi&amp;oldid=811998">https://wiki.archlinux.org/index.php?title=Kodi&amp;oldid=811998</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 6 July 2024, at 08:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
