<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Microsoft Surface Pro 3 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Microsoft_Surface_Pro_3 rootpage-Microsoft_Surface_Pro_3 skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Booting_into_the_installer" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Booting_into_the_installer">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Booting into the installer</span>
			</div>
		</a>
		
			<button aria-controls="toc-Booting_into_the_installer-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Booting into the installer subsection</span>
			</button>
		
		<ul id="toc-Booting_into_the_installer-sublist" class="vector-toc-list">
			<li id="toc-Disable_Secure_Boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_Secure_Boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Disable Secure Boot</span>
				</div>
			</a>
			
			<ul id="toc-Disable_Secure_Boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Boot_with_Secure_Boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Boot_with_Secure_Boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Boot with Secure Boot</span>
				</div>
			</a>
			
			<ul id="toc-Boot_with_Secure_Boot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Extra_steps" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Extra_steps">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Extra steps</span>
			</div>
		</a>
		
			<button aria-controls="toc-Extra_steps-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Extra steps subsection</span>
			</button>
		
		<ul id="toc-Extra_steps-sublist" class="vector-toc-list">
			<li id="toc-Enabling_Touchpad" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_Touchpad">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Enabling Touchpad</span>
				</div>
			</a>
			
			<ul id="toc-Enabling_Touchpad-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tuning_the_Pen" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tuning_the_Pen">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Tuning the Pen</span>
				</div>
			</a>
			
			<ul id="toc-Tuning_the_Pen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Virtual_Keyboard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Virtual_Keyboard">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Virtual Keyboard</span>
				</div>
			</a>
			
			<ul id="toc-Virtual_Keyboard-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Booting_with_Secure_Boot_Enabled" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Booting_with_Secure_Boot_Enabled">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Booting with Secure Boot Enabled</span>
				</div>
			</a>
			
			<ul id="toc-Booting_with_Secure_Boot_Enabled-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enabling_Wi-Fi_and_Bluetooth" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_Wi-Fi_and_Bluetooth">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Enabling Wi-Fi and Bluetooth</span>
				</div>
			</a>
			
			<ul id="toc-Enabling_Wi-Fi_and_Bluetooth-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Accessibility" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Accessibility">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Accessibility</span>
			</div>
		</a>
		
		<ul id="toc-Accessibility-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Invalid_signature_detected_check_secure_boot_policy_in_setup" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Invalid_signature_detected_check_secure_boot_policy_in_setup">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Invalid signature detected check secure boot policy in setup</span>
				</div>
			</a>
			
			<ul id="toc-Invalid_signature_detected_check_secure_boot_policy_in_setup-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Keyboard_Cover_not_working" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard_Cover_not_working">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Keyboard Cover not working</span>
				</div>
			</a>
			
			<ul id="toc-Keyboard_Cover_not_working-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pen/Touchscreen_issues_in_Xournal" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pen/Touchscreen_issues_in_Xournal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Pen/Touchscreen issues in Xournal</span>
				</div>
			</a>
			
			<ul id="toc-Pen/Touchscreen_issues_in_Xournal-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Microsoft Surface Pro 3</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> <a href="../en/Help:Style.html#Language_register" title="Help:Style">Help:Style#Language register</a> (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Microsoft_Surface_Pro_3.html">Talk:Microsoft Surface Pro 3</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Missing some sections. This page also duplicates content of other wiki pages (sections are already flagged with <a href="../en/Template:Merge.html" title="Template:Merge">Template:Merge</a>) (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Microsoft_Surface_Pro_3.html">Talk:Microsoft Surface Pro 3</a>)</div>
</div>
<table class="wikitable archwiki-table-laptop">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>GPU</td>
<td><code>8086:0a16</code></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Yes
</td>
</tr>
<tr>
<td>Wi-Fi</td>
<td><code>11ab:2b38</code></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>1286:204b</code></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Yes
</td>
</tr>
<tr>
<td>Webcam (front)</td>
<td><code>045e:07be</code></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Yes
</td>
</tr>
<tr>
<td>Webcam (rear)</td>
<td><code>045e:07bf</code></td>
<td class="archwiki-table-cell archwiki-template-g" data-sort-value="5">Yes
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> 
The warranty of the device is only valid if the OEM image of Windows is still present. A dual boot, however, will not invalidate the warranty as explained <a rel="nofollow" class="external text" href="https://answers.microsoft.com/en-us/surface/forum/surfpro-surfusingpro/would-dual-booting-the-surface-pro-void-its/da549e24-f986-4984-b081-25c029882163">here</a>.</div>
<p>This page aims to document all relevant information on getting Arch Linux working on the Microsoft Surface Pro 3 tablet.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Booting_into_the_installer">Booting into the installer</h2></div>
<p>To boot from USB, you will need to instruct the tablet to boot from USB or SD Card. Also, you may want to avoid disabling <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> as this will cause each boot to display an ugly bright red background intentionally clashing with the "Surface" splash logo.
</p>
<p>There are three types of boots in the Surface Pro 3 <a rel="nofollow" class="external text" href="https://www.microsoft.com/surface/en-us/support/storage-files-and-folders/boot-surface-pro-from-usb-recovery-device">explained here</a>:
</p>
<ol>
<li>Normal mode
<ol><li>Just leave the computer go. You can change it from "Alternate Boot order" in the UEFI Setup</li></ol>
</li>
<li>Boot into the UEFI Setup
<ol>
<li>With the device powered off (or rebooting, but better play safe)</li>
<li>Press &amp; hold Volume up</li>
<li>Press power button</li>
<li>Wait until the surface logo appears</li>
<li>Release Volume up</li>
<li>You will be presented with the UEFI Setup Menu</li>
</ol>
</li>
<li>Boot into the USB/SD card
<ol>
<li>Power off the device</li>
<li>Press &amp; hold Volume down</li>
<li>Press power button</li>
<li>Wait until the surface logo appears</li>
<li>Release Volume down</li>
</ol>
</li>
</ol>
<div class="mw-heading mw-heading3"><h3 id="Disable_Secure_Boot">Disable Secure Boot</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This will cause a red background before the logo when booting.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> If your drive is BitLocker encrypted, you might lose access to its data if you disable secure boot, even if you later re-enable it, <b>unless</b> you backup your recovery key or suspend the protection before disabling secure boot.</div>
<p>Boot into the UEFI setup, and select <i>Secure Boot Control &gt; Disable</i>. Now continue with the installation. See the <a rel="nofollow" class="external text" href="https://www.microsoft.com/surface/en-sg/support/warranty-service-and-recovery/how-to-use-the-bios-uefi">Microsoft steps</a> for more information.
</p>
<div class="mw-heading mw-heading3"><h3 id="Boot_with_Secure_Boot">Boot with Secure Boot</h3></div>
<p>See <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Unified_Extensible_Firmware_Interface.html#Secure_Boot" class="mw-redirect" title="UEFI">UEFI#Secure Boot</a>.</b></p>
<div>
<b>Notes:</b> These steps are on how to support Secure Boot for Arch Linux, need to try it in a regular computer. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Microsoft_Surface_Pro_3.html">Talk:Microsoft Surface Pro 3</a>)</div>
</div>
<p>I have done the installation with systemd's bootctl <a href="../en/Systemd-boot.html" title="Systemd-boot">Systemd-boot</a> (old <a href="../en/Systemd-boot.html" class="mw-redirect" title="Gummiboot">Gummiboot</a>). After completing the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a>, you should do two more things. Booting in Secure Boot will not work for the new installation, as the vmlinuz has not been registered within its loader.
</p>
<p>The easiest way is to do all the setup is the following, just before rebooting:
</p>
<ol>
<li>Exit from the chroot but do not umount anything</li>
<li>Move /mnt/boot/EFI/boot/bootx64.efi to /mnt/boot/EFI/boot/loader.efi</li>
<li>Copy /boot/EFI/boot/bootx64.efi and HashTool.efi to /mnt/boot/EFI/boot/</li>
</ol>
<p>(If you are unable to find HashTool in /boot, try in /usr/run)
</p>
<p>Here, we have enabled Preloader to boot our gummiboot loader, and if it detects that something has not been signed, it will boot the HashTool.efi to sign the vmlinuz-image binary.
</p>
<p>The idea is, we take the systemd <a href="../en/Boot_loader.html" class="mw-redirect" title="Boot loader">boot loader</a> and make it the one that PreLoader will boot (the one in its same folder, named loader.efi). Then, we copy both the PreLoader (which is the archiso's bootx64.efi) and the HashTool (already with that name).
</p>
<p>This way, with Secure Boot enabled, you will be able to boot your kernel whenever you wish to, signed or not, repeating the hash storing procedure on the next boot.
</p>
<div class="mw-heading mw-heading2"><h2 id="Extra_steps">Extra steps</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Enabling_Touchpad">Enabling Touchpad</h3></div>
<p>Ref: <a rel="nofollow" class="external text" href="https://github.com/matthewwardrop/linux-surfacepro3/issues/1">GitHub</a>
In order to enable full functionality of the touchpad (e.g. two-finger scrolling, right click), you need to 
<a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> package, have the kernel patch applied as well as add the following to <code>/etc/X11/xorg.conf.d/10-multitouch.conf</code>:
</p>
<pre>Section "InputClass"
  Identifier "Default clickpad buttons"
  MatchDriver "synaptics"
  Option "ClickPad" "true"
  Option "SoftButtonAreas" "50% 0 82% 0 0 0 0 0"
  Option "SecondarySoftButtonAreas" "58% 0 0 15% 42% 58% 0 15%"
EndSection
</pre>
<div class="mw-heading mw-heading3"><h3 id="Tuning_the_Pen">Tuning the Pen</h3></div>
<p>The pen buttons might not work out of the box. <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span> package and comment the <code>MatchIsTablet</code> section in <code>/usr/share/X11/xorg.conf.d/10-evdev.conf</code>. Furthermore add <code>1B96:1B05 Pen</code> in the <code>MatchProduct</code> line of N-Trig in <code>/usr/share/X11/xorg.conf.d/50-wacom.conf</code>. Note that the purple bluetooth button is recognized but able to be bound to an action.
Ref:<a rel="nofollow" class="external text" href="https://www.reddit.com/r/SurfaceLinux/comments/3mu28a/sp3_pen_tip_button_working/">Reddit</a>
</p>
<div class="mw-heading mw-heading3"><h3 id="Virtual_Keyboard">Virtual Keyboard</h3></div>
<p>Depending on the desktop environment you are using, you might want to use different virtual keyboard. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=onboard">onboard</a></span> provides a reliable and comfortable experience. 
A guide for optical tweaking is provided <a rel="nofollow" class="external text" href="https://github.com/Vistaus/surface3-arch-antergoslinux/issues/5">here</a>. If you are using <a href="../en/GNOME.html" title="GNOME">GNOME</a>, these two extension (<a rel="nofollow" class="external text" href="https://extensions.gnome.org/extension/992/onboard-integration/">1</a>, <a rel="nofollow" class="external text" href="https://extensions.gnome.org/extension/993/slide-for-keyboard/">2</a>) provide a better integration.
</p>
<div class="mw-heading mw-heading3"><h3 id="Booting_with_Secure_Boot_Enabled">Booting with Secure Boot Enabled</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>.</b></p>
<div>
<b>Notes:</b> This duplicates parts of the page as some of this is not really specific to the device. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Microsoft_Surface_Pro_3.html">Talk:Microsoft Surface Pro 3</a>)</div>
</div>
<p>The recommended <a href="../en/Boot_loader.html" class="mw-redirect" title="Boot loader">boot loader</a> for UEFI with Secure Boot enabled is <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a>.
</p>
<p>To boot with Secure Boot, you will need the following packages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efitools">efitools</a></span>.
</p>
<p>See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1570523#p1570523">Surface Pro 3 and Secure Boot post-install</a> for more information.
</p>
<ul>
<li>Copy <code>/boot/EFI/systemd/systemd-bootx64.efi</code> to <code>/boot/EFI/systemd/loader.EFI</code>.</li>
<li>Copy <code>/usr/lib/prebootloader/HashTool.efi</code> and <code>/usr/lib/prebootloader/PreLoader.efi</code> to <code>/boot/EFI/systemd/</code>.</li>
<li>Create an NVRAM entry for PreLoader.efi:</li>
</ul>
<pre> efibootmgr -d /dev/sd<i>X</i> -p <i>Y</i> -c -L Preloader -l /EFI/systemd/PreLoader.efi
</pre>
<ul><li>Verify the entry was made and that it is first in the boot order:</li></ul>
<pre>efibootmgr
</pre>
<ul>
<li>Enroll your kernel in the boot loader: <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>.</li>
<li>Enroll <code>HashTool.efi</code> and <code>vmlinuz-linux</code>, and then reboot to system.</li>
</ul>
<p>You should now be able to boot with Secure Boot enabled.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Since PreLoader.efi is the default boot option per <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span>, if you change the kernel you will be presented with PreLoader to enroll the new kernel with HashTool again.</li>
<li>Ensure that you add the entry in <code>/boot/loader/entries/</code> so that you are presented the option to boot with the new kernel.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="Enabling_Wi-Fi_and_Bluetooth">Enabling Wi-Fi and Bluetooth</h3></div>
<p>The package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware-marvell">linux-firmware-marvell</a></span> is required for the Wi-Fi and Bluetooth since the <a rel="nofollow" class="external text" href="https://archlinux.org/news/linux-firmware-202201190c6a7b3-2-requires-kernel-53-and-package-splitting/">linux-firmware 20220119 update</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Accessibility">Accessibility</h2></div>
<p>The appearance of the BIOS is pretty simple and not very colorful, so it might work well with OCR software. 
</p>
<p>The BIOS can be configured with a keyboard, mouse, or using the touch screen.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Invalid_signature_detected_check_secure_boot_policy_in_setup">Invalid signature detected check secure boot policy in setup</h3></div>
<p>This happened to me after deleting the Secure Boot database and initializing it with Microsoft &amp; CAs. I also had to do the recovery of the BitLocker partition, but I would follow these steps:
</p>
<ol>
<li>After the reset, switch off and try to boot from the SD/USB. If you do not succeed and get the message many times:
<ol>
<li>Leaving all TPM &amp; Secure Boot enabled and SSD Only alternate system order</li>
<li>Do another database reset</li>
<li>Enroll the Microsoft and CAs again</li>
<li>reboot into SD/USB with volume down</li>
<li>It should work now</li>
</ol>
</li>
<li>Follow steps in the Secure Boot installation</li>
<li>After the full installation of Arch Linux, when you have it working, do the BitLocker recovery</li>
</ol>
<p>If after doing these steps does not still work. Flash the Archiso image once more and try again,
</p>
<div class="mw-heading mw-heading3"><h3 id="Keyboard_Cover_not_working">Keyboard Cover not working</h3></div>
<p>This can happen sometimes when you restart. The solution was to shutdown and reboot. (not restart)
</p>
<div class="mw-heading mw-heading3"><h3 id="Pen/Touchscreen_issues_in_Xournal">
<span id="Pen.2FTouchscreen_issues_in_Xournal"></span>Pen/Touchscreen issues in Xournal</h3></div>
<p>When using the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span> package there is a bug in the last official release of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xournal/">xournal</a></span><sup><small>AUR</small></sup> (0.48.2) where it will incorrectly detect the Surface Pen as the touchscreen device. However it has been fixed in the latest Xournal source as per this <a rel="nofollow" class="external text" href="https://sourceforge.net/p/xournal/bugs/144/">bug</a>. Installing the AUR package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xournal-git/">xournal-git</a></span><sup><small>AUR</small></sup> builds the latest source including this fix.
Note that you will need to select 'NTRG0001:01 1B96:1B05' as the touchscreen device (Options &gt; Pen and Touch).
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Microsoft.html" title="Category:Microsoft">Microsoft</a></li>
<li><a href="../en/Category:Tablet_PCs.html" title="Category:Tablet PCs">Tablet PCs</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Microsoft_Surface_Pro_3&amp;oldid=837188">https://wiki.archlinux.org/index.php?title=Microsoft_Surface_Pro_3&amp;oldid=837188</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 June 2025, at 23:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Microsoft Surface Pro 3</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
