<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Trusted Platform Module - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Trusted_Platform_Module rootpage-Trusted_Platform_Module skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Checking_TPM_support" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Checking_TPM_support">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Checking TPM support</span>
			</div>
		</a>
		
		<ul id="toc-Checking_TPM_support-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-LUKS_encryption" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LUKS_encryption">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>LUKS encryption</span>
				</div>
			</a>
			
			<ul id="toc-LUKS_encryption-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSH" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SSH">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>SSH</span>
				</div>
			</a>
			
			<ul id="toc-SSH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd-creds" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-creds">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>systemd-creds</span>
				</div>
			</a>
			
			<ul id="toc-systemd-creds-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GnuPG" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GnuPG">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>GnuPG</span>
				</div>
			</a>
			
			<ul id="toc-GnuPG-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-OpenSSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenSSL">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>OpenSSL</span>
				</div>
			</a>
			
			<ul id="toc-OpenSSL-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_good_examples_of_TPM_2.0_usage" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Other_good_examples_of_TPM_2.0_usage">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.6</span>
					<span>Other good examples of TPM 2.0 usage</span>
				</div>
			</a>
			
			<ul id="toc-Other_good_examples_of_TPM_2.0_usage-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Accessing_PCR_registers" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Accessing_PCR_registers">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Accessing PCR registers</span>
			</div>
		</a>
		
		<ul id="toc-Accessing_PCR_registers-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-PCR_policies" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#PCR_policies">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>PCR policies</span>
			</div>
		</a>
		
		<ul id="toc-PCR_policies-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-TPM2_LUKS2_unlocking_still_asking_for_password" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TPM2_LUKS2_unlocking_still_asking_for_password">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>TPM2 LUKS2 unlocking still asking for password</span>
				</div>
			</a>
			
			<ul id="toc-TPM2_LUKS2_unlocking_still_asking_for_password-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-A_TPM_error_(714)_occurred_attempting_to_create_NULL_primary" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#A_TPM_error_(714)_occurred_attempting_to_create_NULL_primary">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>A TPM error (714) occurred attempting to create NULL primary</span>
				</div>
			</a>
			
			<ul id="toc-A_TPM_error_(714)_occurred_attempting_to_create_NULL_primary-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Trusted Platform Module</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Self-encrypting_drives.html" title="Self-encrypting drives">Self-encrypting drives</a></li>
<li><a href="../en/Smartcards.html" title="Smartcards">Smartcards</a></li>
<li><a href="../en/Trusted_Platform_Module/1.2.html" title="Trusted Platform Module/1.2">Trusted Platform Module/1.2</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Needs clarification about usage difference between TPM 1.2 and 2.0, Evil Maid attack defense and Trusted boot. PCR registers sealing and using in combination with LUKS. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Trusted_Platform_Module.html">Talk:Trusted Platform Module</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Trusted_Platform_Module" class="extiw" title="wikipedia:Trusted Platform Module">Trusted Platform Module</a> (TPM) is an international standard for a secure cryptoprocessor, which is a dedicated microprocessor designed to secure hardware by integrating cryptographic keys into devices.
</p>
<p>In practice a TPM can be used for various different security applications such as <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">secure boot</a>, key storage and <a href="../en/Random_number_generation.html" title="Random number generation">random number generation</a>.
</p>
<p>TPM is naturally supported only on devices that have TPM hardware support. If your hardware has TPM support but it is not showing up, it might need to be enabled in the BIOS settings.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> There are two very different TPM specifications: 2.0 and 1.2, which also use different software stacks. <b>This article only describes TPM 2.0</b>, for the older TPM 1.2 see <a href="../en/Trusted_Platform_Module/1.2.html" title="Trusted Platform Module/1.2">/1.2</a>.</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Checking_TPM_support">Checking TPM support</h2></div>
<p>Most modern computers support TPM 2.0, as it has been <a rel="nofollow" class="external text" href="https://www.computerworld.com/article/3101427/microsoft-mandates-windows-10-hardware-change-for-pc-security.html">required</a> for Windows 10 certification since 2016. To check support on your system, use any of the following methods:
</p>
<ul>
<li>check the logs, e.g., by running <code>journalctl -k --grep=tpm</code> as root</li>
<li>read the value of <code>/sys/class/tpm/tpm0/device/description</code><a rel="nofollow" class="external autonumber" href="https://github.com/tpm2-software/tpm2-tools/issues/604#issuecomment-342784674">[1]</a>, <code>/sys/class/tpm/tpm0/device/firmware_node/description</code>, or <code>/sys/class/tpm/tpm0/tpm_version_major</code>:</li>
</ul>
<pre>$ cat /sys/class/tpm/tpm0/device/description
TPM 2.0 Device
</pre>
<ul><li>use <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-analyze"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-analyze.1">systemd-analyze(1)</a></span> to check for TPM 2.0 and the necessary software dependencies: <pre>$ systemd-analyze has-tpm2</pre>
</li></ul>
<p>TPM 2.0 allows direct access via <code>/dev/tpm0</code> (one client at a time), kernel-managed access via <code>/dev/tpmrm0</code>, or managed access through the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-abrmd">tpm2-abrmd</a></span> resource manager daemon. <a rel="nofollow" class="external text" href="https://groups.google.com/g/linux.debian.bugs.dist/c/OWBHw40g6Vk/m/rnwwkVapDAAJ">According to</a> a systemd project member, using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-abrmd">tpm2-abrmd</a></span> is no longer recommended. There are two choices of userspace tools, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-tools">tpm2-tools</a></span> by Intel and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibm-tss/">ibm-tss</a></span><sup><small>AUR</small></sup> by IBM.
</p>
<p>TPM 2.0 requires <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> boot; BIOS or Legacy boot systems can only use TPM 1.2.
</p>
<p>Some TPM chips can be switched between 2.0 and 1.2 through a firmware upgrade (which can be done only a limited number of times).
</p>
<div class="mw-heading mw-heading2"><h2 id="Usage">Usage</h2></div>
<p>Many informative resources to learn how to configure and make use of TPM 2.0 services in daily applications are available from the <a rel="nofollow" class="external text" href="https://tpm2-software.github.io/">tpm2-software community</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="LUKS_encryption">LUKS encryption</h3></div>
<p>It is possible to encrypt volumes using keys securely stored in the TPM. This approach ensures that your drives remain locked unless the TPM is present and specific conditions are met, such as the integrity of the firmware or <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> state (see <a href="#Accessing_PCR_registers">#Accessing PCR registers</a>).
</p>
<p>This mechanism can be used to automatically decrypt the root volume during the boot process, similarly to how BitLocker works on Windows or FileVault on macOS. While this provides strong protection if the drive is removed from the computer with the TPM, data protection will only rely on basic measures like user passwords and system settings if the entire PC is stolen. To mitigate this, you can:
</p>
<ul>
<li>Consider encrypting user data, such as individual home folders, with a different mechanism, such as <a href="../en/Fscrypt.html#Encrypt_a_home_directory" title="Fscrypt">fscrypt</a> or <a href="../en/Systemd-homed.html#LUKS_home_directory" title="Systemd-homed">systemd-homed</a>.</li>
<li>Use a <b>TPM pin</b> to benefit from the security properties of the TPM, while avoiding completely unattended unlocking.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Be aware that this method makes you more vulnerable to <a href="https://en.wikipedia.org/wiki/Cold_boot_attack" class="extiw" title="wikipedia:Cold boot attack">cold boot attacks</a>.
</div>
<p><a href="../en/Systemd-cryptenroll.html" title="Systemd-cryptenroll">systemd-cryptenroll</a> and <a href="../en/Clevis.html" title="Clevis">Clevis</a> allow locking LUKS volumes with a key stored in the TPM. Additionally, systemd-cryptenroll enables tying the encryption to signed policies instead of static PCR values (See <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-cryptenroll"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-cryptenroll.1">systemd-cryptenroll(1)</a></span>).
</p>
<div class="mw-heading mw-heading3"><h3 id="SSH">SSH</h3></div>
<p>For TPM sealed SSH keys, there are two options:
</p>
<ul><li>
<b>ssh-tpm-agent</b> — ssh-agent compatible agent using TPM backed keys.</li></ul>
<dl>
<dd>
<a rel="nofollow" class="external free" href="https://github.com/Foxboron/ssh-tpm-agent">https://github.com/Foxboron/ssh-tpm-agent</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ssh-tpm-agent">ssh-tpm-agent</a></span>
</dd>
<dd>See <a rel="nofollow" class="external text" href="https://linderud.dev/blog/store-ssh-keys-inside-the-tpm-ssh-tpm-agent/">Store ssh keys inside the TPM: ssh-tpm-agent</a>.</dd>
</dl>
<ul><li>
<b>tpm2-pkcs11</b> — PKCS#11 interface for Trusted Platform Module 2.0 hardware.</li></ul>
<dl>
<dd>
<a rel="nofollow" class="external free" href="https://github.com/tpm2-software/tpm2-pkcs11">https://github.com/tpm2-software/tpm2-pkcs11</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-pkcs11">tpm2-pkcs11</a></span>
</dd>
<dd>See <a rel="nofollow" class="external text" href="https://github.com/tpm2-software/tpm2-pkcs11/blob/master/docs/SSH.md">SSH configuration</a> and <a rel="nofollow" class="external text" href="https://incenp.org/notes/2020/tpm-based-ssh-key.html">Using a TPM for SSH authentication</a> (2020-01).</dd>
</dl>
<div class="mw-heading mw-heading3"><h3 id="systemd-creds">systemd-creds</h3></div>
<p><a href="../en/Systemd-creds.html" title="Systemd-creds">systemd-creds</a> uses TPM to securely store and retrieve credentials used by systemd units.
</p>
<div class="mw-heading mw-heading3"><h3 id="GnuPG">GnuPG</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Add instructions for probing the TPM to find out which keys it supports. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Trusted_Platform_Module.html">Talk:Trusted Platform Module</a>)</div>
</div>
<p><a href="../en/GnuPG.html" title="GnuPG">GnuPG</a>, since version 2.3, supports moving compatible keys into the TPM. See <a rel="nofollow" class="external text" href="https://gnupg.org/blog/20210315-using-tpm-with-gnupg-2.3.html">Using a TPM with GnuPG 2.3</a> for the instructions.
</p>
<div class="mw-heading mw-heading3"><h3 id="OpenSSL">OpenSSL</h3></div>
<p>There are <a href="../en/OpenSSL.html#Use_third-party_providers" title="OpenSSL">OpenSSL providers</a> and OpenSSL engines that implement storing keys in the TPM.
</p>
<ul><li>
<b>tpm2-openssl</b> — OpenSSL Provider for TPM2 integration.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/tpm2-software/tpm2-openssl">https://github.com/tpm2-software/tpm2-openssl</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-openssl">tpm2-openssl</a></span>
</dd></dl>
<ul><li>
<b>tpm2-tss-engine</b> — OpenSSL Engine for TPM2 devices.</li></ul>
<dl>
<dd>
<a rel="nofollow" class="external free" href="https://github.com/tpm2-software/tpm2-tss-engine">https://github.com/tpm2-software/tpm2-tss-engine</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-tss-engine">tpm2-tss-engine</a></span>
</dd>
<dd>See <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=XwaSyHJIos8">Using the TPM - It's Not Rocket Science (Anymore)</a> - Johannes Holland &amp; Peter Huewe (2020-11, Youtube)</dd>
</dl>
<div class="mw-heading mw-heading3"><h3 id="Other_good_examples_of_TPM_2.0_usage">Other good examples of TPM 2.0 usage</h3></div>
<ul><li>
<a rel="nofollow" class="external text" href="https://www.tevora.com/threat-blog/configuring-secure-boot-tpm-2/">Configuring Secure Boot + TPM 2</a> (2018-06, Debian)</li></ul>
<div class="mw-heading mw-heading2"><h2 id="Accessing_PCR_registers">Accessing PCR registers</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> It's probably wiser to list only useful PCRs and give real life examples of when to use them, rather than listing all existing PCRs. (Discuss in <a href="../en/Talk:Trusted_Platform_Module.html#PCR_register_table" title="Talk:Trusted Platform Module">Talk:Trusted Platform Module#PCR register table</a>)</div>
</div>
<p>Platform Configuration Registers (PCR) allow binding of the encryption of secrets to specific software versions and system state via hashes, so that the enrolled key is only accessible (may be "unsealed") if specific trusted software and/or configuration is used.
</p>
<p>PCRs are intended to be used for platform hardware and software integrity verification between boots (e.g. protection against <a href="https://en.wikipedia.org/wiki/en:Evil_Maid_attack" class="extiw" title="wikipedia:en:Evil Maid attack">Evil Maid attack</a>).
</p>
<p>The <a rel="nofollow" class="external text" href="https://trustedcomputinggroup.org/resource/pc-client-specific-platform-firmware-profile-specification/">TCG PC Client Specific Platform Firmware Profile Specification</a> defines the registers in use, and <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/linux_tpm_pcr_registry/">The Linux TPM PCR Registry</a> assigns Linux system components using them.
</p>
<p>The registers are:
</p>
<dl><dd></dd></dl>
<table class="wikitable">

<tbody>
<tr>
<th scope="col">PCR
</th>
<th scope="col">Description
</th>
<th scope="col">Extended by
</th>
</tr>
<tr>
<td>PCR0
</td>
<td>Core System Firmware executable code (aka Firmware). May change if you upgrade your UEFI.
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR1
</td>
<td>Core System Firmware data (aka UEFI settings; configured boot order, for example)
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR2
</td>
<td>Extended or pluggable executable code (aka <a href="https://en.wikipedia.org/wiki/Option_ROM" class="extiw" title="wikipedia:Option ROM">OpROMs</a>)
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR3
</td>
<td>Extended or pluggable firmware data. Set during Boot Device Select UEFI boot phase.
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR4
</td>
<td>Boot Manager Code and Boot Attempts. Measures the boot manager and the devices that the firmware tried to boot from.
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR5
</td>
<td>Boot Manager Configuration and Data. Can measure configuration of boot loaders; includes the GPT Partition Table.
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR6
</td>
<td>Resume from S4 and S5 Power State Events
</td>
<td>Firmware
</td>
</tr>
<tr>
<td>PCR7
</td>
<td>Secure Boot State. Contains the full contents of PK/KEK/db, as well as the specific certificates used to validate each boot application<a rel="nofollow" class="external autonumber" href="https://superuser.com/questions/1640985/how-to-enable-bitlocker-when-booting-windows-10-from-a-non-microsoft-boot-manage">[2]</a>
</td>
<td>Firmware, shim (adds MokList, MokListX, and MokSBState)
</td>
</tr>
<tr>
<td>PCR8<sup>1</sup>
</td>
<td>Hash of the kernel command line
</td>
<td>
<a rel="nofollow" class="external text" href="https://lists.gnu.org/archive/html/grub-devel/2017-07/msg00003.html">GRUB</a>
</td>
</tr>
<tr>
<td>PCR9<sup>1</sup>
</td>
<td>Hash of the initramfs and EFI Load Options
</td>
<td>Linux (measures the initramfs and EFI Load Options, essentially the kernel cmdline options)
</td>
</tr>
<tr>
<td>PCR10<sup>1</sup>
</td>
<td>Reserved for Future Use
</td>
<td>
</td>
</tr>
<tr>
<td>PCR11<sup>1</sup>
</td>
<td>Hash of the <a href="../en/Unified_kernel_image.html" title="Unified kernel image">Unified kernel image</a>
</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 7 systemd-stub"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-stub.7">systemd-stub(7)</a></span>
</td>
</tr>
<tr>
<td>PCR12<sup>1</sup>
</td>
<td>Overridden kernel command line, Credentials
</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 7 systemd-stub"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-stub.7">systemd-stub(7)</a></span>
</td>
</tr>
<tr>
<td>PCR13<sup>1</sup>
</td>
<td>System Extensions
</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 7 systemd-stub"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-stub.7">systemd-stub(7)</a></span>
</td>
</tr>
<tr>
<td>PCR14<sup>1</sup>
</td>
<td>shim's MokList, MokListX, and MokSBState.<a rel="nofollow" class="external autonumber" href="https://github.com/rhboot/shim/blob/main/README.tpm">[3]</a>
</td>
<td>shim
</td>
</tr>
<tr>
<td>PCR15<sup>1</sup>
</td>
<td>Hash of the LUKS volume key
</td>
<td>
<a rel="nofollow" class="external text" href="https://systemd.io/TPM2_PCR_MEASUREMENTS/#pcr-measurements-made-by-systemd-cryptsetup-userspace">systemd-cryptsetup</a>
</td>
</tr>
<tr>
<td>PCR16<sup>1</sup>
</td>
<td>Debug. May be used and reset at any time. May be absent from an official firmware release.
</td>
<td>
</td>
</tr>
<tr>
<td>PCR23
</td>
<td>Application Support. The OS can set and reset this PCR.
</td>
<td>
</td>
</tr>
</tbody>
</table>
<ol><li>Use case defined by the OS and might change between various Linux distros and Windows devices.</li></ol>
<p>On Windows, BitLocker uses PCR8-11 (Legacy) or PCR11-14 (UEFI) for its own purposes.
Documentation from tianocore<a rel="nofollow" class="external autonumber" href="https://github.com/tianocore-docs/edk2-TrustedBootChain/blob/main/4_Other_Trusted_Boot_Chains.md">[4]</a>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-totp">tpm2-totp</a></span> facilitates this check with a human observer and dedicated trusted device.
</p>
<p>The current PCR values can be listed with <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-analyze"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-analyze.1">systemd-analyze(1)</a></span>:
</p>
<pre>$ systemd-analyze pcrs
</pre>
<p>Or, alternatively with <span class="plainlinks archwiki-template-man" title="$ man 1 tpm2_pcrread"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tpm2_pcrread.1">tpm2_pcrread(1)</a></span> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-tools">tpm2-tools</a></span>:
</p>
<pre># tpm2_pcrread
</pre>
<div class="mw-heading mw-heading2"><h2 id="PCR_policies">PCR policies</h2></div>
<p>With TPM2 it is possible to bind secrets, like the LUKS root decryption key, to a signed policy rather than raw PCR values. These policies add flexibility by allowing PCR values to vary, provided there is a valid PCR signature for these values which matches the public key enrolled with the secret. For instance, rather than simply tying the encryption key to the PCR7 value (which only checks that Secure Boot hasn't been disabled or tampered with) you can bind it to a PCR policy that verifies the booting of a known <a href="../en/Unified_kernel_image.html" title="Unified kernel image">Unified kernel image</a> (UKI), with all its components measured during the boot process. See <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-cryptenroll"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-cryptenroll.1#TPM2_PCRs_and_policies">systemd-cryptenroll(1) § TPM2_PCRs_and_policies</a></span>.
</p>
<p>The example below enables decrypting a root partition during boot, (i.e. in the <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> stage), without the encryption key being accessible after the system has fully booted up. See <span class="plainlinks archwiki-template-man" title="$ man 1 ukify"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ukify.1">ukify(1)</a></span> for examples with multiple trust policies for different phases of the boot.
</p>
<p>First generate the necessary signing keys:
</p>
<pre># ukify genkey \
        --pcr-private-key=/etc/systemd/tpm2-pcr-private-key.pem \
        --pcr-public-key=/etc/systemd/tpm2-pcr-public-key.pem
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <code>/etc/systemd/tpm2-pcr-public-key.pem</code> is the default path and the file is automatically picked up by systemd-cryptenroll if it exists.</div>
<p>Create <code>/etc/kernel/uki.conf</code> or copy the template from <code>/usr/lib/kernel/uki.conf</code>. Although PCR policies can be used without Secure Boot, it makes sense to also sign your UKI, so update the following as needed with your keys:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/kernel/uki.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[UKI]
SecureBootSigningTool=systemd-sbsign
SignKernel=true
SecureBootPrivateKey=<i>/etc/kernel/secure-boot-private-key.pem</i>
SecureBootCertificate=<i>/etc/kernel/secure-boot-certificate.pem</i>
Splash=/usr/share/systemd/bootctl/splash-arch.bmp

[PCRSignature:initrd]
PCRPrivateKey=/etc/systemd/tpm2-pcr-private-key.pem
PCRPublicKey=/etc/systemd/tpm2-pcr-public-key.pem</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> It is recommended not to configure <code>Phases=</code> or to use the default in <code>[PCRSignature]</code> section. If <code>Phases=</code> is only set to <code>enter-initrd</code>, then <code>systemd-tpm2-setup-early.service</code> and <code>systemd-tpm2-setup.service</code> are going to fail.</div>
<p>To generate the UKI, use a tool which reads <code>/etc/kernel/uki.conf</code> by default, such as <a href="../en/Kernel-install.html" title="Kernel-install">kernel-install</a> or <a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a>. 
</p>
<p>Finally, enroll the TPM2 policy in your LUKS volumes.
</p>
<pre># systemd-cryptenroll --wipe-slot tpm2 --tpm2-device auto <i>/dev/disk/by-label/root</i>

</pre>
<p>Check the UKI with <code># ukify inspect <i>/path/to/uki</i></code> to make sure it contains the <code>.pcrsig</code> section.
</p>
<p>Also check that the LUKs volume registered the public key:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cryptsetup luksDump <i>/dev/disk/by-label/root</i> | grep pubkey </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">        tpm2-pubkey:
                    .....
        tpm2-pubkey-pcrs: 11
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Booting this UKI requires the mkinitcpio <i>systemd</i> hook.</div>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="TPM2_LUKS2_unlocking_still_asking_for_password">TPM2 LUKS2 unlocking still asking for password</h3></div>
<p>If you followed the <a href="#LUKS_encryption">instruction described above</a> for automatically unlocking luks2 devices with enrolled keys in a TPM2 hardware module, but still receive a prompt to input a password during the initramfs boot stage. You may need to <a href="../en/Kernel_module.html#Early_module_loading" title="Kernel module">early load</a> the kernel module (you can obtain its name with <code>systemd-cryptenroll --tpm2-device=list</code>) that is responsible for handling your specific TPM2 module.
</p>
<div class="mw-heading mw-heading3"><h3 id="A_TPM_error_(714)_occurred_attempting_to_create_NULL_primary">
<span id="A_TPM_error_.28714.29_occurred_attempting_to_create_NULL_primary"></span>A TPM error (714) occurred attempting to create NULL primary</h3></div>
<p>Starting from Linux Kernel 6.10 <code>CONFIG_TCG_TPM2_HMAC</code> was enabled by default and now TPM must support AES-128-CFB for session encryption.
TPMs that do not support this mode, such as older Intel PTT, will fail to initialize the driver, resulting in <code>A TPM error (714) occurred attempting to create NULL primary</code>. Replacing hardware is the only complete solution.
<a href="../en/Systemd-cryptenroll.html" title="Systemd-cryptenroll">systemd-cryptenroll</a> also requires AES-128-CFB support, so disabling kernel option isn't enough and it will fails producing this error: <code>TPM device not usable as it does not support the required functionality (AES-128-CFB missing?).</code>
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Trusted_Platform_Module" class="extiw" title="gentoo:Trusted Platform Module">Gentoo:Trusted Platform Module</a></li>
<li>TPM-JS testing tool: <a rel="nofollow" class="external text" href="https://github.com/google/tpm-js">source</a> - <a rel="nofollow" class="external text" href="https://google.github.io/tpm-js/">live web version</a>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Security.html" title="Category:Security">Security</a></li>
<li><a href="../en/Category:Hardware.html" title="Category:Hardware">Hardware</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Trusted_Platform_Module&amp;oldid=861860">https://wiki.archlinux.org/index.php?title=Trusted_Platform_Module&amp;oldid=861860</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 17 January 2026, at 18:48.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Trusted Platform Module</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
