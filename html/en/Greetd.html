<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>greetd - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Greetd rootpage-Greetd skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Greeters" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Greeters">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Greeters</div>
			</a>
			
			<ul id="toc-Greeters-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Starting_greetd" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Starting_greetd">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Starting greetd</div>
		</a>
		
		<ul id="toc-Starting_greetd-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Greeter_configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Greeter_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Greeter configuration</div>
		</a>
		
			<button aria-controls="toc-Greeter_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Greeter configuration subsection</span>
			</button>
		
		<ul id="toc-Greeter_configuration-sublist" class="vector-toc-list">
			<li id="toc-agreety" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#agreety">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>agreety</div>
			</a>
			
			<ul id="toc-agreety-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gtkgreet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#gtkgreet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>gtkgreet</div>
			</a>
			
			<ul id="toc-gtkgreet-sublist" class="vector-toc-list">
				<li id="toc-Using_cage" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_cage">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Using cage</div>
			</a>
			
			<ul id="toc-Using_cage-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_sway" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_sway">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Using sway</div>
			</a>
			
			<ul id="toc-Using_sway-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-ReGreet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ReGreet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>ReGreet</div>
			</a>
			
			<ul id="toc-ReGreet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-wlgreet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#wlgreet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>wlgreet</div>
			</a>
			
			<ul id="toc-wlgreet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-tuigreet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#tuigreet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>tuigreet</div>
			</a>
			
			<ul id="toc-tuigreet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ddlm" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ddlm">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>ddlm</div>
			</a>
			
			<ul id="toc-ddlm-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-qtgreet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#qtgreet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>qtgreet</div>
			</a>
			
			<ul id="toc-qtgreet-sublist" class="vector-toc-list">
				<li id="toc-Using_Wayfire" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_Wayfire">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.1</span>Using Wayfire</div>
			</a>
			
			<ul id="toc-Using_Wayfire-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_Hyprland" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_Hyprland">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.2</span>Using Hyprland</div>
			</a>
			
			<ul id="toc-Using_Hyprland-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Enabling_autologin" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_autologin">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Enabling autologin</div>
			</a>
			
			<ul id="toc-Enabling_autologin-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Run_local_programs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Run_local_programs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Run local programs</div>
			</a>
			
			<ul id="toc-Run_local_programs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_the_Environment" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_the_Environment">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Setting the Environment</div>
			</a>
			
			<ul id="toc-Setting_the_Environment-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_logind_session_type" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_logind_session_type">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Setting logind session type</div>
			</a>
			
			<ul id="toc-Setting_logind_session_type-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Missing_mouse_cursor" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Missing_mouse_cursor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Missing mouse cursor</div>
			</a>
			
			<ul id="toc-Missing_mouse_cursor-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">greetd</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Greetd" title="Greetd – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
<li><a href="../en/Wayland.html" title="Wayland">Wayland</a></li>
<li><a href="../en/Sway.html" title="Sway">Sway</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://git.sr.ht/~kennylevinsen/greetd">greetd</a> is a minimal, agnostic and flexible <a href="../en/Display_manager.html" class="mw-redirect" title="Login manager">login manager</a> daemon which does not make assumptions about what the user wants to launch, should it be console-based or graphical. Any script or program which can be started from the console may be launched by greetd, which makes it particularly suitable for <a href="../en/Wayland.html#Compositors" title="Wayland">Wayland compositors</a>.  It can also launch a <a href="#Greeters">greeter</a> to start user sessions, like any other display manager.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=greetd">greetd</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-git/">greetd-git</a></span><sup><small>AUR</small></sup> packages.
</p>
<p>The default greetd configuration file is located at <code>/etc/greetd/config.toml</code>.
<a href="../en/PAM.html" title="PAM">PAM</a>-specific configuration is set in <code>/etc/pam.d/greetd</code>.
</p>
<h3><span class="mw-headline" id="Greeters">Greeters</span></h3>
<p>Greetd has greetd-agreety as its built-in greeter, however this is a minimal implementation. You should consider using one of the several available greeters:
</p>
<ul><li>
<b>greetd-agreety</b> — The default, a text-based greeter similar to <a href="../en/Getty.html" class="mw-redirect" title="Agetty">agetty</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.sr.ht/~kennylevinsen/greetd">https://git.sr.ht/~kennylevinsen/greetd</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=greetd-agreety">greetd-agreety</a></span>
</dd></dl>
<ul><li>
<b>dlm</b> — An fbdev greeter.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.sr.ht/~kennylevinsen/dlm">https://git.sr.ht/~kennylevinsen/dlm</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-dlm-git/">greetd-dlm-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ddlm</b> — An fbdev greeter. Enhanced/extended version of <code>dlm</code>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/deathowl/ddlm">https://github.com/deathowl/ddlm</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-ddlm-git/">greetd-ddlm-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>gtkgreet</b> — A <a href="../en/GTK.html" title="GTK">GTK</a> greeter.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.sr.ht/~kennylevinsen/gtkgreet">https://git.sr.ht/~kennylevinsen/gtkgreet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=greetd-gtkgreet">greetd-gtkgreet</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-gtkgreet-git/">greetd-gtkgreet-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ReGreet</b> — A <a href="../en/GTK.html" title="GTK">GTK</a> greeter. Supports various customization options. Wayland only.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rharish101/ReGreet">https://github.com/rharish101/ReGreet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=greetd-regreet">greetd-regreet</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-regreet-git/">greetd-regreet-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>wlgreet</b> — A <a href="../en/Wayland.html" title="Wayland">Wayland</a> greeter.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.sr.ht/~kennylevinsen/wlgreet">https://git.sr.ht/~kennylevinsen/wlgreet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-wlgreet/">greetd-wlgreet</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-wlgreet-git/">greetd-wlgreet-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>tuigreet</b> — A console UI greeter.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/apognu/tuigreet">https://github.com/apognu/tuigreet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=greetd-tuigreet">greetd-tuigreet</a></span>
</dd></dl>
<ul><li>
<b>qtgreet</b> — A <a href="../en/Qt.html" title="Qt">Qt</a> greeter.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/marcusbritanicus/QtGreet">https://gitlab.com/marcusbritanicus/QtGreet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/greetd-qtgreet/">greetd-qtgreet</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Starting_greetd">Starting greetd</span></h2>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">Enable</a> <code>greetd.service</code> so greetd will be started at boot.
</p>
<p>See also <a href="../en/Display_manager.html#Loading_the_display_manager" title="Display manager">Display manager#Loading the display manager</a>.
</p>
<h2><span class="mw-headline" id="Greeter_configuration">Greeter configuration</span></h2>
<p>Configuring the greeter run by greetd is done using the <code>command</code> option in the <code>default_session</code> section in <code>/etc/greetd/config.toml</code>.
The included <code>agreety</code> greeter will be used if no changes are made. Also see <a href="#agreety">#agreety</a>.
</p>
<p>By default, greeters are run as the <code>greeter</code> user. This can be changed by editing the <code>user</code> option in the <code>default_session</code> section of the configuration file and replacing <i>another_user</i> with the chosen user:
</p>
<pre>...
[default_session]
user = "another_user"
...
</pre>
<p>Make sure the <a href="../en/File_permissions_and_attributes.html#Changing_ownership" class="mw-redirect" title="Ownership">ownership</a> of the <code>/etc/greetd</code> directory is set accordingly.
</p>
<h3><span class="mw-headline" id="agreety">agreety</span></h3>
<p>This is the default greeter. It is launched by greetd with the configuration file set as follows:
</p>
<pre>...
[default_session]
command = "agreety --cmd $SHELL"
...
</pre>
<p>agreety can launch any arbitrary command once a user logs in. For example, in order to start <a href="../en/Sway.html" title="Sway">Sway</a>, replace <code>$SHELL</code> in the example above with <code>sway</code>.
</p>
<h3><span class="mw-headline" id="gtkgreet">gtkgreet</span></h3>
<p>In order to run, gtkgreet needs a compositor. For the full experience, a compositor with <code>wlr-layer-shell-unstable</code> support is required but others can work. As such, it is recommended to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sway">sway</a></span>, but something like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cage">cage</a></span> can also be used. Examples for both cage and sway are provided below.
</p>
<p>In order to specify which login environments can be started by gtkgreet, list them in <code>/etc/greetd/environments</code>.
For example:
</p>
<pre>sway
bash
</pre>
<p>You can also invoke gtkgreet with the <code>-c <i>mycommand</i></code> parameter, replacing <i>mycommand</i> with the desired program (for example, <code>gtkgreet -c bash</code> or <code>gtkgreet -c sway</code>). Do so in the below compositor examples as desired.
</p>
<h4><span class="mw-headline" id="Using_cage">Using cage</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cage">cage</a></span> and set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "cage gtkgreet"
...
</pre>
<h4><span class="mw-headline" id="Using_sway">Using sway</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sway">sway</a></span>. When using <a href="../en/Sway.html" title="Sway">Sway</a>, it must be terminated once the user logs in. For that purpose, a specific configuration file must be created, for example in <code>/etc/greetd/sway-config</code>, with the following content:
</p>
<pre># `-l` activates layer-shell mode. Notice that `swaymsg exit` will run after gtkgreet.
exec "gtkgreet -l; swaymsg exit"

bindsym Mod4+shift+e exec swaynag \
-t warning \
-m 'What do you want to do?' \
-b 'Poweroff' 'systemctl poweroff' \
-b 'Reboot' 'systemctl reboot'

include /etc/sway/config.d/*
</pre>
<p>Then, greetd must be set to start <a href="../en/Sway.html" title="Sway">Sway</a> with the configuration file above. Set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "sway --config /etc/greetd/sway-config"
...
</pre>
<h3><span class="mw-headline" id="ReGreet">ReGreet</span></h3>
<p>Similar to gtkgreet, ReGreet needs a compositor. For example, both Cage and Sway can be used just like they are used for gtkgreet, replacing the <i>gtkgreet</i> command with <i>regreet</i>. The config for Sway would thus look like:
</p>
<pre># Notice that `swaymsg exit` will run after ReGreet.
exec "regreet; swaymsg exit"

bindsym Mod4+shift+e exec swaynag \
-t warning \
-m 'What do you want to do?' \
-b 'Poweroff' 'systemctl poweroff' \
-b 'Reboot' 'systemctl reboot'

include /etc/sway/config.d/*
</pre>
<p>ReGreet picks up available sessions from <code>/usr/share/xsession</code> (for X11 sessions) and <code>/usr/share/wayland-sessions</code> (for Wayland sessions). Thus, there is no need to list sessions in <code>/etc/greetd/environments</code>.
</p>
<p>ReGreet can be configured through a TOML file in <code>/etc/greetd/regreet.toml</code>. A sample file is provided in <code>/usr/share/doc/greetd-regreet/regreet.sample.toml</code> with all available options. Copy this to <code>/etc/greetd/regreet.toml</code> and make the changes you want, commenting out or deleting the lines you do not need. Any invalid options are ignored.
</p>
<h3><span class="mw-headline" id="wlgreet">wlgreet</span></h3>
<p>In order to start wlgreet, a compositor with <code>wlr-layer-shell-unstable</code> is required. Follow the steps required to set up gtkgreet with Sway as <a href="#Using_sway">described above</a> but use the following for <code>/etc/greetd/sway-config</code> instead:
</p>
<pre>exec "wlgreet --command sway; swaymsg exit"

bindsym Mod4+shift+e exec swaynag \
-t warning \
-m 'What do you want to do?' \
-b 'Poweroff' 'systemctl poweroff' \
-b 'Reboot' 'systemctl reboot'
 
include /etc/sway/config.d/*
</pre>
<h3><span class="mw-headline" id="tuigreet">tuigreet</span></h3>
<p>tuigreet does not require any special setup, just set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "tuigreet --cmd sway"
...
</pre>
<p><code>tuigreet --help</code> will display customization options.
</p>
<h3><span class="mw-headline" id="ddlm">ddlm</span></h3>
<p>ddlm does not require any special setup, just set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "ddlm --target sway"
...
</pre>
<h3><span class="mw-headline" id="qtgreet">qtgreet</span></h3>
<p>In order to use qtgreet, you need a WLR based compositor (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wayfire/">wayfire</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sway">sway</a></span>).
</p>
<h4><span class="mw-headline" id="Using_Wayfire">Using Wayfire</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wayfire/">wayfire</a></span><sup><small>AUR</small></sup> and set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "wayfire --config /etc/qtgreet/wayfire.ini"
...
</pre>
<p>The Wayfire configuration file referred to is included with qtgreet.
</p>
<h4><span class="mw-headline" id="Using_Hyprland">Using Hyprland</span></h4>
<p>Set the <code>command</code> option as follows:
</p>
<pre>...
[default_session]
command = "Hyprland --config /etc/greetd/hyprland.conf"
...
</pre>
<p>Then create <code>/etc/greetd/hyprland.conf</code> as:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/greetd/hyprland.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec-once = qtgreet; hyprctl dispatch exit
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Enabling_autologin">Enabling autologin</span></h3>
<p>If you want a user to be logged in automatically, an <code>initial_session</code> section must be defined in <code>/etc/greetd/config.toml</code>:
</p>
<pre>...
[initial_session]
command = "sway"
user = "<i>myuser</i>"
...
</pre>
<p>The <code>command</code> option may contain the name of any executable file. In the example above, Sway will be started by <code><i>myuser</i></code> at boot and <i>gtkgreet</i> will be launched after the user logs out.
</p>
<p>If you do not want to use <i>greetd</i> and always want autologin to be enabled, see <a rel="nofollow" class="external text" href="https://git.sr.ht/~kennylevinsen/autologin">autologin</a>.
</p>
<h3><span class="mw-headline" id="Run_local_programs">Run local programs</span></h3>
<p>Add your PATH to <code>~/.profile</code>, or the DE called by greetd will not be able to run local programs. Greetd will not have access to <code>.bashrc</code> or <code>.zshrc</code>, so do not define the PATH there.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.profile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">export PATH="$HOME/.local/bin:$PATH"</pre>
<h3><span class="mw-headline" id="Setting_the_Environment">Setting the Environment</span></h3>
<p>By default greetd does not set environment variables such as XDG_SESSION_TYPE and XDG_CURRENT_DESKTOP, unless the greeter sets them based on the session you chose (for example TUI will set the session type based on the location of the session file chosen). One way to solve this is to use a wrapper script that sets any desired environment variables
before running the actual command. For example to start sway:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/start-sway</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
export XDG_SESSION_TYPE=wayland
export XDG_SESSION_DESKTOP=sway
export XDG_CURRENT_DESKTOP=sway

# Wayland stuff
export QT_QPA_PLATFORM=wayland
export SDL_VIDEODRIVER=wayland
export _JAVA_AWT_WM_NONREPARENTING=1

exec sway "$@"</pre>
<p>then use this wrapper script as the command the greeter runs. For example with <code>gtkgreet</code> you could use
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/greetd/config.toml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[default_session]
command = "gtkgreet -c /usr/local/bin/start-sway"
...</pre>
<p>or put <code>start-sway</code> in <code>/etc/greetd/environments</code>. 
</p>
<p>See <a rel="nofollow" class="external text" href="https://man.sr.ht/~kennylevinsen/greetd/#how-to-set-xdg_session_typewayland">How to Set XDG_SESSION_TYPE=wayland</a>
</p>
<h3><span class="mw-headline" id="Setting_logind_session_type">Setting logind session type</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is necessary for running GNOME on Wayland properly.</div>
<p>The logind session type is set by the XDG_SESSION_TYPE environment variable. However, it must be set <b>before</b> the PAM session is opened. Because of this, setting the variable through <code>~/.profile</code> or a wrapper script will not work (both happen after session open).
</p>
<p>The correct way to achieve this is through the environment variables sent by greeters (these are set before session open). So if your greeter supports it, just make it send the appropriate <code>XDG_SESSION_TYPE=xxx.</code>
</p>
<p>If your greeter does not support this, it is also possible to use <a href="../en/Environment_variables.html#Using_pam_env" title="Environment variables">pam_env</a> under the auth group. The drawback is that all the sessions spawned by greetd will use that session type, which may or may not be problematic depending on your use case.
</p>
<p>Here is how one could use the pam_env method to have a Wayland session:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/greetd/config.toml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[general]
service = "greetd-spawn"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/greetd/greetd-spawn.pam_env.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">XDG_SESSION_TYPE DEFAULT=wayland OVERRIDE=wayland</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/greetd-spawn</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">auth       include      greetd
auth       required     pam_env.so conffile=/etc/greetd/greetd-spawn.pam_env.conf
account    include      greetd
session    include      greetd</pre>
<h3><span class="mw-headline" id="Missing_mouse_cursor">Missing mouse cursor</span></h3>
<p>If you are using <code>qtgreet</code> with a compositor such as <code>wayfire</code> and generally need to export variables, such as <code>WLR_NO_HARDWARE_CURSORS=1</code> to get the mouse cursor working, one solution would be to create a separate <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a> script and then calling that from <code>/etc/greetd/config.toml</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/greetd-startup.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
export WLR_NO_HARDWARE_CURSORS=1
exec wayfire --config /etc/qtgreet/wayfire.ini</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/greetd/config.toml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[default_session]
command = "/usr/local/bin/greetd-startup.sh"
...</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://sr.ht/~kennylevinsen/greetd/">greetd project page</a></li>
<li><a rel="nofollow" class="external text" href="https://git.sr.ht/~kennylevinsen/greetd/">greetd source code</a></li>
<li><a rel="nofollow" class="external text" href="https://man.sr.ht/%7Ekennylevinsen/greetd/">greetd wiki</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Display_managers.html" title="Category:Display managers">Display managers</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Greetd&amp;oldid=812782">https://wiki.archlinux.org/index.php?title=Greetd&amp;oldid=812782</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 23 July 2024, at 07:26.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
