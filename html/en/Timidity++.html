<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Timidity++ - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Timidity rootpage-Timidity skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Daemon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Daemon">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Daemon</span>
				</div>
			</a>
			
			<ul id="toc-Daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Play_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Play_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Play files</span>
				</div>
			</a>
			
			<ul id="toc-Play_files-sublist" class="vector-toc-list">
				<li id="toc-Standalone_mode" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Standalone_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1</span>
					<span>Standalone mode</span>
				</div>
			</a>
			
			<ul id="toc-Standalone_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Daemon_mode" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Daemon_mode">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.2</span>
					<span>Daemon mode</span>
				</div>
			</a>
			
			<ul id="toc-Daemon_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connect_to_virtual_MIDI_device" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connect_to_virtual_MIDI_device">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.3</span>
					<span>Connect to virtual MIDI device</span>
				</div>
			</a>
			
			<ul id="toc-Connect_to_virtual_MIDI_device-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Convert_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Convert_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Convert files</span>
				</div>
			</a>
			
			<ul id="toc-Convert_files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-How_to_make_DOSBox_use_TiMidity++" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#How_to_make_DOSBox_use_TiMidity++">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>How to make DOSBox use TiMidity++</span>
				</div>
			</a>
			
			<ul id="toc-How_to_make_DOSBox_use_TiMidity++-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-TiMidity++_does_not_play_MIDI_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TiMidity++_does_not_play_MIDI_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>TiMidity++ does not play MIDI files</span>
				</div>
			</a>
			
			<ul id="toc-TiMidity++_does_not_play_MIDI_files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Daemon_mode_plays_sound_out_of_pace" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Daemon_mode_plays_sound_out_of_pace">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Daemon mode plays sound out of pace</span>
				</div>
			</a>
			
			<ul id="toc-Daemon_mode_plays_sound_out_of_pace-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Timidity++</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Timidity%2B%2B" title="Timidity++ – Deutsch" lang="de" hreflang="de" data-title="Timidity++" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Timidity%2B%2B" title="Timidity++ – 日本語" lang="ja" hreflang="ja" data-title="Timidity++" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Timidity%2B%2B" title="Timidity++ – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Timidity++" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://timidity.sourceforge.net/">TiMidity++</a> is a <a href="https://en.wikipedia.org/wiki/software_synthesizer" class="extiw" title="wikipedia:software synthesizer">software synthesizer</a> that can play MIDI files without a hardware synthesizer. It can either render to the sound card in real time, or it can save the result to a file, such as a <a href="https://en.wikipedia.org/wiki/PCM" class="extiw" title="wikipedia:PCM">PCM</a> <a href="https://en.wikipedia.org/wiki/WAV" class="extiw" title="wikipedia:WAV"><i>.wav </i></a> file.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=timidity%2B%2B">timidity++</a></span> package.
</p>
<p>You should also install a <a href="https://en.wikipedia.org/wiki/SoundFont" class="extiw" title="wikipedia:SoundFont">SoundFont</a> or <a href="https://en.wikipedia.org/wiki/Gravis_UltraSound" class="extiw" title="wikipedia:Gravis UltraSound">Gravis UltraSound</a> (GUS) patch files to be able to produce sound. See <a href="../en/MIDI.html#List_of_SoundFonts" title="MIDI">MIDI#List of SoundFonts</a>.
</p>
<p>If you use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire">pipewire</a></span>, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-alsa">pipewire-alsa</a></span> since TiMidity++ sometimes depends on <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="Alsa">Alsa</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>To configure your preferred SoundFont, add the following lines to <span class="plainlinks archwiki-template-man" title="$ man 5 timidity.cfg"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timidity.cfg.5">timidity.cfg(5)</a></span> based on your choice.
</p>
<p>For FreePats:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/timidity/timidity.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">soundfont /usr/share/soundfonts/freepats-general-midi.sf2
</pre>
<p>For Fluid:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/timidity/timidity.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">soundfont /usr/share/soundfonts/FluidR3_GM.sf2
</pre>
<h3><span class="mw-headline" id="Daemon">Daemon</span></h3>
<p>If you intended to use TiMidity++ as an ALSA sequencer client, you should add yourself to the <code>audio</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> first. As with most group changes, you will typically need to restart your user session (e.g. log out and log in again), so that the new group is visible in the output of the <code>groups</code> command.
</p>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> the <code>timidity.service</code> user unit. Note that starting the service may fail if you have changed your <code>audio</code> group membership but not yet restarted your session.
</p>
<p>If you are using <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a>, that may also cause the service to fail. You may want to add the following command as an <a href="../en/Autostarting.html" class="mw-redirect" title="Autostart">autostart</a> program in your desktop environment. Or, if you just want to start TiMidity++ in daemon mode once, you can use the following command which will make console output viewable:
</p>
<pre>$ timidity -iA
</pre>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="Play_files">Play files</span></h3>
<p>There are two ways to use TiMidity++. Either as MIDI player or as daemon adding MIDI support to <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a>.
</p>
<h4><span class="mw-headline" id="Standalone_mode">Standalone mode</span></h4>
<p>You can simply use TiMidity++ to play MIDI files:
</p>
<pre>$ timidity example.mid
</pre>
<p>Add option <code>-in</code> for a text-based interface. There are many other options to TiMidity++. See <span class="plainlinks archwiki-template-man" title="$ man 1 timidity"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timidity.1">timidity(1)</a></span> or use <code>-h</code> to get help.
</p>
<h4><span class="mw-headline" id="Daemon_mode">Daemon mode</span></h4>
<p>If you are runing TiMidity++ as a <a href="#Daemon">daemon</a> (ALSA sequencer client), it will provide MIDI output support for other programs such as rosegarden, aplaymidi, vkeybd, etc.
</p>
<p>This will give you four output software MIDI ports (in addition of hardware MIDI ports on your system, if any):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$  aconnect -o</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">client 128: 'TiMidity' [type=user]
    0 'TiMidity port 0 '
    1 'TiMidity port 1 '
    2 'TiMidity port 2 '
    3 'TiMidity port 3 '</pre>
<p>You can now play MIDI files using aplaymidi:
</p>
<pre>$ aplaymidi filename.mid --port 128:0
</pre>
<p>Another example is <b>vkeybd</b>, a virtual MIDI keyboard for X.
</p>
<p>You can <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vkeybd/">vkeybd</a></span><sup><small>AUR</small></sup>.
</p>
<pre>$ vkeybd --addr 128:0
</pre>
<p>Option <code>--addr 128:0</code> connects the input (readable) software MIDI port provided by vkeybd to the first output (writable) ALSA port provided by Timidity. Alternatively you can use aconnect, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/patchage/">patchage</a></span><sup><small>AUR</small></sup> or kaconnect. As a result when you play around with the keys on the vkeybd TiMidity++ plays the appropriate notes.
</p>
<h4><span class="mw-headline" id="Connect_to_virtual_MIDI_device">Connect to virtual MIDI device</span></h4>
<p>Once you have the TiMidity++ daemon running and it is working with aplaymidi, you can connect it to a virtual MIDI device that will work in programs such as rosegarden or scala.
</p>
<p>Load the <code>snd-virmidi</code> kernel module and (optionally) configure your system to <a href="../en/Kernel_module.html#Automatic_module_loading" class="mw-redirect" title="Load the module at boot">load the module at boot</a>.
</p>
<p>Use aconnect to verify the port numbers:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ aconnect -o</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">client 14: 'Midi Through' [type=kernel]
     0 'Midi Through Port-0'
 client 20: 'Virtual Raw MIDI 1-0' [type=kernel]
     0 'VirMIDI 1-0     '
 client 21: 'Virtual Raw MIDI 1-1' [type=kernel]
     0 'VirMIDI 1-1     '
 client 22: 'Virtual Raw MIDI 1-2' [type=kernel]
     0 'VirMIDI 1-2     '
 client 23: 'Virtual Raw MIDI 1-3' [type=kernel]
     0 'VirMIDI 1-3     '
 client 128: 'TiMidity' [type=user]
     0 'TiMidity port 0 '
     1 'TiMidity port 1 '
     2 'TiMidity port 2 '
     3 'TiMidity port 3 '</pre>
<p>Now create the connection:
</p>
<pre>$ aconnect 20:0 128:0
</pre>
<p>You should now have a working MIDI output device on your system (<code>/dev/snd/midiC1D0</code>).
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Convert_files">Convert files</span></h3>
<p>TiMidity++ can also convert MIDI files into other formats. The following command saves the resulting sound to a WAV file:
</p>
<pre>$ timidity <i>input.mid</i> -Ow -o <i>out.wav</i>
</pre>
<p>To convert to another formats, you can use <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a>. This will convert it to mp3:
</p>
<pre>$ timidity <i>input.mid</i> -Ow -o - | ffmpeg -i - -acodec libmp3lame -ab 256k <i>out.mp3</i>
</pre>
<h3>
<span id="How_to_make_DOSBox_use_TiMidity.2B.2B"></span><span class="mw-headline" id="How_to_make_DOSBox_use_TiMidity++">How to make DOSBox use TiMidity++</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The following method is tested in version <a href="../en/DOSBox.html" title="DOSBox">DOSBox</a> 0.72</div>
<p>First of all, you need to write a configuration file. Input the following in <a href="../en/DOSBox.html" title="DOSBox">DOSBox</a> to create a configuration file:
</p>
<pre>config -writeconf dosbox.conf
</pre>
<p>you can replace <code>dosbox.conf</code> by any name that you want, add a dot in front of it if you want to hide it.
</p>
<p>Make sure you started TiMidity++ as <a href="#Daemon">daemon</a> as the instructions above, use the <b>aconnect</b> command.
</p>
<p>Edit this configuration file with any editor, go to the section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">dosbox.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[midi]
mpu401=intelligent
device=default
config=</pre>
<p>put the ALSA connection port into the back of <i>config=</i>, in default:
</p>
<pre>config=128:0
</pre>
<p>Restart DOSBox within a terminal so you can see its debug messages, by no accident you should see a successful initiation on port 128:0.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="TiMidity.2B.2B_does_not_play_MIDI_files"></span><span class="mw-headline" id="TiMidity++_does_not_play_MIDI_files">TiMidity++ does not play MIDI files</span>
</h3>
<p>It may be that your SoundFile is not set up correctly. Just run:
</p>
<pre>$ timidity example.mid
</pre>
<p>If you find a line like this in the terminal output, your SoundFile is not set up properly.
</p>
<pre>No instrument mapped to tone bank 0, program XX - \
this instrument will not be heard
</pre>
<p>Make sure you have installed some samples and your SoundFile is added to <code>/etc/timidity/timidity.cfg</code>. See <a href="#Configuration">Configuration</a> for more details.
</p>
<h3><span class="mw-headline" id="Daemon_mode_plays_sound_out_of_pace">Daemon mode plays sound out of pace</span></h3>
<p>TiMidity++'s ALSA output module (default) may cause this issue in ALSA server mode. Try another output option, for example, <b>libao</b>:
</p>
<pre>$ timidity -iA -OO
</pre>
<p>And test it using aplaymidi. If this does not work, you may want to configure <a href="../en/JACK_Audio_Connection_Kit.html" class="mw-redirect" title="JACK">JACK</a> and set TiMidity++'s output to jack.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a href="../en/USB_MIDI_keyboards.html" title="USB MIDI keyboards">USB MIDI keyboards</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Music.html" title="Category:Music">Music</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Timidity%2B%2B&amp;oldid=808987">https://wiki.archlinux.org/index.php?title=Timidity%2B%2B&amp;oldid=808987</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 22 May 2024, at 06:26.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
