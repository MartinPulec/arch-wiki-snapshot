<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System76 Darter Pro 6 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System76_Darter_Pro_6 rootpage-System76_Darter_Pro_6 skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Drivers" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Drivers">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Drivers</div>
		</a>
		
		<ul id="toc-Drivers-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Screen_Brightness" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Screen_Brightness">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Screen Brightness</div>
		</a>
		
		<ul id="toc-Screen_Brightness-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Keyboard_Backlight" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Keyboard_Backlight">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Keyboard Backlight</div>
		</a>
		
		<ul id="toc-Keyboard_Backlight-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Palm_Detection" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Palm_Detection">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Palm Detection</div>
		</a>
		
		<ul id="toc-Palm_Detection-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-X11" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#X11">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>X11</div>
		</a>
		
		<ul id="toc-X11-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Suspend/Resume" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Suspend/Resume">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Suspend/Resume</div>
		</a>
		
		<ul id="toc-Suspend/Resume-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-DisplayPort_and_HDMI_over_USB-C" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#DisplayPort_and_HDMI_over_USB-C">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>DisplayPort and HDMI over USB-C</div>
		</a>
		
		<ul id="toc-DisplayPort_and_HDMI_over_USB-C-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">System76 Darter Pro 6</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Lacks hardware table and function keys section (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:System76_Darter_Pro_6.html">Talk:System76 Darter Pro 6</a>)</div>
</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Drivers">Drivers</span></h2>
<p>Driver support for the System76 Darter Pro 6 should be <a rel="nofollow" class="external text" href="https://old.reddit.com/r/System76/comments/ev4jry/archlinux_on_the_system76_darter_pro/fftl66v/">included the kernel as of Linux 5.5</a>. 
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=system76-firmware">system76-firmware</a></span> package provide firmware updating functionality such as <i>system76-firmware-cli</i>.
</p>
<h2><span class="mw-headline" id="Screen_Brightness">Screen Brightness</span></h2>
<p>Works out of the box with the <code>xorg-xbacklight</code> package.
</p>
<h2><span class="mw-headline" id="Keyboard_Backlight">Keyboard Backlight</span></h2>
<p>The keyboard backlight can be controlled programmatically via <code>/sys</code> entries. Specifically,
</p>
<pre># sh -c "echo 255 &gt; /sys/class/leds/system76_acpi::kbd_backlight/brightness"
</pre>
<p>will increase the brightness to its maximum, and
</p>
<pre># sh -c "echo FFA500 &gt; /sys/class/leds/system76_acpi::kbd_backlight/color"
</pre>
<p>will set the color of the backlight via a 6-digit RGB hex code.
</p>
<h2><span class="mw-headline" id="Palm_Detection">Palm Detection</span></h2>
<p>If the touchpad is not sensitive enough to detect your palm, then it is possible to reduce the palm pressure detection threshold using libinput's quirks. The first step is to <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/touchpad-pressure-debugging.html">follow the instructions for debugging touchpad pressure</a> (you will need the <code>python-pyudev</code> and <code>python-libevdev</code> packages installed). Once you run the program, you’ll be able to experiment with different ways to touch the touchpad and see which things are registered as clicks and which are registered as a palm.
</p>
<p>Once you have found the ideal palm pressure threshold, you can make it persistent by creating a libinput quirks file at <code>/etc/libinput/local-overrides.quirks</code>. For example, the following decreases the threshold to <code>70</code>:
</p>
<pre>[Touchpad pressure override]
MatchUdevType=touchpad
MatchName=*SynPS/2 Synaptics TouchPad
MatchDMIModalias=dmi:*svnSystem76*pvrdarp6*
AttrPalmPressureThreshold=70
</pre>
<p>To confirm it is working correctly, run
</p>
<pre>$ libinput quirks list /dev/input/eventXX
</pre>
<p>where <code>XX</code> is the number of the event device. (It should be shown in the output of the <code>libinput measure touchpad-pressure</code> command that you ran above.) The output should look something like this, with no errors:
</p>
<pre>ModelSynapticsSerialTouchpad=1
AttrPalmPressureThreshold=70
</pre>
<p>At this point, you can reboot and the setting should be applied persistently.
</p>
<h2><span class="mw-headline" id="X11">X11</span></h2>
<p>Install intel-media-driver for hardware accelerated graphics. Do NOT install xf86-video-intel, and libva-mesa-driver packages.
</p>
<h2>
<span id="Suspend.2FResume"></span><span class="mw-headline" id="Suspend/Resume">Suspend/Resume</span>
</h2>
<p>Occasionally, on Linux 5.4, it was found that the laptop would become unresponsive when resuming from sleep. After about 90 seconds, the laptop would unfreeze itself and resume normal operation. After profiling the kernel with <a rel="nofollow" class="external text" href="https://github.com/01org/suspendresume">suspendresume</a>, it was found that the culprit was the thunderbolt port. Namely, this error message was found in the output of <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a>:
</p>
<pre>[  803.725685] thunderbolt 0000:03:00.0: failed to send driver ready to ICM
</pre>
<p>One approach to fix this is to disable thunderbolt support on suspend and then re-enable it on resume. This can be done via a systemd hook script.
</p>
<p>Drop the following into <code>/usr/lib/systemd/system-sleep/system76-darter-hook-sleep</code> and make it executable:
</p>
<pre>#!/bin/sh

# This is a systemd hook script that is run whenever
# suspend/resume takes place. It should be symlinked into
# /usr/lib/systemd/system-sleep.

# $1 is 'pre' (going to sleep) or 'post' (waking up)
# $2 is 'suspend', 'hibernate' or 'hybrid-sleep'
case "$1/$2" in
  pre/*)
    if lsmod | grep -q thunderbolt; then
      rmmod thunderbolt
    fi
    ;;
  post/*)
    modprobe thunderbolt
    ;;
esac
</pre>
<p>Alternatively, System76 support <a rel="nofollow" class="external text" href="https://github.com/pop-os/system76-driver/blob/354d396bd7d37e591e5ed204b566c2d0c3f0dc3d/system76-thunderbolt-reload#L1">suggested disabling the corresponding PCI device on suspend and then reloading it on resume.</a> Adapting their <code>Pop!_OS</code> fix for Arch Linux, the above file might look like this instead:
</p>
<pre>#!/bin/sh

# This is a systemd hook script that is run whenever
# suspend/resume takes place. It should be symlinked into
# /usr/lib/systemd/system-sleep.

# $1 is 'pre' (going to sleep) or 'post' (waking up)
# $2 is 'suspend', 'hibernate' or 'hybrid-sleep'
case "$1/$2" in
  pre/*)
    echo 1 &gt; '/sys/devices/pci0000:00/0000:00:1c.0/remove'
    ;;
  post/*)
    echo 1 &gt; '/sys/devices/pci0000:00/pci_bus/0000:00/bus_rescan'     
    ;;
esac
</pre>
<p>You may find that <code>/sys/devices/pci0000:00/pci_bus/0000:00/bus_rescan</code> does not exist but <code>/sys/devices/pci0000:00/pci_bus/0000:00/rescan</code> does.
</p>
<h2><span class="mw-headline" id="DisplayPort_and_HDMI_over_USB-C">DisplayPort and HDMI over USB-C</span></h2>
<p>For proper operation of DisplayPort / HDMI over USB-C, you need to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup> package, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>com.system76.PowerDaemon.service</code> and add the <code>iomem=relaxed</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<p>Only HDMI was tested with <a rel="nofollow" class="external text" href="https://plugable.com/products/ud-ca1a/">Plugable UD-CA1A dock</a>. See <a rel="nofollow" class="external text" href="https://support.system76.com/articles/docking-station/">officially supported docks</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-05-06 ⓘ]</sup> from System76.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:System76.html" title="Category:System76">System76</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System76_Darter_Pro_6&amp;oldid=781158">https://wiki.archlinux.org/index.php?title=System76_Darter_Pro_6&amp;oldid=781158</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 June 2023, at 17:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
