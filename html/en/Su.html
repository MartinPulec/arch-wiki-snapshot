<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>su - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Su rootpage-Su skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Usage</span>
			</div>
		</a>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Login_shell" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Login_shell">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Login shell</span>
				</div>
			</a>
			
			<ul id="toc-Login_shell-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-su_and_wheel" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#su_and_wheel">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>su and wheel</span>
				</div>
			</a>
			
			<ul id="toc-su_and_wheel-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nologin_users" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nologin_users">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Nologin users</span>
				</div>
			</a>
			
			<ul id="toc-Nologin_users-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">su</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Su.html" title="Su – español" lang="es" hreflang="es" data-title="Su" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Su.html" title="Su – français" lang="fr" hreflang="fr" data-title="Su" data-language-autonym="Français" data-language-local-name="français" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/su" title="su – 日本語" lang="ja" hreflang="ja" data-title="su" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Su.html" title="Su – русский" lang="ru" hreflang="ru" data-title="Su" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Su" title="Su – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Su" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Users_and_groups.html" title="Users and groups">Users and groups</a></li>
<li><a href="../en/Sudo.html" title="Sudo">sudo</a></li>
<li><a href="../en/List_of_applications/Security.html#Privilege_elevation" title="List of applications/Security">List of applications/Security#Privilege elevation</a></li>
</ul>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Su_(Unix)" class="extiw" title="wikipedia:Su (Unix)">su</a> <a href="../en/Core_utilities.html" class="mw-redirect" title="Core utility">core utility</a> (substitute user) is used to assume the identity of another user on the system, root by default.
</p>
<p>See <a href="../en/PAM.html" title="PAM">PAM</a> for ways to configure <i>su'</i>s behavior.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><i>su</i> is part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span> package.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo-rs">sudo-rs</a></span> has <span class="plainlinks archwiki-template-man" title="$ man 1 su-rs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/su-rs.1">su-rs(1)</a></span>, an alternative memory-safe implementation of <i>su</i>.</div>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>To assume the login of another user, pass the username that you want to become to <i>su</i>, as in:
</p>
<pre>$ su <i>username</i>
</pre>
<p>By default, when running as a regular user, you will be prompted for the password of the user you are attempting to become. When running <i>su</i> as root, no password is required.
</p>
<p>If no username is passed, <i>su</i> assumes the root user, and the password for which you are prompted will be that of root.
</p>
<p>For more information, see <span class="plainlinks archwiki-template-man" title="$ man 1 su"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/su.1">su(1)</a></span>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Login_shell">Login shell</span></h3>
<p>The default behavior of <i>su</i> is to remain within the current directory and to maintain the environmental variables of the original user (rather than switch to those of the new user).
</p>
<p>Note the following important contrasting considerations:
</p>
<ul>
<li>It sometimes can be advantageous for a system administrator to use the shell account of an ordinary user rather than its own. In particular, occasionally the most efficient way to solve a user's problem is to log into that user's account in order to reproduce or debug the problem.</li>
<li>However, in many situations it is not desirable, or it can even be dangerous, for the root user to be operating from an ordinary user's shell account and with that account's environmental variables rather than from its own. While inadvertently using an ordinary user's shell account, root could install a program or make other changes to the system that would not have the same result as if they were made while using the root account. For instance, a program could be installed that could give the ordinary user power to accidentally damage the system or gain unauthorized access to certain data.</li>
</ul>
<p>Thus, it is advisable that administrative users, as well as any other users that are authorized to use <i>su</i> (and it is suggested that there be very few, if any) acquire the habit of always running the <i>su</i> command with the <code>-l</code>/<code>--login</code> option. It has two effects: 
</p>
<ol>
<li>Switches from the current directory to the home directory of the new user (e.g., to <code>/root</code> in the case of the root user) by <i>logging in</i> as that user.</li>
<li>Changes the environmental variables to those of the new user, as dictated by their preferred shell settings. Such as their <code>~/.bashrc</code>, and possibly other dot files, for a <a href="../en/Bash.html" title="Bash">bash</a> shell. That is, the current directory and environment will be changed to what would be expected if the new user had actually logged on to a new session (rather than just taking over an existing session).</li>
</ol>
<p>Thus, administrators should generally use <i>su</i> as follows:
</p>
<pre>$ su -l
</pre>
<p>An identical result is produced by adding the username root:
</p>
<pre>$ su -l root
</pre>
<p>Likewise, the same can be done for any other user (e.g. for a user named archie):
</p>
<pre># su -l archie
</pre>
<p>To log into a passwordless user, first log in as root and then log into the passwordless user account from the root shell:
</p>
<pre>$ su -l
# runuser -l archie
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There is no need to use <i>su</i> when already privileged. <i>runuser</i> in such cases is a better choice that avoids another layer of <a href="../en/Security.html#SUID_and_SGID_files" class="mw-redirect" title="Setuid">setuid</a> process. For details, refer to <span class="plainlinks archwiki-template-man" title="$ man 1 su"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/su.1">su(1)</a></span>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>You will sometimes encounter <i>su</i> being used to get a login shell with <code>su -</code>, rather than <code>su -l</code>/<code>su --login</code>. This shorthand is discouraged because the <code>-</code> option can encounter parsing limitations, see <span class="plainlinks archwiki-template-man" title="$ man 1 su"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/su.1#DESCRIPTION">su(1) § DESCRIPTION</a></span>.</li>
<li>You may wish to add an alias to <code>~/.bashrc</code> for this: <pre>alias su="su -l"</pre>
</li>
</ul>
</div>
<h3><span class="mw-headline" id="su_and_wheel">su and wheel</span></h3>
<p>BSD <i>su</i> allows only members of the <code>wheel</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> to assume root's identity by default. This is not the default behavior of GNU <i>su</i>, but this behavior can be mimicked using <a href="../en/PAM.html" title="PAM">PAM</a>. Uncomment the appropriate line in <code>/etc/pam.d/su</code> and <code>/etc/pam.d/su-l</code>:
</p>
<pre>auth required pam_wheel.so use_uid
</pre>
<h3><span class="mw-headline" id="Nologin_users">Nologin users</span></h3>
<p>You cannot run commands as an other user by simply using <code>su <i>user</i> -c <i>command</i></code> if they are not allowed to login (i.e. they have <code>/bin/false</code> or <code>/usr/bin/nologin</code> <a href="../en/Users_and_groups.html#User_management" title="Users and groups">set as their shell</a>). 
</p>
<p>You can work around this by specifying the shell to use: 
</p>
<pre># su -s /usr/bin/bash <i>nologin_user</i>
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Security.html" title="Category:Security">Security</a></li>
<li><a href="../en/Category:Commands.html" title="Category:Commands">Commands</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Su&amp;oldid=830792">https://wiki.archlinux.org/index.php?title=Su&amp;oldid=830792</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 April 2025, at 08:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
