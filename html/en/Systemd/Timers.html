<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd/Timers - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_Timers rootpage-Systemd skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Timer_units" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Timer_units">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Timer units</span>
			</div>
		</a>
		
		<ul id="toc-Timer_units-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Service_units" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Service_units">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Service units</span>
			</div>
		</a>
		
		<ul id="toc-Service_units-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Management</span>
			</div>
		</a>
		
		<ul id="toc-Management-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Examples">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Examples</span>
			</div>
		</a>
		
			<button aria-controls="toc-Examples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Examples subsection</span>
			</button>
		
		<ul id="toc-Examples-sublist" class="vector-toc-list">
			<li id="toc-Monotonic_timer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Monotonic_timer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Monotonic timer</span>
				</div>
			</a>
			
			<ul id="toc-Monotonic_timer-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Realtime_timer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Realtime_timer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Realtime timer</span>
				</div>
			</a>
			
			<ul id="toc-Realtime_timer-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Transient_timer_units" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Transient_timer_units">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Transient timer units</span>
			</div>
		</a>
		
		<ul id="toc-Transient_timer_units-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-As_a_cron_replacement" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#As_a_cron_replacement">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>As a cron replacement</span>
			</div>
		</a>
		
			<button aria-controls="toc-As_a_cron_replacement-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle As a cron replacement subsection</span>
			</button>
		
		<ul id="toc-As_a_cron_replacement-sublist" class="vector-toc-list">
			<li id="toc-Benefits" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Benefits">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Benefits</span>
				</div>
			</a>
			
			<ul id="toc-Benefits-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Caveats" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Caveats">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Caveats</span>
				</div>
			</a>
			
			<ul id="toc-Caveats-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_a_crontab" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_a_crontab">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Using a crontab</span>
				</div>
			</a>
			
			<ul id="toc-Using_a_crontab-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manually" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Manually">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>Manually</span>
				</div>
			</a>
			
			<ul id="toc-Manually-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Handling_&quot;time_to_live&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Handling_&quot;time_to_live&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.1</span>
					<span>Handling "time to live"</span>
				</div>
			</a>
			
			<ul id="toc-Handling_&quot;time_to_live&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desktop_notifications" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desktop_notifications">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.2</span>
					<span>Desktop notifications</span>
				</div>
			</a>
			
			<ul id="toc-Desktop_notifications-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd/Timers</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 8 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-8" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">8 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Systemd/Timers" title="Systemd/Timers – Deutsch" lang="de" hreflang="de" data-title="Systemd/Timers" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Systemd/Timers.html" title="Systemd (Español)/Timers – español" lang="es" hreflang="es" data-title="Systemd (Español)/Timers" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../../fr/Systemd/Timers.html" title="Systemd (Français)/Timers – français" lang="fr" hreflang="fr" data-title="Systemd (Français)/Timers" data-language-autonym="Français" data-language-local-name="français" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../../hu/Systemd/Timers.html" title="Systemd (Magyar)/Timers – magyar" lang="hu" hreflang="hu" data-title="Systemd (Magyar)/Timers" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd/%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC" title="Systemd/タイマー – 日本語" lang="ja" hreflang="ja" data-title="Systemd/タイマー" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../../pt/Systemd/Timers.html" title="Systemd (Português)/Timers – português" lang="pt" hreflang="pt" data-title="Systemd (Português)/Timers" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../../ru/Systemd/Timers.html" title="Systemd (Русский)/Timers – русский" lang="ru" hreflang="ru" data-title="Systemd (Русский)/Timers" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd/Timers" title="Systemd/Timers – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Systemd/Timers" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <bdi dir="ltr"><a href="../../en/Systemd.html" title="Systemd">Systemd</a></bdi>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../../en/Systemd.html" title="Systemd">systemd</a></li>
<li><a href="../../en/Systemd/User.html" title="Systemd/User">systemd/User</a></li>
<li><a href="../../en/Systemd/FAQ.html" class="mw-redirect" title="Systemd FAQ">systemd FAQ</a></li>
<li><a href="../../en/Cron.html" title="Cron">cron</a></li>
</ul>
</div>
<p>Timers are <a href="../../en/Systemd.html" title="Systemd">systemd</a> unit files whose name ends in <i>.timer</i> that control <i>.service</i> files or events. Timers can be used as an alternative to <a href="../../en/Cron.html" title="Cron">cron</a> (read <a href="#As_a_cron_replacement">#As a cron replacement</a>). Timers have built-in support for calendar time events, monotonic time events, and can be run asynchronously.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Timer_units">Timer units</h2></div>
<p>Timers are <i>systemd</i> unit files with a suffix of <i>.timer</i>. Timers are like other <a href="../../en/Systemd.html#Writing_unit_files" title="Systemd">unit configuration files</a> and are loaded from the same paths but include a <code>[Timer]</code> section which defines when and how the timer activates. Timers are defined as one of two types:
</p>
<ul>
<li>
<b>Realtime timers</b> (a.k.a. wallclock timers) activate on a calendar event, the same way that cronjobs do. The option <code>OnCalendar=</code> is used to define them.</li>
<li>
<b>Monotonic timers</b> activate after a time span relative to a varying starting point. They stop if the computer is temporarily suspended or shut down. There are number of different monotonic timers but all have the form: <code>On<i>Type</i>Sec=</code>. Common monotonic timers include <code>OnBootSec</code> and <code>OnUnitActiveSec</code>.</li>
</ul>
<p>For a full explanation of timer options, see the <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.timer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.timer.5">systemd.timer(5)</a></span>. The argument syntax for calendar events and time spans is defined in <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.time"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.time.7">systemd.time(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <i>systemd</i> offers the target <code>timers.target</code> which sets up all timers that should be active after boot (see <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.special"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.special.7">systemd.special(7)</a></span> for details). To use it, add <code>WantedBy=timers.target</code> to the <code>[Install]</code> section of your timer and <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> the timer unit.</div>
<div class="mw-heading mw-heading2"><h2 id="Service_units">Service units</h2></div>
<p>For each <i>.timer</i> file, a matching <i>.service</i> file exists (e.g. <code>foo.timer</code> and <code>foo.service</code>). The <i>.timer</i> file activates and controls the <i>.service</i> file. The <i>.service</i> does not require an <code>[Install]</code> section as it is the <i>timer</i> units that are enabled. If necessary, it is possible to control a differently-named unit using the <code>Unit=</code> option in the timer's <code>[Timer]</code> section.
</p>
<div class="mw-heading mw-heading2"><h2 id="Management">Management</h2></div>
<p>To use a <i>timer</i> unit <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> it like any other unit (remember to add the <i>.timer</i> suffix). To view all started timers, run:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ systemctl list-timers</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NEXT                          LEFT        LAST                          PASSED     UNIT                         ACTIVATES
Thu 2014-07-10 19:37:03 CEST  11h left    Wed 2014-07-09 19:37:03 CEST  12h ago    systemd-tmpfiles-clean.timer systemd-tmpfiles-clean.service
Fri 2014-07-11 00:00:00 CEST  15h left    Thu 2014-07-10 00:00:13 CEST  8h ago     logrotate.timer              logrotate.service
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>To list all timers (including inactive), use <code>systemctl list-timers --all</code>.</li>
<li>The status of a service started by a timer will likely be inactive unless it is currently being triggered.</li>
<li>If a timer gets out of sync, it may help to delete its <code>stamp-*</code> file in <code>/var/lib/systemd/timers</code> (or <code>~/.local/share/systemd/</code> in case of user timers). These are zero length files which mark the last time each timer was run. If deleted, they will be reconstructed on the next start of their timer.</li>
</ul>
</div>
<div class="mw-heading mw-heading2"><h2 id="Examples">Examples</h2></div>
<p>A service unit file can be scheduled with a timer out-of-the-box. The following examples schedule <code>foo.service</code> to be run with a corresponding timer called <code>foo.timer</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Monotonic_timer">Monotonic timer</h3></div>
<p>A timer which will start 15 minutes after boot and again every week while the system is running.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/foo.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Run foo weekly and on boot

[Timer]
OnBootSec=15min
OnUnitActiveSec=1w

[Install]
WantedBy=timers.target
</pre>
<div class="mw-heading mw-heading3"><h3 id="Realtime_timer">Realtime timer</h3></div>
<p>A timer which starts once a week (at 12:00am on Monday). When activated, it triggers the service immediately if it missed the last start time (option <code>Persistent=true</code>), for example due to the system being powered off:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/foo.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Run foo weekly

[Timer]
OnCalendar=weekly
Persistent=true

[Install]
WantedBy=timers.target</pre>
<p>When more specific dates and times are required, <code>OnCalendar</code> events uses the following format:
</p>
<pre>DayOfWeek Year-Month-Day Hour:Minute:Second
</pre>
<p>An asterisk may be used to specify any value and commas may be used to list possible values. Two values separated by <code>..</code> indicate a contiguous range.
</p>
<p>In the below example the service is run the first four days of each month at 12:00 PM, but <i>only</i> if that day is a Monday or a Tuesday.
</p>
<pre>OnCalendar=Mon,Tue *-*-01..04 12:00:00
</pre>
<p>To run a service on the first Saturday of every month, use:
</p>
<pre>OnCalendar=Sat *-*-1..7 18:00:00
</pre>
<p>When using the <code>DayOfWeek</code> part, at least one weekday has to be specified. If you want something to run every day at 4am, use:
</p>
<pre>OnCalendar=*-*-* 4:00:00
</pre>
<p>To run a service at different times, <code>OnCalendar</code> may be specified more than once. In the example below, the service runs at 22:30 on weekdays and at 20:00 on weekends.
</p>
<pre>OnCalendar=Mon..Fri 22:30
OnCalendar=Sat,Sun 20:00
</pre>
<p>You can also specify a timezone at the end of the directive (use <code>timedatectl list-timezones</code> to list accepted values)
</p>
<pre>OnCalendar=*-*-* 02:00:00 Europe/Paris
</pre>
<p>More information is available in <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.time"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.time.7">systemd.time(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>
<code>OnCalendar</code> time specifications can be tested in order to verify their validity and to calculate the next time the condition would elapse when used on a timer unit file with the <code>calendar</code> option of the <i>systemd-analyze</i> utility. For example, one can use <code>systemd-analyze calendar weekly</code> or <code>systemd-analyze calendar "Mon,Tue *-*-01..04 12:00:00"</code>. Add <code>--iterations=N</code> to ask for more iterations to be printed.</li>
<li>The <code>faketime</code> command is especially useful to test various scenarios with the above command; it comes with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfaketime">libfaketime</a></span> package.</li>
<li>Special event expressions like <code>daily</code> and <code>weekly</code> refer to <i>specific start times</i> and thus any timers sharing such calendar events will start simultaneously. Timers sharing start events can cause poor system performance if the timers' services compete for system resources. The <code>RandomizedDelaySec</code> option in the <code>[Timer]</code> section avoids this problem by randomly staggering the start time of each timer. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.timer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.timer.5">systemd.timer(5)</a></span>.</li>
<li>Add the option <code>AccuracySec=1us</code> to the <code>[Timer]</code> section, to avoid the inaccuracy of the <i>1m</i> default value of <code>AccuracySec</code>. Also see <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.timer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.timer.5">systemd.timer(5)</a></span>.</li>
<li>Some options (<code>WakeSystem</code>) may require specific system capabilities and prevent a timer from starting, resulting in the following error messages: "Failed to enter waiting state: Operation not supported" and "Failed with result 'resources'.".</li>
</ul>
</div>
<div class="mw-heading mw-heading2"><h2 id="Transient_timer_units">Transient timer units</h2></div>
<p>One can use <code>systemd-run</code> to create transient <i>.timer</i> units. That is, one can set a command to run at a specified time without having a service file. For example the following command touches a file after 30 seconds:
</p>
<pre># systemd-run --on-active=30 /bin/touch /tmp/foo
</pre>
<p>One can also specify a pre-existing service file that does not have a timer file. For example, the following starts the systemd unit named <code><i>someunit</i>.service</code> after 12.5 hours have elapsed:
</p>
<pre># systemd-run --on-active="12h 30m" --unit <i>someunit</i>.service
</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-run"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-run.1">systemd-run(1)</a></span> for more information and examples.
</p>
<div class="mw-heading mw-heading2"><h2 id="As_a_cron_replacement">As a cron replacement</h2></div>
<p>Although <a href="../../en/Cron.html" title="Cron">cron</a> is arguably the most well-known job scheduler, <i>systemd</i> timers can be an alternative.
</p>
<div class="mw-heading mw-heading3"><h3 id="Benefits">Benefits</h3></div>
<p>The main benefits of using timers come from each job having its own <i>systemd</i> service. Some of these benefits are:
</p>
<ul>
<li>Jobs can be easily started independently of their timers. This simplifies debugging.</li>
<li>Each job can be configured to run in a specific environment (see <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.exec"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.exec.5">systemd.exec(5)</a></span>).</li>
<li>Jobs can be attached to <a href="../../en/Cgroups.html" title="Cgroups">cgroups</a>.</li>
<li>Jobs can be set up to depend on other <i>systemd</i> units.</li>
<li>Jobs are logged in the <i>systemd</i> journal for easy debugging.</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Caveats">Caveats</h3></div>
<p>Some things that are easy to do with cron are difficult to do with timer units alone:
</p>
<ul>
<li>Creation: to set up a timed job with <i>systemd</i> you need to create two files and run <code>systemctl</code> commands, compared to adding a single line to a crontab.</li>
<li>Emails: there is no built-in equivalent to cron's <code>MAILTO</code> for sending emails on job failure. See <a href="../../en/Systemd.html#Notifying_with_e-mail" title="Systemd">systemd#Notifying with e-mail</a> for an example of setting up a similar functionality using <code>OnFailure=</code>.</li>
</ul>
<p>Also note that <a href="../../en/Systemd/User.html" title="Systemd/User">user</a> timer units will only run during an active user login session by default. However, <a href="../../en/Systemd/User.html#Automatic_start-up_of_systemd_user_instances" title="Systemd/User">lingering</a> can enable services to run at boot even when the user has no active login session.
</p>
<div class="mw-heading mw-heading3"><h3 id="Using_a_crontab">Using a crontab</h3></div>
<p>Several of the caveats can be worked around by installing a package that parses a traditional crontab to configure the timers. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-cron-next-git/">systemd-cron-next-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-cron/">systemd-cron</a></span><sup><small>AUR</small></sup> are two such packages. These can provide the missing <code>MAILTO</code> feature.
</p>
<p>Also, like with crontabs, a unified view of all scheduled jobs can be obtained with <code>systemctl</code>. See <a href="#Management">#Management</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Manually">Manually</h3></div>
<p>Outside of migrating from an existing crontab, using the same periodicity as cron can be desired. To avoid the tedious task of creating a timer for each service to start periodically, use a <a href="../../en/Systemd.html#Using_units" title="Systemd">template unit</a>, for example: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/monthly@.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Monthly Timer for %i service

[Timer]
OnCalendar=*-*-1 02:00:00
AccuracySec=6h
RandomizedDelaySec=1h
Persistent=true
Unit=%i.service

[Install]
WantedBy=default.target</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.timer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.timer.5#OPTIONS">systemd.timer(5) § OPTIONS</a></span> for the importance of using <code>RandomizedDelaySec</code> and not only <code>AccuracySec</code> to avoid all units started by the timer firing at once.</div>
<p>Then one only needs to <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">enable/start</a> <code>monthly@<i>unit_name</i>.timer</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> The template units can be nested, e.g. one could <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">enable/start</a> <code>monthly@btrfs-scrub@mnt-$(systemd-escape bbb76c63-e4ac-4e39-8897-a120c5d30686).timer</code>.</div>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Handling_&quot;time_to_live&quot;">
<span id="Handling_.22time_to_live.22"></span>Handling "time to live"</h3></div>
<p>Some software will track the time elapsed since they last ran, for example blocking the update of a database if the last download ended less than 24 hours ago. 
</p>
<p>By default, timers do not track when the task they launched has ended. To work around this, we can use <code>OnUnitInactiveSeconds</code>: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/daily-inactive@.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Launch %i service 24hours after it deactivated

[Timer]
<b>OnUnitInactiveSec=1day1sec</b>
Unit=%i.service
Persistent=true

[Install]
WantedBy=default.target</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> With <code>Restart=on-failure</code> along with <code>RestartSec</code>, it is possible to have a unit rerun after failure and success according to different schedules, see <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5#OPTIONS">systemd.service(5) § OPTIONS</a></span>.</div>
<div class="mw-heading mw-heading3"><h3 id="Desktop_notifications">Desktop notifications</h3></div>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-timer-notify/">systemd-timer-notify</a></span><sup><small>AUR</small></sup> provides an automatic desktop notification that helps you notice when a systemd service is triggered by a timer and is running. The notification will automatically close when the service finishes.
</p>
<p>This can be helpful for understanding why CPU usage is high or for preventing a shutdown when a backup service hasn't finished.
</p>
<p>For more details and configuration options, visit <a rel="nofollow" class="external free" href="https://gitlab.com/Zesko/systemd-timer-notify">https://gitlab.com/Zesko/systemd-timer-notify</a>
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><span class="plainlinks archwiki-template-man" title="$ man 5 systemd.timer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.timer.5">systemd.timer(5)</a></span></li>
<li><a href="https://fedoraproject.org/wiki/Features/SystemdCalendarTimers" class="extiw" title="fedora:Features/SystemdCalendarTimers">Fedora:Features/SystemdCalendarTimers</a></li>
<li><a href="https://wiki.gentoo.org/wiki/Systemd#Timer_services" class="extiw" title="gentoo:Systemd">Gentoo:Systemd#Timer services</a></li>
<li>
<b>systemd-cron</b> — provides systemd units to run cron scripts; using <i>systemd-crontab-generator</i> to convert crontabs</li>
</ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/systemd-cron/systemd-cron">https://github.com/systemd-cron/systemd-cron</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-cron/">systemd-cron</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>systemd-cron-next</b> — tool to generate timers/services from crontab and anacrontab files</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/systemd-cron/systemd-cron-next">https://github.com/systemd-cron/systemd-cron-next</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-cron-next-git/">systemd-cron-next-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li><a rel="nofollow" class="external text" href="https://fedoramagazine.org/systemd-timers-for-scheduling-tasks/">Systemd Timers for Scheduling Tasks</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:System_administration.html" title="Category:System administration">System administration</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd/Timers&amp;oldid=848943">https://wiki.archlinux.org/index.php?title=Systemd/Timers&amp;oldid=848943</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 October 2025, at 12:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true">systemd/Timers</div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
