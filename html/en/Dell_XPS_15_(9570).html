<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dell XPS 15 (9570) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dell_XPS_15_9570 rootpage-Dell_XPS_15_9570 skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Firmware" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Firmware">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Firmware</span>
			</div>
		</a>
		
		<ul id="toc-Firmware-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Function_keys" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Function_keys">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Function keys</span>
			</div>
		</a>
		
			<button aria-controls="toc-Function_keys-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Function keys subsection</span>
			</button>
		
		<ul id="toc-Function_keys-sublist" class="vector-toc-list">
			<li id="toc-Unmarked_keybinds" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unmarked_keybinds">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Unmarked keybinds</span>
				</div>
			</a>
			
			<ul id="toc-Unmarked_keybinds-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Power_Management" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Power_Management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Power Management</span>
			</div>
		</a>
		
			<button aria-controls="toc-Power_Management-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Power Management subsection</span>
			</button>
		
		<ul id="toc-Power_Management-sublist" class="vector-toc-list">
			<li id="toc-Suspend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suspend">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Suspend</span>
				</div>
			</a>
			
			<ul id="toc-Suspend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hibernate" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hibernate">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Hibernate</span>
				</div>
			</a>
			
			<ul id="toc-Hibernate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Powertop" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Powertop">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Powertop</span>
				</div>
			</a>
			
			<ul id="toc-Powertop-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Graphics" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Graphics">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Graphics</span>
			</div>
		</a>
		
			<button aria-controls="toc-Graphics-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Graphics subsection</span>
			</button>
		
		<ul id="toc-Graphics-sublist" class="vector-toc-list">
			<li id="toc-Various_options_for_the_integrated_Intel-card" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Various_options_for_the_integrated_Intel-card">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Various options for the integrated Intel-card</span>
				</div>
			</a>
			
			<ul id="toc-Various_options_for_the_integrated_Intel-card-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-kernel_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#kernel_modules">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>kernel modules</span>
				</div>
			</a>
			
			<ul id="toc-kernel_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NVIDIA_Optimus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NVIDIA_Optimus">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>NVIDIA Optimus</span>
				</div>
			</a>
			
			<ul id="toc-NVIDIA_Optimus-sublist" class="vector-toc-list">
				<li id="toc-Disable_NVIDIA_card_when_not_in_use" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disable_NVIDIA_card_when_not_in_use">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.1</span>
					<span>Disable NVIDIA card when not in use</span>
				</div>
			</a>
			
			<ul id="toc-Disable_NVIDIA_card_when_not_in_use-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Troubleshooting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Troubleshooting</span>
				</div>
			</a>
			
			<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
				<li id="toc-xbacklight" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#xbacklight">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4.1</span>
					<span>xbacklight</span>
				</div>
			</a>
			
			<ul id="toc-xbacklight-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NVRM:_Failed_to_enable_MSI;_falling_back_to_PCIe_virtual-wire_interrupts" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#NVRM:_Failed_to_enable_MSI;_falling_back_to_PCIe_virtual-wire_interrupts">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4.2</span>
					<span>NVRM: Failed to enable MSI; falling back to PCIe virtual-wire interrupts</span>
				</div>
			</a>
			
			<ul id="toc-NVRM:_Failed_to_enable_MSI;_falling_back_to_PCIe_virtual-wire_interrupts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lock-ups_when_resuming_from_suspend_with_nvidia_module" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Lock-ups_when_resuming_from_suspend_with_nvidia_module">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4.3</span>
					<span>Lock-ups when resuming from suspend with nvidia module</span>
				</div>
			</a>
			
			<ul id="toc-Lock-ups_when_resuming_from_suspend_with_nvidia_module-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Wi-Fi_and_Bluetooth" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Wi-Fi_and_Bluetooth">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Wi-Fi and Bluetooth</span>
			</div>
		</a>
		
			<button aria-controls="toc-Wi-Fi_and_Bluetooth-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Wi-Fi and Bluetooth subsection</span>
			</button>
		
		<ul id="toc-Wi-Fi_and_Bluetooth-sublist" class="vector-toc-list">
			<li id="toc-Troubleshooting_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Troubleshooting_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Troubleshooting</span>
				</div>
			</a>
			
			<ul id="toc-Troubleshooting_2-sublist" class="vector-toc-list">
				<li id="toc-ath10k_module_crashes_after_suspend" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#ath10k_module_crashes_after_suspend">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.1</span>
					<span>ath10k module crashes after suspend</span>
				</div>
			</a>
			
			<ul id="toc-ath10k_module_crashes_after_suspend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wi-Fi_partially_looses_network_connectivity_every_1-2_hours" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wi-Fi_partially_looses_network_connectivity_every_1-2_hours">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2</span>
					<span>Wi-Fi partially looses network connectivity every 1-2 hours</span>
				</div>
			</a>
			
			<ul id="toc-Wi-Fi_partially_looses_network_connectivity_every_1-2_hours-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bluetooth_disappears_(after_suspend?)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Bluetooth_disappears_(after_suspend?)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.3</span>
					<span>Bluetooth disappears (after suspend?)</span>
				</div>
			</a>
			
			<ul id="toc-Bluetooth_disappears_(after_suspend?)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ath10k-fixer" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#ath10k-fixer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.4</span>
					<span>ath10k-fixer</span>
				</div>
			</a>
			
			<ul id="toc-ath10k-fixer-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Touchpad_and_Touchscreen" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Touchpad_and_Touchscreen">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Touchpad and Touchscreen</span>
			</div>
		</a>
		
		<ul id="toc-Touchpad_and_Touchscreen-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Thunderbolt_docks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Thunderbolt_docks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Thunderbolt docks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Thunderbolt_docks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Thunderbolt docks subsection</span>
			</button>
		
		<ul id="toc-Thunderbolt_docks-sublist" class="vector-toc-list">
			<li id="toc-TB16" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TB16">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>TB16</span>
				</div>
			</a>
			
			<ul id="toc-TB16-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Caldigit_TS3_Plus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Caldigit_TS3_Plus">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.2</span>
					<span>Caldigit TS3 Plus</span>
				</div>
			</a>
			
			<ul id="toc-Caldigit_TS3_Plus-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Thermal_management" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Thermal_management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Thermal management</span>
			</div>
		</a>
		
			<button aria-controls="toc-Thermal_management-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Thermal management subsection</span>
			</button>
		
		<ul id="toc-Thermal_management-sublist" class="vector-toc-list">
			<li id="toc-Diagnosis" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Diagnosis">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1</span>
					<span>Diagnosis</span>
				</div>
			</a>
			
			<ul id="toc-Diagnosis-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Undervolting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Undervolting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.2</span>
					<span>Undervolting</span>
				</div>
			</a>
			
			<ul id="toc-Undervolting-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Repasting_&amp;_padding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Repasting_&amp;_padding">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.3</span>
					<span>Repasting &amp; padding</span>
				</div>
			</a>
			
			<ul id="toc-Repasting_&amp;_padding-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Results" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Results">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.4</span>
					<span>Results</span>
				</div>
			</a>
			
			<ul id="toc-Results-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Fingerprint_reader" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Fingerprint_reader">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">10</span>
				<span>Fingerprint reader</span>
			</div>
		</a>
		
		<ul id="toc-Fingerprint_reader-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Dell XPS 15 (9570)</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Hardware table misses a few IDs and the function key tables should be merged. Accessibility section is missing. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Dell_XPS_15_(9570).html">Talk:Dell XPS 15 (9570)</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> This page is far from completed. Some not mentioned items could be the same as <a href="../en/Dell_XPS_15_(9560).html" title="Dell XPS 15 (9560)">Dell XPS 15 (9560)</a>. Most of it also applies to the Precision 5530 (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Dell_XPS_15_(9570).html">Talk:Dell XPS 15 (9570)</a>)</div>
</div>
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Touchpad</td>
<td><code>06CB:7A13</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Keyboard</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (Intel)</td>
<td><code>8086:3e9b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (NVIDIA)</td>
<td><code>10de:1c8c</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td><code>0c45:671d</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>0cf3:e301</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>SD-card reader</td>
<td><code>10ec:525a</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>8086:a348</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wi-Fi</td>
<td><code>168c:003e</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>27c6:5395</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No
</td>
</tr>
<tr>
<td>TPM</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Before installing it is necessary to modify some UEFI Settings. They can be accessed by pressing <code>F2</code> repeatedly when booting.
</p>
<ul>
<li>Change the SATA Mode from the default "RAID" to "AHCI". This will allow Linux to detect the NVMe SSD. If dual booting with an existing Windows installation, Windows will not boot after the change but <a rel="nofollow" class="external text" href="https://triplescomputers.com/blog/uncategorized/solution-switch-windows-10-from-raidide-to-ahci-operation/">this can be fixed without a re-installation</a>.</li>
<li>Change Fastboot to "Thorough" in "POST Behaviour". This prevents intermittent boot failures.</li>
<li>Disable secure boot to allow Linux to boot. Alternatively, you can choose to set up <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> so that it works with Linux and you can take advantage of its potential security benefits.</li>
</ul>
<p>Installation of Arch Linux can proceed normally. Refer to the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Many Dell XPS UEFI do not support passing kernel line options directly to the kernel and will result in a frozen boot. Use a bootloader or Arch-EFIBoot<a rel="nofollow" class="external autonumber" href="https://github.com/xdever/arch-efiboot">[1]</a> instead.</div>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<p>They are 2 main ways to update the UEFI firmware:
</p>
<ul>
<li>through the running Linux session with <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>,</li>
<li>through UEFI: firmware images can be found at <a rel="nofollow" class="external text" href="https://www.dell.com/support/home/us/en/04/product-support/product/xps-15-9570-laptop/drivers">Dell support page</a> as <code>XPS_15_9570_X.Y.Z.exe</code> files:
<ul>
<li>Download the desired firmware from section "Dell XPS 15 9570 System BIOS"</li>
<li>Save it in <code>/boot/EFI/Dell/Bios/</code> (this path may vary, depending on your installation)</li>
<li>Reboot the system, and enter the boot menu by pressing repeatedly <code>F12</code> on Dell logo</li>
<li>Choose "Bios Flash Update"</li>
<li>Select the file previously saved, and start the process</li>
</ul>
</li>
</ul>
<dl><dd>The process will take about five minutes, during which the system will have some reboots and push fans at maximum speed. Finally the system will reboot normally.</dd></dl>
<h2><span class="mw-headline" id="Function_keys">Function keys</span></h2>
<table class="wikitable">

<tbody>
<tr>
<th>Key
</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn+Esc</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Enables Fn lock
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioMute</code>
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioLowerVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioRaiseVolume</code>
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioPrev</code>
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioPlay</code>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86AudioNext</code>
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>See <a href="#Unmarked_keybinds">#Unmarked keybinds</a>
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Inputs <code>Super+p</code>
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86Search</code>
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Enables/disables keyboard backlight
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessDown</code>
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86MonBrightnessUp</code>
</td>
</tr>
<tr>
<td><code>Fn+Print</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes<sup>3</sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>XF86RFKill</code>, will hard-block Wi-Fi and soft-block Bluetooth. Press again to disable
</td>
</tr>
<tr>
<td><code>Fn+Ins</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes<sup>3</sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>
<code>XF86Sleep</code>, see <a href="#Unmarked_keybinds">#Unmarked keybinds</a>
</td>
</tr>
<tr>
<td><code>Fn+RCtrl</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>Menu</code>
</td>
</tr>
<tr>
<td><code>Fn+Up</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>PageUp</code>
</td>
</tr>
<tr>
<td><code>Fn+Down</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>PageDown</code>
</td>
</tr>
<tr>
<td><code>Fn+Left</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>Home</code>
</td>
</tr>
<tr>
<td><code>Fn+Right</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<code>End</code>
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools</li>
<li>The physical key has a symbol on it, which describes its function</li>
<li>systemd-logind handles this by default</li>
</ol>
<h3><span class="mw-headline" id="Unmarked_keybinds">Unmarked keybinds</span></h3>
<p>There are several keybinds handled by the BIOS
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Key
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td>Unobtrusive mode. Has to be enabled in the BIOS in order to work. Deactivates <b>all</b> LEDs and turns off display and sound. Press again to disable.
</td>
</tr>
<tr>
<td><code>Fn+Ins</code></td>
<td>Suspends device. <b>Can not be disabled/configured</b>
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Power_Management">Power Management</span></h2>
<h3><span class="mw-headline" id="Suspend">Suspend</span></h3>
<p>See <a href="../en/Power_management/Suspend_and_hibernate.html#Changing_suspend_method" title="Power management/Suspend and hibernate">Power management/Suspend and hibernate#Changing suspend method</a>.
</p>
<h3><span class="mw-headline" id="Hibernate">Hibernate</span></h3>
<p>Works out of the Box see <a href="../en/Power_management/Suspend_and_hibernate.html" title="Power management/Suspend and hibernate">Power management/Suspend and hibernate</a>
</p>
<h3><span class="mw-headline" id="Powertop">Powertop</span></h3>
<p><code>powertop</code> is very efficient to manage power consumption. Run <code>powertop --auto-tune</code> and compare the Watt consumption variation (laptop must be unplugged and running on battery). <code>powertop --auto-tune</code> can be run at every boot.
</p>
<p>See <a href="../en/Powertop.html#Apply_settings" title="Powertop">Powertop#Apply settings</a>.
</p>
<h2><span class="mw-headline" id="Graphics">Graphics</span></h2>
<p>The integrated Intel card works out of the box.
</p>
<h3><span class="mw-headline" id="Various_options_for_the_integrated_Intel-card">Various options for the integrated Intel-card</span></h3>
<p><a href="../en/TLP.html" title="TLP">TLP</a> is recommended to save some power. However several more options can be activated for the Intel card in order to save power or prevent screen flickering. 
</p>
<p>Add the following line to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/i915.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options i915 enable_fbc=1 disable_power_well=0 fastboot=1 enable_psr=0</pre>
<p>Some guides suggest the option <code>enable_guc=3</code>, however some problem were evidenced with that option.
Before you add it to <code>/etc/modprobe.d/i915.conf</code>, try it first as a command-line option before you boot.
</p>
<h3><span class="mw-headline" id="kernel_modules">kernel modules</span></h3>
<p>The nouveau module is known to cause kernel panics and freezes.
</p>
<p>One way to mitigate this would be by adding <code>nomodeset</code> to the kernel options. However it is better to completely disable it with the blacklist method (recommended):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
blacklist nv
</pre>
<h3><span class="mw-headline" id="NVIDIA_Optimus">NVIDIA Optimus</span></h3>
<p>See <a href="../en/NVIDIA_Optimus.html#Available_methods" title="NVIDIA Optimus">NVIDIA Optimus#Available methods</a>.
</p>
<h4><span class="mw-headline" id="Disable_NVIDIA_card_when_not_in_use">Disable NVIDIA card when not in use</span></h4>
<p>Another good option is to disable the default NVIDIA board and enable it only for off-loading for computation purposes using <a href="../en/PRIME.html" title="PRIME">PRIME</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This alternative drastically lowers the laptop's power consumption from around 13W to 6/7W.</div>
<p>It is possible to make it work with the proprietary NVIDIA driver, and there are probably several ways to make it work. See <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1826641#p1826641">[2]</a>.
</p>
<ul>
<li>
<a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-prime">nvidia-prime</a></span>. This should pull all necessary packages.</li>
<li>Create the following file and add the following to allow the GPU to power-off on boot:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/nvidia_pm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /sys/bus/pci/devices/0000:01:00.0/power/control - - - - auto
</pre>
<ul><li>Several modules need to be blacklisted in order to prevent them from being loaded on boot. Add the following to</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
blacklist nv
blacklist nvidia
blacklist nvidia-drm
blacklist nvidia-modeset
blacklist nvidia-uvm
blacklist ipmi_msghandler
blacklist ipmi_devintf
</pre>
<ul><li>Create the following file:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/disable-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">install nvidia /bin/false
</pre>
<ul><li>If you are using TLP, you might need to blacklist the discrete NVIDIA card by adding/uncommenting the following line inside the TLP config file:</li></ul>
<pre>RUNTIME_PM_DENYLIST="01:00.0"
</pre>
<p>Double-check the address with <i>lspci</i>.
</p>
<ul><li>In order to enable and disable the video card create the following 2 scripts:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">enableGPU.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
# allow to load nvidia module
if [ ! -f /etc/modprobe.d/disable-nvidia.conf ]; then
	printf "File /etc/modprobe.d/disable-nvidia.conf does not exist.\n"
	printf "Is the GPU already enabled ?\n"
	exit 1
fi
printf "Allowing to load NVIDIA modules...\n"
mv /etc/modprobe.d/disable-nvidia.conf /etc/modprobe.d/disable-nvidia.conf.disable
printf "Changing power control...\n"
# remove NVIDIA card (currently in power/control = auto)
echo -n 1 &gt; /sys/bus/pci/devices/0000\:01\:00.0/remove
sleep 1
# change PCIe power control
echo -n on &gt; /sys/bus/pci/devices/0000\:00\:01.0/power/control
sleep 1
# rescan for NVIDIA card (defaults to power/control = on)
printf "Rescanning....."
echo -n 1 &gt; /sys/bus/pci/rescan
if [ -x "$(command -v nvidia-smi)" ]; then
	printf "\n"
	nvidia-smi
fi
printf "\nNVIDIA CARD IS NOW ENABLED.\n"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">disableGPU.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
printf "Unloading NVIDIA modules...\n"
modprobe -r nvidia_drm
modprobe -r nvidia_uvm
modprobe -r nvidia_modeset
modprobe -r nvidia
printf "Changing power control...\n"
# change NVIDIA card power control
echo -n auto &gt; /sys/bus/pci/devices/0000\:01\:00.0/power/control
sleep 1
# change PCIe power control
echo -n auto &gt; /sys/bus/pci/devices/0000\:00\:01.0/power/control
sleep 1
# lock system from loading nvidia module
if [ -f /etc/modprobe.d/disable-nvidia.conf.disable ]; then
	mv /etc/modprobe.d/disable-nvidia.conf.disable /etc/modprobe.d/disable-nvidia.conf
	printf "\nNVIDIA CARD IS NOW DISABLED.\n"
else
	printf "\nFile /etc/modprobe.d/disable-nvidia.conf.disable does not exist.\n"
	printf "Is the GPU already disabled ?\n"
fi
</pre>
<ul><li>If the video card is not disabled on shutdown, then the modules will be loaded again at next boot even though they are blacklisted. Therefore we need to create a service which shuts down the NVIDIA card at shutdown. Create the following file:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/disable-nvidia-on-shutdown.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Disables Nvidia GPU on OS shutdown
[Service]
Type=oneshot
RemainAfterExit=true
ExecStart=/bin/true
ExecStop=/bin/bash -c "mv /etc/modprobe.d/disable-nvidia.conf.disable /etc/modprobe.d/disable-nvidia.conf || true"
[Install]
WantedBy=multi-user.target</pre>
<ul><li>Finally we need to do a <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Daemon-reload">daemon-reload</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>disable-nvidia-on-shutdown.service</code>.</li></ul>
<ul><li>Reboot</li></ul>
<p>After rebooting, doublecheck that the nvidia module is not loaded:
</p>
<pre>$ lsmod | grep nvidia
</pre>
<p>Now you can enable the NVIDIA card by running the aforementioned script <code>enableGPU.sh</code>. The script will verify if the NVIDIA card is enabled. Finally you can run a command with prime-run:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ glxinfo | grep "OpenGL renderer"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">OpenGL renderer string: Mesa DRI Intel(R) UHD Graphics 630 (Coffeelake 3x8 GT2)
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ prime-run glxinfo | grep "OpenGL renderer"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">OpenGL renderer string: GeForce GTX 1050 Ti with Max-Q Design/PCIe/SSE2
</pre>
<p>Disable the card with <code>disableGPU.sh</code> to lower the power consumption.
</p>
<h3><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h3>
<h4><span class="mw-headline" id="xbacklight">xbacklight</span></h4>
<p>To get xbacklight working and not conflicting with NVIDIA Optimus:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-intel.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
	Identifier  "Intel Graphics"
        Driver      "intel"
        Option      "Backlight"  "intel_backlight"
EndSection
</pre>
<h4>
<span id="NVRM:_Failed_to_enable_MSI.3B_falling_back_to_PCIe_virtual-wire_interrupts"></span><span class="mw-headline" id="NVRM:_Failed_to_enable_MSI;_falling_back_to_PCIe_virtual-wire_interrupts">NVRM: Failed to enable MSI; falling back to PCIe virtual-wire interrupts</span>
</h4>
<p>Sometimes it happens after suspend/resume. GPU could work fine without MSI <a rel="nofollow" class="external autonumber" href="http://us.download.nvidia.com/XFree86/Linux-x86/325.15/README/knownissues.html#msi_interrupts">[3]</a>. You could disable MSI by adding the following in <code>/etc/modprobe.d/nvidia.conf</code>:
</p>
<pre>options nvidia NVreg_EnableMSI=0
</pre>
<h4><span class="mw-headline" id="Lock-ups_when_resuming_from_suspend_with_nvidia_module">Lock-ups when resuming from suspend with nvidia module</span></h4>
<p>If your system locks up every time you resume from suspend with the following two lines in the output of <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a>:
</p>
<pre>[   42.447364] pci 0000:01:00.0: Refused to change power state, currently in D3
[   46.896493] pci 0000:01:00.0: Refused to change power state, currently in D3
</pre>
<p>You need to add the following to your <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel command line">kernel command line</a>: 
</p>
<pre>nouveau.blacklist=0 acpi_osi=! acpi_osi=\"Windows 2015\" mem_sleep_default=deep
</pre>
<p>See NVIDIA bug number: 2589324, <a rel="nofollow" class="external text" href="https://www.dell.com/community/XPS/XPS-15-9570-with-Ubuntu-18-04-1-not-resuming-after-suspend/m-p/7305094#M28897">dell resolution</a>.
</p>
<h2><span class="mw-headline" id="Wi-Fi_and_Bluetooth">Wi-Fi and Bluetooth</span></h2>
<p>These work well out of the box but you might need to update the firmware for better stability.  For Bluetooth, make sure you have everything installed as per the <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> wiki page.
</p>
<h3><span class="mw-headline" id="Troubleshooting_2">Troubleshooting</span></h3>
<h4><span class="mw-headline" id="ath10k_module_crashes_after_suspend">ath10k module crashes after suspend</span></h4>
<p>You may notice driver crashes after suspend/resume, which for the most part does not seem to impact the running system, with coredumps similar to:
</p>
<pre>kernel: WARNING: CPU: 6 PID: 27936 at drivers/net/wireless/ath/ath10k/mac.c:5746 ath10k_bss_info_changed+0xf96/0x1120 [ath10k_core]
kernel: Modules linked in: uhid algif_hash cmac rfcomm fuse ccm ipt_MASQUERADE nf_conntrack_netlink nfnetlink xfrm_user xfrm_algo iptable_nat nf_nat_ipv4&gt;
kernel:  snd_hda_intel dcdbas x86_pkg_temp_thermal dell_smm_hwmon snd_hda_codec intel_powerclamp cfg80211 kvm_intel snd_hda_core input_leds snd_hwdep snd&gt;
kernel:  vfio_mdev mdev vfio_iommu_type1 vfio kvm irqbypass intel_gtt i2c_algo_bit drm_kms_helper syscopyarea sysfillrect sysimgblt fb_sys_fops drm agpga&gt;
kernel: CPU: 6 PID: 27936 Comm: kworker/u24:42 Tainted: G     U  W  OE     5.0.4-arch1-1-ARCH #1
kernel: Hardware name: Dell Inc. XPS 15 9570/0HWTMH, BIOS 1.8.1 02/01/2019
kernel: Workqueue: events_unbound async_run_entry_fn
kernel: RIP: 0010:ath10k_bss_info_changed+0xf96/0x1120 [ath10k_core]
kernel: Code: 24 8b 95 78 01 00 00 85 c0 0f 85 a7 00 00 00 89 d1 be 10 00 00 00 48 c7 c2 c0 b2 fa c0 4c 89 c7 e8 bf 68 00 00 e9 a5 f1 ff ff &lt;0f&gt; 0b 4c 89&gt;
kernel: RSP: 0000:ffffb7a45422fcd0 EFLAGS: 00010282
kernel: RAX: 00000000fffffffe RBX: ffff98f6d44815a0 RCX: 0000000000000000
kernel: RDX: ffff98f6d4481938 RSI: ffffb7a45422fcf0 RDI: ffff98f6d81df418
kernel: RBP: ffff98f6d81df418 R08: 0000000000000001 R09: 0000000000000000
kernel: R10: 000000000000001f R11: 0000000000000000 R12: 0000000000000020
kernel: R13: ffff98f6d81df420 R14: ffff98f6d4482598 R15: ffff98f6d44815a0
kernel: FS:  0000000000000000(0000) GS:ffff98f6dc380000(0000) knlGS:0000000000000000
179 94%
kernel:  process_one_work+0x1eb/0x410
kernel:  worker_thread+0x2d/0x3d0
kernel:  ? process_one_work+0x410/0x410
kernel:  kthread+0x112/0x130
kernel:  ? kthread_park+0x80/0x80
kernel:  ret_from_fork+0x35/0x40
kernel: ---[ end trace 09ae3e174c178f98 ]---
</pre>
<p>Patched in some kernels and not others (which?), relevant links:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1824143">BBS: Suspend issue with Dell XPS 9570</a> (related)</li>
<li><a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=201499">bugzilla#201499: ath10k BUG on resume</a></li>
</ul>
<h4><span class="mw-headline" id="Wi-Fi_partially_looses_network_connectivity_every_1-2_hours">Wi-Fi partially looses network connectivity every 1-2 hours</span></h4>
<p>With some Wi-Fi routers, the network connection might get partially lost without any noticeable change in the network status. Existing connections (e.g. ssh sessions, Zoom video calls) keep working, but loading new web pages or even pinging the gateway do not work anymore. Restarting the network fixes the problem, which however reappears after 1-2 ours.
</p>
<p>The issue can be fixed definitively by downgrading the Wi-Fi card firmware as explained <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=254362">in post #17 of this forum thread</a>. To avoid repeating the downgrade every time <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> is upgraded, see <a href="../en/Pacman.html#Skip_files_from_being_installed_to_system" title="Pacman">pacman#Skip files from being installed to system</a>.
</p>
<h4>
<span id="Bluetooth_disappears_.28after_suspend.3F.29"></span><span class="mw-headline" id="Bluetooth_disappears_(after_suspend?)">Bluetooth disappears (after suspend?)</span>
</h4>
<p>Possibly related to the previous instability issue, sometimes the adapter seems to completely disappear.  As reported <a rel="nofollow" class="external text" href="https://www.dell.com/community/XPS/XPS-15-9570-Bluetooth-disappearing/td-p/6192457">here</a> (thanks <a rel="nofollow" class="external text" href="https://www.dell.com/community/user/viewprofilepage/user-id/3517956">w.v.w.</a>, you can likely fix this by manually upgrading the firmware (to something newer than what is in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>:
</p>
<p>1. Double check adapter (e.g. QCA6174, below)
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep Network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">3b:00.0 Network controller: Qualcomm Atheros QCA6174 802.11ac Wireless Network Adapter (rev 32)
</pre>
<p>2. Confirm hardware and current firmware version (e.g. hw3.2, firmware RM.4.4.1.c3-00013-QCARMSWPZ-1, below)
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># journalctl -b --grep='ath10k.*(firmware|qca)'</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">kernel: ath10k_pci 0000:3b:00.0: qca6174 hw3.2 target 0x05030000 chip_id 0x00340aff sub 1a56:1535
kernel: ath10k_pci 0000:3b:00.0: firmware ver RM.4.4.1.c3-00013-QCARMSWPZ-1 api 6 features wowlan,ignore-otp,no-4addr-pad,raw-mode,mfp crc32 fc0096a8</pre>
<p>3. Follow the instructions at <a rel="nofollow" class="external free" href="https://wireless.wiki.kernel.org/en/users/Drivers/ath10k/firmware">https://wireless.wiki.kernel.org/en/users/Drivers/ath10k/firmware</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-10-12 ⓘ]</sup>
</p>
<p>e.g. for the above adapter, download the latest firmware from <a rel="nofollow" class="external free" href="https://github.com/kvalo/ath10k-firmware/tree/master/QCA6174/hw3.0">https://github.com/kvalo/ath10k-firmware/tree/master/QCA6174/hw3.0</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-07-30 ⓘ]</sup> and
</p>
<pre>$ cd /lib/firmware/ath10k/QCA6174/hw3.0
# cp firmware-6.bin firmware-6.bin.bak
# cp ~/Downloads/firmware-6.bin_RM.4.4.1.c3-00013-QCARMSWPZ-1 firmware-6.bin
</pre>
<p>Either <code>rmmod ath10k_core ath10k_pci &amp;&amp; modprobe ath10k_pci</code> (as the root user) (may not work, check <i>dmesg</i>) or reboot.
</p>
<h4><span class="mw-headline" id="ath10k-fixer">ath10k-fixer</span></h4>
<p>A possible workaround for some of the above issues is to reload the <code>ath10k_pci</code> kernel module when it crashes:
</p>
<pre># modprobe -r ath10k_pci &amp;&amp; modprobe ath10k_pci
</pre>
<p>This workaround is automated by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ath10k-fixer/">ath10k-fixer</a></span><sup><small>AUR</small></sup> daemon.
</p>
<h2><span class="mw-headline" id="Touchpad_and_Touchscreen">Touchpad and Touchscreen</span></h2>
<p>Wacom touchscreen and Synaptics touchpad:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xinput</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">⎡ Virtual core pointer                          id=2    [master pointer  (3)]
⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]
⎜   ↳ SYNA2393:00 06CB:7A13 Touchpad            id=16   [slave  pointer  (2)]
⎜   ↳ Wacom HID 488F Finger                     id=15   [slave  pointer  (2)]
⎣ Virtual core keyboard                         id=3    [master keyboard (2)]
[truncated]</pre>
<p>Both are i2c devices:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ udevadm info /dev/input/mouse3 # touchscreen</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">P: /devices/pci0000:00/0000:00:15.0/i2c_designware.0/i2c-10/i2c-WCOM488F:00/0018:056A:488F.0006/input/input47/mouse3
N: input/mouse3
L: 0
E: DEVPATH=/devices/pci0000:00/0000:00:15.0/i2c_designware.0/i2c-10/i2c-WCOM488F:00/0018:056A:488F.0006/input/input47/mouse3
E: DEVNAME=/dev/input/mouse3
E: MAJOR=13
E: MINOR=35
E: SUBSYSTEM=input
E: USEC_INITIALIZED=5501073
E: ID_INPUT=1
E: ID_INPUT_TOUCHSCREEN=1
E: ID_PATH=pci-0000:00:15.0-platform-i2c_designware.0
E: ID_PATH_TAG=pci-0000_00_15_0-platform-i2c_designware_0</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ udevadm info /dev/input/mouse6 # touchpad</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">P: /devices/pci0000:00/0000:00:15.1/i2c_designware.1/i2c-11/i2c-SYNA2393:00/0018:06CB:7A13.0007/input/input38/mouse6
N: input/mouse6
L: 0
S: input/by-path/pci-0000:00:15.1-platform-i2c_designware.1-mouse
E: DEVPATH=/devices/pci0000:00/0000:00:15.1/i2c_designware.1/i2c-11/i2c-SYNA2393:00/0018:06CB:7A13.0007/input/input38/mouse6
E: DEVNAME=/dev/input/mouse6
E: MAJOR=13
E: MINOR=38
E: SUBSYSTEM=input
E: USEC_INITIALIZED=4683741
E: ID_INPUT=1
E: ID_INPUT_TOUCHPAD=1
E: ID_SERIAL=noserial
E: ID_PATH=pci-0000:00:15.1-platform-i2c_designware.1
E: ID_PATH_TAG=pci-0000_00_15_1-platform-i2c_designware_1
E: DEVLINKS=/dev/input/by-path/pci-0000:00:15.1-platform-i2c_designware.1-mouse</pre>
<p>If you experience problems with the touch pad it might be worth disabling psmouse
</p>
<h2><span class="mw-headline" id="Thunderbolt_docks">Thunderbolt docks</span></h2>
<h3><span class="mw-headline" id="TB16">TB16</span></h3>
<p>TB16 works fine if either Thunderbolt security is disabled in the BIOS or using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bolt">bolt</a></span> to temporarily authorize or permanently enroll Thunderbolt devices with Thunderbolt security activated.  Various quirks are detailed on the <a href="../en/Dell_TB16.html" title="Dell TB16">Dell TB16</a> page.
</p>
<h3><span class="mw-headline" id="Caldigit_TS3_Plus">Caldigit TS3 Plus</span></h3>
<p>The TS3 Plus works fine if either Thunderbolt security is disabled in the BIOS or using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bolt">bolt</a></span> to temporarily authorize or permanently enroll Thunderbolt devices with Thunderbolt security activated. There is an issue where the USB ports will not work if unplugged and then plugged in again. This can be fixed by rebooting into the UEFI and using BIOS assisted enumeration (NOT native nor auto-switch), you may need to disable auto-switch, apply, then choose BIOS assisted, then apply again.
</p>
<h2><span class="mw-headline" id="Thermal_management">Thermal management</span></h2>
<p>Thermal design is poor in the 9570, primarily due to higher-end chips being used inside the original system design without compensating for extra heat. This impacts numerous areas:
</p>
<ol>
<li>
<b>Performance</b>: at higher temperatures, CPU cores are throttled down to avoid damage.  At best your system will not run as fast as it can, and at worst (and quite commonly), slower than cheaper chips and with sluggish performance.</li>
<li>
<b>Battery life</b> is unnecessarily decreased.</li>
<li>
<b>System longevity</b>: running at constantly high temperatures will negatively impact equipment lifetime.</li>
<li>
<b>User discomfort</b>: uncomfortable heat and uncomfortable fan noise.</li>
</ol>
<p>Fortunately these can all be improved significantly to get your system running powerfully and quietly.
</p>
<h3><span class="mw-headline" id="Diagnosis">Diagnosis</span></h3>
<p>You probably have a lot of <i>dmesg</i> output like this (for all CPUs), even with fairly light usage:
</p>
<pre>kernel: CPU8: Package temperature above threshold, cpu clock throttled (total events = 8451)
kernel: CPU8: Package temperature/speed normal
</pre>
<p>Use <a href="../en/Lm_sensors.html" title="Lm sensors">lm_sensors</a> and do some <a href="../en/Stress_testing.html" title="Stress testing">stress testing</a> (with <code>stress</code> and <code>mprime</code>) to see what is happening with CPU core temperatures and fanspeed under different loads.
</p>
<h3><span class="mw-headline" id="Undervolting">Undervolting</span></h3>
<p>See <a href="../en/Undervolting_CPU.html" title="Undervolting CPU">Undervolting CPU</a> on the wiki.  Reduces heat and extends battery life.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Versions 1.16.0 and newer of the BIOS interfere with undervolting. See <a rel="nofollow" class="external text" href="https://github.com/kitsunyan/intel-undervolt/issues/43">this issue</a> for more information and potential workarounds.</div>
<p>Possible configurations for <code>/etc/intel-undervolt.conf</code>:
</p>
<ol><li>i9-8950HK* (last updated 2019-03-30)</li></ol>
<pre>undervolt 0 'CPU' -140
undervolt 1 'GPU' -75
</pre>
<pre>* Tested extensively for moderate use.  Was not stress tested for &gt; 24 hours.  Anecdotal reports of up to -200.
</pre>
<p>This has a more minor impact than repasting but is significantly easier to do.
</p>
<h3>
<span id="Repasting_.26_padding"></span><span class="mw-headline" id="Repasting_&amp;_padding">Repasting &amp; padding</span>
</h3>
<p>Significant improvements are possible by replacing the thermal grease used by Dell with better options available from Amazon, and adding some extra thermal padding. This might sound overwhelming but is well worth the effort, especially for newer CPUs. If you cannot do this yourself consider finding a shop / technician who can do this for you. See the following article as the user comments below it for more info:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.ultrabookreview.com/14875-fix-throttling-xps-15/">UltraBookReview: How to Fix Throttling on the Dell XPS 15 9570 / 9560</a></li>
<li>
<a rel="nofollow" class="external text" href="https://photos.google.com/share/AF1QipMv5n4GppVgSUNEuU-Ie9VOHd0sAFAe5U57l7vsOKuAiPZpLeZn1tSBYpmrNzpFpw/photo/AF1QipPi-eGtEStq0uF4Shle0FE_OgbEDeeNtuF0KqLR?key=Y0pJUEtYTmp5SUhteGEtTGlZa0p3cVFVT2dyNmtB">Picture of 9570 VRMs</a> - from comments of the above article</li>
</ul>
<h3><span class="mw-headline" id="Results">Results</span></h3>
<p>According to the author of the UltraBookReview article above:
</p>
<dl><dd>Undervolting seems to reduce temps at max load by 7-10C, while repasting seems to reduce temps by between 4-10C depending on your original paste job and paste used.</dd></dl>
<p>From <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1839474#p1839474">this forum post</a>, much lower/softer fan speeds were needed to maintain the same temperatures, and temperature was a few degrees lower under similar loads. Fans were on less often and for less time when they were. Throttling was less prevalent and less severe.
</p>
<h2><span class="mw-headline" id="Fingerprint_reader">Fingerprint reader</span></h2>
<p>The fingerprint reader lacks Linux drivers.
</p>
<p>Goodix will not provide them directly as stated on their forum and frequently blames the responsibility on <a rel="nofollow" class="external text" href="https://developers.goodix.com/en/bbs/detail/1d331d41697e4fc6bd5beba55ecd24a6">device manufacturers</a>.
</p>
<p>Nonetheless Goodix stated (2020-04-30) that they are collaborating with Dell to <a rel="nofollow" class="external text" href="https://developers.goodix.com/en/bbs/detail/2cc68cdf9f824e28b247f626c4a9374b">provide the support for Linux in the second half of 2020</a> for the XPS 9570.
</p>
<p>There are also some people working on <a rel="nofollow" class="external text" href="https://github.com/IDerr/Goodix92">reverse engineering the driver</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Dell.html" title="Category:Dell">Dell</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dell_XPS_15_(9570)&amp;oldid=822596">https://wiki.archlinux.org/index.php?title=Dell_XPS_15_(9570)&amp;oldid=822596</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 9 December 2024, at 12:08.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
