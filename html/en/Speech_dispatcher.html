<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Speech dispatcher - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Speech_dispatcher rootpage-Speech_dispatcher skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Basic_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Basic_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Basic configuration</div>
			</a>
			
			<ul id="toc-Basic_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Festival_specific" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Festival_specific">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Festival specific</div>
			</a>
			
			<ul id="toc-Festival_specific-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Usage</div>
		</a>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Logs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Logs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Logs</div>
			</a>
			
			<ul id="toc-Logs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Spd-conf_tests" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Spd-conf_tests">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Spd-conf tests</div>
			</a>
			
			<ul id="toc-Spd-conf_tests-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Speech-dispatcher_fails_to_start" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Speech-dispatcher_fails_to_start">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Speech-dispatcher fails to start</div>
			</a>
			
			<ul id="toc-Speech-dispatcher_fails_to_start-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_TTS_causes_the_dummy_output_module_to_speak_an_error_message" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_TTS_causes_the_dummy_output_module_to_speak_an_error_message">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Using TTS causes the dummy output module to speak an error message</div>
			</a>
			
			<ul id="toc-Using_TTS_causes_the_dummy_output_module_to_speak_an_error_message-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Speech dispatcher</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Speech_dispatcher" title="Speech dispatcher – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Festival.html" title="Festival">Festival</a></li>
</ul>
</div>
<p>Speech Dispatcher is a device independent layer for speech synthesis that provides a common easy to use interface for both client applications (programs that want to speak) and for software synthesizers (programs actually able to convert text to speech). 
</p>
<p>It is a part of the Free(b)soft project, which is intended to allow blind and visually impaired people to work with computer and Internet based on free software.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=speech-dispatcher">speech-dispatcher</a></span> package. If you wish to allow <a href="../en/Festival.html" title="Festival">Festival</a> to interact with it then you should also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/festival-freebsoft-utils/">festival-freebsoft-utils</a></span><sup><small>AUR</small></sup> as well. 
</p>
<p><a rel="nofollow" class="external text" href="https://github.com/Elleo/pied">Pied</a> (which can be installed via <a href="../en/Flatpak.html" title="Flatpak">Flatpak</a>) uses <a rel="nofollow" class="external text" href="https://github.com/rhasspy/piper">Piper</a> (a neural text to speech system) as a speech dispatcher. Pied is a great alternative if Festival seems too robotic.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>The main configuration file is located at <code>/etc/speech-dispatcher/speechd.conf</code> however speech-dispatcher is usually run on a per user basis to allow for multiple users to have differing preferences. User configuration files are stored at <code>~/.config/speech-dispatcher/</code>. There is also support to allow different speech synthesis engine clients to have their own configurations too.
</p>
<p>Use the included <code>spd-conf</code> tool to change configuration options. By default it will run in interactive mode and ask you a series of questions in order to generate the type of file you require. It is recommended that you create a per user configuration unless you are absolutely sure you will be the only user. Altering the system configuration requires root permissions.
</p>
<h3><span class="mw-headline" id="Basic_configuration">Basic configuration</span></h3>
<p>To use interactive mode and answer questions about what you need run the following:
</p>
<pre>$ spd-conf
</pre>
<p>To create a per user configuration run the following:
</p>
<pre>$ spd-conf -uc
</pre>
<p>To edit the system wide configuration file run the following:
</p>
<pre># spd-conf -C
</pre>
<h3><span class="mw-headline" id="Festival_specific">Festival specific</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> From testing it appears as though this step is unnecessary, as long as Festival is running as a server speech-dispatcher seems to work without this edit. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Speech_dispatcher.html">Talk:Speech dispatcher</a>)</div>
</div>
<p>If you intend to use <a href="../en/Festival.html" title="Festival">Festival</a> as your speech synthesis engine then you should also do the following:
</p>
<pre>$ $EDITOR ~/.config/speech-dispatcher/speechd.conf
</pre>
<p>Find and uncomment (by removing the <code>#</code> from in front of it) the line:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/speech-dispatcher/speechd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
#AddModule "festival"
...</pre>
<p>Then save the file.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Using speech-dispatcher directly is not a common scenario as its intended to provide an access layer to other speech synthesis engines, that said you can interact with it directly by using the included <code>spd-say</code> binary as follows:
</p>
<pre>$ spd-say "Arch Linux is the best"
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Logs">Logs</span></h3>
<p>Speech-dispatcher writes very little to the system journal, however it does write useful information to its own logs.  You can find the location of these in the output of this command:
</p>
<pre>$ /usr/bin/speech-dispatcher -l 3
</pre>
<h3><span class="mw-headline" id="Spd-conf_tests">Spd-conf tests</span></h3>
<p><code>spd-conf</code> contains a routine to test the operation of speech-dispatcher, you can run it with the following command:
</p>
<pre>$ spd-conf -d
</pre>
<p>Or use the following to get a very verbose log dump:
</p>
<pre>$ spd-conf -D
</pre>
<p>Other tests are available, for example testing <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="Alsa">Alsa</a>, <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> and <a href="../en/Festival.html" title="Festival">Festival</a>, to see a full list of available options run the following:
</p>
<pre>$ spd-conf --help
</pre>
<p>Most of the available tests will run as part of the test routine.
</p>
<h3><span class="mw-headline" id="Speech-dispatcher_fails_to_start">Speech-dispatcher fails to start</span></h3>
<p>The tests above won't work if speech-dispatcher fails to start.  If you want more information than is in the logs you can attempt to start the server like this:
</p>
<pre>$ /usr/bin/speech-dispatcher -l 3
</pre>
<p>This will output information about the startup process to the terminal.
</p>
<h3><span class="mw-headline" id="Using_TTS_causes_the_dummy_output_module_to_speak_an_error_message">Using TTS causes the dummy output module to speak an error message</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Its probably possible to automate this using a systemd service file (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Speech_dispatcher.html">Talk:Speech dispatcher</a>)</div>
</div>
<p>This happens when speech dispatcher cannot connect to the speech synthesis engine. If you are using <a href="../en/Festival.html" title="Festival">Festival</a> then it needs to be running as a server, this can be achieved with the following command:
</p>
<pre>$ festival --server &amp;
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://htmlpreview.github.io/?https://github.com/brailcom/speechd/blob/master/doc/speech-dispatcher.html#toc-User_0027s-Documentation-1">Online project documentation</a></li>
<li>Project Homepage - <a rel="nofollow" class="external free" href="https://freebsoft.org/speechd">https://freebsoft.org/speechd</a>
</li>
<li>Project Github page - <a rel="nofollow" class="external free" href="https://github.com/brailcom/speechd">https://github.com/brailcom/speechd</a>
</li>
<li>Project documentation page (html source code) - <a rel="nofollow" class="external free" href="https://github.com/brailcom/speechd/blob/master/doc/speech-dispatcher.html">https://github.com/brailcom/speechd/blob/master/doc/speech-dispatcher.html</a>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Accessibility.html" title="Category:Accessibility">Accessibility</a></li>
<li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Speech_dispatcher&amp;oldid=810142">https://wiki.archlinux.org/index.php?title=Speech_dispatcher&amp;oldid=810142</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 8 June 2024, at 04:50.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
