<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Ampache - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ampache rootpage-Ampache skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Troubleshooting</div>
		</a>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Logging" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Logging">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Logging</div>
			</a>
			
			<ul id="toc-Logging-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Transcoding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Transcoding">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Transcoding</div>
			</a>
			
			<ul id="toc-Transcoding-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Downsampling" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Downsampling">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Downsampling</div>
			</a>
			
			<ul id="toc-Downsampling-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Using_with_Amarok" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Using_with_Amarok">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Using with Amarok</div>
		</a>
		
		<ul id="toc-Using_with_Amarok-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Ampache</span></h1>
				</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Be careful. This article can be outdated <b>since 3.8 release</b>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Ampache.html">Talk:Ampache</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://ampache.org/">Ampache</a> is a web based audio/video streaming application and file manager, written in <a href="../en/PHP.html" title="PHP">PHP</a> and using <a href="../en/MySQL.html" title="MySQL">MySQL</a> as its DBMS.
It allows you to view, edit, and play your audio files via the web. It has support for playlists, artist and album views, album art, random play, playback via Http/On the Fly Transcoding and Downsampling.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>You need three things to run Ampache. A webserver, <a href="../en/PHP.html" title="PHP">PHP</a> and <a href="../en/MySQL.html" title="MySQL">MySQL</a>. Please refer to the <a href="../en/Category:Web_applications.html" class="mw-redirect" title="LAMP">LAMP</a> article for more information.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> one Ampache package:
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ampache/">ampache</a></span><sup><small>AUR</small></sup> - Stable release</li></ul>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ampache-git/">ampache-git</a></span><sup><small>AUR</small></sup> - Development version</li></ul>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>PHP is installed as a dependency of Ampache. You need to edit the PHP configuration file <code>/etc/php/php.ini</code> in order to enable iconv support for ampache.
</p>
<p>Uncomment (remove the initial semi-colon from) the following line in the <code>php.ini</code> file:
</p>
<pre>extension=iconv
</pre>
<p>When Ampache is installed, point your browser to <a rel="nofollow" class="external text" href="http://localhost/ampache">http://localhost/ampache</a> (substitute the address of your Ampache server for localhost if you did not install it locally).
</p>
<p>If you encounter any problems here, use <a rel="nofollow" class="external free" href="http://localhost/ampache/test.php">http://localhost/ampache/test.php</a> to double check your configuration. 
</p>
<ul><li>On the first page choose your the installation language.</li></ul>
<ul><li>On the second page enter the following:
<ul>
<li>Desired Database Name - Choose a unique name then you will recognize when you edit your MySQL databases.</li>
<li>MySQL Hostname - localhost is fine.</li>
<li>MySQL Administrative Username - root is the default</li>
<li>MySQL Administrative Password - root's password.</li>
<li>Create Database User for New Database? - Yes.</li>
<li>Ampache Database Username - Same thing here, unique and recognizable.</li>
<li>Ampache Database User Password - Please note that this is only MySQL info, this is not your Ampache user account</li>
<li>Overwrite Existing</li>
<li>Use Existing Database</li>
</ul>
</li></ul>
<ul>
<li>On the third page you are going to edit the <code>ampache.cfg.php</code> file
<ul>
<li>Web Path - Your path to ampache.</li>
<li>Desired Database Name - Same as on the second page.</li>
<li>MySQL Hostname - localhost.</li>
<li>MySQL Username - Same as Ampache Database Username, or root if you did not create a database user.</li>
<li>MySQL Password - MySQL Username's password.</li>
</ul>
</li>
<li>Press write config</li>
<li>Move the <code>ampache.cfg.php</code> to the <code>ampache/config</code> directory.</li>
<li>Press check for config.</li>
</ul>
<ul><li>On the fourth page you are going to create an admin account. This step is self explanatory.
<ul>
<li>Username</li>
<li>Password</li>
<li>Confirm Password</li>
</ul>
</li></ul>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>If you are having problems adding catalogs, please check your permission settings. More catalog toubleshooting <a rel="nofollow" class="external text" href="https://github.com/ampache/ampache/wiki/Catalog#troubleshooting-a-catalog-build">here</a>.
</p>
<p>If you are still having problems check your Open basedir setting in php.ini. You can either comment out the open_basedir all together or add the directory in which your files reside. The second option is preferred. To comment out a line all you need to do is add a semicolon at the beginning of the line.
</p>
<pre>;open_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Logging">Logging</span></h3>
<p>Is something not working as intended? Let us get some logging going!
</p>
<p>There are five levels of logging in Ampache, 5 being the highest.
</p>
<p>To enable logging you just need to set the debug value to true and set debug_level to your desired level.
</p>
<pre>; Debug
; If this is enabled Ampache will get really chatty
; warning this can crash browser during catalog builds due to 
; the amount of text that is dumped out this will also cause 
; ampache to write to the log file
; DEFAULT: false
debug = "true"

; Debug Level
; This should always be set in conjunction with the
; debug option, it defines how prolific you want the
; debugging in ampache to be. values are 1-5. 
; 1 == Errors only
; 2 == Error + Failures (login attempts etc.)
; 3 == ??
; 4 == ?? (Profit!)
; 5 == Information (cataloging progress etc.)
; DEFAULT: 5
debug_level = 5</pre>
<p>Last thing you have to do is specify where you want the log to reside. Remember that the <code>http</code> user needs write permissons to the file.
</p>
<pre>; Path to Log File
; This defines where you want ampache to log events to
; this will only happen if debug is turned on. Do not
; include trailing slash. You will need to make sure that
; your HTTP server has write access to the specified directory
; DEFAULT: NULL
log_path = "/var/log/ampache"</pre>
<h3><span class="mw-headline" id="Transcoding">Transcoding</span></h3>
<p>If you want to use Ampache's on the fly transcoding you need the packages specified in <code>config/ampache.cfg</code>, the packages needed for transcoding the most common audio file formats are listed in Ampache stable's <i>.install</i> file. You also need to configure the specific lines in <code>ampache.cfg</code>.
</p>
<p>The following example enables M4A transcoding to MP3.
</p>
<p>Please note that you need both lame, used for all audio file formats, and faad, m4a specific, installed.
</p>
<pre>; List of filetypes to transcode
transcode_m4a           = true
transcode_m4a_target    = mp3 

; These are the commands that will be run to transcode the file
transcode_cmd_m4a       = "faad -f 2 -w %FILE% | lame -r -b %SAMPLE% -S - -"
</pre>
<h3><span class="mw-headline" id="Downsampling">Downsampling</span></h3>
<p>Downsampling requires the same packages as transcoding so follow the steps above for each audio file format you need. The example above enables downsampling of m4a files.
</p>
<p>You also need to uncomment and specify the minimum and maximum bitrate you prefer.
</p>
<pre>max_bit_rate = 576

min_bit_rate = 48</pre>
<h2><span class="mw-headline" id="Using_with_Amarok">Using with Amarok</span></h2>
<ul><li><a rel="nofollow" class="external free" href="https://userbase.kde.org/Amarok/Manual/Organization/Collection/RemoteCollections/Ampache">https://userbase.kde.org/Amarok/Manual/Organization/Collection/RemoteCollections/Ampache</a></li></ul>
<p>Using the Ampache web interface, we need to allow API access to Ampache from our local network. To do this go to the Admin tab and then click on Show Acls. Find Add API / RPC Host and click on it. 
Name your ACL Entry, ("My Network" for ex). If you want API + Streaming + Web Interface access pick RPC + All under type. 
</p>
<p>In Amarok, go to <i>Settings &gt; Services</i>. Make sure the Ampache Service is enabled and then click <i>Settings</i> button on Ampache plugin. 
</p>
<ul>
<li>Name : This is an internal name for Amarok, up to you.</li>
<li>Server : This is the fully qualified address for your Ampache server including the http://.</li>
<li>Username : This is your username to the Ampache web interface.</li>
<li>Password : This is your password to the Ampache web interface</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a rel="nofollow" class="external free" href="https://github.com/ampache/ampache/">https://github.com/ampache/ampache/</a> - Official site
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Media_servers.html" title="Category:Media servers">Media servers</a></li>
<li><a href="../en/Category:Web_applications.html" title="Category:Web applications">Web applications</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Ampache&amp;oldid=691339">https://wiki.archlinux.org/index.php?title=Ampache&amp;oldid=691339</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 9 August 2021, at 06:35.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
