<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Laptop Mode Tools - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Laptop_Mode_Tools rootpage-Laptop_Mode_Tools skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Hard_disks" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hard_disks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Hard disks</div>
			</a>
			
			<ul id="toc-Hard_disks-sublist" class="vector-toc-list">
				<li id="toc-Solid_state_drives" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Solid_state_drives">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Solid state drives</div>
			</a>
			
			<ul id="toc-Solid_state_drives-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-CPU_frequency" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#CPU_frequency">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>CPU frequency</div>
			</a>
			
			<ul id="toc-CPU_frequency-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Device_and_bus" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Device_and_bus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Device and bus</div>
			</a>
			
			<ul id="toc-Device_and_bus-sublist" class="vector-toc-list">
				<li id="toc-Intel_SATA" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Intel_SATA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Intel SATA</div>
			</a>
			
			<ul id="toc-Intel_SATA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-USB_autosuspend" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#USB_autosuspend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>USB autosuspend</div>
			</a>
			
			<ul id="toc-USB_autosuspend-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Display_and_graphics" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Display_and_graphics">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Display and graphics</div>
			</a>
			
			<ul id="toc-Display_and_graphics-sublist" class="vector-toc-list">
				<li id="toc-LCD_brightness" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LCD_brightness">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>LCD brightness</div>
			</a>
			
			<ul id="toc-LCD_brightness-sublist" class="vector-toc-list">
				<li id="toc-ThinkPad_T40/T42" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#ThinkPad_T40/T42">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.1</span>ThinkPad T40/T42</div>
			</a>
			
			<ul id="toc-ThinkPad_T40/T42-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ThinkPad_T60" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#ThinkPad_T60">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.2</span>ThinkPad T60</div>
			</a>
			
			<ul id="toc-ThinkPad_T60-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Asus_Laptops" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Asus_Laptops">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.3</span>Asus Laptops</div>
			</a>
			
			<ul id="toc-Asus_Laptops-sublist" class="vector-toc-list">
				<li id="toc-LCD" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#LCD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.3.1</span>LCD</div>
			</a>
			
			<ul id="toc-LCD-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Keyboard_backlight" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Keyboard_backlight">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1.3.2</span>Keyboard backlight</div>
			</a>
			
			<ul id="toc-Keyboard_backlight-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Terminal_blanking" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Terminal_blanking">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.2</span>Terminal blanking</div>
			</a>
			
			<ul id="toc-Terminal_blanking-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Networking" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Networking">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Networking</div>
			</a>
			
			<ul id="toc-Networking-sublist" class="vector-toc-list">
				<li id="toc-Ethernet" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ethernet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.1</span>Ethernet</div>
			</a>
			
			<ul id="toc-Ethernet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Wireless_LAN" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wireless_LAN">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.2</span>Wireless LAN</div>
			</a>
			
			<ul id="toc-Wireless_LAN-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Audio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Audio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>Audio</div>
			</a>
			
			<ul id="toc-Audio-sublist" class="vector-toc-list">
				<li id="toc-AC97" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#AC97">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6.1</span>AC97</div>
			</a>
			
			<ul id="toc-AC97-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Intel_HDA" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Intel_HDA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6.2</span>Intel HDA</div>
			</a>
			
			<ul id="toc-Intel_HDA-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Laptop-mode-tools_is_not_picking_up_events" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Laptop-mode-tools_is_not_picking_up_events">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Laptop-mode-tools is not picking up events</div>
			</a>
			
			<ul id="toc-Laptop-mode-tools_is_not_picking_up_events-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-USB_Mouse_sleeping_after_5_seconds_when_on_battery" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#USB_Mouse_sleeping_after_5_seconds_when_on_battery">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>USB Mouse sleeping after 5 seconds when on battery</div>
			</a>
			
			<ul id="toc-USB_Mouse_sleeping_after_5_seconds_when_on_battery-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Issues_with_NVIDIA_driver" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Issues_with_NVIDIA_driver">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Issues with NVIDIA driver</div>
			</a>
			
			<ul id="toc-Issues_with_NVIDIA_driver-sublist" class="vector-toc-list">
				<li id="toc-KDE_shows_black_screen" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#KDE_shows_black_screen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>KDE shows black screen</div>
			</a>
			
			<ul id="toc-KDE_shows_black_screen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Slower_Boot_after_enabling_laptop-mode.service" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Slower_Boot_after_enabling_laptop-mode.service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Slower Boot after enabling laptop-mode.service</div>
			</a>
			
			<ul id="toc-Slower_Boot_after_enabling_laptop-mode.service-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Laptop Mode Tools</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Laptop_Mode_Tools" title="Laptop Mode Tools – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Laptop_Mode_Tools.html" title="Laptop Mode Tools – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Laptop_Mode_Tools" title="Laptop Mode Tools – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Laptop_Mode_Tools.html" title="Laptop Mode Tools – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Laptop_Mode_Tools" title="Laptop Mode Tools – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Acpid.html" title="Acpid">acpid</a></li>
<li><a href="../en/Systemd.html" title="Systemd">systemd</a></li>
<li><a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a></li>
<li><a href="../en/Laptop.html" title="Laptop">Laptop</a></li>
<li><a href="../en/Powertop.html" title="Powertop">Powertop</a></li>
<li><a href="../en/TLP.html" title="TLP">TLP</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/rickysarraf/laptop-mode-tools">Laptop Mode Tools</a> is a laptop power saving package for Linux systems. It is the primary way to enable the Laptop Mode feature of the Linux kernel, which lets your hard drive spin down. In addition, it allows you to tweak a number of other power-related settings using a simple configuration file.
</p>
<p>Combined with <a href="../en/Acpid.html" title="Acpid">acpid</a> and <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a>, LMT provides most users with a complete notebook power management suite.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/laptop-mode-tools/">laptop-mode-tools</a></span><sup><small>AUR</small></sup> package or the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/laptop-mode-tools-git/">laptop-mode-tools-git</a></span><sup><small>AUR</small></sup> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Configuration is handled through:
</p>
<ul>
<li>
<code>/etc/laptop-mode/laptop-mode.conf</code> - primary configuration file.</li>
<li>
<code>/etc/laptop-mode/conf.d/*</code> - dozens of feature-specific "modules".</li>
</ul>
<p>Each module can be explicitly <code>enabled</code>, <code>disabled</code>, or set to <code>auto</code> by changing the <code>CONTROL_*</code> argument of any file in <code>conf.d/</code>.  LMT will attempt enable any modules where <code>CONTROL_*</code> is set to <code>auto</code> if <code>ENABLE_AUTO_MODULES</code> is set in <code>/etc/laptop-mode/laptop-mode.conf</code>.  There are two exceptions to the above rule: <code>auto-hibernate.conf</code> and <code>battery-level-polling.conf</code> use an <code>ENABLE_*</code> variable instead of <code>CONTROL_*</code>.
</p>
<p>To quickly check which modules are enabled, disabled or auto, run:
</p>
<pre>$ grep -r '^\(CONTROL\|ENABLE\)_' /etc/laptop-mode/conf.d
</pre>
<p>Finally, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>laptop-mode.service</code>.
</p>
<h3><span class="mw-headline" id="Hard_disks">Hard disks</span></h3>
<p>For this you need to have <i>hdparm</i> and/or <i>sdparm</i> installed. See <a href="../en/Hdparm.html" title="Hdparm">Hdparm</a>.
</p>
<p>Spinning down the hard drive through <code>hdparm -S</code> values saves power and makes everything a lot more quiet. LMT can also establish <code>hdparm -B</code> values. The maximum hard drive power saving is 1 and the minimum is 254. For example, set this value to 254 when on AC and 20 when on battery. If you find that normal activity hangs often while waiting for the disk to spin up, it might be a good idea to set it to a higher value (e.g. 128) which will make it spin down less often. <code>hdparm -S</code> and <code>hdparm -B</code> values are configured in <code>/etc/laptop-mode/laptop-mode.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Spinning down a hard drive too frequently can shorten its lifespan. Take care when choosing a proper value.</div>
<p>With the <code>CONTROL_MOUNT_OPTIONS</code> variable (default on), laptop-mode-tools automatically remounts your partitions, appending <code>commit=600,noatime</code> in the mount options. This keeps the journaling program jbd2 from accessing your disk every few seconds, instead the disk journal gets updated every 10 minutes.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> With this setting you could lose up to 10 minutes of work. Also be sure not to use the <code>atime</code> mount option. Use <code>noatime</code> or <code>relatime</code> instead.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>CONTROL_MOUNT_OPTIONS</code> should not be turned on with nilfs2 partitions. Refer to this thread on the forum: <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=134656">https://bbs.archlinux.org/viewtopic.php?id=134656</a>
</div>
<h4><span class="mw-headline" id="Solid_state_drives">Solid state drives</span></h4>
<p>From the <a rel="nofollow" class="external text" href="https://github.com/rickysarraf/laptop-mode-tools/wiki/FAQ#i-have-a-solid-state-disk-ssd-in-my-machine-should-i-enable-any-of-the-disk-related-parts-of-laptop-mode-tools-or-are-they-irrelevant">official, upstream FAQ</a>:
</p>
<p><b>Question:</b> I have a solid-state disk (SSD) in my machine. Should I enable any of the disk-related parts of laptop-mode-tools, or are they irrelevant?
</p>
<p><b>Answer:</b> They may be relevant, because (a) laptop mode will reduce the number of writes, which improves the lifetime of an SSD, and (b) laptop mode makes writes bursty, which enables power saving mechanisms like ALPM to kick in. However, your mileage may vary depending on the specific hardware involved. For some hardware, you will get no gain at all, for some the gain may be substantial.
</p>
<h3><span class="mw-headline" id="CPU_frequency">CPU frequency</span></h3>
<p>For this you need to have a CPU frequency driver installed. See <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a>.
</p>
<pre># cpufreq.conf
# ThinkPad T40/T42/T60 Example
#
CONTROL_CPU_FREQUENCY=1
BATT_CPU_MAXFREQ=fastest
BATT_CPU_MINFREQ=slowest
BATT_CPU_GOVERNOR=ondemand
BATT_CPU_IGNORE_NICE_LOAD=1
LM_AC_CPU_MAXFREQ=fastest
LM_AC_CPU_MINFREQ=slowest
LM_AC_CPU_GOVERNOR=ondemand
LM_AC_CPU_IGNORE_NICE_LOAD=1
NOLM_AC_CPU_MAXFREQ=fastest
NOLM_AC_CPU_MINFREQ=slowest
NOLM_AC_CPU_GOVERNOR=ondemand
NOLM_AC_CPU_IGNORE_NICE_LOAD=0
CONTROL_CPU_THROTTLING=0
</pre>
<h3><span class="mw-headline" id="Device_and_bus">Device and bus</span></h3>
<h4><span class="mw-headline" id="Intel_SATA">Intel SATA</span></h4>
<p>Enable the Intel SATA AHCI controller Aggressive Link Power Management feature to set the disk link into a very low power mode in the absence of disk IO.
</p>
<pre># intel-sata-powermgmt.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_INTEL_SATA_POWER=1
BATT_ACTIVATE_SATA_POWER=1
LM_AC_ACTIVATE_SATA_POWER=1
NOLM_AC_ACTIVATE_SATA_POWER=0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Review the well-documented <code>/etc/laptop-mode/conf.d/intel-sata-powermgmt.conf</code> file for additional configuration details.</div>
<h4><span class="mw-headline" id="USB_autosuspend">USB autosuspend</span></h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> USB autosuspend functionality has been moved from the <i>usb-autosuspend</i> module to the <i>runtime-pm</i> module. Make sure to replace usb-autosuspend with runtime-pm on /lib/udev/rules.d/99-laptop-mode.rules.</div>
<pre># runtime-pm.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_RUNTIME_AUTOSUSPEND=1
BATT_SUSPEND_RUNTIME=1
LM_AC_SUSPEND_RUNTIME=1
NOLM_AC_SUSPEND_RUNTIME=1
AUTOSUSPEND_TIMEOUT=2
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Review the <code>/etc/laptop-mode/conf.d/runtime-pm.conf</code> file for additional configuration details. If you have an USB tool you always use (like an USB mouse), blacklisting them would stop them from suspending.</div>
<h3><span class="mw-headline" id="Display_and_graphics">Display and graphics</span></h3>
<h4><span class="mw-headline" id="LCD_brightness">LCD brightness</span></h4>
<p>Available brightness values for certain laptops can be obtained by running following command:
</p>
<pre>$ cat /proc/acpi/video/VID/LCD/brightness
</pre>
<h5>
<span id="ThinkPad_T40.2FT42"></span><span class="mw-headline" id="ThinkPad_T40/T42">ThinkPad T40/T42</span>
</h5>
<p>For <a href="https://en.wikipedia.org/wiki/ThinkPad" class="extiw" title="wikipedia:ThinkPad">ThinkPad</a> T40/T42 notebooks, minimum and maximum brightness values can be obtained by running:
</p>
<pre>$ cat /sys/class/backlight/acpi_video0/brightness
$ cat /sys/class/backlight/acpi_video0/max_brightness
</pre>
<pre># lcd-brightness.conf
# ThinkPad T40/T42 Example
#
DEBUG=0
CONTROL_BRIGHTNESS=1
BATT_BRIGHTNESS_COMMAND="echo 0"
LM_AC_BRIGHTNESS_COMMAND="echo 7"
NOLM_AC_BRIGHTNESS_COMMAND="echo 7"
BRIGHTNESS_OUTPUT="/sys/class/backlight/thinkpad_screen/brightness"
</pre>
<h5><span class="mw-headline" id="ThinkPad_T60">ThinkPad T60</span></h5>
<p>For <a href="https://en.wikipedia.org/wiki/ThinkPad" class="extiw" title="wikipedia:ThinkPad">ThinkPad</a> T60 notebooks, minimum and maximum brightness values can be obtained by running:
</p>
<pre>$ cat /sys/class/backlight/thinkpad_screen/max_brightness
$ cat /sys/class/backlight/thinkpad_screen/brightness
</pre>
<pre># lcd-brightness.conf
# ThinkPad T60 Example
#
DEBUG=0
CONTROL_BRIGHTNESS=1
BATT_BRIGHTNESS_COMMAND="echo 0"
LM_AC_BRIGHTNESS_COMMAND="echo 7"
NOLM_AC_BRIGHTNESS_COMMAND="echo 7"
BRIGHTNESS_OUTPUT="/sys/class/backlight/acpi_video0/brightness"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Review the well-documented <code>/etc/laptop-mode/conf.d/lcd-brightness.conf</code> file for additional configuration details.</div>
<h5><span class="mw-headline" id="Asus_Laptops">Asus Laptops</span></h5>
<h6><span class="mw-headline" id="LCD">LCD</span></h6>
<p>For most (probably all) Asus ROG &amp; TUF notebooks with Intel CPUs, a maximum brightness value can be obtained by running:
</p>
<pre># cat /sys/class/backlight/intel_backlight/max_brightness
</pre>
<pre># lcd-brightness.conf
# Asus TUF Dash F15 2022 Example
#
DEBUG=0
CONTROL_BRIGHTNESS=1
BATT_BRIGHTNESS_COMMAND="echo 32000"
LM_AC_BRIGHTNESS_COMMAND="echo 96000"
NOLM_AC_BRIGHTNESS_COMMAND="echo 96000"
BRIGHTNESS_OUTPUT="/sys/class/backlight/intel_backlight/brightness"
</pre>
<h6><span class="mw-headline" id="Keyboard_backlight">Keyboard backlight</span></h6>
<p>Asus notebooks talk to the kernel though an Asus specific module and as such standard keyboard brightness commands will not work. A maximum brightness levels can be obtained by running:
</p>
<pre># cat /sys/class/leds/asus::kbd_backlight/max_brightness
</pre>
<pre># kbd-backlight.conf
# Asus TUF Dash F15 2022 Example
#
DEBUG=0
CONTROL_BRIGHTNESS=1
BATT_BRIGHTNESS_COMMAND="echo 1"
LM_AC_BRIGHTNESS_COMMAND="echo 3"
NOLM_AC_BRIGHTNESS_COMMAND="echo 3"
BRIGHTNESS_OUTPUT="/sys/class/leds/asus::kbd_backlight/max_brightness"
</pre>
<h4><span class="mw-headline" id="Terminal_blanking">Terminal blanking</span></h4>
<pre># terminal-blanking.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_TERMINAL=1
TERMINALS="/dev/tty1"
BATT_TERMINAL_BLANK_MINUTES=1
BATT_TERMINAL_POWERDOWN_MINUTES=2
LM_AC_TERMINAL_BLANK_MINUTES=10
LM_AC_TERMINAL_POWERDOWN_MINUTES=10
NOLM_AC_TERMINAL_BLANK_MINUTES=10
NOLM_AC_TERMINAL_POWERDOWN_MINUTES=10
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Review the well-documented <code>/etc/laptop-mode/conf.d/terminal-blanking.conf</code> file for additional configuration details.</div>
<h3><span class="mw-headline" id="Networking">Networking</span></h3>
<h4><span class="mw-headline" id="Ethernet">Ethernet</span></h4>
<pre># ethernet.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_ETHERNET=1
LM_AC_THROTTLE_ETHERNET=0
NOLM_AC_THROTTLE_ETHERNET=0
DISABLE_WAKEUP_ON_LAN=1
DISABLE_ETHERNET_ON_BATTERY=1
ETHERNET_DEVICES="eth0"
</pre>
<h4><span class="mw-headline" id="Wireless_LAN">Wireless LAN</span></h4>
<p>Wireless interface power management settings are hardware-dependent, and thus a bit trickier to configure. Depending on the wireless chipset, the settings are managed in one of the following three files:
</p>
<ol>
<li>
<code>/etc/laptop-mode/conf.d/wireless-power.conf</code> for a generic method of saving power (using "iwconfig wlan0 power on/off"). This applies to most chipsets (that is, anything but Intel chipsets listed below).</li>
<li>
<code>/etc/laptop-mode/conf.d/wireless-ipw-power.conf</code> for Intel chipsets driven by the old ipw driver. This apply to IPW3945, IPW2200 and IPW2100. It currently (as of LMT 1.55-1) uses iwpriv for IPW3945, and a combination of iwconfig and iwpriv settings for IPW2100 and IPW220. See <code>/usr/share/laptop-mode-tools/modules/wireless-ipw-power</code> for details. (note that the ipw3945 is not used anymore, see below)</li>
<li>
<code>/etc/laptop-mode/conf.d/wireless-iwl-power.conf</code> for Intel chipsets driven by modules iwl4965, iwl3945 and iwlagn (this latter supports chipsets 4965, 5100, 5300, 5350, 5150, 1000, and 6000)</li>
</ol>
<p>Note that activating the three of them should not be much of a problem, since LMT detects the module used by the interface and acts accordingly.
</p>
<p>The supported modules for each configuration file, indicated above, are taken directly from LMT. However, this seems to be a bit out-of-date, since the current 2.6.34 kernel does not provide the ipw3945 and iwl4965 modules anymore (3945 chipset uses iwl3945 instead, and 4965 uses the generic module iwlagn). This is only brought here for information, as this does not (or should not) affect the way LMT works.
</p>
<p>There is a known issue with some chipsets running with the iwlagn module (namely, the 5300 chipset, and maybe others). On those chipsets, the following settings of <code>/etc/laptop-mode/conf.d/wireless-iwl-power.conf</code>:
</p>
<pre>IWL_AC_POWER
IWL_BATT_POWER
</pre>
<p>are ignored, because the <code>/sys/class/net/wlan*/device/power_level</code> file does not exist. Instead, the standard method (with <code>iwconfig wlan0 power on/off</code>) is automatically used.
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<h4><span class="mw-headline" id="AC97">AC97</span></h4>
<pre># ac97-powersave.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_AC97_POWER=1
</pre>
<h4><span class="mw-headline" id="Intel_HDA">Intel HDA</span></h4>
<pre># intel-hda-powersave.conf
# ThinkPad T40/T42/T60 Example
#
DEBUG=0
CONTROL_INTEL_HDA_POWER=1
BATT_INTEL_HDA_POWERSAVE=1
LM_AC_INTEL_HDA_POWERSAVE=1
NOLM_AC_INTEL_HDA_POWERSAVE=0
INTEL_HDA_DEVICE_TIMEOUT=10
INTEL_HDA_DEVICE_CONTROLLER=0
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Laptop-mode-tools_is_not_picking_up_events">Laptop-mode-tools is not picking up events</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpid">acpid</a></span> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>acpid.service</code>.
</p>
<p>If that does not help, go through the laptop-mode configuration files and make sure that the service you want to enable is set to 1. Many services (including cpufreq control) are by default set to "auto", which may not enable them.
</p>
<p>Issues with bluetooth not working when booting up with battery are fixed with disabling runtime-pm.
</p>
<h3><span class="mw-headline" id="USB_Mouse_sleeping_after_5_seconds_when_on_battery">USB Mouse sleeping after 5 seconds when on battery</span></h3>
<p>First find the ID of you device (it should look like <code>046d:c534</code>):
</p>
<pre>$ lsusb
</pre>
<p>Put this value into the <code>AUTOSUSPEND_DEVID_BLACKLIST</code> variable in <code>/etc/laptop-mode/conf.d/runtime-pm.conf</code>, for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/laptop-mode/conf.d/runtime-pm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
AUTOSUSPEND_DEVID_BLACKLIST="046d:c534"
...</pre>
<p>Multiple IDs can be seperated with spaces.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Do not forget to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>laptop-mode.service</code>. You might also need to reconnect the USB device.</div>
<h3><span class="mw-headline" id="Issues_with_NVIDIA_driver">Issues with NVIDIA driver</span></h3>
<h4><span class="mw-headline" id="KDE_shows_black_screen">KDE shows black screen</span></h4>
<p>When laptop mode is enabled, KDE fails to start. The reason is that the default KDE display manager (SDDM) starts before the NVIDIA driver. To prevent this from happening you need to remove the <code>nomodeset</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<h4><span class="mw-headline" id="Slower_Boot_after_enabling_laptop-mode.service">Slower Boot after enabling laptop-mode.service</span></h4>
<p>As described before, laptop-mode-tools affects the NVIDIA driver. Adding the <code>nvidia-drm.modeset=1</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> reduces boot time dramatically.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/rickysarraf/laptop-mode-tools/wiki">Laptop Mode Tools wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/rickysarraf/laptop-mode-tools/wiki/FAQ">FAQ</a></li>
<li><a rel="nofollow" class="external text" href="https://groups.google.com/forum/#!forum/laptop-mode-tools">Mailing List</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Laptops.html" title="Category:Laptops">Laptops</a></li>
<li><a href="../en/Category:Power_management.html" title="Category:Power management">Power management</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Laptop_Mode_Tools&amp;oldid=775677">https://wiki.archlinux.org/index.php?title=Laptop_Mode_Tools&amp;oldid=775677</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 April 2023, at 16:58.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
