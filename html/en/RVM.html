<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>RVM - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-RVM rootpage-RVM skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Pre-requisites" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pre-requisites">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Pre-requisites</div>
			</a>
			
			<ul id="toc-Pre-requisites-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Single-user_installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Single-user_installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Single-user installation</div>
			</a>
			
			<ul id="toc-Single-user_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Multi-user_installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multi-user_installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Multi-user installation</div>
			</a>
			
			<ul id="toc-Multi-user_installation-sublist" class="vector-toc-list">
				<li id="toc-A_cautionary_action" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#A_cautionary_action">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1</span>A cautionary action</div>
			</a>
			
			<ul id="toc-A_cautionary_action-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Post_Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Post_Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Post Installation</div>
		</a>
		
			<button aria-controls="toc-Post_Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Post Installation subsection</span>
			</button>
		
		<ul id="toc-Post_Installation-sublist" class="vector-toc-list">
			<li id="toc-Some_extras" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Some_extras">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Some extras</div>
			</a>
			
			<ul id="toc-Some_extras-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Using_RVM" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Using_RVM">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Using RVM</div>
		</a>
		
			<button aria-controls="toc-Using_RVM-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Using RVM subsection</span>
			</button>
		
		<ul id="toc-Using_RVM-sublist" class="vector-toc-list">
			<li id="toc-Rubies" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rubies">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Rubies</div>
			</a>
			
			<ul id="toc-Rubies-sublist" class="vector-toc-list">
				<li id="toc-Installing_environments" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Installing_environments">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Installing environments</div>
			</a>
			
			<ul id="toc-Installing_environments-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Switching_environments" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Switching_environments">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>Switching environments</div>
			</a>
			
			<ul id="toc-Switching_environments-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-System_ruby" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#System_ruby">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>System ruby</div>
			</a>
			
			<ul id="toc-System_ruby-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Listing_environments" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Listing_environments">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.4</span>Listing environments</div>
			</a>
			
			<ul id="toc-Listing_environments-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gemsets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gemsets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Gemsets</div>
			</a>
			
			<ul id="toc-Gemsets-sublist" class="vector-toc-list">
				<li id="toc-Creating" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Creating">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Creating</div>
			</a>
			
			<ul id="toc-Creating-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Using</div>
			</a>
			
			<ul id="toc-Using-sublist" class="vector-toc-list">
				<li id="toc-Notes" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Notes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2.1</span>Notes</div>
			</a>
			
			<ul id="toc-Notes-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gems" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Gems">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3</span>Gems</div>
			</a>
			
			<ul id="toc-Gems-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Listing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Listing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.4</span>Listing</div>
			</a>
			
			<ul id="toc-Listing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Deleting" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Deleting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.5</span>Deleting</div>
			</a>
			
			<ul id="toc-Deleting-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Emptying" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Emptying">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.6</span>Emptying</div>
			</a>
			
			<ul id="toc-Emptying-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-RVM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#RVM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>RVM</div>
			</a>
			
			<ul id="toc-RVM-sublist" class="vector-toc-list">
				<li id="toc-Updating" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Updating">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Updating</div>
			</a>
			
			<ul id="toc-Updating-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Uninstalling" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Uninstalling">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Uninstalling</div>
			</a>
			
			<ul id="toc-Uninstalling-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Further_reading" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Further_reading">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Further reading</div>
			</a>
			
			<ul id="toc-Further_reading-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id='toc-"data_definition_has_no_type_or_storage_class"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#"data_definition_has_no_type_or_storage_class"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>"data definition has no type or storage class"</div>
			</a>
			
			<ul id='toc-"data_definition_has_no_type_or_storage_class"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-RVM_uses_wrong_OpenSSL_version" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#RVM_uses_wrong_OpenSSL_version">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>RVM uses wrong OpenSSL version</div>
			</a>
			
			<ul id="toc-RVM_uses_wrong_OpenSSL_version-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_Also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_Also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See Also</div>
		</a>
		
		<ul id="toc-See_Also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">RVM</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/RVM" title="RVM – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/RVM" title="RVM – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Rbenv.html" title="Rbenv">Rbenv</a></li>
<li><a href="../en/Ruby.html#Multiple_versions" class="mw-redirect" title="Chruby">Chruby</a></li>
<li><a href="../en/Ruby.html" title="Ruby">Ruby</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Bad style. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:RVM.html">Talk:RVM</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://rvm.io/">RVM</a> (Ruby enVironment Manager) is a command line tool which allows us to easily install, manage and work with multiple <a href="../en/Ruby.html" title="Ruby">Ruby</a> environments from interpreters to sets of gems.
</p>
<p>There exists a similar application that you may also want to consider: <a href="../en/Rbenv.html" title="Rbenv">rbenv</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The install process is very easy. You have two choices, one system-wide, another as a user. The first is for production servers, or if you are alone on your machine, you will need root privileges. The second is recommended for multiple users on the same machine (like a development test box). If you do not know which to choose then start with a single user installation.
</p>
<p>The upstream instructions for installing RVM should just work. The install script is aware enough to tell you what packages you need to install on Arch Linux to make different rubies work. This usually involves gcc and some other stuff needed to compile ruby.
</p>
<p>As an observation, <b>installing RVM with gem is not recommended anymore</b>. This article uses the <a rel="nofollow" class="external text" href="https://rvm.io/rvm/install/">recommended documentation</a> with minor tweaks to make it work on Arch Linux.
</p>
<h3><span class="mw-headline" id="Pre-requisites">Pre-requisites</span></h3>
<p>Before starting, you will need to <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the following packages <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base-devel">base-devel</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tar">tar</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gzip">gzip</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=diffutils">diffutils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=git">git</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curl">curl</a></span> if not installed yet.
</p>
<h3><span class="mw-headline" id="Single-user_installation">Single-user installation</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will install to your home directory only (<code>~/.rvm</code>), and will not touch the standard Arch ruby package, which is in <code>/usr</code>.</div>
<p>For most purposes, the recommended installation method is single-user, which is a self-contained RVM installation in a user's home directory.
</p>
<p>Use the script that rvm docs recommends to install. Make sure to run this script as the user for whom you want RVM installed (i.e. your normal user that you use for development).
</p>
<p>To check the script before running it, do:
</p>
<pre>$ curl -L get.rvm.io &gt; rvm-install
</pre>
<p>Inspect the file, and then run it with:
</p>
<pre>$ bash &lt; ./rvm-install
</pre>
<p>Now, close out your current shell or terminal session and open a new one to set up your PATH and the rvm function. You may attempt reloading your <code>~/.bash_profile</code> with the following command:
</p>
<pre>$ source ~/.bash_profile
</pre>
<p>However, closing out your current shell or terminal and opening a new one is the preferred way for initial installations.
</p>
<h3><span class="mw-headline" id="Multi-user_installation">Multi-user installation</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will install to <code>/usr/local/rvm</code>, and will not touch the standard Arch ruby package, which is in <code>/usr</code>. </div>
<p>System-wide installation is a similar procedure to the single user install. However, instead run the install script with sudo. <b>Do not run the installer directly as root!</b>
</p>
<pre>$ sudo bash -s stable
</pre>
<p>(to install a specific version replace <i>stable</i> with, for example, <i>-- --version 1.13.0</i>)
</p>
<p>After the script has finished, add yourself and your users to the 'rvm' group. (The installer does not auto-add any users to the rvm group. Admins must do this.) For each one, repeat:
</p>
<pre># usermod -a -G rvm &lt;user&gt;
</pre>
<p><b>Group memberships are only evaluated at login time</b>. Log the users out, then back in. You too: close out your current shell or terminal session and open a new one. You may attempt reloading your <code>~/.bash_profile</code> with the following command:
</p>
<pre>$ source ~/.bash_profile
</pre>
<p>However, closing out your current shell or terminal and opening a new one is the preferred way for initial installations. Alternatively, you can use the <code>newgrp rvm</code> command and check with <code>id</code> to see whether the shell has picked up the new group membership of your user
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Remember to change the line <code>[[ -s $HOME/.rvm/scripts/rvm ]] &amp;&amp; source $HOME/.rvm/scripts/rvm</code> to the system-wide location changing <code>$HOME</code> to <code>/usr/local/</code>
</div>
<p>RVM will be automatically configured for every user on the system (in opposite to the single-user installation); this is accomplished by loading <code>/etc/profile.d/rvm.sh</code> on login. Arch Linux defaults to parsing <code>/etc/profile</code> which contains the logic to load all files residing in the <code>/etc/profile.d/</code> directory.
</p>
<p>Before installing gems with multi-user rvm, make sure that <code>/etc/gemrc</code> does not have the line <code>gem: --user-install</code>. If it does you need to comment it out otherwise the gems will install to the wrong place.
</p>
<p><b>Only use the sudo command during the install process</b>. In multi-user configurations, any operations which require sudo access must use the <i>rvmsudo</i> command which preserves the RVM environment and passes this on to sudo. There are very few cases where rvmsudo is required once the core install is completed, except for when updating RVM itself. There is never a reason to use sudo post-install. rvmsudo should only be needed for updating with
</p>
<pre>$ rvmsudo rvm get head
</pre>
<h4><span class="mw-headline" id="A_cautionary_action">A cautionary action</span></h4>
<p>In order to prevent the installation breakage by this cause, you may add this configuration to your <code>/etc/sudoers</code> file with command: <code>su -c visudo</code> (run as the root user)
</p>
<pre>## Cmnd alias specification
Cmnd_Alias RVM = /usr/local/rvm/rubies/<i>ruby_interpreter</i>/bin/gem, \
                 /usr/local/rvm/rubies/<i>another_ruby_interpreter</i>/bin/gem, \
                 /usr/local/rvm/bin/rvm

## User privilege specification
root ALL=(ALL) ALL

## Uncomment to allow members of group wheel to execute any command
%wheel ALL=(ALL) ALL, !RVM</pre>
<p>Where <code><i>ruby_interpreter</i></code> would be —for example— ruby-1.9.2-p290.
</p>
<h2><span class="mw-headline" id="Post_Installation">Post Installation</span></h2>
<p>After the installation, check everything worked with this command:
</p>
<pre>$ type rvm | head -n1
</pre>
<p>The response should be:
</p>
<pre>$ rvm is a function
</pre>
<p>If you receive rvm: not found, you may need to source your <code>~/.bash_profile</code> (or wherever you put the line above):
</p>
<pre>$ . ~/.bash_profile
</pre>
<p>If you receive "rvm is hashed", you need to source <code>~/.rvm/scripts/rvm</code> in <code>~/.bashrc</code> or similar:
</p>
<pre>$ source $HOME/.rvm/scripts/rvm
</pre>
<p>Check if the rvm function is working:
</p>
<pre>$ rvm notes
</pre>
<p>Finally, see if there are any dependency requirements for your installation by running:
</p>
<pre>$ rvm requirements
</pre>
<p>(Follow the returned instructions if any.)
</p>
<p><b>Very important</b>: whenever you upgrade RVM in the future, you should always run <i>rvm notes</i> and <i>rvm requirements</i> as this is usually where you will find details on any major changes and/or additional requirements <b>to ensure your installation stays working</b>.
</p>
<h3><span class="mw-headline" id="Some_extras">Some extras</span></h3>
<p>You may put in your <code>~/.bashrc</code> the following lines to get some useful features:
</p>
<pre># Display the current RVM ruby selection
PS1="\$(/usr/local/rvm/bin/rvm-prompt) $PS1"

# RVM bash completion
[[ -r /usr/local/rvm/scripts/completion ]] &amp;&amp; . /usr/local/rvm/scripts/completion</pre>
<p>Or if you are running as a single user:
</p>
<pre># Display the current RVM ruby selection
PS1="\$($HOME/.rvm/bin/rvm-prompt) $PS1"

# RVM bash completion
[[ -r "$HOME/.rvm/scripts/completion" ]] &amp;&amp; source "$HOME/.rvm/scripts/completion"</pre>
<h2><span class="mw-headline" id="Using_RVM">Using RVM</span></h2>
<p>The RVM documentation is <i>quite</i> comprehensive and explanatory. However, here are some RVM usage examples to get you started.
</p>
<h3><span class="mw-headline" id="Rubies">Rubies</span></h3>
<h4><span class="mw-headline" id="Installing_environments">Installing environments</span></h4>
<p>To see what Ruby environments are available to install, run:
</p>
<pre>$ rvm list known
</pre>
<p>To install one, run:
</p>
<pre>$ rvm install &lt;ruby_version&gt;
</pre>
<p>For example, to install Ruby 1.9.2 one would run the following command:
</p>
<pre>$ rvm install 1.9.2
</pre>
<p>This should download, configure and install Ruby 1.9.2 in the place you installed RVM. For example, if you did a single user install, it will be in <code>~/.rvm/rubies/1.9.2</code>.
</p>
<p>You can define a default ruby interpreter by doing:
</p>
<pre>$ rvm use &lt;ruby_version&gt; --default
</pre>
<p>If not, the default environment will be the system ruby in <code>/usr</code> —if you have installed one using pacman— or none.
</p>
<h4><span class="mw-headline" id="Switching_environments">Switching environments</span></h4>
<p>To switch from one environment to another simply run:
</p>
<pre>$ rvm use &lt;ruby_version&gt;
</pre>
<p>For example to switch to Ruby 1.8.7 one would run the following command:
</p>
<pre>$ rvm 1.8.7
</pre>
<p>(As you see, the flag <i>use</i> is not really necessary.)
</p>
<p>You should get a message telling you the switch worked. It can be confirmed by running:
</p>
<pre>$ ruby --version
</pre>
<p>Note that this environment will only be used in the current shell. You can open another shell and select a different environment for that one in parallel.
</p>
<p>In case you have set a default interpreter as explained above, you can do the switch with:
</p>
<pre>$ rvm default
</pre>
<h4><span class="mw-headline" id="System_ruby">System ruby</span></h4>
<p>If you wish the ruby interpreter that is outside RVM (i.e. the one installed in /usr by the standard Arch Linux package), you can switch to it using:
</p>
<pre>$ rvm system
</pre>
<h4><span class="mw-headline" id="Listing_environments">Listing environments</span></h4>
<p>To see all installed Ruby environments, run the following command:
</p>
<pre>$ rvm list
</pre>
<p>If you have installed a few rubies, this might generate a list like so:
</p>
<pre>rvm Rubies
=&gt; ruby-1.8.7-p249 [ x86_64 ]
   ruby-1.9.2-head [ x86_64 ]
System Ruby
   system [ x86_64 ]
</pre>
<p>The ASCII arrow indicates which environment is currently enabled. In this case, it is Ruby 1.8.7. This could be confirmed by running:
</p>
<pre>$ ruby --version
ruby 1.8.7 (2010-01-10 patchlevel 249) [x86_64-linux]
</pre>
<h3><span class="mw-headline" id="Gemsets">Gemsets</span></h3>
<p>RVM has a valued feature called gemsets which enables you to store different sets of gems in compartmentalized independent ruby setups. This means that ruby, gems and irb are all separate and self-contained from the system and each other.
</p>
<h4><span class="mw-headline" id="Creating">Creating</span></h4>
<p>Gemsets must be created before being used. To create a new gemset for the current ruby, do this:
</p>
<pre>$ rvm use &lt;ruby_version&gt;
$ rvm gemset create &lt;gemset_name&gt;
</pre>
<p>Alternatively, if you prefer the shorthand syntax offered by rvm use, employ the --create option like so:
</p>
<pre>$ rvm use &lt;ruby_version&gt;@&lt;gemset_name&gt; --create
</pre>
<p>You can also specify a default gemset for a given ruby interpreter, by doing:
</p>
<pre>$ rvm use &lt;ruby_version&gt;@&lt;gemset_name&gt; --default
</pre>
<h4><span class="mw-headline" id="Using">Using</span></h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Remove gems that reside in system prior to the RVM installation with:
<pre>$ gem  list --local --no-version </pre>
<p>and check what's left:
</p>
<pre>$ gem list --local</pre>
</div>
<p>To use a gemset:
</p>
<pre>$ rvm gemset use &lt;gemset_name&gt;
</pre>
<p>You can switch to a gemset as you start to use a ruby, by appending @&lt;gemset_name&gt; to the end of the ruby selector string:
</p>
<pre>$ rvm use &lt;ruby_version&gt;@&lt;gemset_name&gt;
</pre>
<h5><span class="mw-headline" id="Notes">Notes</span></h5>
<p>When you install a ruby environment, it comes with two gemsets out of the box, their names are <i>default</i> and <i>global</i>. You will usually find in the latter some pre-installed common gems, while the former always starts empty. 
</p>
<p>A little bit about where the default and global gemsets differ: When you do not use a gemset at all, you get the gems in the default set. If you use a specific gemset (say @testing), it will inherit gems from that ruby's @global. The global gemset is to allow you to share gems to all your gemsets.
</p>
<h4><span class="mw-headline" id="Gems">Gems</span></h4>
<p>Within a gemset, you can utilize usual RubyGems commands
</p>
<pre>$ gem install &lt;gem&gt;
</pre>
<p>to add,
</p>
<pre>$ gem uninstall &lt;gem&gt;
</pre>
<p>to remove gems, and
</p>
<pre>$ gem list
</pre>
<p>to view installed ones.
</p>
<p>If you are deploying to a server, or you do not want to wait around for rdoc and ri to install for each gem, you can disable them for gem installs and updates. Just add these two lines to your <code>~/.gemrc</code> or <code>/etc/gemrc</code>:
</p>
<pre>install: --no-document
update: --no-document
</pre>
<h4><span class="mw-headline" id="Listing">Listing</span></h4>
<p>To see the name of the current gemset:
</p>
<pre>$ rvm gemset name
</pre>
<p>To list all named gemsets for the current ruby interpreter:
</p>
<pre>$ rvm gemset list
</pre>
<p>To list all named gemsets for all interpreters:
</p>
<pre>$ rvm gemset list_all
</pre>
<h4><span class="mw-headline" id="Deleting">Deleting</span></h4>
<p>This action removes the current gemset:
</p>
<pre>$ rvm gemset use &lt;gemset_name&gt;
$ rvm gemset delete &lt;gemset_name&gt;
</pre>
<p>By default, rvm deletes gemsets from the currently selected Ruby interpreter. To delete a gemset from a different interpreter, say 1.9.2, run your command this way:
</p>
<pre>$ rvm 1.9.2 do gemset delete &lt;gemset_name&gt;
</pre>
<h4><span class="mw-headline" id="Emptying">Emptying</span></h4>
<p>This action removes all gems installed in the gemset:
</p>
<pre>$ rvm gemset use &lt;gemset_name&gt;
$ rvm gemset empty &lt;gemset_name&gt;
</pre>
<h3><span class="mw-headline" id="RVM">RVM</span></h3>
<h4><span class="mw-headline" id="Updating">Updating</span></h4>
<p>To upgrade to the most recent release version:
</p>
<pre>$ rvm get latest
</pre>
<p>Upgrading to the latest repository source version (the most bugfixes):
</p>
<pre>$ rvm get head
</pre>
<p>Remember to use rvmsudo for multi-user setups. Update often!
</p>
<h4><span class="mw-headline" id="Uninstalling">Uninstalling</span></h4>
<p>Executing
</p>
<pre>$ rvm implode
</pre>
<p>is going to wipe out the RVM installation —cleanly—.
</p>
<h3><span class="mw-headline" id="Further_reading">Further reading</span></h3>
<p>This is just a simple introduction to switching ruby versions with RVM and managing different set of gems in different environments. There is lots more that you can do with it! For more information, consult the very comprehensive RVM documentation. <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120327101956/https://rvm.beginrescueend.com/rvm/basics/">This page</a> is a good place to start.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>Unfortunately, some ruby patchlevels just do not play nicely with Arch Linux, and many times RVM does not choose the latest patchlevel version to install. So, you will need to manually check on the <a rel="nofollow" class="external text" href="https://www.ruby-lang.org/en/news/">ruby website</a>, and force RVM to install it.
</p>
<h3>
<span id=".22data_definition_has_no_type_or_storage_class.22"></span><span class="mw-headline" id='"data_definition_has_no_type_or_storage_class"'>"data definition has no type or storage class"</span>
</h3>
<p>This appears to be specific to 1.8.7, but if you get this error while compiling the following steps will fix your problem:
</p>
<pre>$ cd src/ruby-1.8.7-p334/ext/dl
$ rm callback.func
$ touch callback.func
$ ruby mkcallback.rb &gt;&gt; callback.func
$ rm cbtable.func
$ touch cbtable.func
$ ruby mkcbtable.rb &gt;&gt; cbtable.func
</pre>
<p>Naturally, substitute the actual build path to your source, which will be something like <code>~/.rvm/src/</code>.
</p>
<h3><span class="mw-headline" id="RVM_uses_wrong_OpenSSL_version">RVM uses wrong OpenSSL version</span></h3>
<p>Ruby versions older than 2.4 require OpenSSL 1.0 but RVM will try to build them with OpenSSL 1.1. You know this is the case if you find this line in the <code>~/.rvm/log/XYZ/make.log</code> file:
</p>
<pre>/usr/include/openssl/asn1_mac.h:10:2: error: #error "This file is obsolete; please update your software."
</pre>
<p>First <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openssl-1.0/">openssl-1.0</a></span><sup><small>AUR</small></sup> if not already installed.
</p>
<p>You can point it to the correct version like this:
</p>
<pre>$ rvm remove &lt;ruby-version&gt;
$ PKG_CONFIG_PATH=/usr/lib/openssl-1.0/pkgconfig:/usr/lib/pkgconfig rvm install &lt;ruby-version&gt;
</pre>
<p>if the above does not work, try changing the last command to:
</p>
<pre>PKG_CONFIG_PATH=/usr/lib/openssl-1.0/pkgconfig \
CFLAGS+=" -I/usr/include/openssl-1.0" \
LDFLAGS+=" -L/usr/lib/openssl-1.0 -lssl" \
rvm install &lt;ruby-version&gt;
</pre>
<p>Alternatively you could also use RVM to install OpenSSL:
</p>
<pre>$ rvm pkg install openssl
$ rvm remove <i>X.Y.Z</i>
$ rvm install <i>X.Y.Z</i> -C --with-openssl-dir=$HOME/.rvm/usr
</pre>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://rvm.io/">RVM project website</a>.</li>
<li>
<a href="../en/Ruby_on_Rails.html#The_Perfect_Rails_Setup" class="mw-redirect" title="RubyOnRails">The Perfect Rails Setup</a>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=RVM&amp;oldid=804937">https://wiki.archlinux.org/index.php?title=RVM&amp;oldid=804937</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 March 2024, at 13:55.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
