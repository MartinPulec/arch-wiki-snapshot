<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Reiser4 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Reiser4 rootpage-Reiser4 skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Boot_loader" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Boot_loader">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Boot loader</div>
			</a>
			
			<ul id="toc-Boot_loader-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Moving_to_Reiser4" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Moving_to_Reiser4">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Moving to Reiser4</div>
		</a>
		
			<button aria-controls="toc-Moving_to_Reiser4-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Moving to Reiser4 subsection</span>
			</button>
		
		<ul id="toc-Moving_to_Reiser4-sublist" class="vector-toc-list">
			<li id="toc-Formatting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Formatting">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Formatting</div>
			</a>
			
			<ul id="toc-Formatting-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Copy_system" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Copy_system">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Copy system</div>
			</a>
			
			<ul id="toc-Copy_system-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/etc/fstab" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/etc/fstab">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>/etc/fstab</div>
			</a>
			
			<ul id="toc-/etc/fstab-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Boot_loader_examples" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Boot_loader_examples">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Boot loader examples</div>
		</a>
		
			<button aria-controls="toc-Boot_loader_examples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Boot loader examples subsection</span>
			</button>
		
		<ul id="toc-Boot_loader_examples-sublist" class="vector-toc-list">
			<li id="toc-/boot/grub/grub.cfg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/boot/grub/grub.cfg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>/boot/grub/grub.cfg</div>
			</a>
			
			<ul id="toc-/boot/grub/grub.cfg-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/etc/lilo.conf" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/etc/lilo.conf">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>/etc/lilo.conf</div>
			</a>
			
			<ul id="toc-/etc/lilo.conf-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Reiser4</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Reiser4" title="Reiser4 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/File_systems.html" title="File systems">File systems</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Reiser4" class="extiw" title="wikipedia:Reiser4">Reiser4</a> is the successor filesystem for <a href="https://en.wikipedia.org/wiki/ReiserFS" class="extiw" title="wikipedia:ReiserFS">ReiserFS</a>, initially designed and developed entirely from scratch by <a href="https://en.wikipedia.org/wiki/Namesys" class="extiw" title="wikipedia:Namesys">Namesys</a> and <a href="https://en.wikipedia.org/wiki/Hans_Reiser" class="extiw" title="wikipedia:Hans Reiser">Hans Reiser</a>. 
It is very efficient in handling many files (often used in <code>/var</code> for this purpose) and includes a plugin-based design with plugins with features such as intelligent transparent compression, both inline data and meta-data checksums through the <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check#CRC-32_algorithm" class="extiw" title="wikipedia:Cyclic redundancy check">crc32c</a> algorithm with added optional <a rel="nofollow" class="external text" href="https://reiser4.wiki.kernel.org/index.php/Reiser4_Mirrors_and_Failover">mirrors and failover</a> support through its own implementation of subvolumes. 
</p>
<p>More information about the features, plugins, design and mkfs or mount options is described in detail <a rel="nofollow" class="external text" href="https://reiser4.wiki.kernel.org/index.php/Main_Page">here</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Reiser4 is still not included in the official Linux kernel, patches are provided to apply on the mainline kernel.</li>
<li>It consumes a little more CPU than other filesystems (just like <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>). To avoid having issues on laptops using <a href="../en/TLP.html" title="TLP">TLP</a> for power saving, it is recommended to disable the options for <code>SATA Link</code> power saving in <code>/etc/default/tlp</code> (again, as with <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>).</li>
<li>
<a href="../en/LILO.html" title="LILO">LILO</a> is the only boot loader officially supporting Reiser4, but it seems to have issues when <code>/boot</code> is formatted as Reiser4</li>
<li>
<a href="../en/Access_Control_Lists.html" title="Access Control Lists">Access Control Lists</a> is not implemented and requires that <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journald">journald</a> either logs to a separate logging <a href="../en/Systemd.html" class="mw-redirect" title="Daemon">daemon</a> or to <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a>. Another workaround is to compile systemd by source without ACL support, but is not recommended.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a rel="nofollow" class="external text" href="https://gparted.sourceforge.net/livecd.php">Gparted LiveCD</a> is a small Linux distribution booting straight into Gparted. It also supports Reiser4 and can be used to migrate from an existing filesystem to Reiser4.</div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/reiser4progs/">reiser4progs</a></span><sup><small>AUR</small></sup> package which provides utilities for creating, fsck'ing and debugging Reiser4 volumes.
</p>
<p>You will need a Reiser4 patched kernel. Patches can be found <a rel="nofollow" class="external text" href="https://sourceforge.net/projects/reiser4/files/">on Sourceforge</a> or at the more recently created <a rel="nofollow" class="external text" href="https://github.com/edward6/reiser4">Git repository</a> which is maintained by its current lead developer, the mathematician and programmer <b>Edward Shishkin</b>.
</p>
<h3><span class="mw-headline" id="Boot_loader">Boot loader</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Backing up your boot loader configuration file should be considered if one is going to have <code>/boot</code> residing on a Reiser4 volume.</li>
<li>
<a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="EFI">EFI</a> systems in general require a <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a> partition for booting the kernel and thus it may be advantageous or unproblematic to have the <code>/boot</code> directory residing on that partition instead of only the EFI directory. Many EFI-users have their whole <code>/boot</code> directory on their <a href="../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a>.</li>
</ul>
</div>
<p>It is <b>recommended</b> that you make a small (20-200mb) partition for <code>/boot</code> with a filesystem other than Reiser4, and then copy your <code>/boot</code> folder to the partition. Update your boot loader configuration accordingly, e.g. see <a href="#/boot/grub/grub.cfg">#/boot/grub/grub.cfg</a>. 
</p>
<p>If you do not use <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="EFI">EFI</a> and wish to put everything including <code>/boot</code> on a Reiser4 partition (not recommended) you will need to use <a href="../en/LILO.html" title="LILO">LILO</a>. This is not advised, as you will probably encounter an error when trying to update <code>lilo.conf</code>. See <a href="#/etc/lilo.conf">#/etc/lilo.conf</a>.
</p>
<h2><span class="mw-headline" id="Moving_to_Reiser4">Moving to Reiser4</span></h2>
<p>In the next steps we will copy the data from your current root partition to the new Reiser4 partitions. Make
sure you have enough disk space on the Reiser4 partition with:
</p>
<pre># df -h
</pre>
<p>Below is the sample system this section will use as an example: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># fdisk -l</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">* /dev/sd<i>xZ</i>: (10 Gb, 5 Gb free); Reiserfs /mnt/oldroot
* /dev/sd<i>xY</i>: (10 Gb, 10 Gb free); Reiser4 /
* /dev/sd<i>xW</i>: (200 Mb, 180 Mb free); ext2 /boot
</pre>
<h3><span class="mw-headline" id="Formatting">Formatting</span></h3>
<p>Since Reiser4 supports different transaction models optimized for different types of storage media (SSDs, HDDs), the options used while formatting and mounting will differ.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The defaults for <i>mkfs.reiser4</i> includes enabled compression with the default algorithm being zstd.
<ul>
<li>To use either lzo or gzip instead of zstd, append <code>-o compress=lzo1</code> or <code>-o compress=gzip1</code>.</li>
<li>To disable compression altogether, use <code>-o create=reg40</code>.</li>
</ul>
</li>
<li>Additionally, the inline checksum plugin can be enabled with <code>-o node=node41</code>
</li>
<li>More information about the features, plugins and options is available in the <a rel="nofollow" class="external text" href="https://reiser4.wiki.kernel.org/index.php/Reiser4_Howto">documentation</a>.</li>
</ul>
</div>
<pre># mkfs.reiser4 /dev/sd<i>xY</i>
# mkdir /mnt/reiser4
# mount -t reiser4 -o txmod=journal,defaults,onerror=remount-ro /dev/sd<i>xY</i> /mnt/reiser4</pre>
<p>It is recommended and also the default to use the <b>cryptcompress</b> plugin by formatting with the following options:
</p>
<pre># mkfs.reiser4 -o create=ccreg40 /dev/sd<i>xY</i>
</pre>
<p>Since Reiser4 also has options specifically for SSD users as well, it is recommended to discard the partition upon creation of the filesystem, by adding the <code>-d</code> switch. 
</p>
<p>For drives with controllers already having hardware compression (like SandForce ones), it may be better to disable the compression plugin, for example with an SSD:
</p>
<pre># mkfs.reiser4 -d -o create=reg40,node=node41 /dev/nvme0n<i>X</i>p<i>Y</i>
</pre>
<h3><span class="mw-headline" id="Copy_system">Copy system</span></h3>
<p>Once the partition is formatted, copy you current system to the new partition and create the system directories. You may either do this from Arch Linux, or to make it easier (so that you do not have to use makedev later), just boot up with a Live media and mount both your new Reiser4 partition and your current root partition. Then, just copy everything over like so:
</p>
<pre># cd /mnt
# mkdir oldroot
# mkdir reiser4
# mount /dev/sd<i>xZ</i> oldroot
</pre>
<p>Depending on what transaction model one wish to use which are optimized for different types of storage media, the mount option <code>txmod=wa</code> (for SSDs), <code>txmod=journal</code> (for HDDs) must be defined when mounting the partitions through the <code>-o</code> switch. The default is <code>txmod=hybrid</code> which heuristically alternates between the "wa" (write-anywhere) and "journal" models for optimized performance on rotating disks while trying to avoid excess fragmentation at the same time.
</p>
<pre># mount -t reiser4 -o txmod=hybrid,defaults,onerror=remount-ro /dev/sd<i>xY</i> /mnt/reiser4
# cp -R -a /mnt/oldroot/* /mnt/reiser4/</pre>
<p>Then, you need to mount your <code>/boot</code> partition, and if you have not already, copy <code>/boot</code> from your original root partition over to it.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is suggested to empty your <code>/boot</code> from the Reiser4 partition to use it as a mountpoint, which is reflected later in your fstab</div>
<pre># mkdir bootpart
# mount /dev/sd<i>xW</i> bootpart
# cp -R -a /mnt/oldroot/boot/* /mnt/bootpart/
</pre>
<p>Do not forget to edit your boot loader's configuration appropriately (see <a href="#Boot_loader_examples">#Boot loader examples</a>). 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In case you upgraded GRUB before rebooting, you may need to manually install grub to your <code>/boot</code> partition, otherwise, things may break and prevent you from booting. In this case using a LiveCD to Chroot and would be your last hope.</div>
<h3>
<span id=".2Fetc.2Ffstab"></span><span class="mw-headline" id="/etc/fstab">/etc/fstab</span>
</h3>
<p>If you can confirm that Reiser4 works for you, you should format the old root partition.
</p>
<pre>#
# /etc/fstab: static file system information
#
# &lt;file system&gt;	&lt;dir&gt;	      &lt;type&gt;  &lt;options&gt;	         &lt;dump&gt;	&lt;pass&gt;

/dev/<i>xY</i>     /             reiser4 defaults,txmod=wa,onerror=remount-ro,discard 0   1
/dev/<i>xZ</i>     /mnt/oldroot  ext4    defaults                                    0   0
/dev/<i>xW</i>     /boot         ext2    defaults                                    0   1</pre>
<h2><span class="mw-headline" id="Boot_loader_examples">Boot loader examples</span></h2>
<h3>
<span id=".2Fboot.2Fgrub.2Fgrub.cfg"></span><span class="mw-headline" id="/boot/grub/grub.cfg">/boot/grub/grub.cfg</span>
</h3>
<pre># (0) Arch Linux
title  Arch Linux
set root=(hd<i>m</i>,msdos<i>n</i>)
kernel /vmlinuz-linux root=/dev/sd<i>xY</i> ro rootfstype=reiser4 rootflags=defaults,txmod=journal,onerror=remount-ro init=/usr/bin/bootchartd
initrd /initramfs-linux.img

# (1) Arch Linux
title  Arch Linux Fallback
set root=(hd<i>m</i>,msdos<i>n</i>)
kernel /vlinuz-linux root=/dev/sda<i>xY</i> ro rootfstype=reiser4 rootflags=defaults,txmod=journal,onerror=remount-ro
initrd /initramfs-linux-fallback.img</pre>
<p>Then run:
</p>
<pre># grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<h3>
<span id=".2Fetc.2Flilo.conf"></span><span class="mw-headline" id="/etc/lilo.conf">/etc/lilo.conf</span>
</h3>
<pre>#
# /etc/lilo.conf
#

boot=/dev/sd<i>x</i>
# This line often fixes L40 errors on bootup
# disk=/dev/hda bios=0x80

default=Arch4
timeout=20
lba32
prompt
compact

image=/boot/vmlinuz-linux
        label=Arch4
        root=/dev/sd<i>xY</i>
        append="video=vesafb:1024x768-24@56,ywrap,mtrr splash=verbose,theme:darch console=tty1 resume2=swap:/dev/sdb1"
initrd=/boot/initramfs-linux.img
read-only

image=/boot/vmlinuz-linux
        label=Arch
        root=/dev/sd<i>xZ</i>
        append="video=vesafb:1024x768-24@56,ywrap,mtrr splash=verbose,theme:darch console=tty1 resume2=swap:/dev/sdb1"
initrd=/boot/initramfs-linux.img
read-only</pre>
<p>Then run:
</p>
<pre># lilo
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<ul>
<li>Permissions: see <a href="../en/File_permissions_and_attributes.html#Changing_ownership" class="mw-redirect" title="Chown">chown</a>.</li>
<li>If you have problem with <i>su</i> after the change of filesystem, you should reinstall <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coreutils">coreutils</a></span>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:File_systems.html" title="Category:File systems">File systems</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Reiser4&amp;oldid=813144">https://wiki.archlinux.org/index.php?title=Reiser4&amp;oldid=813144</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 July 2024, at 06:35.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
