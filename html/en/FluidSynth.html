<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>FluidSynth - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-FluidSynth rootpage-FluidSynth skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Usage</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Standalone_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Standalone_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Standalone mode</div>
			</a>
			
			<ul id="toc-Standalone_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ALSA_daemon_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ALSA_daemon_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>ALSA daemon mode</div>
			</a>
			
			<ul id="toc-ALSA_daemon_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SDL_Mixer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SDL_Mixer">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>SDL_Mixer</div>
			</a>
			
			<ul id="toc-SDL_Mixer-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Convert_MIDI_to_MP3/OGG" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Convert_MIDI_to_MP3/OGG">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Convert MIDI to MP3/OGG</div>
			</a>
			
			<ul id="toc-Convert_MIDI_to_MP3/OGG-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Conflicting_with_PulseAudio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Conflicting_with_PulseAudio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Conflicting with PulseAudio</div>
			</a>
			
			<ul id="toc-Conflicting_with_PulseAudio-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">FluidSynth</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/FluidSynth" title="FluidSynth – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://www.fluidsynth.org/">FluidSynth</a> is a real-time software synthesizer based on the SoundFont 2 specifications. It is optionally used by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugins-bad">gst-plugins-bad</a></span>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fluidsynth">fluidsynth</a></span> package.
</p>
<p>A <a href="https://en.wikipedia.org/wiki/SoundFont" class="extiw" title="wikipedia:SoundFont">SoundFont</a> is also needed. See <a href="../en/MIDI.html#List_of_SoundFonts" title="MIDI">MIDI#List of SoundFonts</a> for a list of SoundFonts.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>There are two ways to use FluidSynth. Either as <a href="../en/MIDI.html" title="MIDI">MIDI</a> player or as daemon adding MIDI support to <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a>.
</p>
<h3><span class="mw-headline" id="Standalone_mode">Standalone mode</span></h3>
<p>You can simply use fluidsynth to play MIDI files:
</p>
<pre>$ fluidsynth -a alsa -m alsa_seq -l -i /usr/share/soundfonts/FluidR3_GM.sf2 example.mid
</pre>
<p>assuming than you installed <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=soundfont-fluid">soundfont-fluid</a></span>.
</p>
<p>There are many other options to FluidSynth; see <span class="plainlinks archwiki-template-man" title="$ man 1 fluidsynth"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fluidsynth.1">fluidsynth(1)</a></span> or use <code>-h</code> to get help.
</p>
<p>One may wish to use <code>pipewire</code> or <code>pulseaudio</code> instead of <code>alsa</code> as the argument to the -a option.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The SoundFont does not needed to be specified every time if a symbolic link created for the default SoundFont, e.g. <pre>ln -s FluidR3_GM.sf2 /usr/share/soundfonts/default.sf2</pre>
</div>
<h3><span class="mw-headline" id="ALSA_daemon_mode">ALSA daemon mode</span></h3>
<p>If you want fluidsynth to run as an ALSA sequencer client, edit <code>/etc/conf.d/fluidsynth</code> and add your SoundFont along with any other changes you would like to make. For e.g., Fluid:
</p>
<pre>SOUND_FONT=/usr/share/soundfonts/FluidR3_GM.sf2
OTHER_OPTS='-a alsa -m alsa_seq -r 48000'
</pre>
<p>After that, you can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>fluidsynth.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You cannot use root to start the fluidsynth service, if you are using the pulseaudio driver. Pulseaudio will not allow root to connect, since the pulseaudio server is usually started by the user (and not root). Hence the service is provided as a <a href="../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>.</div>
<p>The following will give you an output software MIDI port (in addition of hardware MIDI ports on your system, if any):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ aconnect -o</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">client 128: 'FLUID Synth (5117)' [type=user]
   0 'Synth input port (5117:0)'</pre>
<p>An example of usage for this is aplaymidi:
</p>
<pre>$ aplaymidi -p128:0 example.mid
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To achieve a low latency in a real-time setup, it is important to set the RATE/NUM/SIZE parameters described in the <a rel="nofollow" class="external text" href="https://github.com/FluidSynth/fluidsynth/wiki/LowLatency">FluidSynth wiki</a>. Common values of these parameters and additional tips are also listed at <a href="../en/Professional_audio.html#JACK_parameters" title="Professional audio">Professional audio#JACK parameters</a>.</div>
<h3><span class="mw-headline" id="SDL_Mixer">SDL_Mixer</span></h3>
<p>To use fluidsynth with programs that use SDL_Mixer, you need to specify the soundfont as:
</p>
<pre> $ SDL_SOUNDFONTS=/usr/share/soundfonts/FluidR3_GM.sf2 ./program
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id="Convert_MIDI_to_MP3.2FOGG"></span><span class="mw-headline" id="Convert_MIDI_to_MP3/OGG">Convert MIDI to MP3/OGG</span>
</h3>
<p>Requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=soundfont-fluid">soundfont-fluid</a></span> or any other SoundFont of your choice. 
</p>
<p><code>/usr/share/soundfonts</code> is the default location of FluidR3_GM
</p>
<p>Simple command lines to convert midi to mp3:
</p>
<pre>$ fluidsynth -l -T raw -F - /usr/share/soundfonts/FluidR3_GM.sf2 example.mid | twolame -b 256 -r - example.mp3 
</pre>
<p>Requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=twolame">twolame</a></span>.
</p>
<p>Simple command lines to convert midi to ogg:
</p>
<pre>$ fluidsynth -nli -r 48000 -o synth.cpu-cores=2 -T oga -F example.ogg /usr/share/soundfonts/FluidR3_GM.sf2 example.MID
</pre>
<p>Here is a little script to convert multiple midi files to ogg in parallel:
</p>
<pre>#!/bin/bash
maxjobs=$(grep processor /proc/cpuinfo | wc -l)
midi2ogg() {
	name=$(echo $@ | sed -r s/[.][mM][iI][dD][iI]?$//g | sed s/^[.][/]//g)
	for arg; do 
	fluidsynth -nli -r 48000 -o synth.cpu-cores=$maxjobs -F "/dev/shm/$name.raw" /usr/share/soundfonts/FluidR3_GM.sf2 "$@"
	oggenc -r -B 16 -C 2 -R 48000 "/dev/shm/$name.raw" -o "$name.ogg"
	rm "/dev/shm/$name.raw"
	## Uncomment for replaygain tagging
	#vorbisgain -f "$name.ogg" 
	done
}
export -f midi2ogg
find . -regex '.*[.][mM][iI][dD][iI]?$' -print0 | xargs -0 -n 1 -P $maxjobs bash -c 'midi2ogg "$@"' --
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Conflicting_with_PulseAudio">Conflicting with PulseAudio</span></h3>
<p>If your <i>fluidsynth</i> application is set to use <code>alsa</code> as driver, the sound card will be accessed directly and PulseAudio and applications using PulseAudio will not be able to work properly. You can modify the  configuration file <code>/etc/conf.d/fluidsynth</code> and change the driver to <code>pulseaudio</code>, then restart <i>fluidsynth</i> and PulseAudio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/fluidsynth</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">OTHER_OPTS='-a pulseaudio -m alsa_seq -r 48000'</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Music.html" title="Category:Music">Music</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=FluidSynth&amp;oldid=797721">https://wiki.archlinux.org/index.php?title=FluidSynth&amp;oldid=797721</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 21 January 2024, at 09:54.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
