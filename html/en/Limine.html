<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Limine - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Limine rootpage-Limine skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Supported_file_systems" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Supported_file_systems">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Supported file systems</span>
			</div>
		</a>
		
		<ul id="toc-Supported_file_systems-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Deploying_the_boot_loader" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Deploying_the_boot_loader">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Deploying the boot loader</span>
			</div>
		</a>
		
			<button aria-controls="toc-Deploying_the_boot_loader-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Deploying the boot loader subsection</span>
			</button>
		
		<ul id="toc-Deploying_the_boot_loader-sublist" class="vector-toc-list">
			<li id="toc-UEFI_systems" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UEFI_systems">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>UEFI systems</span>
				</div>
			</a>
			
			<ul id="toc-UEFI_systems-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_systems_with_MBR" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_systems_with_MBR">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>BIOS systems with MBR</span>
				</div>
			</a>
			
			<ul id="toc-BIOS_systems_with_MBR-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_systems_with_GPT" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_systems_with_GPT">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>BIOS systems with GPT</span>
				</div>
			</a>
			
			<ul id="toc-BIOS_systems_with_GPT-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_+_BIOS_bootable_drives" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UEFI_+_BIOS_bootable_drives">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>UEFI + BIOS bootable drives</span>
				</div>
			</a>
			
			<ul id="toc-UEFI_+_BIOS_bootable_drives-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Memtest86+" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Memtest86+">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Memtest86+</span>
				</div>
			</a>
			
			<ul id="toc-Memtest86+-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_entry_(UEFI)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Windows_entry_(UEFI)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Windows entry (UEFI)</span>
				</div>
			</a>
			
			<ul id="toc-Windows_entry_(UEFI)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-pacman_hook" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#pacman_hook">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>pacman hook</span>
			</div>
		</a>
		
			<button aria-controls="toc-pacman_hook-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle pacman hook subsection</span>
			</button>
		
		<ul id="toc-pacman_hook-sublist" class="vector-toc-list">
			<li id="toc-UEFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>UEFI</span>
				</div>
			</a>
			
			<ul id="toc-UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>BIOS</span>
				</div>
			</a>
			
			<ul id="toc-BIOS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Boot_entry_automation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Boot_entry_automation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Boot entry automation</span>
				</div>
			</a>
			
			<ul id="toc-Boot_entry_automation-sublist" class="vector-toc-list">
				<li id="toc-Configurations" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurations">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.1</span>
					<span>Configurations</span>
				</div>
			</a>
			
			<ul id="toc-Configurations-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Commands" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Commands">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1.2</span>
					<span>Commands</span>
				</div>
			</a>
			
			<ul id="toc-Commands-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Snapper_snapshot_integration_for_Btrfs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Snapper_snapshot_integration_for_Btrfs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Snapper snapshot integration for Btrfs</span>
				</div>
			</a>
			
			<ul id="toc-Snapper_snapshot_integration_for_Btrfs-sublist" class="vector-toc-list">
				<li id="toc-Configurations_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurations_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.1</span>
					<span>Configurations</span>
				</div>
			</a>
			
			<ul id="toc-Configurations_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Commands_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Commands_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.2</span>
					<span>Commands</span>
				</div>
			</a>
			
			<ul id="toc-Commands_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Known_issues" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Known_issues">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.3</span>
					<span>Known issues</span>
				</div>
			</a>
			
			<ul id="toc-Known_issues-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Troubleshooting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.4</span>
					<span>Troubleshooting</span>
				</div>
			</a>
			
			<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Limine</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Limine" title="Limine – 日本語" lang="ja" hreflang="ja" data-title="Limine" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Arch_boot_process.html" title="Arch boot process">Arch boot process</a></li>
<li><a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="Master Boot Record">Master Boot Record</a></li>
<li><a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table">GUID Partition Table</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://limine-bootloader.org">Limine</a> is an advanced, portable, multiprotocol <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> originally developed as the reference implementation for the Limine boot protocol, but also supporting the ability to boot Linux as well as to chainload other boot loaders.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In the entire article <code><i>esp</i></code> denotes the mountpoint of the <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> aka ESP.</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Supported_file_systems">Supported file systems</h2></div>
<p>Limine <a rel="nofollow" class="external text" href="https://codeberg.org/Limine/Limine/src/branch/trunk/README.md#supported-filesystems">supports</a> <a href="../en/FAT.html" class="mw-redirect" title="FAT12">FAT12</a>, <a href="../en/FAT.html" class="mw-redirect" title="FAT16">FAT16</a>, <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a> and <a href="https://en.wikipedia.org/wiki/ISO_9660" class="extiw" title="wikipedia:ISO 9660">ISO9660</a>. The list of supported file systems is intentionally limited per Limine's <a rel="nofollow" class="external text" href="https://codeberg.org/Limine/Limine/src/branch/trunk/FAQ.md">design philosophy</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This does not mean that Limine cannot boot an OS which uses any other file system for its root; it just means that the kernel, initramfs, and any other files needed at boot will have to reside on a FAT partition (such as the ESP on UEFI systems).</div>
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=limine">limine</a></span> package.
</p>
<p>Follow the instructions in <a href="#Deploying_the_boot_loader">#Deploying the boot loader</a> and <a href="#Configuration">#Configuration</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Deploying_the_boot_loader">Deploying the boot loader</h2></div>
<div class="mw-heading mw-heading3"><h3 id="UEFI_systems">UEFI systems</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If installing on a system with a 32-bit UEFI, substitute the <code>BOOTX64.EFI</code> filename with <code>BOOTIA32.EFI</code>.</div>
<p>Deploying Limine on UEFI systems involves copying the <code>/usr/share/limine/BOOTX64.EFI</code> file to the EFI system partition, and to make the UEFI BIOS aware of it.
</p>
<pre># mkdir -p <i>esp</i>/EFI/arch-limine
# cp /usr/share/limine/BOOTX64.EFI <i>esp</i>/EFI/arch-limine/
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> If installing to removable media, <b>or on certain motherboards onto which <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a>-created custom firmware boot entries do not work or are ignored</b>, it is recommended to copy the <code>BOOTX64.EFI</code> file to <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code> instead, which is the default boot loader application search location, and to skip the rest of this section.</div>
<p>Limine does not add an entry for the boot loader in the NVRAM automatically. Use <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a> to setup an entry for Limine.
</p>
<p>To do so, one can do the following:
</p>
<pre># efibootmgr \
      --create \
      --disk /dev/sdX \
      --part Y \
      --label "Arch Linux Limine Boot Loader" \
      --loader '\EFI\arch-limine\BOOTX64.EFI' \
      --unicode
</pre>
<ul>
<li>
<code><i>/dev/sdX</i></code> is the <b>disk</b> (<b>not a partition</b>) where the ESP is located on. For example <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. See <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> for a description of the block device naming scheme.</li>
<li>
<code>Y</code> is the partition index of the ESP, so if the ESP is <code>/dev/sda1</code>, then <code>Y</code> should be <code>1</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Read <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a> and its documentation for further information on how to add, remove, change, and sort boot entries.</div>
<div class="mw-heading mw-heading3"><h3 id="BIOS_systems_with_MBR">BIOS systems with MBR</h3></div>
<p>Deploying Limine on BIOS systems involves copying the <code>/usr/share/limine/limine-bios.sys</code> file, which contains stage 3 code that Limine needs to boot, to either the root, a <code>/boot</code>, a <code>/limine</code>, or a <code>/boot/limine</code> directory of any partition on the disk onto which Limine will be deployed, as long as the filesystem is supported. This usually means having to use a FAT partition for <code>/boot</code>, and copying the <code>limine-bios.sys</code> file to <code>/boot/limine</code>.
</p>
<p>For example:
</p>
<pre># mkdir -p /boot/limine
# cp /usr/share/limine/limine-bios.sys /boot/limine/
</pre>
<p>Then, early stage boot loader code needs to be deployed to the disk:
</p>
<pre># limine bios-install /dev/sdX
</pre>
<p><code><i>/dev/sdX</i></code> is the <b>disk</b> (<b>not a partition</b>) where Limine is to be installed. For example <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. This has to be the disk hosting the <code>/boot</code> partition. See <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> for a description of the block device naming scheme.
</p>
<div class="mw-heading mw-heading3"><h3 id="BIOS_systems_with_GPT">BIOS systems with GPT</h3></div>
<p>To deploy Limine for BIOS booting from a GPT partitioned disk, one needs to specify a GPT partition onto which to store the early stage boot loader code (this is in addition to the FAT boot partition, usually mounted at <code>/boot</code>, as explained in previous section). This partition must be at least 32 KiB in size, and should not be formatted with a file system or mounted.
</p>
<p>Create a partition on the disk with no file system and with partition type GUID <code>21686148-6449-6E6F-744E-656564454649</code>:
</p>
<ul>
<li>
<a href="../en/Fdisk.html" title="Fdisk">fdisk</a>: create a partition and use the <code>t</code> command to <a href="../en/Fdisk.html#Change_partition_type" title="Fdisk">change its partition type</a> to <code>BIOS boot</code>.</li>
<li>
<a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a>: create a partition with partition type <code>ef02</code>.</li>
<li>
<a href="../en/Parted.html" class="mw-redirect" title="GNU Parted">GNU Parted</a>: create a partition and set the <code>bios_grub</code> flag on it.</li>
</ul>
<p>Then deploy the early stage boot loader code to the disk and partition:
</p>
<pre>limine bios-install /dev/sd<i>X</i> <i>partition_number</i>
</pre>
<p><code><i>/dev/sdX</i></code> is the <b>disk</b> (<b>not a partition</b>) where Limine is to be installed. For example <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. This has to be the disk hosting the <code>/boot</code> partition. See <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> for a description of the block device naming scheme.
</p>
<p>If the partition number is left out, <code>limine bios-install</code> will try to detect it automatically.
</p>
<p>Like for the BIOS/MBR case, one must copy the <code>limine-bios.sys</code> file to either the root, a <code>/boot</code>, a <code>/limine</code>, or a <code>/boot/limine</code> directory in any of the partitions, using a supported file system, on the same disk where the early stage boot loader code was deployed.
</p>
<div class="mw-heading mw-heading3"><h3 id="UEFI_+_BIOS_bootable_drives">
<span id="UEFI_.2B_BIOS_bootable_drives"></span>UEFI + BIOS bootable drives</h3></div>
<p>As long as a drive is <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="MBR">MBR</a> formatted, and it contains an EFI system partition (which can be the same as the <code>/boot</code> partition used for BIOS systems), it is possible to follow both the BIOS and UEFI deployment procedures in order to create a drive capable of booting on both legacy BIOS as well as UEFI systems. This is useful, for example, for installing an operating system on a USB flash drive which is to be used on multiple systems which may or may not support UEFI, or to ease moving hard drives across systems.
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=limine">limine</a></span> does not ship a default configuration file, it is therefore necessary to create one. This file is necessary to teach Limine which operating systems are available for boot. The configuration file has a lot of options as Limine allows for a fair degree of customisation. A detailed documentation of the configuration file, its format, and its options can be found <a rel="nofollow" class="external text" href="https://codeberg.org/Limine/Limine/src/branch/trunk/CONFIG.md">here</a>.
</p>
<p>For UEFI systems, the configuration file may reside in the same directory as the Limine EFI executable, where it is first searched (recommended, as it allows installing multiple instances of Limine with different configurations, without conflicts).
</p>
<p>For BIOS systems (or for UEFI systems where the configuration file was not placed alongside the Limine executable), the configuration file needs to reside on either the root, a <code>/boot</code>, a <code>/limine</code>, or a <code>/boot/limine</code> directory of a partition on the drive on which Limine is deployed, as long as the file system of said partition is supported.
</p>
<p>The configuration file has to be named <code>limine.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In the Limine configuration file, <code>boot():/</code> represents the partition onto which <code>limine.conf</code> is located.</div>
<p>Here follows a simple configuration file example that contains 1 boot menu entry that describes a typical Arch Linux kernel and initramfs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">limine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">timeout: 5

/Arch Linux
    protocol: linux
    path: boot():/vmlinuz-linux
    cmdline: root=UUID=<i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i> rw
    module_path: boot():/initramfs-linux.img</pre>
<p><code><i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i></code> is the root file system's <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a>.
</p>
<p>In case the <code>/boot</code> partition, where the kernel and initramfs are, and the partition of the <code>limine.conf</code> file do not match (such as, for example, on UEFI systems with an extra <code>/boot</code> partition which is not the same as the ESP, and <code>limine.conf</code> is placed on the ESP), it may be necessary to replace <code>boot():/</code> in the configuration file with <code>uuid(<i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i>):/</code>, where <code><i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i></code> represents the <a href="../en/Persistent_block_device_naming.html#by-partuuid" class="mw-redirect" title="PARTUUID">PARTUUID</a> of the <code>/boot</code> FAT partition.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> If you are booting from a UEFI system with <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> enabled, then consider securing both Limine configuration file and resource files like kernels and modules. Indeed, everyone that can access the FAT partition that stores the configuration file and the needed resources can alter these files, even with Secure Boot.
<p>To prevent this, one can first embed the BLAKE2B (<code>b2sum</code>) checksum of every resource file in the configuration file. Limine file paths have an optional field containing the BLAKE2B checksum of the file. This field can be specified by appending the <code>#</code> character and then the <b>128 characters</b> checksum:
</p>
<pre>boot():/<i>path</i>#<i>checksum</i></pre>
<p>Then, to protect the configuration file itself, one can embed its BLAKE2B checksum in the Limine EFI executable itself with the following command (where <code>checksum</code> represents the configuration file's own BLAKE2B checksum):
</p>
<pre>limine enroll-config <i>/path/to/deployed/limine.efi</i> <i>checksum</i></pre>
<p>The Limine EFI executable, now aware of the configuration file's BLAKE2B checksum, can be signed (see <span class="plainlinks archwiki-template-man" title="$ man 8 sbctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sbctl.8">sbctl(8)</a></span>) and securely loaded.
</p>
</div>
<div class="mw-heading mw-heading3"><h3 id="Memtest86+">
<span id="Memtest86.2B"></span>Memtest86+</h3></div>
<p>Add one of the following entries to the configuration file.
</p>
<p>For UEFI, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=memtest86%2B-efi">memtest86+-efi</a></span> and add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">limine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/Memtest86+
    protocol: efi
    path: boot():/memtest86+/memtest.efi</pre>
<p>For BIOS, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=memtest86%2B">memtest86+</a></span> and add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">limine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/Memtest86+
    protocol: linux
    path: boot():/memtest86+/memtest.bin</pre>
<div class="mw-heading mw-heading3"><h3 id="Windows_entry_(UEFI)">
<span id="Windows_entry_.28UEFI.29"></span>Windows entry (UEFI)</h3></div>
<p>Add the following to the configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">limine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/Windows
    protocol: efi
    path: boot():/EFI/Microsoft/Boot/bootmgfw.efi</pre>
<p>Alternatively replace <code>boot():/</code> with <code>uuid(<i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i>):/</code>, where <code><i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i></code> is the <a href="../en/Persistent_block_device_naming.html#by-partuuid" class="mw-redirect" title="PARTUUID">PARTUUID</a> of the ESP, if <code>limine.conf</code> is not on the ESP.
</p>
<div class="mw-heading mw-heading2"><h2 id="pacman_hook">pacman hook</h2></div>
<p>While not mandatory, it may be useful to set up a <a href="../en/Pacman.html#Hooks" class="mw-redirect" title="Pacman hook">pacman hook</a> to deploy Limine whenever it is upgraded.
</p>
<div class="mw-heading mw-heading3"><h3 id="UEFI">UEFI</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Make sure to replace the ESP directory path if using something other than <code><i>esp</i>/EFI/arch-limine</code> (e.g. <code><i>esp</i>/EFI/BOOT</code>).</li>
<li>If using a 32-bit UEFI system, make sure to substitute <code>BOOTX64.EFI</code> with <code>BOOTIA32.EFI</code>.</li>
</ul>
</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/99-limine.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Type = Package
Target = limine              

[Action]
Description = Deploying Limine after upgrade...
When = PostTransaction
Exec = /usr/bin/cp /usr/share/limine/BOOTX64.EFI <i>esp</i>/EFI/arch-limine/</pre>
<div class="mw-heading mw-heading3"><h3 id="BIOS">BIOS</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Keep in mind that the device paths may change with the addition or removal of devices, moving the installation to different machines, and other factors. This may cause the BIOS hook to accidentally install Limine on an unwanted device.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/99-limine.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Type = Package
Target = limine              

[Action]
Description = Deploying Limine after upgrade...
When = PostTransaction
Exec = /bin/sh -c "/usr/bin/limine bios-install <i>/dev/sdX</i> &amp;&amp; /usr/bin/cp /usr/share/limine/limine-bios.sys /boot/limine/"</pre>
<ul><li>
<code><i>/dev/sdX</i></code> is the <b>disk</b> (<b>not a partition</b>) where Limine was installed to in the previous steps.</li></ul>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Boot_entry_automation">Boot entry automation</h3></div>
<p>To automate kernel integration (<a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> or <a href="../en/Unified_kernel_image.html" class="mw-redirect" title="UKI">UKI</a>) with Limine, install:
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-dracut-support/">limine-dracut-support</a></span><sup><small>AUR</small></sup> for <a href="../en/Dracut.html" title="Dracut">Dracut</a>
</li></ul>
<p><b>or</b>
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-mkinitcpio-hook/">limine-mkinitcpio-hook</a></span><sup><small>AUR</small></sup> for <a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a>
</li></ul>
<p>Both tools include pacman hooks for automatically handling kernel entries.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>When updating or reinstalling Limine, its EFI image is automatically deployed to the ESP on UEFI system with x86_64 architecture.</li>
<li>When using legacy BIOS or alternative CPU architectures such as ARM or RISC-V, automatic deployment of the EFI binary is disabled. In those cases, a specific Limine binary must be manually deployed to your boot partition.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<p>Some non-compliant UEFI motherboards (e.g., certain <b>MSI</b> boards) have non-standard or broken EFI implementations. They may not work with <code>efibootmgr</code> or kernel-based UEFI detection.<br>
To skip UEFI detection and registration and set Limine as the fallback boot loader at the standard EFI path <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code>, run:
</p>
<pre># limine-install --skip-uefi --fallback
</pre>
<p>After that, open BIOS setup and change boot order to make the standard EFI path the default boot option.
</p>
</div>
<p><br>
</p>
<div class="mw-heading mw-heading4"><h4 id="Configurations">Configurations</h4></div>
<p>(Optional) Copy <code>/etc/limine-entry-tool.conf</code> to <code>/etc/default/limine</code> if not present.
</p>
<p>Edit <code>/etc/default/limine</code>:
</p>
<ul>
<li>If <code>bootctl --print-esp-path</code> does not detect your ESP, manually set <code>ESP_PATH</code> to any mounted FAT32 boot partition you want to use. Then run <code>limine-install</code> to install the Limine EFI binary.</li>
<li>(Optional) Set <code>KERNEL_CMDLINE[default]+=</code> with your preferred complete <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>If unsure about which kernel parameters to use, copy them from <code>/proc/cmdline</code> into <code>KERNEL_CMDLINE[default]=</code>, <b>but do not do this from a live ISO, temporary environment, or snapshot.</b>
</li>
<li>If <code>KERNEL_CMDLINE[default]=</code> or <code>KERNEL_CMDLINE=</code> is not set, the tool will first try to read from the file <code>/etc/kernel/cmdline</code>. If unavailable, it will fall back to reading from <code>/proc/cmdline</code>.</li>
<li>Optionally, <code>KERNEL_CMDLINE[fallback]=</code> applies to kernel entries containing the name <i>fallback</i>.</li>
<li>Additionally, <code>KERNEL_CMDLINE[<i>kernel name</i>]=</code> corresponds to kernel entry name in the boot menu, allowing unique kernel cmdline/parameters per kernel entry. For example, <code>KERNEL_CMDLINE[linux-lts]=</code> for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span> kernel entry.</li>
<li>
<code>KERNEL_CMDLINE[<i>key</i>]+=</code> appends kernel parameters to the existing <code>KERNEL_CMDLINE[<i>key</i>]</code> values defined in drop-in config files under <code>/etc/limine-entry-tool.d/*.conf</code>. In contrast, <code>KERNEL_CMDLINE[<i>key</i>]=</code> fully replaces them according to config priority. Example:</li>
</ul>
<pre><code>KERNEL_CMDLINE[default]="rw root=UUID=..."</code> 
<code>KERNEL_CMDLINE[default]+="quiet splash"</code>
</pre>
</div>
<ul>
<li>(Optional) To save ESP space, set <code>DRACUT_FALLBACK</code> to <code>no</code> to disable automatic fallback generation by Dracut for <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> or <a href="../en/Unified_kernel_image.html" class="mw-redirect" title="UKI">UKI</a>.</li>
<li>(Optional) If you prefer booting with <a href="../en/Unified_kernel_image.html" class="mw-redirect" title="UKI">UKI</a>, set <code>ENABLE_UKI</code> to <code>yes</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong>  <b>Advantages of UKI:</b>
<ul>
<li>
<a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> or <a href="../en/REFInd.html" title="REFInd">rEFInd</a> can automatically load UKIs generated by the tool.</li>
<li>If <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sbctl">sbctl</a></span> is installed and enabled, the tool can automatically sign the UKI with your Secure Boot key when updating or installing kernel.</li>
</ul>
</div>
<ul>
<li>(Optional) Set <code>FIND_BOOTLOADERS</code> to <code>yes</code> to detect and add systemd-boot, rEFInd, or the default EFI loader to Limine if they are present in the same ESP.</li>
<li>(Optional) Set <code>ENABLE_LIMINE_FALLBACK</code> to <code>yes</code> to make the Limine EFI entry the default fallback. Some motherboards will automatically boot this if custom boot entries get wiped by firmware updates.</li>
<li>(Optional) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kernel-modules-hook">kernel-modules-hook</a></span> to keep the kernel in case of an upgrade failure, ensuring system functionality after reboot.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  After making changes, run <code>limine-update</code> to regenerate <code>limine.conf</code>.</div>
<p>For more configuration options, refer to <a rel="nofollow" class="external text" href="https://gitlab.com/Zesko/limine-entry-tool/-/blob/master/README.md#configuration">limine-entry-tool README</a>
</p>
<div class="mw-heading mw-heading4"><h4 id="Commands">Commands</h4></div>
<ul><li>
<code>limine-install</code> installs Limine to your EFI system partition.</li></ul>
<ul><li>
<code>limine-install --fallback</code> installs Limine as the default fallback boot loader.</li></ul>
<ul><li>
<code>limine-update</code> updates Limine and generates an initramfs or UKI depending on your initramfs generator:
<ul>
<li>For mkinitcpio: run <code>limine-mkinitcpio</code> instead of <code>mkinitcpio</code>
</li>
<li>For dracut: run <code>limine-dracut</code> instead of <code>dracut</code>
</li>
</ul>
</li></ul>
<ul><li>
<code>limine-scan</code> detects active EFI boot entries (dual boot) and allows you to easily add them to Limine.</li></ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong>  Managing kernels manually with limine-entry-tool
<p>If you do not use an initramfs tool or use a different one like <a href="../en/Booster.html" title="Booster">booster</a>,
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-entry-tool/">limine-entry-tool</a></span><sup><small>AUR</small></sup> does not provide initramfs generation and does not include automatic <a href="../en/Pacman.html#Hooks" class="mw-redirect" title="Pacman hooks">pacman hooks</a> for kernel management.
You are free to create custom scripts using the <code>limine-entry-tool</code> command with your desired options to manage (add, update, and remove) boot entries.
</p>
</div>
<div class="mw-heading mw-heading3"><h3 id="Snapper_snapshot_integration_for_Btrfs">Snapper snapshot integration for Btrfs</h3></div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-snapper-sync/">limine-snapper-sync</a></span><sup><small>AUR</small></sup> tool provides integration between <a href="../en/Snapper.html" title="Snapper">Snapper</a> and the Limine boot loader. It is useful for:
</p>
<ul>
<li>Booting into selected <a href="../en/Snapper.html" title="Snapper">Snapper</a> snapshot.</li>
<li>Providing 3 different methods for restoring a system snapshot: <code>rsync</code>, <code>replace</code> or native <code>snapper</code>.</li>
<li>Adding a "backup" snapshot entry to the Limine bootloader after restoring a snapshot, making it easy to revert if needed.</li>
<li>Automatically repairing corrupted bootable files from old snapshots on the ESP when a new snapshot with the same bootable files is created.</li>
<li>Automatically logging error messages about potential hardware issues if two hashes of the same bootable file do not match on the ESP.</li>
<li>Testing read-only snapshots: Use <a href="../en/Overlay_filesystem.html" class="mw-redirect" title="Overlayfs">overlayfs</a> to test any installed packages on an immutable-like system without modifying the original data. Note that this does not mean testing the boot partition or a separate home subvolume/partition.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <b>Enable OverlayFS</b>
<p>For <a href="../en/Dracut.html" title="Dracut">dracut</a>, the <code>btrfs-snapshot-overlay</code> module works out of the box when using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-dracut-support/">limine-dracut-support</a></span><sup><small>AUR</small></sup>.
</p>
<p>For <a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a>, manually add the <code>btrfs-overlayfs</code> or <code>sd-btrfs-overlayfs</code> <a href="../en/Mkinitcpio.html#HOOKS" title="Mkinitcpio">hook</a> after the <code>filesystems</code> hook. Both are provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-mkinitcpio-hook/">limine-mkinitcpio-hook</a></span><sup><small>AUR</small></sup>.<br>
When using the <a href="../en/Mkinitcpio.html#Common_hooks" title="Mkinitcpio">systemd hooks</a>, use <code>sd-btrfs-overlayfs</code>, as <code>btrfs-overlayfs</code> is incompatible.
</p>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If you are using GNOME, be aware that <a href="../en/GDM.html" title="GDM">GDM</a> requires write access and cannot start from a read-only snapshot. You need an OverlayFS solution to provide a temporary writable layer.
<hr>
<p>The directory path <code>/usr/lib/modules/*</code> must be in the same root subvolume as <code>/</code>, because a selected snapshot requires its matching kernel modules from this path during boot. Otherwise, the snapshot will fail to boot.
</p>
</div>
<div class="mw-heading mw-heading4"><h4 id="Configurations_2">Configurations</h4></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> It is recommended to have an <a href="../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a> size of more than <b>4 GiB</b>, depending on how many bootable snapshots, kernel versions, and large early-boot modules (e.g., NVIDIA or Wi‑Fi drivers) you plan to install.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <b>Automatic boot configuration</b>
<p>Use <code>limine-dracut-support</code> or <code>limine-mkinitcpio-hook</code> (see <a href="#Boot_entry_automation">#Boot entry automation</a>)  to automatically update kernel boot entries in <code><i>esp</i>/limine.conf</code> whenever kernels are installed, updated, or removed. This allows you to skip the first configuration step below.
</p>
</div>
<p>1. Configure <code><i>esp</i>/limine.conf</code> to include either the <code>//Snapshots</code> or <code>/Snapshots</code> keyword for auto-generated snapshot entries.
</p>
<p>An example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">limine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/+Arch Linux
comment: Any comment
comment: machine-id=<i>yyyyyyyyyyyyyyyyyy</i>

    //Linux
    protocol: linux
    path: boot():/vmlinuz-linux
    cmdline: root=UUID=<i>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</i> rw rootflags=subvol=/@
    module_path: boot():/initramfs-linux.img
    
    //Snapshots</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Including the machine-ID from <code>/etc/machine-id</code> is optional but very helpful for automatic identification. Renaming OS names does not matter.</li>
<li>Bootable files must be placed in the same ESP as limine.conf, as only the <code>boot():</code> function is supported.</li>
</ul>
</div>
<p>2. (Optional) Copy any configurations from <code>/etc/limine-snapper-sync.conf</code> to <code>/etc/default/limine</code> if they are not already present.
</p>
<p>Edit <code>/etc/default/limine</code>, which will override <code>/etc/limine-snapper-sync.conf</code>:
</p>
<ul>
<li>If <code>bootctl --print-esp-path</code> does not detect your ESP, manually set <code>ESP_PATH</code> to your <a href="../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a>/boot mount point.</li>
<li>(Optional) Set <code>MAX_SNAPSHOT_ENTRIES</code> to limit the number of snapshot entries. The default is 8.</li>
<li>(Optional) Set <code>LIMIT_USAGE_PERCENT</code> to stop creating new snapshot entries when the limit of ESP usage is exceeded. The default is 85.</li>
</ul>
<ul><li>If using <b>custom</b> Snapper layout, make sure to configure the following:
<ul>
<li>Specify <code>ROOT_SUBVOLUME_PATH</code> for the path to your root subvolume. The default is <code>/@</code> in most cases.</li>
<li>Specify <code>ROOT_SNAPSHOTS_PATH</code> for the path to your root snapshots. The default is <code>/@/.snapshots</code>, which is the standard Snapper layout for the root subvolume <code>/@</code>.</li>
</ul>
</li></ul>
<p>3. Run the command to check if it succeeds or shows an error message:
</p>
<pre># limine-snapper-sync
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  If it shows an error that command <code>limine-reset-enroll</code> and <code>limine-enroll-config</code> not found, these commands are provided by either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-dracut-support/">limine-dracut-support</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-mkinitcpio-hook/">limine-mkinitcpio-hook</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/limine-entry-tool/">limine-entry-tool</a></span><sup><small>AUR</small></sup>, which is not installed. 
<p>This error can be safely ignored if you do not use them.  Alternatively, to prevent this error,  edit <code>/etc/limine-snapper-sync.conf</code> to remove two lines:
</p>
<pre><code>COMMANDS_BEFORE_SAVE="limine-reset-enroll"</code> 
<code>COMMANDS_AFTER_SAVE="limine-enroll-config"</code>
</pre>
</div>  
<p>4. If everything works, then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>limine-snapper-sync.service</code> to automatically synchronize boot entries with the Snapper snapshot list.
</p>
<pre># systemctl enable --now limine-snapper-sync.service
</pre>
<p>5. (Optional) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=snap-pac">snap-pac</a></span>. It triggers Snapper to create snapshots during system updates, which limine-snapper-sync then synchronizes to generate related snapshot entries in Limine.
</p>
<p>For further details and additional configuration options, refer to <a rel="nofollow" class="external text" href="https://gitlab.com/Zesko/limine-snapper-sync/-/blob/master/README.md">limine-snapper-sync README</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Commands_2">Commands</h4></div>
<ul>
<li>
<code>limine-snapper-sync</code> synchronizes Limine snapshot entries with the Snapper list.</li>
<li>
<code>limine-snapper-list</code> displays the current Limine snapshot entries.</li>
<li>
<code>limine-snapper-info</code> provides detailed information about versions, the total number of bootable snapshots, and verifies bootable files.</li>
<li>
<code>limine-snapper-restore</code> restores your system, including matching kernel versions, from a selected bootable snapshot.</li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Known_issues">Known issues</h4></div>
<ul>
<li>Supports only any Snapper layouts, not arbitrary Btrfs layouts without Snapper.</li>
<li>Cannot generate bootable snapshot entries for old snapshots created before the tool was installed, as these snapshots typically no longer have their corresponding kernel versions.</li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Troubleshooting">Troubleshooting</h4></div>
<p>Having problems? Check out the <a rel="nofollow" class="external text" href="https://gitlab.com/Zesko/limine-snapper-sync#troubleshooting">troubleshooting guide in the README</a>
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul><li><a rel="nofollow" class="external text" href="https://codeberg.org/Limine/Limine">Limine's Codeberg repository</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Boot_loaders.html" title="Category:Boot loaders">Boot loaders</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Limine&amp;oldid=854373">https://wiki.archlinux.org/index.php?title=Limine&amp;oldid=854373</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 November 2025, at 08:51.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Limine</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
