<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Perl Policy - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Perl_Policy rootpage-Perl_Policy skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Introduction" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Introduction">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Introduction</div>
		</a>
		
			<button aria-controls="toc-Introduction-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Introduction subsection</span>
			</button>
		
		<ul id="toc-Introduction-sublist" class="vector-toc-list">
			<li id="toc-5.10_caveats" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#5.10_caveats">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>5.10 caveats</div>
			</a>
			
			<ul id="toc-5.10_caveats-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Reasoning" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Reasoning">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Reasoning</div>
			</a>
			
			<ul id="toc-Reasoning-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pitfalls" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pitfalls">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Pitfalls</div>
			</a>
			
			<ul id="toc-Pitfalls-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Perl_versions" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Perl_versions">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Perl versions</div>
		</a>
		
		<ul id="toc-Perl_versions-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Module_paths" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Module_paths">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Module paths</div>
		</a>
		
		<ul id="toc-Module_paths-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Documents" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Documents">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Documents</div>
		</a>
		
		<ul id="toc-Documents-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Binaries_and_scripts" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Binaries_and_scripts">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Binaries and scripts</div>
		</a>
		
		<ul id="toc-Binaries_and_scripts-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Core" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Core">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Core</div>
		</a>
		
			<button aria-controls="toc-Core-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Core subsection</span>
			</button>
		
		<ul id="toc-Core-sublist" class="vector-toc-list">
			<li id="toc-Core_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Core_directories">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Core directories</div>
			</a>
			
			<ul id="toc-Core_directories-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Core_perl_packages" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Core_perl_packages">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Core perl packages</div>
			</a>
			
			<ul id="toc-Core_perl_packages-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Site" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Site">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Site</div>
		</a>
		
			<button aria-controls="toc-Site-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Site subsection</span>
			</button>
		
		<ul id="toc-Site-sublist" class="vector-toc-list">
			<li id="toc-Site_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Site_directories">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Site directories</div>
			</a>
			
			<ul id="toc-Site_directories-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Site_installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Site_installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Site installation</div>
			</a>
			
			<ul id="toc-Site_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Vendor" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Vendor">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Vendor</div>
		</a>
		
			<button aria-controls="toc-Vendor-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Vendor subsection</span>
			</button>
		
		<ul id="toc-Vendor-sublist" class="vector-toc-list">
			<li id="toc-Package_naming" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Package_naming">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Package naming</div>
			</a>
			
			<ul id="toc-Package_naming-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Vendor_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Vendor_directories">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Vendor directories</div>
			</a>
			
			<ul id="toc-Vendor_directories-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Vendor_installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Vendor_installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Vendor installation</div>
			</a>
			
			<ul id="toc-Vendor_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sample_vendor_PKGBUILD" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sample_vendor_PKGBUILD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>Sample vendor PKGBUILD</div>
			</a>
			
			<ul id="toc-Sample_vendor_PKGBUILD-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Dependencies" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Dependencies">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5</span>Dependencies</div>
			</a>
			
			<ul id="toc-Dependencies-sublist" class="vector-toc-list">
				<li id="toc-Binary_modules" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Binary_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5.1</span>Binary modules</div>
			</a>
			
			<ul id="toc-Binary_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Architecture-independent_modules" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Architecture-independent_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5.2</span>Architecture-independent modules</div>
			</a>
			
			<ul id="toc-Architecture-independent_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Perl6" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Perl6">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Perl6</div>
		</a>
		
		<ul id="toc-Perl6-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Perl Policy</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>This page covers the policy for how perl itself is configured and packaged. For Perl module packaging guidelines, see <a href="../en/Perl_package_guidelines.html" title="Perl package guidelines">Perl package guidelines</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>This policy document was proposed, accepted, and implemented in version 5.10.0 of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl">perl</a></span> package. It is the standard regarding to the <i>perl</i> package, related Perl packages, and creating Perl module packages (both in binary form and in the form of PKGBUILDs). Portions are derived from the <a rel="nofollow" class="external text" href="https://www.debian.org/doc/packaging-manuals/perl-policy/index.html">Debian Perl Policy</a> document and from various portions of the Perl man pages.
</p>
<h3><span class="mw-headline" id="5.10_caveats">5.10 caveats</span></h3>
<p>NOT TRUE: The directories for scripts do not conform to the Filesystem Hierarchy Standard (FHS).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The FHS describes what directories must be in <code>/usr/bin</code> and does not prohibit adding other directories.</div>
<h3><span class="mw-headline" id="Reasoning">Reasoning</span></h3>
<p>Apparent problems with pre-5.10.0 perl packaging conventions included:
</p>
<ol>
<li>The current Arch Linux default perl installation installs <i>site</i> and <i>vendor</i> packages into the same directory tree, which frequently causes conflicts if the end user installs and upgrades Arch Linux perl (<i>vendor</i>) packages on top of <i>site</i> packages.</li>
<li>The current Arch Linux default perl installation installs updates to <i>core</i> modules into the perl <i>core</i> directories, creating file conflicts. Examples include modules such as <code>Data::Dumper</code> and <code>version</code>.</li>
<li>A symlink-farm is created in <code>/usr/lib/perl5/</code> and <code>/usr/lib/perl5/site_perl</code> which is un-necessary and confusing.</li>
<li>A number of standard modules seem to be missing, or were neglected to be added as <i>provides</i> in the <i>perl</i> package itself, causing confusion and redundant entries in AUR and repositories as users try and <i>fix</i> the apparent problem of missing modules, which are provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl">perl</a></span>. This is probably a matter of education.</li>
<li>Current perl-module PKGBUILD's could be simplified and standardized quite a bit.</li>
</ol>
<p>This policy would eliminate all these problems.
</p>
<h3><span class="mw-headline" id="Pitfalls">Pitfalls</span></h3>
<p>Current (apparent) downsides to adopting a policy such as this one:
</p>
<ol>
<li>An update of every perl module PKGBUILD so that it installs into the correct (<i>vendor</i>) directory tree. It remains somewhat backwards-compatible with the old structure, in that old PKGBUILD's would technically <b>work</b>.</li>
<li>Introduces changes into the <i>perl</i> package, which lives in the <i>core</i> repository, and proposes a new <i>perl-modules</i> package, which would live in the <i>extra</i> repository.</li>
<li>Non-perl packages which compile static copies of the perl interpreter will not operate correctly until recompiled on an Arch Linux PC which adheres to this document. Examples of such packages include <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vim">vim</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=subversion">subversion</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=irssi">irssi</a></span>. Many such examples exist.</li>
</ol>
<h2><span class="mw-headline" id="Perl_versions">Perl versions</span></h2>
<p>At any given time, the package <i>perl</i> should represent the current stable upstream version of Perl revision 5. (see Perl 6).
</p>
<p>Only one package may contain the <code>/usr/bin/perl</code> binary and that package must either be <i>perl</i> or a dependency of that package. In order to provide a minimal installation of Perl for use by applications without requiring the whole of Perl to be installed, the <i>perl</i> package contains the binary and a basic set of modules. The <i>perl</i> package should declare <i>provide</i> statements for every module provided by the base <i>perl</i> package.
</p>
<h2><span class="mw-headline" id="Module_paths">Module paths</span></h2>
<p>Perl searches three different locations for modules, referred to in this document as <i>core</i> in which modules distributed with Perl are installed, <i>vendor</i> for packaged modules, and <i>site</i> for modules installed by the local administrator.
</p>
<p>The module search path (<code>@INC</code>) in the Arch Linux packages has been ordered to include these locations in the following order:
</p>
<ul><li><i><b>site</b></i></li></ul>
<p>Modules installed by the local administrator for the current version of Perl. Typically, these modules are installed using the <i>cpan</i> or <i>cpanp</i> tool, or are downloaded in source form and installed via make.
</p>
<dl>
<dd><code>/usr/lib/perl5/site_perl/<i>version</i></code></dd>
<dd><code>/usr/share/perl5/site_perl/<i>version</i></code></dd>
</dl>
<ul><li><i><b>vendor</b></i></li></ul>
<p>Packaged modules, installed via the pacman tool from the <i>core</i> or <i>extra</i> repositories, or built into proper Arch Linux packages from ABS/AUR PKGBUILDs.
</p>
<dl>
<dd><code>/usr/lib/perl5/vendor_perl</code></dd>
<dd><code>/usr/share/perl5/vendor_perl</code></dd>
</dl>
<ul><li><i><b>core</b></i></li></ul>
<p>Modules included in the core Perl distribution.
</p>
<dl>
<dd><code>/usr/lib/perl5/core_perl</code></dd>
<dd><code>/usr/share/perl5/core_perl</code></dd>
</dl>
<ul><li><i><b>obsolete</b></i></li></ul>
<p>Obsolete is the path name to modules installed prior to the establishment of this document. These paths have been removed from @INC in perl 5.12.2.
</p>
<dl>
<dd><code>/usr/lib/perl5/site_perl/current/arch</code></dd>
<dd><code>/usr/lib/perl5/site_perl/current</code></dd>
<dd><code>/usr/lib/perl5/current</code></dd>
</dl>
<p>In each of the directory pairs above, the <code>lib</code> component is for binary, architecture dependent (XS) modules, and <code>share</code> for architecture-independent (pure-perl) modules. Under no circumstances should <code>current</code> be used as a replacement for <code>version</code>. Core and Vendor modules <i>should</i> be matched to the current installation of perl.
</p>
<h2><span class="mw-headline" id="Documents">Documents</span></h2>
<p>The POD files and manual pages and HTML documentation which do not refer to programs may be stripped from the package, which is normal for most Arch Linux packages in general. This is optional.
</p>
<p>Manual pages distributed with Perl packages must be installed into the standard directories:
</p>
<dl>
<dt>Programs</dt>
<dd>Manual pages for programs and scripts are installed into <code>/usr/man/man1</code> with the extension <code>.1perl</code>.</dd>
<dt>Modules</dt>
<dd>Manual pages for modules are installed into <code>/usr/man/man3</code> with the extension <code>.3perl</code>.</dd>
</dl>
<h2><span class="mw-headline" id="Binaries_and_scripts">Binaries and scripts</span></h2>
<p>In order to prevent file collisions, it is important to keep binaries generated by <i>core</i>, <i>vendor</i>, and <i>site</i> installs separate. It is also important that the default <code>PATH</code> environment variable set in each users profile to search for binaries in the same order as perl's <code>@INC</code> path. In order to accomplish this, binaries should be installed into the following directories:
</p>
<dl>
<dt>Core</dt>
<dd>Binaries and scripts for all <i>core</i> packages should be installed into <code>/usr/bin/core_perl</code>.</dd>
<dt>Vendor</dt>
<dd>Binaries and scripts for all <i>vendor</i> packages should be installed into <code>/usr/bin/vendor_perl</code>.</dd>
<dt>Site</dt>
<dd>Binaries and scripts for all <i>site</i> should default to be installed into <code>/usr/bin/site_perl</code>.</dd>
</dl>
<p>The <code>perl</code> package should include a mechanism to adjust end-users <code>PATH</code> entries accordingly so that perl binaries are searched for in the following order: <i>site</i>, <i>vendor</i>, <i>core</i>.
</p>
<h2><span class="mw-headline" id="Core">Core</span></h2>
<p>Core modules are Perl modules "typically" included in the core Perl distribution.
</p>
<h3><span class="mw-headline" id="Core_directories">Core directories</span></h3>
<ul>
<li>Modules included in the core Perl distribution should be installed into <code>/usr/lib/perl5</code> and <code>/usr/share/perl5</code>.</li>
<li>Only modules contained in the <i>perl</i> package should be installed into this directory tree.</li>
<li>No version subdirectory exists in these paths as the dependencies for packaged modules should ensure that all work with the current <i>perl</i> package.</li>
</ul>
<h3><span class="mw-headline" id="Core_perl_packages">Core perl packages</span></h3>
<p>The <i>perl</i> package should contain the <code>/usr/bin/perl</code> binary, and a minimal set of modules needed in order for simple perl scripts to run and for a base system to operate. It should be maintained in the <i>core</i> repository.
</p>
<p>The following is a list of a few modules (for example), which are provided in the <i>perl</i> package. (See the PKGBUILD for the official list).
</p>
<p><code>'perl-checktree' 'perl-collate' 'perl-config' 'perl-cwd' 'perl-dynaloader' 'perl-english' 'perl-env' 'perl-exporter' 'perl-fnctl' 'perl-filehandle' 'perl-find' 'perl-finddepth' 'perl-getopt' 'perl-makemaker' 'perl-socket' 'perl-sys-syslog' 'perl-db-file' 'perl-storable' 'perl-data-dumper' 'perl-digest-md5'</code>.
</p>
<p>Every module supplied in the perl package shall be added into the <code>provides</code> array in the PKGBUILD. Modules in this array should NOT appear in the perl packages <code>conflicts</code> or <code>replaces</code> arrays. End users should be able to install newer versions of core modules, either in <i>vendor</i> or <i>site</i> directories without file collisions.
</p>
<h2><span class="mw-headline" id="Site">Site</span></h2>
<p>Site modules are perl modules installed by the local administrator for the current version of Perl. Typically, these modules are installed using the cpan tool, or are downloaded in source form and installed via make (or MakeMaker).
</p>
<h3><span class="mw-headline" id="Site_directories">Site directories</span></h3>
<p>The Perl packages must provide a mechanism for the local administrator to install modules under <code>/usr/lib/perl5/site_perl</code> but must not create or remove those directories.
</p>
<p>Modules should be installed to the directories described above in Module Path <code>site</code>, programs to <code>/usr/bin/site_perl</code> and manual pages under <code>/usr/man</code>.
</p>
<h3><span class="mw-headline" id="Site_installation">Site installation</span></h3>
<p>The following commands should be sufficient in the majority of cases for the local administrator to install modules and must create directories as required:
</p>
<pre>perl Makefile.PL
make install
</pre>
<p>or
</p>
<pre>cpan Foo::Bar
</pre>
<h2><span class="mw-headline" id="Vendor">Vendor</span></h2>
<p>Vendor modules are packaged modules, installed via the pacman tool, or modules which have been built into proper Arch Linux packages from a PKGBUILD and makepkg.
</p>
<h3><span class="mw-headline" id="Package_naming">Package naming</span></h3>
<p>Perl module packages should be named for the primary module provided. The naming convention for module Foo::Bar is perl-foo-bar. Packages which include multiple modules may additionally include provides for those modules using the same convention.
</p>
<h3><span class="mw-headline" id="Vendor_directories">Vendor directories</span></h3>
<p>The installation directory for Arch Linux modules must be different from that for <code>site</code> modules. Some guidelines include:
</p>
<ul>
<li>The current Perl packaging uses the <i>vendor</i> directories for this purpose, which are at present as described in above as <code>vendor</code>.</li>
<li>No version subdirectory exists on these directories as the dependencies for packaged modules should ensure that all work with the current <i>perl</i> package.</li>
<li>The Perl distribution includes many modules available separately from CPAN, which may have a newer version. The intent of the <code>@INC</code> ordering (described above) is to allow such modules to be packaged to <i>vendor</i> which take precedence over the version in <i>core</i>. A packaged module which shadows a <i>core</i> module in this way must be a newer version.</li>
<li>Module packages must install manual pages into the standard directories using the extensions <code>.1p</code> and <code>.3pm</code> to ensure that no conflict arises where a packaged module duplicates a <i>core</i> module.</li>
<li>
<code>.packlist</code> (used for module uninstalls) and <code>perllocal.pod</code> (used to record local/site installations) files should not be installed, and should be removed from the package if found.</li>
<li>Empty directories should be pruned.</li>
</ul>
<h3><span class="mw-headline" id="Vendor_installation">Vendor installation</span></h3>
<p>A module should use the following lines in the PKGBUILD build target.
</p>
<pre>perl Makefile.PL INSTALLDIRS=vendor
</pre>
<p>and this one to install the results into the temporary tree...
</p>
<pre>make install DESTDIR="${pkgdir}" install
</pre>
<p>A depends on perl (&gt;= 5.10.0) is required in order ensure that the module is correctly installed into the new <code>@INC</code> path.
</p>
<h3><span class="mw-headline" id="Sample_vendor_PKGBUILD">Sample vendor PKGBUILD</span></h3>
<pre># $Id$
# Contributor: Barry User &lt;barry@user.com&gt;
# Maintainer: Harry Hacker &lt;harry@hacker.com&gt;

pkgname=perl-html-template
_realname=HTML-Template
pkgver=2.9
pkgrel=2
pkgdesc="Perl/CPAN Module HTML::Template : a simple HTML templating system"
arch=('any')
url="https://search.cpan.org/dist/${_realname}/"
license=('GPL' 'Artistic')
depends=('perl&gt;=5.10.0')
source=("https://www.cpan.org/authors/id/S/SA/SAMTREGAR/${_realname}-${pkgver}.tar.gz")
md5sums=("cbf88a486b36284be55765ac7357c187")
options=('!emptydirs')

build() {
  cd "${_realname}-${pkgver}"
 
 # Setting these env variables overwrites any command-line options we don't want...
 export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps \
   PERL_MM_OPT="INSTALLDIRS=vendor DESTDIR='$pkgdir'" \
   PERL_MB_OPT="--installdirs vendor --destdir '$pkgdir'" \
   PERL5LIB="" PERL_LOCAL_LIB_ROOT="" \
   MODULEBUILDRC=/dev/null

 # If using Makefile.PL
 { /usr/bin/perl Makefile.PL &amp;&amp;
   make &amp;&amp;
   make test &amp;&amp;
   make install; } || return 1

 # If using Build.PL
 { /usr/bin/perl Build.PL &amp;&amp;
   ./Build &amp;&amp;
   ./Build test &amp;&amp;
   ./Build install; } || return 1

 # remove perllocal.pod and .packlist
 find "$pkgdir" \( -name .packlist -o -name perllocal.pod \) -delete 
}
</pre>
<h3><span class="mw-headline" id="Dependencies">Dependencies</span></h3>
<h4><span class="mw-headline" id="Binary_modules">Binary modules</span></h4>
<p>Binary modules must specify a dependency on either <code>perl</code> with a minimum version of the <code>perl</code> package used to build the module, and must additionally depend on the expansion of <code>perlapi-$Config{version}</code> using the <code>Config</code> module.
</p>
<h4><span class="mw-headline" id="Architecture-independent_modules">Architecture-independent modules</span></h4>
<p>Architecture-independent modules which require <i>core</i> modules from the <code>perl</code> package must specify a dependency on that package.
</p>
<p>Modules which contain explicit <code>require <i>version</i></code> or <code>use <i>version</i></code> statements must specify a dependency on <code>perl</code> with the minimum required version, or more simply the current version.
</p>
<p>In the absence of an explicit requirement, architecture-independent modules must depend on a minimum <code>perl</code> version of <code>5.10.0</code> due to the changes in <code>@INC</code> introduced by that version.
</p>
<h2><span class="mw-headline" id="Perl6">Perl6</span></h2>
<p>There is currently work in progress on the next major revision, although the specifications have yet to be finalised.
</p>
<p>It is anticipated that when Perl 6 is released it will initially be packaged as perl6, install the binary as <code>/usr/bin/perl6</code>, and use different directories for packaged modules to perl:
</p>
<dl>
<dd><code>/usr/lib/perl6</code></dd>
<dd><code>/usr/share/perl6</code></dd>
</dl>
<p>This will allow Perl 5 and 6 packages and modules (which should be packaged as perl6-foo-bar), to coexist for as long as required.
</p>
<p>At some stage in the future when Perl 6 is sufficiently mature, the package naming may be reversed such that the <code>perl</code> package contains Perl 6 and the current package becomes <code>perl5</code>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Package_development.html" title="Category:Package development">Package development</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Perl_Policy&amp;oldid=778721">https://wiki.archlinux.org/index.php?title=Perl_Policy&amp;oldid=778721</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 19 May 2023, at 21:11.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
