<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Jitsi-meet - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Jitsi-meet rootpage-Jitsi-meet skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Configuration_paths" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_paths">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Configuration paths</span>
				</div>
			</a>
			
			<ul id="toc-Configuration_paths-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Loopback" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Loopback">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Loopback</span>
				</div>
			</a>
			
			<ul id="toc-Loopback-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_prosody" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_prosody">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Configure prosody</span>
				</div>
			</a>
			
			<ul id="toc-Configure_prosody-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_jitsi-videobridge" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_jitsi-videobridge">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Configure jitsi-videobridge</span>
				</div>
			</a>
			
			<ul id="toc-Configure_jitsi-videobridge-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_jicofo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_jicofo">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.5</span>
					<span>Configure jicofo</span>
				</div>
			</a>
			
			<ul id="toc-Configure_jicofo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_jitsi-meet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_jitsi-meet">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.6</span>
					<span>Configure jitsi-meet</span>
				</div>
			</a>
			
			<ul id="toc-Configure_jitsi-meet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_nginx" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_nginx">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.7</span>
					<span>Configure nginx</span>
				</div>
			</a>
			
			<ul id="toc-Configure_nginx-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Running_the_server_behind_a_NAT" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_the_server_behind_a_NAT">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Running the server behind a NAT</span>
				</div>
			</a>
			
			<ul id="toc-Running_the_server_behind_a_NAT-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Jitsi_gateway_to_SIP_(Jigasi)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Jitsi_gateway_to_SIP_(Jigasi)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Jitsi gateway to SIP (Jigasi)</span>
				</div>
			</a>
			
			<ul id="toc-Jitsi_gateway_to_SIP_(Jigasi)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Access_restrictions_for_room_creation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Access_restrictions_for_room_creation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Access restrictions for room creation</span>
				</div>
			</a>
			
			<ul id="toc-Access_restrictions_for_room_creation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Access_restrictions_with_JWT_token" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Access_restrictions_with_JWT_token">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Access restrictions with JWT token</span>
				</div>
			</a>
			
			<ul id="toc-Access_restrictions_with_JWT_token-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Log_evaluation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Log_evaluation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Log evaluation</span>
				</div>
			</a>
			
			<ul id="toc-Log_evaluation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Running_own_STUN_server" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_own_STUN_server">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6</span>
					<span>Running own STUN server</span>
				</div>
			</a>
			
			<ul id="toc-Running_own_STUN_server-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Check_your_logs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Check_your_logs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Check your logs</span>
				</div>
			</a>
			
			<ul id="toc-Check_your_logs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ask_help_on_Matrix_rooms" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ask_help_on_Matrix_rooms">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Ask help on Matrix rooms</span>
				</div>
			</a>
			
			<ul id="toc-Ask_help_on_Matrix_rooms-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Jitsi-meet</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Jitsi-meet" title="Jitsi-meet – 日本語" lang="ja" hreflang="ja" data-title="Jitsi-meet" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-uk mw-list-item"><a href="../uk/Jitsi-meet.html" title="Jitsi-meet – українська" lang="uk" hreflang="uk" data-title="Jitsi-meet" data-language-autonym="Українська" data-language-local-name="українська" class="interlanguage-link-target"><span>Українська</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://jitsi.org">Jitsi</a> is a set of open-source projects that allows you to easily build and deploy secure videoconferencing solutions. At the heart of Jitsi are <i>Jitsi Videobridge</i> and <i>Jitsi Meet</i>, which let you have conferences on the internet, while other projects from the community enable other features such as audio, dial-in, recording, and simulcasting.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><i>Jitsi-meet</i> consists of severals components:
</p>
<ul>
<li>
<code>jitsi-meet</code>: the files for the webinterface, accessed via files served by a webserver</li>
<li>
<code>jitsi-meet-prosody</code>: the prosody plugins for jitsi</li>
<li>
<code>jitsi-meet-turnserver</code>: the configs example to run a stun/turn server</li>
<li>
<code>jitsi-videobridge</code>: the video bridging service providing video streams to all participants</li>
<li>
<code>jicofo</code>: the Jitsi conference focus determining who is speaking</li>
<li>
<a href="../en/Prosody.html" title="Prosody">Prosody</a>: a free XMPP server serving as the base of the setup</li>
</ul>
<p>A graphical overview of the interfaces to the user and towards each other is given <a rel="nofollow" class="external text" href="https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-scalable/">upstream</a>.
</p>
<p>You can either use the git versions, the nightly version or the stable versions.
</p>
<p>It is possible to install them at the same time, but you will need to use separate port and several instances of prosody (the plugins cannot be scope by virtual host).
</p>
<p>You need to choose between the normal or the bin version. The bin one conflicts with the normal version (i.e. nightly and nightly-bin can not be installed at the same time, but stable and nightly can be).
</p>
<p>Try to stick with only one of them:
</p>
<ul>
<li><a href="#Configuration_paths">stable</a></li>
<li><a href="#Configuration_paths">nightly</a></li>
<li><a href="#Configuration_paths">git</a></li>
</ul>
<p>You need those optionals packages to run a standalone server:
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nginx">nginx</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coturn">coturn</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=prosody">prosody</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52">lua52</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52-sec">lua52-sec</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52-zlib">lua52-zlib</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lua52-event/">lua52-event</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This configuration yields an open server for everyone to connect. Refer to the <a rel="nofollow" class="external text" href="https://jitsi.org/blog/security/">Jitsi philosophy</a> for rationale. See <a href="#Tips_and_tricks">#Tips and tricks</a> for authentication.</div>
<p>If your server name is <code>example.com</code> then a common choice for your jitsi will be <code>meet.example.com</code>, but you can choose freely. It is however strongly encouraged from security standpoint to host webapps on their own subdomain. You will need to update DNS record for your server with an entry of your chosen subdomain, in the above example <code>meet</code>. The remainder assumes that you have done this.
</p>
<p>Also you should have SSL/TLS certificates for your <code>meet.example.com</code> domain, on how to obtain free certificates see <a href="../en/Certbot.html" title="Certbot">certbot</a>.
</p>
<p>In the following, the following placeholders are used:
</p>
<ul>
<li>
<code>JITSIFQDN</code>: your <code>jitsi-meet</code> domain, e.g. <code>meet.example.com</code>
</li>
<li>
<code>SECRET_JVB_USER</code>: password for the videobridge</li>
<li>
<code>SECRET_FOCUS_USER</code>: password for the authenticator</li>
</ul>
<p>Passwords should be obtained in a safe way, e.g. via <code>mktemp -u XXXXXXXX</code> or via <code>pwgen</code>. <b>Make sure to use different and safe passwords!</b>
</p>
<h3><span class="mw-headline" id="Configuration_paths">Configuration paths</span></h3>
<table class="wikitable">

<tbody>
<tr>
<th>Package
</th>
<th>Configuration path
</th>
</tr>
<tr>
<td colspan="2" style="background: inherit; color: inherit; vertical-align: middle; text-align: center;">
<b>Stable</b>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet/">jitsi-meet</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-bin/">jitsi-meet-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/webapps/jitsi-meet</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody/">jitsi-meet-prosody</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody-bin/">jitsi-meet-prosody-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/lib/jitsi-meet-prosody</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-turnserver/">jitsi-meet-turnserver</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-turnserver-bin/">jitsi-meet-turnserver-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/share/doc/jitsi-meet-turnserver</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jicofo/">jicofo</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jicofo-bin/">jicofo-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jicofo</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-videobridge/">jitsi-videobridge</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-videobridge-bin/">jitsi-videobridge-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jitsi-videobridge</code>
</td>
</tr>
<tr>
<td colspan="2" style="background: inherit; color: inherit; vertical-align: middle; text-align: center;">
<b>Nightly</b>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-nightly/">jitsi-meet-nightly</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-nightly-bin/">jitsi-meet-nightly-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/webapps/jitsi-meet-nightly</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody-nightly/">jitsi-meet-prosody-nightly</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody-nightly-bin/">jitsi-meet-prosody-nightly-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/lib/jitsi-meet-prosody-nightly</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-turnserver-nightly/">jitsi-meet-turnserver-nightly</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-turnserver-nightly-bin/">jitsi-meet-turnserver-nightly-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/share/doc/jitsi-meet-turnserver-nightly</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jicofo-nightly/">jicofo-nightly</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jicofo-nightly-bin/">jicofo-nightly-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jicofo-nightly</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-videobridge-nightly/">jitsi-videobridge-nightly</a></span><sup><small>AUR</small></sup><br><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-videobridge-nightly-bin/">jitsi-videobridge-nightly-bin</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jitsi-videobridge-nightly</code>
</td>
</tr>
<tr>
<td colspan="2" style="background: inherit; color: inherit; vertical-align: middle; text-align: center;">
<b>Git</b>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-git/">jitsi-meet-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/webapps/jitsi-meet-git</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody-git/">jitsi-meet-prosody-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/lib/jitsi-meet-prosody-git</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-turnserver-git/">jitsi-meet-turnserver-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/usr/share/doc/jitsi-meet-turnserver-git</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jicofo-git/">jicofo-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jicofo-git</code>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-videobridge-git/">jitsi-videobridge-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
<code>/etc/jitsi-videobridge-git</code>
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Loopback">Loopback</span></h3>
<p>Let us jitsi-meet components reach each other with local ip. It works even if your domain is behind a proxy like Cloudflare which does not return the real ip of the server.
</p>
<p>In <code>/etc/hosts</code>:
</p>
<pre>127.0.0.1 <b>JITSIFQDN</b> auth.<b>JITSIFQDN</b>
::1 <b>JITSIFQDN</b> auth.<b>JITSIFQDN</b></pre>
<h3><span class="mw-headline" id="Configure_prosody">Configure prosody</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=prosody">prosody</a></span> is a prerequisite and you will need to add a configuration to it for your Jitsi services. If you do not already have a prosody server set up, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=prosody">prosody</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52-sec">lua52-sec</a></span> now. The rest of the prosody configuration assumes you have a local install of prosody. 
</p>
<p>The package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jitsi-meet-prosody/">jitsi-meet-prosody</a></span><sup><small>AUR</small></sup> provides a configuration you can easily customize:
</p>
<pre># cd /etc/prosody
# mkdir conf.d
# cp /usr/share/doc/jitsi-meet-prosody/prosody.cfg.lua-jvb.example conf.d/jitsi.cfg.lua
</pre>
<p>Then add this at the end of:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/prosody.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Include "conf.d/*.cfg.lua"</pre>
<p>Customize your configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/conf.d/jitsi.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- replace all occurences of <b>jitmeet.example.com</b> by <b>JITSIFQDN</b>
-- replace all occurences of <b>focusUser</b> by <b>focus</b>
-- then add or update those section

VirtualHost "<b>JITSIFQDN</b>"
    ssl = {
        key = "/etc/prosody/certs/<b>JITSIFQDN</b>.key";
        certificate = "/etc/prosody/certs/<b>JITSIFQDN</b>.crt";
    }

VirtualHost "auth.<b>JITSIFQDN</b>"
    ssl = {
        key = "/etc/prosody/certs/auth.<b>JITSIFQDN</b>.key";
        certificate = "/etc/prosody/certs/auth.<b>JITSIFQDN</b>.crt";
    }
    authentication = "internal_hashed"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/conf.d/jitsi.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- Proxy to jicofo's user JID, so that it does not have to register as a component.
Component "focus.<b>JITSIFQDN</b>" "client_proxy"
    target_address = "focus@auth.<b>JITSIFQDN</b>"</pre>
<p>You need now to generate the certificate for <b>JITSIFQDN</b> and auth.<b>JITSIFQDN</b>.
</p>
<p>If you use certbot, you can import the certificate with:
</p>
<pre># prosodyctl --root cert import /etc/letsencrypt/live
</pre>
<p>If you want to use self generated certs, you can use:
</p>
<pre>[prosody]$ prosodyctl cert generate <b>JITSIFQDN</b>
[prosody]$ prosodyctl cert generate auth.<b>JITSIFQDN</b>
# mv /var/lib/prosody/*.{crt,cnf,key} /etc/prosody/certs/
# trust anchor /etc/prosody/certs/<b>JITSIFQDN</b>.crt
# trust anchor /etc/prosody/certs/auth.<b>JITSIFQDN</b>.crt
# update-ca-trust</pre>
<p>Let us register the users jvb and focus:
</p>
<pre># prosodyctl register jvb auth.<b>JITSIFQDN</b> <b>SECRET_JVB_USER</b>
# prosodyctl register focus auth.<b>JITSIFQDN</b> <b>SECRET_FOCUS_USER</b>
# prosodyctl mod_roster_command subscribe focus.<b>JITSIFQDN</b> focus@auth.<b>JITSIFQDN</b></pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>prosody.service</code> (or <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> it if it was just installed).
</p>
<h3><span class="mw-headline" id="Configure_jitsi-videobridge">Configure jitsi-videobridge</span></h3>
<p>The configuration for jitsi-videobridge. Add <b>-nightly</b> or <b>-git</b> to <b>/etc/jitsi-videobridge</b> for <b>nightly</b> and <b>git</b> version.
</p>
<p>For MUC_NICKNAME, use <b>uuidgen</b> command:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jitsi-videobridge/sip-communicator.properties</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">org.jitsi.videobridge.xmpp.user.shard.DOMAIN=auth.<b>JITSIFQDN</b>
org.jitsi.videobridge.xmpp.user.shard.PASSWORD=<b>SECRET_JVB_USER</b>
org.jitsi.videobridge.xmpp.user.shard.MUC_JIDS=JvbBrewery@internal.auth.<b>JITSIFQDN</b>
org.jitsi.videobridge.xmpp.user.shard.MUC_NICKNAME=<b>UUIDGEN_RESULT</b></pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>jitsi-videobridge.service</code>.
</p>
<h3><span class="mw-headline" id="Configure_jicofo">Configure jicofo</span></h3>
<p>The configuration for jicofo. Add -nightly or -git to /etc/jitsi-videobridge for nightly and git version.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jicofo/jicofo.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">jicofo {
  xmpp: {
    client: {
      client-proxy: "focus.<b>JITSIFQDN</b>"
      xmpp-domain: "<b>JITSIFQDN</b>"
      domain: "auth.<b>JITSIFQDN</b>"
      username: "focus"
      password: "<b>SECRET_FOCUS_USER</b>"
      conference-muc-jid = conference.<b>JITSIFQDN</b>
    }
    trusted-domains: [ "recorder.<b>JITSIFQDN</b>" ]
  }
  bridge: {
    brewery-jid: "JvbBrewery@internal.auth.<b>JITSIFQDN</b>"
  }
}</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>jicofo.service</code>.
</p>
<h3><span class="mw-headline" id="Configure_jitsi-meet">Configure jitsi-meet</span></h3>
<p>The configuration for jitsi-meet webapps. Add <b>-nightly</b> or <b>-git</b> to <b>/etc/jitsi-videobridge</b> for <b>nightly</b> and <b>git</b> version.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/webapps/jitsi-meet/config.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">var config = {
  hosts: {
    domain: '<b>JITSIFQDN'</b>,
    // ...
    muc: 'conference.<b>JITSIFQDN'</b>
  },
  bosh: '//<b>JITSIFQDN</b>/http-bind',
  // ...
}</pre>
<h3><span class="mw-headline" id="Configure_nginx">Configure nginx</span></h3>
<p>Configure <a href="../en/Nginx.html" title="Nginx">nginx</a> with TLS as described in <a href="../en/Nginx.html#TLS" title="Nginx">nginx#TLS</a>.
</p>
<p>Let us copy the provided example.
</p>
<pre># cd /etc/nginx
# mkdir sites
# cp /usr/share/doc/jitsi-meet/jitsi-meet.example sites/jitsi.conf</pre>
<p>Then include it in your main configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nginx/nginx.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">http {
    // ...
    // this should be placed near to the close bracket of the http block
    include sites/*.conf;
}</pre>
<p>Then changes the jitsi configuration with yours:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nginx/sites/jitsi.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">server {
  # ...
  server_name <b>JITSIFQDN</b>;

  # ...
  # use prosody path directly
  ssl_certificate /etc/prosody/certs/<b>JITSIFQDN</b>.crt;
  ssl_certificate_key /etc/prosody/certs/<b>JITSIFQDN</b>.key;
  # or use letencrypt path
  ssl_certificate /etc/letsencrypt/live/<b>JITSIFQDN</b>/fullchain.pem;
  ssl_certificate_key /etc/letsencrypt/live/<b>JITSIFQDN</b>/privkey.pem;

  # set the config path
  # replace alias /etc/jitsi/meet/jitmeet.example.com-config.js by
  location = /config.js {
    alias /etc/webapps/jitsi-meet/config.js;
  }
  # ...
  location ~ ^/([^/?&amp;:'"]+)/config.js$
  {
    set $subdomain "$1.";
    set $subdir "$1/";
    alias /etc/webapps/jitsi-meet/config.js;
  }
}</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>nginx.service</code>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Running_the_server_behind_a_NAT">Running the server behind a NAT</span></h3>
<p>The following ports need to be forwarded to your server:
</p>
<p>HTTPS:
</p>
<ul><li>TCP/443</li></ul>
<p>Jitsi Videobridge:
</p>
<ul><li>UDP/10000</li></ul>
<h3>
<span id="Jitsi_gateway_to_SIP_.28Jigasi.29"></span><span class="mw-headline" id="Jitsi_gateway_to_SIP_(Jigasi)">Jitsi gateway to SIP (Jigasi)</span>
</h3>
<p>To interface the Jitsi-meet meetings with traditional SIP install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jigasi/">jigasi</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jigasi-git/">jigasi-git</a></span><sup><small>AUR</small></sup> and edit the prosody config:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/prosody.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Component "callcontrol.<b>JITSIFQDN</b>"
    component_secret = "<b>SECRET_JIGASI_USER</b>"</pre>
<p>fill the SIP access credentials (<code>SIPUSER</code> <code>SIPSERVER</code> and <code>SIPPASSWORD</code>)
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/opt/jigasi/jigasi-home/sip-communicator.properties</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">net.java.sip.communicator.impl.protocol.sip.acc1403273890647.ACCOUNT_UID=SIP\:"SIPUSER@SIPSERVER"
net.java.sip.communicator.impl.protocol.sip.acc1403273890647.PASSWORD=SIPPASSWORD
net.java.sip.communicator.impl.protocol.sip.acc1403273890647.SERVER_ADDRESS=SIPSERVER
net.java.sip.communicator.impl.protocol.sip.acc1403273890647.USER_ID=SIPUSER</pre>
<p>To change the default room name SIP is connecting to, change <code>org.jitsi.jigasi.DEFAULT_JVB_ROOM_NAME</code> in the above config.
</p>
<p>Then edit the jigasi configuration
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jitsi/jigasi/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">JIGASI_HOST=callcontrol.<b>JITSIFQDN</b>
JIGASI_HOSTNAME=jitsi-videobridge.<b>JITSIFQDN</b>
JIGASI_SECRET=<b>SECRET_JIGASI_USER</b>
JIGASI_OPTS=""
LOGFILE=/var/log/jitsi/jigasi.log</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/opt/jitsi-meet/config.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">hosts.call_control = 'callcontrol.meet.jit.si'</pre>
<p>and then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>jigasi.service</code>.
</p>
<h3><span class="mw-headline" id="Access_restrictions_for_room_creation">Access restrictions for room creation</span></h3>
<p>To restrict video conference room <b>creation</b> to authenticated users, you can do the following steps. Note that participants to the meeting are still not authenticated!
</p>
<p>Add authentication to the jitsi domain in prosody and add a new virtual host for guests:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/conf.d/jitsi.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- change authentification of your domain
VirtualHost "<b>JITSIFQDN</b>"
    authentification = "internal_plain"

-- add guest virtual host to allow anonymous user to join your room
VirtualHost "guest.<b>JITSIFQDN</b>"
    authentication = "jitsi-anonymous"
    c2s_require_encryption = false
    modules_enabled = {
        -- copy the content of the modules_enabled
        -- of the VirtualHost "<b>JITSIFQDN</b>"
        -- remove only the module "muc_lobby_rooms" of the list
        -- example:
        "bosh";
        "pubsub";
        "ping"; -- Enable mod_ping
        "speakerstats";
        "external_services";
        "conference_duration";
    }</pre>
<p>Edit the configuration file for <code>jitsi-meet</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/webapps/jitsi-meet/config.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">var config = {
  host: {
    // anonymous users need to use a dedicated muc without authentication
    anonymousdomain: 'guest.<b>JITSIFQDN'</b>,
  },
}</pre>
<p>Add authentication for <code>jicofo</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jicofo/jicofo.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">jicofo {
  authentication {
    enabled = true
    type = XMPP
    login-url = <b>JITSIFQDN</b>
    enable-auto-login = true
  }
}</pre>
<p>Then create the desired users via
</p>
<pre># prosodyctl register &lt;username&gt; <b>JITSIFQDN</b> &lt;password&gt;</pre>
<p>Only if you are using <code>jigasi</code> (if you do not know, you do not) edit the SIP interface to not allow anonymous authentication:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jitsi/jigasi/sip-communicator.properties</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">org.jitsi.jigasi.xmpp.acc.ANONYMOUS_AUTH=false</pre>
<p>These steps are taken from <a rel="nofollow" class="external text" href="https://github.com/jitsi/jicofo#secure-domain">this guide</a>.
</p>
<h3><span class="mw-headline" id="Access_restrictions_with_JWT_token">Access restrictions with JWT token</span></h3>
<p>To restrict video conference room <b>creation</b> to users authenticate with a JWT token (external service for authentication), you can do the following steps. Note that participants to the meeting are still not authenticated!
</p>
<p>Install those dependencies:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lua52-base64/">lua52-base64</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52-basexx">lua52-basexx</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lua52-cjson/">lua52-cjson</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lua52-jwtjitsi/">lua52-jwtjitsi</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lua52-luaossl">lua52-luaossl</a></span></li>
</ul>
<p>Add authentication to the jitsi domain in prosody and add a new virtual host for guests:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/prosody/conf.d/jitsi.cfg.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- change authentification of your domain
VirtualHost "<b>JITSIFQDN</b>"
    authentification = "token"
    app_id = "APP_ID"
    app_secret = "APP_SECRET"
    allow_empty_token = false
    modules_enabled = {
        -- keep existing modules and add
        "presence_identity";
    }
    c2s_require_encryption = false

-- add guest virtual host to allow anonymous user to join your room
VirtualHost "guest.<b>JITSIFQDN</b>"
    authentication = "jitsi-anonymous"
    c2s_require_encryption = false
    modules_enabled = {
        -- copy the content of the modules_enabled
        -- of the VirtualHost "<b>JITSIFQDN</b>"
        -- remove only the module "muc_lobby_rooms" of the list
        -- example:
        "bosh";
        "pubsub";
        "ping"; -- Enable mod_ping
        "speakerstats";
        "external_services";
        "conference_duration";
        "presence_identity";
    }

Component "conference.<b>JITSIFQDN</b>" "muc"
    modules_enabled = {
        -- add this to the modules_enabled
        "token_verification";
    }</pre>
<p>Edit the configuration file for <code>jitsi-meet</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/webapps/jitsi-meet/config.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">var config = {
  host: {
    // anonymous users need to use a dedicated muc without authentication
    anonymousdomain: 'guest.<b>JITSIFQDN'</b>,
  },
}</pre>
<p>Add authentication for <code>jicofo</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/jicofo/jicofo.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">jicofo {
  authentication {
    enabled = true
    type = JWT
    login-url = <b>JITSIFQDN</b>
    enable-auto-login = true
  }
}</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>prosody.service</code> (or <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> it if it was just installed).
And <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>jicofo.service</code> (or <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> it if it was just installed).
</p>
<p>Now you can use a JWT token to authenticate an user.
</p>
<p>You can read the spec here: <a rel="nofollow" class="external text" href="https://github.com/jitsi/lib-jitsi-meet/blob/master/doc/tokens.md">Jitsi Meet Tokens</a>
</p>
<p>Here an quick example in nodejs:
</p>
<pre>const jwt = require('jsonwebtoken')
const crypto = require('crypto');
const words = require('random-words')
const yourDomain = "JITSIFQDN"
const appId = "APP_ID"
const appSecret = "APP_SECRET"
const userName = "YOUR_USERNAME"
const userEmail = "YOUR_EMAIL"

function getBody(domain, appId, name, email, room) {
    const md5Email = crypto.createHash('md5').update(email).digest("hex");
    const id = crypto.createHash('sha1').update(`${name}:${email}`).digest("hex")

    return {
        context: {
            user: {
                avatar: `https:/gravatar.com/avatar/${md5Email}`,
                name,
                email,
                id,
            },
            group: 'users'
        },
        "aud": "jitsi",
        "iss": appId,
        "sub": domain,
        room,
    }
}

const room = process.argv[2] || words({exactly: 3, join: '-'})

const data = getBody(
    yourDomain,
    appId,
    userName,
    userEmail,
    room,
)

const options = {
    algorithm: 'HS256',
    expiresIn: '2h',
}

const jwtToken = jwt.sign(data, appSecret, options)

console.log(`https://${yourDomain}/${room}?jwt=${jwtToken}`)
</pre>
<h3><span class="mw-headline" id="Log_evaluation">Log evaluation</span></h3>
<p>For a publicly available IP address the above configuration leads to a public video conference server. To monitor server use one can use <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journalctl">journalctl</a> to get an at least vague idea of the usage:
</p>
<pre># journalctl --unit=jicofo.service --grep="created new conference" --output cat
</pre>
<p>shows all events of new chat room creation and
</p>
<pre># journalctl --unit=jicofo.service --grep="Stopped" --output cat
</pre>
<p>shows all events of chat room destruction.
</p>
<p>Grepping for 'member' also gives you (anonymous!) information on the participants.
</p>
<h3><span class="mw-headline" id="Running_own_STUN_server">Running own STUN server</span></h3>
<p>By default, Jitsi Meet uses STUN servers from jitsi.org. You can easily run your own STUN server using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coturn">coturn</a></span> and setting it in jitsi-meet's config.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Check_your_logs">Check your logs</span></h3>
<p>You can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Stop">stop</a> all service units (i.e., <code>prosody.service</code>, <code>jitsi-videobridge.service</code>, and <code>jicofo.service</code>), <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> them one at a time, and follow new messages in the <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journal">journal</a> for each service unit to see if something is wrong. Most problems are due to password or configuration issues.
</p>
<p>If you have an upgrade from a very different version, or you mess up with your config, start other. It will be faster than trying to findout which part is wrong.
</p>
<h3><span class="mw-headline" id="Ask_help_on_Matrix_rooms">Ask help on Matrix rooms</span></h3>
<p>You can join matrix rooms and ask help there:
</p>
<ul><li><a rel="nofollow" class="external text" href="https://matrix.to/#/#jitsimeet:matrix.org?via=matrix.org">Jitsi Meet help and testing</a></li></ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://jitsi.org/">Project homepage</a></li>
<li><a rel="nofollow" class="external text" href="https://community.jitsi.org/">Help community</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/jitsi/jitsi-meet/blob/master/doc/README.md">Official documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://tutorials.celogeek.com/books/jitsi-meet-on-arch-linux">Arch Linux tutorial with more details</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Telephony.html" title="Category:Telephony">Telephony</a></li>
<li><a href="../en/Category:Voice_over_IP.html" title="Category:Voice over IP">Voice over IP</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Jitsi-meet&amp;oldid=820540">https://wiki.archlinux.org/index.php?title=Jitsi-meet&amp;oldid=820540</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 11 November 2024, at 08:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
