<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xorg multiseat - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xorg_multiseat rootpage-Xorg_multiseat skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Requirements" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Requirements">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Requirements</div>
		</a>
		
			<button aria-controls="toc-Requirements-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Requirements subsection</span>
			</button>
		
		<ul id="toc-Requirements-sublist" class="vector-toc-list">
			<li id="toc-Keyboards_and_mice" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboards_and_mice">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Keyboards and mice</div>
			</a>
			
			<ul id="toc-Keyboards_and_mice-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Graphics_hardware" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Graphics_hardware">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Graphics hardware</div>
			</a>
			
			<ul id="toc-Graphics_hardware-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Processors_and_memory" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Processors_and_memory">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Processors and memory</div>
			</a>
			
			<ul id="toc-Processors_and_memory-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Software" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Software">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Software</div>
			</a>
			
			<ul id="toc-Software-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Some_X_knowledge" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Some_X_knowledge">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Some X knowledge</div>
			</a>
			
			<ul id="toc-Some_X_knowledge-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Definitions" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Definitions">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Definitions</div>
		</a>
		
		<ul id="toc-Definitions-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Tips and tricks</div>
		</a>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-About_evdev" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#About_evdev">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>About evdev</div>
		</a>
		
		<ul id="toc-About_evdev-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Attaching_devices_to_a_seat" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Attaching_devices_to_a_seat">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Attaching devices to a seat</div>
		</a>
		
			<button aria-controls="toc-Attaching_devices_to_a_seat-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Attaching devices to a seat subsection</span>
			</button>
		
		<ul id="toc-Attaching_devices_to_a_seat-sublist" class="vector-toc-list">
			<li id="toc-Identify_devices" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Identify_devices">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Identify devices</div>
			</a>
			
			<ul id="toc-Identify_devices-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Assign_devices" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Assign_devices">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Assign devices</div>
			</a>
			
			<ul id="toc-Assign_devices-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Setting_up_Xorg" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Setting_up_Xorg">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Setting up Xorg</div>
		</a>
		
			<button aria-controls="toc-Setting_up_Xorg-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Setting up Xorg subsection</span>
			</button>
		
		<ul id="toc-Setting_up_Xorg-sublist" class="vector-toc-list">
			<li id="toc-Defining_available_input_devices" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Defining_available_input_devices">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Defining available input devices</div>
			</a>
			
			<ul id="toc-Defining_available_input_devices-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Monitors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Monitors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Monitors</div>
			</a>
			
			<ul id="toc-Monitors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ServerFlags" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ServerFlags">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>ServerFlags</div>
			</a>
			
			<ul id="toc-ServerFlags-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Graphics_card" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Graphics_card">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Graphics card</div>
			</a>
			
			<ul id="toc-Graphics_card-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Screens" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Screens">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Screens</div>
			</a>
			
			<ul id="toc-Screens-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ServerLayout" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ServerLayout">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>ServerLayout</div>
			</a>
			
			<ul id="toc-ServerLayout-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Testing" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Testing">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Testing</div>
		</a>
		
		<ul id="toc-Testing-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Setting_up_the_loginmanager" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Setting_up_the_loginmanager">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Setting up the loginmanager</div>
		</a>
		
			<button aria-controls="toc-Setting_up_the_loginmanager-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Setting up the loginmanager subsection</span>
			</button>
		
		<ul id="toc-Setting_up_the_loginmanager-sublist" class="vector-toc-list">
			<li id="toc-For_XDM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#For_XDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>For XDM</div>
			</a>
			
			<ul id="toc-For_XDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-For_LightDM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#For_LightDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>For LightDM</div>
			</a>
			
			<ul id="toc-For_LightDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-For_Auto_Login_multiseat_(without_Display_Manager)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#For_Auto_Login_multiseat_(without_Display_Manager)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>For Auto Login multiseat (without Display Manager)</div>
			</a>
			
			<ul id="toc-For_Auto_Login_multiseat_(without_Display_Manager)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Sound" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Sound">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Sound</div>
		</a>
		
			<button aria-controls="toc-Sound-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Sound subsection</span>
			</button>
		
		<ul id="toc-Sound-sublist" class="vector-toc-list">
			<li id="toc-One_sound_card_for_each_seat" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#One_sound_card_for_each_seat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>One sound card for each seat</div>
			</a>
			
			<ul id="toc-One_sound_card_for_each_seat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Multiple_users_on_single_sound_card:_PulseAudio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multiple_users_on_single_sound_card:_PulseAudio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>Multiple users on single sound card: PulseAudio</div>
			</a>
			
			<ul id="toc-Multiple_users_on_single_sound_card:_PulseAudio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Multiple_users_on_single_sound_card:_ALSA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multiple_users_on_single_sound_card:_ALSA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.3</span>Multiple users on single sound card: ALSA</div>
			</a>
			
			<ul id="toc-Multiple_users_on_single_sound_card:_ALSA-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Xorg_will_not_start" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg_will_not_start">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.1</span>Xorg will not start</div>
			</a>
			
			<ul id="toc-Xorg_will_not_start-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-My_Windows_key_does_not_work_anymore" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#My_Windows_key_does_not_work_anymore">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.2</span>My Windows key does not work anymore</div>
			</a>
			
			<ul id="toc-My_Windows_key_does_not_work_anymore-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unreliable_behaviour_(black_picture_without_cursor)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unreliable_behaviour_(black_picture_without_cursor)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.3</span>Unreliable behaviour (black picture without cursor)</div>
			</a>
			
			<ul id="toc-Unreliable_behaviour_(black_picture_without_cursor)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Little_black_boxes/dots_on_the_desktop" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Little_black_boxes/dots_on_the_desktop">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.4</span>Little black boxes/dots on the desktop</div>
			</a>
			
			<ul id="toc-Little_black_boxes/dots_on_the_desktop-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Multimedia_keys_not_working" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multimedia_keys_not_working">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.5</span>Multimedia keys not working</div>
			</a>
			
			<ul id="toc-Multimedia_keys_not_working-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_Ctrl-Alt-Fx,_Alt-Fx_keys_mess_up_with_virtual_terminals" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_Ctrl-Alt-Fx,_Alt-Fx_keys_mess_up_with_virtual_terminals">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.6</span>The Ctrl-Alt-Fx, Alt-Fx keys mess up with virtual terminals</div>
			</a>
			
			<ul id="toc-The_Ctrl-Alt-Fx,_Alt-Fx_keys_mess_up_with_virtual_terminals-sublist" class="vector-toc-list">
				<li id="toc-Fix_VT_behaviour_using_fbcon_kernel_parameter" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Fix_VT_behaviour_using_fbcon_kernel_parameter">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.6.1</span>Fix VT behaviour using fbcon kernel parameter</div>
			</a>
			
			<ul id="toc-Fix_VT_behaviour_using_fbcon_kernel_parameter-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Xorg multiseat</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Xorg_%E3%83%9E%E3%83%AB%E3%83%81%E3%82%B7%E3%83%BC%E3%83%88" title="Xorg マルチシート – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Show how PulseAudio can be configured for multiple users without running PulseAudio system-wide. Explain how Multiseat be done using only one video card (and/or X Server) and without Xephyr. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Xorg_multiseat.html">Talk:Xorg multiseat</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Written in first person, more like a blog post. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Xorg_multiseat.html">Talk:Xorg multiseat</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/ATI.html#Independent_X_screens" title="ATI">ATI#Independent X screens</a></li>
</ul>
</div>
<p>Multiseat is a certain setup where N users work simultaneously on one computer. This is achieved by having N monitors, N keyboards and N mice. The advantages are quite obvious:
</p>
<ul>
<li>Less power consumption (only one computer)</li>
<li>Less hardware to purchase</li>
</ul>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Requirements">Requirements</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> This section references ancient hardware (PS/2 keyboards, AGP or PCI GPUs, 10k RPM HDDs, etc...), no major updates to the content have been done since 2007 : is this still relevant with current generation hardware ? (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Xorg_multiseat.html">Talk:Xorg multiseat</a>)</div>
</div>
<h3><span class="mw-headline" id="Keyboards_and_mice">Keyboards and mice</span></h3>
<p>Any standard PS/2 or USB keyboards will suffice. Same thing for mice.
</p>
<h3><span class="mw-headline" id="Graphics_hardware">Graphics hardware</span></h3>
<p>For the best possible result you will need two graphics cards. I used an nVidia FX5500 AGP and an nVidia 6200 PCI. If you look around a bit you can certainly find new and decent PCI graphics card for a soft price.
</p>
<p>It is possible to use only one videocard which has dual heads (like most nvidia cards will have), but this has some limitations: you have to use Xephyr on the second monitor which seems quite a messy solution from what I have read, and for optimal usage both screens need the same resolution.
</p>
<p>If you have two pci-express slots, take advantage of them! That way you will even be able to play two games at the same time. (PCI is too slow to play comfortably)
</p>
<h3><span class="mw-headline" id="Processors_and_memory">Processors and memory</span></h3>
<p>If you really are working with two users on the same computer, I would at least recommend a dual-core processor and plenty of RAM. A fast hard drive (10.000 RPM or higher) is also recommended for comfortable use.
</p>
<h3><span class="mw-headline" id="Software">Software</span></h3>
<p>You will need Xorg with the drivers for your graphics card (according to some sources, the closed source nvidia driver works better than the open source nvidia driver for this, I have not tested this myself) and the evdev (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-evdev">xf86-input-evdev</a></span>) driver. That's all. All this can be found in the Arch Linux core and extra repositories.
</p>
<h3><span class="mw-headline" id="Some_X_knowledge">Some X knowledge</span></h3>
<p>If you know how X works this will be a lot easier. Before you start, it is recommend generating a clean configuration with <span class="plainlinks archwiki-template-man" title="$ man 5 xorg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xorg.conf.5">xorg.conf(5)</a></span> that works with a single screen. Read through this xorg configuration and make yourself familiar. And as usual the manpages will provide you with most of the answers. You may reference some man pages: <span class="plainlinks archwiki-template-man" title="$ man 1 Xorg"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xorg.1">Xorg(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 Xserver"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xserver.1">Xserver(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 startx"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/startx.1">startx(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 xdm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xdm.8">xdm(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 xinit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xinit.1">xinit(1)</a></span>.
</p>
<p>You can also look at the output of the following commands to get some hints: 
</p>
<pre># X -configure
# X -showopts</pre>
<h2><span class="mw-headline" id="Definitions">Definitions</span></h2>
<p>For this article to be clear, I will be using the following definitions:
</p>
<ul>
<li>screen: A screen is something Xorg can display its stuff on. A screen has a monitor and a graphics card assigned to it.</li>
<li>monitor: A physical monitor like the one you are now sitting in front of.</li>
<li>server layout: a definition of which screen, keyboard and mouse to use.</li>
<li>seat: A workplace with a physical monitor, physical keyboard and physical mouse.</li>
</ul>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<ul>
<li>Set up ssh on your computer, so you can ssh to the machine from another computer (such as a laptop). This is very useful because you will probably run into X not responding anymore or not giving you picture at all.</li>
<li>Finding out which keyboard and mouse is which: open a terminal and use cat to find out. For example, <code>cat /dev/input/mouse1</code>. If you then move your mouse and you see all weird things happening than that is the mouse you are moving. Same goes for keyboards, which are called eventN.</li>
<li>Try a basic configuration first. Do not start with the fancy stuff yet, get a very basic Xorg working first.</li>
<li>Create a backup of all relevant configuration files. What do you mean you will skip this one?</li>
</ul>
<h2><span class="mw-headline" id="About_evdev">About evdev</span></h2>
<p>evdev is an Xorg driver which can make use of the kernel event devices, which you can find in <code>/dev/input</code>.
</p>
<h2><span class="mw-headline" id="Attaching_devices_to_a_seat">Attaching devices to a seat</span></h2>
<p>systemd's <span class="plainlinks archwiki-template-man" title="$ man 1 loginctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loginctl.1">loginctl(1)</a></span> lets you assign devices to seats by creating udev rules.
</p>
<h3><span class="mw-headline" id="Identify_devices">Identify devices</span></h3>
<p>Look at the default seat (seat0) status, here is an example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># loginctl seat-status seat0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">seat0
        Sessions: *11
         Devices:
                  ├ /sys/devices/pci0000:00/0000:00:02.0/0000:03:00.0/drm/card0
                  │ (drm:card0)
                  ├ /sys/devices/pci0000:00/0000:00:02.0/0000:03:00.0/graphics/fb0
                  │ (graphics:fb0) "radeondrmfb"
                  ├ /sys/devices/pci0000:00/0000:00:02.0/0000:03:00.1/sound/card1
                  │ (sound:card1) "Generic"
                  │ └ /sys/devices/pci0000:00/0000:00:02.0/0000:03:00.1/sound/card1/input15
                  │   (input:input15) "HD-Audio Generic HDMI/DP,pcm=3"
                  ├ /sys/devices/pci0000:00/0000:00:12.0/usb3
                  │ (usb:usb3)
                  │ ├ /sys/devices/pci0000:00/0000:00:12.0/usb3/3-1/3-1:1.2/0003:046D:C52B.0006/input/input5
                  │ │ (input:input5) "Logitech Unifying Device. Wireless PID:101b"
                  │ └ /sys/devices/pci0000:00/0000:00:12.0/usb3/3-1/3-1:1.2/0003:046D:C52B.0006/input/input6
                  │   (input:input6) "Logitech Unifying Device. Wireless PID:200a"
                  ├ /sys/devices/pci0000:00/0000:00:14.2/sound/card0
                  │ (sound:card0) "SB"
                  │ ├ /sys/devices/pci0000:00/0000:00:14.2/sound/card0/input7
                  │ │ (input:input7) "HDA ATI SB Line"
                  │ └ /sys/devices/pci0000:00/0000:00:14.2/sound/card0/input9
                  │   (input:input9) "HDA ATI SB Rear Mic"
                  ├ <b>/sys/devices/pci0000:00/0000:00:04.0/0000:02:00.0/drm/card1</b>
                  │ (drm:card1)
                  ├ <b>/sys/devices/pci0000:00/0000:00:04.0/0000:02:00.0/graphics/fb1</b>
                  │ (graphics:fb1) "radeondrmfb"
                  ├ <b>/sys/devices/pci0000:00/0000:00:04.0/0000:02:00.1/sound/card2</b>
                  │ (sound:card2) "HDMI"
                  │ └ <b>/sys/devices/pci0000:00/0000:00:04.0/0000:02:00.1/sound/card2/input16</b>
                  │   (input:input16) "HDA ATI HDMI HDMI/DP,pcm=3"
                  ├ <b>/sys/devices/pci0000:00/0000:00:12.1/usb4/4-1/4-1:1.0/input/input2</b>
                  │ (input:input2) "CHESEN PS2 to USB Converter"
                  ├ <b>/sys/devices/pci0000:00/0000:00:12.1/usb4/4-1/4-1:1.1/input/input3</b>
                  │ (input:input3) "CHESEN PS2 to USB Converter"
                  └ <b>/sys/devices/pci0000:00/0000:00:12.1/usb4/4-2/4-2:1.0/input/input4</b>
                    (input:input4) "Microsoft Microsoft 3-Button Mouse with IntelliEye(TM)"
</pre>
<p>If you are unsure, try comparing with <code>lspci</code>or <code>lsusb</code> to identify devices.
</p>
<h3><span class="mw-headline" id="Assign_devices">Assign devices</span></h3>
<p>Seats are created based on graphics cards. Hence we will start by assigning a graphics card:
</p>
<pre># loginctl attach seat1 /sys/devices/pci0000:00/0000:00:04.0/0000:02:00.0/drm/card1
# loginctl attach seat1 /sys/devices/pci0000:00/0000:00:04.0/0000:02:00.0/graphics/fb1</pre>
<p>Then add input devices.  This first example (not recommended) adds three USB devices by port and subdevice from the list above:
</p>
<pre># loginctl attach seat1 /sys/devices/pci0000:00/0000:00:12.1/usb4/4-1/4-1:1.0/input/input2
# loginctl attach seat1 /sys/devices/pci0000:00/0000:00:12.1/usb4/4-1/4-1:1.1/input/input3
# loginctl attach seat1 /sys/devices/pci0000:00/0000:00:12.1/usb4/4-2/4-2:1.0/input/input4</pre>
<p>This is less than ideal, because replacing the keyboard with another will only work if the new keyboard contains the same subdevices (<code>1.0</code> and <code>1.1</code>), and if the keyboard and mouse are accidentally swapped into each other's USB port, they will not be assigned to the intended seat and will end up back in the default <code>seat0</code>.  It would be more flexible to add a specific USB port to the seat instead, allowing any device plugged into that USB port to be assigned to the seat (keyboard, mouse, USB sound card, etc.)  Here, two USB ports are assigned to the seat, which you can see has just come from the same list above with the end part removed:
</p>
<pre># loginctl attach seat1 /sys/devices/pci0000:00/0000:00:12.1/usb4/4-1
# loginctl attach seat1 /sys/devices/pci0000:00/0000:00:12.1/usb4/4-2</pre>
<p>With multiple sound cards you can assign one per seat that will run out of the box with per user session pulseaudio:
</p>
<pre># loginctl attach seat1 /sys/devices/pci0000:00/0000:00:04.0/0000:02:00.1/sound/card2</pre>
<p>You should be able to see that the hardware has been partitioned into two seats:
</p>
<pre># loginctl seat-status seat0
# loginctl seat-status seat1</pre>
<p>The seat names are just string tags, so you can call a seat anything you like - <code>seat-1</code>, <code>seatleft</code> and <code>seat-tv</code> are all valid names.  While you do not have to use the <code>seat</code> prefix, this is not recommended as some programs (e.g. LightDM) apply their default options only to seats matching the expression <code>seat*</code>, so any name that does not start with the word <code>seat</code> may require extra manual configuration.  <code>seat0</code> is the default seat name and cannot be changed.
</p>
<p>Any device that is not specifically tagged to a seat will end up in <code>seat0</code>.  If a device is tagged to a given seat, then all child devices belong to that seat as well.  This is most useful with hot pluggable interfaces, such as the above example that assigns USB ports to specific seats so that any devices plugged into those ports will automatically inherit the seat set on on the USB port itself.
</p>
<p><code>loginctl attach</code> creates and deletes udev rule files matching <code>/etc/udev/rules.d/72-seat-*.rules</code>, so if you wish to back up your seat configuration, these are the files to save and restore.
</p>
<p>Each seat will not appear as ready until a device tagged <code>master-of-seat</code> appears.  The default udev rules automatically apply this tag to any <code>drm</code> or <code>graphics</code> device.  Thus if you do not make a one of these devices part of a seat (e.g. a visually impaired user with only keyboard and audio) then the udev rules created by <code>loginctl</code> will need to be manually edited and this tag specified before the seat becomes available for use.  Look at the default udev rules for examples.
</p>
<h2><span class="mw-headline" id="Setting_up_Xorg">Setting up Xorg</span></h2>
<p>Since you can attach devices to seats with <i>loginctl</i> there is no need to have an specific <a href="../en/Xorg.html" title="Xorg">Xorg configuration</a>, so if you attached devices via <i>loginctl</i> creating Xorg configuration files may be skipped. Also note that setting <code>ServerFlags "AutoAdd*"</code> options to <code>false</code> forces Xorg to just ignore most of the <i>loginctl</i> attachments.
</p>
<p>If you do choose to use a custom Xorg configuration (for example you have an nVidia card and want to set advanced display options) then the process is much the same as usual, with the major difference being that you define one <code>ServerLayout</code> section for each seat, and include the <code>MatchSeat</code> statement in each server layout to indicate which seat it should apply to.  You can also apply <code>MatchSeat</code> directives to graphics devices and monitors themselves to avoid defining a <code>ServerLayout</code>, if you do not need any <code>ServerLayout</code> functionality.  Be aware that any section missing a <code>MatchSeat</code> directive will be visible for all server layouts and seats, so make sure some other part of the configuration prevents multiple seats from trying to access the same devices.  (A common mistake is allowing both seats to access the same display device, which will result in one seat working and the others failing to start.)
</p>
<p>An example follows for this type of manual configuration.  You can create parts of, or the entire, configuration set for two server layouts, each assigned with their own keyboard, mouse, video card and monitor.  If you omit a part (such as the <code>InputDevice</code> section), then the Xorg defaults will apply.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">xorg.conf.d tree example:</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">├── 00-keyboard.conf   #created by localectl
├── 31-monitor-seat0.conf
├── 32-monitor-seat1.conf
├── 40-serverflags.conf
├── 41-graphic-seat0.conf
├── 42-graphic-seat1.conf
├── 51-screen-seat0.conf
├── 52-screen-seat1.conf
├── 61-layout-seat0.conf
└── 62-layout-seat1.conf
</pre>
<h3><span class="mw-headline" id="Defining_available_input_devices">Defining available input devices</span></h3>
<p>This part of the configuration tells Xorg which input devices it has available. Input devices are keyboards and mice, but can also be, for example, touchscreens and pens.
</p>
<p>Configure your devices as read in <a href="../en/Xorg.html#Input_devices" title="Xorg">Xorg#Input devices</a>. The "Identifier" will let you assign to a ServerLayout and "Device" defines which physical device are you configuring.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">01-keyboard-seat0.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputDevice"
        Identifier      "keyboard0"
        Option          "Device"                "/dev/input/event1"
        #Option          "Device"                "/dev/input/by-path/pci-0000:00:1a.0-usb-0:1.6:1.0-event-kbd"  # or by path

        # GrabDevice no longer has any effect: <a rel="nofollow" class="external free" href="https://www.spinics.net/lists/xorg/msg59881.html">https://www.spinics.net/lists/xorg/msg59881.html</a>
        Option "GrabDevice" "on" # prevent send event to other X-servers
EndSection
</pre>
<p>Same for other <a href="../en/Xorg.html#Input_devices" title="Xorg">input devices</a>.
</p>
<h3><span class="mw-headline" id="Monitors">Monitors</span></h3>
<p>Configure your monitors as seen on <a href="../en/Xorg.html#Monitor_settings" title="Xorg">Xorg#Monitor settings</a>. Pay close attention to the identifier.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">31-monitor-seat0.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Monitor"
    Identifier             "monitor0"
EndSection
</pre>
<h3><span class="mw-headline" id="ServerFlags">ServerFlags</span></h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">40-serverflags.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "ServerFlags"
        Option "AutoAddGPU" "off"
EndSection
</pre>
<h3><span class="mw-headline" id="Graphics_card">Graphics card</span></h3>
<p>Take a close look at the BusID. This option specifies which hardware card to use. You can find out the BusId's with <code>lspci</code>. However, you will soon find out this does not always match. That's because lspci displays the device address in hexadecimal form. Xorg however uses decimal form. So you will need to convert your address from hexadecimal form to decimal. Thus a device address of 0:0a:0 in lspci would become 0:10:0 in <code>xorg.conf</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">42-graphic-seat1.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier      "graphic0"
        Driver          "nvidia"
        Option          "NoLogo"                "1"  # Remove nvidia branding at startup
        BusId           "PCI:1:0:0"
        MatchSeat       "seat-1"                     # Needed when only configuring part of Xorg for non-seat0.
        Option          "Monitor-DVI-1"         "monitor1"  #assigns monitor configuration to graphic output port
EndSection
</pre>
<p>Another more advanced example where nVidia TwinView is used so that one seat has dual monitors, with one monitor landscape and the other portrait:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">42-graphic-seat-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier "nvidia"
        Driver "nvidia"
        BusID "PCI:66:0:0"  # lspci reports this as 42:00.0, so 42 hex is 66 decimal

        # See the nVidia documentation for what these options do.  They of
        # course only apply if you have an nVidia card and you are using their
        # closed-source driver.
        Option "UseDisplayDevice" "DP-3"
        Option "MetaModes" "DP-3: 2560x1600, DP-0: 1600x1200 { Rotation=left }"
        Option "TwinViewOrientation" "LeftOf"

        # Not needed, avoid errors in logs
        Option "ConnectToAcpid" "false"

        # Do not automatically set the DPI based on screen size, use the traditional
        # value to avoid fonts becoming overly large.
        Option "UseEdidDpi" "False"
        Option "DPI" "96 x 96"

        # No MatchSeat option is needed here if it's given in the ServerLayout instead.
        #Option "MatchSeat" "seat-nvidia"
EndSection</pre>
<h3><span class="mw-headline" id="Screens">Screens</span></h3>
<p>Pay close attention to the "monitor" option.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">51-screen-seat0.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Screen"
        Identifier              "screen0"
        Device                  "graphic0"
        Monitor                 "monitor0"
        DefaultDepth    24
        Subsection "Display"
                Depth   24
                Modes   "1280x1024"     "1024x768"
        EndSubsection
EndSection
</pre>
<h3><span class="mw-headline" id="ServerLayout">ServerLayout</span></h3>
<p>Create a section for every seat (pay attention to Identifier) you have with their respective keyboards, mice and screens.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">62-layout-seat1.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "ServerLayout"
        # The Identifier is not really important but must be unique.
        Identifier      "seat-1"

        # This controls which Screen section is used in the layout, which in turn
        # dictates which GPU and monitor will be used.  The numbers can be omitted
        # if only one Screen is used (normally the case unless you are combining
        # monitors from different video cards).
        Screen          "screen1"       0                   0

        # InputDevice sections can usually be omitted
        InputDevice     "mouse1"        "CorePointer"
        InputDevice     "keyboard1"     "CoreKeyboard"

        Option          "SingleCard" "on"   # use this to simplfied isolatedevice option

        # MatchSeat means this layout will only be used when the "-seat seat-1"
        # parameter is given to /usr/bin/X, which most display managers will do
        # automatically.
        MatchSeat       "seat-1"
EndSection
</pre>
<p>Additional Tips:
</p>
<ul><li>Make sure to delete the <code>~/.Xauthority</code> file in respective user directories before the initial reboot.</li></ul>
<ul><li>To avoid tearing this seems to help on nearly all configurations - add this to /etc/environment:</li></ul>
<pre>CLUTTER_PAINT=disable-clipped-redraws:disable-culling
CLUTTER_VBLANK=True</pre>
<h2><span class="mw-headline" id="Testing">Testing</span></h2>
<p>Before we start modifying our login manager, we will first start with testing out the individual seats. If these are working, then we are good to go.
</p>
<p>I have used twm (tiny window manager) to test out if my seats work, but there is no reason you cannot use KDE, gnome, or any other desktop environment or window manager. I have used this in my <code>~/.xinitrc</code>:
</p>
<pre>exec twm
</pre>
<p>Use the following command to test out an individual seat:
</p>
<pre>startx -- -layout seat0 -config xorg.conf.multiseat
</pre>
<p>Do this for every seat you have. If they are all working correctly and the keyboard/mouse combination matches, then congratulations! You are almost finished! In case you are wondering why I did not you use the full path to my new configuration file, that's because X does not allow that when running as non-root. It will search for xorg.conf.multiseat relative to <code>/etc/X11</code>.
</p>
<h2><span class="mw-headline" id="Setting_up_the_loginmanager">Setting up the loginmanager</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Need instructions for SDDM. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Xorg_multiseat.html">Talk:Xorg multiseat</a>)</div>
</div>
<h3><span class="mw-headline" id="For_XDM">For XDM</span></h3>
<p>Open <code>/etc/X11/xdm/Xservers</code> and set the following variables (This sample demos two seats):
</p>
<pre># NOTE: do not add -sharevts on seat0, otherwise it may reset in about 10~20 minutes automatically.
:0 local /usr/bin/X :0 vt07 -nolisten tcp  -novtswitch -layout seat0 -seat seat0
:1 local /usr/bin/X :1 vt08 -nolisten tcp -novtswitch -layout seat-1 -seat seat-1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If seat numbers are not correctly assigned to sessions (<code>loginctl</code> will show a session without seat) by XDM, then your attached devices could have strange behavoir like lack of permissions, sound card undetected by pulseaudio... LightDM should be fine.</div>
<p>Also if you use the Arch Linux theme edit <code>/etc/X11/xdm/xdm-config</code> for every screen:
</p>
<pre>DisplayManager._0.setup:        /etc/X11/xdm/arch-xdm/Xsetup
DisplayManager._0.startup:      /etc/X11/xdm/arch-xdm/Xstartup
DisplayManager._0.reset:        /etc/X11/xdm/arch-xdm/Xreset
DisplayManager._1.setup:        /etc/X11/xdm/arch-xdm/Xsetup
DisplayManager._1.startup:      /etc/X11/xdm/arch-xdm/Xstartup
DisplayManager._1.reset:        /etc/X11/xdm/arch-xdm/Xreset
</pre>
<h3><span class="mw-headline" id="For_LightDM">For LightDM</span></h3>
<p><a href="../en/LightDM.html" title="LightDM">LightDM</a> has automatic multiseat detection (pulling from the seat list provided by <code>loginctl list-seats</code>).  If you have a manual Xorg configuration file and want to use it, make sure you specify valid <code>MatchSeat</code> values there (see above).  This is because LightDM automatically passes <code>-seat seat0</code> or similar to <code>/usr/bin/X</code>, so Xorg will ignore any sections that have a <code>MatchSeat</code> that does not match the current seat.  (So if you forget to specify <code>MatchSeat</code> at all, those sections will apply to every seat which, in the case of display devices, means one or more seats likely will not start at all as they all compete for the same display.)
</p>
<p>If you need you can configure it on <code>/etc/lightdm/lightdm.conf</code>
</p>
<pre>[LightDM]
run-directory=/run/lightdm

[Seat:*]
greeter-session=lightdm-gtk-greeter
greeter-hide-users=false # Bug: lightdm-gtk-greeter does not load user saved session when greeter-hide-users=true<a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/lightdm-gtk-greeter/+bug/837002">[1]</a>
session-wrapper=/etc/lightdm/Xsession

[Seat:seat0]
xserver-command=/usr/bin/X :0
# If you cannot put `MatchSeat "seat0"` in the `ServerLayout` section for some reason, you can force a layout here.
xserver-layout=seat0

[Seat:seat-1]
xserver-command=/usr/bin/X :1
xserver-layout=seat-1</pre>
<h3>
<span id="For_Auto_Login_multiseat_.28without_Display_Manager.29"></span><span class="mw-headline" id="For_Auto_Login_multiseat_(without_Display_Manager)">For Auto Login multiseat (without Display Manager)</span>
</h3>
<p>edit a script /boot/twin.sh
</p>
<pre>#!/bin/bash
cmd1="/bin/bash --login -c \"/usr/bin/xinit --"
cmd2="-nolisten tcp -keeptty -novtswitch -config xorg.multiseat.conf"
usr=(user1 user2)  # FIXME: assume user1, user2 is valid user id
declare -a pid
while true ; do
  for ((i=0; i&lt;${#usr[*]}; i++)) ; do
    echo "usr[$i]=${usr[$i]} pid=${pid[$i]}"
    if [ -z "${pid[$i]}" ] || [ ! -d "/proc/${pid[$i]}" ] ; then
      # echo "pid ${pid[$i]} killed, execute again"  
      cmd3="-layout seat$i vt0"$((7+i))"\""
      if [ $i -gt 0 ] ; then
        cmd3="-sharevts $cmd3"
      fi
      #echo "cmd3=$cmd3"
      /bin/su ${usr[$i]} -l -c "$cmd1 :$i $cmd2 $cmd3" &amp;
      pid[$i]=$!
      #echo "new pid=${pid[$i]}"
    fi
  done
  sleep 5  # check process exist per 5 second
done
</pre>
<p>Open <code>/etc/inittab</code> and setup as follows:
</p>
<pre>#id:3:initdefault:
id:5:initdefault:
...
x2:5:once:/root/twin.sh &gt; /root/twin.log 2&gt;&amp;1
</pre>
<h2><span class="mw-headline" id="Sound">Sound</span></h2>
<h3><span class="mw-headline" id="One_sound_card_for_each_seat">One sound card for each seat</span></h3>
<p>As soon as you <a href="#Attaching_devices_to_a_seat">attach</a> the sound card to the seat, Pulseaudio will detect and use it.
</p>
<h3><span class="mw-headline" id="Multiple_users_on_single_sound_card:_PulseAudio">Multiple users on single sound card: PulseAudio</span></h3>
<p>If two users want to use the sound card simultaneously, it is necessary to use a sound server, <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> being most prevalent. Usually, the PulseAudio server runs only for active user and does not allow for multiple user instances. Solution to this problem is using the system-wide PulseAudio server. Although this approach is discouraged by its authors, it is probably most applicable setup.
</p>
<dl><dt>Configuring for multiple users, without system-mode daemon</dt></dl>
<p>This results in all the mixing transferred to a single server.
</p>
<p>Copy the default configuration to the main user's home directory:
</p>
<pre>$ cp /etc/pulse/default.pa ~/.pulse/
</pre>
<p>or:
</p>
<pre>$ cp /etc/pulse/default.pa ~/.config/pulse/
</pre>
<p>Edit the file, adding at the end:
</p>
<pre>load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1
</pre>
<p>Restart pulseaudio, if already running:
</p>
<pre>$ pulseaudio -k
$ pulseaudio --daemonize=no
</pre>
<p>Repeat this procedure for each secondary user, as the user:
</p>
<pre>$ echo "default-server = 127.0.0.1" &gt; ~/.pulse/client.conf
</pre>
<dl><dt>Configuring for system-wide PulseAudio</dt></dl>
<ul>
<li>Create user pulse and put it into group audio (PulseAudio drops root privileges and changes to user pulse. Group membership allows for device access.)</li>
<li>Create group pulse-access and put users, who will play sound locally into it (Group membership is used for access control for local access to PA daemon.)</li>
<li>In /etc/pulse/default.pa state explicitly the access rights</li>
</ul>
<pre>load-module module-native-protocol-unix auth-group=pulse-access 
auth-group-enable=1
</pre>
<p>Create /etc/dbus-1/system.d/pulseaudio.conf with this content 
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=563481#p563481">/etc/dbus-1/system.d/pulseaudio.conf</a>:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;busconfig&gt;
	&lt;policy user="pulse"&gt;
		&lt;allow own="org.pulseaudio.Server"/&gt;
		&lt;allow send_destination="org.pulseaudio.Server"/&gt;
		&lt;allow receive_sender="org.pulseaudio.Server"/&gt;
	&lt;/policy&gt;
&lt;/busconfig&gt;</pre>
<p>Start PA as system-wide, under root: 
</p>
<pre># pulseaudio --system
</pre>
<p>In <code>/var/run/pulse</code> should appear files for communication with 
daemon, namely pid and native. 
</p>
<dl><dt>User access</dt></dl>
<p>You can check communication with system daemon as non-root by e.g. <code>pactl -s "unix:/var/run/pulse/native" list</code>.
</p>
<p>It is possible to enable automatic network connection to local daemon in <code>/etc/pulse/client.conf</code>:
</p>
<pre>auto-connect-localhost = yes
</pre>
<p>The users should be able to connect to PA server. All the cons for system-wide daemon become essentially pros, e.g. ability to control volume of other users streams in pavucontrol.
</p>
<dl><dt>Troubleshooting</dt></dl>
<p>It is possible to enable the http interface to PA for debugging in /etc/pulse/default.pa <code>load-module module-http-protocol-tcp</code> and then connect to it at <a rel="nofollow" class="external free" href="http://localhost:4714/">http://localhost:4714/</a>
</p>
<h3><span class="mw-headline" id="Multiple_users_on_single_sound_card:_ALSA">Multiple users on single sound card: ALSA</span></h3>
<p>Setup with PulseAudio removed, shared audio through an alsamixer equalizer and software mixing. The relevant hardware used is an ATI Radeon HD 5850 and an Intel Sandy Bridge (onboard) HD 3000. Configuration steps may vary.
</p>
<p>Specific hardware could be addressed in <code>/etc/asound.conf</code> to allocate audio to both users simultaneously if required. Another option enables two different users to both access audio with their own equalizer (described further down). The sound card will be shared equally among the seats using ALSA with PulseAudio removed - libpulse itself should be kept for various software dependencies however.
</p>
<p>Next, remove respective <code>~/.asoundrc</code> files (as well as related PulseAudio configuration files if you removed that) and follow this template with <code>/etc/asound.conf</code> for sound:
</p>
<pre>defaults.pcm.rate_converter "samplerate_best"

ctl.equal {
 type equal;
}

pcm.plugequal {
  type equal;
  # Modify the line below if you do not
  # want to use sound card 0.
  #slave.pcm "plughw:0,0";
  #by default we want to play from more sources at time:
  slave.pcm "plug:dmix";
}
#pcm.equal {
  # If you do not want the equalizer to be your
  # default soundcard comment the following
  # line and uncomment the above line. (You can
  # choose it as the output device by addressing
  # it with specific apps,eg mpg123 -a equal 06.Back_In_Black.mp3)
pcm.!default {
  type plug;
  slave.pcm plugequal;
}
</pre>
<p>Only the last user to login will have audio control and access but if 
you wish to share audio equally among different users, add each user to 
the audio group:
</p>
<p>Example:
</p>
<pre>usermod -a -G ftp joeblow
usermod -a -G ftp jillschmill
</pre>
<p>Then put this in each user's respective ~/.asoundrc rather than using /etc/asound.conf (this option also contains various tweaks to improve audio quality):
</p>
<pre>defaults.pcm.rate_converter "samplerate_best"

ctl.equal {
 type equal;
}

pcm.ossmix {
    type dmix
    ipc_key 1024 # must be unique!
    ipc_key_add_uid false   # let multiple users share
    ipc_perm 0666           # IPC permissions for multi-user sharing (octal, default 0600)
    slave {
        pcm "hw:0,0"      # you cannot use a "plug" device here, darn.
        period_time 0
        period_size 1024 # must be power of 2.
        buffer_size 8192  # ditto.
        rate 44100
       #format "S32_LE"
       #periods 128 # dito.
       #rate 8000 # with rate 8000 you *will* hear,
       # if ossmix is used :)
    }
    # bindings are cool. This says, that only the first
    # two channels are to be used by dmix, which is
    # enough for (most) oss apps and also lets 
    # multichannel chips work much faster:
    bindings {
        0 0 # from 0 =&gt; to 0
        1 1 # from 1 =&gt; to 1
    }
}

pcm.plugequal {
  type equal;
  # Modify the line below if you do not
  # want to use sound card 0.
  #slave.pcm "plughw:0,0";
  #by default we want to play from more sources at time:
  slave.pcm "plug:ossmix";
}

#pcm.equal {
  # If you do not want the equalizer to be your
  # default soundcard comment the following
  # line and uncomment the above line. (You can
  # choose it as the output device by addressing
  # it with specific apps,eg mpg123 -a equal 06.Back_In_Black.mp3)
pcm.!default {
  type plug;
  slave.pcm plugequal;
}</pre>
<p>Accessing the equalizer can be done with:
</p>
<pre>alsaequal -D equal
</pre>
<p>Each user has an equalizer they can configure separately.
</p>
<p>Make sure to turn down and mute the audio channels that you do not use, turn off auto-mute microphone, and make sure no channel has a gain higher than 0 to avoid ALSA audio bugs. This can be done via alsamixer.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Xorg_will_not_start">Xorg will not start</span></h3>
<p>Look at the log files in <code>/var/log/Xorg.*.log</code>.  There will be one for each seat.  Reading the log file will show you which devices the seat is trying to use, and you may see something like both seats are trying to use the same display device, because you have not correctly assigned it to a particular seat.
</p>
<p>If you are using a display manager, find out where its log files are so you can check that it is starting the Xorg server properly, and passing the required <code>-seat</code> parameter.
</p>
<h3><span class="mw-headline" id="My_Windows_key_does_not_work_anymore">My Windows key does not work anymore</span></h3>
<p>Put this in <a href="../en/Autostarting.html#On_Xorg_startup" class="mw-redirect" title="Execute commands after X start">a startup file</a>:
</p>
<pre>xmodmap -e "add Mod4 = Super_L Super_R"
</pre>
<h3>
<span id="Unreliable_behaviour_.28black_picture_without_cursor.29"></span><span class="mw-headline" id="Unreliable_behaviour_(black_picture_without_cursor)">Unreliable behaviour (black picture without cursor)</span>
</h3>
<p>If everything seems to be set up correctly, but for some reason you always get a black picture without a cursor, try setting the first initialized card in the BIOS to be the PCI card one.
</p>
<h3>
<span id="Little_black_boxes.2Fdots_on_the_desktop"></span><span class="mw-headline" id="Little_black_boxes/dots_on_the_desktop">Little black boxes/dots on the desktop</span>
</h3>
<p>This is actually portions of the virtual terminals being painted on top of X. It seems to be caused by the Linux kernel framebuffer. This can be fixed by disabling the framebuffer, or by removing the "-sharevts" option from the primary seat's X args.
</p>
<h3><span class="mw-headline" id="Multimedia_keys_not_working">Multimedia keys not working</span></h3>
<p>If your keyboard(s) has extra "multimedia" keys, you may find that they stopped working in your multiseat setup. This is because such keyboards are often represented as more then one "event" device. As you did above, cat each /dev/input/event* device, this time pressing multimedia keys. Once you have found the right event device, add a separate keyboard InputDevice section for it, then add that InputDevice section to the corresponding ServerLayout section with the "SendCoreEvents" option, which indicates that input from this device should be handled, despite not being the core keyboard. In the end you should have sections something like the following:
</p>
<pre>Section "InputDevice"
    Identifier      "Keyboard0"
    Driver          "evdev"
    Option          "Device" "/dev/input/event6"
    Option          "XkbModel" "evdev"
EndSection

Section "InputDevice"
    Identifier      "Keyboard0Multimedia"
    Driver          "evdev"
    Option          "Device" "/dev/input/event7"
    Option          "XkbModel" "evdev"
EndSection

Section "ServerLayout"
    Identifier     "Layout0"
    Screen      0  "Screen0" 0 0
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Keyboard0Multimedia" "SendCoreEvents"
    InputDevice    "Mouse0" "CorePointer"
    Option         "AutoAddDevices" "no"
EndSection
</pre>
<h3>
<span id="The_Ctrl-Alt-Fx.2C_Alt-Fx_keys_mess_up_with_virtual_terminals"></span><span class="mw-headline" id="The_Ctrl-Alt-Fx,_Alt-Fx_keys_mess_up_with_virtual_terminals">The Ctrl-Alt-Fx, Alt-Fx keys mess up with virtual terminals</span>
</h3>
<p>(Oct 2010) I follows this guide and everything works, except for Atl-F1, Atl-F2,... mess things up. Then I follow this guide <a rel="nofollow" class="external free" href="https://help.ubuntu.com/community/MultiseatX">https://help.ubuntu.com/community/MultiseatX</a> (read the part for Ubuntu 10.04):
</p>
<pre># cd /usr/bin
# ln -s X X0
# ln -s X X1
</pre>
<p>Then fix in the <b>/usr/share/config/kdm/kdmrc</b> as follow
</p>
<pre>[General]
ConsoleTTYs=tty1,tty2,tty3,tty4,tty5,tty6
ServerVTs=7,8
StaticServers=:0,:1
ReserveServers=:2,:3
...

[X-:0-Core]
ServerVT=8
ServerCmd=/usr/bin/X1
ServerArgsLocal=-nolisten tcp -sharevts -novtswitch -keeptty -layout Seat1 -isolateDevice PCI:1:0:0

[X-:1-Core]
ServerVT=7
ServerCmd=/usr/bin/X0
ServerArgsLocal=-nolisten tcp -novtswitch -keeptty -layout Seat0 -isolateDevice PCI:0:2:0
...</pre>
<p>It works for my computer: one on-board Intel card (xf86-video-intel driver), and one Nvidia card (xf86-video-nouveau driver). You can check if the parameters are passed correctly by:
</p>
<pre>$ pgrep -af PCI
root     16993  1.6  1.3  32900 26772 ?        S    08:09   0:19 /usr/bin/X0 :1 vt7 -nolisten tcp -novtswitch -keeptty -layout Seat0 -isolateDevice PCI:0:2:0 -auth /var/run/xauth/A:1-ES6CCb
root     17124  5.9  0.5  18996 11980 ?        S    08:09   1:09 /usr/bin/X1 :0 vt8 -nolisten tcp -sharevts -novtswitch -keeptty -layout Seat1 -isolateDevice PCI:1:0:0 -auth /var/run/xauth/A:0-Wgiyza

</pre>
<p>The <b>ServerVT=7</b>, <b>ServerVT=8</b> would be pass to as <b>vt7</b>, <b>vt8</b>
</p>
<h4><span class="mw-headline" id="Fix_VT_behaviour_using_fbcon_kernel_parameter">Fix VT behaviour using fbcon kernel parameter</span></h4>
<p>Pass <code>fbcon=map:<i>n</i></code> to the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel command line">kernel command line</a>. (Number can differ, see the <a rel="nofollow" class="external text" href="https://docs.kernel.org/fb/fbcon.html">kernel documentation</a>)
</p>
<p>The value above cause <code>[Ctrl]+Alt+F<i>X</i></code> switching on video card number <i>n</i>, other video cards just show Xorg.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li>
<a href="../en/Multi-pointer_X.html" title="Multi-pointer X">Multi-pointer X</a> explains how to setup two separate pair of devices on the same session.</li></ul>
<ul><li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=105450">The original Arch Forums thread</a>.</li></ul>
<ul><li>
<a rel="nofollow" class="external text" href="https://code.lexarcana.com/posts/simple-multiseat-setup-on-fedora-17.html">Multiseat using loginctl</a>.</li></ul>
<ul><li>
<a rel="nofollow" class="external text" href="https://code.lexarcana.com/posts/using-udev-to-configure-fedora-multi-seat-automatically.html">Using udev to configure multi-seat automatically</a>.</li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xorg_multiseat&amp;oldid=791980">https://wiki.archlinux.org/index.php?title=Xorg_multiseat&amp;oldid=791980</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 8 November 2023, at 15:05.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
