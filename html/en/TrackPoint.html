<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>TrackPoint - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-TrackPoint rootpage-TrackPoint skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-GUI_configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#GUI_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>GUI configuration</div>
		</a>
		
		<ul id="toc-GUI_configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Middle_button_scroll" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Middle_button_scroll">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Middle button scroll</div>
		</a>
		
			<button aria-controls="toc-Middle_button_scroll-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Middle button scroll subsection</span>
			</button>
		
		<ul id="toc-Middle_button_scroll-sublist" class="vector-toc-list">
			<li id="toc-Xorg_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Xorg configuration</div>
			</a>
			
			<ul id="toc-Xorg_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Two-button_trackpoints" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Two-button_trackpoints">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Two-button trackpoints</div>
			</a>
			
			<ul id="toc-Two-button_trackpoints-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Sysfs_attributes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Sysfs_attributes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Sysfs attributes</div>
		</a>
		
			<button aria-controls="toc-Sysfs_attributes-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Sysfs attributes subsection</span>
			</button>
		
		<ul id="toc-Sysfs_attributes-sublist" class="vector-toc-list">
			<li id="toc-Configuration_at_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_at_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Configuration at boot</div>
			</a>
			
			<ul id="toc-Configuration_at_boot-sublist" class="vector-toc-list">
				<li id="toc-udev_rule" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#udev_rule">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>udev rule</div>
			</a>
			
			<ul id="toc-udev_rule-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd.path_unit" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#systemd.path_unit">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>systemd.path unit</div>
			</a>
			
			<ul id="toc-systemd.path_unit-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-udev_hwdb_entry" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#udev_hwdb_entry">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>udev hwdb entry</div>
			</a>
			
			<ul id="toc-udev_hwdb_entry-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-device-quirks" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#device-quirks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.4</span>device-quirks</div>
			</a>
			
			<ul id="toc-device-quirks-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Trackpoint_is_not_detected_or_is_detected_after_X_minutes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Trackpoint_is_not_detected_or_is_detected_after_X_minutes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Trackpoint is not detected or is detected after X minutes</div>
			</a>
			
			<ul id="toc-Trackpoint_is_not_detected_or_is_detected_after_X_minutes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Trackpoint_buttons_do_not_always_work" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Trackpoint_buttons_do_not_always_work">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Trackpoint buttons do not always work</div>
			</a>
			
			<ul id="toc-Trackpoint_buttons_do_not_always_work-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Two-finger_scroll_ceases_to_work_after_suspending" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Two-finger_scroll_ceases_to_work_after_suspending">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Two-finger scroll ceases to work after suspending</div>
			</a>
			
			<ul id="toc-Two-finger_scroll_ceases_to_work_after_suspending-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Trackpoint_moves_on_its_own" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Trackpoint_moves_on_its_own">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Trackpoint moves on its own</div>
			</a>
			
			<ul id="toc-Trackpoint_moves_on_its_own-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Middle-click_paste_triggered_while_scrolling" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Middle-click_paste_triggered_while_scrolling">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Middle-click paste triggered while scrolling</div>
			</a>
			
			<ul id="toc-Middle-click_paste_triggered_while_scrolling-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">TrackPoint</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/TrackPoint.html" title="TrackPoint – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%88%E3%83%A9%E3%83%83%E3%82%AF%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88" title="トラックポイント – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/TrackPoint" title="TrackPoint – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>The TrackPoint is Lenovo's trademark for the pointing stick in the middle of the keyboard. It is supported by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-evdev">xf86-input-evdev</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>.  
</p>
<p>Default <a href="../en/Xorg.html" title="Xorg">Xorg</a> behavior supports click and point. For the <code>evdev</code> driver middle-click and scrolling requires extra configuration.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="GUI_configuration">GUI configuration</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gpointing-device-settings/">gpointing-device-settings</a></span><sup><small>AUR</small></sup> package.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This software is not maintained anymore (last release in 2013).
It may not allow deep configuration when <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> is used. </div>
<h2><span class="mw-headline" id="Middle_button_scroll">Middle button scroll</span></h2>
<p>When using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>, middle-button scrolling is enabled by default. 
</p>
<p>When using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-evdev">xf86-input-evdev</a></span>, middle-button scrolling is supported via <i>xinput</i> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xinput">xorg-xinput</a></span> package. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xinput set-prop "<i>TPPS/2 IBM TrackPoint</i>" "Evdev Wheel Emulation" 1
xinput set-prop "<i>TPPS/2 IBM TrackPoint</i>" "Evdev Wheel Emulation Button" 2
xinput set-prop "<i>TPPS/2 IBM TrackPoint</i>" "Evdev Wheel Emulation Timeout" 200
xinput set-prop "<i>TPPS/2 IBM TrackPoint</i>" "Evdev Wheel Emulation Axes" 6 7 4 5
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Devices names can be listed with <code>xinput --list</code> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hwinfo">hwinfo</a></span>.</li>
<li>The <code>"Device Accel Constant Deceleration"</code> line configures the sensitivity of the trackpoint.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Xorg_configuration">Xorg configuration</span></h3>
<p>Alternative to an <code>~/.xinitrc</code> configuration, you can also create an <a href="../en/Xorg.html#Configuration" title="Xorg">Xorg#Configuration</a> for the <span class="plainlinks archwiki-template-man" title="$ man 4 evdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/evdev.4">evdev(4)</a></span>driver. For example, as <code>/etc/X11/xorg.conf.d/20-thinkpad.conf</code>, replacing <code>TPPS/2 IBM TrackPoint</code> with the device name from <i>xinput</i>:
</p>
<pre>Section "InputClass"
    Identifier	"Trackpoint Wheel Emulation"
    Driver "evdev"
    MatchProduct	"<i>TPPS/2 IBM TrackPoint</i>"
    MatchDevicePath	"/dev/input/event*"
    Option		"EmulateWheel"		"true"
    Option		"EmulateWheelButton"	"2"
    Option		"Emulate3Buttons"	"false"
    Option		"XAxisMapping"		"6 7"
    Option		"YAxisMapping"		"4 5"
EndSection
</pre>
<h3><span class="mw-headline" id="Two-button_trackpoints">Two-button trackpoints</span></h3>
<p>On two-button trackpoints, using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>, the scroll button can be set to right-click button without removing functionality. 
</p>
<p>Replacing <i>device</i> with the device name from <code>xinput</code>:
</p>
<pre>$ xinput set-prop "<i>device</i>" "libinput Button Scrolling Button" 3
</pre>
<h2><span class="mw-headline" id="Sysfs_attributes">Sysfs attributes</span></h2>
<p>TrackPoints expose their attributes as files in <code>/sys/devices/platform/i8042/serio1/</code>. For example, to manually enable the tap-to-click functionality:
</p>
<pre># echo -n 1 &gt; /sys/devices/platform/i8042/serio1/press_to_select
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The location of the attribute files may be different depending on the device you are using. Systems with both a TrackPoint and a touchpad device will use either <code>/sys/devices/platform/i8042/serio1/serio2/</code> or <code>/sys/devices/platform/i8042/serio1/serio3/</code> for the path, whereas systems with only a TrackPoint device will use the <code>/sys/devices/platform/i8042/serio1/</code> path.</div>
<h3><span class="mw-headline" id="Configuration_at_boot">Configuration at boot</span></h3>
<h4><span class="mw-headline" id="udev_rule">udev rule</span></h4>
<p>This rule increases the trackpoint <b>speed</b> and enables <b>tap to select</b> (see above) on boot.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-trackpoint.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="input", ATTR{name}=="TPPS/2 IBM TrackPoint", ATTR{device/sensitivity}="240", ATTR{device/press_to_select}="1"</pre>
<h4><span class="mw-headline" id="systemd.path_unit">systemd.path unit</span></h4>
<p>There have been <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=199998">reports on the forums</a> that the attributes/files under <code>/sys/devices/platform/i8042/serio1/serio2/</code> appear too late in the boot process for the above (or similar) udev rule(s) to have an effect on them. Instead, a <i>systemd.path</i> unit can be used to configure attributes of the TrackPoint.
</p>
<p>First create an executable script named e.g. <code>/usr/local/bin/trackpoint_configuration.sh</code> that sets the TrackPoint attributes as shown in the <a href="#Sysfs_attributes">#Sysfs attributes</a> section.
</p>
<p>The following example disables the trackpoint in some laptops, leaving the trackpoint left and right buttons (the ones over the touchpad) keep working just fine (however, if one disables the TrackPoint directly from the UEFI/BIOS settings, right and left trackpoint buttons will necessarily be disabled).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/trackpoint_configuration.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
echo -n 0 &gt; /sys/devices/platform/i8042/serio1/serio2/sensitivity
echo -n 0 &gt; /sys/devices/platform/i8042/serio1/serio2/speed</pre>
<p>Afterwards, create the following systemd units. Make sure that all attributes modified by the script are listed with <code>PathExists</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/trackpoint_parameters.path</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Watch for, and modify, Trackpoint attributes

[Path]
PathExists=/sys/devices/platform/i8042/serio1/press_to_select

[Install]
WantedBy=default.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/trackpoint_parameters.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set TrackPoint attributes

[Service]
ExecStart=/usr/local/bin/trackpoint_configuration.sh</pre>
<p>Finally, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> the <code>trackpoint_parameters.path</code> systemd unit.
</p>
<h4><span class="mw-headline" id="udev_hwdb_entry">udev hwdb entry</span></h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Since around <a rel="nofollow" class="external text" href="https://who-t.blogspot.com/2018/06/libinput-and-its-device-quirks-files.html">version 1.12</a> libinput stopped using udev hwdb for device-specific overrides and moved to ini-style files independent of hwdb (see <a href="#device-quirks">#device-quirks</a>). (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:TrackPoint.html">Talk:TrackPoint</a>)</div>
</div>
<p>Libinput applies its own parameters to sysfs based on entries in the <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/blob/master/hwdb.d/70-pointingstick.hwdb">udev hardware database</a>. This is the behavior on systems running a Wayland compositor, as libinput is the only supported input interface in that environment. Changes made prior to the start of a Wayland compositor or X session will be overwritten.
</p>
<p>To override libinput's default settings, add a local hwdb entry:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/hwdb.d/99-trackpoint.hwdb</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">evdev:name:TPPS/2 IBM TrackPoint:dmi:bvn*:bvr*:bd*:svnLENOVO:pn*:pvrThinkPad??60?:*
  POINTINGSTICK_SENSITIVITY=250</pre>
<p>You can find various vendor/model keys in the <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/blob/master/hwdb.d/70-pointingstick.hwdb">udev hardware database</a>. Note that since <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/libinput/libinput/-/commit/3669fa10dff95371658647272ef7ac7a3ef29a61">this commit</a> libinput ignores the POINTINGSTICK_CONST_ACCEL parameter and uses POINTINGSTICK_SENSITIVITY. The range is 0-255.
</p>
<p><a href="../en/Map_scancodes_to_keycodes.html#Updating_the_Hardware_Database_Index" title="Map scancodes to keycodes">Update the hardware database index</a>, then to test the changes prior to restarting your compositor or X session, first find your device input node <code>/dev/input/eventX</code> using:
</p>
<pre># libinput list-devices
</pre>
<p>Run the following to generate some debug output:
</p>
<pre># udevadm trigger /sys/class/input/eventX
# udevadm test /sys/class/input/eventX
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will not actually apply the parameters from hwdb, but you can verify the changes in the output of the <code>udevadm test</code> command.</div>
<p>Finally, restart your Wayland compositor or X session to apply the changes.
</p>
<h4><span class="mw-headline" id="device-quirks">device-quirks</span></h4>
<p>With the <code>libinput</code> switch to the new device-quirks <code>.ini</code>-style configuration files, you can adjust trackpoint parameters via local overrides in <code>/etc/libinput/</code>.
</p>
<p>For example, to override the pointing speed, create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/libinput/local-overrides.quirks</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trackpoint Override]
MatchUdevType=pointingstick
AttrTrackpointMultiplier=0.75</pre>
<p>For more information, see <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/device-quirks.html#installing-temporary-local-device-quirks">libinput: Installing temporary local device quirks</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Model quirks are internal API and may change at any time. No backwards-compatibility is guaranteed. Local overrides should only be used until the distribution updates the libinput packages.</div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Trackpoint_is_not_detected_or_is_detected_after_X_minutes">Trackpoint is not detected or is detected after X minutes</span></h3>
<p>This appears to be a kernel bug.<a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=33292">[1]</a>
</p>
<p>A workaround is passing <code>proto=bare</code> to the <code>psmouse</code> module as a <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a>. However, this disables scrolling with the clickpad and the two-finger middle click.
</p>
<pre>psmouse proto=bare
</pre>
<p>For some ThinkPad models with Elantech touchpad the Trackpoint and the corresponding hardware buttons do not get recognized. The above mentioned command does work but disables the two finger scrolling on the touchpad. To keep two finger interactions possible, use the following kernel module parameter:
</p>
<pre>psmouse elantech_smbus=0
</pre>
<h3><span class="mw-headline" id="Trackpoint_buttons_do_not_always_work">Trackpoint buttons do not always work</span></h3>
<p>If you discover that disabling the touchpad in the BIOS disables the wrong buttons and/or that the trackpoint buttons are very unreliable a workaround is to pass <code>proto=imps</code> to the <code>psmouse</code> module as a <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a>.
</p>
<h3><span class="mw-headline" id="Two-finger_scroll_ceases_to_work_after_suspending">Two-finger scroll ceases to work after suspending</span></h3>
<p>On some laptops, psmouse seems to fail on start up, or after suspend:
</p>
<pre>psmouse serio1: synaptics: Unable to initialize device
</pre>
<p>One workaround is to use add <code>synaptics_intertouch=0</code> to <code>psmouse</code> as a <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a>.
</p>
<h3><span class="mw-headline" id="Trackpoint_moves_on_its_own">Trackpoint moves on its own</span></h3>
<p>On some ThinkPads the TrackPoint cursor moves spontaneously after release and it does not stop. This happens because of a low value of the <code>drift_time</code> parameter (e.g. 5), you need to change it to 25 or 30 to fix the problem. This can be done with a <a href="../en/Udev.html" title="Udev">udev</a> rule:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-trackpoint.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="input", ATTR{name}=="TPPS/2 IBM TrackPoint", ATTR{device/drift_time}="25"</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> The above reads as the problem was definitely identified and fixed, which contradicts the the following paragraph (which may also not always work?) (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:TrackPoint.html">Talk:TrackPoint</a>)</div>
</div>
<p>But, this method not always work. So, as last chance changing the psmouse protocol to "bare", will fix the problem. This way the trackpoint will be identified as a "PS/2 Generic Mouse" and not controlled by the original kernel driver anymore.
</p>
<p>So, add <code>psmouse.proto=bare</code> to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<h3><span class="mw-headline" id="Middle-click_paste_triggered_while_scrolling">Middle-click paste triggered while scrolling</span></h3>
<p>Clicking the middle mouse button pastes from the <a href="../en/Clipboard.html#Selections" title="Clipboard">PRIMARY selection</a> by default, which is an inconvenience when using the middle mouse button to scroll with the TrackPoint. See <a href="../en/Clipboard.html#Disabling_middle-click_paste" title="Clipboard">Clipboard#Disabling middle-click paste</a> to disable this behavior.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/How_to_configure_the_TrackPoint">How to configure the TrackPoint - ThinkWiki</a></li>
<li><a rel="nofollow" class="external text" href="https://gist.githubusercontent.com/noromanba/11261595/raw/478cf4c4d9b63f1e59364a6f427ffccd63db5e1e/thinkpad-trackpoint-speed.mkd">Trackpoint speed</a></li>
<li><a rel="nofollow" class="external text" href="https://askubuntu.com/questions/37824/what-is-the-best-way-to-configure-a-thinkpads-trackpoint/553926">What is the best way to configure a Thinkpad's TrackPoint?</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Input_devices.html" title="Category:Input devices">Input devices</a></li>
<li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=TrackPoint&amp;oldid=802299">https://wiki.archlinux.org/index.php?title=TrackPoint&amp;oldid=802299</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 4 March 2024, at 21:32.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
