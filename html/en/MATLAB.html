<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>MATLAB - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MATLAB rootpage-MATLAB skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Overview" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Overview">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Overview</div>
		</a>
		
		<ul id="toc-Overview-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Installing_with_MATLAB_Package_Manager_(MPM)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installing_with_MATLAB_Package_Manager_(MPM)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Installing with MATLAB Package Manager (MPM)</div>
			</a>
			
			<ul id="toc-Installing_with_MATLAB_Package_Manager_(MPM)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installing_from_the_MATLAB_installation_software" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installing_from_the_MATLAB_installation_software">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Installing from the MATLAB installation software</div>
			</a>
			
			<ul id="toc-Installing_from_the_MATLAB_installation_software-sublist" class="vector-toc-list">
				<li id="toc-Desktop_entry" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Desktop_entry">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Desktop entry</div>
			</a>
			
			<ul id="toc-Desktop_entry-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Installing_from_the_AUR_package" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installing_from_the_AUR_package">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Installing from the AUR package</div>
			</a>
			
			<ul id="toc-Installing_from_the_AUR_package-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Java" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Java">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Java</div>
			</a>
			
			<ul id="toc-Java-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-OpenGL_acceleration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenGL_acceleration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>OpenGL acceleration</div>
			</a>
			
			<ul id="toc-OpenGL_acceleration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sound" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sound">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Sound</div>
			</a>
			
			<ul id="toc-Sound-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GPU_computing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GPU_computing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>GPU computing</div>
			</a>
			
			<ul id="toc-GPU_computing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Install_supported_compilers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Install_supported_compilers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Install supported compilers</div>
			</a>
			
			<ul id="toc-Install_supported_compilers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Help_browser" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Help_browser">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Help browser</div>
			</a>
			
			<ul id="toc-Help_browser-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Serial_port_access" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Serial_port_access">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Serial port access</div>
			</a>
			
			<ul id="toc-Serial_port_access-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-HiDPI_and_4k" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#HiDPI_and_4k">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>HiDPI and 4k</div>
			</a>
			
			<ul id="toc-HiDPI_and_4k-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Warning:_Initializing_MATLAB_Graphics_failed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Warning:_Initializing_MATLAB_Graphics_failed">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Warning: Initializing MATLAB Graphics failed</div>
			</a>
			
			<ul id="toc-Warning:_Initializing_MATLAB_Graphics_failed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-X11GLXDrawableFactory_-_Could_not_initialize_shared_resources_for_X11GraphicsDevice" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#X11GLXDrawableFactory_-_Could_not_initialize_shared_resources_for_X11GraphicsDevice">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>X11GLXDrawableFactory - Could not initialize shared resources for X11GraphicsDevice</div>
			</a>
			
			<ul id="toc-X11GLXDrawableFactory_-_Could_not_initialize_shared_resources_for_X11GraphicsDevice-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Black_screen_in_help_browser_and_livescripts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Black_screen_in_help_browser_and_livescripts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Black screen in help browser and livescripts</div>
			</a>
			
			<ul id="toc-Black_screen_in_help_browser_and_livescripts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Static_TLS_errors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Static_TLS_errors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Static TLS errors</div>
			</a>
			
			<ul id="toc-Static_TLS_errors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Blank/grey UI when using WM (non-reparenting window manager)</div>
			</a>
			
			<ul id="toc-Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Corrupted_text_and_fonts_in_menus_and_fields" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Corrupted_text_and_fonts_in_menus_and_fields">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Corrupted text and fonts in menus and fields</div>
			</a>
			
			<ul id="toc-Corrupted_text_and_fonts_in_menus_and_fields-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installation_dependencies_missing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_dependencies_missing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Installation dependencies missing</div>
			</a>
			
			<ul id="toc-Installation_dependencies_missing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installation_error:_archive_is_not_a_ZIP_archive" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_error:_archive_is_not_a_ZIP_archive">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Installation error: archive is not a ZIP archive</div>
			</a>
			
			<ul id="toc-Installation_error:_archive_is_not_a_ZIP_archive-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Install-time_library_errors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Install-time_library_errors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>Install-time library errors</div>
			</a>
			
			<ul id="toc-Install-time_library_errors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hangs_on_rendering_or_exiting_with_Intel_graphics" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hangs_on_rendering_or_exiting_with_Intel_graphics">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10</span>Hangs on rendering or exiting with Intel graphics</div>
			</a>
			
			<ul id="toc-Hangs_on_rendering_or_exiting_with_Intel_graphics-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LiveScript_errors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LiveScript_errors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11</span>LiveScript errors</div>
			</a>
			
			<ul id="toc-LiveScript_errors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_webcam/video_device" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_webcam/video_device">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.12</span>Using webcam/video device</div>
			</a>
			
			<ul id="toc-Using_webcam/video_device-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-MATLAB_hangs_for_several_minutes_when_closing_Help_Browser" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#MATLAB_hangs_for_several_minutes_when_closing_Help_Browser">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.13</span>MATLAB hangs for several minutes when closing Help Browser</div>
			</a>
			
			<ul id="toc-MATLAB_hangs_for_several_minutes_when_closing_Help_Browser-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Some_dropdown_menus_cannot_be_selected" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Some_dropdown_menus_cannot_be_selected">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.14</span>Some dropdown menus cannot be selected</div>
			</a>
			
			<ul id="toc-Some_dropdown_menus_cannot_be_selected-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Not_starting_-_licensing_error" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Not_starting_-_licensing_error">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.15</span>Not starting - licensing error</div>
			</a>
			
			<ul id="toc-Not_starting_-_licensing_error-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-MATLAB_crashes_with_"Failure_loading_desktop_class"_on_startup' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#MATLAB_crashes_with_"Failure_loading_desktop_class"_on_startup'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.16</span>MATLAB crashes with "Failure loading desktop class" on startup</div>
			</a>
			
			<ul id='toc-MATLAB_crashes_with_"Failure_loading_desktop_class"_on_startup-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.17</span>Unable to type in text fields of interfaces based on MATLABWindow</div>
			</a>
			
			<ul id="toc-Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unable_to_launch_the_MATLABWindow_application" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unable_to_launch_the_MATLABWindow_application">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.18</span>Unable to launch the MATLABWindow application</div>
			</a>
			
			<ul id="toc-Unable_to_launch_the_MATLABWindow_application-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cannot_verify_university_login_during_installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cannot_verify_university_login_during_installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.19</span>Cannot verify university login during installation</div>
			</a>
			
			<ul id="toc-Cannot_verify_university_login_during_installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Missing_libcrypt.so.1" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Missing_libcrypt.so.1">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.20</span>Missing libcrypt.so.1</div>
			</a>
			
			<ul id="toc-Missing_libcrypt.so.1-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Running_installer_as_root_does_not_launch_the_GUI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_installer_as_root_does_not_launch_the_GUI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.21</span>Running installer as root does not launch the GUI</div>
			</a>
			
			<ul id="toc-Running_installer_as_root_does_not_launch_the_GUI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GUI_installer_is_unable_to_create_the_target_folder_when_installing_as_user" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GUI_installer_is_unable_to_create_the_target_folder_when_installing_as_user">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.22</span>GUI installer is unable to create the target folder when installing as user</div>
			</a>
			
			<ul id="toc-GUI_installer_is_unable_to_create_the_target_folder_when_installing_as_user-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-MATLAB_crashes_when_opening_Simulink" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#MATLAB_crashes_when_opening_Simulink">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.23</span>MATLAB crashes when opening Simulink</div>
			</a>
			
			<ul id="toc-MATLAB_crashes_when_opening_Simulink-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-MATLAB_cannot_open_or_create_script_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#MATLAB_cannot_open_or_create_script_files">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.24</span>MATLAB cannot open or create script files</div>
			</a>
			
			<ul id="toc-MATLAB_cannot_open_or_create_script_files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Calls_to_mex_fail" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Calls_to_mex_fail">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.25</span>Calls to mex fail</div>
			</a>
			
			<ul id="toc-Calls_to_mex_fail-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Incompatibilities_with_some_python_libraries_using_MKL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Incompatibilities_with_some_python_libraries_using_MKL">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.26</span>Incompatibilities with some python libraries using MKL</div>
			</a>
			
			<ul id="toc-Incompatibilities_with_some_python_libraries_using_MKL-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Settings_not_persisting_between_MATLAB_restarts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Settings_not_persisting_between_MATLAB_restarts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.27</span>Settings not persisting between MATLAB restarts</div>
			</a>
			
			<ul id="toc-Settings_not_persisting_between_MATLAB_restarts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-"Unable_to_open_this_file_in_the_current_system_configuration"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#"Unable_to_open_this_file_in_the_current_system_configuration"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.28</span>"Unable to open this file in the current system configuration"</div>
			</a>
			
			<ul id='toc-"Unable_to_open_this_file_in_the_current_system_configuration"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Symbols_in_toolstrip_menus_are_not_diplayed_properly" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Symbols_in_toolstrip_menus_are_not_diplayed_properly">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.29</span>Symbols in toolstrip menus are not diplayed properly</div>
			</a>
			
			<ul id="toc-Symbols_in_toolstrip_menus_are_not_diplayed_properly-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Blank_screen_on_Xwayland" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Blank_screen_on_Xwayland">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.30</span>Blank screen on Xwayland</div>
			</a>
			
			<ul id="toc-Blank_screen_on_Xwayland-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desktop_Error_with_text_not_rendering" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desktop_Error_with_text_not_rendering">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.31</span>Desktop Error with text not rendering</div>
			</a>
			
			<ul id="toc-Desktop_Error_with_text_not_rendering-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-MATLAB_in_a_systemd-nspawn" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#MATLAB_in_a_systemd-nspawn">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>MATLAB in a systemd-nspawn</div>
		</a>
		
		<ul id="toc-MATLAB_in_a_systemd-nspawn-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">MATLAB</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/MATLAB" title="MATLAB – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/MATLAB" title="MATLAB – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Octave.html" title="Octave">Octave</a></li>
<li><a href="../en/SageMath.html" class="mw-redirect" title="Sage-mathematics">Sage-mathematics</a></li>
<li><a href="../en/Mathematica.html" title="Mathematica">Mathematica</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> unnecessarily verbose, sometimes written in in first person (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:MATLAB.html">Talk:MATLAB</a>)</div>
</div>
<p>From the <a rel="nofollow" class="external text" href="https://www.mathworks.com/products/matlab.html">official website</a>:
</p>
<dl><dd>MATLAB is a programming and numeric computing platform used by millions of engineers and scientists to analyze data, develop algorithms, and create models.</dd></dl>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>MATLAB is proprietary software produced by The MathWorks and requires a license to obtain, install, and activate. New versions of MATLAB are released twice a year,
release names are composed of <code>R</code>, the year of the release and <code>a</code> or <code>b</code>.
Arch Linux is not officially supported.
<a rel="nofollow" class="external autonumber" href="https://www.mathworks.com/support/requirements/matlab-linux.html">[1]</a>
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>A complete copy of the MATLAB software must be obtained before it can be installed. The MATLAB software is available to licenses holders on both a DVD and through the <a rel="nofollow" class="external text" href="https://www.mathworks.com">MathWorks website</a>. In addition to the software a file installation key is required for installation. It is possible to install MATLAB either with the <a rel="nofollow" class="external text" href="https://github.com/mathworks-ref-arch/matlab-dockerfile/blob/main/MPM.md">MATLAB Package Manager</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup>, or from the MATLAB installation software directly. The recommended and most robust method is by using the MATLAB Package Manager, as it automates the installation of both MATLAB and toolboxes. Since the standard MATLAB installer does not support Wayland, the MPM is the only way to install MATLAB if running Wayland. Please note that MATLAB itself will require xwayland.  
</p>
<h3>
<span id="Installing_with_MATLAB_Package_Manager_.28MPM.29"></span><span class="mw-headline" id="Installing_with_MATLAB_Package_Manager_(MPM)">Installing with MATLAB Package Manager (MPM)</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://github.com/mathworks-ref-arch/matlab-dockerfile/blob/main/MPM.md">MATLAB Package Manager</a> (MPM) offers a streamlined method to install MATLAB and accompanying MathWorks products on Linux systems, directly from the command line. This utility facilitates programmatic installation without necessitating user sign-in, a File Installation Key, or a pre-acquired license file, deferring activation and licensing to post-installation. MPM permits specification of MATLAB release version, additional toolboxes, and installation directory. Additionally, it serves well for constructing MATLAB Docker containers. As of 2023, the MATLAB installer does not support Wayland, and this is an easy way to install MATLAB via command-line.
</p>
<p>Here's how to acquire MPM and set it up for execution (ensure wget is installed):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">wget <a rel="nofollow" class="external free" href="https://www.mathworks.com/mpm/glnxa64/mpm">https://www.mathworks.com/mpm/glnxa64/mpm</a></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">chmod +x mpm</pre>
<p>Installation of MATLAB and desired products is conducted with the following syntax:
</p>
<pre>./mpm install --release=&lt;release&gt; --destination=&lt;destination&gt; [--products] &lt;product1&gt; &lt;product2&gt; [...]
</pre>
<p>For instance, to install MATLAB R2021b along with select toolboxes to a specified directory, the command would be:
</p>
<pre>./mpm install --release=R2021b --destination=/home/username/matlab MATLAB Simulink Deep_Learning_Toolbox Parallel_Computing_Toolbox
</pre>
<p>The full list of correctly formatted product names can be found within the <a rel="nofollow" class="external text" href="https://github.com/mathworks-ref-arch/matlab-dockerfile/tree/main/mpm-input-files">template input files</a>.
</p>
<h3><span class="mw-headline" id="Installing_from_the_MATLAB_installation_software">Installing from the MATLAB installation software</span></h3>
<p>The MATLAB installation software is self contained and does not require any additional packages to install in silent mode. To install with the GUI a working <a href="../en/Xorg.html" title="Xorg">Xorg</a> graphical display is necessary. <a href="../en/Wayland.html" title="Wayland">Wayland</a> is not officially supported yet, so it will run in a Xwayland session. The installation is handled by the <code>install</code> script. You can run the script as root to install MATLAB system-wide or your user to install it only for you.
</p>
<p>During the installation, you are asked if you want symlinks to be created. If you did not choose to do so, you can now manually create a symlink in <code>/usr/local/bin</code> to make it easier to launch in terminal:
</p>
<pre># ln -s /{MATLAB}/bin/matlab /usr/local/bin
</pre>
<p>Or you could add  MATLAB install path to <code>PATH</code> environment variable.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the installation crashes with <code>Failed to launch web window with error: Unable to launch the MATLABWindow application.</code>, see <a href="#Unable_to_launch_the_MATLABWindow_application">#Unable to launch the MATLABWindow application</a> for a workaround.</div>
<h4><span class="mw-headline" id="Desktop_entry">Desktop entry</span></h4>
<p>Optionally create a <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop entry">desktop entry</a>. The MIME type of MATLAB files is <code>text/x-matlab</code>.
</p>
<p>Start <code>matlab</code> with:
</p>
<ul>
<li>
<code>-desktop</code> to run Matlab without a terminal.</li>
<li>
<code>-nosplash</code> to prevent the splash screen from showing up.</li>
</ul>
<p>In order for icons to appear correctly <code>StartupWMClass</code> needs to be set in the desktop entry. To find it out start MATLAB, run <code>xprop | grep WM_CLASS</code> and select the MATLAB window.
</p>
<p>Example desktop entry: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/applications/matlab.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Type=Application
Terminal=false
MimeType=text/x-matlab
Exec=/usr/local/MATLAB/R20<i>xyz</i>/bin/matlab -desktop
Name=MATLAB
Icon=matlab
Categories=Development;Math;Science
Comment=Scientific computing environment
StartupNotify=true</pre>
<p>If one need to set environment variable, one could prepend <code>env</code> in <code>Exec</code>, for example, to system's libfreetype:
</p>
<pre>Exec=env LD_PRELOAD=/usr/lib/libfreetype.so.6 matlab
</pre>
<p>One might want to use the system's <code>libstdc++</code>.
</p>
<h3><span class="mw-headline" id="Installing_from_the_AUR_package">Installing from the AUR package</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> package is designed to allow MATLAB to be integrated into and managed by Arch. The advantage of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> package is that it manages dependencies and some of the nuances of the installation process. Note however, that the package does not contain the installation files, and you are expected to place them in the cloned package folder yourself. It can be problematic to build the package using <a href="../en/AUR_helpers.html" title="AUR helpers">AUR helpers</a>, so you are expected to do so manually. You can obtain the actual MATLAB software using the installer from <a rel="nofollow" class="external text" href="https://www.mathworks.com">the MathWorks website</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The EULA for the proprietary MATLAB software is restrictive and it prohibits distribution and modification of the installation files. The installation method described in this section should only be performed on the system on which the software is going to be installed and the package should be deleted from the installation location and the <a href="../en/Pacman.html" title="Pacman">pacman</a> cache following installation. Redistributing the built package is a violation of the MATLAB EULA.</div>
<ul>
<li>Clone the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> package and <code>cd</code> into it.</li>
<li>Download the zip file containing the MATLAB installer from MathWorks into the current directory. Extract the zip to the <code>matlab</code> subdirectory:</li>
</ul>
<pre>$ bsdtar xC matlab -f matlab_<i>XXXXX</i>_glnxa64.zip
</pre>
<ul><li>Run the extracted installer with:</li></ul>
<pre>$ ./matlab/install
</pre>
<ul>
<li>The installer gives you a choice of either installing the software now or only downloading selected modules. Choose the second option. This option may also be under the "Advanced Options" dropdown menu.</li>
<li>The installer will give you an option to change the download path. You might want to change it to something temporary (like <code>/tmp</code> if you have big enough ram disk) as you will soon move the contents to a different location.</li>
<li>Wait for the download to finish and close the installer. Merge the downloaded archives into the extracted <code>matlab</code> subdirectory:</li>
</ul>
<pre>$ rsync -a /selected/download/folder/<i>YYYY_MM_DD_HH_MM_SS</i>/ matlab
</pre>
<ul><li>Then package the directory into a tarball:</li></ul>
<pre>$ tar -cvf matlab.tar matlab
</pre>
<ul>
<li>Download your licence:Go to <a rel="nofollow" class="external text" href="https://mathworks.com/mwaccount/">your MathWorks account</a> and click on the licence number you want to use. Then, go to the <i>Install and activate</i> tab and select <i>Activate to retrieve licence File</i>. Follow the instructions and download the licence file needed for the installation. Name the file <code>matlab.lic</code> and place it in the AUR package directory. There will also be a File Installation Key (FIK) visible on the MathWorks website. Copy-paste it in a new file named <code>matlab.fik</code> and save it next to <code>PKGBUILD</code> just like you did with the <code>matlab.lic</code>.</li>
<li>Now, you will create a pacman package. You can customize the modules you want the package to contain by modifying the <code>PKGBUILD</code> or leave it at default:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PKGBUILD</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
# Limit products to lower size, set this to true to do a partial install
partialinstall=false
# Example list of products for a partial install; check README.md for details
products=(
  "MATLAB"
  #---MATLAB Product Family---#
  "Curve_Fitting_Toolbox"           # Math and Optimization
  "Database_Toolbox"              # Database Access and Reporting
  "Deep_Learning_HDL_Toolbox"
  "Deep_Learning_Toolbox"
  "DSP_System_Toolbox"
  "Global_Optimization_Toolbox"
  "GPU_Coder"
  "MATLAB_Coder"                # Code Generation
  "MATLAB_Compiler"               # Application Deployement
  "MATLAB_Compiler_SDK"
  "Optimization_Toolbox"
  "Parallel_Computing_Toolbox"        # Parallel computing
  "Partial_Differential_Equation_Toolbox"
  "Reinforcement_Learning_Toolbox"
  "Statistics_and_Machine_Learning_Toolbox"   # AI, Data Science, Statistics
  "Symbolic_Math_Toolbox"
  "Text_Analytics_Toolbox"
  #---Application Products---#
  "Audio_Toolbox"
  "Bioinformatics_Toolbox"          # Computational Biology
  "Computer_Vision_Toolbox"
  "Image_Processing_Toolbox"          # Image Processing and Computer Vision
  "Signal_Processing_Toolbox"         # Signal Processing
  "Wavelet_Toolbox"
)
...</pre>
<ul><li>Finally, use <code>makepkg</code> command to build and install the package:</li></ul>
<pre>$ makepkg -sri
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Java">Java</span></h3>
<p>The MATLAB software is bundled with a JVM and therefore it is not necessary to install <a href="../en/Java.html" title="Java">Java</a>. The JVM version supported by MATLAB is listed in <a rel="nofollow" class="external text" href="https://ww2.mathworks.cn/support/compilers.html">System Requirements &amp; Platform Availability</a> or simply type <code>version -java</code> in MATLAB. One could set the <code>MATLAB_JAVA</code> environment variable to use custom JVM, for example, to specify the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jre8-openjdk">jre8-openjdk</a></span> JRE, launch MATLAB with:
</p>
<pre>$ env MATLAB_JAVA=/usr/lib/jvm/java-8-openjdk/jre matlab
</pre>
<h3><span class="mw-headline" id="OpenGL_acceleration">OpenGL acceleration</span></h3>
<p>MATLAB can take advantage of hardware based 2D and 3D OpenGL acceleration. Support for hardware acceleration needs to be configured outside of MATLAB. Appropriate <a href="../en/Xorg.html#Driver_installation" class="mw-redirect" title="Video drivers">video drivers</a> need to be installed along with the OpenGL utility library <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glu">glu</a></span> package. If X11 forwarding is being used, the video drivers need to be installed on both the client and server. To check if MATLAB is making use of hardware based OpenGL acceleration run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "opengl info; exit" | grep Software
</pre>
<p>If "software rendering" is not "false", then there is a problem with your hardware acceleration. If this is the case make sure OpenGL is configured correctly on the system. This can be done with the <code>glxinfo</code> program from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-utils">mesa-utils</a></span> package:
</p>
<pre>$ glxinfo | grep "direct rendering"
</pre>
<p>If "direct rendering" is not "yes", then there is likely a problem with your system configuration.
</p>
<p>If glxinfo works but not matlab, you can try to run:
</p>
<pre>$ export LD_PRELOAD=/usr/lib/libstdc++.so; export LD_LIBRARY_PATH=/usr/lib/xorg/modules/dri/; matlab -nodesktop -nosplash -r "opengl info; exit" | grep Software
</pre>
<p>If it works, you can edit Matlab launcher script to add:
</p>
<pre>export LD_PRELOAD=/usr/lib/libstdc++.so
export LD_LIBRARY_PATH=/usr/lib/dri/
</pre>
<p>After these changes, you may see low-level graphics errors in the MATLAB console such as:
</p>
<pre>com.jogamp.opengl.GLException: X11GLXDrawableFactory - Could not initialize shared resources for X11GraphicsDevice[type .x11, connection :0, unitID 0, handle 0x0, owner false, ResourceToolkitLock[obj 0x76ddc7cd, isOwner false, &lt;6876ff80, 5d5c50dc&gt;[count 0, qsz 0, owner &lt;NULL&gt;]]]
    at jogamp.opengl.x11.glx.X11GLXDrawableFactory$SharedResourceImplementation.createSharedResource(X11GLXDrawableFactory.java:326)
    at jogamp.opengl.SharedResourceRunner.run(SharedResourceRunner.java:297)
    at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
    at jogamp.opengl.GLContextImpl.makeCurrent(GLContextImpl.java:688)
    at jogamp.opengl.GLContextImpl.makeCurrent(GLContextImpl.java:580)
    at jogamp.opengl.x11.glx.X11GLXDrawableFactory$SharedResourceImplementation.createSharedResource(X11GLXDrawableFactory.java:297)
    ... 2 more
</pre>
<p>In that case, create a file with the name 'java.opts' in the directory where MATLAB is executed (for example <code>/usr/local/MATLAB/R2020a/bin/glnxa64</code>) with the following line:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">java.opts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-Djogl.disable.openglarbcontext=1</pre>
<h3><span class="mw-headline" id="Sound">Sound</span></h3>
<p>To confirm that MATLAB is able to use the default soundcard to present sounds run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "load handel; sound(y, Fs); pause(length(y)/Fs); exit" &gt; /dev/null
</pre>
<p>This should play an except from Handel's "Hallelujah Chorus." If this fails make sure <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> is properly configured. This can be done with the <code>speaker-test</code> program from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span> package:
</p>
<pre>$ speaker-test
</pre>
<p>If you do not hear anything, then there is likely a problem with your system configuration.
</p>
<h3><span class="mw-headline" id="GPU_computing">GPU computing</span></h3>
<p>MATLAB can take advantage of <a rel="nofollow" class="external text" href="https://www.mathworks.co.uk/discovery/matlab-gpu.html">CUDA enabled GPUs</a> to speed up applications. In order to take advantage of a supported GPU install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ocl-icd">ocl-icd</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=opencl-nvidia">opencl-nvidia</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cuda">cuda</a></span> packages. To check if MATLAB is able to utilize the GPU run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "x=rand(10, 'single'); g=gpuArray(x); Success=isequal(gather(g), x), exit"  | sed -ne '/Success =/,$p'
</pre>
<h3><span class="mw-headline" id="Install_supported_compilers">Install supported compilers</span></h3>
<p>In order to access the full functionality of MATLAB (e.g., to use Simulink, Builder JA, and MEX-file compilation), supported versions of the <code>gcc</code>, <code>g++</code>, <code>gfortran</code>, and <code>jdk</code> compilers must be installed. Details about the supported compilers for the <a rel="nofollow" class="external text" href="https://www.mathworks.com/support/compilers.html">current release</a> and <a rel="nofollow" class="external text" href="https://www.mathworks.com/support/sysreq/previous_releases.html">previous releases</a> are available online. Many of the supported <code>gcc</code>, <code>g++</code>, <code>jdk</code> compiler versions for past MATLAB releases are available from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> (e.g., <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc43/">gcc43</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc44/">gcc44</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc47/">gcc47</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc49/">gcc49</a></span><sup><small>AUR</small></sup>and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk7/">jdk7</a></span><sup><small>AUR</small></sup>), while past versions of the <code>gfortran</code> compilers are not packaged.
</p>
<p>To use previous versions of the <code>gcc</code>, <code>g++</code>, and <code>gfortran</code> compilers with MEX files, edit <code>${MATLAB}/bin/mexopts.sh</code> and replace all occurrences of <code>CC='gcc'</code> with <code>CC='gcc-4.X'</code>, <code>CXX='g++'</code> with <code>CXX='g++-4.X'</code>, and <code>FC='gfortran'</code> with <code>FC='gfortran-4.X'</code>, where <code>X</code> is the compiler version appropriate for the particular MATLAB release.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Newer versions of Matlab (at least 2017a) does not seem to respect the <code>${MATLAB}/bin/mexopts.sh</code> customization. Instead it uses <code>${MATLAB}/bin/glnxa64/mexopts/LANG_glnxa64.xml</code> file.</li>
<li>Though, it is not officially supported, one could still use higher version of compiler, and ignore the warnings.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Help_browser">Help browser</span></h3>
<p>The help browser uses valuable slots in the dynamic thread vector and causes competition with core functionality provided by libraries like the BLAS that also depend on the dynamic thread vector. The help browser can be configured to use fewer slots in the dynamic thread vector with
</p>
<pre>&gt;&gt; webutils.htmlrenderer('basic');
</pre>
<p>This is a persistent change and to reverse it use
</p>
<pre>&gt;&gt; webutils.htmlrenderer('default');
</pre>
<h3><span class="mw-headline" id="Serial_port_access">Serial port access</span></h3>
<p>To successfully connect to any serial port, MATLAB expects to have write access directly to <code>/var/lock</code> which is not allowed on Arch Linux for security reasons. Instead of allowing this access just for MATLAB, you can work around this problem by redirecting device locking using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lockdev-redirect/">lockdev-redirect</a></span><sup><small>AUR</small></sup>. All you have to do is executing MATLAB like this:
</p>
<pre># lockdev-redirect /{MATLAB}/bin/matlab
</pre>
<p>If you have created a .desktop file as shortcut to MATLAB, then add "lockdev-redirect" as a prefix to your "Exec=" entry.
</p>
<h3><span class="mw-headline" id="HiDPI_and_4k">HiDPI and 4k</span></h3>
<p>See <a href="../en/HiDPI.html#MATLAB" title="HiDPI">HiDPI#MATLAB</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Warning:_Initializing_MATLAB_Graphics_failed">Warning: Initializing MATLAB Graphics failed</span></h3>
<p>This error seems to happen on multi-monitor setups, see <a rel="nofollow" class="external text" href="https://www.mathworks.com/matlabcentral/answers/611786-warning-initializing-matlab-graphics-failed#comment_1131148">this forum post</a>.
</p>
<h3><span class="mw-headline" id="X11GLXDrawableFactory_-_Could_not_initialize_shared_resources_for_X11GraphicsDevice">X11GLXDrawableFactory - Could not initialize shared resources for X11GraphicsDevice</span></h3>
<p>Create a file java.opts in the folder where the matlab executable is:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">java.opts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-Djogl.disable.openglarbcontext=1
</pre>
<p>or look at <a rel="nofollow" class="external text" href="https://www.mathworks.com/matlabcentral/answers/392743-r2018a-glexception-error-on-linux">this forum post</a> for other solutions 
</p>
<p>or disable hardware acceleration:
</p>
<pre>&gt;&gt; opengl('save','software')
</pre>
<h3><span class="mw-headline" id="Black_screen_in_help_browser_and_livescripts">Black screen in help browser and livescripts</span></h3>
<p>In order to use help browser and livescripts install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libselinux/">libselinux</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Static_TLS_errors">Static TLS errors</span></h3>
<p>MATLAB has a number of libraries that have been compiled with static thread local storage (TLS) including the help browser <code>doc</code> and the BLAS libraries. For example,
</p>
<pre>&gt;&gt; doc('help');
&gt;&gt; ones(10)*randn(10);
Error using  * 
BLAS loading error:
dlopen: cannot load any more object with static TLS
</pre>
<p>is related to the bugs:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.mathworks.de/support/bugreports/961964">961964</a> for which patched libraries are available from <a rel="nofollow" class="external text" href="http://www.mathworks.de/support/bugreports/license/accept_license/5730?fname=attachment_961964_12b_13a_13b_14a_glnxa64_2014-01-30.zip&amp;geck_id=961964">MathWorks</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-30 ⓘ]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://www.mathworks.com/support/bugreports/1003952">1003952</a> for which workarounds exist</li>
</ul>
<p>A more general solution of recompiling <code>glibc</code> has also been suggested. <a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/a/19468365">[2]</a>
</p>
<h3>
<span id="Blank.2Fgrey_UI_when_using_WM_.28non-reparenting_window_manager.29"></span><span class="mw-headline" id="Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)">Blank/grey UI when using WM (non-reparenting window manager)</span>
</h3>
<p>See <a href="../en/Java.html#Gray_window,_applications_not_resizing_with_WM,_menus_immediately_closing" title="Java">Java#Gray window, applications not resizing with WM, menus immediately closing</a>.
</p>
<h3><span class="mw-headline" id="Corrupted_text_and_fonts_in_menus_and_fields">Corrupted text and fonts in menus and fields</span></h3>
<p>If you notice that the menus or the input fields are corrupted or not appearing correctly then you can try to activate the <i>"Use antialiasing to smooth desktop fonts"</i> option in Matlab preferences, it seems to solve the problem. Go to <i>Preferences &gt; Matlab &gt; Fonts</i> and activate it. You will need to restart Matlab in order to take effect.
</p>
<h3><span class="mw-headline" id="Installation_dependencies_missing">Installation dependencies missing</span></h3>
<p>Matlab might complain that it cannot find a package. Look at the package name and install it with <a href="../en/Pacman.html" title="Pacman">Pacman</a>, or in the case of x86_64 there are some libraries only in <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab-dummy/">matlab-dummy</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> packages contain a list of up-to-date dependencies for the newest Matlab version.
</p>
<p>See also <a href="#Unable_to_launch_the_MATLABWindow_application">#Unable to launch the MATLABWindow application</a>.
</p>
<h3><span class="mw-headline" id="Installation_error:_archive_is_not_a_ZIP_archive">Installation error: archive is not a ZIP archive</span></h3>
<p>During the installation you can get:
</p>
<pre>The following error was detected while installing <i>package_name</i>: archive is not a ZIP archive 
Would you like to retry installing <i>package_name</i>? If you press No, the installer will exit without completing the installation. More information can be found at /tmp/mathworks_root.log
</pre>
<p>Matlab downloads all packages to <code>/tmp/</code> directory which resides in RAM and is maximum size of half of available memory. In this case it is not enough for installation files and Matlab 2019a installer will warn you about this. If it did not, or if you ignored the warning, you will have got the above error.
</p>
<p>You can either <a href="../en/Tmpfs.html#Examples" title="Tmpfs">resize tmpfs</a> (3,5 GB is not enough, 6 GB works), or remove packages from base install and add them later with built-in Matlab add-on installer.
</p>
<h3><span class="mw-headline" id="Install-time_library_errors">Install-time library errors</span></h3>
<ul><li>Make sure that the symlink <code>bin/glnx64/libstdc++.so.6</code> is pointing to the correct version of <code>libstdc++.so.xx</code> (which is also in the same directory and has numbers where 'xx' is). By default, it may be pointing to an older (and nonexistent) version (different value for 'xx').</li></ul>
<ul><li>Make sure the device you are installing from is not mounted as <code>noexec</code>
</li></ul>
<ul><li>If you downloaded the files from Mathworks' website, make sure they are not on an NTFS or FAT partition, because that can mess up the symlinks. Ext4 or Ext3 should work.</li></ul>
<h3><span class="mw-headline" id="Hangs_on_rendering_or_exiting_with_Intel_graphics">Hangs on rendering or exiting with Intel graphics</span></h3>
<p>Some users have reported issues with DRI3 enabled on Intel Graphics chips. A possible workaround is to disable DRI3 and run MATLAB with hardware rendering on DRI2; to do so, launch MATLAB with the environment variable LIBGL_DRI3_DISABLE set to 1:
</p>
<pre>LIBGL_DRI3_DISABLE=1 /{MATLAB}/bin/matlab
</pre>
<p>If the previous workaround does not work, the issue can be circumvented by selecting software rendering with the MATLAB command (beware, performance may be very poor when doing e.g. big or complex 3D plots):
</p>
<pre>opengl('save','software')
</pre>
<p>See <a rel="nofollow" class="external autonumber" href="https://bugzilla.redhat.com/show_bug.cgi?id=1357571">[3]</a> and <a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=96671">[4]</a> for more.
</p>
<h3><span class="mw-headline" id="LiveScript_errors">LiveScript errors</span></h3>
<p>If you get the error when attempting to load or create a LiveScript:
</p>
<pre> <code>Viewing matlab live script files is not currently supported by this operating system configuration</code>
</pre>
<ul><li>It could be because of broken symlinks of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libgcrypt">libgcrypt</a></span> and other dependencies, after system updates. On the first start of the Live Editor the components are extracted and these libary symlinks are created (if not existing).</li></ul>
<dl><dd>A solution is to simply delete the whole folder containing the broken symlinks and the extracted components, which are in the installation directory:</dd></dl>
<pre><i>matlab_root</i>/sys/jxbrowser-chromium
</pre>
<dl><dd>Or, if the installation directory is not user writable, then in:</dd></dl>
<pre>~/.matlab/R2017b/HtmlPanel
</pre>
<dl>
<dd>Matlab will then regenerate the contents on the next Live Editor start.</dd>
<dd>A better option is to replace libgcrypt symlink in this extraction directory with a less precise one. For example, after extraction, this link to /lib64/libgcrypt.so.20.2.4 is created. Replace it with e.g. /lib64/libgcrypt.so.20.</dd>
<dd>Matlab R2020 does not contain a chromium directory anymore. Relinking the library file libcrypto.so.1.1 with the system file can resolve the issue. It is located in:</dd>
</dl>
<pre><i>matlab_root</i>/bin/glnxa64
</pre>
<ul>
<li>Also the steps in <a href="#Unable_to_launch_the_MATLABWindow_application">#Unable to launch the MATLABWindow application</a> may resolve the issue.</li>
<li>It can also happen due to missing gconf package. Make sure <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gconf/">gconf</a></span><sup><small>AUR</small></sup> is installed.</li>
<li>If the above does not help, execute in the command window</li>
</ul>
<pre>&gt;&gt; com.mathworks.mde.liveeditor.widget.rtc.CachedLightweightBrowserFactory.createLightweightBrowser()
</pre>
<p>to get a more detailed error message.
</p>
<ul><li>A debugging console can be opened with</li></ul>
<pre>&gt;&gt; com.mathworks.mde.webbrowser.HtmlPanelDebugConsole.invoke;
</pre>
<h3>
<span id="Using_webcam.2Fvideo_device"></span><span class="mw-headline" id="Using_webcam/video_device">Using webcam/video device</span>
</h3>
<p>Make sure the correct support package add-ons are installed (webcam or OS Generic Video Interface for example). If running matlab as a user, make sure your user has write permissions to wherever the support packages are being downloaded and installed.
</p>
<p>Since MATLAB R2017a, Image Acqusition Toolbox is using GStreamer library version 1.0. It previously used version 0.10.
</p>
<p>In general, USB Webcam Support Package does a better job working with UVC and built-in cameras than OS Generic Video Interface Support Package.
</p>
<h3><span class="mw-headline" id="MATLAB_hangs_for_several_minutes_when_closing_Help_Browser">MATLAB hangs for several minutes when closing Help Browser</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Written in first person (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:MATLAB.html">Talk:MATLAB</a>)</div>
</div>
<p>Since upgrade of glibc from 2.24 to 2.25, MATLAB (at least R2017a) hangs when closing Help Browser. The issue is related to the particular version of jxbrowser-chromium shipped with MATLAB.
This issue is still present with glibc 2.26 and MATLAB R2017b and R2018a.
</p>
<p>To fix this issue, download the <a rel="nofollow" class="external text" href="https://www.teamdev.com/jxbrowser">latest jxbrowser</a> and replace the following jars from MATLAB:
</p>
<pre><i>matlab_root</i>/java/jarext/jxbrowser-chromium/jxbrowser-chromium.jar
<i>matlab_root</i>/java/jarext/jxbrowser-chromium/jxbrowser-linux64.jar
</pre>
<p>MATLAB should automatically unpack those jars into <code><i>matlab_root</i>/sys/jxbrowser-chromium/glnxa64/chromium</code> when first opening Help Browser.
Remove <code><i>matlab_root</i>/sys/jxbrowser-chromium/glnxa64/chromium</code> directory to make sure MATLAB uses the latest jxbrowser.
</p>
<p>Unfortunately, this workaround does not work in R2017b anymore. Going deeper into investigation of this issue, it is related to a crash of one of jxbrowser-chromium processes. The parent process of jxbrowser-chromium then sits there and waits for response from a process that is already dead. This causes MATLAB main window to freeze. You can easily unfreeze MATLAB by manually killing all leftover jxbrowser-chromium processes.
</p>
<p>I have come up with this simple script that uses inotify and waits for user to close Help browser in MATLAB. It triggers when user closes Help browser and sends kill signal to all leftover jxbrowser-chromium processes:
</p>
<pre>#!/bin/sh

if [ -z "$1" ]; then
	REL=R2017b
else
	REL=$1
fi

JXPATH="/path/to/MATLAB/$REL/sys/jxbrowser-chromium/glnxa64/chromium"
CMD="inotifywait -m -e CLOSE $JXPATH/resources.pak"

#Exit if the daemon is already active
if ! pgrep -f "$CMD" &gt; /dev/null; then
	#Wait for user to close Help Browser, then killall leftover jxbrowser processes
	$CMD |
	while read line
	do
		killall "$JXPATH/jxbrowser-chromium"
	done
else
	exit
fi</pre>
<p>I run this script as part of my MATLAB start script like that:
</p>
<pre>~/bin/unfreeze_matlab.sh R2017b &amp;
</pre>
<p>To make sure that this background job is killed when I exit MATLAB, I use this in the beginning of MATLAB start script:
</p>
<pre>trap "trap - SIGTERM &amp;&amp; kill -- -$$" SIGINT SIGTERM EXIT
</pre>
<h3><span class="mw-headline" id="Some_dropdown_menus_cannot_be_selected">Some dropdown menus cannot be selected</span></h3>
<p>In some interfaces - such as Simulation Data Inspector or Simulink Test Manager - nothing happens when choosing an item in dropdown menu (for example, when trying to change a number of subplots in Simulation Data Inspector). To work around this issue, hold down the Shift key while clicking the item in dropdown menu.
</p>
<h3><span class="mw-headline" id="Not_starting_-_licensing_error">Not starting - licensing error</span></h3>
<p>In case MATLAB will not start from a <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environment</a> by the call of its <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop file">desktop file</a> one should see the output as you start it from the terminal.
</p>
<p>For a <i>Licensing error</i> such as:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># matlab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MATLAB is selecting SOFTWARE OPENGL rendering.
License checkout failed.
License Manager Error -9
This error may occur when: 
-The hostid of this computer does not match the hostid in the license file. 
-A Designated Computer installation is in use by another user. 
If no other user is currently running MATLAB, you may need to activate.

Troubleshoot this issue by visiting: 
https://www.mathworks.com/support/lme/R2017a/9

Diagnostic Information:
Feature: MATLAB 
License path: /home/&lt;USER&gt;/.matlab/R2017a_licenses/license_&lt;NUM&gt;_R2017a.lic:/home/&lt;USER&gt;/.matlab/R2017a_licenses/lice
nse_Darkness_&lt;NUM&gt;_R2017a.lic:/opt/MATLAB/R2017a/licenses/license.dat:/opt/MATLAB/R2017a/licenses/*
.lic 
Licensing error: -9,57.
</pre>
<p>A re-activation might solve the problem.
</p>
<pre>/usr/local/MATLAB/R2017a/bin/activate_matlab.sh -javadir /usr/lib/jvm/java-8-openjdk/jre/
</pre>
<h3>
<span id="MATLAB_crashes_with_.22Failure_loading_desktop_class.22_on_startup"></span><span class="mw-headline" id='MATLAB_crashes_with_"Failure_loading_desktop_class"_on_startup'>MATLAB crashes with "Failure loading desktop class" on startup</span>
</h3>
<p>In case MATLAB will not start and starting it from command line gives you the following error:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ matlab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Fatal Internal Error: Internal Error: Failure occurs during desktop startup. Details: Failure loading desktop class.
</pre>
<p>and you have the option <a href="../en/Java.html#GTK_LookAndFeel" title="Java">-Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel</a> set in your <code>_JAVA_OPTIONS</code> environment variable, start MATLAB with
</p>
<pre>$ _JAVA_OPTIONS= matlab
</pre>
<p>If this works, add the line
</p>
<pre>export _JAVA_OPTIONS=
</pre>
<p>to your MATLAB launcher script. Optionally re-add other Java options.
</p>
<h3><span class="mw-headline" id="Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow">Unable to type in text fields of interfaces based on MATLABWindow</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Written in first person (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:MATLAB.html">Talk:MATLAB</a>)</div>
</div>
<p>Since R2018a, it is not possible to type text in interfaces based on MATLABWindow - like Signal Editor, Add-Ons Explorer and others.
MATLABWindow and MATLAB's webwindow infrastructure is based on Chromium Embedded Framework, and it looks like a known and long standing bug: <a rel="nofollow" class="external free" href="https://bitbucket.org/chromiumembedded/cef/issues/2026/multiple-major-keyboard-focus-issues-on">https://bitbucket.org/chromiumembedded/cef/issues/2026/multiple-major-keyboard-focus-issues-on</a>
</p>
<p>One possible workaround is to switch focus from the MATLABWindow to another window and then switch back - so that you can type.
</p>
<p>To elaborate more on this workaround (since the problem is still there in R2018b), here is what i did in my Openbox config (note that the A-Middle keybinding already exist in default config):
</p>
<pre>    &lt;mousebind button="A-Middle" action="Press"&gt;
       &lt;action name="Unfocus"/&gt;
       &lt;action name="Focus"/&gt;
     &lt;/mousebind&gt;
</pre>
<p>Now, whenever it is not possible to type in a text field, I press Alt+Mouse middle mouse and then I can type again.
</p>
<p>This problem is critical during installation.  After one clicks some elements in the installation window, he will not be able to type into any textbox anymore and switching between windows does not always work.  To circumvent the issue, one shall only use key-press, instead of mouse click during installation.  MATLAB installer has a poor support on Wayland, one may also consider using other WM instead during installation.
</p>
<h3><span class="mw-headline" id="Unable_to_launch_the_MATLABWindow_application">Unable to launch the MATLABWindow application</span></h3>
<p>In MATLAB versions R2018b until R2022b, the installer crashes as follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"> $ ./install </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">terminate called after throwing an instance of 'std::runtime_error'
  what():  Failed to launch web window with error: Unable to launch the MATLABWindow application. The exit code was: 127
[1]    1409378 IOT instruction (core dumped)  ./install
</pre>
<p>To find out why <code>MATLABWindow</code> is crashing, run it manually to get detailed information.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"> $ ./bin/glnxa64/MATLABWindow </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bin/glnxa64/MATLABWindow: symbol lookup error: /usr/lib/libcairo.so.2: undefined symbol: FT_Get_Color_Glyph_Layer
</pre>
<p><code>FT_Get_Color_Glyph_Layer</code> is a symbol of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=freetype2">freetype2</a></span>, which indicates a library incompatibility between the MATLAB application and the Arch Linux packages. <a rel="nofollow" class="external autonumber" href="https://ww2.mathworks.cn/matlabcentral/answers/364551-why-is-matlab-unable-to-run-the-matlabwindow-application-on-linux">[5]</a>
</p>
<p>To fix this, put aside MATLAB's <code>libfreetype.so*</code>.
</p>
<pre>$ rm ./bin/glnxa64/libfreetype.so*
</pre>
<p>You can also use <code>LD_PRELOAD</code> environment variable to force MATLAB use Arch Linux's libfreetype without removing the lib file.
</p>
<pre>$ export LD_PRELOAD=/lib64/libfreetype.so
$ ./install
</pre>
<p>Similarly, if the error is caused by <code>undefined symbol: g_log_structured...</code>, put aside MATLAB's <code>libglib-2.0.so*</code>. If the error is caused by <code>path to/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by _somelibrary_)</code>, put aside MATLAB's <code>libstdc++.so.6</code>.
</p>
<h3><span class="mw-headline" id="Cannot_verify_university_login_during_installation">Cannot verify university login during installation</span></h3>
<p>For total headcount license users, MATLAB will pop-up a window asking the user to login with their credentials in a web browser.  However, if run with <code>sudo</code>, most browsers (especially chromium) will not run.  To circumvent this problem, one shall 'active the computer' through MATLAB's website using a browser by a normal user. <a rel="nofollow" class="external text" href="https://www.mathworks.com/matlabcentral/answers/326647-verify-university-login-not-open-browser">See this issue</a>
</p>
<h3><span class="mw-headline" id="Missing_libcrypt.so.1">Missing libcrypt.so.1</span></h3>
<p>If you get this error when launching or installing MATLAB (R2020a and later), install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libxcrypt-compat">libxcrypt-compat</a></span>.
</p>
<h3><span class="mw-headline" id="Running_installer_as_root_does_not_launch_the_GUI">Running installer as root does not launch the GUI</span></h3>
<p>If you run the installer as root and the GUI does not appear (but does appear without launching as root), try temporarily allowing the root user to access the X Server by running the following commands in order (where <code>./install</code> is the command to run the installer as root):
</p>
<pre>$ xhost +SI:localuser:root
# ./install
$ xhost -SI:localuser:root
</pre>
<p>Note that the last command should be executed upon finishing the installation process, and <code>localuser</code> is a string literal. See <a rel="nofollow" class="external text" href="https://au.mathworks.com/matlabcentral/answers/1461039-on-ubuntu-sudo-won-t-run-the-install-file#comment_1782671">this support answer</a>, and <span class="plainlinks archwiki-template-man" title="$ man 1 xhost"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xhost.1">xhost(1)</a></span>.
</p>
<p>In addition, verify that the <code>DISPLAY</code> environment variable is set.
</p>
<p>An alternative is to install MATLAB as a local user.
</p>
<h3><span class="mw-headline" id="GUI_installer_is_unable_to_create_the_target_folder_when_installing_as_user">GUI installer is unable to create the target folder when installing as user</span></h3>
<p>Make the folder manually (as root), and take ownership. The path is typically /usr/local/MATLAB
</p>
<pre># mkdir -p /path/to/MATLAB/R20XXx
# chown -R $LOGNAME: /path/to/MATLAB/R20XXx
</pre>
<h3><span class="mw-headline" id="MATLAB_crashes_when_opening_Simulink">MATLAB crashes when opening Simulink</span></h3>
<p>When running from terminal the error message is:
</p>
<pre>Inconsistency detected by ld.so: ../elf/dl-tls.c: 597: _dl_allocate_tls_init: Assertion `listp != NULL' failed!
</pre>
<p>See upstream bug report here: <a rel="nofollow" class="external free" href="https://www.mathworks.com/support/bugreports/details/2632298">https://www.mathworks.com/support/bugreports/details/2632298</a>
</p>
<h3><span class="mw-headline" id="MATLAB_cannot_open_or_create_script_files">MATLAB cannot open or create script files</span></h3>
<p>See <a href="#Unable_to_launch_the_MATLABWindow_application">#Unable to launch the MATLABWindow application</a>.
</p>
<h3><span class="mw-headline" id="Calls_to_mex_fail">Calls to mex fail</span></h3>
<p>If calls from MATLAB or Simulink to mex (e.g. rapid accelerator) fail with the error <code>*.mexa64 is not a MEX file</code>, even though the resulting file is usable, it may help to edit <code></code> in either <code>matlab/bin/</code> or <code>~/.matlab7rc.sh</code> by changing the <code>LDPATH_PREFIX</code> variable from its empty default: <a rel="nofollow" class="external autonumber" href="https://github.com/alecjacobson/matlab/blob/883d417a99fcb8ead89387cee243e51a92864019/bin/.matlab7rc.sh#L170">[6]</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">matlab/bin/.matlab7rc.sh (or ~/.matlab7rc.sh)</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
    case "$ARCH" in
	<b>glnx*)</b> #  Make sure you are modifying case <b>glnx*</b>
	    AUTOMOUNT_MAP=''
	    DISPLAY="$DISPLAY"
	    ARCH="$ARCH"
	    TOOLBOX="$TOOLBOX"
	    MATLABPATH="$MATLABPATH"
	    SHELL="$SHELL"
	    <b>LDPATH_PREFIX='/usr/lib' </b>
...</pre>
<h3><span class="mw-headline" id="Incompatibilities_with_some_python_libraries_using_MKL">Incompatibilities with some python libraries using MKL</span></h3>
<p>Some python code running inside matlab may fail with an error mentioning <code>Parameter * was incorrect on entry to </code>. This can be avoided by calling
</p>
<pre>py.sys.setdlopenflags(int32(bitor(int64(py.os.RTLD_NOW), int64(py.os.RTLD_DEEPBIND))));
</pre>
<p>or
</p>
<pre>py.sys.setdlopenflags(int32(bitor(int64(py.os.RTLD_LAZY), int64(py.os.RTLD_DEEPBIND))));
</pre>
<p>directly before any calls to <code>py</code> and after calls to <code>pyenv</code>.
See <a rel="nofollow" class="external text" href="https://www.mathworks.com/matlabcentral/answers/358233-matlab-python-interface-broken?s_tid=email_ans_new_ans_ans_h#answer_283353">this support answer</a>.
</p>
<h3><span class="mw-headline" id="Settings_not_persisting_between_MATLAB_restarts">Settings not persisting between MATLAB restarts</span></h3>
<p>In some cases on recent Arch systems matlab is unable to export <code>.mlsettings</code> files, preventing toolbox and some matlab settings from being saved to disk and persisted. These cases come from matlab trying to hard link new files from <code>/tmp</code> directly to the preferences directory (usually <code>~/.matlab/release</code> where <code>release</code> is the matlab version, e.g. <code>R2021b</code>). As a workaround, run matlab with the <code>$TMPDIR</code> environment variable set to a folder on the same file system as the preferences directory. <a rel="nofollow" class="external autonumber" href="https://www.mathworks.com/matlabcentral/answers/1777865-matlab-preferences-not-being-saved-across-sessions">[7]</a>
</p>
<h3>
<span id=".22Unable_to_open_this_file_in_the_current_system_configuration.22"></span><span class="mw-headline" id='"Unable_to_open_this_file_in_the_current_system_configuration"'>"Unable to open this file in the current system configuration"</span>
</h3>
<p>The error can be fixed by setting aside the l<code>ibfreetype.so.6</code> in <code><i>matlab_root</i>/bin/glnxa64/</code>. You may run the following command:
</p>
<pre>cd <i>matlab_root</i>/bin/glnxa64/
mv libfreetype.so.6 libfreetype.so.6.old
</pre>
<h3><span class="mw-headline" id="Symbols_in_toolstrip_menus_are_not_diplayed_properly">Symbols in toolstrip menus are not diplayed properly</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Explain which symbols are needed, so that users can choose any font providing them. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:MATLAB.html">Talk:MATLAB</a>)</div>
</div>
<p>This issue can be fixed by <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installing</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=noto-fonts">noto-fonts</a></span>.
</p>
<h3><span class="mw-headline" id="Blank_screen_on_Xwayland">Blank screen on Xwayland</span></h3>
<p>As suggested in <a href="../en/Wayland.html#Java" title="Wayland">Wayland#Java</a>, this issue can be fixed by adding in the Matlab launcher script:
</p>
<pre>export _JAVA_AWT_WM_NONREPARENTING=1
</pre>
<h3><span class="mw-headline" id="Desktop_Error_with_text_not_rendering">Desktop Error with text not rendering</span></h3>
<p>Launching MATLAB you get an error dialog with a message of "desktop error" and the text doesn't render.
The error log looks like this 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ERROR</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Crash report:
Ajava.lang.ExceptionInInitializerError
at com.mathworks.mde.cmdwin.CmdWin.&lt;init&gt;(CmdWin.java:111)
at com.mathworks.mde.cmdwin.CmdWin.&lt;clinit&gt;(CmdWin.java:107)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:264)
at com.mathworks.jmi.ClassLoaderManager.loadClass(ClassLoaderManager.java:442)
at com.mathworks.jmi.ClassLoaderManager.findClass(ClassLoaderManager.java:422)
at com.mathworks.jmi.Matlab$2.findClass(Matlab.java:517)
at com.mathworks.util.ClassLoaderBridge.findClass(ClassLoaderBridge.java:23)
at com.mathworks.widgets.desk.DTClient.createComponent(DTClient.java:275)
at com.mathworks.widgets.desk.Desktop.createClientComponent(Desktop.java:6468)
at com.mathworks.mde.desk.MLDesktop.createClientComponent(MLDesktop.java:1040)
at com.mathworks.widgets.desk.Desktop.createClientComponentWrapper(Desktop.java:6482)
at com.mathworks.widgets.desk.Desktop.setClientShowing(Desktop.java:7181)
at com.mathworks.widgets.desk.Desktop.setClientShowing(Desktop.java:7168)
at com.mathworks.widgets.desk.DTNestingContainer$ViewState.restore(DTNestingContainer.java:2910)
at com.mathworks.widgets.desk.DTNestingContainer$SplitState.restore(DTNestingContainer.java:2536)
at com.mathworks.widgets.desk.DTNestingContainer$SplitState.restore(DTNestingContainer.java:2537)
at com.mathworks.widgets.desk.DTNestingContainer$RootState.restore(DTNestingContainer.java:2422)
at com.mathworks.widgets.desk.DTNestingContainer$RootState.restore(DTNestingContainer.java:2417)
at com.mathworks.widgets.desk.DTNestingContainer.restoreState(DTNestingContainer.java:2291)
at com.mathworks.widgets.desk.DTMultipleClientFrame.restoreState(DTMultipleClientFrame.java:2791)
at com.mathworks.widgets.desk.Desktop.restoreLayout(Desktop.java:5947)
at com.mathworks.mde.desk.MLDesktop.restoreLayout(MLDesktop.java:1652)
at com.mathworks.widgets.desk.Desktop.restoreLayout(Desktop.java:5706)
at com.mathworks.mde.desk.MLDesktop.setDefaultDesktop(MLDesktop.java:1539)
at com.mathworks.widgets.desk.Desktop.initMainFrame(Desktop.java:296)
at com.mathworks.mde.desk.MLDesktop.initMainFrameFromThread(MLDesktop.java:844)
at com.mathworks.mde.desk.MLDesktop.access$600(MLDesktop.java:224)
at com.mathworks.mde.desk.MLDesktop$Initializer.run(MLDesktop.java:1215)
at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
at java.awt.EventQueue.access$500(EventQueue.java:97)
at java.awt.EventQueue$3.run(EventQueue.java:709)
at java.awt.EventQueue$3.run(EventQueue.java:703)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
Caused by: java.lang.ArithmeticException: / by zero
at com.mathworks.mde.cmdwin.XCmdWndView.getPotentialColumns(XCmdWndView.java:1072)
at com.mathworks.mde.cmdwin.XCmdWndView.setCWFont(XCmdWndView.java:1651)
at com.mathworks.mde.cmdwin.XCmdWndView.initPrefs(XCmdWndView.java:907)
at com.mathworks.mde.cmdwin.XCmdWndView.&lt;init&gt;(XCmdWndView.java:401)
at com.mathworks.mde.cmdwin.XCmdWndView.&lt;clinit&gt;(XCmdWndView.java:329)
... 43 more</pre>
<p>The error is related to missing fonts and can be fixed installing from the AUR the package ttf-ms-fonts
</p>
<h2><span class="mw-headline" id="MATLAB_in_a_systemd-nspawn">MATLAB in a systemd-nspawn</span></h2>
<p>MATLAB can be run within a systemd-nspawn container to maintain a static system and avoid the library issues that often plague matlab installs after significant updates to libraries in Arch. Refer to <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">Systemd-nspawn</a> for detailed information on setting up such containers.
</p>
<p>The following instruction is to get a MATLAB R2021b installation running in a minimal Debian 11 environment. It assumes MATLAB is already installed as normal in "/usr/local/MATLAB/R2021b".
</p>
<p>Use <a href="../en/Xhost.html" title="Xhost">Xhost</a> to allow the nspawn environment to use the existing X server instance, see also <a href="../en/Systemd-nspawn.html#Use_an_X_environment" title="Systemd-nspawn">Systemd-nspawn#Use an X environment</a>.
</p>
<p>Create a minimal Debian environment in a directory ("deb11" here) with:
</p>
<pre>$ debootstrap --include=systemd-container --components=main,contrib bullseye deb11
</pre>
<p>Set a password for the root user and create regular user:
</p>
<pre>$ systemd-nspawn -D deb11
passwd
useradd -m username
logout
</pre>
<p>and then boot the environment with:
</p>
<pre>$ systemd-nspawn --bind-ro=/dev/dri --bind-ro=/tmp/.X11-unix --bind=/dev/shm --bind=/usr/local/MATLAB --setenv=DISPLAY=:0 --setenv=MESA_LOADER_DRIVER_OVERRIDE=i965 -b -D deb11
</pre>
<p>Install the following packages to have the required libraries in the nspawn environment for MATLAB: <a rel="nofollow" class="external free" href="https://github.com/mathworks-ref-arch/container-images/blob/master/matlab-deps/r2021b/ubuntu20.04/Dockerfile">https://github.com/mathworks-ref-arch/container-images/blob/master/matlab-deps/r2021b/ubuntu20.04/Dockerfile</a>
</p>
<p>"mesa-utils" and dependencies needs to be installed to support graphics acceleration.
"usbutils" can be installed to support usb interfaces for I/O with MATLAB.
</p>
<p>Install the matlab-support (from contrib source) package in the environment for some convenient integration. 
</p>
<pre>$ apt-get install matlab-support
</pre>
<p>MATLAB can be launched from within the environment normally by using the binary at <code><i>matlab_root</i>/bin</code>.
</p>
<p>Another way is to add something like 
</p>
<pre>-u username -a /usr/local/MATLAB/R2021b/bin/matlab -nosoftwareopengl -useStartupFolderPref
</pre>
<p>to the systemd-nspawn command above.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Numerical_analysis.html" title="Category:Numerical analysis">Numerical analysis</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=MATLAB&amp;oldid=811292">https://wiki.archlinux.org/index.php?title=MATLAB&amp;oldid=811292</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 June 2024, at 17:20.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
