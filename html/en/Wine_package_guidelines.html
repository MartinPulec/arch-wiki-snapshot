<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Wine package guidelines - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Wine_package_guidelines rootpage-Wine_package_guidelines skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Things_to_check_outright" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Things_to_check_outright">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Things to check outright</span>
			</div>
		</a>
		
			<button aria-controls="toc-Things_to_check_outright-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Things to check outright subsection</span>
			</button>
		
		<ul id="toc-Things_to_check_outright-sublist" class="vector-toc-list">
			<li id="toc-License" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#License">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>License</span>
				</div>
			</a>
			
			<ul id="toc-License-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installer" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Installer</span>
				</div>
			</a>
			
			<ul id="toc-Installer-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Portability_and_cleanness" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Portability_and_cleanness">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>Portability and cleanness</span>
				</div>
			</a>
			
			<ul id="toc-Portability_and_cleanness-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-The_guideline_in_short" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#The_guideline_in_short">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>The guideline in short</span>
			</div>
		</a>
		
			<button aria-controls="toc-The_guideline_in_short-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle The guideline in short subsection</span>
			</button>
		
		<ul id="toc-The_guideline_in_short-sublist" class="vector-toc-list">
			<li id="toc-Installing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Installing</span>
				</div>
			</a>
			
			<ul id="toc-Installing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_/usr/bin_script" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_/usr/bin_script">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>The /usr/bin script</span>
				</div>
			</a>
			
			<ul id="toc-The_/usr/bin_script-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UnionFsFuse" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UnionFsFuse">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>UnionFsFuse</span>
				</div>
			</a>
			
			<ul id="toc-UnionFsFuse-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-One_example" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#One_example">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>One example</span>
			</div>
		</a>
		
		<ul id="toc-One_example-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Gecko_and_Mono" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Gecko_and_Mono">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Gecko and Mono</span>
			</div>
		</a>
		
		<ul id="toc-Gecko_and_Mono-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Wine package guidelines</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-navigation">
<b><a href="../en/Arch_package_guidelines.html" title="Arch package guidelines">Arch package guidelines</a></b>
<hr>
<p><a href="../en/32-bit_package_guidelines.html" title="32-bit package guidelines">32-bit</a> – <a href="../en/CLR_package_guidelines.html" title="CLR package guidelines">CLR</a> – <a href="../en/CMake_package_guidelines.html" title="CMake package guidelines">CMake</a> – <a href="../en/Cross-compiling_tools_package_guidelines.html" title="Cross-compiling tools package guidelines">Cross</a> – <a href="../en/DKMS_package_guidelines.html" title="DKMS package guidelines">DKMS</a> – <a href="../en/Eclipse_plugin_package_guidelines.html" title="Eclipse plugin package guidelines">Eclipse</a> – <a href="../en/Electron_package_guidelines.html" title="Electron package guidelines">Electron</a> – <a href="../en/Font_package_guidelines.html" title="Font package guidelines">Font</a> – <a href="../en/Free_Pascal_package_guidelines.html" title="Free Pascal package guidelines">Free Pascal</a> – <a href="../en/GNOME_package_guidelines.html" title="GNOME package guidelines">GNOME</a> – <a href="../en/Go_package_guidelines.html" title="Go package guidelines">Go</a> – <a href="../en/Haskell_package_guidelines.html" title="Haskell package guidelines">Haskell</a> – <a href="../en/Java_package_guidelines.html" title="Java package guidelines">Java</a> – <a href="../en/KDE_package_guidelines.html" title="KDE package guidelines">KDE</a> – <a href="../en/Kernel_module_package_guidelines.html" title="Kernel module package guidelines">Kernel modules</a> – <a href="../en/Lisp_package_guidelines.html" title="Lisp package guidelines">Lisp</a> – <a href="../en/Meson_package_guidelines.html" title="Meson package guidelines">Meson</a> – <a href="../en/MinGW_package_guidelines.html" title="MinGW package guidelines">MinGW</a> – <a href="../en/Node.js_package_guidelines.html" title="Node.js package guidelines">Node.js</a> – <a href="../en/Nonfree_applications_package_guidelines.html" title="Nonfree applications package guidelines">Nonfree</a> – <a href="../en/OCaml_package_guidelines.html" title="OCaml package guidelines">OCaml</a> – <a href="../en/Perl_package_guidelines.html" title="Perl package guidelines">Perl</a> – <a href="../en/PHP_package_guidelines.html" title="PHP package guidelines">PHP</a> – <a href="../en/Python_package_guidelines.html" title="Python package guidelines">Python</a> – <a href="../en/R_package_guidelines.html" title="R package guidelines">R</a> – <a href="../en/Ruby_package_guidelines.html" title="Ruby package guidelines">Ruby</a> – <a href="../en/Rust_package_guidelines.html" title="Rust package guidelines">Rust</a> - <a href="../en/Arch_package_guidelines/Security.html" title="Arch package guidelines/Security">Security</a> – <a href="../en/Shell_package_guidelines.html" title="Shell package guidelines">Shell</a> – <a href="../en/VCS_package_guidelines.html" title="VCS package guidelines">VCS</a> – <a href="../en/Web_application_package_guidelines.html" title="Web application package guidelines">Web</a> – <a class="mw-selflink selflink">Wine</a>
</p>
</div>
<p>Many Windows programs may still be useful in Linux and so we may want to have a package for them. The differences between the two operating systems make this task a little complex. In this guideline we will talk about Win32 binaries, since projects where source is available usually are ported to Linux.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Things_to_check_outright">Things to check outright</h2></div>
<ul>
<li>License: does the license allow the program to be repackaged?</li>
<li>Installer: is it possible to install the program silently? Even better, does an installer-less version exist?</li>
<li>Portability and cleanness: is the program portable? It is clean?</li>
</ul>
<p>Here we mean a program is portable if it <i>never</i> writes in the registry or outside its directory; we mean a program is clean if it <i>never</i> writes in its directory, but it may write its settings in the user folder. A program can be also both (e.g., it never writes settings) or neither (e.g., it writes in its directory, it writes around, it writes in the registry...)
</p>
<div class="mw-heading mw-heading3"><h3 id="License">License</h3></div>
<p>Usually licenses are in a text file in the install directory. If you cannot find it, try following the screens during installation. If nothing is said about repackaging, go on. The author does not care. Otherwise the license usually does not allow removing files or does not allow repackaging at all. In the former case just be careful that the <a href="../en/Makepkg.html" title="Makepkg">makepkg</a> process does not lose any file, you may delete unneeded files (e.g., uninstallers) in the <code>post_install</code> phase; in the latter case all the installing process must be done in the <code>post_install</code> phase. The <code>build</code> phase will only be for copying the install files.
</p>
<div class="mw-heading mw-heading3"><h3 id="Installer">Installer</h3></div>
<p>It is much easier to work with compressed files like <code>.zip</code> than with Windows installers. If you have no choice, since the author insists on distributing its program with an installer, search the Internet for if it is possible to silently install the software. <a rel="nofollow" class="external text" href="https://web.archive.org/web/20180209090444/http://unattended.msfn.org/unattended.xp/page/list/switch">MSFN</a> is usually a good place to search. If you cannot find a way, try to open the installer with different <a href="../en/Nonfree_applications_package_guidelines.html#Unpacking" title="Nonfree applications package guidelines">unpacking utilities</a>; it may work.
</p>
<div class="mw-heading mw-heading3"><h3 id="Portability_and_cleanness">Portability and cleanness</h3></div>
<p>A portable program does not need its own <a href="../en/Wine.html" title="Wine">Wine</a> emulated file system, so check in <a rel="nofollow" class="external text" href="https://www.portablefreeware.com/">Portable Freeware</a> if the program you are packaging is portable.
</p>
<div class="mw-heading mw-heading2"><h2 id="The_guideline_in_short">The guideline in short</h2></div>
<p>The idea behind packaging a Windows program is to use the program's files as mere data that Wine will interpret, just like JVM and Java bytecode.
</p>
<p>So we will install the program in <code>/usr/share/"$pkgname"</code> and the program will write all what it needs  in <code>"$HOME"/."$pkgname"</code>.  Everything will be prepared by a small script saved in <code>/usr/bin/"$pkgname"</code> that will create the folder, prepare it if needed, and finally start the program.
</p>
<p>In the next sections we will talk about every step.
</p>
<p>This way every user will have their own settings and their decisions will not bother other users.
</p>
<div class="mw-heading mw-heading3"><h3 id="Installing">Installing</h3></div>
<p>If the program has no installer, the installation is a mere decompression of a file; unpack it to <code>"$pkgdir"/usr/share/$pkgname</code>, making sure that the permissions are correct. These commands will do:
</p>
<pre>$ find "$pkgdir"/usr/share -type f -exec chmod 644 "{}" \;
$ find "$pkgdir"/usr/share -type d -exec chmod 755 "{}" \;
</pre>
<p>If the program cannot be installed the easy way, you need to create a Wine environment:
</p>
<pre>$ install -m755 -d "$srcdir"/tmp "$srcdir"/tmp/env "$srcdir"/tmp/local
$ export WINEPREFIX="$srcdir"/tmp/env
$ export XDG_DATA_HOME="$srcdir"/tmp/local
$ wine "$srcdir"/installer.exe /silentoptions
</pre>
<p>We have not discussed portability yet, but if your program does not need the registry keys it modified, you can just copy the directory from the:
</p>
<pre>"$srcdir"/tmp/env/drive_c/Program\ Files/programname
</pre>
<p>Otherwise you need to copy all the registry files too and eventually the files the program installed around. The <code>"$srcdir"/tmp/local</code> will contains menu icons and desktop files, you may want to copy them in the package. If there does not exist a way to install the program silently... Maybe you can make a <code>.tar.gz</code> file and upload it somewhere? If nothing automated is possible, force the user to follow the installer and hope they do not mess up the installation, write some checks before blindly copying a folder that may not exist (e.g. the user pressed 'Cancel').
</p>
<div class="mw-heading mw-heading3"><h3 id="The_/usr/bin_script">
<span id="The_.2Fusr.2Fbin_script"></span>The /usr/bin script</h3></div>
<p>This script prepares the settings folder and starts the program. If your program is portable, it will look like this:
</p>
<pre>#!/bin/bash
unset WINEPREFIX
if [ ! -d "$HOME"/.programname ] ; then
   mkdir -p "$HOME"/.programname
   #prepare the environment here
fi
WINEDEBUG=-all wine "$HOME"/.programname/programname "$@"
</pre>
<p>If it is clean, it will look like this:
</p>
<pre>#!/bin/bash
export WINEPREFIX="$HOME"/.programname/wine
if [ ! -d "$HOME"/.programname ] ; then
   mkdir -p "$HOME"/.programname/wine
   wineboot -u
   #copy the registry file if needed
fi
WINEDEBUG=-all wine /usr/share/programname "$@"
</pre>
<p>As you can see, in the second case there is no environment preparation. In fact a clean application will be started directly from <code>/usr/share</code> since it will not need to write in its folder, so its settings will be written somewhere in the emulated file system.
</p>
<p>If the application is neither clean neither portable the two ideas must be combined.
</p>
<p>If the application does not write settings at all, skip the <code>if</code> and start it from <code>/usr/share</code>.
</p>
<p>The task of preparing the environment may differ greatly between applications, but follow these rules of thumb:
If the program:
</p>
<ul>
<li>just needs to read a file, symlink it.</li>
<li>needs to write in a file, copy it.</li>
<li>does not use a file, ignore it.</li>
</ul>
<p>Of course the minimum is just starting <code>WINEDEBUG=-all wine /usr/share/programname "$@"</code>.
</p>
<p>Usually the environment will be made by symlinking between the <code>"$HOME"/.<i>programname</i></code> directory and the <code>/usr/share/<i>programname</i></code> files. But since some Windows programs are very fickle about their paths, you may need to symlink directly in the <code>"$HOME"/.<i>programname</i>/wine/drive_c/Program\ Files/<i>programname</i></code> directory.
</p>
<p>Of course those are just ideas to integrate Win32 applications in the Linux environment, do not forget your intelligence and gumption.
</p>
<p>As example, <a href="https://en.wikipedia.org/wiki/%CE%BCTorrent" class="extiw" title="wikipedia:μTorrent">μTorrent</a> is by default a clean application, but with a easy step can be used as a portable one. Since it is a single file and it is pretty small creating its wine environment (about 5MB) it is probably an overkill. It is better to symlink the executable, create the empty <b>settings.dat</b> in order to use it portable in the <code>$HOME/.utorrent</code> directory. With the added advantage that just visiting the <code>.utorrent</code> directory, a user can see a copy of the <code>.torrent</code> files they downloaded.
</p>
<div class="mw-heading mw-heading3"><h3 id="UnionFsFuse">UnionFsFuse</h3></div>
<p>You can consider using the <a rel="nofollow" class="external text" href="https://github.com/rpodgorny/unionfs-fuse">UnionFsFuse</a> program available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/unionfs-fuse/">unionfs-fuse</a></span><sup><small>AUR</small></sup>. UnionFsFuse allows to keep the base directory in <code>/usr/share</code> and put a copy of the files the application needed to write inside <code>$HOME/.programname</code>
almost automatically.
</p>
<p>Using UnionFsFuse means an additional dependency and it requires the fuse module that not all users might load. Yet, it might be worthwhile if the application would need lots of symlinking or if it is unclear exactly what it needs to be written. Just ensure to mount and unmount the UnionFs correctly.
</p>
<div class="mw-heading mw-heading2"><h2 id="One_example">One example</h2></div>
<p>To see examples of AUR packages that depends on wine, see <a rel="nofollow" class="external free" href="https://aur.archlinux.org/rpc/v5/search/wine?by=depends">https://aur.archlinux.org/rpc/v5/search/wine?by=depends</a>
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Need to write another example, because there is no emule package in AUR. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Wine_package_guidelines.html">Talk:Wine package guidelines</a>)</div>
</div>
<p>We will make a package for <a rel="nofollow" class="external text" href="https://www.emule-project.net/">eMule</a>. According to <a rel="nofollow" class="external text" href="https://www.portablefreeware.com/?q=emule">Portable Freeware</a>, eMule is not completely portable since it writes some (useless) keys in the registry.
</p>
<p>On the other hand, it is not clean either since it writes its configuration files and puts its downloads in its installation folder.
</p>
<p>Luckily there is an <a rel="nofollow" class="external text" href="https://sourceforge.net/projects/emule/files/eMule/0.49b/eMule0.49b.zip">installer-less version available</a>.
</p>
<p>So we make our <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>; the only dependency is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine">wine</a></span>. The <code>md5sums</code> should be added.
</p>
<pre># Maintainer: You &lt;youremail&gt;
pkgname=emule
pkgver=0.49b
pkgrel=1
pkgdesc="One of the biggest and most reliable peer-to-peer file sharing
clients around the world."
arch=('x86_64')
url="https://www.emule-project.net"
license=('GPL')
depends=()
depends=(wine)
makedepends=(unzip)
source=(emule https://sourceforge.net/projects/emule/files/eMule/$pkgver/eMule$pkgver.zip)
noextract=()
options=(!strip)

build() {
  rm -f src/eMule"$pkgver"/license* #It is GPL

  install -d -m755 pkg/usr/share/emule
  cp -ra src/eMule"$pkgver"/* pkg/usr/share/emule
  find pkg/usr/share/emule -type d -exec chmod 755 "{}" \;
  find pkg/usr/share/emule -type f -exec chmod 644 "{}" \;

  install -d -m755 pkg/usr/bin
  install -m755 emule pkg/usr/bin 
}
</pre>
<p>Now we make our <b>emule</b> file, which according to <code>build</code>, will be copied and made executable in <code>/usr/bin</code>.
</p>
<pre>#!/bin/bash
export WINEARCH=win32 WINEPREFIX="$HOME/.emule/wine"

if [ ! -d "$HOME"/.emule ] ; then
  mkdir -p "$HOME"/.emule/wine || exit 1
  #Each user will have its config, we copy the default file since emule
  #needs to write here.
  cp -r /usr/share/emule/config "$HOME"/.emule || exit 1
  #We symlink the files emule needs to read to work
  ln -s /usr/share/emule/emule.exe "$HOME"/.emule/emule || exit 1
  ln -s -T /usr/share/emule/lang "$HOME"/.emule/lang || exit 1
  ln -s -T /usr/share/emule/webserver "$HOME"/.emule/webserver || exit 1
fi

wine "$HOME"/.emule/emule "$@"
</pre>
<p>If you want to be more precise, you may add a message in the <code>.install</code> file telling the user that they should disable search history since wine messes up that menu. You may even provide a default configuration file with the best settings.  And that's it... run <code>$ makepkg</code>, check the package folder to be sure, and install.
</p>
<div class="mw-heading mw-heading2"><h2 id="Gecko_and_Mono">Gecko and Mono</h2></div>
<p>Unless you know for sure, that software require browser of .NET runtime (packages <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-gecko">wine-gecko</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-mono">wine-mono</a></span>), default wine installation prompts for Gecko/Mono are undesirable.
</p>
<p>To disable HTML rendering, bytecode support and the dialogs, you need to use a dlloverride in your script.
For Gecko:
</p>
<pre>export WINEDLLOVERRIDES="mshtml="
</pre>
<p>For Mono:
</p>
<pre>export WINEDLLOVERRIDES="mscoree="
</pre>
<p>For both:
</p>
<pre>export WINEDLLOVERRIDES="mscoree,mshtml="
</pre>
<p>You can also disable them via <code>winecfg</code>: just set mscoree/mshtml to Disable.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Arch_package_guidelines.html" title="Category:Arch package guidelines">Arch package guidelines</a></li>
<li><a href="../en/Category:Emulation.html" title="Category:Emulation">Emulation</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Wine_package_guidelines&amp;oldid=859024">https://wiki.archlinux.org/index.php?title=Wine_package_guidelines&amp;oldid=859024</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 December 2025, at 00:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Wine package guidelines</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
