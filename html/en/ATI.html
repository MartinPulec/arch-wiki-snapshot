<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ATI - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ATI rootpage-ATI skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Selecting_the_right_driver" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Selecting_the_right_driver">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Selecting the right driver</div>
		</a>
		
		<ul id="toc-Selecting_the_right_driver-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Loading" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Loading">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Loading</div>
		</a>
		
		<ul id="toc-Loading-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Xorg_configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Xorg_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Xorg configuration</div>
		</a>
		
		<ul id="toc-Xorg_configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Performance_tuning" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Performance_tuning">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Performance tuning</div>
		</a>
		
			<button aria-controls="toc-Performance_tuning-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Performance tuning subsection</span>
			</button>
		
		<ul id="toc-Performance_tuning-sublist" class="vector-toc-list">
			<li id="toc-Enabling_video_acceleration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_video_acceleration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Enabling video acceleration</div>
			</a>
			
			<ul id="toc-Enabling_video_acceleration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Graphical_tools" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Graphical_tools">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Graphical tools</div>
			</a>
			
			<ul id="toc-Graphical_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Driver_options" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Driver_options">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Driver options</div>
			</a>
			
			<ul id="toc-Driver_options-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Kernel_parameters" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kernel_parameters">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Kernel parameters</div>
			</a>
			
			<ul id="toc-Kernel_parameters-sublist" class="vector-toc-list">
				<li id="toc-Deactivating_PCIe_2.0" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Deactivating_PCIe_2.0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4.1</span>Deactivating PCIe 2.0</div>
			</a>
			
			<ul id="toc-Deactivating_PCIe_2.0-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gallium_Heads-Up_Display" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gallium_Heads-Up_Display">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Gallium Heads-Up Display</div>
			</a>
			
			<ul id="toc-Gallium_Heads-Up_Display-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Hybrid_graphics/AMD_Dynamic_Switchable_Graphics" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Hybrid_graphics/AMD_Dynamic_Switchable_Graphics">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Hybrid graphics/AMD Dynamic Switchable Graphics</div>
		</a>
		
		<ul id="toc-Hybrid_graphics/AMD_Dynamic_Switchable_Graphics-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Powersaving" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Powersaving">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Powersaving</div>
		</a>
		
			<button aria-controls="toc-Powersaving-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Powersaving subsection</span>
			</button>
		
		<ul id="toc-Powersaving-sublist" class="vector-toc-list">
			<li id="toc-Dynamic_power_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Dynamic_power_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Dynamic power management</div>
			</a>
			
			<ul id="toc-Dynamic_power_management-sublist" class="vector-toc-list">
				<li id="toc-Commandline_tools" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Commandline_tools">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.1</span>Commandline tools</div>
			</a>
			
			<ul id="toc-Commandline_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Old_methods" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Old_methods">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Old methods</div>
			</a>
			
			<ul id="toc-Old_methods-sublist" class="vector-toc-list">
				<li id="toc-Dynamic_frequency_switching" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Dynamic_frequency_switching">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2.1</span>Dynamic frequency switching</div>
			</a>
			
			<ul id="toc-Dynamic_frequency_switching-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Profile-based_frequency_switching" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Profile-based_frequency_switching">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2.2</span>Profile-based frequency switching</div>
			</a>
			
			<ul id="toc-Profile-based_frequency_switching-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Persistent_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Persistent_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>Persistent configuration</div>
			</a>
			
			<ul id="toc-Persistent_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_notes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Other_notes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Other notes</div>
			</a>
			
			<ul id="toc-Other_notes-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Fan_speed" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Fan_speed">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Fan speed</div>
		</a>
		
		<ul id="toc-Fan_speed-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-TV_out" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#TV_out">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>TV out</div>
		</a>
		
			<button aria-controls="toc-TV_out-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle TV out subsection</span>
			</button>
		
		<ul id="toc-TV_out-sublist" class="vector-toc-list">
			<li id="toc-Force_TV-out_in_KMS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Force_TV-out_in_KMS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Force TV-out in KMS</div>
			</a>
			
			<ul id="toc-Force_TV-out_in_KMS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-HDMI_audio" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#HDMI_audio">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>HDMI audio</div>
		</a>
		
		<ul id="toc-HDMI_audio-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Multihead_setup" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Multihead_setup">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>Multihead setup</div>
		</a>
		
			<button aria-controls="toc-Multihead_setup-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Multihead setup subsection</span>
			</button>
		
		<ul id="toc-Multihead_setup-sublist" class="vector-toc-list">
			<li id="toc-Using_the_RandR_extension" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_the_RandR_extension">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">11.1</span>Using the RandR extension</div>
			</a>
			
			<ul id="toc-Using_the_RandR_extension-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Independent_X_screens" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Independent_X_screens">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">11.2</span>Independent X screens</div>
			</a>
			
			<ul id="toc-Independent_X_screens-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Turn_vsync_off" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Turn_vsync_off">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">12</span>Turn vsync off</div>
		</a>
		
		<ul id="toc-Turn_vsync_off-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">13</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Performance_and/or_artifacts_issues_when_using_EXA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Performance_and/or_artifacts_issues_when_using_EXA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.1</span>Performance and/or artifacts issues when using EXA</div>
			</a>
			
			<ul id="toc-Performance_and/or_artifacts_issues_when_using_EXA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adding_undetected/unsupported_resolutions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adding_undetected/unsupported_resolutions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.2</span>Adding undetected/unsupported resolutions</div>
			</a>
			
			<ul id="toc-Adding_undetected/unsupported_resolutions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-TV_showing_a_black_border_around_the_screen" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TV_showing_a_black_border_around_the_screen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.3</span>TV showing a black border around the screen</div>
			</a>
			
			<ul id="toc-TV_showing_a_black_border_around_the_screen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Black_screen_and_no_console,_but_X_works_in_KMS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Black_screen_and_no_console,_but_X_works_in_KMS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.4</span>Black screen and no console, but X works in KMS</div>
			</a>
			
			<ul id="toc-Black_screen_and_no_console,_but_X_works_in_KMS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ATI_X1600_(RV530_series)_3D_application_show_black_windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ATI_X1600_(RV530_series)_3D_application_show_black_windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.5</span>ATI X1600 (RV530 series) 3D application show black windows</div>
			</a>
			
			<ul id="toc-ATI_X1600_(RV530_series)_3D_application_show_black_windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cursor_corruption_after_coming_out_of_sleep" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cursor_corruption_after_coming_out_of_sleep">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.6</span>Cursor corruption after coming out of sleep</div>
			</a>
			
			<ul id="toc-Cursor_corruption_after_coming_out_of_sleep-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DisplayPort_stays_black_on_multimonitor_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#DisplayPort_stays_black_on_multimonitor_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.7</span>DisplayPort stays black on multimonitor mode</div>
			</a>
			
			<ul id="toc-DisplayPort_stays_black_on_multimonitor_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-R9-390_Poor_Performance_and/or_Instability" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#R9-390_Poor_Performance_and/or_Instability">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.8</span>R9-390 Poor Performance and/or Instability</div>
			</a>
			
			<ul id="toc-R9-390_Poor_Performance_and/or_Instability-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-QHD_/_UHD_/_4k_support_over_HDMI_for_older_Radeon_cards" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#QHD_/_UHD_/_4k_support_over_HDMI_for_older_Radeon_cards">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.9</span>QHD / UHD / 4k support over HDMI for older Radeon cards</div>
			</a>
			
			<ul id="toc-QHD_/_UHD_/_4k_support_over_HDMI_for_older_Radeon_cards-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Horizontal_flickering_occasionally_when_using_4k_DP_output_on_390X" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Horizontal_flickering_occasionally_when_using_4k_DP_output_on_390X">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">13.10</span>Horizontal flickering occasionally when using 4k DP output on 390X</div>
			</a>
			
			<ul id="toc-Horizontal_flickering_occasionally_when_using_4k_DP_output_on_390X-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">14</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">ATI</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/ATI" title="ATI – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/ATI" title="ATI – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/ATI" title="ATI – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a></li>
<li><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
</ul>
</div>
<p>This article covers the <a rel="nofollow" class="external text" href="https://wiki.freedesktop.org/xorg/radeon/">radeon</a> open source driver which supports older AMD (previously ATI) GPUs.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Selecting_the_right_driver">Selecting the right driver</span></h2>
<p>Depending on the card you have, find the right driver in <a href="../en/Xorg.html#AMD" title="Xorg">Xorg#AMD</a>. This page has instructions for <b>ATI</b>.
</p>
<p>If unsure, try the <a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a> driver first, it will suit most needs for cards released since 2015. See the <a rel="nofollow" class="external text" href="https://www.x.org/wiki/RadeonFeature">feature matrix</a> to know what is supported by this driver and the <a href="https://en.wikipedia.org/wiki/List_of_AMD_graphics_processing_units#Features_overview" class="extiw" title="wikipedia:List of AMD graphics processing units">decoding table</a> to translate marketing names (e.g. Radeon HD4330) to chip names (e.g. R700).
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> package, which provides both the DRI driver for 3D acceleration and VA-API/VDPAU drivers for <a href="../en/Hardware_video_acceleration.html#AMD/ATI" title="Hardware video acceleration">accelerated video decoding</a>. Or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-amber">mesa-amber</a></span> for very old GPUs (<a href="https://en.wikipedia.org/wiki/Radeon_R200_series" class="extiw" title="wikipedia:Radeon R200 series">R200</a> and prior).
</p>
<ul>
<li>For 32-bit application support, also install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa">lib32-mesa</a></span> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa-amber">lib32-mesa-amber</a></span>) package from the <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> repository.</li>
<li>For the DDX driver (which provides 2D acceleration in <a href="../en/Xorg.html" title="Xorg">Xorg</a>), install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span> package.</li>
</ul>
<h2><span class="mw-headline" id="Loading">Loading</span></h2>
<p>The radeon kernel module should load fine automatically on system boot.
</p>
<p>If it does not happen, then:
</p>
<ul>
<li>Make sure you do <b>not</b> have <code>nomodeset</code> or <code>vga=</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>, since radeon requires <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a>.</li>
<li>Also, check that you have not disabled radeon by using any <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Kernel modules">kernel module blacklisting</a>.</li>
</ul>
<h2><span class="mw-headline" id="Xorg_configuration">Xorg configuration</span></h2>
<p>Xorg will automatically load the driver and it will use your monitor's EDID to set the native resolution. Configuration is only required for tuning the driver.
</p>
<p>If you want manual configuration, create <code>/etc/X11/xorg.conf.d/20-radeon.conf</code>, and add the following:
</p>
<pre>Section "OutputClass"
    Identifier "Radeon"
    MatchDriver "radeon"
    Driver "radeon"
EndSection
</pre>
<p>Using this section, you can enable features and tweak the driver settings.
</p>
<h2><span class="mw-headline" id="Performance_tuning">Performance tuning</span></h2>
<h3><span class="mw-headline" id="Enabling_video_acceleration">Enabling video acceleration</span></h3>
<p>See <a href="../en/Hardware_video_acceleration.html#AMD/ATI" title="Hardware video acceleration">Hardware video acceleration#AMD/ATI</a>.
</p>
<h3><span class="mw-headline" id="Graphical_tools">Graphical tools</span></h3>
<ul><li>
<b>radeon-profile</b> — Qt application for displaying info about a Radeon card.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/marazmista/radeon-profile">https://github.com/marazmista/radeon-profile</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/radeon-profile-git/">radeon-profile-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>CoreCtrl</b> — Popular general purpose GPU/CPU controller. See their <a rel="nofollow" class="external text" href="https://gitlab.com/corectrl/corectrl/-/wikis/Setup">Setup</a> page for advanced usage.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/corectrl/corectrl">https://gitlab.com/corectrl/corectrl</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=corectrl">corectrl</a></span>
</dd></dl>
<h3><span class="mw-headline" id="Driver_options">Driver options</span></h3>
<p>The following options apply to <code>/etc/X11/xorg.conf.d/<b>20-radeon.conf</b></code>.
</p>
<p>Please read <span class="plainlinks archwiki-template-man" title="$ man 4 radeon"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/radeon.4">radeon(4)</a></span> and <a rel="nofollow" class="external text" href="https://www.x.org/wiki/RadeonFeature/#index4h2">RadeonFeature</a> first before applying driver options.
</p>
<p><b>Acceleration architecture</b>; Glamor is available as a 2D acceleration method implemented through OpenGL, and it <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/xorg/driver/xf86-video-ati/-/commit/f11531c99fcd6473f58b4d10efaf3efd84304d8e">is the default</a> for R600 (Radeon HD2000 series) and newer graphic cards. Older cards use EXA.
</p>
<pre>Option "AccelMethod" "glamor"
</pre>
<p><b>DRI3</b> is enabled by default <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Radeon-AMDGPU-1.19-Updates">since xf86-video-ati 7.8.0</a>. 
</p>
<p><b>TearFree</b> is a tearing prevention option which prevents tearing by using the hardware page flipping mechanism:
</p>
<pre>Option "TearFree" "on"
</pre>
<p><b>ColorTiling</b> and <b>ColorTiling2D</b> are supposed to be enabled by default. Tiled mode can provide significant performance benefits with 3D applications. It is disabled if the DRM module is too old or if the current display configuration does not support it. KMS ColorTiling2D is only supported on R600 (Radeon HD2000 series) and newer chips:
</p>
<pre>Option "ColorTiling" "on"
Option "ColorTiling2D" "on"
</pre>
<p>When using Glamor as acceleration architecture, it is possible to enable the <b>ShadowPrimary</b> option, which enables a so-called "shadow primary" buffer for fast CPU access to pixel data, and separate scanout buffers for each display controller (CRTC). This may improve performance for some 2D workloads, potentially at the expense of other (e.g. 3D, video) workloads. Note that enabling this option currently disables Option "EnablePageFlip":
</p>
<pre>Option "ShadowPrimary" "on"
</pre>
<p><b>EXAVSync </b> is only available when using EXA and can be enabled to avoid tearing by stalling the engine until the display controller has passed the destination region. It reduces tearing at the cost of performance and has been known to cause instability on some chips:
</p>
<pre>Option "EXAVSync" "yes"
</pre>
<p>Below is a sample configuration file of <code>/etc/X11/xorg.conf.d/<b>20-radeon.conf</b></code>:
</p>
<pre>Section "OutputClass"
  Identifier "Radeon"
  MatchDriver "radeon"
  Driver "radeon"
  Option "AccelMethod" "glamor"
  Option "DRI" "3"
  Option "TearFree" "on"
  Option "ColorTiling" "on"
  Option "ColorTiling2D" "on"
EndSection
</pre>
<h3><span class="mw-headline" id="Kernel_parameters">Kernel parameters</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You may want to debug the new parameters with <code>systool</code> as stated in <a href="../en/Kernel_module.html#Obtaining_information" class="mw-redirect" title="Kernel modules">Kernel modules#Obtaining information</a>.</div>
<p>Defining the <b>gartsize</b>, if not autodetected, can be done by adding <code>radeon.gartsize=32</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Setting this parameter should not be needed anymore with modern AMD video cards:
<pre>[drm] Detected VRAM RAM=2048M, BAR=256M
[drm] radeon: 2048M of VRAM memory ready
[drm] radeon: 2048M of GTT memory ready.</pre>
</div>
<p>The changes take effect at the next reboot.
</p>
<h4><span class="mw-headline" id="Deactivating_PCIe_2.0">Deactivating PCIe 2.0</span></h4>
<p>Since kernel 3.6, PCI Express 2.0 in <b>radeon</b> is turned on by default.
</p>
<p>It may be unstable with some motherboards. It can be deactivated by adding <code>radeon.pcie_gen2=0</code> as a <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>.
</p>
<p>See <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=amd_pcie_gen2&amp;num=1">Phoronix article</a> for more information.
</p>
<h3><span class="mw-headline" id="Gallium_Heads-Up_Display">Gallium Heads-Up Display</span></h3>
<p>The radeon driver supports the activation of a heads-up display (HUD) which can draw transparent graphs and text on top of applications that are rendering, such as games. These can show values such as the current frame rate or the CPU load for each CPU core or an average of all of them. The HUD is controlled by the GALLIUM_HUD environment variable, and can be passed the following list of parameters among others:
</p>
<ul>
<li>"fps" - displays current frames per second</li>
<li>"cpu" - displays the average CPU load</li>
<li>"cpu0" - displays the CPU load for the first CPU core</li>
<li>"cpu0+cpu1" - displays the CPU load for the first two CPU cores</li>
<li>"draw-calls" - displays how many times each material in an object is drawn to the screen</li>
<li>"requested-VRAM" - displays how much VRAM is being used on the GPU</li>
<li>"pixels-rendered" - displays how many pixels are being displayed</li>
</ul>
<p>To see a full list of parameters, as well as some notes on operating GALLIUM_HUD, you can also pass the "help" parameter to a simple application such as glxgears and see the corresponding terminal output:
</p>
<pre># GALLIUM_HUD="help" glxgears
</pre>
<p>More information can be found from this <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/mesa-dev/2013-March/036586.html">mailing list post</a> or <a rel="nofollow" class="external text" href="https://kparal.wordpress.com/2014/03/03/fraps-like-fps-overlay-for-linux/">this blog post</a>.
</p>
<h2>
<span id="Hybrid_graphics.2FAMD_Dynamic_Switchable_Graphics"></span><span class="mw-headline" id="Hybrid_graphics/AMD_Dynamic_Switchable_Graphics">Hybrid graphics/AMD Dynamic Switchable Graphics</span>
</h2>
<p>It is the technology used on recent laptops equiped with two GPUs, one power-efficent (generally Intel integrated card) and one more powerful and more power-hungry (generally Radeon or Nvidia). There are two ways to get it work:
</p>
<ul>
<li>If it is not required to run 'GPU-hungry' applications, it is possible to disable the discrete card (see <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/HybridGraphics#Using_vga_switcheroo">Ubuntu wiki</a>): <pre># echo OFF &gt; /sys/kernel/debug/vgaswitcheroo/switch</pre>
</li>
<li>
<a href="../en/PRIME.html" title="PRIME">PRIME</a>: Is a proper way to use hybrid graphics on Linux, but still requires a bit of manual intervention from the user.</li>
</ul>
<h2><span class="mw-headline" id="Powersaving">Powersaving</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Power management is supported on all chips that include the appropriate power state tables in the vbios (R1xx and newer). "dpm" is only supported on R6xx and newer chips.</div>
<p>With the radeon driver, power saving is disabled by default and has to be enabled manually if desired.
</p>
<p>You can choose between three different methods:
</p>
<ol>
<li>
<a href="#Dynamic_power_management">dpm</a> (enabled by default since kernel 3.13)</li>
<li><a href="#Dynamic_frequency_switching">dynpm</a></li>
<li><a href="#Profile-based_frequency_switching">profile</a></li>
</ol>
<p>See <a rel="nofollow" class="external free" href="https://www.x.org/wiki/RadeonFeature/#index3h2">https://www.x.org/wiki/RadeonFeature/#index3h2</a> for more details.
</p>
<h3><span class="mw-headline" id="Dynamic_power_management">Dynamic power management</span></h3>
<p>Since kernel 3.13, DPM is enabled by default for <a rel="nofollow" class="external text" href="https://kernelnewbies.org/Linux_3.13#head-f95c198f6fdc7defe36f470dc8369cf0e16898df">lots of AMD Radeon hardware</a>. If you want to disable it, add the parameter <code>radeon.dpm=0</code> to the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  DPM works on R6xx gpus, but is not enabled by default in the kernel (only R7xx and up). Setting the <code>radeon.dpm=1</code> kernel parameter will enable dpm.</div>
<p>Unlike <a href="#Dynamic_frequency_switching">dynpm</a>, the "dpm" method uses hardware on the GPU to dynamically change the clocks and voltage based on GPU load. It also enables clock and power gating.
</p>
<p>There are 3 operation modes to choose from:
</p>
<ul>
<li>
<code>battery</code> lowest power consumption</li>
<li>
<code>balanced</code> sane default</li>
<li>
<code>performance</code> highest performance</li>
</ul>
<p>They can be changed via sysfs:
</p>
<pre># echo battery &gt; /sys/class/drm/card0/device/power_dpm_state
</pre>
<p>For testing or debugging purposes, you can force the card to run in a set performance mode:
</p>
<ul>
<li>
<code>auto</code> default; uses all levels in the power state</li>
<li>
<code>low</code> enforces the lowest performance level</li>
<li>
<code>high</code> enforces the highest performance level</li>
</ul>
<pre># echo low &gt; /sys/class/drm/card0/device/power_dpm_force_performance_level
</pre>
<h4><span class="mw-headline" id="Commandline_tools">Commandline tools</span></h4>
<ul><li>
<a rel="nofollow" class="external text" href="https://github.com/superjamie/snippets/blob/master/radcard">radcard</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-10-12 ⓘ]</sup> - A script to get and set DPM power states and levels</li></ul>
<h3><span class="mw-headline" id="Old_methods">Old methods</span></h3>
<h4><span class="mw-headline" id="Dynamic_frequency_switching">Dynamic frequency switching</span></h4>
<p>This method dynamically changes the frequency depending on GPU load, so performance is ramped up when running GPU intensive applications, and ramped down when the GPU is idle. The re-clocking is attempted during vertical blanking periods, but due to the timing of the re-clocking functions, does not always complete in the blanking period, which can lead to flicker in the display. Due to this, dynamic power management only works when a single head is active.
</p>
<p>It can be activated by simply running the following command:
</p>
<pre># echo dynpm &gt; /sys/class/drm/card0/device/power_method
</pre>
<h4><span class="mw-headline" id="Profile-based_frequency_switching">Profile-based frequency switching</span></h4>
<p>This method will allow you to select one of the five profiles (described below). Different profiles, for the most part, end up changing the frequency/voltage of the GPU. This method is not as aggressive, but is more stable and flicker free and works with multiple heads active.
</p>
<p>To activate the method, run the following command:
</p>
<pre># echo profile &gt; /sys/class/drm/card0/device/power_method
</pre>
<p>Select one of the available profiles:
</p>
<ul>
<li>
<code>default</code> uses the default clocks and does not change the power state. This is the default behaviour.</li>
<li>
<code>auto</code> selects between <code>mid</code> and <code>high</code> power states based on the whether the system is on battery power or not.</li>
<li>
<code>low</code> forces the gpu to be in the <code>low</code> power state all the time. Note that <code>low</code> can cause display problems on some laptops, which is why <code>auto</code> only uses <code>low</code> when monitors are off. Selected on other profiles when the monitors are in the <a href="../en/Display_Power_Management_Signaling.html" class="mw-redirect" title="DPMS">DPMS</a>-off state.</li>
<li>
<code>mid</code> forces the gpu to be in the <code>mid</code> power state all the time.</li>
<li>
<code>high</code> forces the gpu to be in the <code>high</code> power state all the time.</li>
</ul>
<p>As an example, we will activate the <code>low</code> profile (replace <code>low</code> with any of the aforementioned profiles as necessary):
</p>
<pre># echo low &gt; /sys/class/drm/card0/device/power_profile
</pre>
<h3><span class="mw-headline" id="Persistent_configuration">Persistent configuration</span></h3>
<p>The methods described above are not persistent. To make them persistent, you may create a <a href="../en/Udev.html" title="Udev">udev</a> rule (example for <a href="#Profile-based_frequency_switching">#Profile-based frequency switching</a>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/30-radeon-pm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KERNEL=="dri/card0", SUBSYSTEM=="drm", DRIVERS=="radeon", ATTR{device/power_method}="profile", ATTR{device/power_profile}="low"</pre>
<p>As another example, <a href="#Dynamic_power_management">dynamic power management</a> can be permanently forced to a certain performance level:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/30-radeon-pm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KERNEL=="dri/card0", SUBSYSTEM=="drm", DRIVERS=="radeon", ATTR{device/power_dpm_force_performance_level}="high"</pre>
<h3><span class="mw-headline" id="Other_notes">Other notes</span></h3>
<p>To view the speed that the GPU is running at, perform the following command and you will get something like this output:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cat /sys/kernel/debug/dri/0/radeon_pm_info</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">state: PM_STATE_ENABLED
default engine clock: 300000 kHz
current engine clock: 300720 kHz
default memory clock: 200000 kHz
</pre>
<p>It depends on which GPU line yours is, however. Along with the radeon driver versions, kernel versions, etc. So it may not have much/any voltage regulation at all.
</p>
<p>Thermal sensors are implemented via external i2c chips or via the internal thermal sensor (rv6xx-evergreen only). To get the temperature on asics that use i2c chips, you need to load the appropriate hwmon driver for the sensor used on your board (lm63, lm64, etc.). The drm will attempt to load the appropriate hwmon driver. On boards that use the internal thermal sensor, the drm will set up the hwmon interface automatically. When the appropriate driver is loaded, the temperatures can be accessed via <a href="../en/Lm_sensors.html" title="Lm sensors">lm_sensors</a> tools or via sysfs in <code>/sys/class/hwmon</code>.
</p>
<h2><span class="mw-headline" id="Fan_speed">Fan speed</span></h2>
<p>While the power saving features above should handle fan speeds quite well, some cards may still be too noisy in their idle state. In this case, and when your card supports it, you can change the fan speed manually.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Keep in mind that the following method sets the fan speed to a fixed value, hence it will not adjust with the stress of the GPU, which can lead to overheating under heavy load.</li>
<li>Check GPU temperature when applying lower than standard values.</li>
</ul>
</div>
<p>To control the GPU fan, see <a href="../en/Fan_speed_control.html#AMDGPU_sysfs_fan_control" title="Fan speed control">Fan speed control#AMDGPU sysfs fan control</a> (amdgpu and radeon share the same controls for this).
</p>
<p>For persistence, see the example in <a href="#Persistent_configuration">#Persistent configuration</a>.
</p>
<p>If a fixed value is not desired, there are possibilities to define a custom fan curve manually by, for example, writing a script in which fan speeds are set depending on the current temperature (current value in <code>/sys/class/drm/card0/device/hwmon/hwmon0/temp1_input</code>).
</p>
<p>A GUI solution is available by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/radeon-profile-git/">radeon-profile-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="TV_out">TV out</span></h2>
<p>First, check that you have an S-video output: <code>xrandr</code> should give you something like
</p>
<pre>Screen 0: minimum 320x200, current 1024x768, maximum 1280x1200
...
S-video disconnected (normal left inverted right x axis y axis)
</pre>
<p>Now we should tell Xorg that it is actually connected (it <i>is</i>, right?)
</p>
<pre>xrandr --output S-video --set "load detection" 1
</pre>
<p>Setting TV standard to use:
</p>
<pre>xrandr --output S-video --set "tv standard" ntsc
</pre>
<p>Adding a mode for it (currently supports only 800x600):
</p>
<pre>xrandr --addmode S-video 800x600
</pre>
<p>Clone mode:
</p>
<pre>xrandr --output S-video --same-as VGA-0
</pre>
<p>Now let us try to see what we have:
</p>
<pre>xrandr --output S-video --mode 800x600
</pre>
<p>At this point, you should see a 800x600 version of your desktop on your TV.
</p>
<p>To disable the output, do
</p>
<pre>xrandr --output S-video --off
</pre>
<h3><span class="mw-headline" id="Force_TV-out_in_KMS">Force TV-out in KMS</span></h3>
<p>The kernel can recognize <code>video=</code> parameter in following form (see <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a> for more details):
</p>
<pre>video=&lt;conn&gt;:&lt;xres&gt;x&lt;yres&gt;[M][R][-&lt;bpp&gt;][@&lt;refresh&gt;][i][m][eDd]
</pre>
<p>For example:
</p>
<pre>video=DVI-I-1:1280x1024-24@60e
</pre>
<p>Parameters with whitespaces must be quoted:
</p>
<pre>"video=9-pin DIN-1:1024x768-24@60e"
</pre>
<p>You can get list of your video outputs with following command:
</p>
<pre>$ ls -1 /sys/class/drm/ | grep -E '^card[[:digit:]]+-' | cut -d- -f2-</pre>
<h2><span class="mw-headline" id="HDMI_audio">HDMI audio</span></h2>
<p>HDMI audio is supported in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span> video driver. To disable HDMI audio add <code>radeon.audio=0</code> to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<p>If there is no video after boot up, the driver option has to be disabled.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>If HDMI audio does not work after installing the driver, test your setup with the procedure at <a href="../en/Advanced_Linux_Sound_Architecture/Troubleshooting.html#HDMI_Output_does_not_work" title="Advanced Linux Sound Architecture/Troubleshooting">Advanced Linux Sound Architecture/Troubleshooting#HDMI Output does not work</a>.</li>
<li>If the sound is distorted in PulseAudio, try setting <code>tsched=0</code> as described in <a href="../en/PulseAudio/Troubleshooting.html#Troubleshooting_buffer_underruns_(glitches,_skips,_crackling)" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting#Troubleshooting buffer underruns (glitches, skips, crackling)</a> and make sure <code>rtkit</code> daemon is running.</li>
<li>Your sound card might use the same module, since HDA compliant hardware is pretty common. <a href="../en/Advanced_Linux_Sound_Architecture.html#Set_the_default_sound_card" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture#Set the default sound card</a> using one of the suggested methods, which include using the <code>defaults</code> node in alsa configuration.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Multihead_setup">Multihead setup</span></h2>
<h3><span class="mw-headline" id="Using_the_RandR_extension">Using the RandR extension</span></h3>
<p>See <a href="../en/Multihead.html#RandR" title="Multihead">Multihead#RandR</a> how to setup multiple monitors by using <a href="https://en.wikipedia.org/wiki/RandR" class="extiw" title="wikipedia:RandR">RandR</a>.
</p>
<h3><span class="mw-headline" id="Independent_X_screens">Independent X screens</span></h3>
<p>Independent dual-headed setups can be configured the usual way. However you might want to know that the radeon driver has a <code>"ZaphodHeads"</code> option which allows you to bind a specific device section to an output of your choice:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-radeon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
  Identifier "Device0"
  Driver "radeon"
  Option "ZaphodHeads" "VGA-0"
  VendorName "ATI"
  BusID "PCI:1:0:0"
  Screen 0
EndSection
</pre>
<p>This can be a life-saver, when using videocards that have more than two outputs. For instance one HDMI out, one DVI, one VGA, will only select and use HDMI+DVI outputs for the dual-head setup, unless you explicitly specify <code>"ZaphodHeads" "VGA-0"</code>.
</p>
<h2><span class="mw-headline" id="Turn_vsync_off">Turn vsync off</span></h2>
<p>The radeon driver will probably enable vsync by default, which is perfectly fine except for benchmarking. To turn it off, try the <code>vblank_mode=0</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> or create <code>~/.drirc</code> (edit it if it already exists) and add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.drirc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;driconf&gt;
    &lt;device screen="0" driver="dri2"&gt;
        &lt;application name="Default"&gt;
            &lt;option name="vblank_mode" value="0" /&gt;
        &lt;/application&gt;
    &lt;/device&gt;
    ...
&lt;/driconf&gt;</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Make sure the driver is <b>dri2</b>, not your video card code (like r600).</div>
<p>If vsync is still enabled, you can disable it by editing <code>/etc/X11/xorg.conf.d/20-radeon.conf</code>. See <a href="#Driver_options">#Driver options</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Performance_and.2For_artifacts_issues_when_using_EXA"></span><span class="mw-headline" id="Performance_and/or_artifacts_issues_when_using_EXA">Performance and/or artifacts issues when using EXA</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This only applies to cards older than R600 (Radeon X1000 series and older). Newer cards you should use Glamor instead of EXA.</div>
<p>If having 2D performance issues, like slow scrolling in a terminal or webbrowser, adding <code>Option "MigrationHeuristic" "greedy"</code> as device option may solve the issue.
</p>
<p>In addition disabling EXAPixmaps may solve artifacts issues, although this is generally not recommended and may cause other issues.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-radeon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "OutputClass"
    Identifier "Radeon"
    MatchDriver "radeon"
    Option "AccelMethod" "exa"
    Option "MigrationHeuristic" "greedy"
    #Option "EXAPixmaps" "off"
EndSection
</pre>
<h3>
<span id="Adding_undetected.2Funsupported_resolutions"></span><span class="mw-headline" id="Adding_undetected/unsupported_resolutions">Adding undetected/unsupported resolutions</span>
</h3>
<p>See <a href="../en/Xrandr.html#Adding_undetected_resolutions" title="Xrandr">Xrandr#Adding undetected resolutions</a>.
</p>
<h3><span class="mw-headline" id="TV_showing_a_black_border_around_the_screen">TV showing a black border around the screen</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Make sure the TV has been setup correctly (see manual) before attempting the following solution.</div>
<p>When connecting a TV using the HDMI port, the TV may show a blurry picture with a 2-3cm border around it. This protects against overscanning (see <a href="https://en.wikipedia.org/wiki/Overscan" class="extiw" title="wikipedia:Overscan">Wikipedia:Overscan</a>), but can be turned off using xrandr:
</p>
<pre>xrandr --output HDMI-0 --set underscan off
</pre>
<h3>
<span id="Black_screen_and_no_console.2C_but_X_works_in_KMS"></span><span class="mw-headline" id="Black_screen_and_no_console,_but_X_works_in_KMS">Black screen and no console, but X works in KMS</span>
</h3>
<p>This is a solution to the no-console problem that might come up, when using two or more ATI cards on the same PC. Fujitsu Siemens Amilo PA 3553 laptop for example has this problem. This is due to fbcon console driver mapping itself to the wrong framebuffer device that exists on the wrong card. This can be fixed by using the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>:
</p>
<pre>fbcon=map:1
</pre>
<p>This will tell the fbcon to map itself to the <code>/dev/fb1</code> framebuffer and not the <code>/dev/fb0</code>, that in our case exists on the wrong graphics card. If that does not fix your problem, try booting with
</p>
<pre>fbcon=map:0
</pre>
<p>instead.
</p>
<h3>
<span id="ATI_X1600_.28RV530_series.29_3D_application_show_black_windows"></span><span class="mw-headline" id="ATI_X1600_(RV530_series)_3D_application_show_black_windows">ATI X1600 (RV530 series) 3D application show black windows</span>
</h3>
<p>There are three possible solutions:
</p>
<ul>
<li>Try adding <code>pci=nomsi</code> to your boot loader <a href="../en/Kernel_parameters.html" title="Kernel parameters">Kernel parameters</a>.</li>
<li>If this does not work, you can try adding <code>noapic</code> instead of <code>pci=nomsi</code>.</li>
<li>If none of the above work, then you can try running <code>vblank_mode=0 glxgears</code> or <code>vblank_mode=1 glxgears</code> to see which one works for you, then <a href="#Turn_vsync_off">set the option permanently</a>.</li>
</ul>
<h3><span class="mw-headline" id="Cursor_corruption_after_coming_out_of_sleep">Cursor corruption after coming out of sleep</span></h3>
<p>If the cursor becomes corrupted (e.g. repeating itself vertically after the monitor(s) comes out of sleep) set <code>"SWCursor" "True"</code> in the <code>"OutputClass"</code> section of the <code>/etc/X11/xorg.conf.d/20-radeon.conf</code> configuration file.
</p>
<h3><span class="mw-headline" id="DisplayPort_stays_black_on_multimonitor_mode">DisplayPort stays black on multimonitor mode</span></h3>
<p>Try booting with the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> <code>radeon.audio=0</code>.
</p>
<h3>
<span id="R9-390_Poor_Performance_and.2For_Instability"></span><span class="mw-headline" id="R9-390_Poor_Performance_and/or_Instability">R9-390 Poor Performance and/or Instability</span>
</h3>
<p>Firmware issues with R9-390 series cards include poor performance and crashes (frequently caused by gaming or using Google Maps) possibly related DPM. There has been a <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/mesa/mesa/-/issues/1222#note_240698">comment</a> on a bug report with instructions for a fix.
</p>
<h3>
<span id="QHD_.2F_UHD_.2F_4k_support_over_HDMI_for_older_Radeon_cards"></span><span class="mw-headline" id="QHD_/_UHD_/_4k_support_over_HDMI_for_older_Radeon_cards">QHD / UHD / 4k support over HDMI for older Radeon cards</span>
</h3>
<p>Older cards have their pixel clock limited to 165MHz for HDMI. Hence, they do not support QHD or 4k only via dual-link DVI but not over HDMI.
</p>
<p>One possibility to work around this is to use <a rel="nofollow" class="external text" href="https://www.elstel.org/software/hunt-for-4K-UHD-2160p.html.en">custom modes with lower refresh rate</a>, e.g. 30Hz.
</p>
<p>Another one is a kernel patch removing the pixel clock limit, but this may damage the card! 
</p>
<p>Official kernel bug ticket with patch for 4.8: <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=172421">https://bugzilla.kernel.org/show_bug.cgi?id=172421</a>
</p>
<p>The patch introduces a new kernel parameter <code>radeon.hdmimhz</code> which alters the pixel clock limit. 
</p>
<p>Be sure to use a high speed HDMI cable for this.
</p>
<h3><span class="mw-headline" id="Horizontal_flickering_occasionally_when_using_4k_DP_output_on_390X">Horizontal flickering occasionally when using 4k DP output on 390X</span></h3>
<p>If you use 390X (or perhaps similar models) and the 4k output from DP, you may experiencing occasional horizontal artifacts / flickering (i.e. every half an hour or so, a horizontal strip of pixels with a height of ~100 pixels across the whole screen's width shaking up and down for a few seconds). This might be a bug of the radeon driver. Changing to <a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a> seems to fix it.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=article&amp;item=radeonsi-cat-wow&amp;num=1">Benchmark</a> showing the open source driver is on par performance-wise with the proprietary driver for many cards.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Graphics.html" title="Category:Graphics">Graphics</a></li>
<li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ATI&amp;oldid=820673">https://wiki.archlinux.org/index.php?title=ATI&amp;oldid=820673</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 14 November 2024, at 05:55.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
