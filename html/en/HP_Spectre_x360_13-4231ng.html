<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>HP Spectre x360 13-4231ng - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-HP_Spectre_x360_13-4231ng rootpage-HP_Spectre_x360_13-4231ng skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Hardware_info" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hardware_info">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Hardware info</div>
		</a>
		
			<button aria-controls="toc-Hardware_info-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Hardware info subsection</span>
			</button>
		
		<ul id="toc-Hardware_info-sublist" class="vector-toc-list">
			<li id="toc-Hardware_options" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hardware_options">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Hardware options</div>
			</a>
			
			<ul id="toc-Hardware_options-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tweaks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tweaks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Tweaks</div>
		</a>
		
			<button aria-controls="toc-Tweaks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tweaks subsection</span>
			</button>
		
		<ul id="toc-Tweaks-sublist" class="vector-toc-list">
			<li id="toc-Brightness_/_backlight" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Brightness_/_backlight">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Brightness / backlight</div>
			</a>
			
			<ul id="toc-Brightness_/_backlight-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gnome_scaling" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gnome_scaling">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Gnome scaling</div>
			</a>
			
			<ul id="toc-Gnome_scaling-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Video_driver" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Video_driver">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Video driver</div>
			</a>
			
			<ul id="toc-Video_driver-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Issue:_Airplane_mode_after_login" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Issue:_Airplane_mode_after_login">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Issue: Airplane mode after login</div>
		</a>
		
		<ul id="toc-Issue:_Airplane_mode_after_login-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">HP Spectre x360 13-4231ng</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/HP_Spectre_x360_4231" title="HP Spectre x360 4231 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b></p>
<div>
<b>Reason:</b> Stub (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:HP_Spectre_x360_13-4231ng.html">Talk:HP Spectre x360 13-4231ng</a>)</div>
</div>
<table class="wikitable" style="float: right;">
<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Video</td>
<td><code>8086:1926</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td><code>8086:095a</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td><code>8087:0a2a</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td><code>8086:9d70</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchpad</td>
<td>PS/2</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Touchscreen</td>
<td><code>06cb:16f9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td><code>1bcf:2c7d</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Card Reader</td>
<td><code>10ec:5227</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint Reader</td>
<td><code>04f3:0c26</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<p>This article covers hardware specific configuration of this laptop, some minor issues remain after customization. These can be performed after an installation of Arch Linux has been finished and the machine rebooted into it. 
</p>
<p>For a general overview of laptop-related articles and recommendations, see <a href="../en/Laptop.html" title="Laptop">Laptop</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Hardware_info">Hardware info</span></h2>
<h3><span class="mw-headline" id="Hardware_options">Hardware options</span></h3>
<p>The HP Spectre x360 name has been used for a number of models over the years.  While the overall look &amp; feel of the brick has not changed, some hardware configuration changed a lot. 
</p>
<p>This model was released in November 2015 to replace the 13-4100.
</p>
<p>Specifications:
</p>
<ul>
<li>Intel i7 Skylake 6560U with Intel Iris 540 graphics (compared to i7 6500 with Intel HD 520 graphics on a 4100)</li>
<li>OLED touch screen running at 2560x1440 (compared to LED 1920x1080 on a 4100)</li>
<li>500 GB M.2 SDD</li>
<li>8 GB RAM</li>
</ul>
<p>This model has now been succeeded by the <a href="../en/HP_Spectre_x360_13-w023dx.html" title="HP Spectre x360 13-w023dx">HP Spectre x360 13-w023dx</a>.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Installing Arch is straight forward for everything (disable <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>, <code>F10</code> for BIOS, <code>F9</code> for boot options) but one thing: you may have to disable a BIOS option called "fast boot". While this option is activated in BIOS the machine may boot into Windows no matter what you select. After you installed Arch, you may activate that option again: no difference in boot performance could be observed with the option activated or deactivated.
</p>
<h2><span class="mw-headline" id="Tweaks">Tweaks</span></h2>
<h3>
<span id="Brightness_.2F_backlight"></span><span class="mw-headline" id="Brightness_/_backlight">Brightness / backlight</span>
</h3>
<p><code>/sys/class/backlight/intel_backlight</code> exists but is not working as of kernel 4.6 and 4.7rc6. Proposed kernel parameters (such as <code>acpi_os</code>) do not remedy the issue. It may be helpful to know that OLED displays by their nature do not have backlight. xrandr offers some neat feature to change brightness of your screen. Depending on your driver (modesetting driver included in Xorg or xf86-video-intel, see <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a>) your screen is named eDP-1 or eDP1. Use <code>xrandr</code> to determine the correct name if in doubt. The following statement changes brightness to 50%.
</p>
<pre>$ xrandr --output eDP1 --brightness .5
</pre>
<p>While this may probably work on non-OLED displays as well, it will not reduce power consumption on non-OLED displays at all. Without in-depth tests and measurements done, it seems like lowering brightness from the default 100% to something more regular 50% extends battery life by some hours.
</p>
<p>Since the hotkeys are performing updates on <code>/sys/class/backlight/intel_backlight</code> you may use <code>inotify</code> to enable brightness adjustment using the hotkeys (see <a href="../en/Backlight.html#sysfs_modified_but_no_brightness_change" title="Backlight">Backlight#sysfs modified but no brightness change</a>). The following script does the job:
</p>
<pre>#!/bin/sh

path=/sys/class/backlight/intel_backlight

luminance() {
    read -r level &lt; "$path"/actual_brightness
    bc &lt;&lt;&lt; "scale=10;$level/$max"
}

read -r max &lt; "$path"/max_brightness
xrandr --output eDP1 --brightness "$(luminance)"

inotifywait -me modify --format '' "$path"/actual_brightness | while read; do
    echo $(luminance)
    xrandr --output eDP1 --brightness "$(luminance)"
done
</pre>
<p>The script requires package <code>bc</code> to actually calculate the brightness factor. If you store the script at <code>/usr/share/bin/brightness</code> (see <a href="../en/Frequently_asked_questions.html#Does_Arch_follow_the_Linux_Foundation's_Filesystem_Hierarchy_Standard_(FHS)?" class="mw-redirect" title="Arch filesystem hierarchy">Arch filesystem hierarchy</a>), you may use the following file at <code>~/.config/autostart/brightness.desktop</code> to run the script at login to gnome:
</p>
<pre>[Desktop Entry]
Name=brightness
GenericName=brightness
Comment=adjust brightness using hotkeys 
Exec=/usr/local/bin/brightness
Terminal=false
Type=Application
X-GNOME-Autostart-enabled=true</pre>
<p>While all this fixes brightness issues on the brick quite well, there are still some issues to be solved:
</p>
<ul>
<li>Chromium and some other programs reset brightness to 100% upon their first start since reboot.</li>
<li>Hotkeys are not working prior to login.</li>
</ul>
<h3><span class="mw-headline" id="Gnome_scaling">Gnome scaling</span></h3>
<p>The screen natively runs at 2560x1440. Gnome by default assumes a scaling factor of 2 since the screen resolution at y-axis is greater than 1200 <a rel="nofollow" class="external autonumber" href="https://wiki.gnome.org/HowDoI/HiDpi">[1]</a>. With this, at first glance all controls are quite over sized. xrandr offers some nice workaround:
</p>
<pre>$ xrandr --output eDP1 --scale 1.25x1.25
$ xrandr --output eDP1 --panning 3200x1800
</pre>
<p>Those commands should be executed in two steps tho. Gnome does not adjust size for sure each time. Setting those changes in an autostart script after login is not very reliable if some other programs are started at the same time. Even adding some sleep does not improve reliability to an acceptable level. Testing will be continued since this is a perfect resolution.
</p>
<h3><span class="mw-headline" id="Video_driver">Video driver</span></h3>
<p>As mentioned in <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> some people recommend to stay with the modesetting driver included in Xorg. As of Xorg 1.18.2, Mesa before 12.0 the performance of this driver is inacceptable when it comes to simple tasks like web browsing, scrolling documents or anything alike. On this machine installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> improves performance a lot.
</p>
<h2><span class="mw-headline" id="Issue:_Airplane_mode_after_login">Issue: Airplane mode after login</span></h2>
<ul>
<li>Wifi is working. The hotkey for the airplane mode works. Although something strange is going on with the hotkey:
<ul>
<li>Booting to console leads to some spam of ^@ for like 10 seconds. After this it suddenly stops and you can log in.</li>
<li>Booting to GDM makes the hotkey for airplane mode work. Nothing special. You can login immediately.</li>
<li>Right after login to Gnome the hotkey is spammed and thus airplane mode turned off and on for like 7 seconds. <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Dmesg">dmesg</a> shows some hard faults caused by wifi module being unexpectedly unavailable but nothing else suspicious.</li>
<li>If you wait in GDM for a while, the spam hotkey spam will not happen after login. I.e. the timer is running already while you are in GDM.</li>
</ul>
</li>
<li>The solution described at <a rel="nofollow" class="external autonumber" href="https://askubuntu.com/questions/965595/why-does-airplane-mode-keep-toggling-on-my-hp-laptop-in-ubuntu-18-04">[2]</a> seems to work.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:HP.html" title="Category:HP">HP</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=HP_Spectre_x360_13-4231ng&amp;oldid=806162">https://wiki.archlinux.org/index.php?title=HP_Spectre_x360_13-4231ng&amp;oldid=806162</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 April 2024, at 15:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
