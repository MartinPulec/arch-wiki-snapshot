<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GRUB/EFI examples - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GRUB_EFI_examples rootpage-GRUB skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Acer" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Acer">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Acer</div>
		</a>
		
			<button aria-controls="toc-Acer-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Acer subsection</span>
			</button>
		
		<ul id="toc-Acer-sublist" class="vector-toc-list">
			<li id="toc-Aspire_V3-571G_(Possibly_other_Aspire_One_laptops_as_well)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Aspire_V3-571G_(Possibly_other_Aspire_One_laptops_as_well)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Aspire V3-571G (Possibly other Aspire One laptops as well)</div>
			</a>
			
			<ul id="toc-Aspire_V3-571G_(Possibly_other_Aspire_One_laptops_as_well)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Apple_Macs" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Apple_Macs">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Apple Macs</div>
		</a>
		
		<ul id="toc-Apple_Macs-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-ASUS" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#ASUS">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>ASUS</div>
		</a>
		
			<button aria-controls="toc-ASUS-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle ASUS subsection</span>
			</button>
		
		<ul id="toc-ASUS-sublist" class="vector-toc-list">
			<li id="toc-Z68_Family_and_U47_Family" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Z68_Family_and_U47_Family">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Z68 Family and U47 Family</div>
			</a>
			
			<ul id="toc-Z68_Family_and_U47_Family-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-ux32vd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ux32vd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>ux32vd</div>
			</a>
			
			<ul id="toc-ux32vd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-P8Z77_Family" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#P8Z77_Family">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>P8Z77 Family</div>
			</a>
			
			<ul id="toc-P8Z77_Family-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-M5A97" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#M5A97">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>M5A97</div>
			</a>
			
			<ul id="toc-M5A97-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Asrock" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Asrock">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Asrock</div>
		</a>
		
			<button aria-controls="toc-Asrock-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Asrock subsection</span>
			</button>
		
		<ul id="toc-Asrock-sublist" class="vector-toc-list">
			<li id="toc-Z97M_Pro4" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Z97M_Pro4">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Z97M Pro4</div>
			</a>
			
			<ul id="toc-Z97M_Pro4-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dell" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Dell">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Dell</div>
		</a>
		
			<button aria-controls="toc-Dell-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dell subsection</span>
			</button>
		
		<ul id="toc-Dell-sublist" class="vector-toc-list">
			<li id="toc-PowerEdge_T30" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PowerEdge_T30">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>PowerEdge T30</div>
			</a>
			
			<ul id="toc-PowerEdge_T30-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Latitude_E7450" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Latitude_E7450">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Latitude E7450</div>
			</a>
			
			<ul id="toc-Latitude_E7450-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-MSI" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#MSI">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>MSI</div>
		</a>
		
			<button aria-controls="toc-MSI-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle MSI subsection</span>
			</button>
		
		<ul id="toc-MSI-sublist" class="vector-toc-list">
			<li id="toc-B250M_PRO-VH" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#B250M_PRO-VH">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>B250M PRO-VH</div>
			</a>
			
			<ul id="toc-B250M_PRO-VH-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-B150_PC_MATE_/_B250_PC_MATE_/_H110I_PRO_/_Z370_GAMING_PLUS_/_MPG_B760I_EDGE_WIFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#B150_PC_MATE_/_B250_PC_MATE_/_H110I_PRO_/_Z370_GAMING_PLUS_/_MPG_B760I_EDGE_WIFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>B150 PC MATE / B250 PC MATE / H110I PRO / Z370 GAMING PLUS / MPG B760I EDGE WIFI</div>
			</a>
			
			<ul id="toc-B150_PC_MATE_/_B250_PC_MATE_/_H110I_PRO_/_Z370_GAMING_PLUS_/_MPG_B760I_EDGE_WIFI-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-HP" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#HP">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>HP</div>
		</a>
		
			<button aria-controls="toc-HP-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle HP subsection</span>
			</button>
		
		<ul id="toc-HP-sublist" class="vector-toc-list">
			<li id="toc-EliteBook_840_G1_&amp;_Probook_6570b" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#EliteBook_840_G1_&amp;_Probook_6570b">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>EliteBook 840 G1 &amp; Probook 6570b</div>
			</a>
			
			<ul id="toc-EliteBook_840_G1_&amp;_Probook_6570b-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Intel" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Intel">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Intel</div>
		</a>
		
			<button aria-controls="toc-Intel-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Intel subsection</span>
			</button>
		
		<ul id="toc-Intel-sublist" class="vector-toc-list">
			<li id="toc-S5400_Family" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#S5400_Family">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>S5400 Family</div>
			</a>
			
			<ul id="toc-S5400_Family-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Lenovo" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Lenovo">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Lenovo</div>
		</a>
		
			<button aria-controls="toc-Lenovo-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Lenovo subsection</span>
			</button>
		
		<ul id="toc-Lenovo-sublist" class="vector-toc-list">
			<li id="toc-K450_IdeaCentre" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#K450_IdeaCentre">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>K450 IdeaCentre</div>
			</a>
			
			<ul id="toc-K450_IdeaCentre-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-M92p_ThinkCentre" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#M92p_ThinkCentre">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>M92p ThinkCentre</div>
			</a>
			
			<ul id="toc-M92p_ThinkCentre-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-X270_Thinkpad" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#X270_Thinkpad">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.3</span>X270 Thinkpad</div>
			</a>
			
			<ul id="toc-X270_Thinkpad-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GRUB/EFI examples</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/GRUB/EFI_%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB" title="GRUB/EFI サンプル – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../en/GRUB.html" title="GRUB">GRUB</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Many of the examples below indicate that the GRUB EFI binary (<code>grubx64.efi</code>) needs to be copied to a special location (e.g, <code><i>esp</i>/EFI/BOOT/bootx64.efi</code>). Although this may work, this is the <i>fallback</i> filename. Other options may also work, like using <a href="../../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a> or <a href="../../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" title="Unified Extensible Firmware Interface">UEFI shell</a>. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:GRUB/EFI_examples.html">Talk:GRUB/EFI examples</a>)</div>
</div>
<p>It is well known that different motherboard manufactures implement UEFI differently. The purpose of this page is to show hardware-specific methods known to work when installing/restoring GRUB in EFI mode.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In the entire article <code><i>esp</i></code> denotes the mountpoint of the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> aka ESP.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Acer">Acer</span></h2>
<h3>
<span id="Aspire_V3-571G_.28Possibly_other_Aspire_One_laptops_as_well.29"></span><span class="mw-headline" id="Aspire_V3-571G_(Possibly_other_Aspire_One_laptops_as_well)">Aspire V3-571G (Possibly other Aspire One laptops as well)</span>
</h3>
<p>Some variations of this laptop have a only partial EFI compatibility due to originally shipping with Windows 7 only. Later revisions of this laptop shipped with more complete UEFI compatibility. Due to this the earlier revisions can only boot GRUB if it is placed where the Windows bootloader binary is expected (<code><i>esp</i>/EFI/BOOT/bootx64.efi</code>). However the binary can only be booted manually from the boot menu (on key <b>F12</b>), likely because it is missing Microsoft signatures. A solution to this problem is to upgrade to the newer version of the system firmware, however the process is not straight forward as earlier revisions of the machine are locked out of upgrading for some reason.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This can potentially render your machine permanently inoperational if done incorrectly! Proceed with caution.</div>
<p>The following steps can be taken to bypass the restriction and upgrade to a later revision firmware:
</p>
<ul>
<li>Acquire an incompatible <b>2.x</b> version of the BIOS firmware for the same model machine from <a rel="nofollow" class="external text" href="https://www.acer.com/ac/en/US/content/support-product/4077">Acer</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-04-23 ⓘ]</sup> <a rel="nofollow" class="external text" href="https://global-download.acer.com/GDFiles/BIOS/BIOS/BIOS_Acer_2.21_A_A.zip?acerid=635264178355568077">Acer CDN direct link</a><a rel="nofollow" class="external text" href="https://archive.org/details/bios-acer-2.21-a-a">Archive.org mirror</a>.</li>
<li>Extract the archive to obtain the flasher executable (eg. <b>Q5WV1221.exe</b>).</li>
<li>Open this executable in a hex editor of your choice (a good simple one is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ghex">ghex</a></span>).</li>
<li>In the hex editor search for the block flag <b>string</b> <code>DisableSecureCapsuleFlash=1</code>.</li>
<li>Change the <b>ASCII string</b> so that it becomes <code>DisableSecureCapsuleFlash=0</code> (That's changing the last byte from hex <b>31</b> to <b>30</b>).</li>
<li>Save the modified binary.</li>
<li>Obtain a copy of <b>FreeDOS</b>, flash it to a boot media and put your modified binary on the boot media as well (more on that here <a href="../../en/Flashing_BIOS_from_Linux.html#FreeDOS" title="Flashing BIOS from Linux">Flashing BIOS from Linux#FreeDOS</a>)</li>
<li>Run your modified binary from within <b>FreeDOS</b> and follow the instructions on screen. Upon completion you should have your firmware upgrade to the officially unsupported <b>2.x</b> version.</li>
<li>You can now install GRUB normally as described here <a href="../../en/GRUB.html#UEFI_systems" title="GRUB">GRUB#UEFI systems</a>.</li>
</ul>
<p>More info:
</p>
<ul>
<li><a rel="nofollow" class="external free" href="https://www.bios-mods.com/forum/Thread-Upgrade-Bios-To-UEFI-Insyde?pid=159051#pid159051">https://www.bios-mods.com/forum/Thread-Upgrade-Bios-To-UEFI-Insyde?pid=159051#pid159051</a></li>
<li><a rel="nofollow" class="external free" href="https://catchtito.blogspot.com/2013/05/how-to-update-to-2x-bios-from-1x-bios.html">https://catchtito.blogspot.com/2013/05/how-to-update-to-2x-bios-from-1x-bios.html</a></li>
</ul>
<h2><span class="mw-headline" id="Apple_Macs">Apple Macs</span></h2>
<p>Use bless command from within macOS to set <code>grubx64.efi</code> as the default boot option. You can also boot from the macOS install disc and launch a Terminal there if you only have Linux installed. In the Terminal, create a directory and mount the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>:
</p>
<pre># cd /Volumes
# mkdir efi
# mount -t msdos /dev/disk0s1 /Volumes/efi
</pre>
<p>Then run bless on <code>grub.efi</code> and on the EFI system partition to set them as the default boot options.
</p>
<pre># bless --folder=/Volumes/efi --file=/Volumes/efi/EFI/GRUB/grubx64.efi --setBoot
# bless --mount=/Volumes/efi --file=/Volumes/efi/EFI/GRUB/grubx64.efi --setBoot
</pre>
<h2><span class="mw-headline" id="ASUS">ASUS</span></h2>
<h3><span class="mw-headline" id="Z68_Family_and_U47_Family">Z68 Family and U47 Family</span></h3>
<pre># cp <i>esp</i>/EFI/GRUB/grubx64.efi <i>esp</i>/shellx64.efi
</pre>
<p>After this launch the UEFI Shell from the UEFI setup/menu (in ASUS UEFI BIOS, switch to advanced mode, press <i>Exit</i> in the top right corner and choose "Launch EFI shell from filesystem device"). The GRUB menu will show up and you can boot into your system. Afterwards you can use <a href="../../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a> to setup a menu entry, for example if you have the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> on <code>/dev/sda1</code>:
</p>
<pre># efibootmgr --create --disk /dev/sda --part 1 --write-signature --loader /EFI/GRUB/grubx64.efi --label "GRUB" --verbose
</pre>
<p>If your motherboard has no such option (or even if it does), you can use <a href="../../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" class="mw-redirect" title="UEFI shell">UEFI shell</a> to create a UEFI boot option for the Arch partition temporarily.
</p>
<p>Once you boot into the UEFI shell, add a UEFI boot menu entry:
</p>
<pre>Shell&gt; bcfg boot add 0 FS0:\EFI\GRUB\grubx64.efi "GRUB"
</pre>
<p>where <code>FS0:</code> is the mapping corresponding to the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> and <code>\EFI\GRUB\grubx64.efi</code> is the file from the <code>--loader</code> from the <code>efibootmgr</code> command above.
</p>
<p>This will temporarily add a UEFI boot option for the next boot to get into Arch. Once in Arch, <code>modprobe efivars</code> and confirm that <code>efibootmgr</code> creates no errors (no errors meaning you successfully booted in UEFI mode). Then <a href="../../en/GRUB.html#Installation_2" title="GRUB">GRUB installation</a> can be performed again and should successfully permanently add a boot entry in the UEFI menu.
</p>
<h3><span class="mw-headline" id="ux32vd">ux32vd</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The BIOS does not allow computer to boot from GPT disk if there is no properly set-up UEFI boot entry. The disk even may not be seen in BIOS in this case. The fix is to make a proper UEFI boot entry.</div>
<p>There is a caveat. If the machine was booted from MBR then <code>grub-install</code> (or <a href="../../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a>) will fail to create the UEFI boot entry with the following error:
</p>
<pre>EFI variables are not supported on this system
</pre>
<p>You first need to boot the machine with EFI and then create the boot entry. This can be done the way described for Z68 Family: by copying <code><i>esp</i>/EFI/GRUB/grubx64.efi</code> into <code><i>esp</i>/shellx64.efi</code> and selecting "Launch EFI shell from filesystem device".
After successful boot it is possible to create a boot entry using <a href="../../en/GRUB.html#Installation_2" title="GRUB">grub-install</a> or <a href="../../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a>.
</p>
<h3><span class="mw-headline" id="P8Z77_Family">P8Z77 Family</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> This procedure is most likely no longer necessary and you can just create the entry via <a href="../../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a>. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:GRUB/EFI_examples.html">Talk:GRUB/EFI examples</a>)</div>
</div>
<p><a href="../../en/GRUB.html#Installation_2" title="GRUB">Install GRUB</a> and copy the <a href="../../en/Unified_Extensible_Firmware_Interface.html#Obtaining_UEFI_Shell" title="Unified Extensible Firmware Interface">modified UEFI Shell binary</a> to <a href="../../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a>.
</p>
<p>The <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> should contain just two files:
</p>
<pre>/Shell.efi
/EFI/GRUB/grubx64.efi
</pre>
<ul>
<li>Reboot and enter the BIOS (the <code>Delete</code> key will do this).</li>
<li>Using the arrow keys, move to the <i>exit</i> menu and drop down to the <i>EFI shell</i>.</li>
<li>Add an entry for Arch to the menu. Below is an example, see the <a href="../../en/Unified_Extensible_Firmware_Interface.html#Launching_UEFI_Shell" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface#Launching UEFI Shell</a> article for more.</li>
</ul>
<p><b>Within UEFI shell</b>
</p>
<pre>Shell&gt; bcfg boot dump -v
Shell&gt; bcfg boot add 1 FS0:\EFI\GRUB\grubx64.efi "GRUB"
Shell&gt; exit
</pre>
<ul>
<li>Reboot the machine and enter the BIOS.</li>
<li>Navigate to the <i>Boot</i> section and adjust the boot order to with the "GRUB" being the one on the SSD.</li>
<li>Boot to this entry and enjoy.</li>
</ul>
<h3><span class="mw-headline" id="M5A97">M5A97</span></h3>
<p>Finish the standard Arch install procedures, making sure that you partition your boot hard disk as GPT.
</p>
<p><a href="../../en/GRUB.html#Installation_2" title="GRUB">Install GRUB</a> and copy the <a href="../../en/Unified_Extensible_Firmware_Interface.html#Obtaining_UEFI_Shell" title="Unified Extensible Firmware Interface">modified UEFI Shell binary</a> to <a href="../../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a>.
</p>
<p>The reason that we need this shell application is that the <code>efibootmgr</code> command will fail silently during <code>grub-install</code>.
</p>
<p>After this launch the UEFI Shell from the UEFI setup/menu (in ASUS UEFI BIOS, switch to advanced mode, press <i>Exit</i> in the top right corner and choose "Launch EFI shell from filesystem device"). The UEFI shell will show up. From here we need to add our GRUB entry to the NVRAM.
</p>
<pre>Shell&gt; bcfg boot add 3 FS0:\EFI\GRUB\grubx64.efi "GRUB"
</pre>
<p>where <code>FS0:</code> is the mapping corresponding to the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> and <code>3</code> is the zero based boot entry index.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> UEFI Shell commands usually support <code>-b</code> option which makes output pause after each page. <code>map</code> lists recognized filesystems (<code>fs0</code>, ...) and data storage devices (<code>blk0</code>, ...). Run <code>help -b</code> to list available commands. See <a href="../../en/Unified_Extensible_Firmware_Interface.html#Important_UEFI_Shell_commands" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface#Important UEFI Shell commands</a> for more information.</div>
<p>To list the current boot entries you can run:
</p>
<pre>Shell&gt; bcfg boot dump -v
</pre>
<h2><span class="mw-headline" id="Asrock">Asrock</span></h2>
<h3><span class="mw-headline" id="Z97M_Pro4">Z97M Pro4</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> If <i>efibootmgr</i> works when launched from the installed system, why would it not work when <code>grub-install</code> executes it? (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:GRUB/EFI_examples.html">Talk:GRUB/EFI examples</a>)</div>
</div>
<p>This is a similar procedure to Asus Z68 Family. This was tested on a Z97M Pro4 BIOS P1.90.
</p>
<pre># cp <i>esp</i>/EFI/GRUB/grubx64.efi <i>esp</i>/shellx64.efi
</pre>
<p>After this launch the UEFI Shell from the UEFI setup/menu (in ASROCK UEFI BIOS, goto <i>Exit</i> tab and choose "Launch EFI Shell From Filesystem Device"). The GRUB menu will show up and you can boot into your system. Afterwards you can use <i>efibootmgr</i> to setup a menu entry, for example if you have the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> on <code>/dev/sda1</code>:
</p>
<pre># efibootmgr --create --disk /dev/sda --part 1 --write-signature --loader /EFI/GRUB/grubx64.efi --label "GRUB" --unicode
</pre>
<h2><span class="mw-headline" id="Dell">Dell</span></h2>
<h3><span class="mw-headline" id="PowerEdge_T30">PowerEdge T30</span></h3>
<p>The Dell UEFI implementation needs the <a href="../../en/GRUB/Tips_and_tricks.html#UEFI_firmware_workaround" title="GRUB/Tips and tricks">UEFI firmware workaround</a> to load grub. Otherwise it will drop into a "no OS found" screen.
</p>
<h3><span class="mw-headline" id="Latitude_E7450">Latitude E7450</span></h3>
<p>In addition to the <a href="../../en/GRUB/Tips_and_tricks.html#UEFI_firmware_workaround" title="GRUB/Tips and tricks">UEFI firmware workaround</a> (without which GRUB is not launched), the Dell Latitude seems to require to have the EFI system partition mounted on <code>/boot</code>. When ESP is mounted on <code>/efi</code>, GRUB fails to find the configuration files and launches the rescue console.
</p>
<h2><span class="mw-headline" id="MSI">MSI</span></h2>
<p>These MSI motherboards seem to want the EFI program to exist in a different location from where GRUB installs it.  Do one of the following after following the instructions for installing <a href="../../en/GRUB.html" title="GRUB">GRUB</a>:
</p>
<h3><span class="mw-headline" id="B250M_PRO-VH">B250M PRO-VH</span></h3>
<pre># mkdir <i>esp</i>/EFI/BOOT
# cp <i>esp</i>/EFI/grub/grubx64.efi <i>esp</i>/EFI/BOOT/shellx64.efi
</pre>
<h3>
<span id="B150_PC_MATE_.2F_B250_PC_MATE_.2F_H110I_PRO_.2F_Z370_GAMING_PLUS_.2F_MPG_B760I_EDGE_WIFI"></span><span class="mw-headline" id="B150_PC_MATE_/_B250_PC_MATE_/_H110I_PRO_/_Z370_GAMING_PLUS_/_MPG_B760I_EDGE_WIFI">B150 PC MATE / B250 PC MATE / H110I PRO / Z370 GAMING PLUS / MPG B760I EDGE WIFI</span>
</h3>
<p>Install GRUB to the <a href="../../en/GRUB.html#Default/fallback_boot_path" title="GRUB">default/fallback boot path</a>.
</p>
<h2><span class="mw-headline" id="HP">HP</span></h2>
<h3>
<span id="EliteBook_840_G1_.26_Probook_6570b"></span><span class="mw-headline" id="EliteBook_840_G1_&amp;_Probook_6570b">EliteBook 840 G1 &amp; Probook 6570b</span>
</h3>
<p>See <a href="../../en/HP_EliteBook_840_G1.html#UEFI_Setup" title="HP EliteBook 840 G1">HP EliteBook 840 G1#UEFI Setup</a> for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The procedures in the link above probably also work for a range of other HP models.</div>
<h2><span class="mw-headline" id="Intel">Intel</span></h2>
<h3><span class="mw-headline" id="S5400_Family">S5400 Family</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Does it support booting from the default/fallback boot path <code><i>esp</i>/EFI/BOOT/BOOTia32.efi</code>? If it does, the instructions could be simplified. (Discuss in <a rel="nofollow" class="external text" href="../../en/Talk:GRUB/EFI_examples.html">Talk:GRUB/EFI examples</a>)</div>
</div>
<p>This board can run in BIOS or in EFI mode. BIOS mode requires an MBR partitioned hard drive, EFI - a GPT hard drive. Please note that this board operates on the Intel EFI v1.10 specification, and is IA32 (32-bit) only. The normal procedure for UEFI installation can be followed, with the exception of the following changes.
</p>
<ul>
<li>Instead of using the <code>grub-efi-x86_64</code> target, <code>grub-efi-i386</code> has to be used</li>
<li>The <code>bcfg</code> command is not available for pre-UEFI (v2.0) firmware. A <code>startup.nsh</code> file can be used on the root of the <a href="../../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> containing the path to the bootloader. For example: <code>FS0:\EFI\GRUB\grubia32.efi</code> has to be placed in the <code>startup.nsh</code> file on the root of the EFI system partition.</li>
<li>The <code>grub.cfg</code> file has to be placed in the same directory as the grub EFI binary, otherwise GRUB will not find it and enter the interactive shell.</li>
</ul>
<h2><span class="mw-headline" id="Lenovo">Lenovo</span></h2>
<h3><span class="mw-headline" id="K450_IdeaCentre">K450 IdeaCentre</span></h3>
<p>The EFI system partition requires the file <code>\EFI\BOOT\BOOTx64.efi</code> to be present in order to boot, otherwise you will receive "Error 1962: No operating system found. Boot sequence will automatically repeat."
</p>
<p>Install GRUB to the <a href="../../en/GRUB.html#Default/fallback_boot_path" title="GRUB">default/fallback boot path</a>.
</p>
<p>This is a workaround for what is likely a bug in the UEFI implementation.
</p>
<h3><span class="mw-headline" id="M92p_ThinkCentre">M92p ThinkCentre</span></h3>
<p>This system whitelists UEFI boot entries. It will boot from a entry called "Red Hat Enterprise Linux" or "Windows Boot Manager"(Jan. 2021). So specify the bootloader-id appropriately:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --bootloader-id="Red Hat Enterprise Linux" --recheck --debug
</pre>
<p>or
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --bootloader-id="Windows Boot Manager" --recheck --debug
</pre>
<p>It is also possible to edit your EFI config with efibootmgr.
First, list your boot entries:
</p>
<pre># efibootmgr
</pre>
<p>Delete old entry for Windows Boot Manager:
</p>
<pre># efibootmgr -Bb 0000
</pre>
<p>Now create a new bootentry which points to your desired bootloader on your hard drive. Be aware: -p defines on which partition your EFI system partition lies.
</p>
<pre># efibootmgr -c -d /dev/sda -p 1 -L "Windows Boot Manager" -l "\EFI\boot\grubx64.efi"
</pre>
<p>This will set up your EFI to boot the entry "Windows Boot Manager" and load the grub bootloader.
</p>
<h3><span class="mw-headline" id="X270_Thinkpad">X270 Thinkpad</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> There is no need to do anything special for UEFI booting on this laptop. (Discuss in <a href="../../en/Talk:GRUB/EFI_examples.html#X270" title="Talk:GRUB/EFI examples">Talk:GRUB/EFI examples#X270</a>)</div>
</div>
<p>Install GRUB to the <a href="../../en/GRUB.html#Default/fallback_boot_path" title="GRUB">default/fallback boot path</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Boot_loaders.html" title="Category:Boot loaders">Boot loaders</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GRUB/EFI_examples&amp;oldid=808647">https://wiki.archlinux.org/index.php?title=GRUB/EFI_examples&amp;oldid=808647</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 18 May 2024, at 11:34.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
