<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GDM - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GDM rootpage-GDM skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Starting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Starting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Starting</div>
		</a>
		
			<button aria-controls="toc-Starting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Starting subsection</span>
			</button>
		
		<ul id="toc-Starting-sublist" class="vector-toc-list">
			<li id="toc-Autostarting_applications" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Autostarting_applications">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Autostarting applications</div>
			</a>
			
			<ul id="toc-Autostarting_applications-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Login_screen_background_image" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Login_screen_background_image">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Login screen background image</div>
			</a>
			
			<ul id="toc-Login_screen_background_image-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-dconf_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#dconf_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>dconf configuration</div>
			</a>
			
			<ul id="toc-dconf_configuration-sublist" class="vector-toc-list">
				<li id="toc-Login_screen_logo" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Login_screen_logo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Login screen logo</div>
			</a>
			
			<ul id="toc-Login_screen_logo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Changing_the_cursor_theme" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Changing_the_cursor_theme">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Changing the cursor theme</div>
			</a>
			
			<ul id="toc-Changing_the_cursor_theme-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Changing_the_icon_theme" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Changing_the_icon_theme">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3</span>Changing the icon theme</div>
			</a>
			
			<ul id="toc-Changing_the_icon_theme-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Larger_font_for_log-in_screen" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Larger_font_for_log-in_screen">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.4</span>Larger font for log-in screen</div>
			</a>
			
			<ul id="toc-Larger_font_for_log-in_screen-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Turning_off_the_sound" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Turning_off_the_sound">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.5</span>Turning off the sound</div>
			</a>
			
			<ul id="toc-Turning_off_the_sound-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_power_button_behavior" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configure_power_button_behavior">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.6</span>Configure power button behavior</div>
			</a>
			
			<ul id="toc-Configure_power_button_behavior-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enabling_tap-to-click" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enabling_tap-to-click">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.7</span>Enabling tap-to-click</div>
			</a>
			
			<ul id="toc-Enabling_tap-to-click-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disable/Enable_Accessibility_Menu" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disable/Enable_Accessibility_Menu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.8</span>Disable/Enable Accessibility Menu</div>
			</a>
			
			<ul id="toc-Disable/Enable_Accessibility_Menu-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_Night_Light_on_GDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_Night_Light_on_GDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.9</span>Enable Night Light on GDM</div>
			</a>
			
			<ul id="toc-Enable_Night_Light_on_GDM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Keyboard_layout" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Keyboard_layout">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Keyboard layout</div>
			</a>
			
			<ul id="toc-Keyboard_layout-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Change_the_language" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Change_the_language">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Change the language</div>
			</a>
			
			<ul id="toc-Change_the_language-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Users_and_login" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Users_and_login">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Users and login</div>
			</a>
			
			<ul id="toc-Users_and_login-sublist" class="vector-toc-list">
				<li id="toc-Automatic_login" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Automatic_login">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>Automatic login</div>
			</a>
			
			<ul id="toc-Automatic_login-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Passwordless_login" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Passwordless_login">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.2</span>Passwordless login</div>
			</a>
			
			<ul id="toc-Passwordless_login-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Passwordless_shutdown_for_multiple_sessions" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Passwordless_shutdown_for_multiple_sessions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.3</span>Passwordless shutdown for multiple sessions</div>
			</a>
			
			<ul id="toc-Passwordless_shutdown_for_multiple_sessions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Enable_root_login_in_GDM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enable_root_login_in_GDM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.4</span>Enable root login in GDM</div>
			</a>
			
			<ul id="toc-Enable_root_login_in_GDM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hide_user_from_login_list" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Hide_user_from_login_list">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.5</span>Hide user from login list</div>
			</a>
			
			<ul id="toc-Hide_user_from_login_list-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Remote_login_via_RDP" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Remote_login_via_RDP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.6</span>Remote login via RDP</div>
			</a>
			
			<ul id="toc-Remote_login_via_RDP-sublist" class="vector-toc-list">
				<li id="toc-Via_Graphical_Interface" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Via_Graphical_Interface">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.6.1</span>Via Graphical Interface</div>
			</a>
			
			<ul id="toc-Via_Graphical_Interface-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Via_CLI" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Via_CLI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.6.2</span>Via CLI</div>
			</a>
			
			<ul id="toc-Via_CLI-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Setup_default_monitor_settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setup_default_monitor_settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Setup default monitor settings</div>
			</a>
			
			<ul id="toc-Setup_default_monitor_settings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_X_server_access_permission" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_X_server_access_permission">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Configure X server access permission</div>
			</a>
			
			<ul id="toc-Configure_X_server_access_permission-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Wayland_and_the_proprietary_NVIDIA_driver" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wayland_and_the_proprietary_NVIDIA_driver">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Wayland and the proprietary NVIDIA driver</div>
			</a>
			
			<ul id="toc-Wayland_and_the_proprietary_NVIDIA_driver-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Failure_on_logout" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Failure_on_logout">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Failure on logout</div>
			</a>
			
			<ul id="toc-Failure_on_logout-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rootless_Xorg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rootless_Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Rootless Xorg</div>
			</a>
			
			<ul id="toc-Rootless_Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_Xorg_backend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use_Xorg_backend">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Use Xorg backend</div>
			</a>
			
			<ul id="toc-Use_Xorg_backend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Incomplete_removal_of_gdm" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Incomplete_removal_of_gdm">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Incomplete removal of gdm</div>
			</a>
			
			<ul id="toc-Incomplete_removal_of_gdm-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM_auto-suspend_(GNOME_3.28)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GDM_auto-suspend_(GNOME_3.28)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>GDM auto-suspend (GNOME 3.28)</div>
			</a>
			
			<ul id="toc-GDM_auto-suspend_(GNOME_3.28)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM_ignores_Wayland_and_uses_X.Org_by_default" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GDM_ignores_Wayland_and_uses_X.Org_by_default">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>GDM ignores Wayland and uses X.Org by default</div>
			</a>
			
			<ul id="toc-GDM_ignores_Wayland_and_uses_X.Org_by_default-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Black_screen_on_AMD_or_Intel_GPUs_when_an_NVIDIA_(e)GPU_is_present" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Black_screen_on_AMD_or_Intel_GPUs_when_an_NVIDIA_(e)GPU_is_present">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Black screen on AMD or Intel GPUs when an NVIDIA (e)GPU is present</div>
			</a>
			
			<ul id="toc-Black_screen_on_AMD_or_Intel_GPUs_when_an_NVIDIA_(e)GPU_is_present-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GDM_cannot_be_enabled" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GDM_cannot_be_enabled">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>GDM cannot be enabled</div>
			</a>
			
			<ul id="toc-GDM_cannot_be_enabled-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GDM</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Login-Manager#GDM" title="Login-Manager – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/GDM.html" title="GDM – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/GDM" title="GDM – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/GDM.html" title="GDM – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/GDM" title="GDM – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/GNOME.html" title="GNOME">GNOME</a></li>
<li><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
</ul>
</div>
<p>From <a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/GDM">GDM - GNOME Display Manager</a>: "The GNOME Display Manager (GDM) is a program that manages graphical display servers and handles graphical user logins."
</p>
<p><a href="../en/Display_manager.html" title="Display manager">Display managers</a> provide <a href="../en/Xorg.html" class="mw-redirect" title="X Window System">X Window System</a> and <a href="../en/Wayland.html" title="Wayland">Wayland</a> users with a graphical login prompt.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>GDM can be <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a> with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gdm">gdm</a></span> package, and is installed as part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/gnome/">gnome</a></span> group.
</p>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<p>To start GDM at boot time, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>gdm.service</code>.
</p>
<h3><span class="mw-headline" id="Autostarting_applications">Autostarting applications</span></h3>
<p>To automatically start applications after logging in, follow the instructions in <a href="../en/Autostarting.html#On_desktop_environment_startup" title="Autostarting">Autostarting#On desktop environment startup</a> that pertain to your desktop environment.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Most of the configuration options listed below can be easily set using the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gdm-settings/">gdm-settings</a></span><sup><small>AUR</small></sup> GUI application.</div>
<h3><span class="mw-headline" id="Login_screen_background_image">Login screen background image</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Configuration is not persistent and changes will be undone after an update of GNOME Shell. Suggestion: Rewrite to use the "User Themes" Gnome extension. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:GDM.html">Talk:GDM</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Since GNOME 3.16, GNOME Shell themes are now stored as binary files (gresource).</li>
<li>This change will be overwritten on subsequent updates of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-shell">gnome-shell</a></span>.</li>
</ul>
</div>
<p>Firstly, you need to extract the existing GNOME Shell theme to a directory in your home directory. You can do this using the following script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">extractgst.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
gst=/usr/share/gnome-shell/gnome-shell-theme.gresource
workdir=${HOME}/shell-theme

for r in `gresource list $gst`; do
	r=${r#\/org\/gnome\/shell/}
	if [ ! -d $workdir/${r%/*} ]; then
	  mkdir -p $workdir/${r%/*}
	fi
done

for r in `gresource list $gst`; do
        gresource extract $gst $r &gt;$workdir/${r#\/org\/gnome\/shell/}
done</pre>
<p>Navigate to the created directory. You should find that the theme files have been extracted to it. Now copy your preferred background image to this directory.
</p>
<p>Next, you need to create a file in the directory with the following content:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">gnome-shell-theme.gresource.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;gresources&gt;
  &lt;gresource prefix="/org/gnome/shell/theme"&gt;
    &lt;file&gt;calendar-today.svg&lt;/file&gt;
    &lt;file&gt;calendar-today-light.svg&lt;/file&gt;
    &lt;file&gt;checkbox.svg&lt;/file&gt;
    &lt;file&gt;checkbox-focused.svg&lt;/file&gt;
    &lt;file&gt;checkbox-off-focused-light.svg&lt;/file&gt;
    &lt;file&gt;checkbox-off-focused.svg&lt;/file&gt;
    &lt;file&gt;checkbox-off-light.svg&lt;/file&gt;
    &lt;file&gt;checkbox-off.svg&lt;/file&gt;
    &lt;file&gt;gnome-shell.css&lt;/file&gt;
    &lt;file&gt;gnome-shell-high-contrast.css&lt;/file&gt;
    &lt;file&gt;gnome-shell-start.svg&lt;/file&gt;
    &lt;file&gt;pad-osd.css&lt;/file&gt;
    &lt;file&gt;process-working.svg&lt;/file&gt;
    &lt;file&gt;toggle-off.svg&lt;/file&gt;
    &lt;file&gt;toggle-off-hc.svg&lt;/file&gt;
    &lt;file&gt;toggle-off-light.svg&lt;/file&gt;
    &lt;file&gt;toggle-on.svg&lt;/file&gt;
    &lt;file&gt;toggle-on-hc.svg&lt;/file&gt;
    &lt;file&gt;toggle-on-light.svg&lt;/file&gt;
    &lt;file&gt;workspace-placeholder.svg&lt;/file&gt;
    &lt;file&gt;<b>filename</b>&lt;/file&gt;
  &lt;/gresource&gt;
&lt;/gresources&gt;</pre>
<p>Replace <b>filename</b> with the filename of your background image or remove the line to use a hex color value instead.
</p>
<p>Now, open the <code>gnome-shell.css</code> file in the directory and change the <code>#lockDialogGroup</code> definition as follows:
</p>
<pre>#lockDialogGroup {
  background: url(<b>filename</b>);
  background-size: <b>width</b>px <b>height</b>px;
  background-repeat: no-repeat;
}
</pre>
<p>Set <code>background-size</code> to the resolution that GDM uses; this might not necessarily be the resolution of the image. For a list of display resolutions, see <a href="https://en.wikipedia.org/wiki/Display_resolution#Computer_monitors" class="extiw" title="wikipedia:Display resolution">Display resolution</a>. Again, set <b>filename</b> to be the name of the background image.
</p>
<p>If you only want to change the background color, adjust the <code>#lockDialogGroup</code> definition as follows:
</p>
<pre>#lockDialogGroup {
  background-color: #<b>color</b>;
}
</pre>
<p>where <b>color</b> is the new hex-encoded background color.
</p>
<p>Next, compile the theme using the following command:
</p>
<pre>$ glib-compile-resources gnome-shell-theme.gresource.xml
</pre>
<p>Then, copy the resulting <code>gnome-shell-theme.gresource</code> file to the <code>/usr/share/gnome-shell</code> directory.
</p>
<p>Finally, restart <code>gdm.service</code> (note that simply logging out is not enough) and you should find that it is using your preferred background image.
</p>
<p>For more information, please see the following <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=197036">forum thread</a>. A shell script to automate the above steps is available on <a rel="nofollow" class="external text" href="https://github.com/DimaZirix/fedora-gdm-wallpaper">DimaZirix's github repository</a>.
</p>
<h3><span class="mw-headline" id="dconf_configuration">dconf configuration</span></h3>
<p>Some GDM settings are stored in a <a href="../en/GNOME.html#Configuration" class="mw-redirect" title="Dconf">dconf</a> database. They can be configured either by adding <i>keyfiles</i> to the <code>/etc/dconf/db/gdm.d</code> directory and then recompiling the GDM database by running <code>dconf update</code> as root or by logging into the GDM user on the system and changing the setting directly using the <i>gsettings</i> command line tool. Note that for the former approach, a GDM profile file is required—this must be created manually as it is no longer shipped upstream, see below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/profile/gdm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">user-db:user
system-db:gdm
file-db:/usr/share/gdm/greeter-dconf-defaults
</pre>
<p>For the latter approach, you can log into the GDM user with the command below:
</p>
<pre># machinectl shell gdm@ /bin/bash
</pre>
<h4><span class="mw-headline" id="Login_screen_logo">Login screen logo</span></h4>
<p>Create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/02-logo</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/login-screen]
logo='<i>/path/to/logo.png</i>'</pre>
<p>Then recompile the GDM database. 
</p>
<p>Alternatively, execute the following as the GDM user to change the logo:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.login-screen logo '<i>/path/to/logo.png</i>'
</pre>
<p>To disable the logo, you can set the value to an empty string:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.login-screen logo ''
</pre>
<h4><span class="mw-headline" id="Changing_the_cursor_theme">Changing the cursor theme</span></h4>
<p>GDM disregards <a href="../en/GNOME.html" title="GNOME">GNOME</a> cursor theme settings and it also ignores the cursor theme set according to the <a href="../en/Cursor_themes.html#The_default_cursor_theme" title="Cursor themes">XDG specification</a>. To change the cursor theme used in GDM, create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/10-cursor-settings</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/interface]
cursor-theme='<i>theme-name</i>'</pre>
<p>Then recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and change the cursor theme:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.interface cursor-theme '<i>theme-name</i>'
</pre>
<h4><span class="mw-headline" id="Changing_the_icon_theme">Changing the icon theme</span></h4>
<p>The same methods can be used to change the icon theme. Create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/11-icon-settings</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/interface]
icon-theme='<i>theme-name</i>'</pre>
<p>Then, recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and change the icon theme:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.interface icon-theme '<i>theme-name</i>'
</pre>
<h4><span class="mw-headline" id="Larger_font_for_log-in_screen">Larger font for log-in screen</span></h4>
<p>Click on the accessibility icon at the top right of the screen (a white circle with the silhouette of a person in the centre) and check the <i>Large Text</i> option.
</p>
<p>To set a specific scaling factor, create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/03-scaling</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/interface]
text-scaling-factor='<i>1.25</i>'</pre>
<p>Then recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and change the font:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.interface text-scaling-factor '<i>1.25</i>'
</pre>
<h4><span class="mw-headline" id="Turning_off_the_sound">Turning off the sound</span></h4>
<p>This tweak disables the audible feedback heard when the system volume is adjusted (via keyboard) on the login screen.
</p>
<p>Create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/04-sound</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/sound]
event-sounds=false</pre>
<p>Then recompile the GDM database. Alternatively execute the following as the GDM user temporarily and turn off the sound:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.sound event-sounds 'false'
</pre>
<h4><span class="mw-headline" id="Configure_power_button_behavior">Configure power button behavior</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The <a href="../en/Power_management.html#ACPI_events" title="Power management">logind settings</a> for the power button are overriden by GNOME Settings Daemon. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=755953#c4">[1]</a>
</li>
<li>As of GDM 3.18, the power button cannot be set to <i>interactive</i>. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=753713#c6">[2]</a>
</li>
<li>In some cases, this setting will be ignored and hardcoded defaults will be used. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=755953#c17">[3]</a>
</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Please note that the <a href="../en/Acpid.html" title="Acpid">acpid</a> daemon also handles the "power button" and "hibernate button" events. Running both systems at the same time may lead to unexpected behaviour.</div>
<p>Create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/05-power</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/settings-daemon/plugins/power]
power-button-action='<i>action</i>'</pre>
<p>Then recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and configure the behavior:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.settings-daemon.plugins.power power-button-action '<i>action</i>'
</pre>
<p>where <i>action</i> can be one of <code>nothing</code>, <code>suspend</code> or <code>hibernate</code>.
</p>
<h4><span class="mw-headline" id="Enabling_tap-to-click">Enabling tap-to-click</span></h4>
<p>Tap-to-click is disabled in GDM (and GNOME) by default, but you can easily enable it with a dconf setting.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you want to do this under X, you have to first set up correct X server access permissions—see <a href="#Configure_X_server_access_permission">#Configure X server access permission</a>.</div>
<p>To enable tap-to-click, create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/06-tap-to-click</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/peripherals/touchpad]
tap-to-click=true</pre>
<p>Then recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and enable the action:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.peripherals.touchpad tap-to-click 'true'
</pre>
<h4>
<span id="Disable.2FEnable_Accessibility_Menu"></span><span class="mw-headline" id="Disable/Enable_Accessibility_Menu">Disable/Enable Accessibility Menu</span>
</h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> As of GDM 43, the configuration key below does not work (yet, the docs still reference it <a rel="nofollow" class="external autonumber" href="https://help.gnome.org/admin/gdm/3.26/configuration.html.en#accessibilityconfiguration">[4]</a>.) Instead, use the key <code>org.gnome.desktop.a11y.applications screen-keyboard-enabled true</code>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:GDM.html">Talk:GDM</a>)</div>
</div>
<p>To disable or enable the Accessibility Menu, create the following keyfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dconf/db/gdm.d/07-accessibility</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[org/gnome/desktop/interface]
toolkit-accessibility='<i>boolean</i>'</pre>
<p>Then recompile the GDM database. Alternatively, execute the following as the GDM user temporarily and change the status:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.desktop.interface toolkit-accessibility '<i>boolean</i>'
</pre>
<p>The menu is disabled when the key is <code>false</code>, enabled when it is <code>true</code>.
</p>
<h4><span class="mw-headline" id="Enable_Night_Light_on_GDM">Enable Night Light on GDM</span></h4>
<p>To enable <a href="../en/GNOME.html#Night_Light" title="GNOME">Night Light</a> on GDM, run
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.settings-daemon.plugins.color night-light-enabled true</pre>
<h3><span class="mw-headline" id="Keyboard_layout">Keyboard layout</span></h3>
<p>The system keyboard layout will be applied to GDM. You can use <code>localectl set-x11-keymap</code> to specify the keyboard layout. See <a href="../en/Xorg/Keyboard_configuration.html#Setting_keyboard_layout" class="mw-redirect" title="Keyboard configuration in Xorg">Keyboard configuration in Xorg#Setting keyboard layout</a> for details.
</p>
<h3><span class="mw-headline" id="Change_the_language">Change the language</span></h3>
<p>The system language will be applied to GDM. If a system has multiple users, it is possible to set a language for GDM different to the system language. In this case, firstly ensure that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-control-center">gnome-control-center</a></span> is installed. Then, start <i>gnome-control-center</i> and choose <i>Region &amp; Language</i>. In the header bar, check the <i>Login Screen</i> toggle button. Finally, click on <i>Language</i> and choose your language from the list. You will be prompted for your root password. Note that the <i>Login Screen</i> button will not be visible in the header bar unless multiple users are present on the system <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=741500">[5]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> By adding 2 different input languages, logging out then selecting your default language GDM will remember your choice once the second option is removed.</div>
<h3><span class="mw-headline" id="Users_and_login">Users and login</span></h3>
<h4><span class="mw-headline" id="Automatic_login">Automatic login</span></h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Do not attempt to do this for users managed by <a href="../en/Systemd-homed.html" title="Systemd-homed">systemd-homed</a>. This is currently <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/20844">not implemented</a> and will crash GDM.</div>
<p>To enable automatic login with GDM, add the following to <code>/etc/gdm/custom.conf</code> (replace <code><i>username</i></code> with your own):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/gdm/custom.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Enable automatic login for user
[daemon]
AutomaticLogin=<i>username</i>
AutomaticLoginEnable=True</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If GDM fails after adding these lines, comment them out from a TTY.</div>
<p>or for an automatic login with a delay:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/gdm/custom.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[daemon]
TimedLoginEnable=true
TimedLogin=<i>username</i>
TimedLoginDelay=1</pre>
<p>You can set the session used for automatic login (replace <code>gnome-xorg</code> with desired session):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/AccountsService/users/<i>username</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">XSession=gnome-xorg</pre>
<h4><span class="mw-headline" id="Passwordless_login">Passwordless login</span></h4>
<p>If you want to bypass the password prompt in GDM then simply add the following line on the first line of <code>/etc/pam.d/gdm-password</code>:
</p>
<pre>auth sufficient pam_succeed_if.so user ingroup nopasswdlogin
</pre>
<p>Then, add the group <code>nopasswdlogin</code> to your system. See <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">User group</a> for group descriptions and group management commands.
</p>
<p>Now, add your user to the <code>nopasswdlogin</code> group and you will only have to click on your username to login.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Do <b>not</b> do this for a <b>root</b> account.</li>
<li>You will not be able to change your session type at login with GDM anymore. If you want to change your default session type, you will first need to remove your user from the <code>nopasswdlogin</code> group.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Passwordless_shutdown_for_multiple_sessions">Passwordless shutdown for multiple sessions</span></h4>
<p>GDM uses polkit and logind to gain permissions for shutdown. You can shutdown the system when multiple users are logged in by setting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/localauthority.conf.d/org.freedesktop.logind.policy</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE policyconfig PUBLIC
 "-//freedesktop//DTD PolicyKit Policy Configuration 1.0//EN"
 "http://www.freedesktop.org/software/polkit/policyconfig-1.dtd"&gt;

&lt;!--
Policy definitions for logind
 --&gt;

&lt;policyconfig&gt;

  &lt;action id="org.freedesktop.login1.power-off-multiple-sessions"&gt;
    &lt;description&gt;Shutdown the system when multiple users are logged in&lt;/description&gt;
    &lt;message&gt;System policy prevents shutting down the system when other users are logged in&lt;/message&gt;
    &lt;defaults&gt;
      &lt;allow_inactive&gt;yes&lt;/allow_inactive&gt;
      &lt;allow_active&gt;yes&lt;/allow_active&gt;
    &lt;/defaults&gt;
  &lt;/action&gt;

&lt;/policyconfig&gt;
</pre>
<p>You can find all available logind options (e.g. reboot-multiple-sessions) in <span class="plainlinks archwiki-template-man" title="$ man 5 org.freedesktop.login1"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/org.freedesktop.login1.5">org.freedesktop.login1(5)</a></span>.
</p>
<h4><span class="mw-headline" id="Enable_root_login_in_GDM">Enable root login in GDM</span></h4>
<p>It is not advised to login as root, but if necessary you can edit <code>/etc/pam.d/gdm-password</code> and add the following line before the line <code>auth required pam_deny.so</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/gdm-password</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">auth            sufficient      pam_succeed_if.so uid eq 0 quiet
</pre>
<p>The file should look something like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/gdm-password</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
auth            sufficient      pam_succeed_if.so uid eq 0 quiet
auth            sufficient      pam_succeed_if.so uid &gt;= 1000 quiet
auth            required        pam_deny.so
...</pre>
<p>You should be able to login as root after restarting GDM.
</p>
<h4><span class="mw-headline" id="Hide_user_from_login_list">Hide user from login list</span></h4>
<p>The users for the gdm user list are gathered by <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/AccountsService/">AccountsService</a>. It will automatically hide system users (UID &lt; 1000). To hide ordinary users from the login list create or edit a file named after the user to hide in <code>/var/lib/AccountsService/users/</code> to contain at least:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/AccountsService/users/<i>username</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[User]
SystemAccount=true</pre>
<p><br>
</p>
<h4><span class="mw-headline" id="Remote_login_via_RDP">Remote login via RDP</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Currently, only headless sessions can be created remotely.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Only one graphical session can exist at a time. Attempting to create a new session will prompt to kill the other one, if it exists.</div>
<h5><span class="mw-headline" id="Via_Graphical_Interface">Via Graphical Interface</span></h5>
<p>Remote login can be configured via graphical interface by navigating to <i>System &gt; Remote Desktop &gt; Remote Login</i> in Gnome Settings app.
</p>
<h5><span class="mw-headline" id="Via_CLI">Via CLI</span></h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To function, Gnome Remote Desktop requires both TLS certificates and credentials. Unless they were set before, both will be missing and need to be set manually.</div>
<p>To display current status and credentials, the following command can be used:
</p>
<pre># grdctl --system status --show-credentials
</pre>
<p>To set credentials:
</p>
<pre># grdctl --system rdp set-credentials <i>rdp_login</i> <i>rdp_password</i>
</pre>
<p>To generate new TLS key and certificate:
</p>
<pre># winpr-makecert3 -rdp -path /etc/gnome-remote-desktop -n rdp-tls
</pre>
<p>If <code>-n rdp-tls</code> part is omitted, <i>hostname</i> will be used as the name instead.
</p>
<p>To set TLS key and certificate:
</p>
<pre># grdctl --system rdp set-tls-key /etc/gnome-remote-desktop/rdp-tls.key
# grdctl --system rdp set-tls-cert /etc/gnome-remote-desktop/rdp-tls.crt
</pre>
<p>Finally, to enable Remote Login:
</p>
<pre># grdctl --system rdp enable
</pre>
<h3><span class="mw-headline" id="Setup_default_monitor_settings">Setup default monitor settings</span></h3>
<p>Some <a href="../en/Desktop_environment.html" class="mw-redirect" title="Desktop environments">desktop environments</a> store display settings in <code>~/.config/monitors.xml</code>. <i>xrandr</i> commands are then generated on the base of the file content. GDM has a similar file stored in <code>/var/lib/gdm/.config/monitors.xml</code>.
</p>
<p>If you have your monitors setup as you like (resolution, refresh rate, orientation, scaling, primary and so on) in <code>~/.config/monitors.xml</code> and want GDM to honor those settings:
</p>
<pre># cp ~/.config/monitors.xml /var/lib/gdm/.config/
</pre>
<p>To automatically re-configure the monitor setup on each boot, use a <a href="../en/Systemd.html#Drop-in_files" class="mw-redirect" title="Drop-in file">drop-in file</a> for <code>gdm.service</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/gdm.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStartPre=/bin/cp /home/<i>user</i>/.config/monitors.xml /var/lib/gdm/.config/monitors.xml</pre>
<p>The relevant parts of <code>monitors.xml</code> for screen rotation and scaling are:
</p>
<pre>&lt;monitors version="2"&gt;
  &lt;configuration&gt;
    &lt;logicalmonitor&gt;
      ...
      &lt;scale&gt;2&lt;/scale&gt;
      ...
      &lt;transform&gt;
        &lt;rotation&gt;right&lt;/rotation&gt;
        &lt;flipped&gt;no&lt;/flipped&gt;
      &lt;/transform&gt;
      ...
    &lt;/logicalmonitor&gt;
  &lt;/configuration&gt;
&lt;/monitors&gt;
</pre>
<p>Changes will take effect on logout. This is necessary because GDM does not respect <code>xorg.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>If you use GDM under Wayland, you must also use a <code>monitors.xml</code> that was created under Wayland. See <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gdm/issues/224">GDM bug 224</a> for more info. Alternatively, you can force GDM to <a href="#Use_Xorg_backend">#Use Xorg backend</a>, and use a <code>monitors.xml</code> that was created under Xorg.</li>
<li>If you use <a href="../en/HiDPI.html#Fractional_scaling" title="HiDPI">fractional scaling</a>, you need to enable it for user <code>gdm</code>,</li>
</ul>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.mutter experimental-features "['scale-monitor-framebuffer']"
</pre>
</div>
<h3><span class="mw-headline" id="Configure_X_server_access_permission">Configure X server access permission</span></h3>
<p>You can use the <code>xhost</code> command to configure X server access permissions.
</p>
<p>For instance, to grant GDM the right to access the X server, use the following command:
</p>
<pre># xhost +SI:localuser:gdm</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Wayland_and_the_proprietary_NVIDIA_driver">Wayland and the proprietary NVIDIA driver</span></h3>
<p>To use Wayland in GDM with the <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> driver, you must fulfill the three following conditions:
</p>
<ul>
<li>enable <a href="../en/NVIDIA.html#DRM_kernel_mode_setting" title="NVIDIA">DRM KMS</a>,</li>
<li>
<a href="../en/Wayland.html#Requirements" title="Wayland">configure Wayland</a>,</li>
<li>follow <a href="../en/NVIDIA/Tips_and_tricks.html#Preserve_video_memory_after_suspend" title="NVIDIA/Tips and tricks">NVIDIA/Tips and tricks#Preserve video memory after suspend</a>.</li>
</ul>
<p>As of GDM 42 and NVIDIA driver 510, GDM defaults to Wayland. For older NVIDIA drivers (in between version 470 and 510), GDM has chipset-dependent <a rel="nofollow" class="external text" href="https://gitlab.gnome.org/GNOME/gdm/-/blob/main/data/61-gdm.rules.in">udev rules</a> to use Xorg rather than Wayland. To force-enable Wayland, instead of following the three regular steps above, override these rules by creating the following symlink:
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/61-gdm.rules
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This command works because rules in <code>/etc/udev/rules.d/</code> override those in <code>/usr/lib/udev/rules.d/</code> (see <a href="../en/Udev.html#About_udev_rules" title="Udev">udev#About udev rules</a>). It is also advised to modify files in <code>/etc/</code> rather than in <code>/usr/</code> as those are managed by <a href="../en/Pacman.html" title="Pacman">pacman</a>.</div>
<p>If, instead of GDM, a black screen appears, try disabling integrated graphics in your computer's BIOS settings.
</p>
<p>In some cases, GNOME fails to start and transfers control back to GDM, which in turn causes the login screen to reappear. You may try setting the following environment variable as suggested in <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=2126478">BBS#2126478</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MUTTER_DEBUG_KMS_THREAD_TYPE=user</pre>
<h3><span class="mw-headline" id="Failure_on_logout">Failure on logout</span></h3>
<p>If GDM starts up properly on boot, but fails after repeated attempts on logout, try adding this line to the daemon section of <code>/etc/gdm/custom.conf</code>:
</p>
<pre>GdmXserverTimeout=60
</pre>
<h3><span class="mw-headline" id="Rootless_Xorg">Rootless Xorg</span></h3>
<p>See <a href="../en/Xorg.html#Rootless_Xorg" title="Xorg">Xorg#Rootless Xorg</a>.
</p>
<h3><span class="mw-headline" id="Use_Xorg_backend">Use Xorg backend</span></h3>
<p>The <a href="../en/Wayland.html" title="Wayland">Wayland</a> backend is used by default, and the <a href="../en/Xorg.html" title="Xorg">Xorg</a> backend is used only if the Wayland backend cannot be started. You may wish to use the Xorg backend instead if, for example:
</p>
<ul><li>GDM <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1869534#p1869534">crashes</a>
</li></ul>
<p>To use the Xorg backend by default, uncomment the following line in <code>/etc/gdm/custom.conf</code>:
</p>
<pre>#WaylandEnable=false
</pre>
<h3><span class="mw-headline" id="Incomplete_removal_of_gdm">Incomplete removal of gdm</span></h3>
<p>After removing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gdm">gdm</a></span>, <a href="../en/Systemd.html" title="Systemd">systemd</a> may report the following:
</p>
<pre>user 'gdm': directory '/var/lib/gdm' does not exist
</pre>
<p>To remove this warning, login as root and <a href="../en/Users_and_groups.html#Other_examples_of_user_management" title="Users and groups">delete the primary user</a> <code>gdm</code> and then <a href="../en/Users_and_groups.html#Group_management" title="Users and groups">delete the group</a> <code>gdm</code>:
</p>
<p>Verify that <code>gdm</code> is successfully removed via <code>pwck</code> and <code>grpck</code> with root privileges. To round it off, you may want to double-check no <a href="../en/Pacman/Tips_and_tricks.html#Identify_files_not_owned_by_any_package" title="Pacman/Tips and tricks">unowned files</a> for <i>gdm</i> remain.
</p>
<h3>
<span id="GDM_auto-suspend_.28GNOME_3.28.29"></span><span class="mw-headline" id="GDM_auto-suspend_(GNOME_3.28)">GDM auto-suspend (GNOME 3.28)</span>
</h3>
<p>GDM uses a separate dconf database to control power management. To apply your user's power settings, copy them to GDM's dconf database:
</p>
<pre>$ IFS=$'\n'; for x in $(sudo -u <i>username</i> gsettings list-recursively org.gnome.settings-daemon.plugins.power); do eval "sudo -u gdm dbus-launch gsettings set $x"; done; unset IFS
</pre>
<p>where <code><i>username</i></code> is your username.
</p>
<p>To only disable auto-suspend on AC, run:
</p>
<pre>[gdm]$ dbus-launch gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type 'nothing'
</pre>
<p>(To also disable auto-suspend on battery, run the command with <code>battery</code> instead of <code>ac</code>.)
</p>
<p>Restart GDM to activate your changes.
</p>
<h3><span class="mw-headline" id="GDM_ignores_Wayland_and_uses_X.Org_by_default">GDM ignores Wayland and uses X.Org by default</span></h3>
<p>Wayland requires Kernel Mode Setting (KMS) running in order to work, and on some machines the GDM process start earlier than KMS, resulting in GDM unable to see Wayland and working only with X.Org. This might result in messages like the following showing up in your log:
</p>
<pre>gnome-shell[569]: Failed to open gpu '/dev/dri/card0': GDBus.Error:org.freedesktop.DBus.Error.AccessDenied: Operation not permitted
gnome-shell[569]: Failed to create backend: No GPUs found
systemd[505]: org.gnome.Shell@wayland.service: Failed with result 'protocol'.
systemd[505]: Failed to start GNOME Shell on Wayland.
</pre>
<p>Alternatively, the same issue may lead to GDM not appearing or monitor only displaying the TTY output.
</p>
<p>You can solve this problem by <a href="../en/Kernel_mode_setting.html#Early_KMS_start" title="Kernel mode setting">starting KMS earlier</a>. You may also wish to just verify that Wayland is enabled in the GDM config (<a href="#Use_Xorg_backend">see above</a>).
</p>
<p>Also, if you use a <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> driver, the Wayland session might be blocked by a <a href="../en/Udev.html" title="Udev">udev</a> rule (see the notes under <a href="../en/GNOME.html#Wayland_sessions" title="GNOME">GNOME#Wayland sessions</a>). This might result in messages like the following:
</p>
<pre>systemd[1022]: Condition check resulted in GNOME Shell on Wayland being skipped.
systemd[1022]: org.gnome.Shell@wayland.service: Skipped due to 'exec-condition'.
systemd[1022]: org.gnome.Shell@wayland.service: Control process exited, code=exited, status=2/INVALIDARGUMENT
</pre>
<p>See <a href="#Wayland_and_the_proprietary_NVIDIA_driver">#Wayland and the proprietary NVIDIA driver</a> for a workaround.
</p>
<h3>
<span id="Black_screen_on_AMD_or_Intel_GPUs_when_an_NVIDIA_.28e.29GPU_is_present"></span><span class="mw-headline" id="Black_screen_on_AMD_or_Intel_GPUs_when_an_NVIDIA_(e)GPU_is_present">Black screen on AMD or Intel GPUs when an NVIDIA (e)GPU is present</span>
</h3>
<p>At first, without an NVIDIA device, GDM starts and works normally on Wayland, but stops working once an NVIDIA eGPU is plugged in (or the <code>nvidia</code> module is loaded for other reasons). A typical symptom of the problem is a black screen with a blinking cursor upon logouts and GDM restarts and the following message in GDM's logs (accessed by running <code>journalctl -u gdm -b</code> as root):
</p>
<pre>Gdm: Child process -&lt;some PID&gt; was already dead.
</pre>
<p>The solution is the same as <a href="#GDM_ignores_Wayland_and_uses_X.Org_by_default">#GDM ignores Wayland and uses X.Org by default</a>: Prevent <code>/usr/lib/gdm-disable-wayland</code> from running upon <code>nvidia</code> module loading.
</p>
<p>Notice that GDM on Wayland will no longer work once <code>/usr/lib/gdm-disable-wayland</code> has run. This is because <code>WaylandEnable=false</code> has been written into <code>/run/gdm/custom.conf</code>, which overrides <code>/etc/gdm/custom.conf</code>. To fix the situation without a reboot, remove <code>/run/gdm/custom.conf</code> and then restart GDM.
</p>
<h3><span class="mw-headline" id="GDM_cannot_be_enabled">GDM cannot be enabled</span></h3>
<p>See <a href="../en/Systemd/FAQ.html#Failure_to_enable_unit_due_to_preexisting_symlink" title="Systemd/FAQ">systemd/FAQ#Failure to enable unit due to preexisting symlink</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://help.gnome.org/admin/gdm/stable/index.html.en">GDM Reference Manual</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Display_managers.html" title="Category:Display managers">Display managers</a></li>
<li><a href="../en/Category:GNOME.html" title="Category:GNOME">GNOME</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GDM&amp;oldid=813227">https://wiki.archlinux.org/index.php?title=GDM&amp;oldid=813227</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 03:18.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
