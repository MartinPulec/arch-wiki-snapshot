<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LIRC - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LIRC rootpage-LIRC skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Receiver_and_transmitter_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Receiver_and_transmitter_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Receiver and transmitter configuration</div>
			</a>
			
			<ul id="toc-Receiver_and_transmitter_configuration-sublist" class="vector-toc-list">
				<li id="toc-Serial_port" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Serial_port">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Serial port</div>
			</a>
			
			<ul id="toc-Serial_port-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sound_card" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sound_card">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>Sound card</div>
			</a>
			
			<ul id="toc-Sound_card-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Remote_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remote_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Remote configuration</div>
			</a>
			
			<ul id="toc-Remote_configuration-sublist" class="vector-toc-list">
				<li id="toc-Searching_for_remote_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Searching_for_remote_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Searching for remote configuration</div>
			</a>
			
			<ul id="toc-Searching_for_remote_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Creating_remote_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Creating_remote_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Creating remote configuration</div>
			</a>
			
			<ul id="toc-Creating_remote_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Application-specific_actions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Application-specific_actions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Application-specific actions</div>
			</a>
			
			<ul id="toc-Application-specific_actions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Running_as_a_regular_user" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_as_a_regular_user">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Running as a regular user</div>
			</a>
			
			<ul id="toc-Running_as_a_regular_user-sublist" class="vector-toc-list">
				<li id="toc-User_the_AUR_package_for_lirc-user-service" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#User_the_AUR_package_for_lirc-user-service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>User the AUR package for lirc-user-service</div>
			</a>
			
			<ul id="toc-User_the_AUR_package_for_lirc-user-service-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Testing" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Testing">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Testing</div>
		</a>
		
			<button aria-controls="toc-Testing-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Testing subsection</span>
			</button>
		
		<ul id="toc-Testing-sublist" class="vector-toc-list">
			<li id="toc-Receiving_commands" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Receiving_commands">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Receiving commands</div>
			</a>
			
			<ul id="toc-Receiving_commands-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Transmitting_commands" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Transmitting_commands">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Transmitting commands</div>
			</a>
			
			<ul id="toc-Transmitting_commands-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Remote_functions_as_a_keyboard" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remote_functions_as_a_keyboard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Remote functions as a keyboard</div>
			</a>
			
			<ul id="toc-Remote_functions_as_a_keyboard-sublist" class="vector-toc-list">
				<li id="toc-When_using_Xorg" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#When_using_Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>When using Xorg</div>
			</a>
			
			<ul id="toc-When_using_Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Not_using_Xorg" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Not_using_Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2</span>Not using Xorg</div>
			</a>
			
			<ul id="toc-Not_using_Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Changing_default_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Changing_default_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Changing default configuration</div>
			</a>
			
			<ul id="toc-Changing_default_configuration-sublist" class="vector-toc-list">
				<li id="toc-Example" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Example">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.1</span>Example</div>
			</a>
			
			<ul id="toc-Example-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">LIRC</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/LIRC" title="LIRC – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/LIRC/Quick_start_guide.html" title="LIRC/Quick start guide">LIRC/Quick start guide</a></li>
</ul>
</div>
<p>From the <a rel="nofollow" class="external text" href="https://lirc.org/">official website</a>:
</p>
<dl><dd>
<b>LIRC</b> (Linux Infrared Remote Control) is a package that decodes and sends infra-red signals of many (but not all) commonly used remote controls.</dd></dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Since 4.18 the kernel can decode the signals of some IR remote controls using BPF, making LIRC sometimes redundant.<a rel="nofollow" class="external autonumber" href="https://lwn.net/Articles/759188/">[1]</a>
</div>
<p>This article covers setup and usage of LIRC with serial or USB infrared devices.
</p>
<p>LIRC is a daemon that can translate key presses on a supported remote into program specific commands. In this context, the term, "program specific" means that a key press can do different things depending on which program is running and taking commands from LIRC.
</p>
<ol>
<li>A button on the remote is pressed causing it to transmit an IR or RF signal.</li>
<li>The signal is received by the receiver connected to the Linux computer.</li>
<li>The kernel (via the correct module) use presents pulse data from the remote on a device like <code>/dev/lirc0</code>, <code>/dev/input/eventX</code>, <code>/dev/ttyUSBX</code> or <code>/dev/ttyS0</code>.</li>
<li>
<code>/usr/bin/lircd</code> uses the information from <code>/etc/lirc/lircd.conf.d/foo.conf</code> to convert the pulse data into button press information.</li>
<li>Programs that use LIRC translate the button press info from <code>/usr/bin/lircd</code> into user-defined actions according to <code>~/.config/lircrc</code> or to program-specific mappings.</li>
</ol>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lirc">lirc</a></span> package. If you need <i>audio</i> driver, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lirc-git/">lirc-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Receiver_and_transmitter_configuration">Receiver and transmitter configuration</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This section is a quick summary. Complete documentation is available <a rel="nofollow" class="external text" href="https://lirc.sourceforge.net/lirc.org/html/index.html">upstream</a>.</div>
<p>The <i>driver</i> and/or the <i>device</i> for the LIRC service may need to be specified in order to run properly. Look for messages like these in the <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journalctl">journalctl</a> output if the service abruptly stops while running LIRC-dependent programs such as <i>irrecord</i>:
</p>
<pre>Driver `devinput' not found or not loadable (wrong or missing -U/--plugindir?).
readlink() failed for "auto": No such file or directory
</pre>
<p>Set these in the configuration file and then restart the service.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lirc/lirc_options.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[lircd]
driver = <i>driver-name</i>
device = /dev/<i>path-to-dev</i></pre>
<h4><span class="mw-headline" id="Serial_port">Serial port</span></h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> For DIY schematic refer to serial port <a rel="nofollow" class="external text" href="https://www.lirc.org/receivers.html">receivers</a> and <a rel="nofollow" class="external text" href="https://www.lirc.org/transmitters.html">transmitters</a> documentation. Note that serial port device much more reliable than <i>audio_alsa</i> or <i>audio</i>.</div>
<p>Modern kernel has <i>serial_ir</i> module, which supersedes older <i>lirc_serial</i> driver. It supports even DIY receivers and transmitters, connected to the motherboard's serial port. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/setserial/">setserial</a></span><sup><small>AUR</small></sup> and run:
</p>
<pre># setserial /dev/ttyS0 uart none
# modprobe serial_ir
</pre>
<p>After loading <i>serial_ir</i> module, device <code>/dev/lirc0</code> will be <a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/drivers/media/rc/serial_ir.c">created</a> by kernel. If not, check the <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journal">journal</a> for any relevant errors. An LIRC configuration example for serial device:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lirc/lirc_options.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[lircd]
driver          = default
device          = auto

[modinit]
code = /usr/bin/setserial /dev/ttyS0 uart none
code1 = /usr/sbin/modprobe serial_ir</pre>
<h4><span class="mw-headline" id="Sound_card">Sound card</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Using sound card as infrared device has plenty pitfalls and does not gives advantage over other hardware setup.</div>
<p>Sound card with connected external DIY circuits can be used to <a rel="nofollow" class="external text" href="https://www.lirc.org/ir-audio.html">receive</a> and <a rel="nofollow" class="external text" href="https://web.archive.org/web/20150511192459/http://www.lirc.org:80/html/audio.html">transmit</a> IR codes.
</p>
<p><i>audio_alsa</i> <a rel="nofollow" class="external text" href="https://www.lirc.org/html/audio-alsa.html">driver</a> included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lirc">lirc</a></span>, but supports only reception.
</p>
<p>Unmute microphone input with <code>alsamixer</code> and set enough gain. You can check waveform and gain with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=audacity">audacity</a></span>. There should be distinguishable square pulses: not flatlined, nor overloaded. Also good demodulated pulses easily perceptible by ear. Note that LIRC and <code>irrecord</code> reads <i>positive pulses in right audio channel</i>. Negative pulses will not work.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lirc/lirc_options.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">driver          = audio_alsa
device          = default</pre>
<p><i>audio</i> <a rel="nofollow" class="external text" href="https://web.archive.org/web/20150511192459/http://www.lirc.org:80/html/audio.html">driver</a> included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lirc-git/">lirc-git</a></span><sup><small>AUR</small></sup> and supports both reception and transmission. Note, that default latency around 0.02 can cause "Warning: Output underflow" and corrupted transmission - receiver will not respond to it. Try a higher value like 0.05.
</p>
<p>Increase sound card output loudness, otherwise LED signal will be weak and range is low. LED flash can be detected with smartphone camera, as it sensitive to infrared wavelengths.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lirc/lirc_options.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">driver          = audio
device          = ALSA:default@48000:0.05</pre>
<h3><span class="mw-headline" id="Remote_configuration">Remote configuration</span></h3>
<p>Directory <code>/etc/lirc/lircd.conf.d/</code> contains system-wide configuration files for remotes. Each <i>*.conf</i> file corresponds to one device and describes its protocol, scancodes and keycodes. It allows LIRC receive and send signals for specific hardware. These files are not included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lirc">lirc</a></span> package and should be found somewhere or created by user.
</p>
<h4><span class="mw-headline" id="Searching_for_remote_configuration">Searching for remote configuration</span></h4>
<p>Plenty of configuration files can be found in the <a rel="nofollow" class="external text" href="https://lirc-remotes.sourceforge.net/remotes-table.html">LIRC remotes database</a>. Follow the url or use <span class="plainlinks archwiki-template-man" title="$ man 1 irdb-get"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/irdb-get.1">irdb-get(1)</a></span> to search the database.
</p>
<p>An example using <code>irdb-get</code> to find a configuration file for a "Streamzap" remote:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ irdb-get find stream</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">atiusb/atiusb.lircd.conf
digital_stream/DTX9900.lircd.conf
snapstream/Firefly-Mini.lircd.conf
streamzap/PC_Remote.lircd.conf
streamzap/streamzap.lircd.conf
x10/atiusb.lircd.conf
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ irdb-get download streamzap/streamzap.lircd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Downloaded sourceforge.net/p/lirc-remotes/code/ci/master/tree/remotes/streamzap/streamzap.lircd.conf as streamzap.lircd.conf
</pre>
<p>Once identified, copy the needed <i>.conf</i> to <code>/etc/lirc/lircd.conf.d/</code> to allow the daemon to initialize support for it.
</p>
<pre># cp streamzap.lircd.conf /etc/lirc/lircd.conf.d/
</pre>
<h4><span class="mw-headline" id="Creating_remote_configuration">Creating remote configuration</span></h4>
<p>Remote control configurations can be created using <span class="plainlinks archwiki-template-man" title="$ man 1 irrecord"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/irrecord.1">irrecord(1)</a></span>, which guides users trough the process. If using a detected remote, invoke it like so:
</p>
<pre># irrecord --device=/dev/lirc0 MyRemote
</pre>
<p>The program will instruct user to begin hitting keys on the remote in an attempt to learn it, ultimately mapping out every button and its corresponding scancode. When finished, save the resulting file to <code>/etc/lirc/lircd.conf.d/foo.conf</code> and proceed. Consider sharing configuration file with others.
</p>
<h3><span class="mw-headline" id="Application-specific_actions">Application-specific actions</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Many application-specific lircrc files are available on the internet.</div>
<p>Bind keycodes to application-specific actions by placing their respective configuration files in <code>~/.config/lircrc/</code> which should be created manually if desired, see <span class="plainlinks archwiki-template-man" title="$ man 5 lircrc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lircrc.5">lircrc(5)</a></span>.  This only works for LIRC-aware applications, like <a href="../en/MPlayer.html" title="MPlayer">MPlayer</a>, <a href="../en/VLC_media_player.html" class="mw-redirect" title="VLC">VLC</a>, <a href="../en/MythTV.html" title="MythTV">MythTV</a> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=totem">totem</a></span> (<a href="../en/Kodi.html" title="Kodi">Kodi</a> also supports LIRC but does so in a non-standard way, see <a href="../en/Kodi.html#Using_a_remote_control" title="Kodi">Kodi#Using a remote control</a>).
</p>
<p>Define these application-specific configurations in separate files and include them in <i>lircrc</i>, like:
</p>
<pre>include "~/.config/lircrc/mplayer"
include "~/.config/lircrc/mythtv"
include "~/.config/lircrc/vlc"
</pre>
<h3><span class="mw-headline" id="Running_as_a_regular_user">Running as a regular user</span></h3>
<p>By default, <i>lircd</i> runs as root.  For increased stability and security, upstream recommends running it as a regular user.  See Appendix 14 at <a rel="nofollow" class="external text" href="https://www.lirc.org/html/configuration-guide.html">this</a> link.
</p>
<h4><span class="mw-headline" id="User_the_AUR_package_for_lirc-user-service">User the AUR package for lirc-user-service</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lirc-user-service/">lirc-user-service</a></span><sup><small>AUR</small></sup> is offered which does everything automatically.
</p>
<h2><span class="mw-headline" id="Testing">Testing</span></h2>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> <code>lircd.service</code>.
</p>
<h3><span class="mw-headline" id="Receiving_commands">Receiving commands</span></h3>
<p>Run <span class="plainlinks archwiki-template-man" title="$ man 1 irw"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/irw.1">irw(1)</a></span>, point remote to the receiver and press some buttons. Received codes will be printed to stdout.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ irw</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">000000037ff07bfe 00 One mceusb
000000037ff07bfd 00 Two mceusb
000000037ff07bfd 01 Two mceusb
000000037ff07bf2 00 Home mceusb
000000037ff07bf2 01 Home mceusb
</pre>
<p>If <code>irw</code> gives no output:
</p>
<ul>
<li>Run <i>mode2</i> or <i>xmode2</i> to see if LIRC actually read something from IR sensor, if no - check the hardware</li>
<li>If <i>mode2</i> receives pulse data, check the configuration files in <code>/etc/lirc/lircd.conf.d/</code> for errors</li>
</ul>
<h3><span class="mw-headline" id="Transmitting_commands">Transmitting commands</span></h3>
<p>List registered remotes (configuration files):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ irsend LIST "" ""</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LG_6710CMAP01A
</pre>
<p>List available codes for the specific device:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ irsend LIST LG_6710CMAP01A ""</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">0000000000007887 KEY_POWER
000000000000f807 KEY_MUTE
000000000000e817 KEY_VOLUMEUP
...
</pre>
<p>Choose discovered device <code>LG_6710CMAP01A</code> and send command <code>KEY_POWER</code>:
</p>
<pre>$ irsend SEND_ONCE LG_6710CMAP01A KEY_POWER
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Remote_functions_as_a_keyboard">Remote functions as a keyboard</span></h3>
<h4><span class="mw-headline" id="When_using_Xorg">When using Xorg</span></h4>
<p><a href="../en/Xorg.html" title="Xorg">Xorg</a> detects some remotes, such as the Streamzap USB PC Remote, as a Human Interface Device (HID) which means some or all of the keys will show up as key strokes as if entered from the physical keyboard. This behavior will present problems if LIRC is to be used to manage the device.
</p>
<p>To disable, create the following file and restart X:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/90-streamzap.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
  Identifier "Ignore Streamzap IR"
  MatchProduct "Streamzap"
  MatchIsKeyboard "true"
  Option "Ignore" "true"
EndSection
</pre>
<p>Do not forget to alter the <code>MatchProduct</code> property according to one shown in <code>Name</code> from output of 
</p>
<pre>$ grep -e IR /proc/bus/input/devices
</pre>
<p>For example <code>WinFast</code> for <code>N: Name="cx88 IR (WinFast DTV2000 H rev."</code>
</p>
<h4><span class="mw-headline" id="Not_using_Xorg">Not using Xorg</span></h4>
<p>Blacklist the offending modules by creating <code>/etc/modprobed.d/streamzap.conf</code> to suppress this behavior. An example is provided for the Streamzap remote.
</p>
<pre>install ir_sharp_decoder /bin/false
install ir_xmp_decoder /bin/false
install ir_rc5_decoder /bin/false
install ir_nec_decoder /bin/false
install ir_sony_decoder /bin/false
install ir_mce_kbd_decoder /bin/false
install ir_jvc_decoder /bin/false
install ir_rc6_decoder /bin/false
install ir_sanyo_decoder /bin/false
</pre>
<h3><span class="mw-headline" id="Changing_default_configuration">Changing default configuration</span></h3>
<p>Users not getting any output from <code>irw</code> may have the default configuration in <code>/etc/lirc/lirc_options.conf</code> incorrectly setup (or might have been overwritten by an update).
</p>
<p>First, check if <code>/dev/lirc0</code> is present:
</p>
<pre>$ mode2 --driver default --device /dev/lirc0
</pre>
<p>Watch the output while pressing buttons on the remote. If output is present, edit <code>/etc/lirc/lirc_options.conf</code> changing the  <b>driver</b> and <b>device</b> appropriately.
</p>
<p>If no output is presented, the task becomes locating the correct driver/device combination. First check what combination lirc detected by default. Run <code>ir-keytable</code> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=v4l-utils">v4l-utils</a></span> package. and check the output. It will look similar to this:
</p>
<pre> Found /sys/class/rc/rc0/ (/dev/input/event5) with:
       Driver ite-cir, table rc-rc6-mce
       Supported protocols: unknown other lirc rc-5 jvc sony nec sanyo mce-kbd rc-6 sharp xmp
       Enabled protocols: lirc
       Extra capabilities: &lt;access denied&gt;
</pre>
<p>In this case, LIRC automatically detected <code>/dev/input/event5</code> as the IR device, which uses the <code>devinput</code> driver. Check if this combination is working by running:
</p>
<pre>$ mode2 --driver devinput --device /dev/input/event5
</pre>
<p>Now try pressing buttons on the remote. If there is no output, try different driver and device combinations.  Once a working combination has been identified, change <b>driver</b> and <b>device</b> in <code>/etc/lirc/lirc_options.conf</code> appropriately.
</p>
<h4><span class="mw-headline" id="Example">Example</span></h4>
<p>An example configuration for a MCE RC6 compatible receiver:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lirc/lirc_options.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[lircd]
nodaemon        = False
driver          = default
device          = /dev/lirc0
output          = /var/run/lirc/lircd
pidfile         = /var/run/lirc/lircd.pid
plugindir       = /usr/lib/lirc/plugins
permission      = 666
allow-simulate  = No
repeat-max      = 600

[lircmd]
uinput          = False
nodaemon        = False</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://sf.net/p/lirc">Project site</a></li>
<li><a rel="nofollow" class="external text" href="https://lirc.sourceforge.net/lirc.org/html/index.html">Upstream documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://lirc.org/html/configuration-guide.html">Upstream Configuration Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://lirc-remotes.sourceforge.net/remotes-table.html">Remotes database</a></li>
<li><a rel="nofollow" class="external text" href="https://www.mythtv.org/wiki/Category:Remote_Controls">MythTV Wiki:Remotes article</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/graysky2/streamzap">Linux Streamzap configuration files</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Input_devices.html" title="Category:Input devices">Input devices</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LIRC&amp;oldid=813070">https://wiki.archlinux.org/index.php?title=LIRC&amp;oldid=813070</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 July 2024, at 06:20.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
