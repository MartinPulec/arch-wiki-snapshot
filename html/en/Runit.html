<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Runit - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Runit rootpage-Runit skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Using_runit_alongside_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_runit_alongside_systemd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Using runit alongside systemd</span>
				</div>
			</a>
			
			<ul id="toc-Using_runit_alongside_systemd-sublist" class="vector-toc-list">
				<li id="toc-Using_BusyBox's_implementation" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_BusyBox's_implementation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.1</span>
					<span>Using BusyBox's implementation</span>
				</div>
			</a>
			
			<ul id="toc-Using_BusyBox's_implementation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_standard_runit" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_standard_runit">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.2</span>
					<span>Using standard runit</span>
				</div>
			</a>
			
			<ul id="toc-Using_standard_runit-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-The_tools" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_tools">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>The tools</span>
				</div>
			</a>
			
			<ul id="toc-The_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Run_levels_and_service_directories" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Run_levels_and_service_directories">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Run levels and service directories</span>
				</div>
			</a>
			
			<ul id="toc-Run_levels_and_service_directories-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-General_use" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#General_use">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>General use</span>
				</div>
			</a>
			
			<ul id="toc-General_use-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-User_Services" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#User_Services">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>User Services</span>
			</div>
		</a>
		
			<button aria-controls="toc-User_Services-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle User Services subsection</span>
			</button>
		
		<ul id="toc-User_Services-sublist" class="vector-toc-list">
			<li id="toc-Example_Service" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Example_Service">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Example Service</span>
				</div>
			</a>
			
			<ul id="toc-Example_Service-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Runit</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Runit" title="Runit – 日本語" lang="ja" hreflang="ja" data-title="Runit" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Init.html" title="Init">init</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Arch Linux only has official support for <a href="../en/Systemd.html" title="Systemd">systemd</a>. <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/end-of-initscripts-support/">[1]</a> When using runit, please mention so in support requests.</div>
<p>Runit is a process supervisor.  It includes <code>runit-init</code>, which can replace sysv's init as pid1, or can be run from inittab or your init system of choice.  
Runit's simple collection of tools can be used to build flexible dependency structures and distributed systems, or blazing fast parallel runlevel changes (including the initial boot). Runit can be used as a simple process supervisor, see the <a href="#User_Services">#User Services</a> for an example.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Using_runit_alongside_systemd">Using runit alongside systemd</span></h3>
<h4>
<span id="Using_BusyBox.27s_implementation"></span><span class="mw-headline" id="Using_BusyBox's_implementation">Using BusyBox's implementation</span>
</h4>
<p><a href="../en/BusyBox.html" title="BusyBox">BusyBox</a> provides a minimal implementation of runit that can be used for simple processing supervision needs. First, create symbolic links to the BusyBox binary for the necessary tools that are going to be needed:
</p>
<pre># busybox --list | awk '/^runsv|^chpst$|^sv/' | xargs -I{} ln -sv /usr/bin/busybox /usr/local/bin/{}
</pre>
<p>Afterwards, a <a href="../en/Systemd.html" title="Systemd">systemd</a> unit file can be created in order to run BusyBox's runit when needed:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/busybox-runit.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Runit service supervision - BusyBox implementation
Documentation=man:busybox(1) <a rel="nofollow" class="external free" href="https://smarden.org/runit/">https://smarden.org/runit/</a>

[Service]
Environment="PATH=/usr/local/sbin:/usr/local/bin:/usr/bin"
ExecStart=/usr/local/bin/runsvdir -P /var/service
KillSignal=SIGHUP
KillMode=process
Restart=always
SuccessExitStatus=111

[Install]
WantedBy=multi-user.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">${XDG_CONFIG_HOME:-$HOME/.config}/systemd/user/busybox-runit.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Runit service supervision - BusyBox implementation
Documentation=man:busybox(1) <a rel="nofollow" class="external free" href="https://smarden.org/runit/">https://smarden.org/runit/</a>

[Service]
Environment="HOME=%h" "PATH=/usr/local/sbin:/usr/local/bin:/usr/bin"
ExecStart=/usr/local/bin/runsvdir -P %h/service
KillSignal=SIGHUP
KillMode=process
Restart=always
SuccessExitStatus=111

[Install]
WantedBy=default.target</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>This example unit file presupposes that the directory which is going to contain the enabled services is <code>/var/service</code> for the system instance or <code>$HOME/service</code> for user instance. This path can be changed according to each specific use case.</li>
<li>The <code>SIGHUP</code> kill signal is used instead of the default <code>SIGTERM</code>, and only on the main <i>runsvdir</i> process (thanks to <code>KillMode=process</code>) so that processes being controlled by BusyBox's runit implementation are controllably stopped by <i>runsvdir</i> before terminating the supervisor. When <i>runsvdir</i> ends the processes that are being supervised after receiving a <code>SIGHUP</code> signal, it exits with an status code of 111, which needs to be interpreted as a success.</li>
</ul>
</div>
<p>Be sure to create the directory which is going to be supervised by <i>runsvdir</i> according to the systemd unit file created. It is also recommended to create a directory in which runit services can be stored (usually <code>/etc/sv</code>), and only enabled when needed by creating a symbolic link directed to them from the directory being supervised. See <a href="#General_use">#General use</a> for more details.
</p>
<p>When everything is correctly configured, <code>busybox-runit.service</code> can be <a href="../en/Systemd.html#Using_units" title="Systemd">enabled and started</a>.
</p>
<h4><span class="mw-headline" id="Using_standard_runit">Using standard runit</span></h4>
<p>It is possible to use runit as a simple process supervisor alongside the default Arch Linux's init system (<a href="../en/Systemd.html" title="Systemd">systemd</a>). For this purpose, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/runit-systemd/">runit-systemd</a></span><sup><small>AUR</small></sup>, which provides a barebones runit installation without any stage scripts (<code>/etc/runit/{1..3}</code>) or runlevels (<code>/etc/runit/runsvdir/*</code>), which are generally only useful when using runit as the init system. The package provides a directory (<code>/var/service</code>) in which the desired runit services can be put and a systemd unit which starts runit monitoring that directory. Only the services configured in <code>/var/service</code> will be supervised by runit. Just <a href="../en/Systemd.html#Using_units" title="Systemd">enable and start</a> <code>runit.service</code>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="The_tools">The tools</span></h3>
<ul>
<li>
<code>sv</code> - used for controlling services, getting status of services, and dependency checking.</li>
<li>
<code>chpst</code> - control of a process environment, including memory caps, limits on cores, data segments, environments, user/group privileges, and more.</li>
<li>
<code>runsv</code> - supervises a process, and optionally a log service for that process.</li>
<li>
<code>svlogd</code> - a simple but powerful logger, includes auto-rotation based on different methods (time, size, etc), post-processing, pattern matching, and socket (remote logging) options. Say goodbye to logrotate and the need to stop your services to rotate logs.</li>
<li>
<code>runsvchdir</code> - changes service levels (runlevels, see below).</li>
<li>
<code>runsvdir</code> - starts a supervision tree</li>
</ul>
<p>See the manpages for usage details not covered below.
</p>
<h3><span class="mw-headline" id="Run_levels_and_service_directories">Run levels and service directories</span></h3>
<p>Runit uses directories of symlinks to specify runlevels, other than the 3 main ones, which are defined in /etc/runit/1, 2, and 3.  
</p>
<p>1 bootstraps the system, 2 starts runsvdir on /service, and 3 stops the system.
</p>
<p>While in run level 2, you are not constrained to any amount of service levels (equivalent to runlevels in sysvinit).  You can runschdir to any directory (full of service directory symlinks) you have made in /etc/runit/runsvdir/.  
This becomes very handy in cases where you have an HA (Failover) setup, and you have one machine that can take over services for many other machines, simply by runsvchdir &lt;theservicedir&gt;.
</p>
<p>You can also run trees of dependent service levels by having user-level supervision directories.  See User Level Services below.  
</p>
<p>By default, the runit-run package uses a very minimal service set, defined in /etc/runit/runsvdir/archlinux-default and symlinked to /etc/runit/runsvdir/default.  
</p>
<p>It only gives gettys on tty2 and tty3, so you will boot to just console scroll and a tidy 'runsvchdir: default: current'.  This means when you start X it will be on tty4.  
</p>
<p>To go back to the standard arch consoles, remove the link /service/ngetty and link as many /etc/sv/*getty* services you like in /service, or edit the /etc/sv/ngetty/run file to get more getties.  Better yet, create your own directory in /etc/runit/runsvdir and add the symlinks you want for just the services you desire.  Remember to take any services you start with runit out of DAEMONS in /etc/rc.conf or systemctl disable them, they do not need to be started there, and runit will allow parallel startup without backgrounding them.
</p>
<h3><span class="mw-headline" id="General_use">General use</span></h3>
<p>In this explanation, <code>/var/service</code> is the chosen service directory being supervised by <i>runsvdir</i> and <code>/etc/sv</code> is the chosen directory for containing the services that can be enabled.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Specifying the whole path to the service directory can be avoided by setting the <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>SVDIR</code> to indicate the path of the service directory. For example, with <code>SVDIR=/var/service</code>, <code>sv status /var/service/<i>servicename</i></code> becomes <code>sv status <i>servicename</i></code>.</div>
<ul><li>Listing running services:</li></ul>
<pre># sv status /var/service/*
run: /var/service/agetty-2: (pid 4120) 7998s
run: /var/service/agetty-3: (pid 4119) 7998s
run: /var/service/bougyman: (pid 4465) 7972s
run: /var/service/bougyx: (pid 4135) 7998s; run: log: (pid 4127) 7998s
run: /var/service/cron: (pid 4137) 7998s; run: log: (pid 4122) 7998s
run: /var/service/dialer: (pid 4121) 7998s
run: /var/service/qmail: (pid 4138) 7998s; run: log: (pid 4126) 7998s
run: /var/service/smtpd: (pid 4136) 7998s; run: log: (pid 4125) 7998s
run: /var/service/socklog-klog: (pid 4139) 7998s; run: log: (pid 4132) 7998s
run: /var/service/socklog-unix: (pid 4133) 7998s; run: log: (pid 4124) 7998s
run: /var/service/ssh: (pid 4134) 7998s; run: log: (pid 4123) 7998s
</pre>
<ul><li>Create and start a service:</li></ul>
<pre># ln -s /etc/sv/ssh /var/service/ssh
</pre>
<ul><li>Stops a service immediately (would still start on next boot):</li></ul>
<pre># sv down /var/service/ssh
</pre>
<ul><li>Starts a service which has been previously stopped, or which is configured to not start automatically:</li></ul>
<pre># sv up /var/service/ssh
</pre>
<ul><li>Restarts a service:</li></ul>
<pre># sv restart /var/service/ssh
</pre>
<ul><li>Reloads a service:</li></ul>
<pre># sv reload /var/service/ssh
</pre>
<ul><li>Shows status of a service and its log service:</li></ul>
<pre># sv status /var/service/ssh
</pre>
<ul><li>Stops a service, and disables it (will not start next boot):</li></ul>
<pre># rm /var/service/ssh
</pre>
<h2><span class="mw-headline" id="User_Services">User Services</span></h2>
<p>There are two ways of creating a user supervision tree: using a <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> service or with runit itself. See <a href="#Using_BusyBox's_implementation">#Using BusyBox's implementation</a> for an example
systemd user service. To use runit itself refer to the section in the <a rel="nofollow" class="external text" href="https://docs.voidlinux.org/config/services/user-services.html">Voidlinux Handbook</a>.
</p>
<h3><span class="mw-headline" id="Example_Service">Example Service</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This example assumes your services are stored in <code>~/.config/sv</code> and your runsvdir is <code>~/service</code>. You should change them to your configuration.</div>
<p>Create a directory where you will keep your services.
</p>
<pre>$ mkdir -p ~/.config/sv
</pre>
<p>Create a directory for your service.
</p>
<pre>$ mkdir ~/.config/sv/mpd
</pre>
<p><a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">Create</a> a <code>run</code> file in the service directory. You can find example run files in <a rel="nofollow" class="external text" href="https://smarden.org/runit/runscripts.html">runit's site</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$HOME/.config/sv/mpd/run</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
MPDCONF=${XDG_CONFIG_HOME:-$HOME/.config}/mpd/mpd.conf
exec mpd --no-daemon $MPDCONF</pre>
<p>Make it <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>. 
</p>
<p>To enable the service make a symlink to your service directory. This will make the service start automatically when the runit starts. The service should start immediately.
</p>
<pre>$ ln -s ~/.config/sv/mpd ~/service/mpd
</pre>
<p>To stop the service:
</p>
<pre>$ SVDIR=~/service sv down mpd   # or
$ sv down ~/service/mpd
</pre>
<p>To start the service again:
</p>
<pre>$ SVDIR=~/service sv up mpd   # or
$ sv up ~/service/mpd
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://smarden.org/runit/">Runit's Homepage</a>. G Pape's runit homepage.</li></ul>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://evasive.ru/50a3904206c52447aa1fa5d90a8382a3.html">Running runit on Amazon Linux AMI</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2022-09-23 ⓘ]</sup>. Contains instructions related to setting up BusyBox's implementation of runit.</li>
<li>
<a rel="nofollow" class="external text" href="https://docs.voidlinux.org/config/services/index.html">Voidlinux Handbook - Services and Daemons - runit</a>. The section in the Voidlinux Handbook about runit.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Init.html" title="Category:Init">Init</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Runit&amp;oldid=810452">https://wiki.archlinux.org/index.php?title=Runit&amp;oldid=810452</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 June 2024, at 17:27.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
