<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Hadoop - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Hadoop rootpage-Hadoop skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Single_Node_Setup" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Single_Node_Setup">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Single Node Setup</div>
		</a>
		
			<button aria-controls="toc-Single_Node_Setup-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Single Node Setup subsection</span>
			</button>
		
		<ul id="toc-Single_Node_Setup-sublist" class="vector-toc-list">
			<li id="toc-Standalone_Operation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Standalone_Operation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Standalone Operation</div>
			</a>
			
			<ul id="toc-Standalone_Operation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pseudo-Distributed_Operation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pseudo-Distributed_Operation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Pseudo-Distributed Operation</div>
			</a>
			
			<ul id="toc-Pseudo-Distributed_Operation-sublist" class="vector-toc-list">
				<li id="toc-Set_up_passphraseless_ssh" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Set_up_passphraseless_ssh">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Set up passphraseless ssh</div>
			</a>
			
			<ul id="toc-Set_up_passphraseless_ssh-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Execution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Execution">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Execution</div>
			</a>
			
			<ul id="toc-Execution-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Hadoop</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Hadoop" title="Hadoop – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Hadoop" title="Hadoop – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Apache_Spark.html" title="Apache Spark">Apache Spark</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://hadoop.apache.org">Apache Hadoop</a> is a framework for running applications on large cluster built of commodity hardware. The Hadoop framework transparently provides applications both reliability and data motion. Hadoop implements a computational paradigm named Map/Reduce, where the application is divided into many small fragments of work, each of which may be executed or re-executed on any node in the cluster. In addition, it provides a distributed file system (HDFS) that stores data on the compute nodes, providing very high aggregate bandwidth across the cluster. Both MapReduce and the Hadoop Distributed File System are designed so that node failures are automatically handled by the framework.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hadoop/">hadoop</a></span><sup><small>AUR</small></sup> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>By default, hadoop is already configured for pseudo-distributed operation. Some <a href="../en/Environment_variables.html" title="Environment variables">environment variables</a> are set in <code>/etc/profile.d/hadoop.sh</code> with different values than traditional hadoop.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Environment variable
</th>
<th>Value
</th>
<th>Description
</th>
<th>Permission
</th>
</tr>
<tr>
<td>HADOOP_CONF_DIR
</td>
<td>
<code>/etc/hadoop</code>
</td>
<td>Where configuration files are stored.
</td>
<td>Read
</td>
</tr>
<tr>
<td>HADOOP_LOG_DIR
</td>
<td>
<code>/tmp/hadoop/log</code>
</td>
<td>Where log files are stored.
</td>
<td>Read and Write
</td>
</tr>
<tr>
<td>HADOOP_WORKERS
</td>
<td>
<code>/etc/hadoop/workers</code>
</td>
<td>File naming remote worker hosts.
</td>
<td>Read
</td>
</tr>
<tr>
<td>HADOOP_PID_DIR
</td>
<td>
<code>/tmp/hadoop/run</code>
</td>
<td>Where pid files are stored.
</td>
<td>Read and Write
</td>
</tr>
</tbody>
</table>
<p>You also should set up the following files correctly. 
</p>
<pre>/etc/hosts
/etc/hostname 
/etc/locale.conf
</pre>
<p>You need to tell hadoop your JAVA_HOME in <code>/etc/hadoop/hadoop-env.sh</code> because it does not assume the location where it is installed to in Arch Linux by itself:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hadoop/hadoop-env.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">export JAVA_HOME=/usr/lib/jvm/default</pre>
<p>Check the installation with:
</p>
<pre>$ hadoop version
</pre>
<p>The HADOOP_WORKERS option was previously called HADOOP_SLAVES. If you get warning message "WARNING: HADOOP_SLAVES has been replaced by HADOOP_WORKERS. Using value of HADOOP_SLAVES." Then replace <code>export HADOOP_SLAVES=/etc/hadoop/slaves</code> in <code>/etc/profile.d/hadoop.sh</code> with:
</p>
<pre>export HADOOP_WORKERS=/etc/hadoop/workers
</pre>
<h2><span class="mw-headline" id="Single_Node_Setup">Single Node Setup</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This section is based on the <a rel="nofollow" class="external text" href="https://hadoop.apache.org/docs/stable/">Hadoop Official Documentation</a> </div>
<h3><span class="mw-headline" id="Standalone_Operation">Standalone Operation</span></h3>
<p>By default, Hadoop is configured to run in a non-distributed mode, as a single Java process. This is useful for debugging.
</p>
<p>The following example copies the unpacked conf directory to use as input and then finds and displays every match of the given regular expression. Output is written to the given output directory.
</p>
<pre>$ HADOOP_CONF_DIR=/usr/lib/hadoop/orig_etc/hadoop/
$ mkdir input
$ cp /etc/hadoop/*.xml input
$ hadoop jar /usr/lib/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.0.0.jar grep input output 'dfs[a-z.]+'
$ cat output/*
</pre>
<h3><span class="mw-headline" id="Pseudo-Distributed_Operation">Pseudo-Distributed Operation</span></h3>
<p>Hadoop can also be run on a single-node in a pseudo-distributed mode where each Hadoop daemon runs in a separate Java process.
</p>
<p>By default, Hadoop will run as the user root. You can change the user in <code>/etc/conf.d/hadoop</code>:
</p>
<pre>HADOOP_USERNAME="&lt;your user name&gt;"
</pre>
<h4><span class="mw-headline" id="Set_up_passphraseless_ssh">Set up passphraseless ssh</span></h4>
<p>Make sure you have <a href="../en/OpenSSH.html" class="mw-redirect" title="Sshd">sshd</a> <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enabled">enabled</a>. Now check that you can connect to localhost without a passphrase:
</p>
<pre>$ ssh localhost
</pre>
<p>If you cannot ssh to localhost without a passphrase, execute the following commands:
</p>
<pre>$ ssh-keygen -t rsa -P "" -f ~/.ssh/id_rsa
$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
$ chmod 0600 ~/.ssh/authorized_keys
</pre>
<p>Also make sure this line is commented in <code>/etc/ssh/sshd_config</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/ssh/sshd_config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#AuthorizedKeysFile .ssh/authorized_keys</pre>
<h4><span class="mw-headline" id="Execution">Execution</span></h4>
<p>Format a new distributed-filesystem:
</p>
<pre>$ hadoop namenode -format
</pre>
<p>Edit <code>/etc/hadoop/core-site.xml</code> and add below configuration:
</p>
<pre> &lt;configuration&gt;
   &lt;property&gt;
     &lt;name&gt;fs.defaultFS&lt;/name&gt;
     &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;
   &lt;/property&gt;
 &lt;/configuration&gt;
</pre>
<p>Start the hadoop namenode:
</p>
<pre>$ hadoop namenode
</pre>
<p>You may access the web GUI via <a rel="nofollow" class="external free" href="http://localhost:9870/">http://localhost:9870/</a>
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Instructions for older versions of Hadoop (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Hadoop.html">Talk:Hadoop</a>)</div>
</div>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a> the following hadoop systemd units: <code>hadoop-datanode</code>, <code>hadoop-jobtracker</code>, <code>hadoop-namenode</code>, <code>hadoop-secondarynamenode</code>, <code>hadoop-tasktracker</code>.
</p>
<p>The hadoop daemon log output is written to the <code>${HADOOP_LOG_DIR}</code> directory (defaults to <code>/var/log/hadoop</code>).
</p>
<p>Browse the web interface for the NameNode and the JobTracker; by default they are available at:
</p>
<ul>
<li>NameNode - <a rel="nofollow" class="external free" href="http://localhost:50070/">http://localhost:50070/</a>
</li>
<li>JobTracker - <a rel="nofollow" class="external free" href="http://localhost:50030/">http://localhost:50030/</a>
</li>
</ul>
<p>Copy the input files into the distributed filesystem:
</p>
<pre>$ hadoop fs -put /etc/hadoop input
</pre>
<p>Run some of the examples provided:
</p>
<pre>$ hadoop jar /usr/lib/hadoop-2.7.3/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar grep input output 'dfs[a-z.]+'
</pre>
<p>Examine the output files:
</p>
<p>Copy the output files from the distributed filesystem to the local filesystem and examine them:
</p>
<pre>$ hadoop fs -get output output
$ cat output/*
</pre>
<p>or
</p>
<p>View the output files on the distributed filesystem:
</p>
<pre>$ hadoop fs -cat output/*
</pre>
<p>When you are done, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Stop">stop</a> the daemons <code>hadoop-datanode</code>, <code>hadoop-jobtracker</code>, <code>hadoop-namenode</code>, <code>hadoop-secondarynamenode</code>, <code>hadoop-tasktracker</code>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Distributed_computing.html" title="Category:Distributed computing">Distributed computing</a></li>
<li><a href="../en/Category:Apache.html" title="Category:Apache">Apache</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Hadoop&amp;oldid=782614">https://wiki.archlinux.org/index.php?title=Hadoop&amp;oldid=782614</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 July 2023, at 19:59.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
