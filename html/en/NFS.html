<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NFS - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NFS rootpage-NFS skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Server_configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Server_configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Server configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Server_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Server configuration subsection</span>
			</button>
		
		<ul id="toc-Server_configuration-sublist" class="vector-toc-list">
			<li id="toc-Custom_export_root" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Custom_export_root">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Custom export root</span>
				</div>
			</a>
			
			<ul id="toc-Custom_export_root-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Starting_the_server" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Starting_the_server">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Starting the server</span>
				</div>
			</a>
			
			<ul id="toc-Starting_the_server-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Restricting_NFS_to_interfaces/IPs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Restricting_NFS_to_interfaces/IPs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Restricting NFS to interfaces/IPs</span>
				</div>
			</a>
			
			<ul id="toc-Restricting_NFS_to_interfaces/IPs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Firewall_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Firewall_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Firewall configuration</span>
				</div>
			</a>
			
			<ul id="toc-Firewall_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Client_configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Client_configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Client configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Client_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Client configuration subsection</span>
			</button>
		
		<ul id="toc-Client_configuration-sublist" class="vector-toc-list">
			<li id="toc-Manual_mounting" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Manual_mounting">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Manual mounting</span>
				</div>
			</a>
			
			<ul id="toc-Manual_mounting-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mount_using_/etc/fstab" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mount_using_/etc/fstab">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Mount using /etc/fstab</span>
				</div>
			</a>
			
			<ul id="toc-Mount_using_/etc/fstab-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mount_using_/etc/fstab_with_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mount_using_/etc/fstab_with_systemd">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Mount using /etc/fstab with systemd</span>
				</div>
			</a>
			
			<ul id="toc-Mount_using_/etc/fstab_with_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-As_systemd_unit" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#As_systemd_unit">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>As systemd unit</span>
				</div>
			</a>
			
			<ul id="toc-As_systemd_unit-sublist" class="vector-toc-list">
				<li id="toc-automount" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#automount">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4.1</span>
					<span>automount</span>
				</div>
			</a>
			
			<ul id="toc-automount-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Mount_using_autofs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mount_using_autofs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Mount using autofs</span>
				</div>
			</a>
			
			<ul id="toc-Mount_using_autofs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-NFSv4_idmapping" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NFSv4_idmapping">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>NFSv4 idmapping</span>
				</div>
			</a>
			
			<ul id="toc-NFSv4_idmapping-sublist" class="vector-toc-list">
				<li id="toc-Domain" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Domain">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.1</span>
					<span>Domain</span>
				</div>
			</a>
			
			<ul id="toc-Domain-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-static_mapping" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#static_mapping">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.2</span>
					<span>static mapping</span>
				</div>
			</a>
			
			<ul id="toc-static_mapping-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fallback_mapping" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#fallback_mapping">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1.3</span>
					<span>fallback mapping</span>
				</div>
			</a>
			
			<ul id="toc-fallback_mapping-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Performance_tuning" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Performance_tuning">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Performance tuning</span>
				</div>
			</a>
			
			<ul id="toc-Performance_tuning-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Automatic_mount_handling" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Automatic_mount_handling">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Automatic mount handling</span>
				</div>
			</a>
			
			<ul id="toc-Automatic_mount_handling-sublist" class="vector-toc-list">
				<li id="toc-Cron" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Cron">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.1</span>
					<span>Cron</span>
				</div>
			</a>
			
			<ul id="toc-Cron-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd/Timers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#systemd/Timers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.2</span>
					<span>systemd/Timers</span>
				</div>
			</a>
			
			<ul id="toc-systemd/Timers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_a_NetworkManager_dispatcher" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_a_NetworkManager_dispatcher">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3.3</span>
					<span>Using a NetworkManager dispatcher</span>
				</div>
			</a>
			
			<ul id="toc-Using_a_NetworkManager_dispatcher-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-TLS_encryption" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#TLS_encryption">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>TLS encryption</span>
				</div>
			</a>
			
			<ul id="toc-TLS_encryption-sublist" class="vector-toc-list">
				<li id="toc-Server" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Server">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4.1</span>
					<span>Server</span>
				</div>
			</a>
			
			<ul id="toc-Server-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Client" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Client">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4.2</span>
					<span>Client</span>
				</div>
			</a>
			
			<ul id="toc-Client-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NFS</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Network_File_System" title="Network File System – Deutsch" lang="de" hreflang="de" data-title="Network File System" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/NFS.html" title="NFS – magyar" lang="hu" hreflang="hu" data-title="NFS" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NFS" title="NFS – 日本語" lang="ja" hreflang="ja" data-title="NFS" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NFS" title="NFS – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="NFS" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/NFS/Troubleshooting.html" title="NFS/Troubleshooting">NFS/Troubleshooting</a></li>
</ul>
</div>
<p>From <a href="https://en.wikipedia.org/wiki/Network_File_System" class="extiw" title="wikipedia:Network File System">Wikipedia</a>: 
</p>
<dl><dd>Network File System (NFS) is a distributed file system protocol originally developed by Sun Microsystems in 1984, allowing a user on a client computer to access files over a network in a manner similar to how local storage is accessed.</dd></dl>
<p>The NFS FAQ <a rel="nofollow" class="external text" href="https://nfs.sourceforge.net/#faq_c6">lists file systems</a> well tested and details limitations regarding <a rel="nofollow" class="external text" href="https://nfs.sourceforge.net/#faq_c4">FAT32</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>By default, NFS is not encrypted. Configure <a href="#TLS_encryption">#TLS encryption</a>, or configure <a href="../en/Kerberos.html" title="Kerberos">Kerberos</a> (<code>sec=krb5p</code> to provide Kerberos-based encryption), or tunnel NFS through an encrypted <a href="../en/Category:Virtual_Private_Network.html" class="mw-redirect" title="VPN">VPN</a> (such as WireGuard) when dealing with sensitive data.</li>
<li>Unlike <a href="../en/Samba.html" title="Samba">Samba</a>, NFS does not have any user authentication by default, client access is restricted by their IP-address/<a href="../en/Network_configuration.html#Set_the_hostname" class="mw-redirect" title="Hostname">hostname</a>. Kerberos is available if stronger authentication is wanted.</li>
<li>NFS expects the <a href="../en/Users_and_groups.html" class="mw-redirect" title="User">user</a> and/or <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> IDs are the same on both the client and server (unless Kerberos is used). Use <a href="#NFSv4_idmapping">NFSv4 idmapping</a> or overrule the UID/GID manually by using <code>anonuid</code>/<code>anongid</code> together with <code>all_squash</code> in <code>/etc/exports</code>.</li>
<li>NFS does not support <a href="../en/Access_Control_Lists.html" title="Access Control Lists">POSIX ACLs</a>. The NFS server will still enforce ACLs, but clients will not be able to see or modify them.</li>
</ul>
</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p>Both client and server only require the <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installation</a> of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nfs-utils">nfs-utils</a></span> package.
</p>
<p>It is <b>highly</b> recommended to use a <a href="../en/System_time.html#Time_synchronization" class="mw-redirect" title="Time synchronization">time synchronization</a> daemon to keep client/server clocks in sync.  Without accurate clocks on all nodes, NFS can introduce unwanted delays.
</p>
<div class="mw-heading mw-heading2"><h2 id="Server_configuration">Server configuration</h2></div>
<p>Global configuration options are set in <code>/etc/nfs.conf</code>. Users of simple configurations should not need to edit this file.
</p>
<p>The NFS server needs a list of directories to share, in the form of exports (see <span class="plainlinks archwiki-template-man" title="$ man 5 exports"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/exports.5">exports(5)</a></span> for details) which one must define in <code>/etc/exports</code> or <code>/etc/exports.d/*.exports</code>. By default, the directories are exported with their paths as-is; for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/exports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/data/music    192.168.1.0/24(rw)</pre>
<p>The above will make the directory <code>/data/music</code> mountable as <code>MyServer:/data/music</code> for both NFSv3 and NFSv4.
</p>
<div class="mw-heading mw-heading3"><h3 id="Custom_export_root">Custom export root</h3></div>
<p>Shares may be relative to the so-called NFS root. A good security practice is to define a NFS root in a discrete directory tree which will keep users limited to that mount point. Bind mounts are used to link the share mount point to the actual directory elsewhere on the <a href="../en/File_systems.html" class="mw-redirect" title="Filesystem">filesystem</a>. An NFS root used to be mandatory for NFSv4 in the past; it is now optional (as of kernel 2.6.33 and nfs-utils 1.2.2, which implement a virtual root).
</p>
<p>Consider this following example wherein:
</p>
<ol>
<li>The NFS root is <code>/srv/nfs</code>.</li>
<li>The export is <code>/srv/nfs/music</code> via a bind mount to the actual target <code>/mnt/music</code>.</li>
</ol>
<pre># mkdir -p /srv/nfs/music /mnt/music
# mount --bind /mnt/music /srv/nfs/music
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <a href="../en/ZFS.html" title="ZFS">ZFS</a> filesystems require special handling of bindmounts, see <a href="../en/ZFS.html#Bind_mount" title="ZFS">ZFS#Bind mount</a>.</div>
<p>To make the bind mount persistent across reboots, add it to <a href="../en/Fstab.html" title="Fstab">fstab</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/mnt/music /srv/nfs/music  none   bind   0   0
</pre>
<p>Add directories to be shared and limit them to a range of addresses via a CIDR or hostname(s) of client machines that will be allowed to mount them in <code>/etc/exports</code>, e.g.:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/exports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/srv/nfs        192.168.1.0/24(rw,fsid=root)
/srv/nfs/music  192.168.1.0/24(rw,sync)
/srv/nfs/home   192.168.1.0/24(rw,sync)
/srv/nfs/public 192.168.1.0/24(ro,all_squash,insecure) desktop(rw,sync,all_squash,anonuid=99,anongid=99) # map to user/group - in this case <i>nobody</i></pre>
<p>When using NFSv4, the option <code>fsid=root</code> or <code>fsid=0</code> denotes the "root" export; if such an export is present, then all other directories must be below it. The <code>rootdir</code> option in the <code>/etc/nfs.conf</code> file has no effect on this. The default behavior, when there is no <code>fsid=0</code> export, is to behave the same way as in NFSv3.
</p>
<p>In the above example, because <code>/srv/nfs</code> is designated as the root, the export <code>/srv/nfs/music</code> is now mountable as <code>MyServer:/music</code> via NFSv4 – note that the root prefix is omitted.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>For NFSv3 (not needed for NFSv4), the <code>crossmnt</code> option makes it possible for clients to access <b>all</b> filesystems mounted on a filesystem marked with <code>crossmnt</code> and clients will not be required to mount every child export separately. Note this may not be desirable if a child is shared with a different range of addresses.</li>
<li>Instead of <code>crossmnt</code>, one can also use the <code>nohide</code> option on child exports so that they can be automatically mounted when a client mounts the root export. Being different from <code>crossmnt</code>, <code>nohide</code> still respects address ranges of child exports. Note that the option is also NFSv3-specific; NFSv4 <i>always</i> behaves as if nohide was enabled.</li>
<li>The <code>insecure</code> option allows clients to connect from ports above 1023. (Presumably only the root user can use low-numbered ports, so blocking other ports by default creates a superficial barrier to access. In practice neither omitting nor including the <code>insecure</code> option provides any meaningful improvement or detriment to security.)</li>
<li>Use an asterisk (<code>*</code>) to allow access from any interface.</li>
</ul>
</div>
<p>It should be noted that modifying <code>/etc/exports</code> while the server is running will require a re-export for changes to take effect:
</p>
<pre># exportfs -arv
</pre>
<p>To view the current loaded exports state in more detail, use:
</p>
<pre># exportfs -v
</pre>
<p>For more information about all available options see <span class="plainlinks archwiki-template-man" title="$ man 5 exports"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/exports.5">exports(5)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <a rel="nofollow" class="external text" href="https://ip2cidr.com/">ip2cidr</a> is a tool to convert IP address ranges to correctly structured CIDR specifications.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If the target export is a <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a> filesystem, the <code>fsid=1</code> option is required.</div>
<div class="mw-heading mw-heading3"><h3 id="Starting_the_server">Starting the server</h3></div>
<ul>
<li>To provide both NFSv3 and NFSv4 service, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>nfs-server.service</code>.</li>
<li>To provide NFSv4 service exclusively, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>nfsv4-server.service</code>.</li>
</ul>
<p>Users of protocol version 4 exports will probably want to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Mask">mask</a> at a minimum both <code>rpcbind.service</code> and <code>rpcbind.socket</code> to prevent superfluous services from running.  See <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/76453">FS#76453</a>.  Additionally, consider masking <code>nfs-server.service</code> which is pulled in for some reason as well.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If exporting ZFS shares, also <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>zfs-share.service</code>.  Without this, ZFS shares will no longer be exported after a reboot. See <a href="../en/ZFS.html#NFS" title="ZFS">ZFS#NFS</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="Restricting_NFS_to_interfaces/IPs">
<span id="Restricting_NFS_to_interfaces.2FIPs"></span>Restricting NFS to interfaces/IPs</h3></div>
<p>By default, starting <code>nfs-server.service</code> will listen for connections on all network interfaces, regardless of <code>/etc/exports</code>. This can be changed by defining which IPs and/or hostnames to listen on.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nfs.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[nfsd]
host=192.168.1.123
# Alternatively, use the hostname.
# host=myhostname</pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>nfs-server.service</code> to apply the changes immediately.
</p>
<div class="mw-heading mw-heading3"><h3 id="Firewall_configuration">Firewall configuration</h3></div>
<p>To enable access of NFSv4-servers through a <a href="../en/Category:Firewalls.html" class="mw-redirect" title="Firewall">firewall</a>, TCP port <code>2049</code> must be opened for incoming connections. (NFSv4 uses a static port number; it does not use any auxiliary services such as mountd or portmapper.)
</p>
<p>To enable access of NFSv3 servers, you will additionally need to open TCP/UDP port <code>111</code> for the portmapper (rpcbind), as well as the MOUNT (rpc.mountd) port. By default, rpc.mountd selects a port dynamically, so if you're behind a firewall you will want to edit <code>/etc/nfs.conf</code> to set a static port instead. Use <code>rpcinfo -p</code> to examine the exact ports in use on the NFSv3 server:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ rpcinfo -p</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">100003    3   tcp   2049  nfs
100003    4   tcp   2049  nfs
100227    3   tcp   2049  nfs_acl
...
</pre>
<div class="mw-heading mw-heading2"><h2 id="Client_configuration">Client configuration</h2></div>
<p>Users intending to use NFS4 with <a href="../en/Kerberos.html" title="Kerberos">Kerberos</a> need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>nfs-client.target</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Manual_mounting">Manual mounting</h3></div>
<p>For NFSv3 use this command to show the server's exported file systems:
</p>
<pre>$ showmount -e <i>servername</i>
</pre>
<p>For NFSv4 mount the root NFS directory and look around for available mounts:
</p>
<pre># mount <i>servername</i>:/ <i>/mountpoint/on/client</i>
</pre>
<p>Then mount omitting the server's NFS export root: 
</p>
<pre># mount -t nfs -o vers=4 <i>servername</i>:/music <i>/mountpoint/on/client</i>
</pre>
<p>If mount fails try including the server's export root (required for Debian/RHEL/SLES, some distributions need <code>-t nfs4</code> instead of <code>-t nfs</code>):
</p>
<pre># mount -t nfs -o vers=4 <i>servername</i>:/srv/nfs/music <i>/mountpoint/on/client</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> <code><i>servername</i></code> needs to be replaced with a valid hostname (not just IP address). Otherwise mounting of remote share will hang.</div>
<div class="mw-heading mw-heading3"><h3 id="Mount_using_/etc/fstab">
<span id="Mount_using_.2Fetc.2Ffstab"></span>Mount using /etc/fstab</h3></div>
<p>Using <a href="../en/Fstab.html" title="Fstab">fstab</a> is useful for a server which is always on, and the NFS shares are available whenever the client boots up. Edit <code>/etc/fstab</code> file, and add an appropriate line reflecting the setup. Again, the server's NFS export root is omitted.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">servername:/music   /mountpoint/on/client   nfs   defaults,timeo=900,retrans=5,_netdev	0 0</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Consult <span class="plainlinks archwiki-template-man" title="$ man 5 nfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nfs.5">nfs(5)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8">mount(8)</a></span> for more mount options.</div>
<p>Some additional mount options to consider:
</p>
<dl>
<dt>rsize and wsize</dt>
<dd>The <code>rsize</code> value is the number of bytes used when reading from the server. The <code>wsize</code> value is the number of bytes used when writing to the server. By default, if these options are not specified, the client and server negotiate the largest values they can both support (see <span class="plainlinks archwiki-template-man" title="$ man 5 nfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nfs.5">nfs(5)</a></span> for details). After changing these values, it is recommended to test the performance (see <a href="#Performance_tuning">#Performance tuning</a>).</dd>
<dt>soft or hard</dt>
<dd>Determines the recovery behaviour of the NFS client after an NFS request times out. If neither option is specified (or if the <code>hard</code> option is specified), NFS requests are retried indefinitely. If the <code>soft</code> option is specified, then the NFS client fails an NFS request after <i>retrans</i> retransmissions have been sent, causing the NFS client to return an error to the calling application.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> A so-called <code>soft</code> timeout can cause silent data corruption in certain cases. As such, use the <code>soft</code> option only when client responsiveness is more important than data integrity. Using NFS over TCP or increasing the value of the <code>retrans</code> option may mitigate some of the risks of using the <code>soft</code> option.</div>
<dl>
<dt>timeo</dt>
<dd>The <code>timeo</code> value is the amount of time, in tenths of a second, to wait before resending a transmission after an RPC timeout. The default value for NFS over TCP is 600 (60 seconds). After the first timeout, the timeout value is doubled for each retry for a maximum of 60 seconds or until a major timeout occurs. If connecting to a slow server or over a busy network, better stability can be achieved by increasing this timeout value.</dd>
<dt>retrans</dt>
<dd>The number of times the NFS client retries a request before it attempts further recovery action. If the <code>retrans</code> option is not specified, the NFS client tries each request three times. The NFS client generates a "server not responding" message after <i>retrans</i> retries, then attempts further recovery (depending on whether the hard mount option is in effect).</dd>
<dt>_netdev</dt>
<dd>The <code>_netdev</code> option tells the system to wait until the network is up before trying to mount the share - <a href="../en/Systemd.html" title="Systemd">systemd</a> assumes this for NFS.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Setting the sixth field (<code>fs_passno</code>) to a nonzero value may lead to unexpected behaviour, e.g. hangs when the systemd automount waits for a check which will never happen.</div>
<div class="mw-heading mw-heading3"><h3 id="Mount_using_/etc/fstab_with_systemd">
<span id="Mount_using_.2Fetc.2Ffstab_with_systemd"></span>Mount using /etc/fstab with systemd</h3></div>
<p>Another method is using the <a href="../en/Fstab.html#Remote_file_system" title="Fstab">x-systemd.automount</a> option which mounts the filesystem upon access:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">servername:/home   <i>/mountpoint/on/client</i>  nfs  _netdev,noauto,x-systemd.automount,x-systemd.mount-timeout=10,timeo=14,x-systemd.idle-timeout=1min 0 0</pre>
<p>To make systemd aware of the changes to fstab, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Reload">reload</a> systemd and restart <code>remote-fs.target</code> <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1515377#p1515377">[1]</a>.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Not everyone uses NetworkManager. Refer to <a href="../en/Systemd.html#Running_services_after_the_network_is_up" title="Systemd">Systemd#Running services after the network is up</a> instead? (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NFS.html">Talk:NFS</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>The <code>noauto</code> mount option will not mount the NFS share until it is accessed: use <code>auto</code> for it to be available immediately. <br> If experiencing any issues with the mount failing due to the network not being up/available, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>NetworkManager-wait-online.service</code>. It will ensure that <code>network.target</code> has all the links available prior to being active.</li>
<li>The <code>users</code> mount option would allow user mounts, but be aware it implies further options as <code>noexec</code> for example.</li>
<li>The <code>x-systemd.idle-timeout=1min</code> option will unmount the NFS share automatically after 1 minute of non-use. Good for laptops which might suddenly disconnect from the network.</li>
<li>If shutdown/reboot holds too long because of NFS,  <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>NetworkManager-wait-online.service</code> to ensure that NetworkManager is not exited before the NFS volumes are unmounted.</li>
<li>Do not add the <code>x-systemd.requires=network-online.target</code> mount option as this can lead to ordering cycles within systemd <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd-stable/issues/69">[2]</a>. systemd adds the <code>network-online.target</code> dependency to the unit for <code>_netdev</code> mount automatically.</li>
<li>Using the <code>nocto</code> option may improve performance for read-only mounts, but should be used only if the data on the server changes only occasionally.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="As_systemd_unit">As systemd unit</h3></div>
<p>Create a new <code>.mount</code> file inside <code>/etc/systemd/system</code>, e.g. <code>mnt-home.mount</code>. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.mount.5">systemd.mount(5)</a></span> for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Make sure the filename corresponds to the mountpoint you want to use.
E.g. the unit name <code>mnt-home.mount</code> can only be used if you are going to mount the share under <code>/mnt/home</code>. Otherwise the following error might occur: <code>systemd[1]: mnt-home.mount: Where= setting does not match unit name. Refusing.</code>. If the mountpoint contains non-ASCII characters, use <a href="../en/Systemd.html#Writing_unit_files" title="Systemd">systemd-escape</a>).</div>
<p><code>What=</code> path to share
</p>
<p><code>Where=</code> path to mount the share
</p>
<p><code>Options=</code> share mounting options
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Network mount units automatically acquire <code>After</code> dependencies on <code>remote-fs-pre.target</code>, <code>network.target</code> and <code>network-online.target</code>, and gain a <code>Before</code> dependency on <code>remote-fs.target</code> unless <code>nofail</code> mount option is set. Towards the latter a <code>Wants</code> unit is added as well.</li>
<li>
<a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">Append</a> <code>noauto</code> to <code>Options</code> preventing automatically mount during boot (unless it is pulled in by some other unit).</li>
<li>If you want to use a hostname for the server you want to share (instead of an IP address), add <code>nss-lookup.target</code> to <code>After</code>. This might avoid mount errors at boot time that do not arise when testing the unit.</li>
</ul>
</div> 
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/mnt-home.mount</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Mount home at boot

[Mount]
What=172.16.24.192:/home
Where=/mnt/home
Options=vers=4
Type=nfs
TimeoutSec=30

[Install]
WantedBy=multi-user.target</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> In case of an unreachable system, <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">append</a> <code>ForceUnmount=true</code> to <code>[Mount]</code>, allowing the export to be (force-)unmounted.</div>
<p>To use <code>mnt-home.mount</code>, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> the unit and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> it to run on system boot.
</p>
<div class="mw-heading mw-heading4"><h4 id="automount">automount</h4></div>
<p>To automatically mount a share, one may use the following automount unit:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/mnt-home.automount</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Automount home

[Automount]
Where=/mnt/home

[Install]
WantedBy=multi-user.target</pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Disable">Disable</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Stop">stop</a> the <code>mnt-home.mount</code> unit, and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>mnt-home.automount</code> to automount the share when the mount path is being accessed.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">Append</a> <code>TimeoutIdleSec</code> to enable auto unmount. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.automount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.automount.5">systemd.automount(5)</a></span> for details.</div>
<div class="mw-heading mw-heading3"><h3 id="Mount_using_autofs">Mount using autofs</h3></div>
<p>Using <a href="../en/Autofs.html" title="Autofs">autofs</a> is useful when multiple machines want to connect via NFS; they could both be clients as well as servers. The reason this method is preferable over the earlier one is that if the server is switched off, the client will not throw errors about being unable to find NFS shares. See <a href="../en/Autofs.html#NFS_network_mounts" title="Autofs">autofs#NFS network mounts</a> for details.
</p>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="NFSv4_idmapping">NFSv4 idmapping</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> The instructions are too convoluted. Separate sections for client and server configuration would be better than notes like "Enabling/starting nfs-idmapd.service should not be needed on the client" or "Do not confuse the nfsidmap (only for nfs clients) with nfs-idmapd.service". (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NFS.html">Talk:NFS</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Missing lookup information, static binding examples, etc. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NFS.html">Talk:NFS</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>NFSv4 idmapping does not solve all issues with the default <code>sec=sys</code> mount option. See <a href="#static_mapping">#static mapping</a> and <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20220602190451/https://dfusion.com.au/wiki/tiki-index.php?page=Why+NFSv4+UID+mapping+breaks+with+AUTH_UNIX">[3]</a>
</li>
<li>NFSv4 idmapping needs to be enabled on <b>both</b> the client and server.</li>
<li>Another option is to make sure the user and group IDs (UID and GID) match on both the client and server.</li>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enabling">Enabling</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting">starting</a> <code>nfs-idmapd.service</code> is <b>not</b> needed on the client to run, as it has been replaced with a new id mapper:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep id_resolver</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[ 3238.356001] NFS: Registering the id_resolver key type
[ 3238.356009] Key type id_resolver registered
</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>Do not confuse the <code>nfsidmap</code> (only for nfs <b>clients</b>) with <code>nfs-idmapd.service</code> which is used by the NFS <b>server</b> and forks the process <code>rpc.idmapd</code>.</li>
<li>Both rpc.idmapd and nfsidmap share also some configurations from <span class="plainlinks archwiki-template-man" title="$ man 5 idmapd.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/idmapd.conf.5">idmapd.conf(5)</a></span>.</li>
<li>See <span class="plainlinks archwiki-template-man" title="$ man 8 idmapd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/idmapd.8">idmapd(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 8 nfsidmap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nfsidmap.8">nfsidmap(8)</a></span> for details.</li>
</ul>
</div>
<p>The NFSv4 protocol represents the local system's UID and GID values on the wire as strings of the form <code><i>user</i>@<i>domain</i></code>. The process of translating from UID to string and string to UID is referred to as <i>ID mapping</i>.  
</p>
<div class="mw-heading mw-heading4"><h4 id="Domain">Domain</h4></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>By default, the domain part of the string is the system's DNS domain name. It can also be specified in /etc/idmapd.conf if the system is multi-homed, or if the system's DNS domain name does not match the name of the system's Kerberos realm.</li>
<li>When the domain is not specified in /etc/idmapd.conf the local DNS server will be queried for the _nfsv4idmapdomain text record. If the record exists that will be used as the domain. When the record does not exist, the domain part of the DNS domain will used.</li>
</ul>
</div>
<p>Display the system's effective NFSv4 domain name on stdout.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># nfsidmap -d</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">domain.tld</pre>
<p>Edit to match up the Domain on the server and/or client:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/idmapd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
Domain = <i>guestdomain.tld</i></pre>
<p><br>
</p>
<div class="mw-heading mw-heading4"><h4 id="static_mapping">static mapping</h4></div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>This mapping is only for the client to map uid locally. If you create a file owned by an uid (e.g. 1005) that is not known on the server. The file is stored with the uid 1005 on the server but wont be shown "over the wire" with the correct uid anymore.</li>
<li>You can see all entries in the keyring after interacting with the server aka. listing files:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># nfsidmap -l</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">7 .id_resolver keys found:
 uid:nobody
 user:1
 uid:bin@domain.tld
 uid:foo@domain.tld
 gid:foo@domain.tld
 uid:remote_user@domain.tld
 uid:root@domain.tld
</pre>
<ul><li>You can clear the keyring with <code>nfsidmap -c</code>, but it is not needed, in the default setup after 10 Minutes entries expire.</li></ul>
</div>
<p>These steps are only needed if the server and client have different user/group names.
Changes are only done in the clients config file.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/idmapd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Translation]
# The default is nsswitch and other methods exist.
method = static,nsswitch

[Static]
foo@domain.tld = local_foo
remote_user@domain.tld = user</pre>
<p><br>
</p>
<div class="mw-heading mw-heading4"><h4 id="fallback_mapping">fallback mapping</h4></div>
<p>Only in the client configuration. Local user/group name to be used when a mapping cannot be completed: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/idmapd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Mapping]
Nobody-User = nobody
Nobody-Group = nobody</pre>
<div class="mw-heading mw-heading3"><h3 id="Performance_tuning">Performance tuning</h3></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> Mentions 32-bit and 2.6 Linux kernel... (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NFS.html">Talk:NFS</a>)</div>
</div>
<p>When using NFS on a network with a significant number of clients one may increase the default NFS threads from <i>8</i> to <i>16</i> or even a higher, depending on the server/network requirements:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nfs.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[nfsd]
threads=16</pre>
<p>It may be necessary to tune the <code>rsize</code> and <code>wsize</code> mount options to meet the requirements of the network configuration.
</p>
<p>In recent linux kernels (&gt;2.6.18) the size of I/O operations allowed by the NFS server (default max block size) varies depending on RAM size, with a maximum of 1M (1048576 bytes), the max block size of the server will be used even if nfs clients requires bigger <code>rsize</code> and <code>wsize</code>. 	See <a rel="nofollow" class="external free" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/5.8_technical_notes/known_issues-kernel">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/5.8_technical_notes/known_issues-kernel</a>
It is possible to change the default max block size allowed by the server by writing to the <code>/proc/fs/nfsd/max_block_size</code> before starting <i>nfsd</i>. For example, the following command restores the previous default iosize of 32k:
</p>
<pre># echo 32768 &gt; /proc/fs/nfsd/max_block_size
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This is mainly useful for 32-bit servers when dealing with the large numbers of nfsd threads. Lowering the <code>max_block_size</code>  may decrease NFS performance on modern hardware.</div>
<p>To make the change permanent, create a <a href="../en/Systemd.html#systemd-tmpfiles_-_temporary_files" class="mw-redirect" title="Systemd-tmpfile">systemd-tmpfile</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/nfsd-block-size.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /proc/fs/nfsd/max_block_size - - - - 32768
</pre>
<p>To mount with the increased <code>rsize</code> and <code>wsize</code> mount options:
</p>
<pre># mount -t nfs -o rsize=32768,wsize=32768,vers=4 servername:/srv/nfs/music /mountpoint/on/client
</pre>
<p>Furthermore, despite the violation of NFS protocol, setting <code>async</code> instead of <code>sync</code> or <code>sync,no_wdelay</code> may potentially achieve a significant performance gain especially on spinning disks. Configure exports with this option and then execute <code>exportfs -arv</code> to apply.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/exports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/srv/nfs        192.168.1.0/24(rw,async,crossmnt,fsid=0)
/srv/nfs/music  192.168.1.0/24(rw,async)</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Using <code>async</code> comes with a risk of possible data loss or corruption if the server crashes or restarts uncleanly.</div>
<div class="mw-heading mw-heading3"><h3 id="Automatic_mount_handling">Automatic mount handling</h3></div>
<p>This trick is useful for NFS-shares on a <a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless">wireless</a> network and/or on a network that may be unreliable. If the NFS host becomes unreachable, the NFS share will be unmounted to hopefully prevent system hangs when using the <code>hard</code> mount option <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1260240#p1260240">[4]</a>.
</p>
<p>Make sure that the NFS mount points are correctly indicated in <a href="../en/Fstab.html" title="Fstab">fstab</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">lithium:/mnt/data           /mnt/data	        nfs noauto 0 0
lithium:/var/cache/pacman   /var/cache/pacman	nfs noauto 0 0</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Use hostnames in <a href="../en/Fstab.html" title="Fstab">fstab</a> for this to work, not IP addresses.</li>
<li>In order to mount NFS shares with non-root users the <code>users</code> option has to be added.</li>
<li>The <code>noauto</code> mount option tells <a href="../en/Systemd.html" title="Systemd">systemd</a> to not automatically <a href="../en/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">mount</a> the shares at boot, otherwise this may cause the boot process to stall.</li>
</ul>
</div>
<p>Create the <code>auto_share</code> script that will be used by <a href="../en/Cron.html" title="Cron">cron</a> or <a href="../en/Systemd/Timers.html" title="Systemd/Timers">systemd/Timers</a> to use ICMP ping to check if the NFS host is reachable:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/auto_share</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

function net_umount {
  umount -l -f $1 &amp;&gt;/dev/null
}

function net_mount {
  mountpoint -q $1 || mount $1
}

NET_MOUNTS=$(sed -e '/^.*#/d' -e '/^.*:/!d' -e 's/\t/ /g' /etc/fstab | tr -s " ")$'\n'b

printf %s "$NET_MOUNTS" | while IFS= read -r line
do
  SERVER=$(echo $line | cut -f1 -d":")
  MOUNT_POINT=$(echo $line | cut -f2 -d" ")

  # Check if server already tested
  if [[ "${server_ok[@]}" =~ "${SERVER}" ]]; then
    # The server is up, make sure the share are mounted
    net_mount $MOUNT_POINT
  elif [[ "${server_notok[@]}" =~ "${SERVER}" ]]; then
    # The server could not be reached, unmount the share
    net_umount $MOUNT_POINT
  else
    # Check if the server is reachable
    ping -c 1 "${SERVER}" &amp;&gt;/dev/null

    if [ $? -ne 0 ]; then
      server_notok[${#server_notok[@]}]=$SERVER
      # The server could not be reached, unmount the share
      net_umount $MOUNT_POINT
    else
      server_ok[${#server_ok[@]}]=$SERVER
      # The server is up, make sure the share are mounted
      net_mount $MOUNT_POINT
    fi
  fi
done
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Test using a TCP probe instead of ICMP ping (default is tcp port 2049 in NFS4) then replace the line:
<pre># Check if the server is reachable
ping -c 1 "${SERVER}" &amp;&gt;/dev/null
</pre>
<p>with:
</p>
<pre># Check if the server is reachable
timeout 1 bash -c ": &lt; /dev/tcp/${SERVER}/2049"
</pre>
in the <code>auto_share</code> script above.</div>
<p>Make sure the script is <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>.
</p>
<p>Next check configure the script to run every X, in the examples below this is every minute.
</p>
<div class="mw-heading mw-heading4"><h4 id="Cron">Cron</h4></div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># crontab -e</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">* * * * * /usr/local/bin/auto_share
</pre>
<div class="mw-heading mw-heading4"><h4 id="systemd/Timers">
<span id="systemd.2FTimers"></span>systemd/Timers</h4></div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/auto_share.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Automount NFS shares every minute

[Timer]
OnCalendar=*-*-* *:*:00

[Install]
WantedBy=timers.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/auto_share.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Automount NFS shares
After=network.target

[Service]
Type=oneshot
ExecStart=/usr/local/bin/auto_share

[Install]
WantedBy=multi-user.target</pre>
<p>Finally, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>auto_share.timer</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Using_a_NetworkManager_dispatcher">Using a NetworkManager dispatcher</h4></div>
<p><a href="../en/NetworkManager.html#Network_services_with_NetworkManager_dispatcher" title="NetworkManager">NetworkManager</a> can also be configured to run a script on network status change.
</p>
<p>The easiest method for mount shares on network status change is to symlink the <code>auto_share</code> script:
</p>
<pre># ln -s /usr/local/bin/auto_share /etc/NetworkManager/dispatcher.d/30-nfs.sh
</pre>
<p>However, in that particular case unmounting will happen only after the network connection has already been disabled, which is unclean and may result in effects like freezing of KDE Plasma applets. 
</p>
<p>The following script safely unmounts the NFS shares before the relevant network connection is disabled by listening for the <code>down</code>, <code>pre-down</code> and <code>vpn-pre-down</code> events, make sure the script is <a href="../en/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/30-nfs.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Find the connection UUID with "nmcli con show" in terminal.
# All NetworkManager connection types are supported: wireless, VPN, wired...
WANTED_CON_UUID="CHANGE-ME-NOW-9c7eff15-010a-4b1c-a786-9b4efa218ba9"

if [ "$CONNECTION_UUID" = "$WANTED_CON_UUID" ]; then
    
    # Script parameter $1: network interface name, not used
    # Script parameter $2: dispatched event
    
    case "$2" in
        "up")
            mount -a -t nfs4,nfs 
            ;;
        "down"|"pre-down"|"vpn-pre-down")
            umount -l -a -t nfs4,nfs -f &gt;/dev/null
            ;;
    esac
fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This script ignores mounts with the <code>noauto</code> option, remove this mount option or use <code>auto</code> to allow the dispatcher to manage these mounts.</div>
<p>Create a symlink inside <code>/etc/NetworkManager/dispatcher.d/pre-down</code> to catch the <code>pre-down</code> events:
</p>
<pre># ln -s /etc/NetworkManager/dispatcher.d/30-nfs.sh /etc/NetworkManager/dispatcher.d/pre-down.d/30-nfs.sh
</pre>
<div class="mw-heading mw-heading3"><h3 id="TLS_encryption">TLS encryption</h3></div>
<p>NFS traffic can be encrypted using TLS as of Linux 6.5 using the <code>xprtsec=tls</code> mount option. To begin, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ktls-utils/">ktls-utils</a></span><sup><small>AUR</small></sup> package on the client and server, and follow the below configuration steps for each.
</p>
<div class="mw-heading mw-heading4"><h4 id="Server">Server</h4></div>
<p>Create a private key and obtain a certificate containing your server's DNS name (see <a href="../en/Transport_Layer_Security.html#Obtaining_a_certificate" title="Transport Layer Security">Transport Layer Security#Obtaining a certificate</a> for more detail). These files do not need to be added to the system's trust store.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Using an encrypted private key is currently not supported and will result in a mount failure.</div>
<p>Edit <code>/etc/tlshd.conf</code> to use these files, using your own values for <code>x509.certificate</code> and <code>x509.private_key</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tlshd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[authenticate.server]
x509.certificate= /etc/nfsd-certificate.pem
x509.private_key= /etc/nfsd-private-key.pem</pre>
<p>Now <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>tlshd.service</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Client">Client</h4></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Use <code>x509.truststore</code> in <code>/etc/tlshd.conf</code> instead of adding certificates to the system's trust store. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:NFS.html">Talk:NFS</a>)</div>
</div>
<p>Add the server's TLS certificate generated in the previous step to the system's trust store (see <a href="../en/Transport_Layer_Security.html#Add_a_certificate_to_a_trust_store" title="Transport Layer Security">Transport Layer Security#Add a certificate to a trust store</a> for more detail).
</p>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>tlshd.service</code>.
</p>
<p>Now you should be able to mount the server using the server's DNS name:
</p>
<pre># mount -o xprtsec=tls <i>servername.domain</i>:/ <i>/mountpoint/on/client</i>
</pre>
<p>Checking journalctl on the client should show that the TLS handshake was successful:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ journalctl -b -u tlshd.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Sep 28 11:14:46 client tlshd[227]: Built from ktls-utils 0.10 on Sep 26 2023 14:24:03
Sep 28 11:15:37 client tlshd[571]: Handshake with servername.domain (192.168.122.100) was successful
</pre>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<p>There is a dedicated article <a href="../en/NFS/Troubleshooting.html" title="NFS/Troubleshooting">NFS/Troubleshooting</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li>See also <a href="../en/Avahi.html" title="Avahi">Avahi</a>, a Zeroconf implementation which allows automatic discovery of NFS shares.</li>
<li>HOWTO: <a href="../en/Diskless_system.html" class="mw-redirect" title="Diskless network boot NFS root">Diskless network boot NFS root</a>
</li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20201111215940/https://docs.microsoft.com/en-us/archive/blogs/msdn/sfu/all-well-almost-about-client-for-nfs-configuration-and-performance/">Microsoft Services for Unix NFS Client info</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20151212160906/https://blogs.oracle.com/jag/entry/nfs_on_snow_leopard">NFS on Snow Leopard</a></li>
<li><a rel="nofollow" class="external free" href="http://chschneider.eu/linux/server/nfs.shtml">http://chschneider.eu/linux/server/nfs.shtml</a></li>
<li><a rel="nofollow" class="external text" href="https://www.slashroot.in/how-do-linux-nfs-performance-tuning-and-optimization">How to do Linux NFS Performance Tuning and Optimization</a></li>
<li><a rel="nofollow" class="external text" href="https://www.cyberciti.biz/faq/linux-unix-tuning-nfs-server-client-performance/">Linux: Tune NFS Performance</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/storage_administration_guide/nfs-serverconfig#nfs4-only">Configuring an NFSv4-only Server</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:File_systems.html" title="Category:File systems">File systems</a></li>
<li><a href="../en/Category:Network_sharing.html" title="Category:Network sharing">Network sharing</a></li>
<li><a href="../en/Category:Servers.html" title="Category:Servers">Servers</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NFS&amp;oldid=847416">https://wiki.archlinux.org/index.php?title=NFS&amp;oldid=847416</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 September 2025, at 13:24.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">NFS</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
