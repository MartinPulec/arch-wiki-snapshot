<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Parted - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Parted rootpage-Parted skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Usage</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Command_line_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Command_line_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Command line mode</div>
			</a>
			
			<ul id="toc-Command_line_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Interactive_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Interactive_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Interactive mode</div>
			</a>
			
			<ul id="toc-Interactive_mode-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Rounding" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Rounding">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Rounding</div>
		</a>
		
		<ul id="toc-Rounding-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Partitioning" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Partitioning">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Partitioning</div>
		</a>
		
			<button aria-controls="toc-Partitioning-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Partitioning subsection</span>
			</button>
		
		<ul id="toc-Partitioning-sublist" class="vector-toc-list">
			<li id="toc-Create_new_partition_table" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Create_new_partition_table">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Create new partition table</div>
			</a>
			
			<ul id="toc-Create_new_partition_table-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Partition_schemes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Partition_schemes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Partition schemes</div>
			</a>
			
			<ul id="toc-Partition_schemes-sublist" class="vector-toc-list">
				<li id="toc-UEFI/GPT_examples" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#UEFI/GPT_examples">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.1</span>UEFI/GPT examples</div>
			</a>
			
			<ul id="toc-UEFI/GPT_examples-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS/MBR_examples" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#BIOS/MBR_examples">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.2</span>BIOS/MBR examples</div>
			</a>
			
			<ul id="toc-BIOS/MBR_examples-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Resizing_partitions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Resizing_partitions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Resizing partitions</div>
			</a>
			
			<ul id="toc-Resizing_partitions-sublist" class="vector-toc-list">
				<li id="toc-Growing_partitions" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Growing_partitions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3.1</span>Growing partitions</div>
			</a>
			
			<ul id="toc-Growing_partitions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Shrinking_partitions" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Shrinking_partitions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3.2</span>Shrinking partitions</div>
			</a>
			
			<ul id="toc-Shrinking_partitions-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Known_issues" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Known_issues">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Known issues</div>
		</a>
		
			<button aria-controls="toc-Known_issues-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Known issues subsection</span>
			</button>
		
		<ul id="toc-Known_issues-sublist" class="vector-toc-list">
			<li id="toc-Alignment" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Alignment">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Alignment</div>
			</a>
			
			<ul id="toc-Alignment-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Check_alignment" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Check_alignment">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Check alignment</div>
			</a>
			
			<ul id="toc-Check_alignment-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Parted</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/GParted" title="GParted – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Parted.html" title="Parted – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Parted" title="Parted – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Parted.html" title="Parted – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-tr mw-list-item"><a href="../tr/Parted.html" title="Parted – Türkçe" lang="tr" hreflang="tr" class="interlanguage-link-target"><span>Türkçe</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Parted" title="Parted – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Fdisk.html" title="Fdisk">fdisk</a></li>
<li><a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a></li>
<li><a href="../en/Partitioning.html" title="Partitioning">Partitioning</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/parted.html">GNU Parted</a> is a program for creating and manipulating partition tables. GParted is a GUI frontend.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> one of the following packages:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=parted">parted</a></span> – command-line only.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gparted">gparted</a></span> – a graphical front-end for <i>parted</i>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xhost">xorg-xhost</a></span> optional dependency is needed for running GParted under <a href="../en/Wayland.html" title="Wayland">Wayland</a>. <a rel="nofollow" class="external autonumber" href="http://gparted-forum.surf4.info/viewtopic.php?id=17682">[1]</a>
</div>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Parted has two modes: command line and interactive. Parted should always be started with:
</p>
<pre># parted <i>device</i>
</pre>
<p>where <code><i>device</i></code> is <a href="../en/Device_file.html#Block_devices" class="mw-redirect" title="Block device">block device</a> name like <code>/dev/sda</code>, <code>/dev/nvme0n1</code>, <code>/dev/mmcblk0</code>, etc. If you omit the <code><i>device</i></code> argument, <i>parted</i> will attempt to guess which device you want.
</p>
<h3><span class="mw-headline" id="Command_line_mode">Command line mode</span></h3>
<p>In command line mode, this is followed by one or more commands. For example:
</p>
<pre># parted /dev/sda mklabel gpt mkpart P1 ext3 1MiB 8MiB 
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Options (like <code>--help</code>) can only be specified on the command line.</div>
<h3><span class="mw-headline" id="Interactive_mode">Interactive mode</span></h3>
<p>Interactive mode simplifies the partitioning process and reduces unnecessary repetition by automatically applying all partitioning commands to the specified device. 
</p>
<p>In order to start operating on a device, execute:
</p>
<pre># parted /dev/sd<i>x</i>
</pre>
<p>You will notice that the command-line prompt changes from a hash (<code>#</code>) to <code>(parted)</code>: this also means that the new prompt is not a command to be manually entered when running the commands in the examples.
</p>
<p>To see a list of the available commands, enter:
</p>
<pre>(parted) help
</pre>
<p>When finished, or if wishing to implement a partition table or scheme for another device, exit from parted with:
</p>
<pre>(parted) quit
</pre>
<p>After exiting, the command-line prompt will change back to <code>#</code>.
</p>
<p>If you do not give a parameter to a command, Parted will prompt you for it. For example:
</p>
<pre>(parted) mklabel
New disk label type? gpt
</pre>
<h2><span class="mw-headline" id="Rounding">Rounding</span></h2>
<p>Since many partitioning systems have complicated constraints, Parted will usually do something slightly different to what you asked. (For example, create a partition starting at 10.352Mb, not 10.4Mb) If the calculated values differ too much, Parted will ask you for confirmation.  If you know exactly what you want, or to see exactly what Parted is doing, it helps to specify partition endpoints in sectors (with the "s" suffix) and give the "unit s" command so that the partition endpoints are displayed in sectors.
</p>
<p>As of parted-2.4, when you specify start and/or end values using IEC binary units like “MiB”, “GiB”, “TiB”, etc., parted treats those values as exact, and equivalent to the same number specified in bytes (i.e., with the “B” suffix), in that it provides no “helpful” range of sloppiness. Contrast that with a partition start request of “4GB”, which may actually resolve to some sector up to 500MB before or after that point. Thus, when creating a partition, you should prefer to specify units of bytes (“B”), sectors (“s”), or IEC binary units like “MiB”, but not “MB”, “GB”, etc.
</p>
<h2><span class="mw-headline" id="Partitioning">Partitioning</span></h2>
<h3><span class="mw-headline" id="Create_new_partition_table">Create new partition table</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If you create a new partition table on a disk with data on it, it will erase all the data on the disk. Make sure this is what you want to do.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Check that your NVMe drives and Advanced Format hard disk drives are using the <a href="../en/Advanced_Format.html" title="Advanced Format">optimal logical sector size</a> before partitioning.</li>
<li>Consider performing <a href="../en/Solid_state_drive/Memory_cell_clearing.html" class="mw-redirect" title="SSD memory cell clearing">SSD memory cell clearing</a> before partitioning an SSD.</li>
</ul>
</div>
<p>You need to (re)create the partition table of a device when it has never been partitioned before, or when you want to change the type of its partition table. Recreating the partition table of a device is also useful when the partition scheme needs to be restructured from scratch.
</p>
<p>Open each device whose partition table must be (re)created with:
</p>
<pre># parted /dev/sd<i>x</i>
</pre>
<p>To then create a new <a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table">GUID Partition Table</a>, use the following command:
</p>
<pre>(parted) mklabel gpt
</pre>
<p>To create a new <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="Master Boot Record">Master Boot Record</a>/MS-DOS partition table instead, use:
</p>
<pre>(parted) mklabel msdos
</pre>
<h3><span class="mw-headline" id="Partition_schemes">Partition schemes</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Replace all percentages with explicit MiB aligned sizes to prevent <a href="../en/Advanced_Format.html#Partition_alignment" title="Advanced Format">alignment issues</a>. Also warn about the issues. (Discuss in <a href="../en/Talk:Installation_guide.html#Remove_parted" title="Talk:Installation guide">Talk:Installation guide#Remove parted</a>)</div>
</div>
<p>You can decide the number and size of the partitions the devices should be split into, and which directories will be used to mount the partitions in the installed system (also known as <i>mount points</i>). See <a href="../en/Partitioning.html#Partition_scheme" title="Partitioning">Partitioning#Partition scheme</a> for the required partitions.
</p>
<p>The following command will be used to create partitions:
</p>
<pre>(parted) mkpart <i>part-type-or-part-label</i> <i>fs-type</i> <i>start</i> <i>end</i>
</pre>
<ul>
<li>
<code><i>part-type-or-part-label</i></code> is interpreted differently based on the partition table:
<ul>
<li>MBR: the parameter is interpreted as <code><i>part-type</i></code>, which can be one of <code>primary</code>, <code>extended</code> or <code>logical</code>.</li>
<li>GPT: the parameter is interpreted as <code><i>part-label</i></code>, which sets the <a href="../en/Persistent_block_device_naming.html#by-partlabel" class="mw-redirect" title="PARTLABEL">PARTLABEL</a> attribute of the partition. To avoid setting a partition label, pass an empty quoted string (<code>""</code>). <div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Many tutorials on the web use commands which start with <code>mkpart primary</code> even for GPT. They are wrong, this would set "primary" as the partition label.</div>
</li>
</ul>
</li>
<li>
<code><i>fs-type</i></code> is an identifier chosen among those listed by entering <code>help mkpart</code> as the closest match to the file system that you will use. The <i>mkpart</i> command does not actually create the file system: the <code><i>fs-type</i></code> parameter will simply be used by <i>parted</i> to set  <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">partition type GUID</a> for GPT partitions or <a href="https://en.wikipedia.org/wiki/Partition_type" class="extiw" title="wikipedia:Partition type">partition type ID</a> for MBR partitions. <div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>
<ul>
<li>
<i>parted</i> maps types named after Linux native file systems to the same "Linux filesystem" partition type (GUID <code>0FC63DAF-8483-4772-8E79-3D69D8477DE4</code> or ID <code>0x83</code>), so it is perfectly safe to e.g. use <code>ext2</code> for an <i>ext4</i>-formatted partition.</li>
<li>When using GPT, it is advised to follow the <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/discoverable_partitions_specification/">Discoverable Partitions Specification</a> since <a href="../en/Systemd.html#GPT_partition_automounting" title="Systemd">systemd-gpt-auto-generator</a> can automount them. The EFI system partition, XBOOTLDR partition, swap partition and home partition types can be changed using the <a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/manual/parted.html#index-set">set command</a>, while for the root partition and others, you will need to specify the partition type UUID manually with the <code>type</code> command.</li>
</ul>
</div>
</li>
<li class="mw-empty-elt">
<li>
<code><i>start</i></code> is the beginning of the partition from the start of the device. It consists of a number followed by a <a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/manual/parted.html#unit">unit</a>, for example <code>1MiB</code> means start at 1 MiB.</li>
<li>
<code><i>end</i></code> is the end of the partition from the start of the device (<i>not</i> from the <code><i>start</i></code> value). It has the same syntax as <code><i>start</i></code>, for example <code>100%</code> means end at the end of the device (use all the remaining space).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>On a disk with a MBR partition table leave at least 33 512-byte sectors (16.5 KiB) of free unpartitioned space at the end of the disk to allow <a href="../en/GPT_fdisk.html#Convert_between_MBR_and_GPT" class="mw-redirect" title="Gdisk">converting between MBR and GPT</a>.</li>
<li>If you do not want to leave unused space in the device, make sure that each partition starts where the previous one ends.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<i>parted</i> does not support specifying the start and end of a partition relative to the previous partition. See <a rel="nofollow" class="external text" href="https://debbugs.gnu.org/cgi/bugreport.cgi?bug=59176">bug #59176</a> and <a rel="nofollow" class="external text" href="https://debbugs.gnu.org/cgi/bugreport.cgi?bug=55841">bug #55841</a>.</li>
<li>
<i>parted</i> may issue a warning like:</li>
</ul>
<pre>Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel?
</pre>
In this case, read <a href="../en/Partitioning.html#Partition_alignment" title="Partitioning">Partitioning#Partition alignment</a> and follow <a href="#Alignment">#Alignment</a> to fix it.</div>
<p>The following command will be used to flag the partition that contains the <code>/boot</code> directory as bootable:
</p>
<pre>(parted) set <i>partition</i> boot on
</pre>
<ul>
<li>
<code><i>partition</i></code> is the number of the partition to be flagged (see the output of the <code>print</code> command).</li>
<li>
<code>esp</code> is an alias for <code>boot</code> on GPT. <a rel="nofollow" class="external autonumber" href="https://www.gnu.org/software/parted/manual/html_node/set.html">[2]</a>
</li>
</ul>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Explain the <code>boot</code>, <code>legacy_boot</code> and <code>esp</code> flags and their different usage on MBR and GPT. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Parted.html">Talk:Parted</a>)</div>
</div>
<h4>
<span id="UEFI.2FGPT_examples"></span><span class="mw-headline" id="UEFI/GPT_examples">UEFI/GPT examples</span>
</h4>
<p>In every instance, a special bootable <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> is required.
</p>
<p>If creating a new EFI system partition, use the following commands (the recommended size is at least 1 GiB):
</p>
<pre>(parted) mkpart "EFI system partition" fat32 1MiB 1025MiB
(parted) set 1 esp on
</pre>
<p>The remaining partition scheme is entirely up to you. For one root partition using 100% of remaining space:
</p>
<pre>(parted) mkpart "root partition" ext4 1025MiB 100%
(parted) type 2 4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709
</pre>
<p>For separate swap (4 GiB) and <code>/</code> (all remaining space) partitions:
</p>
<pre>(parted) mkpart "swap partition" linux-swap 1025MiB 5121MiB
(parted) mkpart "root partition" ext4 5121MiB 100%
(parted) type 3 4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709
</pre>
<p>And for separate swap (4 GiB), <code>/</code> (32 GiB) and <code>/home</code> (all remaining space) partitions:
</p>
<pre>(parted) mkpart "swap partition" linux-swap 1025MiB 5121MiB
(parted) mkpart "root partition" ext4 5121MiB 37889MiB
(parted) type 3 4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709
(parted) mkpart "home partition" ext4 37889MiB 100%
(parted) set 4 linux-home on
</pre>
<h4>
<span id="BIOS.2FMBR_examples"></span><span class="mw-headline" id="BIOS/MBR_examples">BIOS/MBR examples</span>
</h4>
<p>For a minimum single primary partition using all available disk space, the following command would be used:
</p>
<pre>(parted) mkpart primary ext4 1MiB 100%
(parted) set 1 boot on
</pre>
<p>In the following instance, a 4 GiB swap partition will be created, followed by a <code>/</code> partition using all the remaining space:
</p>
<pre>(parted) mkpart primary linux-swap 1MiB 4097MiB
(parted) mkpart primary ext4 4097MiB 100%
(parted) set 2 boot on
</pre>
<p>In the final example below, separate <code>/boot</code> (1 GiB), swap (4 GiB), <code>/</code> (32 GiB), and <code>/home</code> (all remaining space) partitions will be created:
</p>
<pre>(parted) mkpart primary ext4 1MiB 1025MiB
(parted) set 1 boot on
(parted) set 1 bls_boot on
(parted) mkpart primary linux-swap 1025MiB 5121MiB
(parted) mkpart primary ext4 5121MiB 37889MiB
(parted) mkpart primary ext4 37889MiB 100%
</pre>
<h3><span class="mw-headline" id="Resizing_partitions">Resizing partitions</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> ext2/3/4 partitions that are being resized must be unmounted and not in use. It is difficult and hazardous to try to edit the root filesystem on a running OS; use a live media/rescue system instead.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>You can only move the end of the partition with <code>parted</code>.</li>
<li>As of parted v3.2 <i>resizepart</i> may need the use of <a href="#Interactive_mode">#Interactive mode</a>.<a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/parted/+bug/1270203">[3]</a>
</li>
<li>These instructions apply to partitions that have ext2, ext3, ext4, or btrfs filesystems.</li>
</ul>
</div>
<p>If you are growing a partition, you have to first resize the partition and then resize the filesystem on it, while for shrinking the filesystem must be resized before the partition to avoid data loss.
</p>
<h4><span class="mw-headline" id="Growing_partitions">Growing partitions</span></h4>
<p>To grow a partition (in parted interactive mode):
</p>
<pre>(parted) resizepart <i>number</i> <i>end</i>
</pre>
<p>Where <code><i>number</i></code> is the number of the partition you are growing, and <code><i>end</i></code> is the new end of the partition (which needs to be larger than the old end).
</p>
<p>Then, to grow the (ext2/3/4) filesystem on the partition (if <code><i>size</i></code> is not specified, it will default to the size of the partition):
</p>
<pre># resize2fs /dev/<i>sdaX</i> <i>size</i>
</pre>
<p>Or to grow a Btrfs filesystem:
</p>
<pre># btrfs filesystem resize <i>size</i> <i>/path/to/mount/point</i>
</pre>
<p>Where <code><i>/path/to/mount/point</i></code> stands for the mount point of the partition you are growing, and <code><i>size</i></code> in the form <code>16G</code> or <code>+1G</code> is the new size or modification of the partition. Use <code>max</code> to fill the remaining space on the partition.
</p>
<h4><span class="mw-headline" id="Shrinking_partitions">Shrinking partitions</span></h4>
<p>To shrink an ext2/3/4 filesystem on the partition:
</p>
<pre># resize2fs /dev/<i>sdaX</i> <i>size</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In contrast to parted, <span class="plainlinks archwiki-template-man" title="$ man 8 resize2fs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/resize2fs.8">resize2fs(8)</a></span> uses K, M, G and T to mean KiB, MiB, GiB and TiB. Be aware that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=e2fsprogs">e2fsprogs</a></span> documentation misrefers to kibibytes, mebibytes, gibibytes and tebibytes as "power-of-two  kilobytes,  megabytes,  gigabytes,  terabytes".</div>
<p>To shrink a Btrfs filesystem:
</p>
<pre># btrfs filesystem resize <i>size</i> <i>/path/to/mount/point</i>
</pre>
<p>Where <code><i>/path/to/mount/point</i></code> stands for the mount point of the partition you are shrinking, and <code><i>size</i></code> is the new size of the partition.
</p>
<p>Then shrink the partition (in parted interactive mode):
</p>
<pre>(parted) resizepart <i>number</i> <i>end</i>
</pre>
<p>Where <code><i>number</i></code> is the number of the partition you are shrinking, and <code><i>end</i></code> is the new end of the partition (which needs to be smaller than the old end).
</p>
<p>When done, use the <i>resizepart</i> command from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span> to tell the kernel about the new size:
</p>
<pre># resizepart <i>device</i> <i>number</i> <i>size</i>
</pre>
<p>Where <code><i>device</i></code> is the device that holds the partition, <code><i>number</i></code> is the number of the partition and <code><i>size</i></code> is the new size of the partition, in 512-byte sectors.
</p>
<h2><span class="mw-headline" id="Known_issues">Known issues</span></h2>
<p>Parted will always warn you before doing something that is potentially dangerous, unless the command is one of those that is inherently dangerous (e.g. <i>rm</i>, <i>mklabel</i> and <i>mkpart</i>).
</p>
<h3><span class="mw-headline" id="Alignment">Alignment</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <i>parted</i> only aligns the partition start, but not the size. This is not enough for dm-crypt/LUKS, see <a href="../en/Advanced_Format.html#Partition_alignment" title="Advanced Format">Advanced Format#Partition alignment</a>.</div>
<p>When creating a partition, <i>parted</i> might warn about improper partition alignment but does not hint about proper alignment. For example:
</p>
<pre>(parted) mkpart primary fat16 0 32M
Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel?                                                     
</pre>
<p>The warning means the partition start is not aligned. Enter "Ignore" to go ahead anyway, print the partition table in sectors to see where it starts, and remove/recreate the partition with the start sector rounded up to increasing powers of 2 until the warning stops. As one example, on a flash drive with 512B sectors, Parted wanted partitions to start on sectors that were a multiple of 2048, which is 1 MiB alignment.
</p>
<p>If you want <i>parted</i> to attempt to calculate the correct alignment for you, specify the start position as 0% instead of some concrete value. To make one large ext4 partition, your command would look like this:
</p>
<pre>(parted) mkpart primary ext4 0% 100%
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Check_alignment">Check alignment</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <i>parted</i> only verifies the alignment of a partition start, but not the size. This is not enough for dm-crypt/LUKS, see <a href="../en/Advanced_Format.html#Partition_alignment" title="Advanced Format">Advanced Format#Partition alignment</a>.</div>
<p>On an already partitioned disk, you can use <i>parted</i> to verify the alignment of a partition on a device. For instance, to verify alignment of partition 1 on <code>/dev/sda</code>:
</p>
<pre># parted /dev/sda
(parted) align-check optimal 1
1 aligned
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/manual/">GNU parted - Parted User's Manual</a></li>
<li><a rel="nofollow" class="external text" href="https://rainbow.chard.org/2013/01/30/how-to-align-partitions-for-best-performance-using-parted/">How to align partitions for best performance using parted</a></li>
<li><a rel="nofollow" class="external text" href="http://positon.org/resize-an-ext3-ext4-partition">Resize an ext3/ext4 partition</a></li>
<li><a rel="nofollow" class="external text" href="http://gparted-forum.surf4.info/">Official GParted forums</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:File_systems.html" title="Category:File systems">File systems</a></li>
<li><a href="../en/Category:System_recovery.html" title="Category:System recovery">System recovery</a></li>
<li><a href="../en/Category:Commands.html" title="Category:Commands">Commands</a></li>
<li><a href="../en/Category:GNU.html" title="Category:GNU">GNU</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Parted&amp;oldid=810089">https://wiki.archlinux.org/index.php?title=Parted&amp;oldid=810089</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 June 2024, at 08:12.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
