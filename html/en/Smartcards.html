<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Smartcards - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Smartcards rootpage-Smartcards skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-OpenSC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenSC">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>OpenSC</span>
				</div>
			</a>
			
			<ul id="toc-OpenSC-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-FIDO2/U2F_support" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#FIDO2/U2F_support">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>FIDO2/U2F support</span>
				</div>
			</a>
			
			<ul id="toc-FIDO2/U2F_support-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Mozilla_Firefox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mozilla_Firefox">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Mozilla Firefox</span>
				</div>
			</a>
			
			<ul id="toc-Mozilla_Firefox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Chromium" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Chromium">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Chromium</span>
				</div>
			</a>
			
			<ul id="toc-Chromium-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Scan_for_readers_and_cards" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Scan_for_readers_and_cards">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Scan for readers and cards</span>
				</div>
			</a>
			
			<ul id="toc-Scan_for_readers_and_cards-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Smargo/TV_Card_reader" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Smargo/TV_Card_reader">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Smargo/TV Card reader</span>
				</div>
			</a>
			
			<ul id="toc-Smargo/TV_Card_reader-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-p11tool" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#p11tool">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>p11tool</span>
				</div>
			</a>
			
			<ul id="toc-p11tool-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SafeNet_eToken" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SafeNet_eToken">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>SafeNet eToken</span>
				</div>
			</a>
			
			<ul id="toc-SafeNet_eToken-sublist" class="vector-toc-list">
				<li id="toc-SafeNet_eToken_on_Google_Chrome" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SafeNet_eToken_on_Google_Chrome">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4.1</span>
					<span>SafeNet eToken on Google Chrome</span>
				</div>
			</a>
			
			<ul id="toc-SafeNet_eToken_on_Google_Chrome-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Firefox_can't_access_data" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Firefox_can't_access_data">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Firefox can't access data</span>
				</div>
			</a>
			
			<ul id="toc-Firefox_can't_access_data-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LIBUSB_ERROR_BUSY" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LIBUSB_ERROR_BUSY">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>LIBUSB_ERROR_BUSY</span>
				</div>
			</a>
			
			<ul id="toc-LIBUSB_ERROR_BUSY-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Smartcards</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%82%B9%E3%83%9E%E3%83%BC%E3%83%88%E3%82%AB%E3%83%BC%E3%83%89" title="スマートカード – 日本語" lang="ja" hreflang="ja" data-title="スマートカード" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Common_Access_Card.html" title="Common Access Card">Common Access Card</a></li>
<li><a href="../en/Electronic_identification.html" title="Electronic identification">Electronic identification</a></li>
<li><a href="../en/OpenPGP_card.html" title="OpenPGP card">OpenPGP card</a></li>
<li><a href="../en/Trusted_Platform_Module.html" title="Trusted Platform Module">Trusted Platform Module</a></li>
</ul>
</div>
<p>This page explains how to setup your system in order to use a <a href="https://en.wikipedia.org/wiki/Smart_card" class="extiw" title="wikipedia:Smart card">smart card</a> reader.
</p>
<p>Smartcards are, generally speaking, an ISO-7810 ID-1 sized plastic card with a microcontroller and some memory embedded in them, and usually interface with a computer or other equipment through a electrical contact pad on the card. Through their design,  smartcards cannot be reprogrammed after their 'fuses' have been set after programming by the manufacturer. Because of this, the behaviour of a smartcard can not be altered afterwards. This in turn enables the microcontroller to be programmed in such a way that it does not allow external dumping of the internal memory, and therefor protecting the information such as private keys contained within the smartcard.
</p>
<p>Smartcards can have cryptographic hardware modules embedded into their design, supporting one or more cryptographic algorithms.  This combined with their protected memory allows these cards to be used as a secure hardware element, and have been used for payment processing, system or user authentication and related uses for decades. Examples are, but are not limited to, payment cards (EMV), mobile telephony SIM-cards and public-private cryptography.
</p>
<p>Please be aware that the term "Smartcard" generally does not include EEPROM-cards (so called memory cards) or protected EEPROM-cards (so called logic cards) such as SLE4442 cards. These cards either contain a straight EEPROM, or a very basic microcontroller without any cryptographic functionalities.
</p>
<p>Dual-Interface cards provide both contactless (NFC) and contact-based communication interfaces. However, depending how the card has been programmed by the manufacturer or the user, not all services may be available through the contactless interface.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsclite">pcsclite</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccid">ccid</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccid">ccid</a></span> provides a generic USB interface driver for smart card reader. If the smart card at hand is not supported by the generic driver or simply it needs a specific one, feel free to install the best for that device.</div>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">Enable</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>pcscd.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> If you get the error <code>Failed to start pcscd.service: Unit pcscd.socket not found.</code>, just reload systemd units with a <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Daemon-reload">daemon-reload</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="OpenSC">OpenSC</h3></div>
<p>OpenSC provides an optional set of libraries and utilities to work with smart cards using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsclite">pcsclite</a></span>.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=opensc">opensc</a></span>. Installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/opensc-p11-kit-module/">opensc-p11-kit-module</a></span><sup><small>AUR</small></sup> may be required, such as when using <a href="../en/Systemd-cryptenroll.html" title="Systemd-cryptenroll">systemd-cryptenroll</a>.
</p>
<p>If the card reader does not have a PIN pad, <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">append</a> the line(s) and set <code>enable_pinpad = false</code> in the opensc configuration file <code>/etc/opensc.conf</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="FIDO2/U2F_support">
<span id="FIDO2.2FU2F_support"></span>FIDO2/U2F support</h3></div>
<p>Javacard (such as J3R180) with FIDO2 applet installed can provide similar functions like a yubikey. 
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libfido2-full/">libfido2-full</a></span><sup><small>AUR</small></sup>. ( since <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfido2">libfido2</a></span> do not have pcsc support enabled )
</p>
<p>The FIDO2 applet is suit for ecdsa-sk <a href="../en/SSH_keys.html#FIDO/U2F" title="SSH keys">ssh keys</a> and <a href="../en/Systemd-homed.html#Setup_user_with_FIDO2_hmac-secret_for_authentication_and_encryption" title="Systemd-homed">systemd-homed</a>, also <a href="../en/Universal_2nd_Factor.html#Authentication_for_user_sessions" class="mw-redirect" title="U2F">U2F</a>. 
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Mozilla_Firefox">Mozilla Firefox</h3></div>
<p>The browser needs to set the new security-related device.
Open the <b>Security Devices</b> page (reach it via <i>Preferences &gt; Privacy &amp; Security &gt; Certificates &gt; Security Devices</i>), then click <b>Load</b> and set the Module Name to <i>CAC Module</i> and module filename to <code>/usr/lib/opensc-pkcs11.so</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Chromium">Chromium</h3></div>
<p>Chromium uses <a href="../en/Network_Security_Services.html" title="Network Security Services">NSS</a>. Open a shell in your home directory and verify that the <i>CAC Module</i> is not already present:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ modutil -list -dbdir $HOME/.pki/nssdb/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Listing of PKCS #11 Modules
-----------------------------------------------------------
  1. NSS Internal PKCS #11 Module
    ....
</pre>
<p>If not, close any browser and add the module (an user interaction for confirmation is required):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ modutil -dbdir sql:$HOME/.pki/nssdb/ -add "CAC Module" -libfile /usr/lib/opensc-pkcs11.so</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">WARNING: Performing this operation while the browser is running could cause
corruption of your security databases. If the browser is currently running,
you should exit browser before continuing this operation. Type
'q &lt;enter&gt;' to abort, or &lt;enter&gt; to continue:

Module "CAC Module" added to database.
</pre>
<p>Check for the correct execution of the command:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ modutil -list -dbdir $HOME/.pki/nssdb/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Listing of PKCS #11 Modules
-----------------------------------------------------------
  1. NSS Internal PKCS #11 Module
    ....
  2. CAC Module
    library name: /usr/lib/opensc-pkcs11.so
       uri: pkcs11:library-manufacturer=OpenSC%20Project;library-description=OpenSC%20smartcard%20framework;library-version=0.19
     slots: 1 slot attached
    status: loaded
</pre>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Scan_for_readers_and_cards">Scan for readers and cards</h3></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsc-tools">pcsc-tools</a></span> and start the <span class="plainlinks archwiki-template-man" title="$ man 1 pcsc_scan"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pcsc_scan.1">pcsc_scan(1)</a></span> utility, then connect the Smart card reader and finally insert a card.
If you see output like this, the smart card reader and also the card have been successfully recognized.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pcsc_scan</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PC/SC device scanner
V 1.5.2 (c) 2001-2017, Ludovic Rousseau &lt;ludovic.rousseau@free.fr&gt;
Using reader plug'n play mechanism
Scanning present readers...
0: Alcor Micro AU9560 00 00

Sat Aug  5 18:49:32 2017
 Reader 0: Alcor Micro AU9560 00 00
  Card state: Card removed, 
  
Sat Aug  5 19:00:35 2017
 Reader 0: Alcor Micro AU9560 00 00
  Card state: Card inserted, 
  ATR:  <i>FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF</i>

ATR:  <i>FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF</i>
+ TS = 3B --&gt; Direct Convention
+ T0 = DF, Y(1): 1101, K: 15 (historical bytes)
  TA(1) = 18 --&gt; Fi=372, Di=12, 31 cycles/ETU
    129032 bits/s at 4 MHz, fMax for Fi = 5 MHz =&gt; 161290 bits/s
  TC(1) = 00 --&gt; Extra guard time: 0
  TD(1) = 81 --&gt; Y(i+1) = 1000, Protocol T = 1
-----
  TD(2) = 31 --&gt; Y(i+1) = 0011, Protocol T = 1
-----
  TA(3) = FE --&gt; IFSC: 254
  TB(3) = 7D --&gt; Block Waiting Integer: 7 - Character Waiting Integer: 13
+ Historical bytes: 00 6B 02 0C 01 82 01 11 01 43 4E 53 10 31 80
  Category indicator byte: 00 (compact TLV data object)
    Tag: 6, len: B (pre-issuing data)
      Data:  <i>FF FF FF FF FF FF FF FF FF FF</i>
    Mandatory status indicator (3 last bytes)
      LCS (life card cycle): 10 (Proprietary)
      SW: 3180 (Error not defined by ISO 7816)
+ TCK = FC (correct checksum)

Possibly identified card (using /usr/share/pcsc/smartcard_list.txt):
<i>FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF</i>
      Italian healtcare card (TS) National Service Card (CNS) (HealthCare)</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In this example the smart card reader is an <i>Alcor Micro AU9560</i> and the inserted card is an <i>Italian CNS</i> card.</div>
<div class="mw-heading mw-heading3"><h3 id="Smargo/TV_Card_reader">
<span id="Smargo.2FTV_Card_reader"></span>Smargo/TV Card reader</h3></div>
<p>When interfacing with a TV-card for live TV and recording (PVR/DVR), you may need to assign the smartcard reader to the <code>video</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> allowing decryption. When using a Smargo Smartreader consider the following <a href="../en/Udev.html" title="Udev">udev</a> rule:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/98-smargo.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="tty", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", GROUP="video", MODE="0666", SYMLINK+="smargo"</pre>
<p>Set <code>/dev/smargo</code> as the reader device when using softcam applications like OSCam.
</p>
<div class="mw-heading mw-heading3"><h3 id="p11tool">p11tool</h3></div>
<p>If using packages from the GnuTLS suite which utilize p11-kit, such as p11tool, the OpenSC driver might not properly load. This can be determined if you run <code>p11tool --list-tokens</code> and you do not see your hardware token in the list.
</p>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/opensc-p11-kit-module/">opensc-p11-kit-module</a></span><sup><small>AUR</small></sup> package in order to enable loading of the OpenSC module.
</p>
<p>Alternatively, it is possible to manually create a file that allows the OpenSC driver to be properly loaded:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/p11-kit/modules/opensc.module</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">module: opensc-pkcs11.so
</pre>
<div class="mw-heading mw-heading3"><h3 id="SafeNet_eToken">SafeNet eToken</h3></div>
<p>Class of Tokens and SmartCards from <a rel="nofollow" class="external text" href="https://www.thalesgroup.com">ThalesGroup</a>. Used by companies like <a rel="nofollow" class="external text" href="https://certisign.com.br/">Certisign</a>.
</p>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sac-core/">sac-core</a></span><sup><small>AUR</small></sup> to pkcs11 library installation.
</p>
<div class="mw-heading mw-heading4"><h4 id="SafeNet_eToken_on_Google_Chrome">SafeNet eToken on Google Chrome</h4></div>
<p>Module needs to be added to nssdb:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ modutil -dbdir sql:$HOME/.pki/nssdb/ -add "eToken" -libfile /usr/lib/libeToken.so</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">WARNING: Performing this operation while the browser is running could cause
corruption of your security databases. If the browser is currently running,
you should exit browser before continuing this operation. Type
'q &lt;enter&gt;' to abort, or &lt;enter&gt; to continue:

Module "eToken" added to database.</pre>
<p>To confirm it's installed:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ modutil -dbdir sql:$HOME/.pki/nssdb/ -list</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Listing of PKCS #11 Modules
<hr>
  1. NSS Internal PKCS #11 Module
           uri: pkcs11:library-manufacturer=Mozilla%20Foundation;library-description=NSS%20Internal%20Crypto%20Services;library-version=3.98
         slots: 2 slots attached
        status: loaded

         slot: NSS Internal Cryptographic Services
        token: NSS Generic Crypto Services
          uri: pkcs11:token=NSS%20Generic%20Crypto%20Services;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203

         slot: NSS User Private Key and Certificate Services
        token: NSS Certificate DB
          uri: pkcs11:token=NSS%20Certificate%20DB;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203

  2. eToken
        library name: /usr/lib/libeToken.so
           uri: pkcs11:library-manufacturer=SafeNet,%20Inc.;library-description=SafeNet%20eToken%20PKCS%2311;library-version=10.8
         slots: 8 slots attached
        status: loaded

         slot: Gemalto PC Twin Reader 00 00
        token: eCPF Certisign
          uri: pkcs11:token=eCPF%20Certisign;manufacturer=Gemalto;serial=AF3E411BD8A8E169;model=ID%20Prime%20MD

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:

         slot:
        token:
          uri: pkcs11:
<hr></pre>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Firefox_can't_access_data">
<span id="Firefox_can.27t_access_data"></span>Firefox can't access data</h3></div>
<p>If the browser is not able to use the smart card data, probably it is not aware of the service which provides access to the device. This happens if you plug in the smart card reader after you open Firefox.
To solve this issue, simply restart Firefox.
</p>
<div class="mw-heading mw-heading3"><h3 id="LIBUSB_ERROR_BUSY">LIBUSB_ERROR_BUSY</h3></div>
<p>PC/SC can conflict with GnuPG for access to smartcards. See <a rel="nofollow" class="external text" href="https://ludovicrousseau.blogspot.com/2019/06/gnupg-and-pcsc-conflicts.html">Ludovic Rousseau's blog</a> and <a href="../en/GnuPG.html#GnuPG_with_pcscd_(PCSC_Lite)" title="GnuPG">GnuPG#GnuPG with pcscd (PCSC Lite)</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul><li><a href="https://wiki.debian.org/Smartcards" class="extiw" title="debian:Smartcards">Debian:Smartcards</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Authentication.html" title="Category:Authentication">Authentication</a></li>
<li><a href="../en/Category:OpenPGP.html" title="Category:OpenPGP">OpenPGP</a></li>
<li><a href="../en/Category:Smartcards.html" title="Category:Smartcards">Smartcards</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Smartcards&amp;oldid=849309">https://wiki.archlinux.org/index.php?title=Smartcards&amp;oldid=849309</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 16 October 2025, at 17:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Smartcards</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
