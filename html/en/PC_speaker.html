<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PC speaker - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PC_speaker rootpage-PC_speaker skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Mechanism" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Mechanism">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Mechanism</div>
		</a>
		
		<ul id="toc-Mechanism-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Disabling_the_PC_speaker" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Disabling_the_PC_speaker">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Disabling the PC speaker</div>
		</a>
		
			<button aria-controls="toc-Disabling_the_PC_speaker-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Disabling the PC speaker subsection</span>
			</button>
		
		<ul id="toc-Disabling_the_PC_speaker-sublist" class="vector-toc-list">
			<li id="toc-Physically" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Physically">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Physically</div>
			</a>
			
			<ul id="toc-Physically-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Globally" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Globally">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Globally</div>
			</a>
			
			<ul id="toc-Globally-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Console" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Console">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Console</div>
			</a>
			
			<ul id="toc-Console-sublist" class="vector-toc-list">
				<li id="toc-Virtual_console" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Virtual_console">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Virtual console</div>
			</a>
			
			<ul id="toc-Virtual_console-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Readline-aware_shell" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Readline-aware_shell">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>Readline-aware shell</div>
			</a>
			
			<ul id="toc-Readline-aware_shell-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Less_pager" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Less_pager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.3</span>Less pager</div>
			</a>
			
			<ul id="toc-Less_pager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Arch_Linux_ISO" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Arch_Linux_ISO">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.4</span>Arch Linux ISO</div>
			</a>
			
			<ul id="toc-Arch_Linux_ISO-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-ALSA" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ALSA">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>ALSA</div>
			</a>
			
			<ul id="toc-ALSA-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cinnamon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cinnamon">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Cinnamon</div>
			</a>
			
			<ul id="toc-Cinnamon-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GNOME" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GNOME">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>GNOME</div>
			</a>
			
			<ul id="toc-GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GTK" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GTK">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.7</span>GTK</div>
			</a>
			
			<ul id="toc-GTK-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Plasma" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Plasma">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.8</span>Plasma</div>
			</a>
			
			<ul id="toc-Plasma-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PulseAudio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PulseAudio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.9</span>PulseAudio</div>
			</a>
			
			<ul id="toc-PulseAudio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.10</span>Xorg</div>
			</a>
			
			<ul id="toc-Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Beep" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Beep">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Beep</div>
		</a>
		
			<button aria-controls="toc-Beep-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Beep subsection</span>
			</button>
		
		<ul id="toc-Beep-sublist" class="vector-toc-list">
			<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usage">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Usage</div>
			</a>
			
			<ul id="toc-Usage-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-The_HD_Audio_power-saving_mode_mutes_the_PC_speaker" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_HD_Audio_power-saving_mode_mutes_the_PC_speaker">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>The HD Audio power-saving mode mutes the PC speaker</div>
			</a>
			
			<ul id="toc-The_HD_Audio_power-saving_mode_mutes_the_PC_speaker-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">PC speaker</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/PC_speaker.html" title="PC speaker – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/PC_%E3%82%B9%E3%83%94%E3%83%BC%E3%82%AB%E3%83%BC" title="PC スピーカー – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/PC_speaker.html" title="PC speaker – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/PC_speaker" title="PC speaker – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Advanced_Linux_Sound_Architecture.html" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture</a></li>
<li><a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/PC_speaker" class="extiw" title="wikipedia:PC speaker">PC speaker</a> <b>(beeper)</b> is a built-in loudspeaker in most personal computers since the first IBM PC. This speaker is not capable of high quality playback and merely serves as a simple means of auditory feedback in the form of beeps. Some software, e.g. web browsers, editors and terminals, may produce beeps which may or may not be desired by the user. This article serves as a guide for configuring and/or disabling the speaker entirely. 
For situations where no sound card or speakers are available and a simple audio notification is desired, see <a href="#Beep">#Beep</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Mechanism">Mechanism</span></h2>
<p>The PC speaker is typically a physical unit connected on the front connections header of the motherboard. Some motherboard manufacturers do not ship their motherboards with a PC speaker at all, whereas others may have the PC speaker soldered directly onto the surface. Laptops typically have no physical PC speaker but have the beeper routed to the laptop's internal speakers. In some cases, the beeper is heard on the regular output (i.e. speakers, headphones) of the soundcard, which tends to be unexpectedly loud.
</p>
<p>Upon boot the <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>/<a href="https://en.wikipedia.org/wiki/BIOS" class="extiw" title="wikipedia:BIOS">BIOS</a> will traditionally generate a beep during <a href="https://en.wikipedia.org/wiki/Power-on_self-test" class="extiw" title="wikipedia:Power-on self-test">power-on self-test</a> (POST). Recent motherboard models omit the POST beep in favor of rapidly booting into the OS. The UEFI user interface typically allows for toggling the POST beeps but it cannot configure the PC speaker to be turned off completely.
</p>
<p>Once the system has booted into Linux and the <code>pcspkr</code> <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a> is loaded, the PC speaker can be used by the environment, be invoked manually by the user, and be configured to some extent. Because the PC speaker is controlled directly by the CPU, along with the fact that they are built for beeping only, PC speakers cannot be used for playing back audio files. If this is really desired, unloading <code>pcspkr</code> and <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installing</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/snd-pcsp-dkms/">snd-pcsp-dkms</a></span><sup><small>AUR</small></sup> provides a rudimentary audio output.
</p>
<h2><span class="mw-headline" id="Disabling_the_PC_speaker">Disabling the PC speaker</span></h2>
<h3><span class="mw-headline" id="Physically">Physically</span></h3>
<p>By removing the PC speaker the system will not be able to produce beeps. This can be achieved by physically removing the unit from the motherboard (if possible). Some manufacturers may provide a jumper header to switch it off.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Removing the PC speaker is generally not recommended as it is a useful tool in diagnosing boot problems, after which it may produce a unique beeping pattern related to the source of fault (refer to your motherboard manual). A better solution is to turn off the POST beeps in the UEFI user interface and blacklisting the beeper as written below. If you do however wish to remove it physically it is highly recommended to keep it at bay for this scenario.</div>
<h3><span class="mw-headline" id="Globally">Globally</span></h3>
<p>The PC speaker can be disabled by <a href="../en/Kernel_module.html#Manual_module_handling" class="mw-redirect" title="Kernel modules">unloading</a> the <code>pcspkr</code> and <code>snd_pcsp</code> <a href="../en/Kernel_module.html" title="Kernel module">kernel modules</a>:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will not disable your entire sound system, only the PC speaker.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The <code>snd_pcsp</code> <a rel="nofollow" class="external text" href="https://docs.kernel.org/sound/alsa-configuration.html#module-snd-pcsp">module</a> is a Linux kernel driver for the PC speaker which allows it to act like a primitive sound card to produce full <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation" class="extiw" title="wikipedia:Pulse-code modulation">PCM</a> sound. It appears as an <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> device, and also replaces the <code>pcspkr</code> driver for beeps. This module does not exist in the official Arch Linux kernels (unless you explicitly choose to install it, see <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/snd-pcsp-dkms/">snd-pcsp-dkms</a></span><sup><small>AUR</small></sup>), but certain custom kernels include it by default.</div>
<pre># rmmod pcspkr
# rmmod snd_pcsp
</pre>
<p><a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklisting">Blacklisting</a> the <code>pcspkr</code> and <code>snd_pcsp</code> modules will prevent <a href="../en/Udev.html" title="Udev">udev</a> from loading them at boot. <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">Create</a> the file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nobeep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist pcspkr
blacklist snd_pcsp
</pre>
<p><a href="../en/Kernel_module.html#Using_kernel_command_line_2" class="mw-redirect" title="Kernel modules">Blacklisting it on the kernel command line</a> is yet another way. Simply add <code>module_blacklist=pcspkr,snd_pcsp</code> to your <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> kernel line.
</p>
<h3><span class="mw-headline" id="Console">Console</span></h3>
<h4><span class="mw-headline" id="Virtual_console">Virtual console</span></h4>
<p>In <a href="../en/Linux_console.html#Virtual_consoles" class="mw-redirect" title="Virtual console">virtual console</a> (<a href="../en/Getty.html" title="Getty">TTY</a>) you can set the bell duration to zero milliseconds with <span class="plainlinks archwiki-template-man" title="$ man 1 setterm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setterm.1">setterm(1)</a></span>:
</p>
<pre>$ setterm --blength=0
</pre>
<h4><span class="mw-headline" id="Readline-aware_shell">Readline-aware shell</span></h4>
<p>For a shell which utilizes the <a href="../en/Readline.html" title="Readline">Readline</a> library (e.g. <a href="../en/Bash.html" title="Bash">Bash</a>), uncomment this line in <code>/etc/inputrc</code> (or add it to <code>~/.inputrc</code>):
</p>
<pre>set bell-style none
</pre>
<h4><span class="mw-headline" id="Less_pager">Less pager</span></h4>
<p>To disable PC speaker in <span class="plainlinks archwiki-template-man" title="$ man 1 less"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/less.1">less(1)</a></span> pager, you can launch it with <code>less --quiet</code> to mute PC speaker for end of file events, or <code>less --QUIET</code> to mute it altogether. For <a href="../en/Man_page.html" title="Man page">man pages</a>, launch <code>man --pager="less --QUIET"</code> or set the <code>$MANPAGER</code> or <code>$PAGER</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variables</a>.
</p>
<p>Alternatively, you can add these lines to your <a href="../en/Command-line_shell.html#Configuration_files" title="Command-line shell">shell configuration file</a>:
</p>
<pre>alias less='less --QUIET'
alias man='man --pager="less --QUIET"'
</pre>
<h4><span class="mw-headline" id="Arch_Linux_ISO">Arch Linux ISO</span></h4>
<p>If you want to disable the init tune on the Arch Linux ISO, you will need to repack the ISO. To do so, first <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libisoburn">libisoburn</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mtools">mtools</a></span> packages.
</p>
<p>Extract the El Torito boot images and systemd-boot configuration (<code>loader.conf</code>) from the ISO:
</p>
<pre>$ osirrox -indev archlinux-<i>YYYY.MM.DD</i>-x86_64.iso -extract_boot_images ./ -extract /loader/loader.conf loader.conf
</pre>
<p>Make <code>loader.conf</code> writable and remove the <code>beep</code> option from it:
</p>
<pre>$ chmod +w loader.conf
$ sed '/^beep on/d' -i loader.conf
</pre>
<p>Add the modified <code>loader.conf</code> to the El Torito UEFI boot image:
</p>
<pre>$ mcopy -D oO -i eltorito_img2_uefi.img loader.conf ::/loader/
</pre>
<p>Finally, repack the ISO using the modified boot image and <code>loader.conf</code>:
</p>
<pre>$ xorriso -indev archlinux-<i>YYYY.MM.DD</i>-x86_64.iso \
	-outdev archlinux-<i>YYYY.MM.DD</i>-x86_64-silent.iso \
	-map loader.conf /loader/loader.conf \
	-boot_image any replay \
	-append_partition 2 0xef eltorito_img2_uefi.img
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Only the init tune will be disabled. Beeps may still be played after booting. To disable the PC speaker after booting, see <a href="#Globally">#Globally</a>.</div>
<h3><span class="mw-headline" id="ALSA">ALSA</span></h3>
<p>For most sound cards the PC speaker is listed as an <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> channel, named either <i>PC Speaker</i>, <i>PC Beep</i>, or <i>Beep</i>. To mute the speaker, either use <i>alsamixer</i> or <i>amixer</i>, for example:
</p>
<pre>$ amixer set 'PC Speaker' 0% mute
</pre>
<p>To unmute the channel, see <a href="../en/Advanced_Linux_Sound_Architecture.html#Unmuting_the_channels" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture#Unmuting the channels</a>.
</p>
<h3><span class="mw-headline" id="Cinnamon">Cinnamon</span></h3>
<p><a href="../en/Cinnamon.html" title="Cinnamon">Cinnamon</a> seems to play a "water drop" sound. To disable it, set in <span class="plainlinks archwiki-template-man" title="$ man 1 gsettings"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gsettings.1">gsettings(1)</a></span>:
</p>
<pre>$ gsettings set org.cinnamon.desktop.wm.preferences audible-bell false
</pre>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p>Using <a href="../en/GNOME.html#Configuration" title="GNOME">GSettings</a>:
</p>
<pre>$ gsettings set org.gnome.desktop.wm.preferences audible-bell false
</pre>
<h3><span class="mw-headline" id="GTK">GTK</span></h3>
<p>Append this line to <code>~/.gtkrc-2.0</code>:
</p>
<pre>gtk-error-bell = 0
</pre>
<p>Add the same line to the [Settings] section of <code>$XDG_CONFIG_HOME/gtk-3.0/settings.ini</code>:
</p>
<pre>[Settings]
gtk-error-bell = 0
</pre>
<p>This is documented in the <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html">Gnome Developer Handbook</a>.
</p>
<h3><span class="mw-headline" id="Plasma">Plasma</span></h3>
<p>Bell notification settings can be modified in <i>System Settings &gt; Accessibility Options &gt; Bell</i>.
</p>
<h3><span class="mw-headline" id="PulseAudio">PulseAudio</span></h3>
<p>Play a sound instead of a PC speaker beep <a href="../en/PulseAudio.html#X11_Bell_Events" title="PulseAudio">using PulseAudio</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If the PC speaker channel is not listed for the default ALSA device, try selecting the device corresponding to the sound card—PulseAudio proxy controls may not list the PC speaker.</div>
<h3><span class="mw-headline" id="Xorg">Xorg</span></h3>
<pre>$ xset -b
</pre>
<p>You can add this command to a startup file such as <code>/etc/xprofile</code> to make it permanent. See <a href="../en/Xprofile.html" title="Xprofile">xprofile</a> and <span class="plainlinks archwiki-template-man" title="$ man 1 xset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xset.1">xset(1)</a></span> for more information.
</p>
<h2><span class="mw-headline" id="Beep">Beep</span></h2>
<p><a rel="nofollow" class="external text" href="https://github.com/spkr-beep/beep?tab=readme-ov-file#beep---beep-the-pc-loudspeaker-on-linux">Beep</a> is an advanced PC speaker beeping program. It is useful for situations where no sound card and/or speakers are available, and simple audio notification is desired.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> A user can create a short audible tone when logged in to a <a href="../en/Linux_console.html#Virtual_consoles" class="mw-redirect" title="Virtual console">virtual console</a>, see <a href="https://en.wikipedia.org/wiki/Bell_character#Usage" class="extiw" title="wikipedia:Bell character">Wikipedia:Bell character#Usage</a> for the details.</div>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=beep">beep</a></span> package.
</p>
<p>You may also need to <a href="../en/Advanced_Linux_Sound_Architecture.html#Unmuting_the_channels" title="Advanced Linux Sound Architecture">unmute</a> the PC speaker in ALSA.
</p>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p><i>beep</i> uses <code>/dev/input/by-path/platform-pcspkr-event-spkr</code> to control the PC speaker. For the <a href="../en/Users_and_groups.html#Overview" class="mw-redirect" title="Root user">root user</a> no configuration is needed. To access this device file as a non-root user, one has to set the proper permissions.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>beep</i> aborts if it is being run via <span class="plainlinks archwiki-template-man" title="$ man 8 sudo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sudo.8">sudo(8)</a></span>. For more information, see <a rel="nofollow" class="external text" href="https://github.com/spkr-beep/beep/blob/master/PERMISSIONS.md">PERMISSIONS</a>.</div>
<p>The following rule will allow any user, who is logged into the currently active virtual console session, to use the PC speaker:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/70-pcspkr-beep.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="input", ATTRS{name}=="PC Speaker", ENV{DEVNAME}!="", TAG+="uaccess"</pre>
<p>Previous solution does not allow to use <i>beep</i> for users logged in remotely—e.g. via <a href="../en/OpenSSH.html" title="OpenSSH">OpenSSH</a>,—or processes running as any user other than the one logged into the currently active virtual console session. Alternatively, a new user group may be created with the corresponding rule to set the right permissions on the device file. With this solution any user in the <code>beep</code> group will be able to control the PC speaker:
</p>
<pre>ACTION=="add", SUBSYSTEM=="input", ATTRS{name}=="PC Speaker", ENV{DEVNAME}!="", GROUP="beep", MODE="0620"
</pre>
<p>To force reloading rules and device file to apply new user permission without a reboot, execute:
</p>
<pre># udevadm control --reload &amp;&amp; rmmod pcspkr &amp;&amp; modprobe pcspkr
</pre>
<h3><span class="mw-headline" id="Usage">Usage</span></h3>
<p>The following example plays slightly higher and shorter sound than <i>beep</i> default—see <span class="plainlinks archwiki-template-man" title="$ man 1 beep"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/beep.1#Tone_options">beep(1) § Tone options</a></span>,—and repeats it two times:
</p>
<pre># beep -f 500 -l 50 -r 2
</pre>
<p>Repositories collecting <a href="../en/Command-line_shell.html" class="mw-redirect" title="Shell">shell</a> scripts playing various music using <i>beep</i>:
</p>
<ul>
<li><a rel="nofollow" class="external free" href="https://github.com/NaWer/beep">https://github.com/NaWer/beep</a></li>
<li><a rel="nofollow" class="external free" href="https://github.com/ShaneMcC/beeps">https://github.com/ShaneMcC/beeps</a></li>
</ul>
<p>See also <span class="plainlinks archwiki-template-man" title="$ man 1 beep"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/beep.1#Sound_Volume">beep(1) § Sound Volume</a></span>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="The_HD_Audio_power-saving_mode_mutes_the_PC_speaker">The HD Audio power-saving mode mutes the PC speaker</span></h3>
<p>The PC speaker might remain silent when the HD Audio sound card is in power-saving mode. Apparently—depending on hardware—the beeps are actually fed as an analog input into the card, and will be ignored if the card is asleep. You can debug this by playing music (to keep the card awake) in one virtual console and then beeping in another.
</p>
<p>For more information, see <a href="../en/Advanced_Linux_Sound_Architecture/Troubleshooting.html#Power_saving" title="Advanced Linux Sound Architecture/Troubleshooting">Advanced Linux Sound Architecture/Troubleshooting#Power saving</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Sound.html" title="Category:Sound">Sound</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PC_speaker&amp;oldid=822814">https://wiki.archlinux.org/index.php?title=PC_speaker&amp;oldid=822814</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 December 2024, at 22:40.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
