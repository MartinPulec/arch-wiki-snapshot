<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Luakit - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Luakit rootpage-Luakit skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Basic_usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Basic_usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Basic usage</div>
		</a>
		
			<button aria-controls="toc-Basic_usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Basic usage subsection</span>
			</button>
		
		<ul id="toc-Basic_usage-sublist" class="vector-toc-list">
			<li id="toc-Browsing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Browsing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Browsing</div>
			</a>
			
			<ul id="toc-Browsing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Input_fields" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_fields">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Input fields</div>
			</a>
			
			<ul id="toc-Input_fields-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bookmarks" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bookmarks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Bookmarks</div>
			</a>
			
			<ul id="toc-Bookmarks-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Key_bindings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Key_bindings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Key bindings</div>
			</a>
			
			<ul id="toc-Key_bindings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Homepage" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Homepage">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Homepage</div>
			</a>
			
			<ul id="toc-Homepage-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Custom_search_engines" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Custom_search_engines">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Custom search engines</div>
			</a>
			
			<ul id="toc-Custom_search_engines-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Download_location" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Download_location">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Download location</div>
			</a>
			
			<ul id="toc-Download_location-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adblock" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adblock">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Adblock</div>
			</a>
			
			<ul id="toc-Adblock-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bookmarks_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bookmarks_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Bookmarks management</div>
			</a>
			
			<ul id="toc-Bookmarks_management-sublist" class="vector-toc-list">
				<li id="toc-Sync" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sync">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Sync</div>
			</a>
			
			<ul id="toc-Sync-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Converting_plain_text_bookmarks_to_SQLite_format" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Converting_plain_text_bookmarks_to_SQLite_format">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.2</span>Converting plain text bookmarks to SQLite format</div>
			</a>
			
			<ul id="toc-Converting_plain_text_bookmarks_to_SQLite_format-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Import_from_Firefox" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Import_from_Firefox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.3</span>Import from Firefox</div>
			</a>
			
			<ul id="toc-Import_from_Firefox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Export_bookmarks" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Export_bookmarks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.4</span>Export bookmarks</div>
			</a>
			
			<ul id="toc-Export_bookmarks-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Tor" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Tor</div>
			</a>
			
			<ul id="toc-Tor-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Custom_CSS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Custom_CSS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>Custom CSS</div>
			</a>
			
			<ul id="toc-Custom_CSS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Luakit</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Luakit" title="Luakit – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://luakit.github.io/">Luakit</a> is an extremely fast, lightweight and flexible web browser using the webkit engine.
It is customizable through lua scripts and fully usable with keyboard shortcuts.
It uses GTK 3 and <a href="../en/List_of_applications/Internet.html#WebKitGTK-based" title="List of applications/Internet">WebKit2GTK</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=luakit">luakit</a></span> package or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/luakit-git/">luakit-git</a></span><sup><small>AUR</small></sup> for the development version as the official website recommends.
</p>
<h2><span class="mw-headline" id="Basic_usage">Basic usage</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Do we really need to duplicate upstream or internal documentation? (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Luakit.html">Talk:Luakit</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Shortcuts are listed in a special page accessible with the <code>:binds</code> command.</div>
<p>Press <code>:</code> to access the command prompt. You can do nearly everything from there.
Use <code>Tab</code> to autocomplete commands.
</p>
<p>Use the <code>:help</code> command to get information on the available keyboard shortcuts and what they do. (To see how the action for a particular keyboard shortcut is implemented in Lua, click anywhere in its help text.)
</p>
<p>To quit, use the <code>:quit</code> command, or press <code>Shift+z</code> followed by <code>Shift+q</code>.
You can also close the browser while remembering the session (i.e. restoring the tabs) by using the <code>:writequit</code> command instead, or pressing <code>Shift+z</code> twice.
</p>
<h3><span class="mw-headline" id="Browsing">Browsing</span></h3>
<ul>
<li>Press <code>o</code> to open a prompt with the <code>:open</code> command and enter the URI you want. Press <code>Shift+o</code> to edit the current URI.</li>
<li>If it is not a recognized URI, Luakit will use the default search engine. See <a href="#Custom_search_engines">#Custom search engines</a>.</li>
<li>Specify which search engine to use by prefixing the entry with the appropriate keywork (e.g. <code>:open google foobar</code> will search <i>foobar</i> on Google).</li>
<li>Use common shortcuts to navigate. For <a href="../en/Emacs.html" title="Emacs">emacs</a> and <a href="../en/Vim.html" title="Vim">vim</a> <i>aficionados</i>, some of their regular shortcuts are provided. You can use the mouse as well.</li>
<li>Use <code>f</code> to display the index of all visible links. Enter the appropriate number or a part of the string to open the link.</li>
<li>Use <code>Shift+f</code> instead to open link in a new tab.</li>
<li>Press <code>Ctrl+t</code> to open a new tab, <code>Ctrl+w</code> to close it. Press <code>t</code> to prompt for an URI to be opened in a new tab, and <code>Shift+t</code> to edit the current URI in a new tab.</li>
<li>Press <code>w</code> to prompt for an URI to be opened in a new window, and <code>Shift+w</code> to edit the current URI in a new window.</li>
<li>Switch from one tab to another by pressing <code>g</code> followed by <code>t</code> or <code>Shift+t</code>, or use <code>Ctrl+PageUp</code> and <code>Ctrl+PageDown</code>.</li>
<li>You can switch to a specific tab with <code>Alt+<i>number</i></code>.</li>
<li>Use <code>Shift+h</code> to go back in the browser history.</li>
<li>Use <code>Shift+l</code> to go forward in the browser history.</li>
<li>Reorder the tabs with <code>&lt;</code> and <code>&gt;</code>.</li>
<li>Reload the page with <code>r</code>, stop the loading with <code>Ctrl+c</code>.</li>
<li>Re-open last closed tab with <code>u</code>.</li>
<li>Open downloads page by pressing <code>g</code> followed by <code>d</code> (or <code>Shift+d</code> for a new tab).</li>
<li>Copy URI to primary selection with <code>y</code>.</li>
<li>View page source code with <code>:viewsource</code>. Return to normal view with <code>:viewsource!</code>.</li>
<li>View image source by pressing <code>;</code> followed by <code>i</code> (or <code>Shift+i</code> for  new tab).</li>
<li>Inspect elements with <code>:inspect</code>. Repeat to open in a new window. Disable inspector with <code>:inspect!</code>.</li>
</ul>
<h3><span class="mw-headline" id="Input_fields">Input fields</span></h3>
<p>Many webpages have editable elements like dropdown lists, checkboxes, text fields and so on. While they work perfectly with the mouse, you may encounter some troubles using the <i>follow</i> commands.
In such a case, pressing the arrow keys may help.
Alternatively, the <code>g</code> <code>i</code> shortcut can be used to focus input.
</p>
<h3><span class="mw-headline" id="Bookmarks">Bookmarks</span></h3>
<p>If enabled (default configuration), bookmarks can be used from within Luakit.
</p>
<ul>
<li>The <code>:bookmarks</code> command opens the bookmarks page. (Shortcut: <code>g</code> followed by <code>b</code>, or <code>Shift+b</code> for a new tab).</li>
<li>The <code>:bookmark [<i>URI</i> [<i>tags</i>]]</code> command adds the URI specified (or the current tab's URI, if omitted) to the bookmarks by specified tags. Starting from version 2012-09-13-r1, bookmarks page will be opened (new tab) in new bookmark editing mode before saving. (Shortcut: <code>Shift+b</code>).</li>
</ul>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Configuration is done in <code>~/.config/luakit/userconf.lua</code>. It is not
necessary anymore to copy and modify <code>rc.lua</code>. Some settings can also be
modified with the <code>:settings</code> command, unless you set them in <code>userconf.lua</code> with:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">local settings = require "settings"
settings.example = "some value"</pre>
<h3><span class="mw-headline" id="Key_bindings">Key bindings</span></h3>
<p>Most bindings will require some knowledge of Luakit, but you can at least do
simple things rebinding:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">local modes = require "modes"

-- Creates new bindings from old ones.
modes.remap_binds("normal", -- This is the mode in which the bindings are active.
  {
  --  new     old     removes the old binding (defaults to false)
     {"O",    "t",    true},
  -- define as many as you wish
    {"Control-=", "zi"},
    ...
  })</pre>
<p>To bind keys to commands, you can use the following template:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">modes.add_binds("normal", {
-- {"&lt;key&gt;",
--  "&lt;description&gt;",
--  function (w) w:enter_cmd("&lt;command&gt;") end}
  {"O", "Open URL in a new tab.",
   function (w) w:enter_cmd(":tabopen ") end},
   ...
})</pre>
<p>For inspiration, see <code>/usr/share/luakit/lib/binds.lua</code>, where the default
bindings are defined.
</p>
<h3><span class="mw-headline" id="Homepage">Homepage</span></h3>
<p>Set your homepage as follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">settings.window.home_page = "www.example.com"</pre>
<h3><span class="mw-headline" id="Custom_search_engines">Custom search engines</span></h3>
<p>To search with the default search engine, press <code>o</code> and type the phrases. To search with a different engine, type its name after <code>o</code> and then the phrases.
</p>
<p>You can virtually add any search engine you want. Make a search on the website you want and copy paste the URI to the Luakit configuration by replacing the searched terms with an <code>%s</code>. Example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">local engines = settings.window.search_engines
engines.aur          = "https://aur.archlinux.org/packages?K=%s"
engines.aw           = "https://wiki.archlinux.org/index.php/Special:Search?fulltext=Search&amp;search=%s"
engines.googleseceng = "https://www.google.com/search?name=f&amp;hl=en&amp;q=%s"
</pre>
<p>The variable is used as a keyword for the <code>:open</code> command in Luakit.
</p>
<p>Set the default search engine by using this same keyword:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">engines.default = engines.aur</pre>
<p>Instead of strings, you can defined search engines as functions that return a
string. For instance, here is a Wikipedia search engine that lets you specify
a language (defaulting to English):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">engines.wikipedia = function (arg)
  local l, s = arg:match("^(%a%a):%s*(.+)")
  if l then
    return "https://" .. l .. ".wikipedia.org/wiki/Special:Search?search=" .. s
  else
    return "<a rel="nofollow" class="external free" href="https://en.wikipedia.org/wiki/Special:Search?search=">https://en.wikipedia.org/wiki/Special:Search?search=</a>" .. arg
  end
end,</pre>
<p>If called as <code>:open wikipedia arch linux</code>, this will open the Arch Linux
page on the English Wikipedia; with <code>:open wikipedia fr: arch linux</code>,
this will use the French Wikipedia instead.
</p>
<h3><span class="mw-headline" id="Download_location">Download location</span></h3>
<p>To specify download location:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/luakit/userconf.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">require "downloads"
downloads.default_dir = os.getenv("HOME") .. "/mydir"</pre>
<p>Default location is <code>$XDG_DOWNLOAD_DIR</code> if it exists, <code>$HOME/downloads</code> otherwise.
</p>
<h3><span class="mw-headline" id="Adblock">Adblock</span></h3>
<p>Adblock is loaded by default, but you need to:
</p>
<ul>
<li>Fetch an adblock-compatible list, like <a rel="nofollow" class="external text" href="https://easylist-downloads.adblockplus.org/easylist.txt">Easylist</a>, and save it to <code>~/.local/share/luakit/adblock</code>.</li>
<li>Restart Luakit to load the extension.</li>
<li>Use <code>:adblock-list-enable <i>number</i></code> command within Luakit to turn Adblock's list(s) you downloaded on Adblock itself becomes enabled on startup.</li>
</ul>
<p>Full info on enabled lists and AdBlock state can be found using <code>:adblock</code> or <code>g</code> <code>Shift+a</code> at <code>luakit://adblock/</code> internal page, if the <code>adblock_chrome</code> module is enabled, which is not a mandatory part.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For Adblock to run in <b>normal</b> mode, <code>easylist.txt</code> and any others must be placed in <code>~/.local/share/luakit/adblock</code>
</div>
<h3><span class="mw-headline" id="Bookmarks_management">Bookmarks management</span></h3>
<h4><span class="mw-headline" id="Sync">Sync</span></h4>
<p>Starting from version 2012.09.13, Luakit bookmarks are stored in an SQLite database: <code>~/.local/share/luakit/bookmarks.db</code>.
</p>
<p>You can put a symbolic link in place of the default file to store your bookmarks anywhere on your machine.
This way if your are using a cloud sync application like Dropbox, you can keep your bookmarks synchronized between your different computers.
</p>
<h4><span class="mw-headline" id="Converting_plain_text_bookmarks_to_SQLite_format">Converting plain text bookmarks to SQLite format</span></h4>
<p>Bookmarks were stored in a simple plain text file: <code>~/.local/share/luakit/bookmarks</code>. Each line is a bookmark. It is composed of 2 fields, the <i>link</i> and the <i>group</i> which are separated by a <i>tab</i> character.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If spaces are inserted instead of tabulation character, the link will not be properly bookmarked.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Groups and links are alphabetically sorted, so there is no need to do it manually.</div>
<p>To use bookmarks with the latest Luakit release, the file must be converted.
A sample Lua script will do that:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">bookmarks_plain_to_sqlite.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">local usage = [[Usage: luakit -c bookmarks_plain_to_sqlite.lua [bookmark plaintext path] [bookmark db path]
]]

local old_db_path, new_db_path = unpack(uris)

if not old_db_path or not new_db_path then
   io.stdout:write(usage)
   luakit.quit(1)
end

-- One-pass file read into 'data' var.
old_db = assert(io.open(old_db_path, "r"))
local data = old_db:read("*all")
assert(old_db:close())

-- Init new_db, otherwise sqlite queries will fail.
new_db = sqlite3{ filename = new_db_path }
new_db:exec("CREATE TABLE IF NOT EXISTS bookmarks (id INTEGER PRIMARY KEY, uri TEXT NOT NULL, title TEXT NOT NULL, desc TEXT NOT NULL, tags TEXT NOT NULL, created INTEGER, modified INTEGER )")

-- Fill
local url,tag

for line in data:gmatch("[^\n]*\n?") do

   if string.len(line) &gt; 1 then

      print ("["..line.."]")

      -- Get url and tag (if present) from first line.
      _, _, url, tag = string.find(line, "([^\n\t]+)\t*([^\n]*)\n?")

      -- Optional yet convenient output.
      io.write(url)
      io.write("\t")
      io.write(tag)
      io.write("\n")

      -- DB insertion. Nothing will be overwritten. If URL and/or tag already exists, then a double is created.
      new_db:exec("INSERT INTO bookmarks VALUES (NULL, ?, ?, ?, ?, ?, ?)",
                  {
                     url, "", "", tag or "",
                     os.time(), os.time()
                  })
      end
end

print("Import finished.")
print("\nVacuuming database...")
new_db:exec "VACUUM"
print("Vacuum done.")

luakit.quit(0)
</pre>
<p>As stated at beginning of the script, it must be ran with Luakit:
</p>
<pre>$ luakit -c bookmarks_plain_to_sqlite.lua <i>path/to/plaintext/bookmark</i> <i>path/to/db</i>
</pre>
<p>The old plaintext bookmarks will be left unchanged. If the DB bookmarks do not exist, the file will be created. If it exists, do not worry, none of the previous bookmarks will be touched. However, this behaviour implies that you might get some doubles.
</p>
<h4><span class="mw-headline" id="Import_from_Firefox">Import from Firefox</span></h4>
<p>To import bookmarks from Firefox, first they must be exported to an HTML file using its bookmarks manager. After that the XML file can be converted to a Luakit format.
</p>
<p>The following one-line awk command will do that:
</p>
<pre>$ cat bookmarks.html | awk '
{gsub(/\"/," ")}
/&lt;\/H3&gt;/{FS="&gt;";gsub(/&lt;/,"&gt;");og=g;g=$(NF-2);FS=" "}
/&lt;DL&gt;/{x++;if(x&gt;= 3)gl[x-3]=g}
/&lt;\/DL&gt;/{x--;if(x==2)g=og"2"}
/HREF/{gsub(/&lt;/," ");gsub(/&gt;/," ");if(g!=""){if(og!=g){printf "\n";og=g};printf "%s\t",$4;if(x&gt;=3){for(i=0;i&lt;=x-4;i++){printf "%s-",gl[i]}printf "%s\n",gl[x-3]}else{printf "\n"}}}'
</pre>
<p>The more readable version of the script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ff2lk.awk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Notes: 'folders' for Firefox bookmarks mean 'groups' for Luakit.

# Put spaces where it is needed to delimit words properly.
{gsub(/\"/," ")}

# Since the folder name may have spaces, delimiter must be "&gt;" here.
/&lt;\/H3&gt;/ {
    FS="&gt;"
    gsub(/&lt;/,"&gt;")
    oldgroup=group
    group=$(NF-2)
    FS=" "
}

# Each time a &lt;DL&gt; is encountered, it means we step into a subfolder.
# 'count' is the depth level.
# Base level starts at 2 (Firefox fault).
# 'groupline' is an array of all parent folders.
/&lt;DL&gt;/ {
    count++
    if ( count &gt;= 3 )
        groupline[count-3]=group
}

# On &lt;/DL&gt;, we step out.
# If if return to the base level (i.e. not in a folder), then we give 'group' a fake name different
# from 'oldgroup' to make sure a line will be skipped (see below).
/&lt;\/DL&gt;/ {
    count--
    if( count == 2 )
        group=oldgroup"ROOT"
}

# The bookmark name.
# If oldgroup is different than group, (i.e. folder changed) then we skip a line.
# If we are in a folder, then we print the group name, i.e. all parents plus the current folder
# separated by an hyphen.
/HREF/ {
    gsub(/&lt;/," ")
    gsub(/&gt;/," ")
    if (group != "")
    {
        if(oldgroup != group)
        {
            printf "\n"
            oldgroup=group
        }
        printf "%s\t",$4
        if ( count &gt;= 3 )
        {
            for ( i=0 ; i &lt;= count-4 ; i++ )
            {printf "%s-" , groupline[i]}
            printf "%s" , groupline[count-3]
        }
        printf "\n"
    }
}
</pre>
<p>Run it with
</p>
<pre>$ awk -f ff2lk.awk bookmarks.html &gt;&gt; bookmarks
</pre>
<p>Then convert the generated plain text bookmarks to the SQLite format as described at <a href="#Converting_plain_text_bookmarks_to_SQLite_format">#Converting plain text bookmarks to SQLite format</a>.
</p>
<h4><span class="mw-headline" id="Export_bookmarks">Export bookmarks</span></h4>
<p>The following script let you export Luakit bookmarks from its SQLite format to a plain text file. The resulting file may be suitable for other web browsers, or may be easily parsed by import scripts.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">bookmarks_sqlite_to_plain.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- USER CONFIG

local sep = " "

-- END OF USER CONFIG

local usage = [[Usage: luakit -c bookmarks_sqlite_to_plain.lua [bookmark db path] [bookmark plain path]

DB scheme is

    bookmarks (
        id INTEGER PRIMARY KEY,
        uri TEXT NOT NULL,
        title TEXT NOT NULL,
        desc TEXT NOT NULL,
        tags TEXT NOT NULL,
        created INTEGER,
        modified INTEGER
    );
]]

local old_db_path, new_db_path = unpack(uris)

if not old_db_path or not new_db_path then
   io.stdout:write(usage)
   luakit.quit(1)
end

-- One-pass file read into 'data' var.
new_db = assert(io.open(new_db_path, "w"))

-- Open old_db
old_db = sqlite3{ filename = old_db_path }

-- Load all db values to a string variable.
local rows = old_db:exec [[ SELECT * FROM bookmarks ]]

-- Iterate over all entries.
-- Note: it could be faster to use one single concatenation for all entries, but
-- it would be much more code and not so flexible. It is desirable to focus on
-- clarity. After all, only a few hundred lines are handled.
for _, b in ipairs(rows) do

   -- Change %q for %s to remove double quotes if needed.
   -- You can toggle the desired fields with comments.
   local outputstr =
      string.format("%q%s", b.uri or "", sep) ..
      string.format("%q%s", b.title or "", sep) ..
      string.format("%q%s", b.desc or "", sep) ..
      string.format("%q%s- ", b.tags or "", sep) ..
      ((b.created or "" ) .. sep) ..
      ((b.modified or "" ) .. sep) ..
      "\n"

   -- Write entry to file.
   new_db:write(outputstr)
end


print("Export done.")

assert(new_db:close())

luakit.quit(0)
</pre>
<p>As stated at beginning of the script, it must be ran with Luakit:
</p>
<pre>$ luakit -c bookmarks_plain_to_sqlite.lua <i>path/to/plaintext/bookmarks</i> <i>path/to/database</i>
</pre>
<h3><span class="mw-headline" id="Tor">Tor</span></h3>
<p>Once <a href="../en/Tor.html" title="Tor">Tor</a> has been setup, simply run:
</p>
<pre>$ torsocks luakit --nounique
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> To be sure of anonymity, you also need to change settings within Luakit, such as disabling Flash and changing the useragent string.</div>
<h3><span class="mw-headline" id="Custom_CSS">Custom CSS</span></h3>
<p>Locate the <code>styles</code> sub-directory within luakit's data storage directory.
Normally, this is located at <code>~/.local/share/luakit/styles/</code>. Create the
directory if it does not already exist.
Move any CSS rules to a new file within that directory. The filename must end in <code>.css</code>.
Make sure you specify which sites your stylesheet should apply to. The way to
do this is to use <code>@-moz-document</code> rules. The Stylish wiki page <a rel="nofollow" class="external text" href="https://github.com/stylish-userstyles/stylish/wiki/Applying-styles-to-specific-sites">Applying styles to specific sites</a> may be helpful.
Run <code>:styles-reload</code> to detect new stylesheet files and reload any changes to
existing stylesheet files; it is not necessary to restart luakit.
</p>
<p>To open the styles menu, run the command <code>:styles-list</code>. Here you can
enable/disable stylesheets, open stylesheets in your text editor, and view
which stylesheets are active.
</p>
<p>If a stylesheet is disabled for all pages, its state will be listed as
"Disabled". If a stylesheet is enabled for all pages, but does not apply to
the current page, its state will be listed as "Enabled". If a stylesheet is
enbaled for all pages _and_ it applies to the current page, its state will be
listed as "Active".
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://luakit.github.io/">Home page</a></li>
<li><a rel="nofollow" class="external text" href="http://shariebeth.com/computers/luakitcheatsheet.txt">Cheatsheet</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Web_browser.html" title="Category:Web browser">Web browser</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Luakit&amp;oldid=824335">https://wiki.archlinux.org/index.php?title=Luakit&amp;oldid=824335</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 31 December 2024, at 15:04.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
