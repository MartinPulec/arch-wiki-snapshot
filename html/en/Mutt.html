<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Mutt - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Mutt rootpage-Mutt skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-IMAP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IMAP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>IMAP</div>
			</a>
			
			<ul id="toc-IMAP-sublist" class="vector-toc-list">
				<li id="toc-Native_IMAP_support" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Native_IMAP_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Native IMAP support</div>
			</a>
			
			<ul id="toc-Native_IMAP_support-sublist" class="vector-toc-list">
				<li id="toc-imap_user" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#imap_user">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.1</span>imap_user</div>
			</a>
			
			<ul id="toc-imap_user-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-imap_pass" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#imap_pass">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.2</span>imap_pass</div>
			</a>
			
			<ul id="toc-imap_pass-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-folder" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#folder">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.3</span>folder</div>
			</a>
			
			<ul id="toc-folder-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-spoolfile" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#spoolfile">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.4</span>spoolfile</div>
			</a>
			
			<ul id="toc-spoolfile-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mailboxes" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#mailboxes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.5</span>mailboxes</div>
			</a>
			
			<ul id="toc-mailboxes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Summary" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Summary">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1.6</span>Summary</div>
			</a>
			
			<ul id="toc-Summary-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-External_IMAP_support" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#External_IMAP_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>External IMAP support</div>
			</a>
			
			<ul id="toc-External_IMAP_support-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-POP3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#POP3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>POP3</div>
			</a>
			
			<ul id="toc-POP3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Maildir" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Maildir">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Maildir</div>
			</a>
			
			<ul id="toc-Maildir-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SMTP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SMTP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>SMTP</div>
			</a>
			
			<ul id="toc-SMTP-sublist" class="vector-toc-list">
				<li id="toc-Folders" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Folders">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>Folders</div>
			</a>
			
			<ul id="toc-Folders-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Native_SMTP_support" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Native_SMTP_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.2</span>Native SMTP support</div>
			</a>
			
			<ul id="toc-Native_SMTP_support-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-External_SMTP_support" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#External_SMTP_support">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.3</span>External SMTP support</div>
			</a>
			
			<ul id="toc-External_SMTP_support-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sending_mails_from_Mutt" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sending_mails_from_Mutt">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.4</span>Sending mails from Mutt</div>
			</a>
			
			<ul id="toc-Sending_mails_from_Mutt-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Multiple_accounts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Multiple_accounts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Multiple accounts</div>
			</a>
			
			<ul id="toc-Multiple_accounts-sublist" class="vector-toc-list">
				<li id="toc-Alternative_way" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Alternative_way">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.1</span>Alternative way</div>
			</a>
			
			<ul id="toc-Alternative_way-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Passwords_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Passwords_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6</span>Passwords management</div>
			</a>
			
			<ul id="toc-Passwords_management-sublist" class="vector-toc-list">
				<li id="toc-GPG" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GPG">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6.1</span>GPG</div>
			</a>
			
			<ul id="toc-GPG-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pass" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pass">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6.2</span>Pass</div>
			</a>
			
			<ul id="toc-Pass-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Security_concern" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Security_concern">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.6.3</span>Security concern</div>
			</a>
			
			<ul id="toc-Security_concern-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Key_bindings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Key_bindings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Key bindings</div>
			</a>
			
			<ul id="toc-Key_bindings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Composition" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Composition">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Composition</div>
			</a>
			
			<ul id="toc-Composition-sublist" class="vector-toc-list">
				<li id="toc-Encrypt_and_sign_mail_(GnuPG)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Encrypt_and_sign_mail_(GnuPG)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Encrypt and sign mail (GnuPG)</div>
			</a>
			
			<ul id="toc-Encrypt_and_sign_mail_(GnuPG)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-E-mail_character_encoding" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#E-mail_character_encoding">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>E-mail character encoding</div>
			</a>
			
			<ul id="toc-E-mail_character_encoding-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Custom_mail_headers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Custom_mail_headers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.3</span>Custom mail headers</div>
			</a>
			
			<ul id="toc-Custom_mail_headers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Signature_block" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Signature_block">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.4</span>Signature block</div>
			</a>
			
			<ul id="toc-Signature_block-sublist" class="vector-toc-list">
				<li id="toc-Random_signature" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Random_signature">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.4.1</span>Random signature</div>
			</a>
			
			<ul id="toc-Random_signature-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Compose_and_send_from_command_line" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Compose_and_send_from_command_line">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.5</span>Compose and send from command line</div>
			</a>
			
			<ul id="toc-Compose_and_send_from_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Compose_HTML_e-mails" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Compose_HTML_e-mails">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.6</span>Compose HTML e-mails</div>
			</a>
			
			<ul id="toc-Compose_HTML_e-mails-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Display_another_email_while_composing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Display_another_email_while_composing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.7</span>Display another email while composing</div>
			</a>
			
			<ul id="toc-Display_another_email_while_composing-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Printing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Printing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Printing</div>
			</a>
			
			<ul id="toc-Printing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Viewing_content" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Viewing_content">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Viewing content</div>
			</a>
			
			<ul id="toc-Viewing_content-sublist" class="vector-toc-list">
				<li id="toc-Viewing_URLs_in_a_web_browser" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Viewing_URLs_in_a_web_browser">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1</span>Viewing URLs in a web browser</div>
			</a>
			
			<ul id="toc-Viewing_URLs_in_a_web_browser-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Viewing_HTML" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Viewing_HTML">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.2</span>Viewing HTML</div>
			</a>
			
			<ul id="toc-Viewing_HTML-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Viewing_pdf_files" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Viewing_pdf_files">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.3</span>Viewing pdf files</div>
			</a>
			
			<ul id="toc-Viewing_pdf_files-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Filtering_the_message_view" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Filtering_the_message_view">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.4</span>Filtering the message view</div>
			</a>
			
			<ul id="toc-Filtering_the_message_view-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Conversation_grouping" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Conversation_grouping">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.5</span>Conversation grouping</div>
			</a>
			
			<ul id="toc-Conversation_grouping-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Configuring_editors_to_work_with_mutt" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuring_editors_to_work_with_mutt">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Configuring editors to work with mutt</div>
			</a>
			
			<ul id="toc-Configuring_editors_to_work_with_mutt-sublist" class="vector-toc-list">
				<li id="toc-vim" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#vim">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>vim</div>
			</a>
			
			<ul id="toc-vim-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GNU_nano" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#GNU_nano">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.2</span>GNU nano</div>
			</a>
			
			<ul id="toc-GNU_nano-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Emacs" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Emacs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.3</span>Emacs</div>
			</a>
			
			<ul id="toc-Emacs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Display_settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Display_settings">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Display settings</div>
			</a>
			
			<ul id="toc-Display_settings-sublist" class="vector-toc-list">
				<li id="toc-Colors" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Colors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Colors</div>
			</a>
			
			<ul id="toc-Colors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Index_Format" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Index_Format">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.2</span>Index Format</div>
			</a>
			
			<ul id="toc-Index_Format-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Display_recipient_instead_of_sender_in_"Sent"_folder_view' class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href='#Display_recipient_instead_of_sender_in_"Sent"_folder_view'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.3</span>Display recipient instead of sender in "Sent" folder view</div>
			</a>
			
			<ul id='toc-Display_recipient_instead_of_sender_in_"Sent"_folder_view-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Variable_column_width" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Variable_column_width">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.4</span>Variable column width</div>
			</a>
			
			<ul id="toc-Variable_column_width-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sidebar" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sidebar">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.5</span>Sidebar</div>
			</a>
			
			<ul id="toc-Sidebar-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Display_the_index_above_the_pager_view" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Display_the_index_above_the_pager_view">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.6</span>Display the index above the pager view</div>
			</a>
			
			<ul id="toc-Display_the_index_above_the_pager_view-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Contact_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Contact_management">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Contact management</div>
			</a>
			
			<ul id="toc-Contact_management-sublist" class="vector-toc-list">
				<li id="toc-Address_aliases" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Address_aliases">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.1</span>Address aliases</div>
			</a>
			
			<ul id="toc-Address_aliases-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Abook" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Abook">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.2</span>Abook</div>
			</a>
			
			<ul id="toc-Abook-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Goobook" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Goobook">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.3</span>Goobook</div>
			</a>
			
			<ul id="toc-Goobook-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Khard" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Khard">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.4</span>Khard</div>
			</a>
			
			<ul id="toc-Khard-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Manage_multiple_sender_accounts" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Manage_multiple_sender_accounts">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>Manage multiple sender accounts</div>
			</a>
			
			<ul id="toc-Manage_multiple_sender_accounts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Request_IMAP_mail_retrieval_manually" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Request_IMAP_mail_retrieval_manually">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9</span>Request IMAP mail retrieval manually</div>
			</a>
			
			<ul id="toc-Request_IMAP_mail_retrieval_manually-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Avoiding_slow_index_on_large_(IMAP)_folders_due_to_coloring" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Avoiding_slow_index_on_large_(IMAP)_folders_due_to_coloring">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.10</span>Avoiding slow index on large (IMAP) folders due to coloring</div>
			</a>
			
			<ul id="toc-Avoiding_slow_index_on_large_(IMAP)_folders_due_to_coloring-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Speed_up_folders_switch" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Speed_up_folders_switch">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.11</span>Speed up folders switch</div>
			</a>
			
			<ul id="toc-Speed_up_folders_switch-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Archive_treated_e-mails" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Archive_treated_e-mails">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.12</span>Archive treated e-mails</div>
			</a>
			
			<ul id="toc-Archive_treated_e-mails-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Migrating_mails_from_one_computer_to_another" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Migrating_mails_from_one_computer_to_another">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.13</span>Migrating mails from one computer to another</div>
			</a>
			
			<ul id="toc-Migrating_mails_from_one_computer_to_another-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Default_folder_for_saving_attachments" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Default_folder_for_saving_attachments">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14</span>Default folder for saving attachments</div>
			</a>
			
			<ul id="toc-Default_folder_for_saving_attachments-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pager_behavior" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pager_behavior">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15</span>Pager behavior</div>
			</a>
			
			<ul id="toc-Pager_behavior-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fast_reply" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fast_reply">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.16</span>Fast reply</div>
			</a>
			
			<ul id="toc-Fast_reply-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignore_own_e-mail_addresses_from_group-reply" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ignore_own_e-mail_addresses_from_group-reply">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.17</span>Ignore own e-mail addresses from group-reply</div>
			</a>
			
			<ul id="toc-Ignore_own_e-mail_addresses_from_group-reply-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-IMAP_message_cache" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IMAP_message_cache">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.18</span>IMAP message cache</div>
			</a>
			
			<ul id="toc-IMAP_message_cache-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Open_attachments_or_view_HTML_email_in_the_background" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Open_attachments_or_view_HTML_email_in_the_background">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.19</span>Open attachments or view HTML email in the background</div>
			</a>
			
			<ul id="toc-Open_attachments_or_view_HTML_email_in_the_background-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Backspace_does_not_work_in_Mutt" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Backspace_does_not_work_in_Mutt">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Backspace does not work in Mutt</div>
			</a>
			
			<ul id="toc-Backspace_does_not_work_in_Mutt-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_change-folder_function_always_prompt_for_the_same_mailbox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_change-folder_function_always_prompt_for_the_same_mailbox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>The <i>change-folder</i> function always prompt for the same mailbox</div>
			</a>
			
			<ul id="toc-The_change-folder_function_always_prompt_for_the_same_mailbox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-I_cannot_change_folder_when_using_Mutt_read-only_(Mutt_-R)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#I_cannot_change_folder_when_using_Mutt_read-only_(Mutt_-R)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>I cannot change folder when using Mutt read-only (Mutt -R)</div>
			</a>
			
			<ul id="toc-I_cannot_change_folder_when_using_Mutt_read-only_(Mutt_-R)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error_sending_message,_child_exited_127_(Exec_error.)." class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_sending_message,_child_exited_127_(Exec_error.).">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Error sending message, child exited 127 (Exec error.).</div>
			</a>
			
			<ul id="toc-Error_sending_message,_child_exited_127_(Exec_error.).-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Character_encoding_problems" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Character_encoding_problems">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Character encoding problems</div>
			</a>
			
			<ul id="toc-Character_encoding_problems-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unable_to_login_with_GMail" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unable_to_login_with_GMail">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Unable to login with GMail</div>
			</a>
			
			<ul id="toc-Unable_to_login_with_GMail-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Not_possible_to_open_too_long_URLs_with_urlview" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Not_possible_to_open_too_long_URLs_with_urlview">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Not possible to open too long URLs with urlview</div>
			</a>
			
			<ul id="toc-Not_possible_to_open_too_long_URLs_with_urlview-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Documentation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Documentation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Documentation</div>
		</a>
		
		<ul id="toc-Documentation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Mutt</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Mutt" title="Mutt – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Mutt" title="Mutt – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Fdm.html" title="Fdm">fdm</a></li>
<li><a href="../en/Msmtp.html" title="Msmtp">msmtp</a></li>
<li><a href="../en/OfflineIMAP.html" title="OfflineIMAP">OfflineIMAP</a></li>
<li><a href="../en/Isync.html" title="Isync">isync</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://www.mutt.org/">Mutt</a> is a text-based mail client renowned for its powerful features. Though over two decades old, Mutt remains the mail client of choice for a great number of power users.
</p>
<p>Mutt focuses primarily on being a Mail User Agent (MUA), and was originally written to view mail. Later implementations (added for retrieval, sending, and filtering mail) are simplistic compared to other mail applications and, as such, users may wish to use external applications to extend Mutt's capabilities.
</p>
<p>Nevertheless, the Arch Linux <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package is compiled with IMAP, POP3 and SMTP support, removing the necessity for external applications.
</p>
<p>This article covers using both native IMAP sending and retrieval, and a setup depending on <a href="../en/OfflineIMAP.html" title="OfflineIMAP">OfflineIMAP</a> or <a href="../en/Getmail.html" title="Getmail">getmail</a> (POP3) to retrieve mail, <a href="../en/Procmail.html" title="Procmail">procmail</a> to filter it in the case of POP3, and <a href="../en/Msmtp.html" title="Msmtp">msmtp</a> to send it.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package. A popular fork with more features is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=neomutt">neomutt</a></span>.
</p>
<p>Optionally install external helper applications for an IMAP setup, such as <a href="../en/Isync.html" title="Isync">isync</a> or <a href="../en/OfflineIMAP.html" title="OfflineIMAP">OfflineIMAP</a>.
</p>
<p>Or (if using POP3) <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/getmail/">getmail</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpop">mpop</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fetchmail">fetchmail</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fdm">fdm</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/procmail/">procmail</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  About authentication setups:
<ul>
<li>If you just need the methods LOGIN and PLAIN, these are satisfied with the dependency <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsasl">libsasl</a></span>
</li>
<li>If you want to (or have to) use CRAM-MD5, GSSAPI or DIGEST-MD5, install the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cyrus-sasl-gssapi">cyrus-sasl-gssapi</a></span>
</li>
<li>If you are using Gmail as your SMTP server, you may need to install the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cyrus-sasl">cyrus-sasl</a></span>
</li>
</ul>
</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>This section covers <a href="#IMAP">#IMAP</a>, <a href="#POP3">#POP3</a>, <a href="#Maildir">#Maildir</a> and <a href="#SMTP">#SMTP</a> configuration.
</p>
<p>Mutt will, by default, search six locations for its configuration file; <code>~/.muttrc</code>, <code>~/.mutt/muttrc</code>, and <code>$XDG_CONFIG_HOME/mutt/muttrc</code>, first with <code>-MUTT_VERSION</code> appended, then without. Any of these locations will work. In case you decide to put the initialization file somewhere else, use <code>$ mutt -F /path/to/.muttrc</code>. You should also know some prerequisite for Mutt configuration. Its syntax is very close to the Bourne Shell. For example, you can get the content of another configuration file:
</p>
<pre>source /path/to/other/config/file
</pre>
<p>You can use variables and assign the result of shell commands to them.
</p>
<pre>set editor=`echo \$EDITOR`
</pre>
<p>Here the <code>$</code> gets escaped so that it does not get substituted by Mutt before being passed to the shell. Also note the use of the backquotes, as bash syntax <code>$(...)</code> does not work. Mutt has a lot of predefined variables, but you can also set your own. User variables <b>must</b> begin with "my"!
</p>
<pre>set my_name = "John Doe"
</pre>
<h3><span class="mw-headline" id="IMAP">IMAP</span></h3>
<h4><span class="mw-headline" id="Native_IMAP_support">Native IMAP support</span></h4>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package is compiled with IMAP support. At the very least you need to have four lines in your muttrc file to be able to access your mail.
</p>
<h5><span class="mw-headline" id="imap_user">imap_user</span></h5>
<pre>set imap_user=USERNAME
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Continuing with the previous example, remember that Gmail requires your full email address (this is not standard): <pre>set imap_user=your.username@gmail.com</pre>
</div>
<h5><span class="mw-headline" id="imap_pass">imap_pass</span></h5>
<p>If unset, the password will be prompted for.
</p>
<pre>set imap_pass=SECRET
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you have enabled two-factor authentication in Gmail and you have added an application specific password for Mutt, you will want to use that password here rather than your regular Gmail password.</div>
<h5><span class="mw-headline" id="folder">folder</span></h5>
<p>Instead of a local directory which contains all your mail (and directories), use your server (and the highest folder in the hierarchy, if needed).
</p>
<pre>set folder=imap[s]://imap.server.domain[:port]/[folder/]
</pre>
<p>You do not have to use a folder, but it might be convenient if you have all your other folders inside your INBOX, for example. Whatever you set here as your folder can be accessed later in Mutt with just an equal sign (=) or a plus sign (+). Example:
</p>
<pre>set folder=imaps://imap.gmail.com/
</pre>
<p>It should be noted that for several accounts, it is best practice to use different folders -- e.g. for <i>account-hook</i>. If you have several Gmail accounts, use
</p>
<pre>set folder=imaps://username@imap.gmail.com/
</pre>
<p>instead, where your account is <i>username@gmail.com</i>. This way it will be possible to distinguish the different folders. Otherwise it would lead to authentication errors.
</p>
<h5><span class="mw-headline" id="spoolfile">spoolfile</span></h5>
<p>The spoolfile is the folder where your (unfiltered) e-mail arrives. Most e-mail services conventionally name it <i>INBOX</i>. You can now use '=' or '+' as a substitution for the full <code>folder</code> path that was configured above. For example:
</p>
<pre>set spoolfile=+INBOX
</pre>
<h5><span class="mw-headline" id="mailboxes">mailboxes</span></h5>
<p>Any IMAP folders that should be checked regularly for new mail should be listed here:
</p>
<pre>mailboxes =INBOX =family
mailboxes imaps://imap.gmail.com/INBOX imaps://imap.gmail.com/family
</pre>
<p>Alternatively, check for all subscribed IMAP folders (as if all were added with a <code>mailboxes</code> line):
</p>
<pre>set imap_check_subscribed
</pre>
<p>These two versions are equivalent if you want to subscribe to all folders. So the second method is much more convenient, but the first one gives you more flexibility. Also, newer Mutt versions are configured by default to include a macro bound to the 'y' key which will allow you to change to any of the folders listed under mailboxes.
</p>
<p>If you do not set this variable, the <i>spoolfile</i> will be used by default. This variable is also important for the <a href="#Sidebar">#Sidebar</a>.
</p>
<h5><span class="mw-headline" id="Summary">Summary</span></h5>
<p>Using these options, you will be able to start Mutt, enter your IMAP password, and start reading your mail. Here is a muttrc snippet (for Gmail) with some other lines you might consider adding for better IMAP support.
</p>
<pre>set folder      = imaps://imap.gmail.com/
set imap_user   = your.username@gmail.com
set imap_pass   = your-imap-password
set spoolfile   = +INBOX
mailboxes       = +INBOX

# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things up even more.
set header_cache = ~/.cache/mutt

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.cache/mutt"

# Specify where to save and/or look for postponed messages.
set postponed = +[Gmail]/Drafts

# Allow Mutt to open a new IMAP connection automatically.
unset imap_passive

# Keep the IMAP connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300

# How often to check for new mail (time in seconds).
set mail_check = 120</pre>
<h4><span class="mw-headline" id="External_IMAP_support">External IMAP support</span></h4>
<p>While IMAP support is built into Mutt, it does not download mail for offline use. It is possible to use an external application such as <a href="../en/OfflineIMAP.html" title="OfflineIMAP">OfflineIMAP</a> or <a href="../en/Isync.html" title="Isync">isync</a> to download your emails to a local folder which can then be processed by Mutt.
</p>
<p>Consider using applications such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=spamassassin">spamassassin</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/imapfilter/">imapfilter</a></span><sup><small>AUR</small></sup> to sort mail.
</p>
<h3><span class="mw-headline" id="POP3">POP3</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package is compiled with POP3 support, which is configured via the <code>pop_*</code> variables as described in <span class="plainlinks archwiki-template-man" title="$ man 5 muttrc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/muttrc.5">muttrc(5)</a></span>.
</p>
<p>Alternatively, it is possible to use external programs to fetch mail using POP3. One popular option is to use <a href="../en/Getmail.html" title="Getmail">getmail</a> for retrieving and <a href="../en/Procmail.html" title="Procmail">procmail</a> for filtering the mail.
</p>
<h3><span class="mw-headline" id="Maildir">Maildir</span></h3>
<p>Maildir is a generic and standardized format. Almost every MUA is able to handle Maildirs and Mutt's support is excellent. There are just a few simple things that you need to do to get Mutt to use them. Open your muttrc and add the following lines:
</p>
<pre>set mbox_type=Maildir
set folder=~/mail
set spoolfile=+/
set header_cache=~/.cache/mutt</pre>
<p>This is a minimal Configuration that enables you to access your Maildir and checks for new local Mails in INBOX. This configuration also caches the headers of the eMails to speed up directory-listings. It might not be enabled in your build (but it sure is in the Arch-Package). Note that this does not affect OfflineIMAP in any way. It always syncs all of the directories on a Server. <code>spoolfile</code> tells Mutt which local directories to poll for new Mail. You might want to add more Spoolfiles (for example the Directories of Mailing-Lists) and maybe other things. But this is subject to the Mutt manual and beyond the scope of this document.
</p>
<h3><span class="mw-headline" id="SMTP">SMTP</span></h3>
<p>Whether you use POP or IMAP to receive mail you will probably still send mail using SMTP.
</p>
<h4><span class="mw-headline" id="Folders">Folders</span></h4>
<p>There is basically only one important folder here: the one where all your sent e-mails will be saved.
</p>
<pre>set record = +Sent
</pre>
<p>Gmail automatically saves sent e-mail to <code>+[Gmail]/Sent</code>, so we do not want duplicates.
</p>
<pre>unset record
</pre>
<h4><span class="mw-headline" id="Native_SMTP_support">Native SMTP support</span></h4>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package is compiled with SMTP support.
</p>
<p>Here are the common SMTP settings:
</p>
<pre>set realname = 'Your Real Name'
set from = your-email-address

set smtp_pass = $imap_pass
set ssl_force_tls = yes</pre>
<p>If your SMTP server is STARTTLS-based, add the following:
</p>
<pre>set smtp_url=smtp://$imap_user@smtp.domain.tld:587
set ssl_starttls = yes</pre>
<p>If your SMTP server is SMTPS-based, add the following instead:
</p>
<pre>set smtp_url=smtps://$my_user@smtp.domain.tld</pre>
<p>If your SMTP credentials are not the same as your IMAP credentials, then you must use the correct credentials instead of <code>$imap_user</code> and <code>$imap_pass</code>.
</p>
<p>If you get an error like <code>SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol</code>, then your server probably uses STARTTLS instead of SMTPS.
</p>
<p>If your server uses the LOGIN authentication method you might need to specify this explicitly, despite the manual's claim that all methods are tried by default:
</p>
<pre>set smtp_authenticators = "login"</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 muttrc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/muttrc.5">muttrc(5)</a></span> for more information.
</p>
<h4><span class="mw-headline" id="External_SMTP_support">External SMTP support</span></h4>
<p>An external SMTP agent such as <a href="../en/Msmtp.html" title="Msmtp">msmtp</a>, <a href="../en/SSMTP.html" title="SSMTP">sSMTP</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=opensmtpd">opensmtpd</a></span> can also be used.
</p>
<p>The <code>sendmail</code> variable in your <code>muttrc</code> determines the program and arguments used to deliver mail in mutt. Any additional arguments must be interpreted by the program as recipient addresses.
</p>
<p>For example, if using <a href="../en/Msmtp.html" title="Msmtp">msmtp</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set realname='Disgruntled Kangaroo'

set sendmail="/usr/bin/msmtp"

set edit_headers=yes
set folder=~/mail
set mbox=+mbox
set spoolfile=+inbox
set record=+sent
set postponed=+drafts
set mbox_type=Maildir

mailboxes +inbox +lovey-dovey +happy-kangaroos</pre>
<h4><span class="mw-headline" id="Sending_mails_from_Mutt">Sending mails from Mutt</span></h4>
<p>Now, startup <code>mutt</code>:
</p>
<p>You should see all the mail in <code>~/mail/inbox</code>. Press <code>m</code> to compose mail; it will use the editor defined by your <code>EDITOR</code> environment variable. If this variable is not set, you can fix it before starting Mutt:
</p>
<pre>$ export EDITOR=your-favorite-editor
$ mutt
</pre>
<p>You should store the EDITOR value into your shell resource configuration file (such as <a href="../en/Bash.html#Configuration_files" class="mw-redirect" title="Bashrc">bashrc</a>). You can also set the editor from Mutt's configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set editor=your-favorite-editor</pre>
<p>For testing purposes, address the letter to yourself. After you have written the letter, save and exit the editor. You will return to Mutt, which will now show information about your e-mail. Press <code>y</code> to send it.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If at this point you press <code>q</code> by accident, Mutt will ask you <code>Postpone this message? ([yes]/no)</code>. This is really asking whether you want to save the message you just wrote. If you press "n" (perhaps because you want to edit the message again) the message will be permanently deleted. When using Mutt, always remember that "Postpone this message?" really means "Save this message?".</div>
<h3><span class="mw-headline" id="Multiple_accounts">Multiple accounts</span></h3>
<p>Now you should have a working configuration for one account at least. You might wonder how to use several accounts, since we put everything into a single file.
</p>
<p>Well all you need is to write account-specific parameters to their respective files and source them. All the IMAP/POP3/SMTP configuration for each account should go to its respective folder.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> When one account is setting a variable that is not specified for other accounts, you <b>must unset</b> it for them, otherwise configuration will overlap and you will most certainly experience unexpected behaviour.</div>
<p>Mutt can handle this thanks to one of its most powerful features: hooks. Basically a hook is a command that gets executed before a specific action. There are several hooks available. For multiple accounts, you must use account-hooks <i>and</i> folder-hooks.
</p>
<ul>
<li>Folder-hooks will run a command before switching folders. This is mostly useful to set the appropriate SMTP parameters when you are in a specific folder. For instance when you are in your work mailbox and you send a e-mail, it will automatically use your work account as sender.</li>
<li>Account-hooks will run a command every time Mutt calls a function related to an account, like IMAP syncing. It does not require you to switch to any folder.</li>
</ul>
<p>Hooks take two parameters:
</p>
<pre>account-hook [!]regex command
folder-hook [!]regex command
</pre>
<p>The regex is the folder to be matched (or not if preceded by the !). The command tells what to do.
</p>
<p>Let us give a full example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## General options
set header_cache = "~/.cache/mutt"
set imap_check_subscribed
set imap_keepalive = 300
unset imap_passive
set mail_check = 60
set mbox_type=Maildir

## ACCOUNT1
source "~/.mutt/work"
# Here we use the $folder variable that has just been set in the sourced file.
# We must set it right now otherwise the 'folder' variable will change in the next sourced file.
folder-hook $folder 'source ~/.mutt/work'

## ACCOUNT2
source "~/.mutt/personal"
folder-hook *user@gmail.com/ 'source ~/.mutt/personal'
folder-hook *user@gmail.com/Family 'set realname="Bob"'
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.mutt/work</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## Receive options.
set imap_user=user@gmail.com
set imap_pass=****
set folder = imaps://user@imap.gmail.com/
set spoolfile = +INBOX
set postponed = +Drafts
set record = +Sent

## Send options.
set smtp_url=smtps://user:****@smtp.gmail.com
set realname='User X'
set from=user@gmail.com
set hostname="gmail.com"
set signature="John Doe"
# Connection options
set ssl_force_tls = yes
unset ssl_starttls

## Hook -- IMPORTANT!
account-hook $folder "set imap_user=user@gmail.com imap_pass=****"
</pre>
<p>Finally <code>.mutt/personal</code> should be similar to <code>.mutt/work</code>.
</p>
<p>Now all your accounts are set, start Mutt. To switch from one account to another, just change the folder (<code>c</code> key). Alternatively you can use the <a href="#Sidebar">sidebar</a>.
</p>
<p>To change folder for different mailboxes you have to type the complete address -- for IMAP/POP3 folders, this may be quite inconvenient -- let us bind some key to it.
</p>
<pre>## Shortcuts
macro index,pager &lt;f2&gt; '&lt;sync-mailbox&gt;&lt;enter-command&gt;source ~/.mutt/personal&lt;enter&gt;&lt;change-folder&gt;!&lt;enter&gt;'
macro index,pager &lt;f3&gt; '&lt;sync-mailbox&gt;&lt;enter-command&gt;source ~/.mutt/work&lt;enter&gt;&lt;change-folder&gt;!&lt;enter&gt;'
</pre>
<p>With the above shortcuts (or with the sidebar) you will find that changing folders (with <code>c</code> by default) is not contextual, <i>i.e.</i> it will not list the folders of the current mailbox, but of the one used the last time you changed folders. To make the behaviour more contextual, the trick is to press <i>=</i> or <i>+</i> for current mailbox. You can automate this with the following macro:
</p>
<pre>macro index 'c' '&lt;change-folder&gt;?&lt;change-dir&gt;&lt;home&gt;^K=&lt;enter&gt;'
</pre>
<h4><span class="mw-headline" id="Alternative_way">Alternative way</span></h4>
<p>Another method to use mutt with multiple accounts is to run multiple mutt instances. You can have common settings in .muttrc and account specific settings in their respective files. Now you can source .muttrc from account specific config file. Advantage of this method is folder switching is not required to access different accounts, which improves workflow and saves time. For example,
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## General options
set header_cache = "~/.cache/mutt"
set imap_check_subscribed
set imap_keepalive = 300
unset imap_passive
set mail_check = 60
set mbox_type=Maildir
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.mutt/work</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">source .muttrc

## Receive options.
set imap_user=user@gmail.com
set imap_pass=****
set folder = imaps://user@imap.gmail.com/
set spoolfile = +INBOX
set postponed = +Drafts
set record = +Sent

## Send options.
set smtp_url=smtps://user:****@smtp.gmail.com
set realname='User X'
set from=user@gmail.com
set hostname="gmail.com"
set signature="John Doe"
# Connection options
set ssl_force_tls = yes
unset ssl_starttls
</pre>
<p>Finally <code>.mutt/personal</code> should be similar to <code>.mutt/work</code>. Now you can run mutt with
</p>
<pre>mutt -F .mutt/work
mutt -F .mutt/personal
</pre>
<p>or create alias mutt_work in your .bashrc
</p>
<pre>alias mutt_work="mutt -F .mutt/work"
alias mutt_personal="mutt -F .mutt/personal"
</pre>
<p>or write a script to start all mutt instances in one go,
</p>
<pre>#!/bin/sh
lxterminal -e mutt -F .mutt/work
lxterminal -e mutt -F .mutt/personal
</pre>
<h3><span class="mw-headline" id="Passwords_management">Passwords management</span></h3>
<p>Keep in mind that writing your password in <code>.muttrc</code> is a security risk. One solution is to always enter the password manually, but this becomes cumbersome.
</p>
<h4><span class="mw-headline" id="GPG">GPG</span></h4>
<p>An alternative solution is to encrypt your password with <a href="../en/GnuPG.html" title="GnuPG">GnuPG</a> in an encrypted file. <a href="../en/GnuPG.html#Create_a_key_pair" title="GnuPG">Setup your own keypair</a> if you have not done so already. <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Create">Create</a> a file in a <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a> with the following contents:
</p>
<pre>set my_pass = "<i>password</i>"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Remember that user defined variables <b>must</b> start with <code>my_</code>.</div>
<p>Then <a href="../en/GnuPG.html#Encrypt_and_decrypt" class="mw-redirect" title="Encrypt">encrypt</a> this file, setting yourself as the recipient and move it into an accessible location. In this example the encrypted file resides at $HOME/.my-pwds.gpg.
</p>
<p>In your mutt configuration file add the following before any account:
</p>
<pre>source "gpg -dq $HOME/.my-pwds.gpg |"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> At the end of the line above, there is no space between the pipe and the double quote.</div>
<p>This decrypts the file quietly and sets the variable <code>my_pass</code> in this example. This can be used in any variable after it has been sourced. For example:
</p>
<pre>set imap_pass=$my_pass</pre>
<p>If you use external tools like OfflineIMAP and msmtp, you need to set up an agent (e.g. gpg-agent, see <a href="../en/GnuPG.html#gpg-agent" title="GnuPG">GnuPG#gpg-agent</a>) to keep the passphrase into cache and thus avoiding those tools always prompting for it.
</p>
<h4><span class="mw-headline" id="Pass">Pass</span></h4>
<p>You can also use <a href="../en/Pass.html" title="Pass">pass</a> to encrypt your passwords easily. Just add the passwords to the given passwords as follows:
</p>
<pre>pass add user@domain.tld
</pre>
<p>After that, just add the command <code>pass show user@domain.tld</code> in your <code>muttrc</code>, for instance:
</p>
<pre>set imap_pass="`pass show user@domain.tld`"
</pre>
<p>Note the use of both backquotes and regular quotes to prevent the output of the backquotes from being parsed<a rel="nofollow" class="external autonumber" href="https://neomutt.org/guide/configuration.html#ex-backtick-dblquotes">[1]</a>.
</p>
<h4><span class="mw-headline" id="Security_concern">Security concern</span></h4>
<p>If <code>enter-command</code> is available from the UI, it is possible to see the password unencrypted, which may be undesired if anybody else than you has access to your session while Mutt is running. You may want to disable it for this reason. As a consequence, every command that the user intends to use must be bound to a key in advance, otherwise it will never be accessible.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> bind generic,alias,attach,browser,editor,index,compose,pager,pgp,postpone ':' noop
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<p>Guides to get you started with using and customizing Mutt:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://mutt.postle.net/">My first Mutt</a> (maintained by Bruno Postle)</li>
<li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20201112005521/http://www.therandymon.com/woodnotes/mutt/using-mutt.html">The Woodnotes Guide to the Mutt Email Client</a> (maintained by Randall Wood)</li>
<li>
<a rel="nofollow" class="external text" href="https://stevelosh.com/blog/2012/10/the-homely-mutt">The Homely Mutt</a> (by Steve Losh)</li>
<li>
<a rel="nofollow" class="external text" href="https://codesorcery.net/old/mutt/mutt-gnupg-howto">Everything You Need To Know To Start Using GnuPG with Mutt</a> (by Justin R. Miller)</li>
<li><a rel="nofollow" class="external text" href="https://neomutt.org/contrib/useful-programs">A List of useful programs that often are used in combination with Neomutt</a></li>
</ul>
<p>If you have any Mutt specific questions, feel free to ask in the <a href="../en/Arch_IRC_channels.html" title="Arch IRC channels">Arch IRC channels</a>.
</p>
<h3><span class="mw-headline" id="Key_bindings">Key bindings</span></h3>
<p>The default key bindings are quite far from the more common Emacs-like or Vi-like bindings. You can customize them to your preference. Mutt has a different set of bindings for the pager, the index, the attachment view, etc. Thus you need to specify which <i>map</i> you want to modify when you bind a key. You can review the list of commands and key bindings from Mutt's help page (default key: <code>?</code>). Example of Vi-like bindings:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## h to exit in every menu, l to go deeper, j and k for up and down, g and G for top and bottom
bind pager,browser			h			exit
bind attach,alias			h			exit
bind pager				l			view-attachments
bind pager 				k 			previous-line
bind pager 				j 			next-line
bind pager				g			top
bind pager				G			bottom
bind index				j			next-entry
bind index				k			previous-entry
bind attach,index 			g 			first-entry
bind attach,index 			G 			last-entry
bind index				l			display-message
bind attach				l			view-attach
bind browser,alias			l			select-entry
bind index				/			search
## default binding for limit is l
bind index				?			limit
## default binding for help is ?
bind index,pager,attach			&lt;F1&gt;			help
## default binding for header view (toggle-weed) is h
bind pager				H			display-toggle-weed
bind attach,index,pager 		\CD 			next-page
bind attach,index,pager 		\CU 			previous-page
</pre>
<h3><span class="mw-headline" id="Composition">Composition</span></h3>
<h4>
<span id="Encrypt_and_sign_mail_.28GnuPG.29"></span><span class="mw-headline" id="Encrypt_and_sign_mail_(GnuPG)">Encrypt and sign mail (GnuPG)</span>
</h4>
<p>To start encrypting mail in mutt using <a href="../en/GnuPG.html" title="GnuPG">GnuPG</a> copy <code>/usr/share/doc/mutt/samples/gpg.rc</code> to your mutt configuration folder (e.g. to <code>~/.mutt/gpg.rc</code>). Then <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">append</a> the following to your mutt configuration file (e.g. <code>~/.mutt/muttrc</code>):
</p>
<pre>source ~/.mutt/gpg.rc
</pre>
<p>Most encryption options are then available by pressing <code>p</code> in the compose view.
</p>
<p>See the <code>pgp_*</code> and <code>crypt_*</code> options in <span class="plainlinks archwiki-template-man" title="$ man 5 muttrc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/muttrc.5">muttrc(5)</a></span>.
</p>
<h4><span class="mw-headline" id="E-mail_character_encoding">E-mail character encoding</span></h4>
<p>When using Mutt there are two levels where the character sets that must be specified:
</p>
<ul>
<li>The text editor used to write the e-mail must save it in the desired encoding.</li>
<li>Mutt will then check the e-mail and determine which encoding is the more appropriate according to the priority you specified in the <code>send_charset</code> variable. Default: "us-ascii:iso-8859-1:utf-8".</li>
</ul>
<p>So if you write an e-mail with characters allowed in ISO-8859-1 (like 'résumé'), but without characters specific to Unicode, then Mutt will set the encoding to ISO-8859-1.
</p>
<p>To avoid this behaviour, set the variable in your <code>muttrc</code>:
</p>
<pre>set send_charset="us-ascii:utf-8"
</pre>
<p>or even
</p>
<pre>set send_charset="utf-8"
</pre>
<p>The first compatible charset starting from the left will be used. Since UTF-8 is a superset of US-ASCII it does not harm to leave it in front of UTF-8, it may ensure old MUA will not get confused when seeing the charset in the e-mail header.
</p>
<h4><span class="mw-headline" id="Custom_mail_headers">Custom mail headers</span></h4>
<p>One of the greatest thing in Mutt is that you can have full control over your mail header.
</p>
<p>First, make your headers editable when you write e-mails:
</p>
<pre>set edit_headers=yes
</pre>
<p>Mutt also features a special function <code>my_hdr</code> for customizing your header. Yes, it is named just like a variable, but in fact it is a function.
</p>
<p>You can clear it completely, which you <i>should</i> do when switching accounts with different headers, otherwise they will overlap:
</p>
<pre>unmy_hdr *
</pre>
<p>Other variables have also an impact on the headers, so it is wise to clear them before using <code>my_hdr</code>:
</p>
<pre>unset use_from
unset use_domain
unset user_agent
</pre>
<p>Now, you can add any field you want -- even non-standard one -- to your header using the following syntax:
</p>
<pre>my_hdr &lt;FIELD&gt;: &lt;VALUE&gt;
</pre>
<p>Note that &lt;VALUE&gt; can be the result of a command.
</p>
<p>Example:
</p>
<pre>## Extra info.
my_hdr X-Info: Keep It Simple, Stupid.

## OS Info.
my_hdr X-Operating-System: `uname -s`, kernel `uname -r`

## This header only appears to MS Outlook users
my_hdr X-Message-Flag: WARNING!! Outlook sucks

## Custom Mail-User-Agent ID.
my_hdr User-Agent: Every email client sucks, this one just sucks less.

## Receive copy of sent mail in your inbox
my_hdr Cc: $imap_user
</pre>
<h4><span class="mw-headline" id="Signature_block">Signature block</span></h4>
<p>Create a .signature in your home directory.  Your signature will be appended at the end of your email. Alternatively you can specify a file in your Mutt configuration:
</p>
<pre>set signature="path/to/sig/file"
</pre>
<h5><span class="mw-headline" id="Random_signature">Random signature</span></h5>
<p>You can use <i>fortune</i> (package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fortune-mod">fortune-mod</a></span>) to add a random signature to Mutt.
</p>
<p>Create a fortune file and then add the following line to your .muttrc:
</p>
<pre>set signature="fortune pathtofortunefile|"</pre>
<p>Note the pipe at the end. It tells Mutt that the specified string is not a file, but a command.
</p>
<h4><span class="mw-headline" id="Compose_and_send_from_command_line">Compose and send from command line</span></h4>
<p>Man pages will show all available commands and how to use them, but here are a couple of examples. You could use Mutt to send alerts, logs or some other system information, triggered by login through <code>.bash_profile</code>, or as a regular <a href="../en/Cron.html" title="Cron">cron</a> job.
</p>
<p>Send a message:
</p>
<pre>mutt -s "Subject" somejoeorjane@someserver.com &lt; /var/log/somelog
</pre>
<p>Send a message with attachment:
</p>
<pre>mutt -s "Subject" somejoeorjane@someserver.com -a somefile &lt; /tmp/sometext.txt
</pre>
<h4><span class="mw-headline" id="Compose_HTML_e-mails">Compose HTML e-mails</span></h4>
<p>Since Mutt has nothing of a WYSIWIG client, HTML is quite straightforward, and you can do much more than with all WYSIWIG mail clients around since you edit the source code directly.
Simply write your mail using HTML syntax. For example:
</p>
<pre>This is normal text&lt;br&gt;
&lt;b&gt;This is bold text&lt;/b&gt;
</pre>
<p>Now before sending the mail, use the <code>edit-type</code> command (default shortcut <code>Ctrl+t</code>), and replace <code>text/plain</code> by <code>text/html</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> HTML e-mails are regarded by many people as useless, cumbersome,  and subject to reading issues. Mutt can read HTML mails with a text browser like w3m or lynx, but it has clearly no advantage over a plain-text e-mail. You should avoid writing HTML e-mails when possible.</div>
<h4><span class="mw-headline" id="Display_another_email_while_composing">Display another email while composing</span></h4>
<p>A common complaint with Mutt is that when composing a new mail (or reply), you cannot open another mail (i.e. for checking with another correspondent) without closing the current mail (postponing). The following describes a solution:
</p>
<p>First, fire up Mutt as usual. Then, launch another terminal window. Now start a new Mutt with
</p>
<pre>mutt -R
</pre>
<p>This starts Mutt in read-only mode, and you can browse other emails at your convenience. It is strongly recommended to always launch a second Mutt in read-only mode, as conflicts will easily arise otherwise.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> When changing folders (with <code>c</code> or <code>y</code>) the read-only mode is not preserved.  Instead <code>Esc c</code> has to be used.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> This solution calls for a bit of typing, so it is suitable to bind the following command to a <a href="../en/Keyboard_shortcuts.html" class="mw-redirect" title="Keyboard shortcut">keyboard shortcut</a>:
<pre>$TERMINAL -e mutt -R
</pre>
where <code>$TERMINAL</code> is your terminal.</div>
<h3><span class="mw-headline" id="Printing">Printing</span></h3>
<p>You can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/muttprint/">muttprint</a></span><sup><small>AUR</small></sup> for fancier printing quality. In your muttrc file, insert:
</p>
<pre>set print_command="/usr/bin/muttprint %s -p {PrinterName}"
</pre>
<h3><span class="mw-headline" id="Viewing_content">Viewing content</span></h3>
<h4><span class="mw-headline" id="Viewing_URLs_in_a_web_browser">Viewing URLs in a web browser</span></h4>
<p>This can be done using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=urlscan">urlscan</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/urlview/">urlview</a></span><sup><small>AUR</small></sup> or  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/extract_url/">extract_url</a></span><sup><small>AUR</small></sup>. To use urlscan, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=urlscan">urlscan</a></span> and insert below in the mutt config file.
</p>
<pre> macro index,pager \cb "&lt;pipe-message&gt; urlscan&lt;Enter&gt;" "call urlscan to extract URLs out of a message"
 macro attach,compose \cb "&lt;pipe-entry&gt; urlscan&lt;Enter&gt;" "call urlscan to extract URLs out of a message"
</pre>
<p>Hitting ctrl+b will list all the urls from the email. The BROWSER environment variable can be used to select default web browser.
</p>
<p>Default keybindings can be listed with F1 key. There is no need to create config file for urlscan unless additional keybindings or color-schemes are required. If desired default config file at <code>˜/.config/urlscan/config.json</code> can be created using below command.
</p>
<pre> urlscan -g
</pre>
<p>To use urlview inplace of urlscan, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/urlview/">urlview</a></span><sup><small>AUR</small></sup> package and add the following lines in mutt config file.
</p>
<pre> macro index,pager \cb "&lt;pipe-message&gt; urlview&lt;Enter&gt;" "call urlview to extract URLs out of a message"
 macro attach,compose \cb "&lt;pipe-entry&gt; urlview&lt;Enter&gt;" "call urlview to extract URLs out of a message"
</pre>
<p>Create a .urlview in $HOME and insert the following:
</p>
<pre>REGEXP (((http|https|ftp|gopher)|mailto)[.:][^ &gt;"\t]*|www\.[-a-z0-9.]+)[^ .,;\t&gt;"&gt;\):]
COMMAND &lt;your-browser&gt; %s
</pre>
<p>Hitting ctrl+b while using mutt will list all the urls from the email. Navigate up or down with arrow keys and hit enter on the desired url. Your browser will start and go to the selected site.
</p>
<p>Some browser will require additional arguments to work properly. For example, <a href="../en/Luakit.html" title="Luakit">Luakit</a> will close on Mutt exit. You need to fork it to background, using the <code>-n</code> parameter:
</p>
<pre>COMMAND luakit -n %s 2&gt;/dev/null
</pre>
<p>The <code>2&gt;/dev/null</code> is to make it quiet, i.e. to prevent useless message printing where you do not want them to.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> urlview has a few deficiencies (e.g. the inability to handle certain email encodings) and is fairly feature-bare (e.g. it does not provide context for links it finds). <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/extract_url/">extract_url</a></span><sup><small>AUR</small></sup> can handle all email encodings and provides link context. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=urlscan">urlscan</a></span> can provide link context but cannot handle all email encodings. Both are drop-in replacements for urlview, though extract_url has features which benefit from additional configuration changes.</div>
<h4><span class="mw-headline" id="Viewing_HTML">Viewing HTML</span></h4>
<p>It is possible to pass the HTML body to an external HTML program and then dump it, keeping email viewing uniform and unobtrusive. Three programs are described here: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lynx">lynx</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=w3m">w3m</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=elinks">elinks</a></span> (make sure the selected package is <a href="../en/Pacman.html" title="Pacman">installed</a>).
</p>
<p>If <code>~/.mutt/mailcap</code> does not exist you will need to create it and save the following to it.
</p>
<pre>text/html; lynx -assume_charset=%{charset} -display_charset=utf-8 -collapse_br_tags -dump %s; nametemplate=%s.html; copiousoutput
</pre>
<p>or, in case of w3m,
</p>
<pre>text/html; w3m -I %{charset} -T text/html; copiousoutput;
</pre>
<p>or, in case of elinks,
</p>
<pre>text/html; elinks -dump; copiousoutput;
</pre>
<p>or, in case of elinks (with color support),
</p>
<pre>text/html; elinks -dump -dump-color-mode 1; copiousoutput;
</pre>
<p>Edit <code>~/.muttrc</code> and add the following,
</p>
<pre>set mailcap_path   = ~/.mutt/mailcap
</pre>
<p>To automatically open HTML messages in lynx, w3m or elinks add this additional line to the muttrc:
</p>
<pre>auto_view text/html
</pre>
<p>The beauty of this is, instead of seeing an HTML body as source or being opened by a separate program, in this case lynx, you see the formatted content directly, and any URL links within the email can be displayed with <code>Ctrl+b</code>, assuming you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=urlscan">urlscan</a></span> installed and configured as above.
</p>
<p>If you receive many emails with multiple or alternate encodings, Mutt may default to treating every email as HTML. To avoid this, add the following variable to your ~/.muttrc to have Mutt default to text when available and use w3m/lynx only when no text version is available in the email:
</p>
<pre>alternative_order text/plain text/html
</pre>
<p>Some HTML mails may not display correctly in a text-based web browser. As a fallback solution, you can bind a key to open a graphical browser in such cases.
The following macro will open the HTML mail selected from the attachment view in the web browser defined in the environment. (Feel free to adapt the <code>~/.cache/mutt/</code> folder).
</p>
<pre>macro attach 'V' "&lt;pipe-entry&gt;iconv -c --to-code=UTF8 &gt; ~/.cache/mutt/mail.html&lt;enter&gt;&lt;shell-escape&gt;$BROWSER ~/.cache/mutt/mail.html&lt;enter&gt;"
</pre>
<p>If <code>$BROWSER</code> is <code>firefox</code>, then set <code>intl.charset.fallback.utf8_for_file</code> to <code>true</code> in <code>about:config</code> as described in <a rel="nofollow" class="external autonumber" href="https://superuser.com/questions/1215064/change-firefox-default-encoding-for-text-files/1319905#1319905">[2]</a> to ensure non-ASCII characters in the HTML page are displayed correctly.
</p>
<p>To convert HTML emails to sanitised markdown and view the resulting output using mutt's internal pager, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-html2text">python-html2text</a></span> and use the following mailcap entry:
</p>
<pre>text/html; html2text --images-to-alt --ignore-tables --decode-errors=ignore %s; copiousoutput
</pre>
<h4><span class="mw-headline" id="Viewing_pdf_files">Viewing pdf files</span></h4>
<p>You also can view attached pdf files with similar configuration to the mailcap HTML view.
</p>
<p>For example, to open with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zathura">zathura</a></span>, add the following line to the mailcap file:
</p>
<pre>application/pdf; zathura %s;
</pre>
<p>Then in the attachment section type <code>ENTER</code> on the pdf file and a instance of zathura will open the file.
</p>
<p>This could be done with other pdf viewers.
</p>
<h4><span class="mw-headline" id="Filtering_the_message_view">Filtering the message view</span></h4>
<p>You can restrict the view to e-mails matching a pattern and specific properties with the <code>limit</code> command (default shortcut: <code>l</code>).
</p>
<p>To view all e-mails containing "foo" in the header, simply write "foo" and you are done. To remove the filter, use the "all" keyword.
</p>
<p>To view all flagged messages, use
</p>
<pre>~F
</pre>
<p>To view all unread messages that are either of size ≥1MB or from johndoe, use
</p>
<pre>~U (~z 1M- | ~f johndoe)
</pre>
<p>All possible patterns are listed in the <a rel="nofollow" class="external text" href="http://www.mutt.org/doc/manual/#patterns">official manual</a>.
</p>
<h4><span class="mw-headline" id="Conversation_grouping">Conversation grouping</span></h4>
<p>The default sort order is by date. Use the <code>sort-mailbox</code> command (default key: <code>o</code>) to change the sorting option. You can group e-mails by conversation/thread, in which case you can define how to sort threads and how to sort within a thread.
</p>
<p>In the following example, threads are sorted according to the date of their last e-mail.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set sort=threads
set sort_aux=last-date-received
</pre>
<h3><span class="mw-headline" id="Configuring_editors_to_work_with_mutt">Configuring editors to work with mutt</span></h3>
<h4><span class="mw-headline" id="vim">vim</span></h4>
<ul><li>To limit the width of text to 72 characters, edit your .<a href="../en/Vim.html" title="Vim">vimrc</a> file and add:</li></ul>
<pre>au BufRead /tmp/mutt-* set tw=72
</pre>
<ul><li>Another choice is to use Vim's mail filetype plugin to enable other mail-centric options besides 72 character width. Edit <code>~/.vim/filetype.vim</code>, creating it if unpresent, and add:</li></ul>
<pre>augroup filetypedetect
  " Mail
  autocmd BufRead,BufNewFile *mutt-*              setfiletype mail
augroup END
</pre>
<ul><li>To set a different tmp directory, e.g. ~/.tmp, add a line to your muttrc as follows:</li></ul>
<pre>set tmpdir="~/.tmp"
</pre>
<ul><li>To reformat a modified text see the Vim context help</li></ul>
<pre>:h 10.7
</pre>
<h4><span class="mw-headline" id="GNU_nano">GNU nano</span></h4>
<p><a href="../en/Nano.html" title="Nano">nano</a> is another nice console editor to use with Mutt.
</p>
<p>To limit the width of text to 72 characters, edit your .nanorc file and add:
</p>
<pre> set fill 72
 set breaklonglines
</pre>
<p>If you do not want to limit the width of text globally, you can pass the column number as an argument to the hard-wrap option in your muttrc file, e.g.:
</p>
<pre> set editor="nano -r 72 -b"
</pre>
<p>Also, in muttrc file, you can specify the line to start editing so that you will skip the mail header:
</p>
<pre> set editor="nano +7"
</pre>
<h4><span class="mw-headline" id="Emacs">Emacs</span></h4>
<p>Emacs has a <i>mail</i> and a <i>message</i> major mode. To switch to mail-mode automatically when Emacs is called from Mutt, you can add the following to your <code>.emacs</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">;; Mutt support.
(add-to-list 'auto-mode-alist '("/tmp/mutt.*" . mail-mode))
;; Neomutt support.
(add-to-list 'auto-mode-alist '("/tmp/neomutt-" . mail-mode))
</pre>
<p>If you usually run Emacs daemon, you may want Mutt to connect to it. Add this to your <code>.muttrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set editor="emacsclient -a \"\" -t"
</pre>
<h3><span class="mw-headline" id="Display_settings">Display settings</span></h3>
<h4><span class="mw-headline" id="Colors">Colors</span></h4>
<p><a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">Append</a> the contents of <code>/usr/share/doc/mutt/samples/colors.linux</code> to your .muttrc file, or copy and source it. Then adjust to your liking.
</p>
<p>The actual color each of these settings will produce depends on the colors set in your <a href="../en/X_resources.html" class="mw-redirect" title="Xresources">~/.Xresources</a> file.
</p>
<p>Alternatively, you can source any file you want containing colors (and thus act as a theme file). See <a rel="nofollow" class="external autonumber" href="https://nongeekshandbook.blogspot.be/2009/03/mutt-color-configuration.html">[3]</a> for a theme example.
</p>
<h4><span class="mw-headline" id="Index_Format">Index Format</span></h4>
<p>Here follows a quick example to put in your <code>.muttrc</code> to customize the Index Format, i.e. the columns displayed in the folder view.
</p>
<pre>set date_format="%y-%m-%d %T"
set index_format="%2C | %Z [%d] %-30.30F (%-4.4c) %s"
</pre>
<p>See the <a rel="nofollow" class="external text" href="http://www.mutt.org/doc/manual/#index-format">Mutt Reference</a>, <span class="plainlinks archwiki-template-man" title="$ man 3 strftime"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/strftime.3">strftime(3)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 3 printf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/printf.3">printf(3)</a></span> for more details.
</p>
<h4>
<span id="Display_recipient_instead_of_sender_in_.22Sent.22_folder_view"></span><span class="mw-headline" id='Display_recipient_instead_of_sender_in_"Sent"_folder_view'>Display recipient instead of sender in "Sent" folder view</span>
</h4>
<p>By default Mutt uses the <code>%L</code> format string in the <code>index_format</code> variable, which will display:
</p>
<ul>
<li>"To &lt;list-name&gt;", if an address in the "To:" or "Cc:" header field matches an address defined by the user's <code>subscribe</code> command.</li>
<li>Otherwise it displays the author name, or recipient name if the message is from you.</li>
</ul>
<p>If you use multiple email addresses in the same mailbox, make sure to configure the <a rel="nofollow" class="external text" href="https://gitlab.com/muttmua/mutt/wikis/UseCases/MultiAccounts#setting-up-the-addresses-alternates:alternates">alternates variable</a>, so that Mutt knows which messages were from you.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">alternates    ^me@example.COM$ ^me@example.NET$ ^example@archlinux.ORG$
</pre>
<h4><span class="mw-headline" id="Variable_column_width">Variable column width</span></h4>
<p>If you resize the window, the subject might get truncated while there is still unused space left for some fields, like for the sender.
You can get the maximum number of columns supported by your terminal (i.e. the width) using a shell call to <code>tput cols</code>. With this value, you can set a percentage of the width to fields like Sender and Subject.
</p>
<p>Example using the above folder-hook and a sidebar width of 24:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## From field gets 30% of remaining space, Subject gets 70%.
## Remaining space is the total width minus the other fields (35), minus the sidebar (24)
set my_index_format_pre='set my_col_from = `echo $((30 * ($(tput cols)-35-24) / 100))`; set my_col_subject = `echo $((70 * ($(tput cols)-35-24) / 100))`; set index_format="%2C | %Z [%d] %-$my_col_from.${my_col_from}'
set my_index_format_post=' (%-4.4c) %?M?&lt;%M&gt; ?%-$my_col_subject.${my_col_subject}s"'

folder-hook .*[sS]ent.* "$my_index_format_pre"t"$my_index_format_post"
folder-hook ! .*[sS]ent.* "$my_index_format_pre"F"$my_index_format_post"
</pre>
<p>We <i>must</i> set the variables <code>my_col_from</code> and <code>my_col_from</code> from within the hooks. Otherwise, the column values will not get re-computed.
</p>
<p>We can add a binding to force re-computing the index format without changing folder:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">macro index,pager \CL "&lt;enter-command&gt;$my_index_format_pre"F"$my_index_format_post&lt;enter&gt;&lt;redraw-screen&gt;"
</pre>
<h4><span class="mw-headline" id="Sidebar">Sidebar</span></h4>
<p>Example settings for a sidebar are in <code>/usr/share/doc/mutt/samples/sample.muttrc-sidebar</code>, including keybindings. Copy, edit, and source that file in your mutt configuration file. Be sure to change <code>set sidebar_visible = yes</code>.
</p>
<p><a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Append">Append</a> the following in order to toggle the sidebar visibility:
</p>
<pre>bind index,pager B sidebar-toggle-visible
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You <i>must</i> set the <code>mailboxes</code> variables or the <code>imap_check_subscribed</code> to tell the sidebar which folder should be displayed. See the <a href="#mailboxes">mailboxes</a> section.</div>
<p>Note that with the <code>mailboxes</code> option, folders appear in the order they were set to  <code>mailboxes</code> if you do not use the <code>sidebar_sort_method</code> option.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To add a separator between different mailboxes, add a fake folder to the list of folders For example add: <pre>mailboxes "+-- My mailbox -----------"</pre>
</div>
<h4><span class="mw-headline" id="Display_the_index_above_the_pager_view">Display the index above the pager view</span></h4>
<p>Set the following variable in your <code>muttrc</code>:
</p>
<pre>set pager_index_lines=10
</pre>
<h3><span class="mw-headline" id="Contact_management">Contact management</span></h3>
<h4><span class="mw-headline" id="Address_aliases">Address aliases</span></h4>
<p><i>Aliases</i> is the way Mutt manages contacts. An alias is <b>nickname [longname] &lt;address&gt;</b>.
</p>
<ul>
<li>The <b>nickname</b> is what you will type in Mutt to get your contact address. One word only, and should be easy to remember.</li>
<li>The <b>longname</b> is optional. It may be several words.</li>
<li>An <b>&lt;address&gt;</b> must be in a valid form (i.e. with an <code>@</code>).</li>
</ul>
<p>It is quite simple indeed. Add this to <code>.muttrc</code>:
</p>
<pre>set alias_file = "~/.mutt/aliases"
set sort_alias = alias
set reverse_alias = yes
source $alias_file</pre>
<p>Explanation:
</p>
<ul>
<li>
<code>alias_file</code> is the file where the information is getting stored when you add an alias from within Mutt.</li>
<li>
<code>sort_alias</code> specifies which field to use to sort the alias list when displayed in Mutt. Possible values: alias, address.</li>
<li>
<code>reverse_alias</code> if set to yes mutt will display the "personal" name from your aliases in the index menu if it finds an alias that matches the message's sender.</li>
<li>
<code>source $alias_file</code> tells Mutt to read aliases on startup. Needed for auto-completion.</li>
</ul>
<p>Now all you have to do when prompted <code>To:</code> is writing the alias instead of the full address. The beauty of it is that you can auto-complete the alias using <code>Tab</code>.
Autocompleting a wrong or an empty string will display the full list. You can select the alias as usual, or by typing its index number.
</p>
<p>There are two ways to create aliases:
</p>
<ul>
<li>From Mutt, press <code>a</code> when an e-mail of the targetted person if selected.</li>
<li>Edit the alias_file manually. The syntax is really simple:</li>
</ul>
<pre>alias nickname Long Name &lt;my-friend@domain.tld&gt;
</pre>
<h4><span class="mw-headline" id="Abook">Abook</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/abook/">abook</a></span><sup><small>AUR</small></sup> is a stand-alone program dedicated to contact management. It uses a very simple text-based interface and contacts are stored in a plain text, human-readable database. Besides the desired contact properties are extensible (birthday, address, fax, and so on).
</p>
<p>Abook is specifically designed to be interfaced with Mutt, so that it can serve as a full, more featured replacement of Mutt internal aliases. If you want to use Abook instead of aliases, remove the aliases configuration in <code>.muttrc</code> and add this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## Abook
set query_command= "abook --mutt-query '%s'"
macro index,pager  a "&lt;pipe-message&gt;abook --add-email-quiet&lt;return&gt;" "Add this sender to Abook"
bind editor        &lt;Tab&gt; complete-query</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 abook"><a rel="nofollow" class="external text" href="https://linux.die.net/man/1/abook">abook(1)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 abookrc"><a rel="nofollow" class="external text" href="https://linux.die.net/man/5/abookrc">abookrc(5)</a></span> for more details and a full configuration sample.
</p>
<h4><span class="mw-headline" id="Goobook">Goobook</span></h4>
<p>Goobook allows you to search your Google contacts from the command line or from within Mutt and can be installed with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/goobook/">goobook</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/goobook-git/">goobook-git</a></span><sup><small>AUR</small></sup> packages.
</p>
<p>Before using goobook you must configure <code>~/.goobookrc</code>.  To generate the default template:
</p>
<pre>$ goobook config-template &gt; ~/.goobookrc
</pre>
<p>See <code>~/.goobookrc</code> for configuration options. At a minimum, you will need to enter your <b>email</b> and <b>password</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you have two-step verification enabled with the Google account, you may need to generate an application password.
</div>
<p>In order to authenticate with Google, you must generate a <a rel="nofollow" class="external text" href="https://github.com/aristosv/google_auth/blob/master/README.md">Client ID and Client secret</a>. See <a rel="nofollow" class="external autonumber" href="https://gitlab.com/goobook/goobook/-/issues/83">[4]</a> for details.
</p>
<p>If you want to use Goobook instead of aliases, remove any alias configuration in <code>.muttrc</code> and add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## GooBook
set query_command="goobook query '%s'"
macro index,pager a "&lt;pipe-message&gt;goobook add&lt;return&gt;" "add sender to google contacts"
bind editor &lt;Tab&gt; complete-query
</pre>
<p>When composing an email message within mutt, <code>Tab</code> will now search your Google contacts.  While viewing messages <code>a</code> will add the sender to Google contacts.
</p>
<h4><span class="mw-headline" id="Khard">Khard</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=khard">khard</a></span> is a command-line addressbook that uses locally-stored carddav address book entries. You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vdirsyncer">vdirsyncer</a></span> to sync those with CardDAV servers.
</p>
<p>The integration in mutt is similar to abook, see <a rel="nofollow" class="external text" href="https://khard.readthedocs.io/en/latest/scripting.html#mutt">khard documentation</a>.
</p>
<h3><span class="mw-headline" id="Manage_multiple_sender_accounts">Manage multiple sender accounts</span></h3>
<p>If you use multiple sender accounts, you can automatically associate a specific sender account with a recipient. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mutt-vid/">mutt-vid</a></span><sup><small>AUR</small></sup> scans sent emails for the most recent "From" details associated with specific recipients, saving these in a file for mutt to source. The next time you email this recipient, mutt will automatically invoke a send-hook with the same email address and real name that you used previously. See mutt-vid's <a rel="nofollow" class="external text" href="https://gitlab.com/protist/mutt-vid">homepage</a> for more details.
</p>
<h3><span class="mw-headline" id="Request_IMAP_mail_retrieval_manually">Request IMAP mail retrieval manually</span></h3>
<p>If you do not want to wait for the next automatic IMAP fetching (or if you did not enable it), you might want to fetch mails manually. There is a mutt command <code>imap-fetch-mail</code> for that. Alternatively, you could bind it to a key:
</p>
<pre>bind index "^" imap-fetch-mail
</pre>
<h3>
<span id="Avoiding_slow_index_on_large_.28IMAP.29_folders_due_to_coloring"></span><span class="mw-headline" id="Avoiding_slow_index_on_large_(IMAP)_folders_due_to_coloring">Avoiding slow index on large (IMAP) folders due to coloring</span>
</h3>
<p>Index highlighting by regex is nice, but can lead to slow folder viewing if your regex checks the body of the message.
</p>
<p>Use folder-hook for only highlighting in, for example, the inbox (if you manage to empty your mailbox efficiently):
</p>
<pre>folder-hook . 'uncolor index "~b \"Hi Joe\" ~R !~T !~F !~p !~P"'
folder-hook ""!"" 'color index brightyellow black "~b \"Hi Joe\" ~N !~T !~F !~p !~P"'
</pre>
<h3><span class="mw-headline" id="Speed_up_folders_switch">Speed up folders switch</span></h3>
<p>Add this to your <code>.muttrc</code>:
</p>
<pre>set sleep_time = 0</pre>
<h3><span class="mw-headline" id="Archive_treated_e-mails">Archive treated e-mails</span></h3>
<p>When you read an e-mail, you have four choices: Answer it, Flag it, Archive it or Delete it. If you have this in mind, you can keep your inbox slim and fit with this macro (set up for Gmail):
</p>
<pre>macro index \' "&lt;tag-pattern&gt;~R !~D !~F&lt;enter&gt;\
&lt;tag-prefix&gt;&lt;save-message&gt;+[Gmail]/All &lt;enter&gt;" \
"Archive"
</pre>
<h3><span class="mw-headline" id="Migrating_mails_from_one_computer_to_another">Migrating mails from one computer to another</span></h3>
<p>In case you are transfering your mails to a new machine (copy&amp;paste), you probably need to delete the header cache (a file or folder like <code>~/.cache/mutt</code> if you followed the above configuration)  to make Mutt able to read your migrated E-Mails. Otherwise Mutt may freeze.
</p>
<p>Note that if you had a folder created for you header cache, all mailboxes will have their own cache file, so you can delete caches individually without having to remove everything.
</p>
<h3><span class="mw-headline" id="Default_folder_for_saving_attachments">Default folder for saving attachments</span></h3>
<p>By default Mutt will save attachments to the folder it was started from. If you want to always set the default destination to <code>~/attachments</code>, you can create the following alias, which launches Mutt in this folder:
</p>
<pre>alias mutt='cd ~/attachments &amp;&amp; mutt'
</pre>
<p>If you are using bash, you can use <code>pushd</code> and <code>popd</code> to restore the directory state after mutt exits.
</p>
<pre>alias mutt='pushd ~/attachments; mutt; popd'
</pre>
<h3><span class="mw-headline" id="Pager_behavior">Pager behavior</span></h3>
<p>Show context lines when going to next page:
</p>
<pre>set pager_context=3
</pre>
<p>Stop at the end instead of displaying next mail:
</p>
<pre>set pager_stop=yes
</pre>
<h3><span class="mw-headline" id="Fast_reply">Fast reply</span></h3>
<p>By default Mutt will ask to confirm the recipient and the subject when you reply to an e-mail. It will also ask if you want to include the original mail in your answer. If you assume you will always stick to the default values, you can set up Mutt to skip these questions:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set fast_reply=yes
set include=yes
</pre>
<p>You can still edit the recipient and the subject before sending.
</p>
<h3><span class="mw-headline" id="Ignore_own_e-mail_addresses_from_group-reply">Ignore own e-mail addresses from group-reply</span></h3>
<p>Mutt will include your e-mail address(es) in the recipient list when you group-reply to a mail you were CC'ed. You can ask Mutt to ignore some addresses with:
</p>
<pre>alternates mail1@server1|mail2@server2|...
</pre>
<h3><span class="mw-headline" id="IMAP_message_cache">IMAP message cache</span></h3>
<p>When using the built-in IMAP support, e-mails are fetched in memory by default. Retrieving a big e-mail several times will download it from your IMAP server that many times.
</p>
<p>Alternatively, you can ask Mutt to store all fetched messages on disk:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set message_cachedir=~/.cache/mutt/messages
</pre>
<p>(The folder must exist.) This will make any future retrieval instantaneous, even with big attachments.
</p>
<p>If you want to purge the cache from its oldest e-mails exceeding a limit of, say, 50MB, you can use a script like the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.mutt/purgecache.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

## In KB.
CACHE_LIMIT=51200

cd "$1" 2&gt;/dev/null
[ $? -ne 0 ] &amp;&amp; exit

[ $(du -s . | cut -f1 -d'	') -lt $CACHE_LIMIT ] &amp;&amp; exit
while IFS= read -r i; do
	rm "$i"
	[ $(du -s . | cut -f1 -d'	') -lt $CACHE_LIMIT ] &amp;&amp; exit
done &lt;&lt;EOF
$(find . -type f -exec ls -rt1 {} +)
EOF
</pre>
<p>and call it on startup:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">muttrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set message_cachedir=~/.cache/mutt/messages
source "~/.mutt/purgecache.sh '$message_cachedir'|"
</pre>
<h3><span class="mw-headline" id="Open_attachments_or_view_HTML_email_in_the_background">Open attachments or view HTML email in the background</span></h3>
<p>By default, opening the attachments in the mutt will block mutt. You can edit <code>~/.mutt/mailcap</code> to append an <code>&amp;</code> so mutt will launch one of the <a href="../en/Default_applications.html" title="Default applications">Default applications</a> in the backgroud. Take <a href="../en/Xdg-utils.html#xdg-open" class="mw-redirect" title="Xdg-open">xdg-open</a> as an example,
</p>
<pre>text/html; xdg-open %s &amp;&gt; /dev/null &amp;; nametemplate=%s.html
application/*; xdg-open %s &amp;&gt; /dev/null &amp;; 
image/*; xdg-open %s &amp;&gt; /dev/null &amp;;
</pre>
<p><code>&amp;&gt; /dev/null</code> is used to prevent any error or message from cluttering the mutt terminal window. And <code>nametemplate=%s.html</code> is used because chromium refuse to render local files without .html extension as HTML.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Backspace_does_not_work_in_Mutt">Backspace does not work in Mutt</span></h3>
<p>This is a common problem with some xterm-like terminals. Two solutions:
</p>
<ul><li>Either rebind the key in <code>.muttrc</code>
</li></ul>
<pre>bind index,pager ^? previous-line
</pre>
<p>Note that <code>^?</code> is one single character representing backspace in <a href="https://en.wikipedia.org/wiki/Caret_notation" class="extiw" title="wikipedia:Caret notation">caret notation</a>. To type in Emacs, use <code>Ctrl+q Backspace</code>, in Vim <code>Ctrl+v Backspace</code>.
</p>
<ul><li>Or fix your terminal:</li></ul>
<pre>$ infocmp &gt; termbs.src
</pre>
<p>Edit <code>termbs.src</code> and change <code>kbs=^H</code> to <code>kbs=\177</code>, then:
</p>
<pre>$ tic -x termbs.src
</pre>
<h3><span class="mw-headline" id="The_change-folder_function_always_prompt_for_the_same_mailbox">The <i>change-folder</i> function always prompt for the same mailbox</span></h3>
<p>This is not a bug, this is actually an intended behaviour. See the <a href="#Multiple_accounts">multiple accounts section</a> for a workaround.
</p>
<h3>
<span id="I_cannot_change_folder_when_using_Mutt_read-only_.28Mutt_-R.29"></span><span class="mw-headline" id="I_cannot_change_folder_when_using_Mutt_read-only_(Mutt_-R)">I cannot change folder when using Mutt read-only (Mutt -R)</span>
</h3>
<p>This is certainly because you are using macros like this one:
</p>
<pre>macro index,pager &lt;f2&gt; '&lt;sync-mailbox&gt;&lt;enter-command&gt;source ~/.mutt/personal&lt;enter&gt;&lt;change-folder&gt;!&lt;enter&gt;'
</pre>
<p>This macro tells Mutt to sync (which is a write operation) before switching.
</p>
<p>Either use the <a href="#Sidebar">sidebar</a> or set another macro:
</p>
<pre>macro index,pager &lt;f3&gt; '&lt;enter-command&gt;source ~/.mutt/personal&lt;enter&gt;&lt;change-folder&gt;!&lt;enter&gt;'
</pre>
<h3>
<span id="Error_sending_message.2C_child_exited_127_.28Exec_error..29."></span><span class="mw-headline" id="Error_sending_message,_child_exited_127_(Exec_error.).">Error sending message, child exited 127 (Exec error.).</span>
</h3>
<p>This is an SMTP error. It means that mutt does not know how to send the message. You can either try installing sendmail and see if that solves your issue, or you can set the  smtp_url variable. If you use gmail, you can add the following to your muttrc to tell mutt to use gmails smtp server.
</p>
<pre>set smtp_url=smtps://$imap_user:$imap_pass@smtp.gmail.com
</pre>
<p>Take note of the smtps protocol, it is important. This should solve the problem.
</p>
<h3><span class="mw-headline" id="Character_encoding_problems">Character encoding problems</span></h3>
<p>If you are having problems with character encoding, first read <a rel="nofollow" class="external text" href="https://web.archive.org/web/20160117025625/http://dev.mutt.org/trac/wiki/MuttFaq/Charset">this section</a> in the Mutt wiki.
</p>
<p>If Chinese text is still garbled, it may help to decode with GBK even when GB2312 is specified in the header. You can do this with <code>iconv</code> by adding the following to your <code>mailcap</code> file:
</p>
<pre>text/plain; iconv -f gbk -t utf-8 %s; test=echo "%{charset}" | grep -ic "gb2312"; copiousoutput;
</pre>
<p>and enabling it by adding a line to your <code>.muttrc</code>:
</p>
<pre>auto_view text/plain
</pre>
<p>For HTML emails, you can edit the relevant line of your mailcap by replacing <code>%{charset}</code> with <code>$(echo %{charset} | sed s/gb2312/gbk/I)</code>, for example:
</p>
<pre>text/html; w3m -dump -I $(echo %{charset} | sed s/gb2312/gbk/I) %s; nametemplate=%s.html; copiousoutput
</pre>
<h3><span class="mw-headline" id="Unable_to_login_with_GMail">Unable to login with GMail</span></h3>
<p>Gmail disables access from applications it considers less secure, including <code>mutt</code>. You can enable access by following the instructions <a rel="nofollow" class="external text" href="https://support.google.com/accounts/answer/6010255">here</a>
</p>
<h3><span class="mw-headline" id="Not_possible_to_open_too_long_URLs_with_urlview">Not possible to open too long URLs with urlview</span></h3>
<p>Too long URLs are not parsed correctly, because urlview does not decode text (see <a rel="nofollow" class="external autonumber" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=127090">[5]</a>). You can let mutt decode the e-mails instead. Replace the line for opening urlview with the following code:
</p>
<pre>macro index \cb "\
:set my_tmp_pipe_decode=\$pipe_decode\n\
:set pipe_decode\n\
|urlview\n\
:set pipe_decode=\$my_tmp_pipe_decode\n\
:unset my_tmp_pipe_decode\n" \
'call urlview to extract URLs out of a message'
</pre>
<p>Another option is to use <a rel="nofollow" class="external text" href="https://github.com/firecat53/urlscan">urlscan</a> instead, which gives a text user interface to select the URL and can deal with much stranger text formats.
</p>
<h2><span class="mw-headline" id="Documentation">Documentation</span></h2>
<p>Newcomers may find it quite hard to find help for Mutt. Actually most of the topics are covered in the official documentation. We urge you to read it.
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.mutt.org/doc/manual/">The official manual</a>. The stock <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> package for Arch Linux also installs the HTML and plain text manual at <code>/usr/share/doc/mutt/</code>.</li>
<li>The <code>mutt</code> and <code>muttrc</code> man pages.</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.mutt.org/">The official Mutt website</a></li>
<li><a rel="nofollow" class="external text" href="http://www.mutt.org/doc/manual/">Official Manual</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/muttmua/mutt/wikis/home/">The Mutt wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://pbrisbin.com/posts/two_accounts_in_mutt/">Brisbin's great guide on how to setup different IMAP accounts with Mutt, offlineimap, msmtp</a></li>
<li><a rel="nofollow" class="external text" href="https://srobb.net/mutt.html">A Quick Guide to Mutt</a></li>
<li><a rel="nofollow" class="external text" href="https://stevelosh.com/blog/2012/10/the-homely-mutt/">Steve Losh on Mutt, offlineimap, msmtp, notmuch (focused on Gmail)</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Email_clients.html" title="Category:Email clients">Email clients</a></li>
<li><a href="../en/Category:Console_applications.html" title="Category:Console applications">Console applications</a></li>
<li><a href="../en/Category:OpenPGP.html" title="Category:OpenPGP">OpenPGP</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mutt&amp;oldid=808511">https://wiki.archlinux.org/index.php?title=Mutt&amp;oldid=808511</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 17 May 2024, at 09:54.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
