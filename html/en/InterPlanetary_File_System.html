<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>InterPlanetary File System - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-InterPlanetary_File_System rootpage-InterPlanetary_File_System skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Using_a_service_to_start_the_daemon" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Using_a_service_to_start_the_daemon">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Using a service to start the daemon</div>
		</a>
		
			<button aria-controls="toc-Using_a_service_to_start_the_daemon-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Using a service to start the daemon subsection</span>
			</button>
		
		<ul id="toc-Using_a_service_to_start_the_daemon-sublist" class="vector-toc-list">
			<li id="toc-Starting_the_service_with_a_different_command_line" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Starting_the_service_with_a_different_command_line">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Starting the service with a different command line</div>
			</a>
			
			<ul id="toc-Starting_the_service_with_a_different_command_line-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Firewall" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Firewall">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Firewall</div>
		</a>
		
		<ul id="toc-Firewall-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-File_sharing" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#File_sharing">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>File sharing</div>
		</a>
		
		<ul id="toc-File_sharing-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Simple_hosting_with_name_resolution" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Simple_hosting_with_name_resolution">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Simple hosting with name resolution</div>
		</a>
		
		<ul id="toc-Simple_hosting_with_name_resolution-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage_as_makepkg_DLAGENT" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage_as_makepkg_DLAGENT">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Usage as makepkg DLAGENT</div>
		</a>
		
		<ul id="toc-Usage_as_makepkg_DLAGENT-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">InterPlanetary File System</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/IPFS" title="IPFS – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>The <a href="https://en.wikipedia.org/wiki/IPFS" class="extiw" title="wikipedia:IPFS">InterPlanetary File System</a> (IPFS) is a distributed hypermedia protocol, addressed by content and identities. IPFS enables the creation of completely distributed applications, datastores as well as websites and aims to make the web faster, safer, and more open.
</p>
<p>It seeks to connect all computers which do peer-to-peer exchanges of the requested file transfers. In some ways this is similar to the original goals of the Web, but instead of using a client and server role model and location-based addressing, all computers in the network share the information about where which files are stored in a distributed fashion. This way a user does not need to know which server contains which files, but instead only needs to know which id the content has to receive it. The network locates the corresponding nodes and requests the data in a tamper-proof way. Files are stored in objects similar to the way git works, and the metadata storage and the file transfers have similarities to BitTorrent.
</p>
<p>Files added to an IPFS node get chunked and hashed. The individual chunks are added to a <a rel="nofollow" class="external text" href="https://docs.ipfs.io/concepts/merkle-dag/">MerkleDAG</a> - a tree object - which gets stored alongside the chunks. The hash of the tree object is the tamper-proof content-id (CID). The node then publishes all hashes in the distributed hash-table of the network with its node-id. This way the content can be located by the CID to specific nodes which can provide the data on requests.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kubo">kubo</a></span> or the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kubo-git/">kubo-git</a></span><sup><small>AUR</small></sup> package.
</p>
<p>To start using IPFS you must first issue
</p>
<pre>$ ipfs init
</pre>
<p>as a user. This creates a <code>~/.ipfs</code> directory with all the necessary files in it.
</p>
<p>Now you can start the IPFS daemon:
</p>
<pre>$ ipfs daemon
</pre>
<p>This starts your node, available via the <code>ipfs</code> cli, or the web interface on <a rel="nofollow" class="external text" href="http://localhost:5001/webui">localhost:5001/webui</a>. Additionally, a local gateway goes up on localhost:8080 (the default port can be changed in <code>~/.ipfs/config</code>).
</p>
<h2><span class="mw-headline" id="Using_a_service_to_start_the_daemon">Using a service to start the daemon</span></h2>
<p>For convenience, you can automate the startup of the IPFS daemon using the <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> service included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kubo">kubo</a></span>. This ensures that the daemon starts when you log in and that it is restarted if it crashes. 
</p>
<p>You can <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>ipfs.service</code> as a <a href="../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>. 
</p>
<p>If you want the service to always run regardless of the user session status, enable the system-wide service instead by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>ipfs@<i>username</i>.service</code>. 
</p>
<h3><span class="mw-headline" id="Starting_the_service_with_a_different_command_line">Starting the service with a different command line</span></h3>
<p>You may also want to limit the bandwidth IPFS uses by using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/trickle/">trickle</a></span><sup><small>AUR</small></sup> (c.f. <a rel="nofollow" class="external text" href="https://github.com/ipfs/go-ipfs/issues/3429">ipfs/go-ipfs#3429</a>). You can <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> this <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> service file to <code>$HOME/.config/systemd/user/go-ipfs.service</code>:
</p>
<pre>[Unit]
Description=InterPlanetary File System (IPFS) daemon (rate-limited via Trickle)
After=network-online.target
Wants=network-online.target

[Service]
ExecStart=/usr/bin/trickle -s -u 56 /usr/bin/ipfs daemon --routing=dhtclient
Restart=on-failure

[Install]
WantedBy=default.target
</pre>
<p>This will both start IPFS with trickle and pass the argument <code>--routing=dhtclient</code>. You may of course modify it as needed, or base your version on the package's <code>/usr/lib/systemd/user/ipfs.service</code>. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> <code>go-ipfs.service</code> as a <a href="../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>.
</p>
<h2><span class="mw-headline" id="Firewall">Firewall</span></h2>
<p>IPFS requires port 4001 TCP and UDP. It attempts to configure port forwarding on the router using UPnP/IGD. Routers without UPnP/IGD support will need to do a manual port forward.
</p>
<h2><span class="mw-headline" id="File_sharing">File sharing</span></h2>
<p>To share a file using IPFS you need the daemon to be running. 
</p>
<pre>$ ipfs add file
</pre>
<p>returns a hash. If someone shared this file via IPFS before, the hash would match that previous upload, making you the second source of the file.
</p>
<p>To retrieve a file via the IPFS hash, use <code>ipfs cat</code>:
</p>
<pre>$ ipfs cat /ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/readme
</pre>
<p>You can pipe this into any other application, for example, to watch a video with <a href="../en/Mpv.html" title="Mpv">mpv</a>:
</p>
<pre>$ ipfs cat QmWenbjgZnA6UguLtmUYayS6e7UQM7woB15zuEymSRRMoi | mpv -
</pre>
<p>Or you can download the file:
</p>
<pre>$ ipfs get QmWenbjgZnA6UguLtmUYayS6e7UQM7woB15zuEymSRRMoi
</pre>
<p>There is also an <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ipget/">ipget</a></span><sup><small>AUR</small></sup> utility, which acts like <a href="../en/Wget.html" title="Wget">wget</a> for IPFS. In addition, it includes a bootstrap node, so you will not have to have ipfs daemon running or installed to use it. To download a file: 
</p>
<pre>$ ipget QmWenbjgZnA6UguLtmUYayS6e7UQM7woB15zuEymSRRMoi
</pre>
<p>You can share both files and folders. Folders should be shared recursively:
</p>
<pre>$ ipfs add -r folder
</pre>
<p>To view all the files and caches in a folder (if the hash is a folder):
</p>
<pre>$ ipfs ls QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG
</pre>
<p>Every file shared with network is accessible via the IPFS gateway on <code>localhost:8080</code> like this:
</p>
<pre>http://localhost:8080/ipfs/QmWenbjgZnA6UguLtmUYayS6e7UQM7woB15zuEymSRRMoi
</pre>
<p>There are public gateways, allowing users with no IPFS node running to access files on the network. For example, the official <a rel="nofollow" class="external text" href="https://ipfs.io">website</a>:
</p>
<pre><a rel="nofollow" class="external free" href="https://ipfs.io/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG">https://ipfs.io/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG</a>
</pre>
<h2><span class="mw-headline" id="Simple_hosting_with_name_resolution">Simple hosting with name resolution</span></h2>
<p>In IPFS, files shared are never deleted, and with any change of a file its hash changes as well. This makes tasks such as website hosting difficult, as any changes to a webpage, for example to an <code>index.html</code>, would result in it having a different hash, and the old webpage would be still accessible from the old hash. It is one of a network's goals to store all the content persistently with full history. IPFS offers a name service you can use to generate persistent caches - IPNS. IPNS allows you to bind any hash to your node's unique ID, generated at initialization.
You can view your ID like this:
</p>
<pre>$ ipfs id
</pre>
<p>And to bind any hash to it:
</p>
<pre>$ ipfs name publish <i>HASH</i>
</pre>
<p>This assigns the new hash generated by <code>ipfs add</code> after the file change to your node ID and hence makes the updated version of a folder/file accessible at the same address. 
</p>
<p>Note that when using IPNS the address has an <code>ipns</code> prefix instead of <code>ipfs</code>:
</p>
<pre><a rel="nofollow" class="external free" href="http://localhost:8080/ipns/QmPtMQErTfQMbZTMMpQh65cpk5y7D94WdYJurCeRqvXKmD/">http://localhost:8080/ipns/QmPtMQErTfQMbZTMMpQh65cpk5y7D94WdYJurCeRqvXKmD/</a>
</pre>
<h2><span class="mw-headline" id="Usage_as_makepkg_DLAGENT">Usage as makepkg DLAGENT</span></h2>
<p><a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILDs</a> containing URIs pointing to IPFS resources need the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ipfs-dlagent/">ipfs-dlagent</a></span><sup><small>AUR</small></sup>
download agent installed and configured to be correctly built.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://ipfs.io">IPFS homepage</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/ipfs/website/tree/master/content/docs/examples">IPFS examples</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/ipfs/awesome-ipfs">Awesome IPFS</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/ipfs/notes/issues/84">IPFS and pacman</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/RubenKelevra/pacman.store">Arch Linux repository on IPFS</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Clustered_file_systems.html" title="Category:Clustered file systems">Clustered file systems</a></li>
<li><a href="../en/Category:Peer-to-peer.html" title="Category:Peer-to-peer">Peer-to-peer</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=InterPlanetary_File_System&amp;oldid=805372">https://wiki.archlinux.org/index.php?title=InterPlanetary_File_System&amp;oldid=805372</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 April 2024, at 20:05.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
