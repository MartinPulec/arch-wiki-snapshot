<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LPRng - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LPRng rootpage-LPRng skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Configuration</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Control_files" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Control_files">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Control files</span>
				</div>
			</a>
			
			<ul id="toc-Control_files-sublist" class="vector-toc-list">
				<li id="toc-Local_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Local_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Local configuration</span>
				</div>
			</a>
			
			<ul id="toc-Local_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Remote_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Remote_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Remote configuration</span>
				</div>
			</a>
			
			<ul id="toc-Remote_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Server_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Server_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.3</span>
					<span>Server configuration</span>
				</div>
			</a>
			
			<ul id="toc-Server_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Configure_printer_settings_(filters)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_printer_settings_(filters)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Configure printer settings (filters)</span>
				</div>
			</a>
			
			<ul id="toc-Configure_printer_settings_(filters)-sublist" class="vector-toc-list">
				<li id="toc-Postscript_printers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Postscript_printers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.1</span>
					<span>Postscript printers</span>
				</div>
			</a>
			
			<ul id="toc-Postscript_printers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Foomatic_system" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Foomatic_system">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.2</span>
					<span>Foomatic system</span>
				</div>
			</a>
			
			<ul id="toc-Foomatic_system-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ghostscript_drivers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ghostscript_drivers">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2.3</span>
					<span>Ghostscript drivers</span>
				</div>
			</a>
			
			<ul id="toc-Ghostscript_drivers-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Printcap_file" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Printcap_file">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Printcap file</span>
				</div>
			</a>
			
			<ul id="toc-Printcap_file-sublist" class="vector-toc-list">
				<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Examples">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.1</span>
					<span>Examples</span>
				</div>
			</a>
			
			<ul id="toc-Examples-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Network_printing_advice" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Network_printing_advice">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3.2</span>
					<span>Network printing advice</span>
				</div>
			</a>
			
			<ul id="toc-Network_printing_advice-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Start_the_lpd_daemon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Start_the_lpd_daemon">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.4</span>
					<span>Start the lpd daemon</span>
				</div>
			</a>
			
			<ul id="toc-Start_the_lpd_daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Usage</span>
			</div>
		</a>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-CUPS_and_LPRng" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#CUPS_and_LPRng">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>CUPS and LPRng</span>
			</div>
		</a>
		
		<ul id="toc-CUPS_and_LPRng-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Printer_specific_instrcutions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Printer_specific_instrcutions">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Printer specific instrcutions</span>
				</div>
			</a>
			
			<ul id="toc-Printer_specific_instrcutions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GTK2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GTK2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>GTK2</span>
				</div>
			</a>
			
			<ul id="toc-GTK2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LXDE" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#LXDE">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>LXDE</span>
				</div>
			</a>
			
			<ul id="toc-LXDE-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Postscript_printing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Postscript_printing">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Postscript printing</span>
				</div>
			</a>
			
			<ul id="toc-Postscript_printing-sublist" class="vector-toc-list">
				<li id="toc-Double-Sided_PS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Double-Sided_PS">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4.1</span>
					<span>Double-Sided PS</span>
				</div>
			</a>
			
			<ul id="toc-Double-Sided_PS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">LPRng</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>From <a rel="nofollow" class="external text" href="https://lprng.sourceforge.net/">upstream</a>: 
</p>
<dl><dd>The LPRng software is an enhanced, extended, and portable implementation of the Berkeley LPR print spooler functionality. While providing the same interface and meeting RFC1179 requirements, the implementation is completely new and provides support for the following features:
<ul>
<li>Complete (no databases needed) lpr, lpc, and lprm programs</li>
<li>Dynamic redirection of print queues; automatic job holding</li>
<li>Highly verbose diagnostics</li>
<li>Multiple printers serving a single queue</li>
<li>Client programs do not need to run SUID root</li>
<li>Greatly enhanced security checks</li>
<li>Greatly improved permission and authorization mechanism</li>
</ul>
</dd></dl>
<p>LPRng is mature and stable and incorporates a flexible print filtering mechanism.  It excels as a print server but can be used as a print client.  It can also print from <a href="../en/CUPS.html" title="CUPS">CUPS</a> clients installed on other machines with minor hand configuration on the CUPS side. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> A disadvantage of LPRng is that Gnome3/GTK3 (including chrome and chromium) and KDE do not support lpr printing from their GUI. However, printing to a file and then using lpr works, though it is inconvenient.</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lprng/">lprng</a></span><sup><small>AUR</small></sup> package.
</p>
<p>Install optional filter packages:
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=poppler">poppler</a></span></li>
<li>Any one out of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=a2ps">a2ps</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=enscript">enscript</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpage/">mpage</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ghostscript">ghostscript</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hplip">hplip</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/foomatic-filters-lprng/">foomatic-filters-lprng</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<div class="mw-heading mw-heading2"><h2 id="Configuration">Configuration</h2></div>
<p>Configuration consists of the following steps:
</p>
<ul>
<li>Set up control files</li>
<li>Configure filters</li>
<li>Create a printcap file and spool directories</li>
<li>Enable and start the lpd daemon</li>
</ul>
<div class="mw-heading mw-heading3"><h3 id="Control_files">Control files</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Local_configuration">Local configuration</h4></div>
<p>Two control files must be configured:
</p>
<ul>
<li><code>/etc/lprng/lpd/lpd.conf</code></li>
<li><code>/etc/lprng/lpd/lpd.perms</code></li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Remote_configuration">Remote configuration</h4></div>
<p>The default configurations in <code>/usr/share/doc/lprng</code> are adequate for a client computer printing to a remote printer.  Copy these to <code>/etc/lprng/lpd/</code>
</p>
<pre># cp /usr/share/doc/lprng /etc/lprng/lpd
</pre>
<p>and edit it.
</p>
<div class="mw-heading mw-heading4"><h4 id="Server_configuration">Server configuration</h4></div>
<p>For a server receiving requests across the Internet, uncomment the last line in <code>/etc/lprng/lpd/lpd.conf</code> and configure permissions as documented in the comments of <code>/etc/lprng/lpd/lpd.perms</code>. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> The files <code>lpd.conf.sample</code> and <code>lpd.perms.sample</code>, located in <code>/usr/share/doc/lprng</code>, document more complex situations.</div>
<div class="mw-heading mw-heading3"><h3 id="Configure_printer_settings_(filters)">
<span id="Configure_printer_settings_.28filters.29"></span>Configure printer settings (filters)</h3></div>
<p>It is fine if you just pick one of the following filter (settings)  instructions. Just decide which way you want to go.
</p>
<div class="mw-heading mw-heading4"><h4 id="Postscript_printers">Postscript printers</h4></div>
<p>If you have a network Postscript printer you are in luck.  The sample postscript filter <code>/usr/share/doc/lprng/psfilter</code> converts PDF and text files to Postscript.  Other file types are rejected. 
</p>
<p>Copy this file to <code>/usr/lib/lprng/lpd</code> and rename it as desired.  Then edit it to set your paper type and your choice of single-sided/double-sided printing.  
</p>
<p>If you wish to have separate single-sided and double-sided print queues, make two copies with different names and edit appropriately.
</p>
<div class="mw-heading mw-heading4"><h4 id="Foomatic_system">Foomatic system</h4></div>
<p>Another mechanism for print filtering is via the Foomatic system. This system used by <a href="../en/CUPS.html" title="CUPS">CUPS</a>. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/foomatic-filters-lprng/">foomatic-filters-lprng</a></span><sup><small>AUR</small></sup> as the <code>foomatic-rip</code> program in the CUPS installation has been modified to remove LPRng support).  
</p>
<p>Use <code>foofilter</code> as described above, editing for your desired <code>.ppd file</code>.  Install the <code>.ppd</code> file in conformance with the path specified in <code>foofilter</code>. (<code>/etc/lprng/lpd</code> is a good location.)
</p>
<p>To use Hewlett Packard printers, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hplip">hplip</a></span> from the main distribution.  This package has <code>.ppd</code> files for virtually all Hewlett Packard printers.
</p>
<div class="mw-heading mw-heading4"><h4 id="Ghostscript_drivers">Ghostscript drivers</h4></div>
<p>If you have a printer that has a Ghostscript driver, copy and edit <code>gsfilter</code> as above to set the appropriate driver and the paper type.  You can discover the drivers available in your version of Ghostscript by typing the command
</p>
<pre>$ gs -h</pre>
<p>Note that support for various printer features is typically limited and out of date with this option.
</p>
<div class="mw-heading mw-heading3"><h3 id="Printcap_file">Printcap file</h3></div>
<p>The <code>/etc/lprng/printcap</code> file tells LPRng about the printers you have and the print filters that need to be used.
</p>
<div class="mw-heading mw-heading4"><h4 id="Examples">Examples</h4></div>
<p>The <code>printcap.sample</code> file (in <code>/usr/share/doc/lprng</code>) provides a short tutorial as to how to set up a printcap file. The printcap fragments <code>printcap_server</code> and <code>printcap_client</code> in this directory provide additional information.
</p>
<p>An example file may look like this for two local printers:
</p>
<pre>DCPJ4120DW:\
     :mx=0:\
     :sd=/var/spool/lpd/DCPJ4120DW:\
     :sh:\
     :lp=/dev/usb/lp1:\
     :if=/opt/brother/Printers/dcpj4120dw/lpd/filterdcpj4120dw:
HL2035:\
     :mx=0:\
     :sd=/var/spool/lpd/HL2035:\
     :sh:\
     :lp=/dev/usb/lp0:\
     :if=/opt/brother/Printers/brhl2035/lpd/filterHL2030:
</pre>
<div class="mw-heading mw-heading4"><h4 id="Network_printing_advice">Network printing advice</h4></div>
<p>Generally, one computer should be designated as the server for one or more printers.  Other client computers should send their print jobs to the server rather than the printer directly.  
</p>
<p>The rather non-obvious server setup in <code>printcap_server</code> is needed to make print filtering work on network printers, as opposed to printers attached directly to the server computer via, say, a USB port.  (See the <a rel="nofollow" class="external text" href="https://lprng.sourceforge.net/LPRng-Reference/LPRng-Reference.html">reference manual</a>.)
</p>
<p>After creating the printcap file, run the command as root
</p>
<pre>$ /usr/bin/checkpc -f</pre>
<p>This will check your configuration and create spool directories in <code>/var/spool/lpd</code>.  If <code>checkpc</code> complains about something, address the issue and rerun.
</p>
<div class="mw-heading mw-heading3"><h3 id="Start_the_lpd_daemon">Start the lpd daemon</h3></div>
<p>LPRng runs a daemon in background called <code>lpd</code> to manage print requests. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> <code>lpd.service</code>. 
</p>
<p>If any configuration files are changed, one must <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>lpd</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Usage">Usage</h2></div>
<p>The <code>lpr</code> command is the printing tool in LPRng. The general form of use is
</p>
<pre>$ lpr [options] <i>file_to_be_printed</i></pre>
<p>If no file is specified, input is accepted on the standard input. The most useful options are <code>-P <i>printer</i></code> and <code>-K <i>number_of_copies</i></code>. In the absence of the printer option, setting the environment variable <code>PRINTER</code> to the name of the printer will tell LPRng which printer to use.
</p>
<p>Other useful commands are <code>lpq</code> (examine the print queue) and <code>lprm</code> (remove a print job from the queue). See <span class="plainlinks archwiki-template-man" title="$ man 1 lpr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lpr.1">lpr(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 lpq"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lpq.1">lpq(1)</a></span>, and <span class="plainlinks archwiki-template-man" title="$ man 1 lprm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lprm.1">lprm(1)</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="CUPS_and_LPRng">CUPS and LPRng</h2></div>
<p><a href="../en/CUPS.html" title="CUPS">CUPS</a> may be used to access a printer on a server from a client machine on which LPRng is not installed.  The trick is to configure CUPS to access the printer via the <code>lpd</code> protocol.  This is easy to do using the web interface to CUPS.  Also, since the server as set up here does all necessary print filtering, tell CUPS to use the <code>raw</code> filter.  Alternative divisions between filtering responsibilities can be devised, depending on your needs.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Printer_specific_instrcutions">Printer specific instrcutions</h3></div>
<p>Despite its title, some of the information at <a href="../en/CUPS/Printer-specific_problems.html" title="CUPS/Printer-specific problems">CUPS/Printer-specific problems</a> is not Cups specific.
</p>
<div class="mw-heading mw-heading3"><h3 id="GTK2">GTK2</h3></div>
<p>GTK2 applications still support <code>lpr</code> printing. To make this work, create the file <code>~/.gtkrc-2.0</code> in your home directory containing a single line
</p>
<pre>gtk-print-backends = "file,lpr"
</pre>
<div class="mw-heading mw-heading3"><h3 id="LXDE">LXDE</h3></div>
<p>LXDE may create its own <code>~/.gtkrc-2.0</code> file if the look and feel of the desktop are altered â€” look in this file for instructions as to how to proceed.
</p>
<div class="mw-heading mw-heading3"><h3 id="Postscript_printing">Postscript printing</h3></div>
<p>The filter <code>pdftops</code> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=poppler">poppler</a></span> package is used to create Postscript from PDF files in the print filters. 
</p>
<p>Occasionally, <code>pdftops</code> produces bad or no output. 
An alternative filter, <code>pdf2ps</code> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ghostscript">ghostscript</a></span> package, can be substituted, but this filter has its own problems.  
</p>
<p>For a one-shot case, just use <code>pdf2ps</code> or some other converter to produce Postscript and send that to the printer.
</p>
<div class="mw-heading mw-heading4"><h4 id="Double-Sided_PS">Double-Sided PS</h4></div>
<p>Double-sided printing of Postscript files is effected in the example filters by inserting a line of Postscript code right after the first line.  For some Postscript files, this does not work. 
</p>
<p>In this case, send the Postscript file to a single-side print queue.  The print filter <code>psfilter</code> set up for single-sided printing does no filtering of Postscript files.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Printers.html" title="Category:Printers">Printers</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LPRng&amp;oldid=862216">https://wiki.archlinux.org/index.php?title=LPRng&amp;oldid=862216</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 20 January 2026, at 21:14.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">LPRng</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
