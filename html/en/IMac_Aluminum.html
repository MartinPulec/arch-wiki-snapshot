<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>iMac Aluminum - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-IMac_Aluminum rootpage-IMac_Aluminum skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Deleting_macOS" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Deleting_macOS">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Deleting macOS</span>
			</div>
		</a>
		
		<ul id="toc-Deleting_macOS-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Install_additional_boot_loader" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Install_additional_boot_loader">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Install additional boot loader</span>
			</div>
		</a>
		
		<ul id="toc-Install_additional_boot_loader-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Partitioning_&amp;_Filesystems" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Partitioning_&amp;_Filesystems">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Partitioning &amp; Filesystems</span>
			</div>
		</a>
		
			<button aria-controls="toc-Partitioning_&amp;_Filesystems-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Partitioning &amp; Filesystems subsection</span>
			</button>
		
		<ul id="toc-Partitioning_&amp;_Filesystems-sublist" class="vector-toc-list">
			<li id="toc-Accessing_the_Ext2/3_file_system_from_OS_X" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Accessing_the_Ext2/3_file_system_from_OS_X">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Accessing the Ext2/3 file system from OS X</span>
				</div>
			</a>
			
			<ul id="toc-Accessing_the_Ext2/3_file_system_from_OS_X-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_GPT_partitioning_scheme_that_Apple_uses" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_GPT_partitioning_scheme_that_Apple_uses">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>The GPT partitioning scheme that Apple uses</span>
				</div>
			</a>
			
			<ul id="toc-The_GPT_partitioning_scheme_that_Apple_uses-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-rEFIt_Re-sync" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#rEFIt_Re-sync">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>rEFIt Re-sync</span>
			</div>
		</a>
		
		<ul id="toc-rEFIt_Re-sync-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Controlling_the_screen_backlight_and_brightness" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Controlling_the_screen_backlight_and_brightness">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Controlling the screen backlight and brightness</span>
			</div>
		</a>
		
			<button aria-controls="toc-Controlling_the_screen_backlight_and_brightness-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Controlling the screen backlight and brightness subsection</span>
			</button>
		
		<ul id="toc-Controlling_the_screen_backlight_and_brightness-sublist" class="vector-toc-list">
			<li id="toc-backlight.c" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#backlight.c">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>backlight.c</span>
				</div>
			</a>
			
			<ul id="toc-backlight.c-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Getting_sound_to_work_right" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Getting_sound_to_work_right">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Getting sound to work right</span>
			</div>
		</a>
		
			<button aria-controls="toc-Getting_sound_to_work_right-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Getting sound to work right subsection</span>
			</button>
		
		<ul id="toc-Getting_sound_to_work_right-sublist" class="vector-toc-list">
			<li id="toc-The_iMac_20&quot;_&amp;_24&quot;_models" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_iMac_20&quot;_&amp;_24&quot;_models">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>The iMac 20" &amp; 24" models</span>
				</div>
			</a>
			
			<ul id="toc-The_iMac_20&quot;_&amp;_24&quot;_models-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-The_imac7,1_model" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#The_imac7,1_model">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>The imac7,1 model</span>
				</div>
			</a>
			
			<ul id="toc-The_imac7,1_model-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">iMac Aluminum</h1>
				</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><span>
</span>
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Mac.html" title="Mac">Mac</a>.</b></p>
<div>
<b>Notes:</b> Most of the page duplicates <a href="../en/Mac.html" title="Mac">Mac</a>, <a href="#Getting_sound_to_work_right">#Getting sound to work right</a> should be kept as a subsection of <a href="../en/Laptop/Apple.html#Troubleshooting" title="Laptop/Apple">Laptop/Apple#Troubleshooting</a>, while the content of <a href="#Troubleshooting">#Troubleshooting</a> should be added to <a href="../en/Mac/Troubleshooting.html" title="Mac/Troubleshooting">Mac/Troubleshooting</a> as it is not already mentioned there and a good general advice for Apple hardware. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:IMac_Aluminum.html">Talk:IMac Aluminum</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> This page was mainly written between 2008 and 2011 : much of the information here is no longer relevant. 
Moreover, the hardware it discusses is considered <a rel="nofollow" class="external text" href="https://support.apple.com/en-us/HT201624#macobsolete">obsolete</a> by Apple since it was last sold more than 7 years ago. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:IMac_Aluminum.html">Talk:IMac Aluminum</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Complete disregard for <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:IMac_Aluminum.html">Talk:IMac Aluminum</a>)</div>
</div>
<p>From <a href="https://en.wikipedia.org/wiki/iMac_(Intel-based)#2nd_generation:_Aluminum_iMac" class="extiw" title="wikipedia:iMac (Intel-based)">Wikipedia</a>: 
</p>
<dl><dd>In August 2007, Apple introduced a complete redesign of the iMac, featuring an aluminum, glass and plastic enclosure. There is only one visible screw on the entire computer, located at the base of the iMac for accessing the memory slots. It has a black, plastic backplate that is not user-removable.</dd></dl>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Deleting_macOS">Deleting macOS</h2></div>
<p>Keeping a small macOS partition allows you to do firmware updates.
</p>
<p>You can also use an external USB or Firewire drive with which to boot OS X for the firmware updates, and possibly even via optical drive.
</p>
<div class="mw-heading mw-heading2"><h2 id="Install_additional_boot_loader">Install additional boot loader</h2></div>
<p>Apple computers have a built-in <a href="../en/Boot_loader.html" class="mw-redirect" title="Boot loader">boot loader</a> that can be accessed by holding down the <code>Alt</code> key when switched on. This allows you to boot from CD, HDD and via WiFi. If your iMac has a separate EFI system partition, this menu will also allow you to boot Arch Linux directly (follow these instructions: <a href="../en/GRUB/Tips_and_tricks.html#GRUB_standalone" title="GRUB/Tips and tricks">GRUB/Tips and tricks#GRUB standalone</a>). This built-in boot loader sometimes has problems booting from USB, so it might be a good idea to  install <a href="../en/REFInd.html" title="REFInd">rEFInd</a> on your OS X partition. You will probably want to lower the timeout and make Linux the default option, for that you must edit the <code>refind.conf</code> file (See <a href="../en/REFInd.html#Configuration" title="REFInd">REFInd#Configuration</a>). 
</p>
<p><i>After</i> successfully installing Arch and Grub you may remove rEFInd (first make sure your stand-alone UEFI app shows up in the Apple boot loader). To change the default boot-option to Arch Linux, you need to <i>bless</i> the earlier created stand-alone UEFI app. It is best to rename the created <code>EFI/arch_grub/grubx64_standalone.efi</code> to <code>EFI/BOOT/BOOTX64.EFI</code>, then run the following command from macOS, after mounting the EFI system partition: 
</p>
<pre># bless --folder=/Volumes/EFI --file=/Volumes/EFI/efi/BOOT/BOOTX64.EFI --setBoot
</pre>
<p>When booting through the Apple boot loader (instead of rEFInd) you will be booting in full UEFI mode, instead of BIOS compatibility. This means you will probably need to boot your <i>archlinux-fallback</i> image the first time; and <a href="../en/Regenerate_the_initramfs.html" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a> to successfully switch from BIOS to UEFI.
</p>
<div class="mw-heading mw-heading2"><h2 id="Partitioning_&amp;_Filesystems">
<span id="Partitioning_.26_Filesystems"></span>Partitioning &amp; Filesystems</h2></div>
<p>There are multiple ways to repartition the iMac drive, my favourite (probably because it is the easiest &amp; being graphical it is most likely the safest) is to boot the Ubuntu 7.10 (or later) LiveCD &amp; run GParted from the desktop menu.  I have shrunk the OS X, HFS+ partition, created Ext3, JFS &amp; Linux Swap partition, deleted &amp; moved partitions on the iMac using GParted &amp; the Ubuntu LiveCD.  Great stuff!
The only present limitation that GParted has with the HFS+ file system, is that it can only shrink the HFS+ file system &amp; can not enlarge it.  I'm sure it will not be too long &amp; this limitation will not exist either.
</p>
<p><i>Just a note on using GParted, or any other GUI type of partition management tool, it is generally accepted to be good safe practice to only <b>Apply ONE process at a time</b>.  What that means for those unfamiliar with GParted (&amp; the other applications of it's ilk) is you can give it multiple instructions which it stores up until you hit the "Apply" button, after which it goes through the instructions one after the other.  If this does not make sense now, it very quickly will on using GParted.</i> 
</p>
<p><i>My iMac partition scheme is as follows:</i>
</p>
<p><b>Partition</b>...<b>Filesystem</b>......<b>Size</b>.........<b>Mountpoint</b>
</p>
<p><b>sda1</b> ........ <b>*FAT32*</b> ....... <b>200Mb</b> .... <b>EFI system partition</b> - While the ESP looks like a FAT32 volume, it is actually an EFI file system, which you want to know how to replace before you delete it.  This means do not delete it unless you are sure that you know what you are doing, as it may become essential to Apple firmware updates in the future.  Currently the ESP is empty &amp; the firmware boots OS X directly!?  At least it is only 200Mb's wasted drive space, though more importantly it counts as one of the four partitions that can be seen by Apple's newly adopted GPT partitioning scheme.  More on GPT in the following paragraph.
</p>
<p><b>sda2</b> ......... <b>HFS+</b> ........... <b>50Gb</b> ..... <b>OS X</b> - After thinning out OS X some &amp; keeping tools I use plus iWork, CrossOver Games &amp; Guild Wars, I have about 25Gb of free space to play with here, &amp; for the odd game that may arrive in the future (Guild Wars 2). :D
</p>
<p><b>sda3</b> ......... <b>Ext3</b> ............ <b>15Gb</b> ...... <b>/</b> <i>- Arch -</i> there is currently 12Gb free, it is a new install though.
</p>
<p><b>sda4</b> ......... <b>JFS</b> .............. <b>30Gb</b> ...... <b>/home</b> - that should be more than enough space for me there, &amp; I can always resize with GParted.
</p>
<p><b>sda5</b> ......... <b>Linux Swap</b> .... <b>2Gb</b> ..... <b>swap</b> - rarely if ever used, but I have the space. It is questionable as to whether this partition needs to exist at all.
</p>
<p>Having now used Arch on the iMac with 1GB of RAM for some months I deleted the /swap partition, as for my uses it was never needed.
</p>
<p><b>sda6</b> ......... <b>Ext3</b> ............ <b>200Gb</b> ...... <b>/thevoid</b> - storage for video's music, unsafe backup, whatever...
</p>
<div class="mw-heading mw-heading3"><h3 id="Accessing_the_Ext2/3_file_system_from_OS_X">
<span id="Accessing_the_Ext2.2F3_file_system_from_OS_X"></span>Accessing the Ext2/3 file system from OS X</h3></div>
<p>I have been using the <b>ExtFS for Mac</b> from Paragon-Software, it is a commercial package that is simple to install, configure &amp; auto mounts any Ext2/3 file system partitions in a read/write fashion when you boot up OS X, 10.4.11 or later on an Intel Mac.  It has been working superbly for me, to the point that I have reformatted my 200GB partition called /thevoid from JFS to Ext3 to give me access to it from OS X.  For anyone interested you can get a trial version on the Paragon-Software website. 
</p>
<p>There is also a free software application that is apparently somewhat outdated, but works with Ext2/3 &amp; is working with OS X, 10.5, its name is <b>ext2fsx</b>.  I have not used ext2fsx so I cannot speak about it from experience.
</p>
<div class="mw-heading mw-heading3"><h3 id="The_GPT_partitioning_scheme_that_Apple_uses">The GPT partitioning scheme that Apple uses</h3></div>
<p><a rel="nofollow" class="external autonumber" href="https://developer.apple.com/library/content/technotes/tn2166/_index.html">[1]</a> used to limit OS X, to only being able to use 4 partitions from which you could boot a system. If you have not allowed your older Mactel, Apple machines to upgrade for quite some time then their firmware is still suffering under this limitation (I'm told) &amp; you should be aware of this fact. 
</p>
<p>Therefore you need to be sure to install your <a href="../en/Boot_loader.html" class="mw-redirect" title="Boot loader">boot loader</a> i.e. GRUB/Lilo, &amp; any other partition that you may want OS X, to see (like a shared FAT32 data drive) on sda3 &amp; sda4, Windows must also be on sda3 or sda4.
</p>
<p>Partitions beyond Apple's (previously) imposed limit of 4 can still be created &amp; used, e.g. Linux Swap, &amp; other partitions, but they will not be accessible by OS X, or directly bootable, though I see no reason why a boot loader like GRUB positioned on sda3 or sda4 could not boot other OS's on partitions numbered greater than sda4.
</p>
<p>This certainly does place limitations on what we can do if we do not allow our systems to accept the appropriate Apple online upgrades.
</p>
<p>If you require more than this limited scheme will allow you, you could do away with OS X, &amp; set up the drive on MBR only, using an external drive with OS X on it to update the firmware.  
</p>
<p>For those that DO accept the online upgrades from Apple, it would seem that you can now place GRUB, Lilo or any other boot loader in partitions beyond the 4th. I say "would seem", as I have been told this (&amp; not read the technical documentation), not read it, &amp; am not prepared to test it no "my" sacrosanct Arch machine. :) 
</p>
<p>The above section will be severely modified, when I have confirmed that Apple have indeed made these changes to their firmware.
</p>
<p>So just to sum up, if you are using a machine with out of date firmware: &amp; you have need to use sda3 &amp; sda4, be sure to put any swap partitions on a partition number greater than sda4.  Also, it is worth considering not using a swap partition at all, as the only computers running Linux/BSD with 1 gigabyte of RAM that use their swap file are doing intensive specialized work such as video editing, sound recording/editing, 3D modelling...
</p>
<div class="mw-heading mw-heading2"><h2 id="rEFIt_Re-sync">rEFIt Re-sync</h2></div>
<p>When partitioning is finished you must restart the iMac &amp; re-sync your partitions with rEFIt, which is quick &amp; easy:  You choose to <b>start the partitioning tool</b> in the <i>rEFIt boot-menu</i> &amp; follow the very simple instructions there.  
<i>rEFIt may prefer to have partitions in numerical order on the drive, i.e. sda1, sda2, sda3, sda4, sda5, sda6 ... &amp; not shuffled.  This is unconfirmed, any feedback on the subject will be appreciated.</i>
</p>
<p>Then reboot &amp; hold down the <b>C</b> key, or wait as I do for the rEFIt boot-menu to appear &amp; choose to boot the Arch install CD.
</p>
<p>This is not necessary when booting through EFI.
</p>
<div class="mw-heading mw-heading2"><h2 id="Controlling_the_screen_backlight_and_brightness">Controlling the screen backlight and brightness</h2></div>
<p>The iMac lacks physical buttons for controlling the backlight of the screen. Depending on the version/model of the computer and how Linux is booted, the brightness of the backlight may or may not be easily controllable. See <a href="../en/Backlight.html" title="Backlight">Backlight</a> for various options.
</p>
<div class="mw-heading mw-heading3"><h3 id="backlight.c">backlight.c</h3></div>
<p>Below is the C code for a little program that adjusts the brightness on many LCD Apple screens (I have been using it now for over 3 years).  It is easy to compile &amp; setup using the following instructions.
</p>
<p><b>The instructions follow:</b>
</p>
<p>Copy &amp; paste the C code (found below these instructions) to your <code>/home</code>.  Save the code as a file, <code>backlight.c</code>.
</p>
<p>Now open a terminal in the directory where <code>backlight.c</code> is located.
</p>
<p>Type the following in the Terminal:
</p>
<pre>gcc -o backlight backlight.c
</pre>
<p>You now have a program called <code>backlight</code>. It should adjust the brightness. 
</p>
<p>To change the brightness, you have to have direct access to video memory, which means that you have to be superuser (root).
</p>
<p>Type <code>su</code>, then your root password when prompted.
</p>
<p>Now test the program by typing:
</p>
<pre>./backlight 10
</pre>
<p>in the terminal.
</p>
<p><i>You can give it values from 1 to 15</i>. Find a value you like.
</p>
<p>Now enter the following in the Terminal:
</p>
<pre>cp backlight /usr/local/bin/
</pre>
<p>Which copies the program to the standard location for user installed programs.
</p>
<p>Next, to run it at startup. Still as root, edit <code>/etc/rc.local</code>. Add a line saying <code>/usr/local/bin/backlight N</code>, where <code>N</code> is the number code you want for the brightness.
</p>
<p>That should do it.
</p>
<p>Source:
</p>
<pre>/*
* Apple Macbook Pro LCD backlight control
*
* Copyright (C) 2006 Nicolas Boichat &lt;nicolas @boichat.ch&gt;
* Copyright (C) 2006 Felipe Alfaro Solana &lt;felipe_alfaro @linuxmail.org&gt;
*
* This program is free software; you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation; either version 2 of the License, or
* (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with this program; if not, write to the Free Software
* Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
*
*/

#include &lt;stdio.h&gt;
#include &lt;sys/io.h&gt;
#include &lt;stdlib.h&gt;

void init()
{
    if (ioperm(0xB2, 0xB3, 1) &lt; 0)
    {
        perror("ioperm failed (you should be root).");
        exit(2);
    }
}

int get_current_value()
{
    outb(0x03, 0xB3);
    outb(0xBF, 0xB2);
    char t = inb(0xB3) &gt;&gt; 4;
    return t;
}

int calculate_new_value(const char *arg)
{
    int val, new = atoi(arg);

    if (arg[0] == '+' || arg[0] == '-')
        val = new + get_current_value();
    else
        val = new;

    if (val &gt; 15)
        val = 15;
    else if (val &lt; 1)
        val = 1;

    return val;
}

int main(int argc, char** argv)
{
    if (argc &gt; 2)
    {
        printf("Usage:\n");
        printf("%s : read current value\n", argv[0]);
        printf("%s value : write value [0-15]\n", argv[0]);
        exit(1);
    }

    init();

    if (argc &lt; 2)
    {
        printf("Current value : %d\n", get_current_value());
        exit(0);
    }

    if (argc == 2)
    {
        int value = calculate_new_value(argv[1]);
        outb(0x04 | (value &lt;&lt; 4), 0xB3);
        outb(0xBF, 0xB2);
        printf("new value: %d\n", value);
    }

    return 0;
}
</pre>
<div class="mw-heading mw-heading2"><h2 id="Getting_sound_to_work_right">Getting sound to work right</h2></div>
<p>Sound does not always work nice out of the box using Linux on an iMac. For instance, the sound can appear "thin" or tinny with too much treble and too little base due to the built in subwoofer being muted by default or the OS may not detect that the headphones have been plugged in. The fixes are generally to load <a href="../en/Advanced_Linux_Sound_Architecture.html#Driver_configuration" title="Advanced Linux Sound Architecture">sound drivers</a> with extra model flags specifying relevant iMac model by manipulating <i>/etc/modprobe.d/sound.conf</i> or <i>/etc/modprobe.d/modprobe.conf</i>, reload corresponding modules and use <span class="plainlinks archwiki-template-man" title="$ man 1 alsamixer"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/alsamixer.1">alsamixer(1)</a></span> to make sure all desired channels are not muted.
</p>
<div class="mw-heading mw-heading3"><h3 id="The_iMac_20&quot;_&amp;_24&quot;_models">
<span id="The_iMac_20.22_.26_24.22_models"></span>The iMac 20" &amp; 24" models</h3></div>
<p>Add the following to <i>/etc/modprobe.d/sound.conf</i>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/sound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd-hda-intel model=imac24</pre>
<div class="mw-heading mw-heading3"><h3 id="The_imac7,1_model">
<span id="The_imac7.2C1_model"></span>The imac7,1 model</h3></div>
<p>The option above may produces tiny sound on imac7,1. To have OSX like rich sound on imac 7,1, add following to <i>/etc/modprobe.d/modprobe.conf</i>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/sound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd-hda-intel model=mb31</pre>
<p>Using the above gives a workable <i>alsamixer</i>.  I have found that using VLC &amp; its mixer is very helpful when watching DVD's. I have not tested the line out or mic, though I believe that they are working properly with this configuration.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<p>If you experience weird boot freeze just after <a href="../en/Boot_loader.html" class="mw-redirect" title="Boot loader">boot loader</a> (basically after Grub loaded Linux, which you can verify by appending <code>ignore_loglevel</code> to the Linux command line), then you may fix the problem by resetting the PRAM (press <code>Cmd+Alt+Shift+P+R</code> just after boot), and resetting the power management system (by unplugging your iMac for 15 seconds, then plugging it back, waiting 5 seconds, and then powering it up).
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<p><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=35355A">A forum thread regarding installation of Arch Linux on the iMac</a>
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Apple.html" title="Category:Apple">Apple</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=IMac_Aluminum&amp;oldid=833502">https://wiki.archlinux.org/index.php?title=IMac_Aluminum&amp;oldid=833502</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 8 May 2025, at 11:43.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true">iMac Aluminum</div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
