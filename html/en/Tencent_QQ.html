<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Tencent QQ - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tencent_QQ rootpage-Tencent_QQ skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Native_Linux_version" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Native_Linux_version">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Native Linux version</span>
			</div>
		</a>
		
			<button aria-controls="toc-Native_Linux_version-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Native Linux version subsection</span>
			</button>
		
		<ul id="toc-Native_Linux_version-sublist" class="vector-toc-list">
			<li id="toc-Bubblewrap_version" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bubblewrap_version">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Bubblewrap version</span>
				</div>
			</a>
			
			<ul id="toc-Bubblewrap_version-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Virtual_machine" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Virtual_machine">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Virtual machine</span>
			</div>
		</a>
		
		<ul id="toc-Virtual_machine-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-HiDPI_support" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#HiDPI_support">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>HiDPI support</span>
				</div>
			</a>
			
			<ul id="toc-HiDPI_support-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_under_the_tiled_window_manager" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_under_the_tiled_window_manager">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Configuration under the tiled window manager</span>
				</div>
			</a>
			
			<ul id="toc-Configuration_under_the_tiled_window_manager-sublist" class="vector-toc-list">
				<li id="toc-Awesome" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Awesome">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1</span>
					<span>Awesome</span>
				</div>
			</a>
			
			<ul id="toc-Awesome-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-i3" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#i3">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.2</span>
					<span>i3</span>
				</div>
			</a>
			
			<ul id="toc-i3-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Font_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Font_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Font configuration</span>
				</div>
			</a>
			
			<ul id="toc-Font_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-File_is_occupied" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#File_is_occupied">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>File is occupied</span>
				</div>
			</a>
			
			<ul id="toc-File_is_occupied-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unable_to_input_emoticons_under_xfce4_(xfwm4)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unable_to_input_emoticons_under_xfce4_(xfwm4)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Unable to input emoticons under xfce4 (xfwm4)</span>
				</div>
			</a>
			
			<ul id="toc-Unable_to_input_emoticons_under_xfce4_(xfwm4)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cannot_enter_Chinese_under_non-Chinese_locale" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cannot_enter_Chinese_under_non-Chinese_locale">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Cannot enter Chinese under non-Chinese locale</span>
				</div>
			</a>
			
			<ul id="toc-Cannot_enter_Chinese_under_non-Chinese_locale-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cannot_enter_Chinese_when_the_IME_is_activated_(the_Electron_version)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cannot_enter_Chinese_when_the_IME_is_activated_(the_Electron_version)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Cannot enter Chinese when the IME is activated (the Electron version)</span>
				</div>
			</a>
			
			<ul id="toc-Cannot_enter_Chinese_when_the_IME_is_activated_(the_Electron_version)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Screen_flicker_when_using_a_monitor_with_high_refresh_rate" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Screen_flicker_when_using_a_monitor_with_high_refresh_rate">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.6</span>
					<span>Screen flicker when using a monitor with high refresh rate</span>
				</div>
			</a>
			
			<ul id="toc-Screen_flicker_when_using_a_monitor_with_high_refresh_rate-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hot_updates_of_the_native_Linux_version" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Hot_updates_of_the_native_Linux_version">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.7</span>
					<span>Hot updates of the native Linux version</span>
				</div>
			</a>
			
			<ul id="toc-Hot_updates_of_the_native_Linux_version-sublist" class="vector-toc-list">
				<li id="toc-Empty_login_page_after_a_hot_update" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Empty_login_page_after_a_hot_update">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.7.1</span>
					<span>Empty login page after a hot update</span>
				</div>
			</a>
			
			<ul id="toc-Empty_login_page_after_a_hot_update-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rolling_back_from_a_hot_update" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Rolling_back_from_a_hot_update">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.7.2</span>
					<span>Rolling back from a hot update</span>
				</div>
			</a>
			
			<ul id="toc-Rolling_back_from_a_hot_update-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Tencent QQ</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Tencent_QQ" title="Tencent QQ – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="Tencent QQ" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>QQ is an instant messaging software developed by Tencent, an imitation of ICQ, and a popular IM software in China. This page lists various solutions for Arch Linux using QQ.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Native_Linux_version">Native Linux version</h2></div>
<p>The official Linux version powered by Electron is already available. To use it, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linuxqq/">linuxqq</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> TIM does not have an official Linux version. If you want to use TIM, use a <a href="#Virtual_machine">virtual machine</a>.</div>
<div class="mw-heading mw-heading3"><h3 id="Bubblewrap_version">Bubblewrap version</h3></div>
<p>Alternatively, you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linuxqq-nt-bwrap/">linuxqq-nt-bwrap</a></span><sup><small>AUR</small></sup> instead, which contains <a href="../en/Bubblewrap.html" title="Bubblewrap">bubblewrap</a> sandbox and some tweaks.
</p>
<ul><li>Custom parameters to be passed to <b>bwrap</b> should be written in <code>~/.config/qq-bwrap-flags.conf</code>, you can set custom mount directory in this file.</li></ul>
<ul><li>Custom parameters to be passed to <a href="../en/Electron.html" title="Electron">electron</a> should be written in <code>~/.config/qq-electron-flags.conf</code>.</li></ul>
<div class="mw-heading mw-heading2"><h2 id="Virtual_machine">Virtual machine</h2></div>
<p>You can run a complete Windows system in a virtual machine and run QQ in this. Compared with other schemes, this scheme has the smallest chance of error. The disadvantage is that it takes up more resources.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>According to the <a rel="nofollow" class="external text" href="https://www.microsoft.com/en-us/Useterms/OEM/Windows/10Mobile/UseTerms_OEM_Windows_10Mobile_ChineseSimplified.htm">license terms</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-10-12—HTTP 404]</sup>, running Windows on each virtual device requires a separate authorization. But you can choose to use <a rel="nofollow" class="external text" href="https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/">the virtual machine dedicated system provided by Microsoft</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-01-13—HTTP 404]</sup> (free to use).</li>
<li>If you use VirtualBox, it is recommended that you enable <b><a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch04.html#seamlesswindows">seamless mode</a></b>, this feature allows you to seamlessly operate the window in the virtual machine under the host desktop.</li>
</ul>
</div>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="HiDPI_support">HiDPI support</h3></div>
<p>On the HiDPI display, the QQ/TIM interface may be too small. Support for HiDPI has been added to the newer version of QQ/TIM. Just manually adjust Wine's DPI.
</p>
<p>Execute <code>winecfg</code>, switch to the <b>display</b> tab in the opened window and adjust the DPI.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> If you are not using the default wine container (for example, use deepin QQ/TIM) you need to specify the <code>WINEPREFIX</code> variable when you execute <code>winecfg</code>. For example, <code>env WINEPREFIX=$HOME/.deepinwine/Deepin-QQ deepin-wine winecfg</code> or <code>env WINEPREFIX=$HOME/.deepinwine/Deepin-TIM deepin-wine winecfg</code>.</div>
<div class="mw-heading mw-heading3"><h3 id="Configuration_under_the_tiled_window_manager">Configuration under the tiled window manager</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Awesome">Awesome</h4></div>
<p>Wine QQ/TM may be out of control under the tiled window manager, and some configuration is required.
</p>
<p>The following configuration has these effects:
</p>
<ul><li>Set all TM windows to float.</li></ul>
<ul><li>Clear unnecessary window borders to prevent the focus from moving to the menu when the menu pops up.</li></ul>
<ul><li>When using tabbed conversation window, increased <a rel="nofollow" class="external text" href="https://blog.lilydjwg.me/2013/11/15/switch-tabs-with-alt-num-in-wined-tm-exe-in-awesome.41729.html">use of digital switches Alt+Number</a> shortcut key, need to install <a href="../en/Xorg.html#Automation" class="mw-redirect" title="Xdotool">xdotool</a>.</li></ul>
<ul><li>Automatically close the pop-up news window.</li></ul>
<p>Add the following to the <a href="../en/Awesome.html" title="Awesome">Awesome</a> configuration:
</p>
<pre>function myfocus_filter(c)
  if awful.client.focus.filter(c) then
    -- This works with tooltips and some popup-menus
    if c.class == 'Wine' and c.above == true then
      return nil
    elseif c.class == 'Wine'
      and c.type == 'dialog'
      and c.skip_taskbar == true
      and c.size_hints.max_width and c.size_hints.max_width &lt; 160
      then
      -- for popup item menus of Photoshop CS5
      return nil
    else
      return c
    end
  end
end

awful.rules.rules = {
  -- All clients will match this rule.
  {
    rule = { },
    properties = {
      -- we use our own function
      focus = myfocus_filter,
      -- The following is the default part
      border_width = beautiful.border_width,
      border_color = beautiful.border_normal,
      keys = clientkeys,
      buttons = clientbuttons,
    }
  }, {
    rule_any = { 
      instance = {'TM.exe', 'QQ.exe'},
    },
    properties = {
      -- This, together with myfocus_filter, make the popup menus flicker taskbars less
      -- Non-focusable menus may cause TM2013preview1 to not highlight menu
      -- items on hover and crash.
      focusable = true,
      floating = true,
      -- remove the border
      border_width = 0,
    }
  }, {
    -- Other rules
  }
}

alt_switch_keys = awful.util.table.join(
    -- it's easier for a vimer to manage this than figuring out a nice way to loop and concat
    awful.key({'Mod1'}, 1, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+1') end),
    awful.key({'Mod1'}, 2, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+2') end),
    awful.key({'Mod1'}, 3, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+3') end),
    awful.key({'Mod1'}, 4, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+4') end),
    awful.key({'Mod1'}, 5, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+5') end),
    awful.key({'Mod1'}, 6, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+6') end),
    awful.key({'Mod1'}, 7, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+7') end),
    awful.key({'Mod1'}, 8, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+8') end),
    awful.key({'Mod1'}, 9, function(c) awful.util.spawn('xdotool key --window ' .. c.window .. ' ctrl+9') end)
)
function bind_alt_switch_tab_keys(client)
    client:keys(awful.util.table.join(client:keys(), alt_switch_keys))
end -- }}}

client.connect_signal("manage", function (c, startup)
  -- other configuration

  if c.instance == 'TM.exe' then
    -- add Alt+n support
    bind_alt_switch_tab_keys(c)
    -- close all kinds of news notification small windows
    if c.name and c.name:match('^腾讯') and c.above then
      c:kill()
    end
  end

  -- other configuration
end)
</pre>
<p>You can also look at the complete <a rel="nofollow" class="external text" href="https://github.com/lilydjwg/myawesomerc">Awesome configuration</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="i3">i3</h4></div>
<p>In the native configuration, when <code>qq2012</code> is started, it will be maximized automatically, and the border is not beautiful. The following two rules can be set in the <a href="../en/I3.html" title="I3">i3</a> <code>config</code> setting to improve:
</p>
<pre>for_window [instance="QQ.exe"] floating enable
for_window [instance="QQ.exe"] border none
</pre>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Font_configuration">Font configuration</h3></div>
<p>If you have problems displaying Chinese, you can try to execute  <code>winetricks fakechinese</code> first.
</p>
<p>See also <a href="../en/Wine.html#Fonts" title="Wine">fonts</a> and <a href="../en/Font_configuration.html#Applications_without_Fontconfig_support" title="Font configuration">Font configuration#Applications without Fontconfig support</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="File_is_occupied">File is occupied</h3></div>
<p>Just kill the process of QQ or TIM.
After exiting QQ/TIM, some related processes are still running in the background. You can also use the following script to start QQ/TIM, it will first find the existing process, kill the process and start a new QQ/TIM.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">start-tim.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
# script to start TIM
# kill TIM before start TIM
for pid in `pgrep TIM.exe`; do
	if [ -n ${pid} ]; then
		kill ${pid}
	fi
done
# start TIM
wine '~/.wine/drive_c/Program Files/Tencent/TIM/Bin/TIM.exe'
</pre>
<p>The above example is applicable to TIM, and can be applied to QQ after a little modification.
</p>
<div class="mw-heading mw-heading3"><h3 id="Unable_to_input_emoticons_under_xfce4_(xfwm4)">
<span id="Unable_to_input_emoticons_under_xfce4_.28xfwm4.29"></span>Unable to input emoticons under xfce4 (xfwm4)</h3></div>
<p>Open the Settings Manager-Window manager tuning-focus, uncheck the ICCCM focus prompt to activate focus anti-theft and follow the standard.
</p>
<p>The reason is that incompatibility occurs when the emoji window gains focus.
</p>
<div class="mw-heading mw-heading3"><h3 id="Cannot_enter_Chinese_under_non-Chinese_locale">Cannot enter Chinese under non-Chinese locale</h3></div>
<p>Modify the <code>Exec</code> of the <code>.desktop</code> file, which is usually located in <code>/usr/share/applications/</code>, but must be copied to <code>~/.local/share/applications/</code> in order to not get overwritten.
</p>
<p>Add <code>env LC_ALL=zh_CN.UTF-8</code> to the <code>Exec</code> line.
For example, the original <code>Exec</code> was:
</p>
<pre>Exec=".wine/drive_c/Program Files/QQ/Bin/QQ.exe"
</pre>
<p>Should be changed to:
</p>
<pre>Exec=env LC_ALL=zh_CN.UTF-8 wine ".wine/drive_c/Program Files/QQ/Bin/QQ.exe"
</pre>
<div class="mw-heading mw-heading3"><h3 id="Cannot_enter_Chinese_when_the_IME_is_activated_(the_Electron_version)">
<span id="Cannot_enter_Chinese_when_the_IME_is_activated_.28the_Electron_version.29"></span>Cannot enter Chinese when the IME is activated (the Electron version)</h3></div>
<p>Old electron version doesn't work with IBus IME well, see <a rel="nofollow" class="external text" href="https://github.com/flathub/io.atom.electron.BaseApp/issues/4">Electron issue with IBus IME</a>.
</p>
<p>You can launch QQ with an environment variable:
</p>
<pre>GTK_IM_MODULE=xim qq
</pre>
<div class="mw-heading mw-heading3"><h3 id="Screen_flicker_when_using_a_monitor_with_high_refresh_rate">Screen flicker when using a monitor with high refresh rate</h3></div>
<p>See <a href="../en/Chromium.html#Chromium_rendering_at_60_FPS_despite_using_a_display_with_a_higher_refresh_rate" title="Chromium">Chromium#Chromium rendering at 60 FPS despite using a display with a higher refresh rate</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Hot_updates_of_the_native_Linux_version">Hot updates of the native Linux version</h3></div>
<p>The native Linux version of QQ sometimes notifies the user to download hot updates. These updates are downloaded to <code>~/.config/QQ/versions/</code>, and can be applied quickly with a restart of the application. However, this mechanism frequently runs into issues on Arch Linux.
</p>
<div class="mw-heading mw-heading4"><h4 id="Empty_login_page_after_a_hot_update">Empty login page after a hot update</h4></div>
<p>If QQ shows an empty login page after a hot update, remove <code>~/.config/QQ/versions/<i>version</i>/libssh2.so.1</code> and restart QQ. If it doesn't help, try <a href="#Rolling_back_from_a_hot_update">#Rolling back from a hot update</a>
</p>
<div class="mw-heading mw-heading4"><h4 id="Rolling_back_from_a_hot_update">Rolling back from a hot update</h4></div>
<p>If you want to roll back from a hot update version for any reason, add the current version to <code>onErrorVersions</code> in <code>~/.config/QQ/versions/config.json</code> and change <code>curVersion</code> to the last good version, and then restart QQ. Next time, QQ will launch with the version specified in <code>curVersion</code>, and will not ask for updates in <code>onErrorVersions</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://zh.opensuse.org/SDB:QQ">openSUSE wiki</a></li>
<li>
<a rel="nofollow" class="external text" href="http://qun.qzone.qq.com/">QQ group space on the web side</a> When the QQ client used does not support group space, this service can be used instead.</li>
<li>
<a rel="nofollow" class="external text" href="https://im.qq.com/mobileqq/">IM QQ-QQ mobile version</a> Mobile end is also an alternative.</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/hillwoodroc/winetricks-zh">hillwoodroc/winetricks-zh</a> hillwoodroc/winetricks-zh</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Instant_messaging.html" title="Category:Instant messaging">Instant messaging</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Tencent_QQ&amp;oldid=852833">https://wiki.archlinux.org/index.php?title=Tencent_QQ&amp;oldid=852833</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 15 November 2025, at 17:03.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Tencent QQ</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
