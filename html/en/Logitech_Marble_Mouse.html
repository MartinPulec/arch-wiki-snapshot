<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Logitech Marble Mouse - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Logitech_Marble_Mouse rootpage-Logitech_Marble_Mouse skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Basic_function" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Basic_function">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Basic function</span>
			</div>
		</a>
		
		<ul id="toc-Basic_function-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Button_mapping" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Button_mapping">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Button mapping</span>
			</div>
		</a>
		
			<button aria-controls="toc-Button_mapping-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Button mapping subsection</span>
			</button>
		
		<ul id="toc-Button_mapping-sublist" class="vector-toc-list">
			<li id="toc-Troubleshooting_libinput_quirk" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Troubleshooting_libinput_quirk">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Troubleshooting libinput quirk</span>
				</div>
			</a>
			
			<ul id="toc-Troubleshooting_libinput_quirk-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Scroll_modifier" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Scroll_modifier">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Scroll modifier</span>
			</div>
		</a>
		
		<ul id="toc-Scroll_modifier-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-GNOME_3_and_Wayland" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#GNOME_3_and_Wayland">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>GNOME 3 and Wayland</span>
			</div>
		</a>
		
		<ul id="toc-GNOME_3_and_Wayland-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Sway_and_Wayland" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Sway_and_Wayland">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Sway and Wayland</span>
			</div>
		</a>
		
		<ul id="toc-Sway_and_Wayland-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Hyprland" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hyprland">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Hyprland</span>
			</div>
		</a>
		
		<ul id="toc-Hyprland-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Plasma_and_Wayland" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Plasma_and_Wayland">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Plasma and Wayland</span>
			</div>
		</a>
		
		<ul id="toc-Plasma_and_Wayland-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-X11" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#X11">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>X11</span>
			</div>
		</a>
		
		<ul id="toc-X11-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Additional_tweaks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Additional_tweaks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">10</span>
				<span>Additional tweaks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Additional_tweaks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Additional tweaks subsection</span>
			</button>
		
		<ul id="toc-Additional_tweaks-sublist" class="vector-toc-list">
			<li id="toc-Console_(gpm)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Console_(gpm)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">10.1</span>
					<span>Console (gpm)</span>
				</div>
			</a>
			
			<ul id="toc-Console_(gpm)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">11</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Logitech Marble Mouse</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Logitech_Marble_Mouse" title="Logitech Marble Mouse – 日本語" lang="ja" hreflang="ja" data-title="Logitech Marble Mouse" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>The <b>Logitech Marble Mouse</b> is a pointing device with four buttons and a trackball, also known as the <b>Trackman Marble</b>. The Marble Mouse is usable either left- or right-handed. It requires some configuration to enable scrolling with the trackball. For a detailed image, see: <a rel="nofollow" class="external text" href="https://i.imgur.com/4pZrjAV.png">Logitech Marble Mouse</a> (or <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/Logitech_Marblemouse_USB?action=AttachFile&amp;do=get&amp;target=marble-mouse-buttons-names.png">here</a>).
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The mouse is detected at boot time or whenever it is "hot-plugged" into a booted system, automatically. No special installation is required.
</p>
<h2><span class="mw-headline" id="Basic_function">Basic function</span></h2>
<p>The <b>Logitech Marble Mouse</b> has a trackball and four buttons, namely <i>Large left button</i>, <i>Large right button</i>, <i>Small left button</i> and <i>Small right button</i>. It does not have a scroll wheel, neither it has a <i>middle button</i> (conventionally the button placed "under the wheel"). As such, default usability is bad on modern systems and applications that rely heavily on those functions. However, it is possible to enable both of those functions with some simple configurations (see <a href="#Button_mapping">#Button mapping</a> and <a href="#Scroll_modifier">#Scroll modifier</a>).
</p>
<p>When no additional configuration is specified, buttons are mapped to these functions:
</p>
<table class="wikitable">
<caption>Default Button Actions
</caption>
<tbody>
<tr>
<th>Button </th>
<th>Result                
</th>
</tr>
<tr>
<td><i>Large left button</i></td>
<td>left-click
</td>
</tr>
<tr>
<td><i>Both large buttons</i></td>
<td>middle-click <sup>1</sup>
</td>
</tr>
<tr>
<td><i>Large right button</i></td>
<td>right-click
</td>
</tr>
<tr>
<td><i>Small left button</i></td>
<td>browser back
</td>
</tr>
<tr>
<td><i>Small right button</i></td>
<td>browser forward
</td>
</tr>
</tbody>
</table>
<ol><li>
<i>Both large buttons</i> clicked simultaneously creates a <b>middle-click</b> emulated event. This is enabled by default for pointer devices without a <i>middle button</i>.</li></ol>
<table class="wikitable">
<caption>Non-button Input Actions
</caption>
<tbody>
<tr>
<th>Action    </th>
<th>Result                
</th>
</tr>
<tr>
<td><i>Roll ball down</i></td>
<td>move cursor down
</td>
</tr>
<tr>
<td><i>Roll ball up</i></td>
<td>move cursor up
</td>
</tr>
<tr>
<td><i>Roll ball left</i></td>
<td>move cursor left
</td>
</tr>
<tr>
<td><i>Roll ball right</i></td>
<td>move cursor right
</td>
</tr>
</tbody>
</table>
<p>By default, <b>Logitech Marble Mouse</b> has no way of performing <i>scroll events</i>. However, scrolling is possible by assigning a <b><a href="#Scroll_modifier">scroll modifier</a></b>, i.e. a button that when held down trackball movements are converted to <i>scroll events</i>.
</p>
<h2><span class="mw-headline" id="Button_mapping">Button mapping</span></h2>
<p>In modern systems, the best way to remap buttons is to configure mappings in udev/hwdb that apply directly in the kernel (check <a href="../en/Map_scancodes_to_keycodes.html" title="Map scancodes to keycodes">Map scancodes to keycodes</a> for details). 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is still possible to remap button functions in upper layers (e.g. libinput X11 configuration), but it is discouraged as it can lead to inconsistent behavior.</div>  
<p>The default scancode-to-event mappings for <b>Logitech Marble Mouse</b> buttons are as follows:
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Button</th>
<th>Scancode</th>
<th>Default Event
</th>
</tr>
<tr>
<td><i>Large left button</i></td>
<td><code>KEYBOARD_KEY_90001</code></td>
<td>
<code>btn_left</code>
</td>
</tr>
<tr>
<td><i>Large right button</i></td>
<td><code>KEYBOARD_KEY_90002</code></td>
<td>
<code>btn_right</code>
</td>
</tr>
<tr>
<td><i>Small left button</i></td>
<td><code>KEYBOARD_KEY_90004</code></td>
<td>
<code>btn_side</code>
</td>
</tr>
<tr>
<td><i>Small right button</i></td>
<td><code>KEYBOARD_KEY_90005</code></td>
<td>
<code>btn_extra</code>
</td>
</tr>
</tbody>
</table>
<p>There is no mapping for <code>btn_middle</code> event by default, but it's possible to remap one of the <code>KEYBOARD_KEY_90000x</code> scancodes to the <code>btn_middle</code> event and make the respective button to behave like a proper middle button.
</p>
<p>For example, to remap the <i>Small left button</i> to middle button, create an <code>.hwdb</code> file as follows (pay attention to case and indentation):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/hwdb.d/99-logitech-marble-middle.hwdb</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">evdev:input:b0003v046DpC408*
 KEYBOARD_KEY_90004=btn_middle
</pre>
<p>After that, update the hardware database index and manually force udev to trigger the new rule:
</p>
<pre># systemd-hwdb update
# udevadm trigger
</pre>
<p>It is possible to check which event is being raised by each button press by using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evtest">evtest</a></span>. If the remapping worked, pressing <i>Small left button</i> should output events like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># evtest /dev/input/by-id/usb-Logitech_USB_Trackball-event-mouse</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Input driver version is 1.0.1
Input device ID: bus 0x3 vendor 0x46d product 0xc408 version 0x110
Input device name: "Logitech USB Trackball"
Supported events:
  Event type 0 (EV_SYN)
  Event type 1 (EV_KEY)
    Event code 272 (BTN_LEFT)
    Event code 273 (BTN_RIGHT)
    Event code 274 (BTN_MIDDLE)
    Event code 276 (BTN_EXTRA)
  Event type 2 (EV_REL)
    Event code 0 (REL_X)
    Event code 1 (REL_Y)
  Event type 4 (EV_MSC)
    Event code 4 (MSC_SCAN)
Properties:
Testing ... (interrupt to exit)
Event: time 1747653343.971300, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90004
Event: time 1747653343.971300, type 1 (EV_KEY), code 274 (BTN_MIDDLE), value 1
Event: time 1747653343.971300, -------------- SYN_REPORT ------------
Event: time 1747653344.043073, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90004
Event: time 1747653344.043073, type 1 (EV_KEY), code 274 (BTN_MIDDLE), value 0
Event: time 1747653344.043073, -------------- SYN_REPORT ------------
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Remapping the button in hwdb will make the upper layers perceive the click as if it were a real <i>middle button</i> click. So when referring to the button later, use <i>middle button</i> identifiers (e.g. in GNOME gsettings, set <code>scroll-wheel-emulation-button</code> to value <code>2</code>).</div>
<h3><span class="mw-headline" id="Troubleshooting_libinput_quirk">Troubleshooting libinput quirk</span></h3>
<p>In some systems <b>Logitech Marble Mouse</b> libinput configuration includes a <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/libinput/libinput/-/blob/87e13ebb8bd25329b381a1706560823d8e6584c2/quirks/30-vendor-logitech.quirks#L12">"quirk"</a> that completely disables <b>BTN_MIDDLE</b> events, so after remapping a button to <b>btn_middle</b> in hwdb, said button will "stop working" completely (even if <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evtest">evtest</a></span> still reports <code>BTN_MIDDLE</code> events). It's possible to check this using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libinput">libinput</a></span>, by running <code>libinput debug-events</code> as root and making sure that clicking the remapped button does not output any events.
</p>
<p>To fix that, create an override quirks file as follows (if the file already exists, append the following contents to it):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/libinput/local-overrides.quirks</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Logitech Marble Mouse Trackball]
MatchUdevType=mouse
MatchBus=usb
MatchVendor=0x046D
MatchProduct=0xC408
AttrEventCode=+BTN_MIDDLE</pre>
<p>then reboot to make sure the config takes effect.
</p>
<p>Now clicking the remapped button should output events like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># libinput debug-events</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">event6   POINTER_BUTTON               +9.968s	BTN_MIDDLE (274) pressed, seat count: 1
event6   POINTER_BUTTON               +10.072s	BTN_MIDDLE (274) released, seat count: 0
</pre>
<h2><span class="mw-headline" id="Scroll_modifier">Scroll modifier</span></h2>
<p>One huge limitation for the <b>Logitech Marble Mouse</b> is the lack of a scroll wheel or scroll ring. This limitation is overcome by assigning a <i>scroll modifier</i>: a mouse button which allows the trackball to scroll. When the scroll modifier is held, the trackball movement becomes scroll events.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> By default, the button selected as <i>scroll modifier</i> will still retain it's usual function when clicked (i.e. quick press-and-release action, instead of press-and-hold). For example, if <i>Small left button</i> is assigned as <i>scroll modifier</i>,  by default it will still perform <i>browser back</i> when clicked. That can be modified by a <i>scroll modifier lock</i> setting, that changes the behavior of the <i>scroll modifier</i> from "scroll while held" to "scroll until clicked again". In the latter case, there is no way of using the original click function of the button</div>
<p>When defining the <i>scroll modifier</i> button, the ID used to specify the button is a number associated with the event, and not directly the hardware button. That means if buttons were remapped in the kernel (<a href="#Button_mapping">#Button mapping</a>), the ID used will correspond to the remapped button. The event ID numbers (and default buttons) are in the table below: 
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Default Hardware Button</th>
<th>Event</th>
<th>Event number
</th>
</tr>
<tr>
<td><i>Large left button</i></td>
<td><code>btn_left</code></td>
<td>1
</td>
</tr>
<tr>
<td>(none)</td>
<td><code>btn_middle</code></td>
<td>2  †
</td>
</tr>
<tr>
<td><i>Large right button</i></td>
<td><code>btn_right</code></td>
<td>3
</td>
</tr>
<tr>
<td><i>Small left button</i></td>
<td><code>btn_side</code></td>
<td>8
</td>
</tr>
<tr>
<td><i>Small right button</i></td>
<td><code>btn_extra</code></td>
<td>9
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Numbers 4 to 7 refer to scroll events</li>
<li>†  Emulated middle-click (i.e. <i>Both large buttons</i> simultaneous click) is not a real event and cannot be used as <i>scroll modifier</i>. In order for middle-click button to double down as <i>scroll modifier</i>, it must be first remapped to a real button as per <a href="#Button_mapping">#Button mapping</a>
</li>
</ul>
</div>
<p>The <i>scroll modifier</i> button is implemented in libinput, but libinput is made so the upper layers are the ones responsible for configurations (check <a href="../en/Libinput.html" title="Libinput">libinput</a> for details), so the proper way to define the <i>scroll modifier</i> will depend on whether Wayland or X11 is used, and also on the desktop environment. The following sections show how to configure the <i>scroll modifier</i> (as well as other settings) in different systems.
</p>
<h2><span class="mw-headline" id="GNOME_3_and_Wayland">GNOME 3 and Wayland</span></h2>
<p>GNOME provides a limited set of configuration options for enabling a <i>scroll modifier</i> and adjusting the acceleration behaviour of the mouse cursor. These setings can be modified using <code>gsettings</code> and are also available via dconf under <code>/org/gnome/desktop/peripherals/trackball/</code>.
</p>
<p>Change the following option to assign a button as a <i>scroll modifier</i>:
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.trackball scroll-wheel-emulation-button &lt;button_id&gt;
</pre>
<p>, where <i>&lt;button_id&gt;</i> is the ID of the libinput event that should act as the modifier (see <a href="#Scroll_modifier">#Scroll modifier</a>). To deactivate the <i>scroll modifier</i>, set the &lt;button_id&gt; to 0.
</p>
<p>It's also possible to enable <i>scroll modifier lock</i> by setting:
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.trackball scroll-wheel-emulation-button-lock true
</pre>
<p>Middle-click emulation is enabled by default for <b>Logitech Marble Mouse</b> and cannot be disabled in settings. It will be disabled however when the libinput quirk is modified so that a BTN_MIDDLE event is enabled (see <a href="#Troubleshooting_libinput_quirk">#Troubleshooting libinput quirk</a>). If after that one still wishes to use middle-click emulation, it can be reenabled with:
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.trackball middle-button-emulation true
</pre>
<p>The trackball can be configured to either use a "flat" or "adaptive" acceleration profile or to just use its "default" one. To do that, set
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.trackball accel-profile &lt;profile&gt;
</pre>
<p>to the desired value.
</p>
<h2><span class="mw-headline" id="Sway_and_Wayland">Sway and Wayland</span></h2>
<p>When running Wayland, the aforementioned configuration files have no effect. Sway provides a limited set of configuration options for enabling mouse wheel emulation and adjusting the acceleration behaviour of the mouse cursor. 
In your sway configuration file, add the following section to enable scrolling with the marble while the small left button is pressed:
</p>
<pre>input "1133:50184:Logitech_USB_Trackball" {
    scroll_method on_button_down
}
</pre>
<h2><span class="mw-headline" id="Hyprland">Hyprland</span></h2>
<p>Hyprland also supports a limited set of options for wheel emulation. Add the following block your configuration: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">hyprland.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">device {
    name = logitech-usb-trackball
    scroll_method = on_button_down
}</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Check to make sure your device has the same name as the example above using <code>hyprctl devices</code>.</div>
<p>You can also configure <code>on_button_up</code> or <code>edge</code> per the <a rel="nofollow" class="external text" href="https://wiki.hyprland.org/Configuring/Variables/#input-1">Hyprland input documentation</a>.
</p>
<p>The middle click emulation when clicking both the left mouse button and the right mouse button simultaneously seems to work without additional configuration.
</p>
<h2><span class="mw-headline" id="Plasma_and_Wayland">Plasma and Wayland</span></h2>
<p>When running a Plasma Desktop session in Wayland, you can configure scrolling with <code>qdbus</code>, you just have to find the right event number, which you can determine from <code>/dev</code>, for example:
</p>
<pre>event="$(basename $(readlink /dev/input/by-id/usb-Logitech_USB_Trackball-event-mouse))"
qdbus org.kde.KWin /org/kde/KWin/InputDevice/$event org.kde.KWin.InputDevice.scrollOnButtonDown true
</pre>
<p>By default the small left button is used. If you want to use the small right button, set
</p>
<pre>qdbus org.kde.KWin /org/kde/KWin/InputDevice/$event org.kde.KWin.InputDevice.scrollButton 276
</pre>
<p>For other buttons, follow the table below:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Button    </th>
<th>Kwin button code    </th>
<th>Function (default)
</th>
</tr>
<tr>
<td>Large button left</td>
<td>272</td>
<td>normal click
</td>
</tr>
<tr>
<td>Large button right</td>
<td>273</td>
<td>right click
</td>
</tr>
<tr>
<td>Small button Left</td>
<td>275</td>
<td>browser forward
</td>
</tr>
<tr>
<td>Small button right</td>
<td>276</td>
<td>browser back
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="X11">X11</span></h2>
<p>When using an X11 based desktop, libinput can be configured using the X11 configuration files and utilities. It requires that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> be installed. Configurations can be added to file <code>/etc/X11/xorg.conf.d/10-libinput.conf</code>. If the file exists, append the contents to it's end. Some basic configuration samples are shown below.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-libinput.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Section "InputClass"
   Identifier   "Marble Mouse"
   MatchProduct "Logitech USB Trackball"
   Driver       "libinput"
   Option       "ScrollMethod"    "button"
   Option       "ScrollButton"    "8"
   Option       "MiddleEmulation" "true"
 EndSection
</pre>
<p>This:
</p>
<ul>
<li>Enables horizontal and vertical scrolling by pressing and holding the BTN_SIDE button (<i>Small left button</i> by default) while moving the trackball.</li>
<li>Enables middle-click emulation by pressing the two large buttons simultaneously.</li>
</ul>
<p>If you remapped a real button to BTN_MIDDLE as per <a href="#Button_mapping">#Button mapping</a>, you can use the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-libinput.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Section "InputClass"
   Identifier   "Marble Mouse"
   MatchProduct "Logitech USB Trackball"
   Driver       "libinput"
   Option       "ScrollMethod"    "button"
   Option       "ScrollButton"    "2"
 EndSection
</pre>
<p>This:
</p>
<ul>
<li>Enables horizontal and vertical scrolling by pressing and holding the BTN_MIDDLE event (i.e. the real button remapped to this event) while moving the trackball.</li>
<li>As the BTN_MIDDLE event (ID 2) is enabled and remapped to a real button, there is no need for "MiddleEmulation". However, it can still be enabled if necessary.</li>
</ul>
<p>Some other notable configuration options are:
</p>
<pre>Option "ScrollButtonLock" "true" # enable <i>scroll modifier lock</i> mode
Option "LeftHanded" "true" # swap left and right buttons
Option "HorizontalScrolling" "false" # disable horizontal scrolling
</pre>
<p>Check <span class="plainlinks archwiki-template-man" title="$ man 4 libinput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput.4#CONFIGURATION_DETAILS">libinput(4) § CONFIGURATION DETAILS</a></span> for a comprehensive list of options.
</p>
<h2><span class="mw-headline" id="Additional_tweaks">Additional tweaks</span></h2>
<h3>
<span id="Console_.28gpm.29"></span><span class="mw-headline" id="Console_(gpm)">Console (gpm)</span>
</h3>
<p>See <a href="../en/General_purpose_mouse.html" class="mw-redirect" title="Console mouse support">Console mouse support</a> for details. Within the console you can use <code>gpm</code> with type option set to <b>imps2</b>. Edit <b><code>/etc/conf.d/gpm</code></b> such that:
</p>
<pre>GPM_ARGS="-m /dev/input/mice -t imps2"
</pre>
<p>This lets you use the large left button for selecting text and the right button to extend the selection. The small left button acts as a middle-click; it pastes the selection.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>Arch wiki documentation: <a href="../en/Map_scancodes_to_keycodes.html" title="Map scancodes to keycodes">Map scancodes to keycodes</a>
</li>
<li>Arch wiki documentation: <a href="../en/Libinput.html" title="Libinput">libinput</a>
</li>
<li>libinput documentation: <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/">latest</a>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Mice.html" title="Category:Mice">Mice</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Logitech_Marble_Mouse&amp;oldid=834644">https://wiki.archlinux.org/index.php?title=Logitech_Marble_Mouse&amp;oldid=834644</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 May 2025, at 15:26.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
