<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ConnMan - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ConnMan rootpage-ConnMan skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Front-ends" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Front-ends">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Front-ends</span>
				</div>
			</a>
			
			<ul id="toc-Front-ends-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Wi-Fi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Wi-Fi">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Wi-Fi</span>
				</div>
			</a>
			
			<ul id="toc-Wi-Fi-sublist" class="vector-toc-list">
				<li id="toc-Enabling_and_disabling_Wi-Fi" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Enabling_and_disabling_Wi-Fi">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Enabling and disabling Wi-Fi</span>
				</div>
			</a>
			
			<ul id="toc-Enabling_and_disabling_Wi-Fi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connecting_to_an_open_access_point" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connecting_to_an_open_access_point">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Connecting to an open access point</span>
				</div>
			</a>
			
			<ul id="toc-Connecting_to_an_open_access_point-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connecting_to_a_protected_access_point" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connecting_to_a_protected_access_point">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.3</span>
					<span>Connecting to a protected access point</span>
				</div>
			</a>
			
			<ul id="toc-Connecting_to_a_protected_access_point-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_iwd_instead_of_wpa_supplicant" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_iwd_instead_of_wpa_supplicant">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.4</span>
					<span>Using iwd instead of wpa_supplicant</span>
				</div>
			</a>
			
			<ul id="toc-Using_iwd_instead_of_wpa_supplicant-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Settings" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Settings">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Settings</span>
				</div>
			</a>
			
			<ul id="toc-Settings-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Technologies" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Technologies">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Technologies</span>
				</div>
			</a>
			
			<ul id="toc-Technologies-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Avoid_changing_the_hostname" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Avoid_changing_the_hostname">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>Avoid changing the hostname</span>
				</div>
			</a>
			
			<ul id="toc-Avoid_changing_the_hostname-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Prefer_Ethernet_to_wireless" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prefer_Ethernet_to_wireless">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>Prefer Ethernet to wireless</span>
				</div>
			</a>
			
			<ul id="toc-Prefer_Ethernet_to_wireless-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exclusive_connection" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Exclusive_connection">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.3</span>
					<span>Exclusive connection</span>
				</div>
			</a>
			
			<ul id="toc-Exclusive_connection-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connecting_to_eduroam_(802.1X)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Connecting_to_eduroam_(802.1X)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.4</span>
					<span>Connecting to eduroam (802.1X)</span>
				</div>
			</a>
			
			<ul id="toc-Connecting_to_eduroam_(802.1X)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Avoiding_conflicts_with_local_DNS_server" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Avoiding_conflicts_with_local_DNS_server">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.5</span>
					<span>Avoiding conflicts with local DNS server</span>
				</div>
			</a>
			
			<ul id="toc-Avoiding_conflicts_with_local_DNS_server-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DNS_management" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#DNS_management">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6</span>
					<span>DNS management</span>
				</div>
			</a>
			
			<ul id="toc-DNS_management-sublist" class="vector-toc-list">
				<li id="toc-/etc/resolv.conf" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#/etc/resolv.conf">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6.1</span>
					<span>/etc/resolv.conf</span>
				</div>
			</a>
			
			<ul id="toc-/etc/resolv.conf-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_systemd-resolved" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_systemd-resolved">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.6.2</span>
					<span>Using systemd-resolved</span>
				</div>
			</a>
			
			<ul id="toc-Using_systemd-resolved-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Blacklist_interfaces" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Blacklist_interfaces">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.7</span>
					<span>Blacklist interfaces</span>
				</div>
			</a>
			
			<ul id="toc-Blacklist_interfaces-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Error_/net/connman/technology/wifi:_Not_supported" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_/net/connman/technology/wifi:_Not_supported">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Error /net/connman/technology/wifi: Not supported</span>
				</div>
			</a>
			
			<ul id="toc-Error_/net/connman/technology/wifi:_Not_supported-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error_/net/connman/technology/wifi:_No_carrier" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_/net/connman/technology/wifi:_No_carrier">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Error /net/connman/technology/wifi: No carrier</span>
				</div>
			</a>
			
			<ul id="toc-Error_/net/connman/technology/wifi:_No_carrier-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-&quot;Not_registered&quot;,_or_&quot;Method_&quot;Connect&quot;_with_signature_..._doesn't_exist&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#&quot;Not_registered&quot;,_or_&quot;Method_&quot;Connect&quot;_with_signature_..._doesn't_exist&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>"Not registered", or "Method "Connect" with signature ... doesn't exist"</span>
				</div>
			</a>
			
			<ul id="toc-&quot;Not_registered&quot;,_or_&quot;Method_&quot;Connect&quot;_with_signature_..._doesn't_exist&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Error_Failed_to_set_hostname/domainname" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Error_Failed_to_set_hostname/domainname">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.4</span>
					<span>Error Failed to set hostname/domainname</span>
				</div>
			</a>
			
			<ul id="toc-Error_Failed_to_set_hostname/domainname-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unknown_route_on_connection" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unknown_route_on_connection">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.5</span>
					<span>Unknown route on connection</span>
				</div>
			</a>
			
			<ul id="toc-Unknown_route_on_connection-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-File_/proc/net/pnp_doesn't_exist" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#File_/proc/net/pnp_doesn't_exist">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.6</span>
					<span>File /proc/net/pnp doesn't exist</span>
				</div>
			</a>
			
			<ul id="toc-File_/proc/net/pnp_doesn't_exist-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">ConnMan</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a></li>
<li><a href="../en/Wireless_network_configuration.html" class="mw-redirect" title="Wireless network configuration">Wireless network configuration</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://web.archive.org/web/20210224075615/https://01.org/connman">ConnMan</a> is a command-line network manager designed for use with embedded devices and fast resolve times. It is modular through a <a rel="nofollow" class="external text" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/plugins">plugin architecture</a>, but has native <a href="https://en.wikipedia.org/wiki/DHCP" class="extiw" title="wikipedia:DHCP">DHCP</a> and <a href="../en/Category:Network_Time_Protocol.html" class="mw-redirect" title="NTP">NTP</a> support.<a rel="nofollow" class="external autonumber" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/src/">[1]</a>
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span> package. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openvpn">openvpn</a></span> are optional dependencies required for Wi-Fi, Bluetooth, and VPN functionality respectively.
</p>
<p>Before <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enabling">enabling</a> <code>connman.service</code>, ensure any existing <a href="../en/Network_configuration.html" title="Network configuration">network configuration</a> is disabled.
</p>
<p>ConnMan comes with the <span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span> CLI, there are various <a href="#Front-ends">#Front-ends</a> available.
</p>
<div class="mw-heading mw-heading3"><h3 id="Front-ends">Front-ends</h3></div>
<ul><li>
<b>cmst</b> — Qt GUI for ConnMan.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/andrew-bibb/cmst">https://github.com/andrew-bibb/cmst</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cmst/">cmst</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>connman-ncurses</b> — Simple ncurses UI for ConnMan; not all of connman functionality is implemented, but usable (with X or from terminal without X), see the <a rel="nofollow" class="external text" href="https://github.com/eurogiciel-oss/connman-json-client/wiki">wiki</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/eurogiciel-oss/connman-json-client">https://github.com/eurogiciel-oss/connman-json-client</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-ncurses-git/">connman-ncurses-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>ConnMan-UI</b> — GTK3 client applet.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/tbursztyka/connman-ui">https://github.com/tbursztyka/connman-ui</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-ui-git/">connman-ui-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>rofi-connman</b> — rofi/dmenu-powered frontend</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/sourcemage/rofi-connman">https://github.com/sourcemage/rofi-connman</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rofi-connman/">rofi-connman</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Econnman</b> — Enlightenment desktop panel applet.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.enlightenment.org">https://www.enlightenment.org</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/econnman/">econnman</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading2"><h2 id="Usage">Usage</h2></div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Only Wired and Wi-Fi plugins are described. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:ConnMan.html">Talk:ConnMan</a>)</div>
</div>
<p>ConnMan comes with the <code>connmanctl</code> command-line interface, see <span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span>.
If you do not provide any commands <code>connmanctl</code> starts as an interactive shell.
</p>
<p><i>ConnMan</i> automatically handles wired connections.
</p>
<div class="mw-heading mw-heading3"><h3 id="Wi-Fi">Wi-Fi</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Enabling_and_disabling_Wi-Fi">Enabling and disabling Wi-Fi</h4></div>
<p>To check if Wi-Fi is enabled you can run <code>connmanctl technologies</code> and check for the line that says <code>Powered: True/False</code>.
To power the Wi-Fi on you can run <code>connmanctl enable wifi</code> or if you need to disable it you can run <code>connmanctl disable wifi</code>.
Other ways to enable Wi-Fi could include using the <code>Fn</code> keys on the laptop to turn it on or running <code>ip link set <i>interface</i> up</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Connecting_to_an_open_access_point">Connecting to an open access point</h4></div>
<p>To scan the network <code>connmanctl</code> accepts simple names called <i>technologies</i>. To scan for nearby Wi-Fi networks:
</p>
<pre>$ connmanctl scan wifi
</pre>
<p>To list the available networks found after a scan run (example output):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ connmanctl services</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">*AO MyNetwork               wifi_dc85de828967_68756773616d_managed_psk
    OtherNET                wifi_dc85de828967_38303944616e69656c73_managed_psk
    AnotherOne              wifi_dc85de828967_3257495245363836_managed_wep
    FourthNetwork           wifi_dc85de828967_4d7572706879_managed_wep
    AnOpenNetwork           wifi_dc85de828967_4d6568657272696e_managed_none
</pre>
<p>To connect to an open network, use the second field beginning with <code>wifi_</code>:
</p>
<pre>$ connmanctl connect wifi_dc85de828967_4d6568657272696e_managed_none
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> Network names can be tab-completed.</div>
<p>You should now be connected to the network. Check using <code>connmanctl state</code> or <code>ip addr</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Connecting_to_a_protected_access_point">Connecting to a protected access point</h4></div>
<p>For protected access points you will need to provide some information to the ConnMan daemon, at the very least a password or a passphrase.
</p>
<p>The commands in this section show how to run <code>connmanctl</code> in interactive mode, it is required for running the <code>agent</code> command.  To start interactive mode simply type:
</p>
<pre>$ connmanctl
</pre>
<p>You then proceed almost as above, first scan for any Wi-Fi <i>technologies</i>:
</p>
<pre>connmanctl&gt; scan wifi
</pre>
<p>To list services:
</p>
<pre>connmanctl&gt; services
</pre>
<p>Now you need to register the agent to handle user requests.  The command is:
</p>
<pre>connmanctl&gt; agent on
</pre>
<p>You now need to connect to one of the protected services.  To do this easily, just use tab completion for the <code>wifi_</code> service.  If you were connecting to OtherNET in the example above you would type:
</p>
<pre>connmanctl&gt; connect wifi_dc85de828967_38303944616e69656c73_managed_psk
</pre>
<p>The agent will then ask you to provide any information the daemon needs to complete the connection.  The
information requested will vary depending on the type of network you are connecting to.   The agent
will also print additional data about the information it needs as shown in the example below.
</p>
<pre>Agent RequestInput wifi_dc85de828967_38303944616e69656c73_managed_psk
  Passphrase = [ Type=psk, Requirement=mandatory ]
  Passphrase?
</pre>
<p>Provide the information requested, in this example the passphrase, and then type:
</p>
<pre>connmanctl&gt; quit
</pre>
<p>If the information you provided is correct you should now be connected to the protected access point.
</p>
<div class="mw-heading mw-heading4"><h4 id="Using_iwd_instead_of_wpa_supplicant">Using iwd instead of wpa_supplicant</h4></div>
<p>ConnMan can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> to connect to wireless networks. As <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span> will start <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> when it finds it, it is recommended to uninstall <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span>.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:View-refresh-red.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is out of date.</b></p>
<div>
<b>Reason:</b> A simpler method (rolling packages) is to use a drop-in file. (Discuss in <a href="../en/Talk:ConnMan.html#connman_+_iwd_as_backend" title="Talk:ConnMan">Talk:ConnMan#connman_+_iwd_as_backend</a>)</div>
</div>
<p>Note that ConnMan is probably unnecessary for IWD users, as IWD can <a href="../en/Iwd.html#Enable_built-in_network_configuration" title="Iwd">handle its own network configuration</a>, in which case <code>connmand</code> should be stopped.
</p>
<p>Currently the <code>-i</code>-option of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> seems to cause that the Wi-Fi interface gets hidden from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span>.
</p>
<p>Create the following service file which should cause <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span> to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> to connect to wireless networks, regardless if <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> is installed.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/connman_iwd.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Connection service
DefaultDependencies=false
Conflicts=shutdown.target
RequiresMountsFor=/var/lib/connman
After=dbus.service network-pre.target systemd-sysusers.service iwd.service
Before=network.target multi-user.target shutdown.target
Wants=network.target
Requires=iwd.service

[Service]
Type=dbus
BusName=net.connman
Restart=on-failure
ExecStart=/usr/bin/connmand --wifi=iwd_agent -n
StandardOutput=null
CapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE CAP_NET_RAW CAP_SYS_TIME CAP_SYS_MODULE
ProtectHome=true
ProtectSystem=true

[Install]
WantedBy=multi-user.target</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> the <code>connman_iwd</code> service.
</p>
<p>Advantage of using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> instead of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> is, that the ping times seem to be much more consistent and the connection seems to be more reliable.
</p>
<div class="mw-heading mw-heading3"><h3 id="Settings">Settings</h3></div>
<p>Settings and profiles are automatically created for networks the user connects to often. They contain fields for the passphrase, essid and other information. Profile settings are stored in directories under <code>/var/lib/connman/</code> by their service name. To view all network profiles run:
</p>
<pre># cat /var/lib/connman/*/settings
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> This command requires a <a href="../en/Sudo.html#Login_shell" title="Sudo">root shell</a>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> VPN settings can be found in <code>/var/lib/connman-vpn/</code>.</div>
<div class="mw-heading mw-heading3"><h3 id="Technologies">Technologies</h3></div>
<p>Various hardware interfaces are referred to as <i>Technologies</i> by ConnMan.
</p>
<p>To list available <i>technologies</i> run:
</p>
<pre>$ connmanctl technologies
</pre>
<p>To get just the types by their name one can use this one liner:
</p>
<pre>$ connmanctl technologies | awk '/Type/ { print $NF }'
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  The field <code>Type = tech_name</code> provides the technology type used with <code>connmanctl</code> commands</div>
<p>To interact with them one must refer to the technology by type. <i>Technologies</i> can be toggled on/off with:
</p>
<pre>$ connmanctl enable <i>technology_type</i>
</pre>
<p>and:
</p>
<pre>$ connmanctl disable <i>technology_type</i>
</pre>
<p>For example to toggle off Wi-Fi:
</p>
<pre>$ connmanctl disable wifi
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> connman grabs rfkill events. It is most likely impossible to use <code>rfkill</code> or <code>bluetoothctl</code> to (un)block devices, yet hardware keys may still work.<a rel="nofollow" class="external autonumber" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/doc/overview-api.txt#n406">[2]</a> Always use <code>connmanctl enable|disable</code> </div>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Avoid_changing_the_hostname">Avoid changing the hostname</h3></div>
<p>By default, ConnMan changes the transient hostname (see <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>) on a per network basis. This can create problems with X authority: If ConnMan changes your hostname to something else than the one used to generate the xauth magic cookie, then it will become impossible to create new windows. Symptoms are error messages like <code>No protocol specified</code> and <code>Can't open display: :0.0</code>. Manually resetting the host name fixes this, but a permanent solution is to prevent ConnMan from changing your host name in the first place. This can be accomplished by adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
AllowHostnameUpdates=false
</pre>
<p>Make sure to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> the <code>connman.service</code> after changing this file.
</p>
<p>For testing purposes it is recommended to watch the <a href="../en/Systemd_journal.html" class="mw-redirect" title="Systemd journal">systemd journal</a> and plug the network cable a few times to see the action.
</p>
<div class="mw-heading mw-heading3"><h3 id="Prefer_Ethernet_to_wireless">Prefer Ethernet to wireless</h3></div>
<p>By default ConnMan does not prefer Ethernet over wireless, which can lead to it deciding to stick with a slow wireless network even when ethernet is available. You can tell connman to prefer Ethernet adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
PreferredTechnologies=ethernet,wifi
</pre>
<div class="mw-heading mw-heading3"><h3 id="Exclusive_connection">Exclusive connection</h3></div>
<p>ConnMan allows you to be connected to both Ethernet and wireless at the same time. This can be useful as it allows programs that established a connection over Wi-Fi to stay connected even after you connect to ethernet. But some people prefer to have only a single unambiguous connection active at a time. That behavior can be activated by adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
SingleConnectedTechnology=true
</pre>
<div class="mw-heading mw-heading3"><h3 id="Connecting_to_eduroam_(802.1X)">
<span id="Connecting_to_eduroam_.28802.1X.29"></span>Connecting to eduroam (802.1X)</h3></div>
<p><a href="../en/WPA2_Enterprise.html" class="mw-redirect" title="WPA2 Enterprise">WPA2 Enterprise</a> networks such as eduroam require a separate configuration file before <a href="#Wi-Fi">connecting</a> to the network. For example, create <code>/var/lib/connman/eduroam.config</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">eduroam.config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[service_eduroam]
Type=wifi
Name=eduroam
EAP=peap
CACertFile=/etc/ssl/certs/<i>certificate.cer</i>
Phase2=<i>MSCHAPV2</i>
Identity=<i>user@foo.edu</i>
AnonymousIdentity=<i>anonymous@foo.edu</i>
Passphrase=<i>password</i></pre>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>wpa_supplicant.service</code> and <code>connman.service</code> to connect to the new network.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Options are case-sensitive, e.g. <code>EAP = ttls</code> instead of <code>EAP = TTLS</code>.<a rel="nofollow" class="external autonumber" href="https://together.jolla.com/question/55969/connman-fails-due-to-case-sensitive-settings/">[3]</a>
</li>
<li>Consult the institution hosting the eduroam network for various settings such as username, password, <code>EAP</code>, <code>Phase2output</code>, and needed certificates.</li>
</ul>
</div>
<p>For more information, see <span class="plainlinks archwiki-template-man" title="$ man 5 connman-service.config"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connman-service.config.5">connman-service.config(5)</a></span> and <a href="../en/Wireless_network_configuration.html#eduroam" class="mw-redirect" title="Wireless network configuration">Wireless network configuration#eduroam</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Avoiding_conflicts_with_local_DNS_server">Avoiding conflicts with local DNS server</h3></div>
<p>If you are running a local DNS server, it will likely have problems binding to port 53 (TCP and/or UDP) after installing Connman. This is because Connman includes its own DNS proxy which also tries to bind to those ports. If you see log messages from <a href="../en/BIND.html" title="BIND">BIND</a> or <a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a> like
</p>
<pre>named[529]: could not listen on UDP socket: address in use
</pre>
<p>this could be the problem. To verify which application is listening on the ports, you can execute <code>ss -tulpn</code> as root.
</p>
<p>To fix this connmand can be started with the options <code>-r</code> or <code>--nodnsproxy</code> by <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">overriding</a> the systemd service file. Create the folder <code>/etc/systemd/system/connman.service.d/</code> and add the file <code>disable_dns_proxy.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/connman.service.d/disable_dns_proxy.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=/usr/bin/connmand -n --nodnsproxy</pre>
<p>Make sure to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Reload">reload</a> the systemd daemon and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> the <code>connman.service</code>, and your DNS proxy, after adding this file.
</p>
<div class="mw-heading mw-heading3"><h3 id="DNS_management">DNS management</h3></div>
<div class="mw-heading mw-heading4"><h4 id="/etc/resolv.conf">
<span id=".2Fetc.2Fresolv.conf"></span>/etc/resolv.conf</h4></div>
<p>If you want to know the DNS servers received from DHCP while keeping a custom <code>/etc/resolv.conf</code>, then append <code>RuntimeDirectory=connman</code> to the above file (clear the <code>ExecStart</code> lines if not needed). Now connman will write them to <code>/var/run/connman/resolv.conf</code> instead.
</p>
<div class="mw-heading mw-heading4"><h4 id="Using_systemd-resolved">Using systemd-resolved</h4></div>
<p>ConnMan has <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> support, which replaces its internal DNS proxy with a module that configures systemd-resolved with the correct DNS servers and search domains for the interface whenever it connects to a network. Using <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> is known to improve compatibility with <a href="../en/Tailscale.html" title="Tailscale">Tailscale</a> since ConnMan's internal proxy and Tailscale can fight over <code>/etc/resolv.conf</code>, which is better mediated by both talking to resolved instead.
</p>
<p>To use this support, ConnMan needs to be rebuilt: checkout the package using the <a href="../en/Arch_build_system.html" title="Arch build system">Arch build system</a>, set the configure flag <code>--with-dns-backend=systemd-resolved</code>, rebuild the package, and install the modified version. After installing the modified package, <a href="../en/Systemd-resolved.html#DNS" title="Systemd-resolved">set up the stub resolver</a> as <code>/etc/resolv.conf</code> then restart <code>connman.service</code>, <code>systemd-resolved.service</code>, and (if using it) <code>tailscale.service</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Blacklist_interfaces">Blacklist interfaces</h3></div>
<p>If something like <a href="../en/Docker.html" title="Docker">Docker</a> is creating virtual interfaces Connman may attempt to connect to one of these instead of your physical adapter if the connection drops. A simple way of avoiding this is to blacklist the interfaces you do not want to use. Connman will by default blacklist interfaces starting with <code>vmnet</code>, <code>vboxnet</code>, <code>virbr</code> and <code>ifb</code>, so those need to be included in the new blacklist as well.
</p>
<p>Blacklisting interface names is also useful to avoid a race condition where connman may access <code>eth#</code> or <code>wlan#</code> before systemd/udev can change it to use a <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">Predictable Network Interface Names</a> like <code>enp4s0</code>. Blacklisting the conventional (and unpredictable) interface prefixes makes connman wait until they are renamed.
</p>
<p>If it does not already exist, create <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
NetworkInterfaceBlacklist=vmnet,vboxnet,virbr,ifb,docker,veth,eth,wlan
</pre>
<p>Once <code>connman.service</code> has been <a href="../en/Systemd.html#Using_units" title="Systemd">restarted</a> this will also hide all the <code>veth#######</code> interfaces from GUI tools like Econnman.
</p>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Error_/net/connman/technology/wifi:_Not_supported">
<span id="Error_.2Fnet.2Fconnman.2Ftechnology.2Fwifi:_Not_supported"></span>Error /net/connman/technology/wifi: Not supported</h3></div>
<p>Currently, connman does not support scanning for Wi-Fi networks with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span>, at the moment this functionality is available with <code>wpa_supplicant</code> only (see <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20220916045152mp_/https://lists.01.org/hyperkitty/list/iwd@lists.01.org/thread/OISUI4LVSZ5UQ5FA6S3IMDKOJN4NYFBZ/">[4]</a>). To connect to Wi-Fi with iwd, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <code>iwd.service</code> and then either follow instructions in <a href="../en/Iwd.html" title="Iwd">Iwd</a> to connect to the Wi-Fi or you can also use any of the <a href="#Front-ends">#Front-ends</a>. In order to have Wi-Fi scanning support from within connman, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> and then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>connman.service</code> after you stop <code>iwd.service</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Error_/net/connman/technology/wifi:_No_carrier">
<span id="Error_.2Fnet.2Fconnman.2Ftechnology.2Fwifi:_No_carrier"></span>Error /net/connman/technology/wifi: No carrier</h3></div>
<p>You have enabled your Wi-Fi with:
</p>
<pre>$ connmanctl enable wifi
</pre>
<p>If wireless scanning leads to above error, this may be due to an <a rel="nofollow" class="external text" href="https://web.archive.org/web/20210308010333/https://01.org/jira/browse/CM-670">unresolved bug</a>.
If it does not resolve even though wireless <a rel="nofollow" class="external text" href="https://lists.01.org/pipermail/connman/2014-December/019203.html">preconditions</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-09-16—domain name not resolved]</sup> are met, try again after disabling competing network managers and rebooting.
</p>
<p>This may also simply be caused by the wireless interface being blocked by <a href="../en/Network_configuration/Wireless.html#Rfkill_caveat" class="mw-redirect" title="Rfkill">rfkill</a>, which can occur after restarting wpa_supplicant. Use <code>rfkill list</code> to check.
</p>
<div class="mw-heading mw-heading3"><h3 id="&quot;Not_registered&quot;,_or_&quot;Method_&quot;Connect&quot;_with_signature_..._doesn't_exist&quot;">
<span id=".22Not_registered.22.2C_or_.22Method_.22Connect.22_with_signature_..._doesn.27t_exist.22"></span>"Not registered", or "Method "Connect" with signature ... doesn't exist"</h3></div>
<p>When issuing commands, you may see errors like the following:
</p>
<p>From a <code>connmanctl</code> prompt:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">connmanctl&gt; connect <i>service_id</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Error /net/connman/service/<i>SSID</i>: Method "Connect" with signature "" on interface "net.connman.Service" doesn't exist
</pre>
<p>From the shell:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># connmanctl connect <i>service_id</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Error /net/connman/service/<i>service_id</i>: Not registered
</pre>
<p>These errors are produced because the agent is not running. Start the agent from a <code>connmanctl</code> prompt with <code>agent on</code>, and try again.
</p>
<div class="mw-heading mw-heading3"><h3 id="Error_Failed_to_set_hostname/domainname">
<span id="Error_Failed_to_set_hostname.2Fdomainname"></span>Error Failed to set hostname/domainname</h3></div>
<p>connman can fail to set hostname or domainname due to lack of <code>CAP_SYS_ADMIN</code>.
</p>
<p>You will need to <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> <code>connman.service</code> (and other like <code>connman-vpn.service</code> , etc ...) to modify the <code>CapabilityBoundingSet</code> line to add <code>CAP_SYS_ADMIN</code>.
</p>
<p>See <code>EPERM</code> under <span class="plainlinks archwiki-template-man" title="$ man 2 sethostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sethostname.2#ERRORS">sethostname(2) § ERRORS</a></span> or <span class="plainlinks archwiki-template-man" title="$ man 2 setdomainname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setdomainname.2#ERRORS">setdomainname(2) § ERRORS</a></span> for more details.
</p>
<div class="mw-heading mw-heading3"><h3 id="Unknown_route_on_connection">Unknown route on connection</h3></div>
<p>A log entry for an unknown route appears each time a connect is done. For example:
</p>
<pre>...
connmand[473]: wlp2s0 {add} route 82.165.8.211 gw 10.20.30.4 scope 0 &lt;UNIVERSE&gt;
connmand[473]: wlp2s0 {del} route 82.165.8.211 gw 10.20.30.4 scope 0 &lt;UNIVERSE&gt;
...
</pre>
<p>It likely is Connman performing a connectivity check to the ipv4.connman.net host (which resolves to the IP address <code>82.165.8.211</code> at current).<a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20210308011519/https://01.org/jira/browse/CM-657">[5]</a> See the <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/network/connman/connman.git/tree/README#n388">Connman README</a> for more information on why and what - apart from the connecting IP - it transmits.
This behaviour can be prevented by adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
EnableOnlineCheck=false
</pre>
<p>This setting will cause that the default device will not switch to ONLINE, but stay in READY state.<span class="plainlinks archwiki-template-man" title="$ man 5 connman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connman.conf.5">connman.conf(5)</a></span> However, the connection will still be functional.
</p>
<p>The connection itself is also functional (unless behind a captive portal) if the check is blocked by a firewall rule:
</p>
<pre># ip6tables -A OUTPUT -d ipv6.connman.net -j REJECT
# iptables -A OUTPUT -d ipv4.connman.net,ipv6.connman.net -j REJECT
</pre>
<div class="mw-heading mw-heading3"><h3 id="File_/proc/net/pnp_doesn't_exist">
<span id="File_.2Fproc.2Fnet.2Fpnp_doesn.27t_exist"></span>File /proc/net/pnp doesn't exist</h3></div>
<p>If you see this in your error log it is caused by bug in connman <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=227689#p1766928">[6]</a> and can be ignored.<a rel="nofollow" class="external text" href="https://web.archive.org/web/20210308035255/https://01.org/jira/browse/CM-690">Bug Report</a>
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul><li>
<a rel="nofollow" class="external text" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/doc">Git repository documentation</a> — for further detailed documentation</li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Network_managers.html" title="Category:Network managers">Network managers</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ConnMan&amp;oldid=857731">https://wiki.archlinux.org/index.php?title=ConnMan&amp;oldid=857731</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 20 December 2025, at 19:59.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">ConnMan</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
