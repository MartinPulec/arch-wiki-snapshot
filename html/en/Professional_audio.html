<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Professional audio - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Professional_audio rootpage-Professional_audio skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Getting_started" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Getting_started">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Getting started</div>
		</a>
		
		<ul id="toc-Getting_started-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-System_configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#System_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>System configuration</div>
		</a>
		
		<ul id="toc-System_configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Choosing_a_sound_server" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Choosing_a_sound_server">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Choosing a sound server</div>
		</a>
		
			<button aria-controls="toc-Choosing_a_sound_server-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Choosing a sound server subsection</span>
			</button>
		
		<ul id="toc-Choosing_a_sound_server-sublist" class="vector-toc-list">
			<li id="toc-PipeWire-only" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PipeWire-only">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>PipeWire-only</div>
			</a>
			
			<ul id="toc-PipeWire-only-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PipeWire-as-JACK-Client" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PipeWire-as-JACK-Client">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>PipeWire-as-JACK-Client</div>
			</a>
			
			<ul id="toc-PipeWire-as-JACK-Client-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-JACK-only" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#JACK-only">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>JACK-only</div>
			</a>
			
			<ul id="toc-JACK-only-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-JACK_parameters" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#JACK_parameters">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>JACK parameters</div>
		</a>
		
		<ul id="toc-JACK_parameters-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Latency_verification" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Latency_verification">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Latency verification</div>
		</a>
		
			<button aria-controls="toc-Latency_verification-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Latency verification subsection</span>
			</button>
		
		<ul id="toc-Latency_verification-sublist" class="vector-toc-list">
			<li id="toc-Latency_sources" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Latency_sources">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Latency sources</div>
			</a>
			
			<ul id="toc-Latency_sources-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Conversion_latency" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Conversion_latency">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Conversion latency</div>
			</a>
			
			<ul id="toc-Conversion_latency-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Measuring_latency" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Measuring_latency">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Measuring latency</div>
			</a>
			
			<ul id="toc-Measuring_latency-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Realtime_kernel" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Realtime_kernel">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Realtime kernel</div>
		</a>
		
			<button aria-controls="toc-Realtime_kernel-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Realtime kernel subsection</span>
			</button>
		
		<ul id="toc-Realtime_kernel-sublist" class="vector-toc-list">
			<li id="toc-Pros_and_cons" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pros_and_cons">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Pros and cons</div>
			</a>
			
			<ul id="toc-Pros_and_cons-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Compilation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Compilation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Compilation</div>
			</a>
			
			<ul id="toc-Compilation-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Tips and tricks</div>
		</a>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Applications" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Applications">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Applications</div>
		</a>
		
		<ul id="toc-Applications-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Hardware" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Hardware">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Hardware</div>
		</a>
		
		<ul id="toc-Hardware-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Get_help" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Get_help">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Get help</div>
		</a>
		
			<button aria-controls="toc-Get_help-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Get help subsection</span>
			</button>
		
		<ul id="toc-Get_help-sublist" class="vector-toc-list">
			<li id="toc-Mailing_lists" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mailing_lists">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.1</span>Mailing lists</div>
			</a>
			
			<ul id="toc-Mailing_lists-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-IRC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#IRC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.2</span>IRC</div>
			</a>
			
			<ul id="toc-IRC-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Professional audio</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Professional_audio.html" title="Professional audio – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%97%E3%83%AD%E3%83%95%E3%82%A7%E3%83%83%E3%82%B7%E3%83%A7%E3%83%8A%E3%83%AB%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA" title="プロフェッショナルオーディオ – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Professional_audio.html" title="Professional audio – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/%E4%B8%93%E4%B8%9A%E9%9F%B3%E9%A2%91" title="专业音频 – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Professional_audio/Examples.html" title="Professional audio/Examples">/Examples</a></li>
<li><a href="../en/Professional_audio/Development.html" title="Professional audio/Development">/Development</a></li>
<li><a href="../en/Professional_audio/Hardware.html" title="Professional audio/Hardware">/Hardware</a></li>
<li><a href="../en/Sound_system.html" title="Sound system">Sound system</a></li>
<li><a href="../en/JACK_Audio_Connection_Kit.html" class="mw-redirect" title="JACK">JACK</a></li>
<li><a href="../en/Realtime_kernel_patchset.html" class="mw-redirect" title="Realtime kernel">Realtime kernel</a></li>
<li><a href="../en/Envy24control.html" title="Envy24control">envy24control</a></li>
</ul>
</div>
<p>This article describes how to configure your system for <a href="https://en.wikipedia.org/wiki/Multitrack_recording#With_computers" class="extiw" title="wikipedia:Multitrack recording">recording</a>, mixing and playing back audio as well as using it to synthesize and generate sounds. Those activities are subsumed under the term <a href="https://en.wikipedia.org/wiki/Professional_audio" class="extiw" title="wikipedia:Professional audio">professional audio</a> (pro audio) and typically require low <a href="https://en.wikipedia.org/wiki/Latency_(audio)" class="extiw" title="wikipedia:Latency (audio)">latency</a> performance.
</p>
<p>Most applications do not need as much high-end hardware, compared to video production or gaming. Almost any computer produced since late 2012 can be optimized for pro audio. Please refer to Ardour manual's page on <a rel="nofollow" class="external text" href="https://manual.ardour.org/setting-up-your-system/the-right-computer-system-for-digital-audio/">The Right Computer System for Digital Audio</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you are looking for a guide on how to actually make music on GNU/Linux, search the <a rel="nofollow" class="external text" href="https://linuxmusicians.com">LinuxMusicians</a> forums.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Getting_started">Getting started</span></h2>
<p>After reading the <a href="../en/Sound_system.html" title="Sound system">Sound system</a> article, you might be aware that <a href="../en/Advanced_Linux_Sound_Architecture.html" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture</a> or ALSA is part of the Linux kernel and used for <a href="../en/Sound_system.html#Drivers_and_interface" title="Sound system">drivers and interface</a> on Arch Linux as the default Sound system. ALSA should work out of the box with a default Arch installation. If this is not the case, you must solve the problem before going any further.
</p>
<p>However, "no sound" is likely a simple <a href="../en/Advanced_Linux_Sound_Architecture.html#Unmuting_the_channels" title="Advanced Linux Sound Architecture">unmuting the channels</a> problem in ALSA's mixer configuration. If you are using multiple audio devices (e.g. a USB audio interface and keep in mind integrated soundcards), you would want to <a href="../en/Advanced_Linux_Sound_Architecture.html#Set_the_default_sound_card" title="Advanced Linux Sound Architecture">set the default sound card</a>.
</p>
<p><b>Have I set up sound properly?</b>
</p>
<pre>$ speaker-test
</pre>
<dl><dd>See <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> for troubleshooting.</dd></dl>
<p>A vanilla Arch Linux kernel is sufficient for low latency operation in most use cases. Applying further <a href="#System_configuration">#System configuration</a> will be necessary only if you are experiencing audio drop-outs (also known as glitches) or if you need (or want) to reach ultra-low latency operations.
</p>
<p>To finish with optimizations, these ultra low latency operations may require you to set up a <a href="#Realtime_kernel">#Realtime kernel</a>.
</p>
<p>Although some pro audio software can work with ALSA directly, most of the <a href="#Applications">#Applications</a> mentioned later are JACK Audio Connection Kit or <a href="../en/JACK_Audio_Connection_Kit.html" class="mw-redirect" title="JACK">JACK</a> clients. Therefore, you will need to install and setup one of the available <a href="../en/Sound_system.html#Sound_servers" class="mw-redirect" title="Sound server">sound servers</a> which are outlined soon.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> However, if you are new to Arch Linux, just finished the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a> and cannot wait to actually start making music, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/pro-audio/">pro-audio</a></span> <a href="../en/Meta_package_and_package_group.html" class="mw-redirect" title="Package group">package group</a> as well as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/realtime-generic-setup/">realtime-generic-setup</a></span><sup><small>AUR</small></sup> and reboot. Refer to the <a href="#PipeWire-only">#PipeWire-only</a> section for a quick setup and find your <a href="#Applications">#Applications</a> for music and sound production.</div>
<h2><span class="mw-headline" id="System_configuration">System configuration</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  The quality of information on best practices and system configuration vary a great deal (and are outdated or sometimes even contradictory in many locations). While for some systems and setups a higher level of optimization is necessary, for most users this will not be the case. Try a standard setup with the vanilla Arch Linux kernel first. Only if you require a setup with lower latency and greater stability, start considering optimizations!</div>
<p>You may want to consider the following often seen system optimizations:
</p>
<ul>
<li>Setting the <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a> governor to <i>performance</i>.</li>
<li>
<a href="../en/Realtime_process_management.html#Configuring_PAM" title="Realtime process management">Configuring pam_limits</a> (e.g. by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=realtime-privileges">realtime-privileges</a></span> and adding your user to the <code>realtime</code> group).</li>
<li>Using the <code>threadirqs</code> <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> (consult <a rel="nofollow" class="external autonumber" href="https://docs.kernel.org/admin-guide/kernel-parameters.html">[1]</a> for reference) - enforced by default by the <a href="../en/Realtime_kernel_patchset.html" title="Realtime kernel patchset">realtime kernel patchset</a>.</li>
<li>Using the <a href="../en/Realtime_kernel_patchset.html" title="Realtime kernel patchset">realtime kernel patchset</a>.</li>
<li>Add <code>noatime</code> to <a href="../en/Fstab.html" title="Fstab">fstab</a> (see <a href="../en/Improving_performance.html#Mount_options" title="Improving performance">Improving performance#Mount options</a>).</li>
<li>Increasing the highest requested RTC interrupt frequency (default is 64 Hz) by <a href="../en/Systemd/FAQ.html#How_can_I_make_a_script_start_during_the_boot_process?" class="mw-redirect" title="Systemd FAQ">running the following at boot</a>:</li>
</ul>
<pre># echo 2048 &gt; /sys/class/rtc/rtc0/max_user_freq
# echo 2048 &gt; /proc/sys/dev/hpet/max-user-freq
</pre>
<ul><li>Reducing <i>swappiness</i> (aka swap frequency, set to <code>60</code> by default) to e.g. <code>10</code> will make the system wait much longer before trying to swap to disk (see <a href="https://en.wikipedia.org/wiki/Paging#Swappiness" class="extiw" title="wikipedia:Paging">wikipedia:Paging#Swappiness</a>). This can be done on the fly with <code>sysctl vm.swappiness=10</code> (see <span class="plainlinks archwiki-template-man" title="$ man 8 sysctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.8">sysctl(8)</a></span>) or setup permanently, using a configuration file (see <span class="plainlinks archwiki-template-man" title="$ man 5 sysctl.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysctl.d.5">sysctl.d(5)</a></span>) such as:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/90-swappiness.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vm.swappiness = 10</pre>
<ul><li>Increasing the maximum watches on files (defaults to <code>524288</code>) to e.g. <code>600000</code>, that <i>inotify</i> keeps track of for your user, can help with applications, that require many file handles (such as <a href="../en/List_of_applications/Multimedia.html#Digital_audio_workstations" title="List of applications/Multimedia">DAWs</a>). This again can be done on the fly with <code>sysctl fs.inotify.max_user_watches=600000</code> or in a dedicated configuration file:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/90-max_user_watches.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">fs.inotify.max_user_watches = 600000</pre>
<p>You may also want to maximize the PCI latency timer of the PCI sound card and raise the latency timer of all other PCI peripherals (default is 64).
</p>
<pre>$ setpci -v -d *:* latency_timer=<b>b0</b>
# setpci -v -s <i>$SOUND_CARD_PCI_ID</i> latency_timer=<b>ff</b>
</pre>
<p>E.g. <code>SOUND_CARD_PCI_ID=03:00.0</code>.
</p>
<p>The SOUND_CARD_PCI_ID can be obtained like so:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep -i audio</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><b>03:00.0</b> Multimedia audio controller: Creative Labs SB Audigy (rev 03)
<b>03:01.0</b> Multimedia audio controller: VIA Technologies Inc. VT1720/24 [Envy24PT/HT] PCI Multi-Channel Audio Controller (rev 01)
</pre>
<h2><span class="mw-headline" id="Choosing_a_sound_server">Choosing a sound server</span></h2>
<p>Sound hardware cannot play back sound from more than one application simultaneously. While ALSA can theoretically be configured to mix applications in software this is typically left to a <a href="../en/Sound_system.html#Sound_servers" class="mw-redirect" title="Sound server">sound server</a>. As ALSA alone cannot achieve low latencies easily and cannot synchronise multiple audio applications to play on time, starting all at the same time, at the same tempo, etc, and as it can not share audio flux between applications simply by connecting all it's clients together, you not only need any sound server, but pro audio class one.
</p>
<p>There are three of them, two meant for pro-audio:
</p>
<ul>
<li>
<a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> is one of the standard server for playback and multimedia, such as videos, browser, music and games. It was not conceived for pro-audio and lacks the capability to achieve low latencies and sync applications.</li>
<li>
<a href="../en/JACK_Audio_Connection_Kit.html" class="mw-redirect" title="JACK">JACK</a> has been developed with all the needs of pro audio and has been in use all over the world for many years and is therefore very stable and mature. Pro-Audio applications are written for the JACK API.</li>
<li>
<a href="../en/PipeWire.html" title="PipeWire">PipeWire</a> is a replacement of JACK and PulseAudio at the same time for the audio part. It should be considered as a good candidate for a daily use and not "so professional audio" use cases. It also handles video routing, which is not described in this article.</li>
</ul>
<p>The sound server setup strongly depends on the use case as well as on the workflow and capabilities of some application interaction. The <a href="../en/JACK_Audio_Connection_Kit.html" title="JACK Audio Connection Kit">JACK Audio Connection Kit</a> was designed to share audio between applications and access an audio device simultaneously by providing the synchronous execution of clients while maintaining constant low latency. Its PipeWire replacement provides a sufficient server for most of the use cases.
</p>
<p>This layout illustrates a layer model of the sound server setups to be discussed:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;"> <a href="#PipeWire-only">#PipeWire-only</a>   <a href="#PipeWire-as-JACK-Client">#PipeWire-as-JACK-Client</a>   <a href="#JACK-only">#JACK-only</a>

 ┌──────────────┐    ┌──────────────┐    ┌──────────────┐
 │ Applications │    │ Applications │    │ Applications │
 ├──────────────┤    ├──────────────┤    ├──────────────┤
 │   PipeWire   │    │ PipeWire+JACK│    │     JACK     │
 ├──────────────┤    ├──────────────┤    ├──────────────┤
 │     ALSA     │    │     ALSA     │    │     ALSA     │
 └──────────────┘    └──────────────┘    └──────────────┘
</pre>
<h3><span class="mw-headline" id="PipeWire-only">PipeWire-only</span></h3>
<p>The newer <a href="../en/PipeWire.html" title="PipeWire">PipeWire</a> framework replaces JACK as well as other sound servers for the sake of simplicity. Thus, it's recommended to first go for a <i>PipeWire-only</i> setup implementing support for <a href="../en/PipeWire.html#JACK_clients" title="PipeWire">JACK clients</a> by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-jack">pipewire-jack</a></span> and using the vanilla Arch Linux kernel.
</p>
<p>For Pro Audio use, you also have to select the <a href="../en/PipeWire.html#Profiles" title="PipeWire">Pro Audio profile</a> installing and using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span>, PulseAudio's mixer. Follow the link and read the PipeWire's page.
</p>
<h3><span class="mw-headline" id="PipeWire-as-JACK-Client">PipeWire-as-JACK-Client</span></h3>
<p><a href="../en/PipeWire.html" title="PipeWire">PipeWire</a> can also be used as a JACK client by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-jack-client">pipewire-jack-client</a></span>. This is explained in <a href="../en/PipeWire.html#Run_PipeWire_on_top_of_native_JACK" title="PipeWire">PipeWire</a>'s page.
</p>
<h3><span class="mw-headline" id="JACK-only">JACK-only</span></h3>
<p>The principle of <a href="../en/Arch_Linux.html#Versatility" title="Arch Linux">versatility</a> allows you to employ JACK and the <a href="#Realtime_kernel">#Realtime kernel</a> with further <a href="#System_configuration">#System configuration</a> to achieve low latencies for advanced use cases known as <i>JACK-only</i> setup. Using JACK as the only sound server requires any software, that is intended for interaction and audio device access, to run as a JACK client.
</p>
<p>Unfortunately, popular desktop applications such as <a href="../en/Firefox.html" title="Firefox">Firefox</a> or most games either dropped JACK support or never implemented it. For that reason this setup should be used for a dedicated pro audio system where non-JACK software can be neglected. If you still need to use software that can't connect to JACK, refer to <a href="../en/Professional_audio/Examples.html#Advanced_sound_server_setups" title="Professional audio/Examples">Professional audio/Examples#Advanced sound server setups</a> after following the setup described here. Before installing and running JACK you should ensure it can access your audio device.
</p>
<p><b>Is PulseAudio or something else grabbing my device?</b>
</p>
<pre>$ lsof +c 0 /dev/snd/pcm* /dev/dsp*
</pre>
<p>or
</p>
<pre>$ fuser -fv /dev/snd/pcm* /dev/dsp*
</pre>
<p>If your audio device isn't listed, it may be used by PulseAudio (which was probably installed as dependency of another application). Remove those alongside PulseAudio, if you're not intending to use <a href="../en/Professional_audio/Examples.html#PulseAudio+JACK" title="Professional audio/Examples">Professional audio/Examples#PulseAudio+JACK</a> in order to make PulseAudio release your audio device.
</p>
<p>As JACK version 1 is planned to be "slowly phased out" <a rel="nofollow" class="external autonumber" href="https://github.com/jackaudio/jackaudio.github.com/wiki/Differences-between-jack1-and-jack2#which-one-should-i-choose">[2]</a>, doesn't support <a href="https://en.wikipedia.org/wiki/Symmetric_multiprocessing" class="extiw" title="wikipedia:Symmetric multiprocessing">Symmetric Multiprocessing (SMP)</a>, lacks <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a> and <a href="../en/Systemd.html" title="Systemd">Systemd</a> integration you'd want to use version 2 which is available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack2">jack2</a></span> package in the official repositories. If you're going to use a <a href="../en/JACK_Audio_Connection_Kit.html#Comparison_of_JACK_control_GUIs" title="JACK Audio Connection Kit">JACK control GUI</a> or a <a href="../en/Systemd/User.html" title="Systemd/User">Systemd user service</a> for <a href="../en/JACK_Audio_Connection_Kit.html#Starting_the_audio_graph" title="JACK Audio Connection Kit">Starting the audio graph</a>, also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack2-dbus">jack2-dbus</a></span>.
</p>
<dl><dd><i>More details in <a href="../en/JACK_Audio_Connection_Kit.html#Comparison_of_JACK_implementations" title="JACK Audio Connection Kit">JACK Audio Connection Kit#Comparison of JACK implementations</a></i></dd></dl>
<p>The article on JACK describes a <a href="../en/JACK_Audio_Connection_Kit.html#A_GUI-based_example_setup" title="JACK Audio Connection Kit">GUI-based</a> and a <a href="../en/JACK_Audio_Connection_Kit.html#A_shell-based_example_setup" title="JACK Audio Connection Kit">shell-based</a> example setup as a point of reference for your own scenario. Parameter values of JACK are discussed in detail in the <a href="#JACK_parameters">#JACK parameters</a> section and may depend on other system factors covered by the <a href="#System_configuration">#System configuration</a> section above.
</p>
<h2><span class="mw-headline" id="JACK_parameters">JACK parameters</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The following guidelines should support finding best possible parameter values for running JACK without audio drop-outs (<a rel="nofollow" class="external text" href="https://alsa.opensrc.org/Xruns">xruns</a>) when using the <a href="#JACK-only">#JACK-only</a> or <a href="../en/Professional_audio/Examples.html#PulseAudio+JACK" title="Professional audio/Examples">/Examples#PulseAudio+JACK</a> sound server setup type. Due to differences depending on the hardware, whether a <a href="#Realtime_kernel">#Realtime kernel</a> is used or not, and if further <a href="#System_configuration">#System configuration</a> is applied, there is no general preset.</div>
<p>The aim here is to find the best possible combination of buffer size and periods, given the hardware you have. <b>Frames/Period = 256</b> is a sane starter. For onboard and USB devices, try <b>Periods/Buffer = 3</b> before lowering both values. Commonly used values are: 256/3, 256/2, 128/3, 128/2.
</p>
<p>Also, the sample rate must match the hardware sample rate. To check what sample and bit rates your device supports:
</p>
<pre>$ cat /proc/asound/card0/codec#0
</pre>
<p>Replace <i>card0</i> and <i>codec#0</i> depending on what you have. You will be looking for <b>rates</b> or <i>VRA</i> in <b>Extended ID</b>. A common sample rate across many of today's devices is <b>48000 Hz</b>. Others common rates include 44100 Hz, 96000 Hz and 192000 Hz.
</p>
<p>Almost always, when recording or sequencing with external gear is concerned, <b>realtime</b> is a must. Also, you may like to set maximum priority (at least 10 lower than system limits defined in <code>/etc/security/limits.d/99-realtime-privileges.conf</code>; the highest is for the device itself).
</p>
<p>Start jack with the options you just found out:
</p>
<pre>$ /usr/bin/jackd -R -P89 -dalsa -dhw:0 -r48000 -p128 -n2
</pre>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qjackctl">qjackctl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cadence/">cadence</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/patchage/">patchage</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/studio-controls-git/">studio-controls-git</a></span><sup><small>AUR</small></sup> can all be used to as GUIs to monitor JACK's status and simplify its configuration.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Once you set up JACK, try different audio applications to test your configuration results. For example, do not spend days trying to troubleshoot JACK xrun issues with <a href="../en/LMMS.html" title="LMMS">LMMS</a> if the problem is with the latter.</div>
<dl><dd><i>Further reading: <a rel="nofollow" class="external text" href="https://www.linux-magazine.com/content/download/63041/486886/version/1/file/JACK_Audio_Server.pdf">Linux Magazine article (2006)</a> for basic understanding on JACK parameter finding</i></dd></dl>
<h2><span class="mw-headline" id="Latency_verification">Latency verification</span></h2>
<p>JACK parameters are most significant for controlling the <a href="https://en.wikipedia.org/wiki/Round-trip_delay" class="extiw" title="wikipedia:Round-trip delay">round-trip delay</a> (RTD). In the context of this article that is the overall time it takes for an audio signal to be recorded, processed and played back. The next subsection deals with theoretical background on the sources of latency adding up to the RTD. If you are already familiar with that, you can go to <a href="#Measuring_latency">#Measuring latency</a> to verify your RTD or skip this section completely.
</p>
<h3><span class="mw-headline" id="Latency_sources">Latency sources</span></h3>
<p>Consider a typical recording situation of a singer performance. The voice is being captured with a microphone as it propagates trough the air with the <a href="https://en.wikipedia.org/wiki/Speed_of_sound" class="extiw" title="wikipedia:Speed of sound">speed of sound</a>. An <a href="https://en.wikipedia.org/wiki/Analog-to-digital_conversion" class="extiw" title="wikipedia:Analog-to-digital conversion">analog-to-digital-conversion</a> enables the electrical signal to be recorded by a computer for <a href="https://en.wikipedia.org/wiki/Digital_signal_processing" class="extiw" title="wikipedia:Digital signal processing">digital signal processing</a>. Finally, a <a href="https://en.wikipedia.org/wiki/Digital-to-analog_conversion" class="extiw" title="wikipedia:Digital-to-analog conversion">digital-to-analog conversion</a> returns the signal to be played back at the singer's headphones for monitoring similar to <a href="https://en.wikipedia.org/wiki/Stage_monitor_system" class="extiw" title="wikipedia:Stage monitor system">stage monitor system</a> usage.
</p>
<p>In that voice recording situation there are five significant <a rel="nofollow" class="external text" href="https://wiki.linuxaudio.org/wiki/jack_latency_tests#latency_sources">latency sources</a> constructing the RTD and occuring in the following order:
</p>
<ol>
<li>Sound propagation through the air from the mouth of the singer</li>
<li>Analog-to-digital conversion</li>
<li>Digital signal processing</li>
<li>Digital-to-analog conversion</li>
<li>Sound propagation through the air to the ear of the singer</li>
</ol>
<p>The first and last latency source is hard to change as a particular distance is technically necessary to create an intended sound during recording or playback, respectively. Additionally, when using closer miking for capturing and headphones for monitoring both sound propagation latencies are typically within the range of a few microseconds which is not noticeable by humans. Thus, an objective for RTD minimization is to reduce the other sources of latency.
</p>
<h3><span class="mw-headline" id="Conversion_latency">Conversion latency</span></h3>
<p>In theory JACK maintains a constant low latency by using fixed values (frames, periods, sample rate) for <a href="https://en.wikipedia.org/wiki/Sampling_(signal_processing)" class="extiw" title="wikipedia:Sampling (signal processing)">sampling</a> and <a href="https://en.wikipedia.org/wiki/Buffer_(telecommunication)" class="extiw" title="wikipedia:Buffer (telecommunication)">buffering</a> of audio to be converted analog-to-digital and vice versa. The latency occurring in the capturing process is described by the following equation:
</p>
<dl><dd><b>Lc = n / f</b></dd></dl>
<p><b>Lc</b>: Capture latency in milliseconds (ms), <b>n</b>: Frames or buffer (multiples of 2, starting at 16), <b>f</b>: Sample rate in Hertz (Hz).
</p>
<p>The playback latency is also employing the periods value:
</p>
<dl><dd><b>Lp = n * p / f</b></dd></dl>
<p><b>Lp</b>: Playback latency in milliseconds (ms), <b>n</b>: Frames or buffer (multiples of 2, starting at 16), <b>p</b>: Periods, <b>f</b>: Sample rate in Hertz (Hz).
</p>
<p>As already stated before the capabilities of the audio interface define working combinations. You have to trial and error to find a setup. Sure, it's a trade-off between xrun prevention and achieving low latency, but recent audio interfaces can be used at high sample rates (up to 192 kHz) to deal with that requirement. The audio flux of JACK clients in the digital domain is about zero and thus, negligible for latency measurements <a rel="nofollow" class="external autonumber" href="https://man.archlinux.org/man/jackd.1">[3]</a>.
</p>
<dl><dd>See <a rel="nofollow" class="external text" href="https://www.alsa-project.org/main/index.php/FramesPeriods">FramesPeriods</a> in the ALSA wiki for more information.</dd></dl>
<h3><span class="mw-headline" id="Measuring_latency">Measuring latency</span></h3>
<p>Once you have set up <a href="#JACK_parameters">#JACK parameters</a> you might want to verify the RTD described above. For example, using a frames or buffer size of <b>n = 128</b>, a periods value of <b>p = 2</b>, and a sample rate of <b>f = 48000</b> results in a capture latency of about <b>Lc = 2,666... ms</b> and a playback latency of about <b>Lp = 5,333... ms</b> summing up to a total round-trip delay of <b>RTD = 8 ms</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This latency value is comparable to a typical monitoring situation on stage using speakers with a distance to the performer's ear ranging between 2 m and 3 m according to the equation for the <a href="https://en.wikipedia.org/wiki/Speed_of_sound#Speed_of_sound_in_ideal_gases_and_air" class="extiw" title="wikipedia:Speed of sound">speed of sound in air</a>. Performers experienced with on stage monitoring are typically used to such latencies.</div>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack_delay">jack_delay</a></span> utility by Fons Adriaensen measures RTD by emitting test tones out a playback channel and capturing them again at a capture channel for measuring the phase differences to estimate the round-trip time the signal has taken through the whole chain. Use an appropriate cable to connect an input and output channel of your audio device or put a speaker close to a microphone as described by <a rel="nofollow" class="external text" href="https://wiki.linuxaudio.org/wiki/jack_latency_tests#measuring_roundtrip_latency_with_jack_delay">JACK Latency tests</a>.
</p>
<p>For example, running <code>jack_delay</code> for a JACK-only setup using a cable connection between the ports <b>playback_1</b> and <b>capture_1</b> (the description may differ depending on your hardware) to close the loop, as well as the values discussed before yields the following insights:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ jack_delay -O system:playback_1 -I system:capture_1</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">capture latency  = 128
playback_latency = 256
Signal below threshold...
Signal below threshold...
Signal below threshold...
  422.507 frames      8.802 ms total roundtrip latency
       extra loopback latency: 38 frames
       use 19 for the backend arguments -I and -O
  422.507 frames      8.802 ms total roundtrip latency
       extra loopback latency: 38 frames
       use 19 for the backend arguments -I and -O
  422.506 frames      8.802 ms total roundtrip latency
       extra loopback latency: 38 frames
       use 19 for the backend arguments -I and -O
  422.507 frames      8.802 ms total roundtrip latency
       extra loopback latency: 38 frames
       use 19 for the backend arguments -I and -O
&lt;output omitted&gt;</pre>
<p>As the output indicates further optimization of JACK can be done by using the parameters <code>-I 19</code> and <code>-O 19</code> to compensate for the reported extra loopback latency in the chain:
</p>
<pre>$ /usr/bin/jackd -R -P89 -dalsa -dhw:0 -r48000 -p128 -n2 -I19 -O19
</pre>
<dl><dd><i>More details can be found in the Ardour Manual page about <a rel="nofollow" class="external text" href="https://manual.ardour.org/synchronization/latency-and-latency-compensation/">latency and latency compensation</a>.</i></dd></dl>
<h2><span class="mw-headline" id="Realtime_kernel">Realtime kernel</span></h2>
<p>"<a href="https://en.wikipedia.org/wiki/Real-time" class="extiw" title="wikipedia:Real-time">Realtime</a>" in the context of an operating system is <a rel="nofollow" class="external text" href="https://www.iso.org/obp/ui/#iso:std:iso-iec:2382:ed-1:v1:en">defined</a> that the results of a computation are available within a fixed period of time. Only in a broader sense does it mean "time running simultaneously with reality", for example, that a sound is produced immediately in response to musical user input. The latter is called "low latency" and it's setup is one of the main goals of this articles.
</p>
<p>Since a while ago, the stock Linux kernel (with <code>CONFIG_PREEMPT=y</code>, <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/linux/-/blob/main/config">default</a> in Arch Linux vanilla kernel) has proven to be adequate for low latency operation. Latency in an operating system context is the time between the moment an interrupt occurs in hardware, and the moment the corresponding interrupt-thread gets running. Unfortunately, some device drivers can introduce higher latencies. So depending on your hardware, drivers, and requirements, you might want a kernel with <a href="https://en.wikipedia.org/wiki/Real-time_computing#Criteria_for_real-time_computing" class="extiw" title="wikipedia:Real-time computing">hard realtime</a> capabilities.
</p>
<h3><span class="mw-headline" id="Pros_and_cons">Pros and cons</span></h3>
<p>The <a rel="nofollow" class="external text" href="https://wiki.linuxfoundation.org/realtime/documentation/technical_details/start">RT_PREEMPT</a> patch by Ingo Molnar and Thomas Gleixner is an interesting option for hard and firm realtime applications, reaching from professional audio to industrial control. Most audio-specific Linux distributions ships with this patch applied. A realtime-preemptible kernel will also make it possible to tweak priorities of IRQ handling threads and help ensure smooth audio almost regardless of the load.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Currently, there are <a rel="nofollow" class="external text" href="https://wiki.linuxfoundation.org/realtime/documentation/known_limitations">known limitations</a> for using a realtime kernel with other specific applications typically related to <a href="../en/Category:Virtualization.html" class="mw-redirect" title="Virtualization">Virtualization</a> (such as <a href="../en/Xen.html" title="Xen">Xen</a> and <a href="../en/KVM.html" title="KVM">KVM</a>). If you also need those capabilities, consider installing the realtime kernel in addition to the vanilla Arch Linux kernel and creating a second <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> entry for booting the appropriate kernel on demand.</div>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> either the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-rt">linux-rt</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-rt-lts">linux-rt-lts</a></span> package.
</p>
<h3><span class="mw-headline" id="Compilation">Compilation</span></h3>
<p>If you are going to <a href="../en/Kernel.html#Compilation" title="Kernel">compile your own kernel</a> using the <a href="../en/Realtime_kernel_patchset.html" title="Realtime kernel patchset">Realtime kernel patchset</a>, remember that removing modules/options does not equate to a "leaner and meaner" kernel. It is true that the size of the kernel image is reduced, but in today's systems it is not as much of an issue as it was back in <b>1995</b>.
</p>
<dl><dd>See <a rel="nofollow" class="external text" href="https://wiki.linuxfoundation.org/realtime/documentation/howto/applications/preemptrt_setup">HOWTO setup Linux with PREEMPT_RT properly</a> for further general instructions.</dd></dl>
<p>In any way, you should also ensure that:
</p>
<ul>
<li>
<b>Timer Frequency</b> is set to <b>1000Hz</b> (<code>CONFIG_HZ_1000=y</code>; if you do not do <i>MIDI</i> you can ignore this)</li>
<li>
<b>APM</b> is <b>DISABLED</b> (<code>CONFIG_APM=n</code>; Troublesome with some hardware - default in x86_64)</li>
</ul>
<p>If you truly want a slim system, we suggest you go your own way and deploy one with <i>static /devs</i>. You should, however, set your CPU architecture. Selecting "Core 2 Duo" for appropriate hardware will allow for a good deal of optimisation, but not so much as you go down the scale.
</p>
<p>General issue(s) with (realtime) kernels:
</p>
<ul><li>Hyperthreading (if you suspect, disable in <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> settings)</li></ul>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<ul><li>Disable WiFi and close any programs that do not need to be open when recording such as browsers. Many have reported disabling WiFi has led to more reliable JACK performance.</li></ul>
<ul><li>Some USB audio hardware is known not to work properly when plugged into USB 3 ports so try USB 2/1 ports instead.</li></ul>
<ul><li>IRQ issues can occur and cause problems. An example is video hardware reserving the bus, causing needless interrupts in the system I/O path. See discussion at <a rel="nofollow" class="external text" href="http://subversion.ffado.org/wiki/IrqPriorities">FFADO IRQ Priorities How-To</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-07-30 ⓘ]</sup>. If you have a realtime or a recent kernel, you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rtirq">rtirq</a></span> to adjust priorities of IRQ handling threads.</li></ul>
<ul><li>Do not use the <b>irqbalance</b> daemon, or do so carefully <a rel="nofollow" class="external autonumber" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_for_real_time/7/html/tuning_guide/interrupt_and_process_binding">[4]</a>.</li></ul>
<ul><li>If you need to use multiple audio devices with JACK2, the <b>alsa_in</b> and <b>alsa_out</b> utilities can be used to have extra devices wrapped and show up as outputs in the JACK patchbay.</li></ul>
<ul><li>Some daemons/processes can unexpectedly cause <b>xruns</b>. If you do not need it - kill it. No questions asked.</li></ul>
<pre>$ ls /var/run/daemons
$ top # or htop, ps aux, whatever you are comfortable with
$ killall -9 $processname
# systemctl stop $daemonname
</pre>
<ul><li>If you are facing a lot of <i>xruns</i> especially with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span>, disable your GPU throttling. This can be done via the card's control applet and for NVIDIA it is "prefer maximum performance" (thanks to a post in LAU by Frank Kober<a rel="nofollow" class="external autonumber" href="http://lalists.stanford.edu/lau/2009/10/0467.html">[5]</a>).</li></ul>
<ul><li>You may like to read more on ALSA: <a rel="nofollow" class="external free" href="https://www.volkerschatz.com/noise/alsa.html">https://www.volkerschatz.com/noise/alsa.html</a>
</li></ul>
<h2><span class="mw-headline" id="Applications">Applications</span></h2>
<p>Arch Linux provides the package group <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/pro-audio/">pro-audio</a></span> holding all relevant (semi-) professional applications. All applications in the pro-audio package group are JACK clients. Also <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/lv2-plugins/">lv2-plugins</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/ladspa-plugins/">ladspa-plugins</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/dssi-plugins/">dssi-plugins</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/vst-plugins/">vst-plugins</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/clap-plugins/">clap-plugins</a></span> are subgroups of the pro-audio group.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  See <a href="../en/Pacman/Tips_and_tricks.html#Listing_packages" title="Pacman/Tips and tricks">Pacman/Tips and tricks#Listing packages</a> for listing members of and <a href="../en/Pacman.html#Installing_package_groups" title="Pacman">Pacman#Installing package groups</a> for installing package groups.</div>
<p>An overview and brief information on some applications is found in <a href="../en/List_of_applications/Multimedia.html#Audio" title="List of applications/Multimedia">List of applications/Multimedia#Audio</a>. Especially the categories <a href="../en/List_of_applications/Multimedia.html#Digital_audio_workstations" title="List of applications/Multimedia">Digital audio workstations</a>, <a href="../en/List_of_applications/Multimedia.html#Audio_effects" title="List of applications/Multimedia">Audio effects</a> and <a href="../en/List_of_applications/Multimedia.html#Music_trackers" title="List of applications/Multimedia">Music trackers</a>, as well as <a href="../en/List_of_applications/Multimedia.html#Audio_synthesis_environments" title="List of applications/Multimedia">Audio synthesis environments</a> and <a href="../en/List_of_applications/Multimedia.html#Sound_generators" title="List of applications/Multimedia">Sound generators</a>, provide examples of pro audio software for e.g. recording, mixing, mastering, and sound design. Other categories include <a href="../en/List_of_applications/Multimedia.html#Scorewriters" title="List of applications/Multimedia">Scorewriters</a>, <a href="../en/List_of_applications/Multimedia.html#Audio_editors" title="List of applications/Multimedia">Audio editors</a>, <a href="../en/List_of_applications/Multimedia.html#Audio_converters" title="List of applications/Multimedia">Audio converters</a>, and <a href="../en/List_of_applications/Multimedia.html#DJ" title="List of applications/Multimedia">DJ</a> software.
</p>
<p>Packages not (yet) in the official repositories can be found in <a href="../en/Unofficial_user_repositories.html#proaudio" title="Unofficial user repositories">proaudio</a>. Browse the <a rel="nofollow" class="external text" href="https://arch.osamc.de/#packages">list of packages</a> to find the application you need or request packaging of your desired applications via <a rel="nofollow" class="external text" href="https://github.com/osam-cologne/archlinux-proaudio">GitHub</a>.
</p>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<p>The majority of sound cards and audio devices will work with no extra configuration or packages, simply set JACK to use the desired one.
</p>
<p>This is not true for all devices, have a look at the <a href="../en/Category:Sound.html" title="Category:Sound">Category:Sound</a>, <a href="../en/Professional_audio/Hardware.html" title="Professional audio/Hardware">/Hardware</a> as well as <a href="../en/Envy24control.html#Supported_cards" title="Envy24control">Envy24control#Supported cards</a> for those special cases.
</p>
<h2><span class="mw-headline" id="Get_help">Get help</span></h2>
<h3><span class="mw-headline" id="Mailing_lists">Mailing lists</span></h3>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://lists.archlinux.org/mailman3/lists/arch-proaudio.lists.archlinux.org/">Arch Linux Pro-audio</a> Discussion about real-time multimedia, including (semi-)pro audio and video.</li>
<li>
<a rel="nofollow" class="external text" href="https://lists.linuxaudio.org/listinfo/linux-audio-user">Linux Audio User</a> The Linux pro-audio related mailing list with much traffic and a huge subscriber community of users and developers.</li>
</ul>
<h3><span class="mw-headline" id="IRC">IRC</span></h3>
<ul>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/archlinux-proaudio">#archlinux-proaudio</a> - Arch Linux pro-audio channel</li>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/lau">#lau</a> - General Linux Audio channel for users</li>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/jack">#jack</a> - Development and support related to JACK audio system</li>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/lv2">#lv2</a> - Development and support related to the LV2 plugin format</li>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/ardour">#ardour</a> - Discussion and support relating to the Ardour DAW</li>
<li>
<a rel="nofollow" class="external text" href="ircs://irc.libera.chat/opensourcemusicians">#opensourcemusicians</a> - Large general OSS musician discussion channel</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://lar.ven.uber.space/floss_media_studio/audio_setup">Audio setup</a> Comprehensive guide for a pro-audio setup based on Arch Linux</li>
<li>AUR meta packages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/proaudio-meta/">proaudio-meta</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/soundfonts-aur-meta/">soundfonts-aur-meta</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lv2-plugins-aur-meta/">lv2-plugins-aur-meta</a></span><sup><small>AUR</small></sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/nodiscc/awesome-linuxaudio">awesome-linuxaudio</a> A list of software and resources for professional audio/video/live events production on the Linux platform</li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewforum.php?id=32">Multimedia and Games / Arch Linux Forums</a></li>
<li>
<a rel="nofollow" class="external text" href="https://wiki.linuxfoundation.org/realtime/start">Realtime</a> The Linux Foundation wiki on the PREEMPT_RT patches</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Sound.html" title="Category:Sound">Sound</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Professional_audio&amp;oldid=813442">https://wiki.archlinux.org/index.php?title=Professional_audio&amp;oldid=813442</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 16:23.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
