<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Fcitx - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fcitx rootpage-Fcitx skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Input_method_engines" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_method_engines">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Input method engines</div>
			</a>
			
			<ul id="toc-Input_method_engines-sublist" class="vector-toc-list">
				<li id="toc-Chinese" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Chinese">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1</span>Chinese</div>
			</a>
			
			<ul id="toc-Chinese-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Japanese" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Japanese">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.2</span>Japanese</div>
			</a>
			
			<ul id="toc-Japanese-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Other_languages" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Other_languages">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.3</span>Other languages</div>
			</a>
			
			<ul id="toc-Other_languages-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Input_method_module" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_method_module">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Input method module</div>
			</a>
			
			<ul id="toc-Input_method_module-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Others" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Others">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Others</div>
			</a>
			
			<ul id="toc-Others-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Usage</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-Desktop_Environment_Autostart" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desktop_Environment_Autostart">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Desktop Environment Autostart</div>
			</a>
			
			<ul id="toc-Desktop_Environment_Autostart-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Set_environment_variables_for_IM_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Set_environment_variables_for_IM_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Set environment variables for IM modules</div>
			</a>
			
			<ul id="toc-Set_environment_variables_for_IM_modules-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-XIM" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#XIM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>XIM</div>
			</a>
			
			<ul id="toc-XIM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-GUI_configuration_tools" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GUI_configuration_tools">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>GUI configuration tools</div>
			</a>
			
			<ul id="toc-GUI_configuration_tools-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Input_methods_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_methods_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Input methods configuration</div>
			</a>
			
			<ul id="toc-Input_methods_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Change_default_UI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Change_default_UI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Change default UI</div>
			</a>
			
			<ul id="toc-Change_default_UI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Extend_pinyin_dictionary" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Extend_pinyin_dictionary">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Extend pinyin dictionary</div>
			</a>
			
			<ul id="toc-Extend_pinyin_dictionary-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Skins" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Skins">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Skins</div>
			</a>
			
			<ul id="toc-Skins-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cloud_Pinyin_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cloud_Pinyin_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Cloud Pinyin configuration</div>
			</a>
			
			<ul id="toc-Cloud_Pinyin_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Tips and tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Shortcut_keys" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Shortcut_keys">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Shortcut keys</div>
			</a>
			
			<ul id="toc-Shortcut_keys-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Vim" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Vim">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Vim</div>
			</a>
			
			<ul id="toc-Vim-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Special_symbols" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Special_symbols">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Special symbols</div>
			</a>
			
			<ul id="toc-Special_symbols-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Clipboard_Access" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clipboard_Access">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Clipboard Access</div>
			</a>
			
			<ul id="toc-Clipboard_Access-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fcitx-remote" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fcitx-remote">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>fcitx-remote</div>
			</a>
			
			<ul id="toc-fcitx-remote-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Input_special_character" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_special_character">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Input special character</div>
			</a>
			
			<ul id="toc-Input_special_character-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Disable_or_change_Extra_key_for_trigger_input_method_[sic]" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_or_change_Extra_key_for_trigger_input_method_[sic]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Disable or change <i>Extra key for trigger input method</i> [sic]</div>
			</a>
			
			<ul id="toc-Disable_or_change_Extra_key_for_trigger_input_method_[sic]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Diagnose_the_problem" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Diagnose_the_problem">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Diagnose the problem</div>
			</a>
			
			<ul id="toc-Diagnose_the_problem-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Emacs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Emacs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Emacs</div>
			</a>
			
			<ul id="toc-Emacs-sublist" class="vector-toc-list">
				<li id="toc-Emacs_Daemon" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Emacs_Daemon">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.1</span>Emacs Daemon</div>
			</a>
			
			<ul id="toc-Emacs_Daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Ctrl+Space_fail_to_work_in_GTK_programs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ctrl+Space_fail_to_work_in_GTK_programs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Ctrl+Space fail to work in GTK programs</div>
			</a>
			
			<ul id="toc-Ctrl+Space_fail_to_work_in_GTK_programs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Buildin_Chinese_Pinyin_Default_NOT_ACTIVE" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Buildin_Chinese_Pinyin_Default_NOT_ACTIVE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Buildin Chinese Pinyin Default NOT ACTIVE</div>
			</a>
			
			<ul id="toc-Buildin_Chinese_Pinyin_Default_NOT_ACTIVE-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fcitx_and_KDE" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fcitx_and_KDE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>fcitx and KDE</div>
			</a>
			
			<ul id="toc-fcitx_and_KDE-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Input_method_switched_to_English_unintentionally" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Input_method_switched_to_English_unintentionally">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>Input method switched to English unintentionally</div>
			</a>
			
			<ul id="toc-Input_method_switched_to_English_unintentionally-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xmodmap_settings_being_overwritten" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#xmodmap_settings_being_overwritten">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>xmodmap settings being overwritten</div>
			</a>
			
			<ul id="toc-xmodmap_settings_being_overwritten-sublist" class="vector-toc-list">
				<li id="toc-Fcitx_and_setxkbmap" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Fcitx_and_setxkbmap">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8.1</span>Fcitx and setxkbmap</div>
			</a>
			
			<ul id="toc-Fcitx_and_setxkbmap-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Fcitx_preedit_box_is_too_small_with_HiDPI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fcitx_preedit_box_is_too_small_with_HiDPI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.9</span>Fcitx preedit box is too small with HiDPI</div>
			</a>
			
			<ul id="toc-Fcitx_preedit_box_is_too_small_with_HiDPI-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>See also</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Fcitx</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Fcitx" title="Fcitx – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Fcitx" title="Fcitx – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Fcitx" title="Fcitx – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Fcitx5.html" title="Fcitx5">Fcitx5</a></li>
<li><a href="../en/IBus.html" title="IBus">IBus</a></li>
<li><a href="../en/Smart_Common_Input_Method.html" class="mw-redirect" title="SCIM">SCIM</a></li>
<li><a href="../en/Uim.html" title="Uim">uim</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Fcitx" class="extiw" title="wikipedia:Fcitx">Fcitx</a> is a lightweight <a href="../en/Input_method.html" title="Input method">input method</a> framework aimed at providing environment independent language support for Linux. It supports a lot of different languages and also provides many useful non-CJK features.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Fcitx is now in maintenance mode. It is recommended to use <a href="../en/Fcitx5.html" title="Fcitx5">Fcitx5</a> instead.</div> 
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx">fcitx</a></span> package.
</p>
<h3><span class="mw-headline" id="Input_method_engines">Input method engines</span></h3>
<p>Fcitx provides built-in input methods for Chinese <a href="https://en.wikipedia.org/wiki/Pinyin" class="extiw" title="wikipedia:Pinyin">Pinyin</a> and table-based input (for example <a href="https://en.wikipedia.org/wiki/Wubi_method" class="extiw" title="wikipedia:Wubi method">Wubi</a>).
</p>
<p>Depending on the language you wish to type, other input method engines are available:
</p>
<h4><span class="mw-headline" id="Chinese">Chinese</span></h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fcitx-baidupinyin/">fcitx-baidupinyin</a></span><sup><small>AUR</small></sup>, fcitx wrapper for Baidu Pinyin IM engine.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-chewing">fcitx-chewing</a></span> is a popular Zhuyin input engine for Traditional Chinese based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libchewing">libchewing</a></span>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-cloudpinyin">fcitx-cloudpinyin</a></span> uses internet sources to provide input candidates. The selected cloud result will be added to local dictionary. It support all fcitx pinyin input method except <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-rime">fcitx-rime</a></span>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-googlepinyin">fcitx-googlepinyin</a></span>, Googlepinyin wrapper for fcitx.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-libpinyin">fcitx-libpinyin</a></span>, based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libpinyin">libpinyin</a></span>. It has a better algorithm than <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-sunpinyin">fcitx-sunpinyin</a></span>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-rime">fcitx-rime</a></span>, based on schemas from the <a href="../en/Rime.html" class="mw-redirect" title="Rime IME">Rime IME</a> project.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fcitx-sogoupinyin/">fcitx-sogoupinyin</a></span><sup><small>AUR</small></sup>, <a rel="nofollow" class="external text" href="https://pinyin.sogou.com/linux/">Sogou input method</a> supporting Jianpin, fuzzy sound, cloud input, English input, and mixed skin.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-sunpinyin">fcitx-sunpinyin</a></span>, based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sunpinyin">sunpinyin</a></span>. It strikes a good balance between speed and accuracy.</li>
</ul>
<h4><span class="mw-headline" id="Japanese">Japanese</span></h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-anthy">fcitx-anthy</a></span>, a popular Japanese input engine. However, it is not actively developed anymore.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-mozc">fcitx-mozc</a></span>, based on <a href="../en/Mozc.html" title="Mozc">Mozc</a>, the Open Source Edition of Google Japanese Input.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-kkc">fcitx-kkc</a></span>, a Japanese Kana Kanji input engine, based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libkkc">libkkc</a></span>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-skk">fcitx-skk</a></span>, a Japanese Kana Kanji input engine, based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libskk">libskk</a></span>.</li>
</ul>
<h4><span class="mw-headline" id="Other_languages">Other languages</span></h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-hangul">fcitx-hangul</a></span>, for typing Korean hangul, based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libhangul">libhangul</a></span>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-m17n">fcitx-m17n</a></span>, for other languages provided by <a rel="nofollow" class="external text" href="https://www.nongnu.org/m17n/">M17n</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-sayura">fcitx-sayura</a></span>, for typing Sinhalese.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-unikey">fcitx-unikey</a></span>, for typing Vietnamese characters.</li>
</ul>
<h3><span class="mw-headline" id="Input_method_module">Input method module</span></h3>
<p>To obtain a better experience in Qt programs, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fcitx-qt4/">fcitx-qt4</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-qt5">fcitx-qt5</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-qt6">fcitx-qt6</a></span> input method modules as your need, or the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/fcitx-im/">fcitx-im</a></span> group to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx">fcitx</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-qt5">fcitx-qt5</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-qt6">fcitx-qt6</a></span>. Without these modules, the input method may work on most applications but you may experience input method hang up, preview window screen location error or no preview error. 
</p>
<p>Applications below do not use GTK/Qt input module: 
</p>
<ul>
<li>Applications use Tk, motif or xlib</li>
<li>Emacs, Opera, OpenOffice, LibreOffice, Skype, Wine, Java, Xterm, urxvt, WPS</li>
</ul>
<h3><span class="mw-headline" id="Others">Others</span></h3>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-ui-light">fcitx-ui-light</a></span>, light UI for fcitx.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-table-extra">fcitx-table-extra</a></span> adds <a href="https://en.wikipedia.org/wiki/Cangjie_input_method" class="extiw" title="wikipedia:Cangjie input method">Cangjie</a>, <a href="https://en.wikipedia.org/wiki/Zhengma_method" class="extiw" title="wikipedia:Zhengma method">Zhengma</a>, <a href="https://en.wikipedia.org/wiki/Boshiamy_method" class="extiw" title="wikipedia:Boshiamy method">Boshiamy</a> support.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-table-other">fcitx-table-other</a></span>, tables for Latex, Emoji and others.</li>
<li><a href="#GUI_configuration_tools">#GUI configuration tools</a></li>
</ul>
<p>Others packages (including git version) are also available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. All components of fcitx will requires fcitx to restart after install.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You need to have <a href="../en/Fonts.html#Chinese,_Japanese,_Korean,_Vietnamese" title="Fonts">Chinese, Japanese, Korean or Vietnamese font</a> installed to be able to enter the corresponding characters.</div>
<h3><span class="mw-headline" id="Desktop_Environment_Autostart">Desktop Environment Autostart</span></h3>
<p>If you are using any XDG compatible desktop environment such as <a href="../en/KDE.html" title="KDE">KDE</a>, <a href="../en/GNOME.html" title="GNOME">GNOME</a>, <a href="../en/Xfce.html" title="Xfce">Xfce</a>, <a href="../en/LXDE.html" title="LXDE">LXDE</a>, after you re-login, the autostart should work out of the box. If not, run the <i>fcitx</i> executable. To see if fcitx is working correctly, open an application and press <code>Ctrl+Space</code> (the default shortcut for switching the input method) to invoke fcitx and input some words.
</p>
<p>If fcitx failed to start with your desktop automatically or if you want to change the parameters to start fcitx, configure <a href="../en/Autostarting.html#On_Xorg_startup" title="Autostarting">autostart</a> or edit the <code>fcitx-autostart.desktop</code> file in your <code>~/.config/autostart/</code> directory (copy it from <code>/etc/xdg/autostart/</code> if it does not exist yet).
</p>
<p>When other input methods with xim support are also running, fcitx may fail to start due to an xim error. Ensure that no other input methods are running before you start fcitx.
</p>
<p>Also please set the following environment variables to prefer IM modules for GTK/Qt applications.
</p>
<p>For <a href="../en/I3.html" title="I3">i3</a> and <a href="../en/Sway.html" title="Sway">Sway</a> users, add <code>exec --no-startup-id fcitx -d
</code> in your configuration file. <a href="../en/Fcitx5.html" title="Fcitx5">fcitx5</a> users should add <code>exec --no-startup-id fcitx5 -d</code> instead.
</p>
<h3><span class="mw-headline" id="Set_environment_variables_for_IM_modules">Set environment variables for IM modules</span></h3>
<p>Set the following <a href="../en/Environment_variables.html#Graphical_environment" title="Environment variables">environment variables</a> to register the input method modules.
</p>
<pre>GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx
</pre>
<p>Without these variables, applications may fallback to XIM protocol, except for Qt5 applications which do not have XIM support and require an IM module in place.
</p>
<p>If <i>fcitx</i> process does not start automatically, you might need to add <code>fcitx &amp;</code> in your <code>~/.xinitrc</code>.
If <code>fcitx &amp;</code> does not start, type <code>sleep 2</code> after it.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Avoid <code>.bashrc</code> for this, see <a href="https://mywiki.wooledge.org/DotFiles" class="extiw" title="gregswiki:DotFiles">GregsWiki:DotFiles</a>.</li>
<li>If all Qt applications have problem with fcitx, run <i>qtconfig</i> (<i>qtconfig-qt4</i>), and go to the third tab, make sure <i>fcitx</i> is in the <i>Default Input Method</i> combo-box.</li>
</ul>
</div>
<h3><span class="mw-headline" id="XIM">XIM</span></h3>
<p>Optionally, you can use the <a href="https://en.wikipedia.org/wiki/X_Input_Method" class="extiw" title="wikipedia:X Input Method">X Input Method</a> (XIM) in your GTK and/or Qt programs without installing the above modules in which case you need to change the corresponding lines above as following:
</p>
<pre>GTK_IM_MODULE=xim
QT_IM_MODULE=xim
</pre>
<p>If you change it in <code>~/.xprofile</code> or <code>~/.xinitrc</code>, add <code>export</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong>  Using XIM can sometimes cause problems including not being able to input, no cursor following, word selection window issue, application freeze on input method restart. For these XIM related problems, Fcitx cannot provide any fix or support. This is the same with any other input method framework, so please use the GTK and Qt input method modules instead of xim whenever possible</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Gtk2 uses <code>/usr/lib/gtk-2.0/2.10.0/immodules.cache</code> as immodule cache file since 2.24.20. If you have set <code>GTM_IM_MODULE_FILE</code> environment variable or do not use install script of official packages to update the cache, please change/clear the environment variable and use <code>/usr/bin/gtk-query-immodules-2.0 --update-cache</code> to update immodule cache.</li>
<li>Qt5 applications no longer support XIM protocol as Qt4 did, and rely on IM modules entirely for communicating with fcitx.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="GUI_configuration_tools">GUI configuration tools</span></h3>
<p>fcitx provides a <a href="../en/KDE.html" title="KDE">KDE</a> configuration module (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kcm-fcitx">kcm-fcitx</a></span>) and a GTK3 configuration tool (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-configtool">fcitx-configtool</a></span>).
</p>
<p>Run <i>fcitx-config-gtk3</i> after <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-configtool">fcitx-configtool</a></span> is installed. Unset <i>Only Show Current Language</i> if you want to enable an input method for a different language.
</p>
<p>Stop fcitx manually before changing configuration, or the change may be lost.  
</p>
<p>In order to enable spell checking, press <code>Ctrl+Alt+h</code> when fcitx is on an input method provided by fcitx-keyboard.
</p>
<h3><span class="mw-headline" id="Input_methods_configuration">Input methods configuration</span></h3>
<p>You can add/remove input methods in the GUI tools. Note that the search is case sensitive.
</p>
<p>The first set input method is the inactive state, while all the rest will be active states. You generally want the inactive state to be one of the <i>Keyboard</i> options (e.g. "Keyboard - English (US)"). These options just input based on the keyboard layout in the name.
</p>
<p>Under <i>Global Config</i>, the <i>Trigger Input Method</i> shortcut will only switch between the inactive and last used active state. The <i>Scroll between Input Methods</i> will by default only scroll between different active states, but can also be set to include the inactive state in the advanced settings. Furthermore, the <i>Scroll between Input Methods</i> shortcut has to be pressed in order, e.g. <code>ALT_SHIFT</code> will only activate if <code>alt</code> is pressed before <code>shift</code>.
</p>
<p>Configuration settings for IME's can be found by by setting the keyboard to the desired IME and right-clicking the tray icon.
</p>
<h3><span class="mw-headline" id="Change_default_UI">Change default UI</span></h3>
<p>Fcitx support kimpanel protocol to provide better desktop integration.
</p>
<ul>
<li>Gnome-Shell: You can install kimpanel from extensions.gnome.org or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-shell-extension-kimpanel-git/">gnome-shell-extension-kimpanel-git</a></span><sup><small>AUR</small></sup>, which provides a similar user experience as ibus-gjs.</li>
<li>KDE: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kimtoy">kimtoy</a></span> could use skin from Sogou and fcitx.</li>
</ul>
<h3><span class="mw-headline" id="Extend_pinyin_dictionary">Extend pinyin dictionary</span></h3>
<p>Pinyin dictionary is located at <code>~/.config/fcitx/pinyin</code>. File <code>pybase.mb</code> is for single characters and file <code>pyphrase.mb</code> defines pinyin phrases. To extend them, put your file into <code>/usr/share/fcitx/pinyin</code> and restart fcitx.
</p>
<h3><span class="mw-headline" id="Skins">Skins</span></h3>
<p>You can download skins and extract them to one of the following directories, you can create the directory if it does not exist:
</p>
<pre>/usr/share/fcitx/skin   #Global settings
~/.config/fcitx/skin    #User settings
</pre>
<h3><span class="mw-headline" id="Cloud_Pinyin_configuration">Cloud Pinyin configuration</span></h3>
<p>After installing the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-cloudpinyin">fcitx-cloudpinyin</a></span> input method, restart fcitx. If you could not find it in configuration GUI, enable advanced settings. The cloud query result will be added to current input method dictionary automatically. 
</p>
<p>If your network prevents you from accessing Google, change Cloud Pinyin source to Baidu.
</p>
<p>The query result from cloud will list as secondary candidate by default and it is configurable. If the result already exists, only one item is shown. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Set query result as first candidate is not recommend because the dictionary order will be changed if query returns an empty result</div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Shortcut_keys">Shortcut keys</span></h3>
<p>Some commonly used default shortcut keys:
</p>
<ul>
<li>
<code>Ctrl+Space</code> - activates the input method</li>
<li>
<code>Left Shift</code> - temporarily switches to English</li>
<li>
<code>Ctrl+Shift</code> - switch between input methods</li>
<li>
<code>-</code>/<code>=</code> - page forward/backward</li>
<li>
<code>Shift+Space</code> - Full-width, half-width switching</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can modify these shortcut keys in the global configuration of the configuration interface.</div>
<h3><span class="mw-headline" id="Vim">Vim</span></h3>
<p>If you often use Fcitx under Vim, you can install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vim-fcitx/">vim-fcitx</a></span><sup><small>AUR</small></sup> plugin, or add the following code to <code>~/.vimrc</code>. When exiting insert mode, Fcitx is automatically closed, otherwise the reverse:
</p>
<pre>"##### auto fcitx  ###########
let g:input_toggle = 1
function! Fcitx2en()
   let s:input_status = system("fcitx-remote")
   if s:input_status == 2
      let g:input_toggle = 1
      let l:a = system("fcitx-remote -c")
   endif
endfunction

function! Fcitx2zh()
   let s:input_status = system("fcitx-remote")
   if s:input_status != 2 &amp;&amp; g:input_toggle == 1
      let l:a = system("fcitx-remote -o")
      let g:input_toggle = 0
   endif
endfunction

set ttimeoutlen=150
"Exit insert mode
autocmd InsertLeave * call Fcitx2en()
"Enter insert mode
autocmd InsertEnter * call Fcitx2zh()
"##### auto fcitx end ######
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Due to calling external programs, this will significantly slow down the mapping that will repeatedly enter and exit insert mode. It is recommended to rewrite the relevant mapping, and use Vim with Python support in conjunction with fcitx.vim to improve efficiency.</div>
<h3><span class="mw-headline" id="Special_symbols">Special symbols</span></h3>
<p>Create <code>~/.config/fcitx/data/pySym.mb</code>, the content of the file is as follows:
</p>
<pre> #The first line with "#" is a comment
 #Format: coding symbol
 #Code can only be lowercase letters, after pinyin analysis, the longest is 10 (such as py is 2, pinyin is also 2)
 #Mathematics symbols
 sxfh ＋
 sxfh －
 sxfh ＜
 sxfh ＝
 sxfh ＞
 sxfh ±
 sxfh ×
 sxfh ÷
 sxfh ∈
 sxfh ∏
 sxfh ∑
 sxfh ∕
 sxfh √
 sxfh ∝
</pre>
<p>Enter a code directly to match the corresponding special symbol.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The encoding can only be expressed with twenty-six lowercase letters; starting with v is invalid.</div>
<h3><span class="mw-headline" id="Clipboard_Access">Clipboard Access</span></h3>
<p>You can use fcitx to input text in you clipboard (as well as a short clipboard history and primary selection). The default trigger key is <code>Ctrl-;</code>. You can change the trigger key as well as other options in the Clipboard addon configure page.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is NOT a clipboard manager, it does not hold the selection or change its content as what a clipboard manager is supposed to do. It can only be used to input from the clipboard.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong>  Some clients do not support multi-line input, so you may see the multi-line clipboard content pasted as a single line using fcitx-clipboard. This is either a bug or feature of the program being used and it is not something fcitx is able to help with.</div>
<h3><span class="mw-headline" id="fcitx-remote">fcitx-remote</span></h3>
<p><i>fcitx-remote</i> is a commandline tool that can be used to control the fcitx state. It is installed with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx">fcitx</a></span> package.
</p>
<p>One option worth elaborating upon here is <code>fcitx-remote -s <i>imname</i></code>, which switches to the input method identified by <code><i>imname</i></code>. The correct <code><i>imname</i></code> for an in use input method can be found by executing <i>fcitx-diagnose</i>, and looking under the "## Input Methods:" section.
</p>
<h3><span class="mw-headline" id="Input_special_character">Input special character</span></h3>
<p>See <a href="../en/Fcitx5.html#Input_special_characters" title="Fcitx5">Fcitx5#Input special characters</a>, this content also applies to Fcitx.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Disable_or_change_Extra_key_for_trigger_input_method_.5Bsic.5D"></span><span class="mw-headline" id="Disable_or_change_Extra_key_for_trigger_input_method_[sic]">Disable or change <i>Extra key for trigger input method</i> [sic]</span>
</h3>
<p>This setting is under the <i>Global Config</i> tab and defaults to <i>SHIFT Both</i>, meaning that pressing <i>either</i> shift key will immediately change input methods. Although it should only apply when a shift key is pressed individually, it tends to randomly interrupt typing capital letters, selecting text with the keyboard, etc. while using standard keyboard input.
</p>
<p>In addition, this setting may revert to default without warning at any time. To ensure fcitx's configuration cannot be modified, you must make the file immutable: <code>chattr +i ~/.config/fcitx/config</code> (as the root user).
</p>
<h3><span class="mw-headline" id="Diagnose_the_problem">Diagnose the problem</span></h3>
<p>If you have problems using fcitx, eg. Ctrl+Space fail to work in all applications, then the first thing you should try is to diagnose using <code>fcitx-diagnose</code>.
The output of <code>fcitx-diagnose</code> should contain the clue to most common problems.
Providing the output of it will also help when you consult other people(eg. in IRC or forums).
</p>
<h3><span class="mw-headline" id="Emacs">Emacs</span></h3>
<p>If your <code>LC_CTYPE</code> is English, you may not be able to use input method in emacs due to an old emacs bug. You can set your <code>LC_CTYPE</code> to something else such as <code>zh_CN.UTF-8</code> before emacs starts to get rid of this problem. 
</p>
<p>Note that the corresponding <a href="../en/Locale.html" title="Locale">locale</a> should be <a href="../en/Locale.html#Generating_locales" title="Locale">generated</a> on your your system.
</p>
<p>The default fontset will use `-*-*-*-r-normal--14-*-*-*-*-*-*-*' as basefont (in <code>src/xfns.c</code>), if you do not have one matched (like terminus or 75dpi things, you can look the output of `xlsfonts'), XIM can not be activated. According to <a rel="nofollow" class="external text" href="https://fcitx-im.org/wiki/FAQ#Emacs">FAQ</a> and <a href="../en/Fonts.html#Bitmap" title="Fonts">Fonts</a>, it is likely that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xorg-fonts-misc-otb/">xorg-fonts-misc-otb</a></span><sup><small>AUR</small></sup> is the one that should be installed since <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-fonts-misc">xorg-fonts-misc</a></span> no longer provides the required fontset.
</p>
<h4><span class="mw-headline" id="Emacs_Daemon">Emacs Daemon</span></h4>
<p>If you are using <a href="../en/Emacs.html#As_a_daemon" title="Emacs">emacs daemon/client mode</a>, <code>LC_CTYPE</code> should be set when starting the daemon. For example, by running emacs daemon with <code>LC_CTYPE=zh_CN.UTF-8 emacs --daemon</code>.
</p>
<p>If starting emacs daemon from <a href="../en/Systemd.html" title="Systemd">systemd</a>, <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">set</a> <code>Environment="LC_CTYPE=zh_CN.UTF-8" "XMODIFIERS=@im=fcitx"</code> in the unit file.
</p>
<p>(<code>XMODIFIERS</code> may need to be set explicitly here as systemd does not load <code>.xprofile</code>. Check the <code>initial-environment</code> variable in emacs to verify both variables are set correctly.)
</p>
<h3>
<span id="Ctrl.2BSpace_fail_to_work_in_GTK_programs"></span><span class="mw-headline" id="Ctrl+Space_fail_to_work_in_GTK_programs">Ctrl+Space fail to work in GTK programs</span>
</h3>
<p>This problem sometimes happens especially when the locale is set as English. Please make sure your <code>GTK_IM_MODULE</code> is set correctly.
</p>
<p>See also <a rel="nofollow" class="external text" href="https://fcitx-im.org/wiki/FAQ#When_use_Ctrl_.2B_Space.2C_Fcitx_cannot_be_triggered_on">FAQ</a>
</p>
<p>If you have set the <code>*_IM_MODULE</code> environment variables to fcitx but cannot activate fcitx, please check if you have installed the corresponding input method modules.
</p>
<p>Some programs can only use xim, if you are using these programs, please make sure your <code>XMODIFIERS</code> is set properly and be aware of the problems you may have. These programs include all programs that are not using GTK or Qt (e.g. programs that use tk, motif, or xlib directly), emacs, opera, openoffice, libreoffice, skype.
</p>
<p>If you cannot enable fcitx in <i>gnome-terminal</i> under Gnome and the above way does not work, try:
</p>
<pre>$ gsettings set org.gnome.settings-daemon.plugins.xsettings overrides "{'Gtk/IMModule':&lt;'fcitx'&gt;}"
</pre>
<h3><span class="mw-headline" id="Buildin_Chinese_Pinyin_Default_NOT_ACTIVE">Buildin Chinese Pinyin Default NOT ACTIVE</span></h3>
<p>If your locale is <code>en_US.UTF-8</code>, fcitx did NOT enable the buildin Chinese Pinyin input method by default. There is only <code>fcitx-keyboard-us</code> input method enabled. You can get a notice by <code>fcitx-diagnose</code> command like this:
</p>
<pre>   ## Input Methods:
       1.  Found 1 enabled input methods:
               fcitx-keyboard-us
       2.  Default input methods:
           **You only have one input method enabled, please add a keyboard input method as the first one and your main input method as the second one.**
</pre>
<p>Then you should add <code>Pinyin</code> or <code>Shuangpin</code> input method to actived input methods by the GUI configure tool.
</p>
<h3><span class="mw-headline" id="fcitx_and_KDE">fcitx and KDE</span></h3>
<p>For some reasons, <a href="../en/KDE.html" title="KDE">KDE</a> does not handle keyboard layouts properly. For example, if you switch from US (English) to LT (Lithuanian), all numbers on the keyboard should produce Lithuanian letters, but they still produce numbers as the output. This can be fixed by these steps:
</p>
<ol>
<li>Turn off <i>fcitx</i> if it is running in the background.</li>
<li>Disable stuff related to KDE:
<ol>
<li>At <i>System settings &gt; Input devices &gt; Layouts (tab)</i> make sure that <i>Configure layouts</i> is unchecked.</li>
<li>At <i>System settings &gt; Input devices &gt; Advanced (tab)</i> make sure that <i>Configure keyboard options</i> is unchecked.</li>
</ol>
</li>
<li>Start <i>fcitx</i> to start it. You can close the terminal - <i>fcitx</i> will still be running in the background.</li>
<li>Set up your needed layouts (right click on the system tray icon, then <i>Configure</i>).</li>
<li>Right click on the system tray icon, then <i>Exit</i>
</li>
</ol>
<p>At this point you should have working layouts, native KDE layouts switch icon should appear and you can switch them by mouse scroll or click on it.
</p>
<h3><span class="mw-headline" id="Input_method_switched_to_English_unintentionally">Input method switched to English unintentionally</span></h3>
<p>For instance, in XMind, when the user presses <code>Enter</code> to create a node, input method is always switched to English, and has to be switched back to Chinese manually.
</p>
<p>To fix this issue, open the fcitx GUI configuration tool (provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-configtool">fcitx-configtool</a></span>), switch to tab <i>Global Config</i>, in dropdown menu <i>Share State Among Window</i>, select <i>PerProgram</i> or <i>All</i>.
</p>
<h3><span class="mw-headline" id="xmodmap_settings_being_overwritten">xmodmap settings being overwritten</span></h3>
<p>fcitx controls keyboard layout, so your <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a> settings will be overwritten.
Since 4.2.7, Fcitx will try to load <code>~/.Xmodmap</code> if it exists.
</p>
<p>For more details on how you can save your xmodmap changes see <a rel="nofollow" class="external text" href="https://fcitx-im.org/wiki/FAQ#xmodmap_settings_being_overwritten">FAQ</a>
</p>
<h4><span class="mw-headline" id="Fcitx_and_setxkbmap">Fcitx and setxkbmap</span></h4>
<p>If you are using <i>setxkbmap</i> for another language, then (as per above) fcitx can overwrite them and even prevent from switching to that language in certain applications (e.g. QuteBrowser).
</p>
<p>If you would like to prevent that and manage your <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a> layouts independently from fcitx then follow these steps:
</p>
<ol>
<li>Open the fcitx GUI configuration tool (provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fcitx-configtool">fcitx-configtool</a></span>)</li>
<li>Switch to tab <i>Addon</i>
</li>
<li>Select <i>Advanced</i>
</li>
<li>Search for <i>xkb</i>#</li>
<li>Select <i>X Keyboards Integration</i>
</li>
<li>Click <i>Configure</i>
</li>
<li>Unselect <i>Allow to Override System XKB Settings</i>
</li>
<li>Click <i>OK</i>
</li>
</ol>
<h3><span class="mw-headline" id="Fcitx_preedit_box_is_too_small_with_HiDPI">Fcitx preedit box is too small with HiDPI</span></h3>
<p>See <a href="../en/HiDPI.html#Fcitx" title="HiDPI">HiDPI#Fcitx</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/fcitx/fcitx">Fcitx GitLab</a></li>
<li><a rel="nofollow" class="external text" href="https://fcitx-im.org/">Fcitx Wiki</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Input_methods.html" title="Category:Input methods">Input methods</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fcitx&amp;oldid=789469">https://wiki.archlinux.org/index.php?title=Fcitx&amp;oldid=789469</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 October 2023, at 14:30.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
