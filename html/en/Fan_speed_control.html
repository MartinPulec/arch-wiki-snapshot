<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Fan speed control - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fan_speed_control rootpage-Fan_speed_control skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Overview" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Overview">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Overview</div>
		</a>
		
		<ul id="toc-Overview-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fancontrol_(lm-sensors)" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Fancontrol_(lm-sensors)">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Fancontrol (lm-sensors)</div>
		</a>
		
			<button aria-controls="toc-Fancontrol_(lm-sensors)-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Fancontrol (lm-sensors) subsection</span>
			</button>
		
		<ul id="toc-Fancontrol_(lm-sensors)-sublist" class="vector-toc-list">
			<li id="toc-lm-sensors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#lm-sensors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>lm-sensors</div>
			</a>
			
			<ul id="toc-lm-sensors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration-sublist" class="vector-toc-list">
				<li id="toc-Tweaking" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tweaking">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Tweaking</div>
			</a>
			
			<ul id="toc-Tweaking-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Running_Fancontrol" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running_Fancontrol">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Running Fancontrol</div>
			</a>
			
			<ul id="toc-Running_Fancontrol-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fancontrol_stops_working_after_suspend–wake_cycles" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fancontrol_stops_working_after_suspend%E2%80%93wake_cycles">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Fancontrol stops working after suspend–wake cycles</div>
			</a>
			
			<ul id="toc-Fancontrol_stops_working_after_suspend–wake_cycles-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-NBFC" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#NBFC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>NBFC</div>
		</a>
		
			<button aria-controls="toc-NBFC-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle NBFC subsection</span>
			</button>
		
		<ul id="toc-NBFC-sublist" class="vector-toc-list">
			<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dell_laptops" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Dell_laptops">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Dell laptops</div>
		</a>
		
			<button aria-controls="toc-Dell_laptops-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dell laptops subsection</span>
			</button>
		
		<ul id="toc-Dell_laptops-sublist" class="vector-toc-list">
			<li id="toc-Installation_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installation_as_a_service" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_as_a_service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Installation as a service</div>
			</a>
			
			<ul id="toc-Installation_as_a_service-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BIOS_overriding_fan_control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BIOS_overriding_fan_control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>BIOS overriding fan control</div>
			</a>
			
			<ul id="toc-BIOS_overriding_fan_control-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-ThinkPad_laptops" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#ThinkPad_laptops">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>ThinkPad laptops</div>
		</a>
		
			<button aria-controls="toc-ThinkPad_laptops-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle ThinkPad laptops subsection</span>
			</button>
		
		<ul id="toc-ThinkPad_laptops-sublist" class="vector-toc-list">
			<li id="toc-Installation_3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Running" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Running">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Running</div>
			</a>
			
			<ul id="toc-Running-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Lenovo_Legions_laptops" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Lenovo_Legions_laptops">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Lenovo Legions laptops</div>
		</a>
		
		<ul id="toc-Lenovo_Legions_laptops-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-ASUS_laptops" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#ASUS_laptops">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>ASUS laptops</div>
		</a>
		
			<button aria-controls="toc-ASUS_laptops-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle ASUS laptops subsection</span>
			</button>
		
		<ul id="toc-ASUS_laptops-sublist" class="vector-toc-list">
			<li id="toc-Kernel_modules" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Kernel_modules">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Kernel modules</div>
			</a>
			
			<ul id="toc-Kernel_modules-sublist" class="vector-toc-list">
				<li id="toc-asus-nb-wmi" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#asus-nb-wmi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.1</span>asus-nb-wmi</div>
			</a>
			
			<ul id="toc-asus-nb-wmi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-asus_fan" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#asus_fan">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.2</span>asus_fan</div>
			</a>
			
			<ul id="toc-asus_fan-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Generate_configuration_file_with_pwmconfig" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Generate_configuration_file_with_pwmconfig">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Generate configuration file with pwmconfig</div>
			</a>
			
			<ul id="toc-Generate_configuration_file_with_pwmconfig-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Alternative_method_using_EC_registers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Alternative_method_using_EC_registers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>Alternative method using EC registers</div>
			</a>
			
			<ul id="toc-Alternative_method_using_EC_registers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_thermal_throttle_policy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_thermal_throttle_policy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Setting thermal throttle policy</div>
			</a>
			
			<ul id="toc-Setting_thermal_throttle_policy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fan_control_modes_on_certain_TUF_series_laptops" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fan_control_modes_on_certain_TUF_series_laptops">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.5</span>Fan control modes on certain TUF series laptops</div>
			</a>
			
			<ul id="toc-Fan_control_modes_on_certain_TUF_series_laptops-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-AMDGPU_sysfs_fan_control" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#AMDGPU_sysfs_fan_control">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>AMDGPU sysfs fan control</div>
		</a>
		
			<button aria-controls="toc-AMDGPU_sysfs_fan_control-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle AMDGPU sysfs fan control subsection</span>
			</button>
		
		<ul id="toc-AMDGPU_sysfs_fan_control-sublist" class="vector-toc-list">
			<li id="toc-Manual_fan_control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Manual_fan_control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Manual fan control</div>
			</a>
			
			<ul id="toc-Manual_fan_control-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fan_curves_control" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fan_curves_control">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Fan curves control</div>
			</a>
			
			<ul id="toc-Fan_curves_control-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-amdgpu-fan" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#amdgpu-fan">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>amdgpu-fan</div>
			</a>
			
			<ul id="toc-amdgpu-fan-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-amdfand-bin" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#amdfand-bin">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>amdfand-bin</div>
			</a>
			
			<ul id="toc-amdfand-bin-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fancurve_script" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#fancurve_script">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5</span>fancurve script</div>
			</a>
			
			<ul id="toc-fancurve_script-sublist" class="vector-toc-list">
				<li id="toc-Setting_up_fancurve_script" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Setting_up_fancurve_script">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5.1</span>Setting up fancurve script</div>
			</a>
			
			<ul id="toc-Setting_up_fancurve_script-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Increase_the_fan_divisor_for_sensors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Increase_the_fan_divisor_for_sensors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Increase the fan divisor for sensors</div>
			</a>
			
			<ul id="toc-Increase_the_fan_divisor_for_sensors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Device_paths_have_changed_in_/etc/fancontrol" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Device_paths_have_changed_in_/etc/fancontrol">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>Device paths have changed in /etc/fancontrol</div>
			</a>
			
			<ul id="toc-Device_paths_have_changed_in_/etc/fancontrol-sublist" class="vector-toc-list">
				<li id="toc-Solution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Solution">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2.1</span>Solution</div>
			</a>
			
			<ul id="toc-Solution-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Alternative_solution:_absolute_paths" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Alternative_solution:_absolute_paths">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2.2</span>Alternative solution: absolute paths</div>
			</a>
			
			<ul id="toc-Alternative_solution:_absolute_paths-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Fan speed control</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Fan_speed_control.html" title="Fan speed control – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%95%E3%82%A1%E3%83%B3%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E5%88%B6%E5%BE%A1" title="ファンスピード制御 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Fan_speed_control" title="Fan speed control – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Lm_sensors.html" title="Lm sensors">lm_sensors</a></li>
<li><a href="../en/Undervolting_CPU.html" title="Undervolting CPU">Undervolting CPU</a></li>
<li><a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a></li>
</ul>
</div>
<p>Fan control can bring various benefits to your system, such as quieter working system and power saving by completely stopping fans on low CPU load.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Configuring or completely stopping fans on high system load might result in permanently damaged hardware, or thermal throttling at best.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> The note should be merged with the introduction, the tools should be left to their respective sections if they have one, while the remaining ones should be put at the bottom in a "catch-all" section (with a proper title?). (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Fan_speed_control.html">Talk:Fan speed control</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Laptop users should be aware about how cooling system works in their hardware. Some laptops have single fan for both CPU and GPU and cools both at the same time. Some laptops have two fans for CPU and GPU, but the first fan cools down CPU and GPU at the same time, while the other one cools CPU only. In some cases, you will not be able to use the <a href="#Fancontrol_(lm-sensors)">Fancontrol</a> script due to incompatible cooling architecture (e.g. one fan for both GPU and CPU). See <a rel="nofollow" class="external autonumber" href="https://github.com/daringer/asus-fan/issues/47#issue-232063547">[1]</a> for some more information about this topic.</div>
<p>There are multiple working solutions for fan control for both desktops and notebooks. Depending on your needs:
</p>
<ul>
<li>
<a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a> — Script (written in Bash) to configure fan speeds. Most suitable for desktops and laptops, where fan controls are available via <span class="plainlinks archwiki-template-man" title="$ man 5 sysfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysfs.5">sysfs(5)</a></span>.</li>
<li>
<a href="#NBFC">NoteBook Fan Control (NBFC)</a> — Cross-platform solution for laptop fan control, written in C# and works under <a href="../en/Mono.html" title="Mono">Mono</a> runtime. Most suitable for latest, unsupported by <a href="#Fancontrol_(lm-sensors)">Fancontrol</a> laptops.</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/nbfc-linux/nbfc-linux">NBFC-Linux</a> — A lightweight implementation of NBFC, written in C. It does not depend on the Mono framework. It can be installed as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-linux/">nbfc-linux</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-linux-git/">nbfc-linux-git</a></span><sup><small>AUR</small></sup>.</li>
<li>
<a href="#Dell_laptops">Dell laptops</a> — Alternative fan control daemon for some Dell laptops.</li>
<li>
<a href="#ThinkPad_laptops">ThinkPad laptops</a> — Fan configuration for some ThinkPad laptops.</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/johnfanv2/LenovoLegionLinux">Lenovo Legion Linux</a> — Fan speed configuration and other settings for some Lenovo Legion laptops.</li>
<li>
<a href="#ASUS_laptops">ASUS laptops</a> — Configure some ASUS laptops for <a href="#Fancontrol_(lm-sensors)">Fancontrol</a> or manual control.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fan2go-git/">fan2go-git</a></span><sup><small>AUR</small></sup> — An alternative to Fancontrol independent of device-paths.</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/dmitry-s93/MControlCenter">MControlCenter</a> — Fan control application for MSI laptops.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fw-ectool-git/">fw-ectool-git</a></span><sup><small>AUR</small></sup> — Fan configuration for <a href="../en/Framework_Laptop_13.html" class="mw-redirect" title="Framework Laptop">Framework Laptops</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/CoolerControl/">CoolerControl</a></span><sup><small>AUR</small></sup> — A fan control daemon with GUI for <i>sysfs</i> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=liquidctl">liquidctl</a></span> devices.</li>
</ul>
<h2>
<span id="Fancontrol_.28lm-sensors.29"></span><span class="mw-headline" id="Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</span>
</h2>
<p><code>fancontrol</code> is a part of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lm_sensors">lm_sensors</a></span>, which can be used to control the speed of CPU/case fans.
</p>
<p>Support for newer motherboards may not yet be in the Linux kernel. Check the official <a rel="nofollow" class="external text" href="https://hwmon.wiki.kernel.org/device_support_status">lm-sensors devices</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2024-10-12 ⓘ]</sup> table to see if experimental drivers are available for such motherboards.
</p>
<h3><span class="mw-headline" id="lm-sensors">lm-sensors</span></h3>
<p>The first thing to do is to run
</p>
<pre># sensors-detect
</pre>
<p>This will detect all of the sensors present and they will be used for <i>fancontrol</i>. After that, run the following to check if it detected the sensors correctly:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ sensors</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">coretemp-isa-0000
Adapter: ISA adapter
Core 0:      +29.0°C  (high = +76.0°C, crit = +100.0°C)
...
it8718-isa-0290
Adapter: ISA adapter
Vcc:         +1.14 V  (min =  +0.00 V, max =  +4.08 V)
VTT:         +2.08 V  (min =  +0.00 V, max =  +4.08 V)
+3.3V:       +3.33 V  (min =  +0.00 V, max =  +4.08 V)
NB Vcore:    +0.03 V  (min =  +0.00 V, max =  +4.08 V)
VDRAM:       +2.13 V  (min =  +0.00 V, max =  +4.08 V)
fan1:        690 RPM  (min =   10 RPM)
temp1:       +37.5°C  (low  = +129.5°C, high = +129.5°C)  sensor = thermistor
temp2:       +25.0°C  (low  = +127.0°C, high = +127.0°C)  sensor = thermal diode</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the output does not display an RPM value for the CPU fan, one may need to <a href="#Increase_the_fan_divisor_for_sensors">#Increase the fan divisor for sensors</a>. If the fan speed is shown and higher than 0, this is fine.</div>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p>Once the sensors are properly configured, use <span class="plainlinks archwiki-template-man" title="$ man 8 pwmconfig"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pwmconfig.8">pwmconfig(8)</a></span> to test and configure fan speed control. Following the guide should create <code>/etc/fancontrol</code>, a customized configuration file. In the guide, the default answers are in parenthesis if you press enter without typing anything. Enter <code>y</code> for yes, <code>n</code> for no.
</p>
<pre># pwmconfig
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Some users may experience issues when using <code>/sys/class/hwmon/</code> paths for their configuration file. <i>hwmon</i> class device symlinks point to the absolute paths, and are used to group all of the <i>hwmon</i> sensors together into one directory for easier access. Sometimes, the order of the <i>hwmon</i> devices change from a reboot, causing <i>fancontrol</i> to stop working. See <a href="#Device_paths_have_changed_in_/etc/fancontrol">#Device paths have changed in /etc/fancontrol</a> for more information on how to fix this.</div>
<h4><span class="mw-headline" id="Tweaking">Tweaking</span></h4>
<p>Some users may want to manually tweak the configuration file after running <code>pwmconfig</code> with root privileges, usually to fix something. For manually tweaking the <code>/etc/fancontrol</code> configuration file, see <span class="plainlinks archwiki-template-man" title="$ man 8 fancontrol"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fancontrol.8">fancontrol(8)</a></span> for the variable definitions.
</p>
<p>Users will probably encounter the <i>hwmon</i> path issues as noted above in <a href="#Fancontrol_(lm-sensors)">#Fancontrol (lm-sensors)</a>. See <a href="#Device_paths_have_changed_in_/etc/fancontrol">#Device paths have changed in /etc/fancontrol</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Use <code>MAXPWM</code> and <code>MINPWM</code> options that limit fan speed range. See <span class="plainlinks archwiki-template-man" title="$ man 8 fancontrol"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fancontrol.8">fancontrol(8)</a></span> for details.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Temperature and fan sensor paths could change as well (usually on a kernel update) (e.g. <code>hwmon0/device/temp1_input</code> becomes <code>hwmon0/temp1_input</code>). Check the <code>fancontrol.service</code> <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Unit status">unit status</a> to find out which path is the troublemaker and correct your configuration file accordingly.</div>
<h3><span class="mw-headline" id="Running_Fancontrol">Running Fancontrol</span></h3>
<p>Try to run <i>fancontrol</i>:
</p>
<pre># fancontrol
</pre>
<p>A properly configured setup will not output errors and will take control of the system fans. Users should hear system fans starting shortly after executing this command. <i>fancontrol</i> can also be run by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>fancontrol.service</code>.
</p>
<p>For an unofficial GUI, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fancontrol-gui/">fancontrol-gui</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fancontrol-kcm/">fancontrol-kcm</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Fancontrol_stops_working_after_suspend.E2.80.93wake_cycles"></span><span class="mw-headline" id="Fancontrol_stops_working_after_suspend–wake_cycles">Fancontrol stops working after suspend–wake cycles</span>
</h3>
<p>Unfortunately, <i>fancontrol</i> does not work after suspending. As per the <a rel="nofollow" class="external text" href="https://github.com/lm-sensors/lm-sensors/issues/172">filed bug</a>, you will have to restart <i>fancontrol</i> after suspending. This can be achieved automatically by a <a href="../en/Power_management/Suspend_and_hibernate.html#Hooks_in_/usr/lib/systemd/system-sleep" title="Power management/Suspend and hibernate">systemd hook</a>.
</p>
<h2><span class="mw-headline" id="NBFC">NBFC</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> NBFC has been unmaintained since Mar 29, 2020. New user configs can still be created manually, however predefined configurations have not been added since that time. There are forks that exist to add new configs, such as <a rel="nofollow" class="external text" href="https://github.com/UraniumDonut/nbfc-revive">nbfc-revive</a>.</div>
<p>NBFC is a cross-platform fan control solution for notebooks. It comes with a powerful configuration system, which allows to adjust it to many different notebook models, including some of the latest ones.
</p>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p>NBFC can be installed as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc/">nbfc</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-git/">nbfc-git</a></span><sup><small>AUR</small></sup>. Also <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>nbfc.service</code>.
</p>
<h3><span class="mw-headline" id="Configuration_2">Configuration</span></h3>
<p>NBFC comes with pre-made profiles. You can find them in <code>/opt/nbfc/Configs/</code> directory. When applying them, use the exact profile name without a file extension (e.g. <code>some profile.xml</code> becomes <code>"some profile"</code>).
</p>
<p>Check if there is anything NBFC can recommend:
</p>
<pre>$ nbfc config -r
</pre>
<p>If there is at least one model, try to apply this profile and see how fan speeds are being handled. For example:
</p>
<pre>$ nbfc config -a "Asus Zenbook UX430UA"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you are getting <code>File Descriptor does not support writing</code>, delete <code>StagWare.Plugins.ECSysLinux.dll</code> <a rel="nofollow" class="external autonumber" href="https://github.com/hirschmann/nbfc/issues/439">[2]</a> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>nbfc.service</code>:
<pre># mv /opt/nbfc/Plugins/StagWare.Plugins.ECSysLinux.dll /opt/nbfc/Plugins/StagWare.Plugins.ECSysLinux.dll.old
</pre>
<p>If above solution did not help, try appending <code>ec_sys.write_support=1</code> to <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
</div>
<p>If there are no recommended models, go to <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/tree/master/Configs">NBFC git repository</a> or <code>/opt/nbfc/Configs/</code> and check if there are any similar models available from the same manufacturer. For example, on <b>Asus Zenbook UX430UQ</b>, the configuration <b>Asus Zenbook UX430UA</b> did not work well (fans completelly stopped all the time), but <b>Asus Zenbook UX410UQ</b> worked fantastically.
</p>
<p>Run <code>nbfc</code> to see all options. More information about configuration is available at <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/wiki/">upstream wiki</a>.
</p>
<h2><span class="mw-headline" id="Dell_laptops">Dell laptops</span></h2>
<p><i>i8kutils</i> is a daemon to configure fan speed according to CPU temperatures on some Dell Inspiron and Latitude laptops. It uses the <code>/proc/i8k</code> interface provided by the <code>i8k</code> driver (an alias for <code>dell_smm_hwmon</code>). Results will vary depending on the exact model of laptop.
</p>
<p>If fancontrol will not work on your system, use the <code>ignore_dmi=1</code> <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a> to load <code>dell_smm_hwmon</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <i>i8kutils</i> BIOS system calls stop the kernel for a moment on some systems (confirmed on Dell 9560), this can lead to side effects like audio dropouts, see <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=201097">https://bugzilla.kernel.org/show_bug.cgi?id=201097</a>
</div>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/i8kutils/">i8kutils</a></span><sup><small>AUR</small></sup> is the main package to control fan speed. Additionally, you might want to install these:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi">acpi</a></span> — must be installed to use <i>i8kmon</i>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tcl">tcl</a></span> — must be installed in order to run <i>i8kmon</i> as a background service (using the <code>--daemon</code> option).</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tk">tk</a></span> — must be installed together with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tcl">tcl</a></span> to run as X11 desktop applet.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dell-bios-fan-control-git/">dell-bios-fan-control-git</a></span><sup><small>AUR</small></sup> — recommended if your BIOS overrides fan control.</li>
</ul>
<h3><span class="mw-headline" id="Configuration_3">Configuration</span></h3>
<p>The temperature points at which the fan changes speed can be adjusted in the configuration file <code>/etc/i8kutils/i8kmon.conf</code>. Only three fans speeds are supported (high, low, and off). Look for a section similar to the following:
</p>
<pre>set config(0)  {{0 0}  -1  55  -1  55}
set config(1)  {{1 1}  45  75  45  75}
set config(2)  {{2 2}  65 128  65 128}
</pre>
<p>This example starts the fan at low speed when the CPU temperature reaches 55 °C, switching to high speed at 75 °C. The fan will switch back to low speed once the temperature drops to 65 °C, and turns off completely at 45 °C.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If when running <code>i8kmon</code> with the verbose option you notice that the state changes (example of an output: <code># (57&gt;=55), state=1, low=45, high=75</code>) but right and left fans report state 0, you might consider changing the speed value of the first state in the configuration file from default 1000 to 2000 or higher.</div>
<h3><span class="mw-headline" id="Installation_as_a_service">Installation as a service</span></h3>
<p><i>i8kmon</i> can be started automatically by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>i8kmon.service</code>.
</p>
<h3><span class="mw-headline" id="BIOS_overriding_fan_control">BIOS overriding fan control</span></h3>
<p>Some newer laptops have BIOS fan control in place which will override the OS level fan control. To test if this the case, run <code>i8kmon</code> with verbose mode in a command line, make sure the CPU is idle, then see if the fan is turned off or turned down accordingly.
</p>
<p>If the BIOS fan control is in place, you can try using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dell-bios-fan-control-git/">dell-bios-fan-control-git</a></span><sup><small>AUR</small></sup>:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Turning off BIOS fan control could result in damage to your hardware. Make sure you have <i>i8kmon</i> properly set up beforehand, or leave the CPU idle while you test this program.</div>
<p>To enable BIOS fan control:
</p>
<pre># dell-bios-fan-control 1
</pre>
<p>To disable BIOS fan control:
</p>
<pre># dell-bios-fan-control 0
</pre>
<p>BIOS fan control can be automatically disabled by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>dell-bios-fan-control.service</code>.
</p>
<h2><span class="mw-headline" id="ThinkPad_laptops">ThinkPad laptops</span></h2>
<p>Some fan control daemons include <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/simpfand-git/">simpfand-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan/">thinkfan</a></span><sup><small>AUR</small></sup> (recommended).
</p>
<h3><span class="mw-headline" id="Installation_3">Installation</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan/">thinkfan</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan-git/">thinkfan-git</a></span><sup><small>AUR</small></sup>. Optionally, but recommended, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lm_sensors">lm_sensors</a></span>. If needed, a GUI is available with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan-ui/">thinkfan-ui</a></span><sup><small>AUR</small></sup>. Then have a look at the files:
</p>
<pre># pacman -Ql thinkfan
</pre>
<p>Note that the <i>thinkfan</i> package installs <code>/usr/lib/modprobe.d/thinkpad_acpi.conf</code>, which contains the following <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel module parameter">kernel module parameter</a>:
</p>
<pre>options thinkpad_acpi fan_control=1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> New Thinkpad models may require an additional <code>experimental=1</code> kernel module parameter. So, it is important to check fan functionality.</div>
<p>So fan control is enabled by default.
</p>
<p>Now, load the module:
</p>
<pre># modprobe thinkpad_acpi
# cat /proc/acpi/ibm/fan
</pre>
<p>You should see that the fan level is "auto" by default, but you can echo a level command to the same file to control the fan speed manually:
</p>
<pre># echo level 1 &gt; /proc/acpi/ibm/fan
</pre>
<table class="wikitable">
<caption>Fan Levels
</caption>
<tbody>
<tr>
<th>Level</th>
<th>Effect
</th>
</tr>
<tr>
<td>0</td>
<td>off
</td>
</tr>
<tr>
<td>2</td>
<td>low speed
</td>
</tr>
<tr>
<td>4</td>
<td>medium speed
</td>
</tr>
<tr>
<td>7</td>
<td>maximum speed
</td>
</tr>
<tr>
<td>auto</td>
<td>default - automatic, the fan RPM is controlled by the BIOS
</td>
</tr>
<tr>
<td>full-speed</td>
<td>the maximum fan speed while being monitored
</td>
</tr>
<tr>
<td>disengaged</td>
<td>even faster speed, where the controller does not monitor the fan speed
</td>
</tr>
</tbody>
</table>
<p>The <i>thinkfan</i> daemon will do this automatically.
</p>
<p>"7" is not the same as "disengaged". "7" is the maximum regulated speed (corresponds to "full-speed"). disengaged is the maximum unregulated speed.
See <a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/How_to_control_fan_speed#Disengaged_.28full-speed.29_mode">ThinkWiki</a> for more details.
</p>
<p>Finally, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> the <code>thinkfan.service</code>.
</p>
<p>To configure the temperature thresholds, you will need to copy the example configuration file (<code>/usr/share/doc/thinkfan/thinkfan.yaml</code>) to <code>/etc/thinkfan.conf</code>, and modify to taste. This file specifies which sensors to read, and which interface to use to control the fan. Some systems have <code>/proc/acpi/ibm/fan</code> and <code>/proc/acpi/ibm/thermal</code> available; on others, you will need to specify something like:
</p>
<pre>hwmon: /sys/devices/virtual/thermal/thermal_zone0/temp
</pre>
<p>to use generic <i>hwmon</i> sensors instead of thinkpad-specific ones.
</p>
<p>A configuration example can be found in <a href="https://wiki.gentoo.org/wiki/Fan_speed_control/thinkfan#Configuration" class="extiw" title="gentoo:Fan speed control/thinkfan">Gentoo:Fan speed control/thinkfan#Configuration</a>.
</p>
<h3><span class="mw-headline" id="Running">Running</span></h3>
<p>You can test your configuration first by running thinkfan manually (as root):
</p>
<pre># thinkfan -n
</pre>
<p>and see how it reacts to the load level of whatever other programs you have running.
</p>
<p>When you have it configured correctly, <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> <code>thinkfan.service</code>.
</p>
<h2><span class="mw-headline" id="Lenovo_Legions_laptops">Lenovo Legions laptops</span></h2>
<p>The tool <a rel="nofollow" class="external text" href="https://github.com/johnfanv2/LenovoLegionLinux">Lenovo Legion Linux</a> allows to change the fan curves that are stored in the embedded controller. It consists of a kernel module that must be compiled and loaded. Currently, there is no package, but it must be compiled and installed from source.
</p>
<p>Then the fan curve can be set via the hwmon interface. This can be done with the provided script or the Python GUI.
</p>
<h2><span class="mw-headline" id="ASUS_laptops">ASUS laptops</span></h2>
<p>This topic will cover drivers configuration on ASUS laptops for <a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a>.
</p>
<h3><span class="mw-headline" id="Kernel_modules">Kernel modules</span></h3>
<p>In configuration files, we are going to use full paths to <i>sysfs</i> files (e.g. <code>/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1</code>). This is because <code>hwmon<b>1</b></code> might change to any other number after reboot. <a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a> is written in <a href="../en/Bash.html" title="Bash">Bash</a>, so using these paths in configuration file is completely acceptable. You can find complete <code>/etc/fancontrol</code> configuration file examples at <a href="../en/ASUS_N550JV.html#Fan_control" title="ASUS N550JV">ASUS N550JV#Fan control</a>.
</p>
<h4><span class="mw-headline" id="asus-nb-wmi">asus-nb-wmi</span></h4>
<p><code>asus-nb-wmi</code> is a kernel module, which is included in the Linux kernel and is loaded automatically on ASUS laptops. It will only allow to control a single fan and if there is a second fan you will not have any controls over it. Note that blacklisting this module will prevent keyboard backlight to work.
</p>
<p>Below are the commands to control it. Check if you have any controls over your fan:
</p>
<pre># echo 255 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1           # Full fan speed (Value: 255)
# echo 0 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1             # Fan is stopped (Value: 0)
# echo 2 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1_enable      # Change fan mode to automatic
# echo 1 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1_enable      # Change fan mode to manual
# echo 0 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1_enable      # Change fan mode to full speed
</pre>
<p>If you were able to modify fan speed with above commands, then continue with <a href="#Generate_configuration_file_with_pwmconfig">#Generate configuration file with pwmconfig</a>.
</p>
<h4><span class="mw-headline" id="asus_fan">asus_fan</span></h4>
<p><code>asus_fan</code> is a kernel module, which allows to control both fans on some older ASUS laptops. It does not work with the most recent models.
</p>
<p>Install the <a href="../en/Dynamic_Kernel_Module_Support.html" class="mw-redirect" title="DKMS">DKMS</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/asus-fan-dkms-git/">asus-fan-dkms-git</a></span><sup><small>AUR</small></sup> <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a>, providing <code>asus_fan</code>:
</p>
<pre># modprobe asus_fan
</pre>
<p>Check if you have any control over both fans:
</p>
<pre># echo 255 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1          # Full CPU fan speed (Value: 255)
# echo 0 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1            # CPU fan is stopped (Value: 0)
# echo 255 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2          # Full GFX fan speed (Value: 255)
# echo 0 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2            # GFX fan is stopped (Value: 0)
# echo 2 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1_enable     # Change CPU fan mode to automatic
# echo 1 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1_enable     # Change CPU fan mode to manual
# echo 2 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2_enable     # Change GFX fan mode to automatic
# echo 1 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2_enable     # Change GFX fan mode to manual
# cat /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/temp1_input          # Display GFX temperature (will always be 0 when GFX is disabled/unused)
</pre>
<p>If everything works, you can <a href="../en/Kernel_module.html#Automatic_module_loading" class="mw-redirect" title="Load the module at boot">load the module at boot</a> to automate this step.
</p>
<h3><span class="mw-headline" id="Generate_configuration_file_with_pwmconfig">Generate configuration file with pwmconfig</span></h3>
<p>If you get an error <code>There are no working fan sensors, all readings are 0</code> while generating configuration file with <code>pwmconfig</code>, open first console and execute:
</p>
<pre># watch -n 1 "echo 2 &gt; /sys/devices/platform/<i><b>kernel_module</b></i>/hwmon/hwmon[[:print:]]*/pwm<b>1</b>_enable"
</pre>
<p>If you use <code>asus_fan</code> kernel module and have 2nd fan, in second console:
</p>
<pre># watch -n 1 "echo 2 &gt; /sys/devices/platform/<i><b>kernel_module</b></i>/hwmon/hwmon[[:print:]]*/pwm<b>2</b>_enable"
</pre>
<p>And finally, in the third console:
</p>
<pre># pwmconfig
</pre>
<p>Once you are done and the configuration file is generated, you should stop the first and second consoles. Continue with <a href="#Fancontrol_(lm-sensors)">#Fancontrol (lm-sensors)</a>. After the configuration file is generated, you might need to manually replace PWM values with full <i>sysfs</i> paths as they are used in these steps, because <i>hwmon</i> number values might change after reboot.
</p>
<h3><span class="mw-headline" id="Alternative_method_using_EC_registers">Alternative method using EC registers</span></h3>
<p>If the above methods do not work for you, an alternative method is to directly write to certain registers in the embedded controller (EC). Using the <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/wiki/EC-probing-tool">EC-Probe tool</a>, you can set the fan mode to one of the three fan speed modes, provided your model offers such feature in Windows.
</p>
<p>In ASUS FX504GD model setting the fan speed to one of the three modes uses these register values:
</p>
<pre># ec_probe write 0x5e 0x80 # silent mode
# ec_probe write 0x5e 0x40 # balance mode
# ec_probe write 0x5e 0xC0 # performance mode
</pre>
<p>Here we write to register <code>0x5e</code> that is responsible in setting the fan speed mode.
</p>
<p>If these values do not work for you, run the <i>ec-probe</i> tool in monitor mode in Windows and try to identify which register in the EC changes value when switching through fan speed modes.
</p>
<h3><span class="mw-headline" id="Setting_thermal_throttle_policy">Setting thermal throttle policy</span></h3>
<p>Instead of manually controlling fan speed using <code>asus-nb-wmi</code>, it is also possible to set the <a rel="nofollow" class="external text" href="https://patchwork.kernel.org/project/platform-driver-x86/patch/20191215142634.13888-1-leonmaxx@gmail.com/">thermal throttling policy</a> to have a more or less aggressive fan control policy. Possible values are <code>0</code> (default), <code>1</code> (overboost), and <code>2</code> (silent).
</p>
<pre># echo <i>number</i> &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/throttle_thermal_policy
</pre>
<h3><span class="mw-headline" id="Fan_control_modes_on_certain_TUF_series_laptops">Fan control modes on certain TUF series laptops</span></h3>
<p>On certain ASUS TUF series laptops, performance and fan control modes can be changed using <code>Fn+F5</code>. The current mode can be viewed by running the following command:
</p>
<pre>$ cat /sys/devices/platform/asus-nb-wmi/fan_boost_mode
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> On some laptops, this setting may instead be at <code>/sys/devices/platform/asus-nb-wmi/throttle_thermal_policy</code>.</div>
<p>You can view the value changing as you use press <code>Fn+F5</code>. 0 is "Normal Mode", 1 is "Performance Mode", 2 is most likely "Silent Mode".<a rel="nofollow" class="external autonumber" href="https://lore.kernel.org/lkml/72b3e0aa-d53a-8a82-1505-f4f00aa2bb46@gmail.com/">[3]</a> It is also possible to write these values into the <code>fan_boost_mode</code> file as root and have the desired effect.
</p>
<p>This was tested on the ASUS TUF FX504GE and ASUS TUF FX504GD models and found to be working.
</p>
<p>You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tuf-fan-boost-notification-git/">tuf-fan-boost-notification-git</a></span><sup><small>AUR</small></sup> to get notifications every time the FanSpeed mode gets changed.
</p>
<h2><span class="mw-headline" id="AMDGPU_sysfs_fan_control">AMDGPU sysfs fan control</span></h2>
<p><a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a> kernel driver offers fan control for graphics cards via <i>hwmon</i> in <i>sysfs</i>.
</p>
<h3><span class="mw-headline" id="Manual_fan_control">Manual fan control</span></h3>
<p>To switch to manual fan control from automatic, run
</p>
<pre># echo "1" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1_enable
</pre>
<p>Set up fan speed to e.g. 50% (100% are 255 PWM cycles, thus calculate desired fan speed percentage by multiplying its value by 2.55):
</p>
<pre># echo "128" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1
</pre>
<p>To reset to automatic fan control, run
</p>
<pre># echo "2" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1_enable
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Resetting fan speed to auto may not work due to a driver bug and instead a restart of the driver may be required as a workaround.</div>
<h3><span class="mw-headline" id="Fan_curves_control">Fan curves control</span></h3>
<p>Newer AMD graphical cards such as RDNA3 graphical cards do not support manual fan control due to firmware limitations <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/drm/amd/-/issues/2764#note_2031564">[4]</a>. For these cases AMD provides a <i>fan_curve</i> sysfs api for controlling the fan curves, for more information on it see <a rel="nofollow" class="external autonumber" href="https://docs.kernel.org/gpu/amdgpu/thermal.html#fan-curve">[5]</a>.
</p>
<h3><span class="mw-headline" id="amdgpu-fan">amdgpu-fan</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdgpu-fan/">amdgpu-fan</a></span><sup><small>AUR</small></sup> package is an automated fan controller for AMDGPU-enabled video cards written in Python. It uses a "speed-matrix" to match the frequency of the fans with the temperature of the GPU, for example:
</p>
<pre>speed_matrix:  # -[temp(*C), speed(0-100%)]
- [0, 0]
- [40, 30]
- [60, 50]
- [80, 100]
</pre>
<p>Launch the fan control service by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>amdgpu-fan.service</code>.
</p>
<h3><span class="mw-headline" id="amdfand-bin">amdfand-bin</span></h3>
<p>Then <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdfand-bin/">amdfand-bin</a></span><sup><small>AUR</small></sup> package is an native alternative to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdgpu-fan/">amdgpu-fan</a></span><sup><small>AUR</small></sup>. Launch the fan control service by <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Starting/enabling">starting/enabling</a> <code>amdfand.service</code>.
</p>
<p>For this tool there are also GUI clients available: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-glow-bin/">amdguid-glow-bin</a></span><sup><small>AUR</small></sup> (Xorg) and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-wayland-bin/">amdguid-wayland-bin</a></span><sup><small>AUR</small></sup> (Wayland). Before starting the client you need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">enable/start</a> <code>amdgui-helper.service</code>.
</p>
<h3><span class="mw-headline" id="fancurve_script">fancurve script</span></h3>
<p>Not just fan controls are offered via <i>hwmon</i> in <i>sysfs</i>, but also GPU temperature reading:
</p>
<pre># cat /sys/class/drm/card0/device/hwmon/hwmon0/temp1_input
</pre>
<p>This outputs GPU temperature in °C + three zeroes, e.g. <code>33000</code> for 33°C.
</p>
<p>The bash script <a rel="nofollow" class="external text" href="https://github.com/grmat/amdgpu-fancontrol">amdgpu-fancontrol</a> by grmat offers a fully automatic fan control by using the described <i>sysfs hwmon</i> functionality. It also allows to comfortably adjust the fancurve's temperature/PWM cycles assignments and a hysteresis by offering abstracted configuration fields at the top of the script.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> In order to function correctly, the script needs at least three defined temperature/PWM cycles assignments.</div>
<p>For safety reasons, the script sets fan control again to auto when shutting down. This may cause spinning up of fans, which can be worked around at cost of security by setting <code>set_fanmode 1</code> in the section <code>function reset_on_fail</code>.
</p>
<h4><span class="mw-headline" id="Setting_up_fancurve_script">Setting up fancurve script</span></h4>
<p>To start the script, it is recommend to do so via <a href="../en/Systemd.html" title="Systemd">systemd</a> init system. This way the script's verbose output can be read via <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journalctl">journalctl</a>/systemctl status. For this purpose, a <i>.service</i> unit file is already included in the GitHub repository.
</p>
<p>It may also be required to restart the script via a <a href="../en/Power_management/Suspend_and_hibernate.html#Sleep_hooks" title="Power management/Suspend and hibernate">root-resume.service</a> after hibernation in order to make it automatically function properly again:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/root-resume.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Local system resume actions
After=suspend.target

[Service]
Type=simple
ExecStart=/usr/bin/systemctl restart amdgpu-fancontrol.service

[Install]
WantedBy=suspend.target</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Increase_the_fan_divisor_for_sensors">Increase the fan divisor for sensors</span></h3>
<p>If <i>sensors</i> does not output the CPU fan RPM, it may be necessary to change the fan divisor.
</p>
<p>The first line of the <i>sensors</i> output is the chipset used by the motherboard for readings of temperatures and voltages.
</p>
<p>Create a file in <code>/etc/sensors.d/</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sensors.d/fan-speed-control.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">chip "<i>coretemp-isa-</i>*"
set fan<i>X</i>_div 4
</pre>
<p>Replacing <code><i>coretemp-isa-</i></code> with name of the chipset and <code><i>X</i></code> with the number of the CPU fan to change.
</p>
<p>Save the file, and run as root:
</p>
<pre># sensors -s
</pre>
<p>which will reload the configuration files.
</p>
<p>Run <code>sensors</code> again, and check if there is an RPM readout. If not, increase the divisor to 8, 16, or 32. Your mileage may vary.
</p>
<h3>
<span id="Device_paths_have_changed_in_.2Fetc.2Ffancontrol"></span><span class="mw-headline" id="Device_paths_have_changed_in_/etc/fancontrol">Device paths have changed in /etc/fancontrol</span>
</h3>
<p>The enumerated <i>hwmon</i> symlinks located in <code>/sys/class/hwmon/</code> might vary in order because the kernel modules do not load in a consistent order per boot. Because of this, it may cause fancontrol to not function correctly. The error is "Configuration appears to be outdated, please run pwmconfig again". <a rel="nofollow" class="external text" href="https://github.com/lm-sensors/lm-sensors/issues/227">Upstream bug</a>.
</p>
<h4><span class="mw-headline" id="Solution">Solution</span></h4>
<p>In <code>/etc/conf.d/lm_sensors</code>, there are 2 arrays that list all of the modules detected when you execute <code>sensors-detect</code>. These get loaded in by fancontrol. If the file does not exist, run <code>sensors-detect</code> as root, accepting the defaults. Open (or create) <code>/etc/modules-load.d/modules.conf</code>. Get all of the modules listed from the 2 variables in <code>/etc/conf.d/lm_sensors/</code> and place them into the <code>/etc/modules-load.d/modules.conf</code> file, one module per line. Specifying them like this should make a defined order for the modules to load in, which should make the <i>hwmon</i> paths stay where they are and not change orders for every boot. If this does not work, I highly recommend finding another program to control your fans. If you cannot find any, then you could try using the alternative solution below.
</p>
<h4><span class="mw-headline" id="Alternative_solution:_absolute_paths">Alternative solution: absolute paths</span></h4>
<p>Using absolute file paths in fancontrol does not work by default, as its helper script <code>pwmconfig</code> is programmed to only use the <i>hwmon</i> paths to get the files. The way it does this is that it detects whether the <i>hwmon</i> path that is provided in its configuration file <code>/etc/fancontrol</code> did not change, and uses the variables <code>DEVNAME</code> and <code>DEVPATH</code> to determine such change. If your <i>hwmon</i> paths keep changing, this will prevent fancontrol from running no matter what you do. However, one can circumvent this problem. Open <code>/usr/bin/fancontrol</code>, and comment out this part of the script:
</p>
<pre>if ! ValidateDevices "$DEVPATH" "$DEVNAME"
 then
     echo "Configuration appears to be outdated, please run pwmconfig again" &gt;&amp;2
     exit 1
 fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Doing this may make <i>fancontrol</i> write into files you gave it in the configuration file, no matter what the file is. This can corrupt files if you provide the wrong path. Be sure that you are using the correct path for your files.</li>
<li>Another thing to note is that while doing this workaround, using <i>pwmconfig</i> to create your script again will overwrite all of your absolute paths that you have configured. Therefore, it is better to manually change the old paths to the new paths if it is needed instead of using <i>pwmconfig</i>.</li>
</ul>
</div>
<p>Commenting this out should effectively ignore the <i>hwmon</i> validation checks. You can also ignore the variables <code>DEVNAME</code> and <code>DEVPATH</code> in the configuration file as well. After this, replace all of the <i>hwmon</i> paths in the other variables with its absolute path. To make it easier, rerun <code>pwmconfig</code> with root privileges to refresh the <i>hwmon</i> devices. The <i>hwmon</i> paths in the configuration file should now point to the correct absolute paths. For each <i>hwmon</i> path, run the following command (where <code><i>N</i></code> is the enumeration of the <i>hwmon</i> path):
</p>
<pre>$ readlink -f /sys/class/hwmon/hwmon<i>N</i>/device
</pre>
<p>This will give you the absolute path of the device.
</p>
<p>For example, an <code>/etc/fancontrol</code> file lists <code>FCTEMPS</code> as this:
</p>
<pre>FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
</pre>
<p>Executing <code>readlink -f /sys/class/hwmon/hwmon3/device</code> can, for example, output <code>/sys/devices/platform/coretemp.0/</code>. <code>cd</code> into this directory. If you see a <code>/hwmon/hwmon<i>N</i>/</code> directory, you have to do this in your <i>fancontrol</i> configuration file to replace the <code>hwmon<i>N</i></code> path. From the previous example:
</p>
<pre># BEFORE
FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
# AFTER
FCTEMPS=hwmon2/pwm1=/sys/devices/platform/coretemp.0/hwmon/[[:print:]]*/temp1_input
</pre>
<p>Essentially, you must replace the <i>hwmon</i> path with the absolute path, concatenated with <code>/hwmon/[[:print:]]*/</code> so that bash can catch the random enumerated <i>hwmon</i> name.
</p>
<p>If you do not see the <code>/hwmon/hwmon<i>N</i>/</code> directory, then you do not have to worry about this. This means that the temperature files are in the root of the device directory. Just replace <code>hwmon<i>N</i>/</code> with the absolute file path. For example:
</p>
<pre># BEFORE
FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
# AFTER
FCTEMPS=hwmon2/pwm1=/sys/devices/platform/coretemp.0/temp1_input
</pre>
<p>After replacing all of paths, <i>fancontrol</i> should work fine.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:CPU.html" title="Category:CPU">CPU</a></li>
<li><a href="../en/Category:Graphics.html" title="Category:Graphics">Graphics</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fan_speed_control&amp;oldid=820476">https://wiki.archlinux.org/index.php?title=Fan_speed_control&amp;oldid=820476</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 10 November 2024, at 08:17.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
