<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Gamepad - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Gamepad rootpage-Gamepad skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Loading_the_modules_for_analogue_devices" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Loading_the_modules_for_analogue_devices">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Loading the modules for analogue devices</div>
			</a>
			
			<ul id="toc-Loading_the_modules_for_analogue_devices-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-USB_gamepads" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#USB_gamepads">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>USB gamepads</div>
			</a>
			
			<ul id="toc-USB_gamepads-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Testing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Testing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Testing</div>
			</a>
			
			<ul id="toc-Testing-sublist" class="vector-toc-list">
				<li id="toc-Joystick_API" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Joystick_API">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Joystick API</div>
			</a>
			
			<ul id="toc-Joystick_API-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-evdev_API" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#evdev_API">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>evdev API</div>
			</a>
			
			<ul id="toc-evdev_API-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-HTML5_Gamepad_API" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#HTML5_Gamepad_API">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.3</span>HTML5 Gamepad API</div>
			</a>
			
			<ul id="toc-HTML5_Gamepad_API-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Setting_up_deadzones_and_calibration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_up_deadzones_and_calibration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Setting up deadzones and calibration</div>
			</a>
			
			<ul id="toc-Setting_up_deadzones_and_calibration-sublist" class="vector-toc-list">
				<li id="toc-Wine_deadzones" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wine_deadzones">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Wine deadzones</div>
			</a>
			
			<ul id="toc-Wine_deadzones-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg_deadzones" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Xorg_deadzones">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Xorg deadzones</div>
			</a>
			
			<ul id="toc-Xorg_deadzones-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Joystick_API_deadzones_and_calibration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Joystick_API_deadzones_and_calibration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.3</span>Joystick API deadzones and calibration</div>
			</a>
			
			<ul id="toc-Joystick_API_deadzones_and_calibration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-evdev_API_deadzones_and_calibration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#evdev_API_deadzones_and_calibration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.4</span>evdev API deadzones and calibration</div>
			</a>
			
			<ul id="toc-evdev_API_deadzones_and_calibration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Virtual_xboxdrv_gamepad_deadzones_and_calibration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Virtual_xboxdrv_gamepad_deadzones_and_calibration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.5</span>Virtual xboxdrv gamepad deadzones and calibration</div>
			</a>
			
			<ul id="toc-Virtual_xboxdrv_gamepad_deadzones_and_calibration-sublist" class="vector-toc-list">
				<li id="toc-Configuring_curves_and_responsiveness" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Configuring_curves_and_responsiveness">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.5.1</span>Configuring curves and responsiveness</div>
			</a>
			
			<ul id="toc-Configuring_curves_and_responsiveness-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Disable_joystick_from_controlling_mouse" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disable_joystick_from_controlling_mouse">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Disable joystick from controlling mouse</div>
			</a>
			
			<ul id="toc-Disable_joystick_from_controlling_mouse-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_gamepad_to_send_keystrokes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_gamepad_to_send_keystrokes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Using gamepad to send keystrokes</div>
			</a>
			
			<ul id="toc-Using_gamepad_to_send_keystrokes-sublist" class="vector-toc-list">
				<li id="toc-Xorg_configuration_example" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Xorg_configuration_example">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4.1</span>Xorg configuration example</div>
			</a>
			
			<ul id="toc-Xorg_configuration_example-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Remapping_of_gamepad_buttons_and_more" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remapping_of_gamepad_buttons_and_more">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Remapping of gamepad buttons and more</div>
			</a>
			
			<ul id="toc-Remapping_of_gamepad_buttons_and_more-sublist" class="vector-toc-list">
				<li id="toc-Remapping_of_gamepad_on_SDL2_applications" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Remapping_of_gamepad_on_SDL2_applications">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5.1</span>Remapping of gamepad on SDL2 applications</div>
			</a>
			
			<ul id="toc-Remapping_of_gamepad_on_SDL2_applications-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Specific_devices" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Specific_devices">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Specific devices</div>
		</a>
		
			<button aria-controls="toc-Specific_devices-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Specific devices subsection</span>
			</button>
		
		<ul id="toc-Specific_devices-sublist" class="vector-toc-list">
			<li id="toc-Dance_pads" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Dance_pads">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Dance pads</div>
			</a>
			
			<ul id="toc-Dance_pads-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Logitech_Thunderpad_Digital" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Logitech_Thunderpad_Digital">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Logitech Thunderpad Digital</div>
			</a>
			
			<ul id="toc-Logitech_Thunderpad_Digital-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nintendo_Gamecube_Controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nintendo_Gamecube_Controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Nintendo Gamecube Controller</div>
			</a>
			
			<ul id="toc-Nintendo_Gamecube_Controller-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nintendo_Switch_Pro_Controller_and_Joy-Cons" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nintendo_Switch_Pro_Controller_and_Joy-Cons">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Nintendo Switch Pro Controller and Joy-Cons</div>
			</a>
			
			<ul id="toc-Nintendo_Switch_Pro_Controller_and_Joy-Cons-sublist" class="vector-toc-list">
				<li id="toc-Using_the_kernel_Nintendo_HID_driver" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_the_kernel_Nintendo_HID_driver">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1</span>Using the kernel Nintendo HID driver</div>
			</a>
			
			<ul id="toc-Using_the_kernel_Nintendo_HID_driver-sublist" class="vector-toc-list">
				<li id="toc-Using_joycond_userspace_daemon" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Using_joycond_userspace_daemon">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1.1</span>Using joycond userspace daemon</div>
			</a>
			
			<ul id="toc-Using_joycond_userspace_daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mimic_Xbox_360_controller" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Mimic_Xbox_360_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1.2</span>Mimic Xbox 360 controller</div>
			</a>
			
			<ul id="toc-Mimic_Xbox_360_controller-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Use_positional_layout_on_SDL2_applications" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Use_positional_layout_on_SDL2_applications">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.2</span>Use positional layout on SDL2 applications</div>
			</a>
			
			<ul id="toc-Use_positional_layout_on_SDL2_applications-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-iPEGA-9017s_and_other_Bluetooth_gamepads" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#iPEGA-9017s_and_other_Bluetooth_gamepads">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>iPEGA-9017s and other Bluetooth gamepads</div>
			</a>
			
			<ul id="toc-iPEGA-9017s_and_other_Bluetooth_gamepads-sublist" class="vector-toc-list">
				<li id="toc-iPEGA-9068_and_9087" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#iPEGA-9068_and_9087">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>iPEGA-9068 and 9087</div>
			</a>
			
			<ul id="toc-iPEGA-9068_and_9087-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Defender_X7" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Defender_X7">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.2</span>Defender X7</div>
			</a>
			
			<ul id="toc-Defender_X7-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Stadia_Controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Stadia_Controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Stadia Controller</div>
			</a>
			
			<ul id="toc-Stadia_Controller-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Steam_Controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Steam_Controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Steam Controller</div>
			</a>
			
			<ul id="toc-Steam_Controller-sublist" class="vector-toc-list">
				<li id="toc-Wine" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Wine">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7.1</span>Wine</div>
			</a>
			
			<ul id="toc-Wine-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Xbox_360_controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xbox_360_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>Xbox 360 controller</div>
			</a>
			
			<ul id="toc-Xbox_360_controller-sublist" class="vector-toc-list">
				<li id="toc-xboxdrv" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#xboxdrv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.1</span>xboxdrv</div>
			</a>
			
			<ul id="toc-xboxdrv-sublist" class="vector-toc-list">
				<li id="toc-Multiple_controllers" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Multiple_controllers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.1.1</span>Multiple controllers</div>
			</a>
			
			<ul id="toc-Multiple_controllers-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mimic_Xbox_360_controller_with_other_controllers" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Mimic_Xbox_360_controller_with_other_controllers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.1.2</span>Mimic Xbox 360 controller with other controllers</div>
			</a>
			
			<ul id="toc-Mimic_Xbox_360_controller_with_other_controllers-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Using_generic/clone_controllers" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_generic/clone_controllers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8.2</span>Using generic/clone controllers</div>
			</a>
			
			<ul id="toc-Using_generic/clone_controllers-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Xbox_Wireless_Controller_/_Xbox_One_Wireless_Controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xbox_Wireless_Controller_/_Xbox_One_Wireless_Controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9</span>Xbox Wireless Controller / Xbox One Wireless Controller</div>
			</a>
			
			<ul id="toc-Xbox_Wireless_Controller_/_Xbox_One_Wireless_Controller-sublist" class="vector-toc-list">
				<li id="toc-Connect_Xbox_Wireless_Controller_with_USB_cable" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connect_Xbox_Wireless_Controller_with_USB_cable">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.1</span>Connect Xbox Wireless Controller with USB cable</div>
			</a>
			
			<ul id="toc-Connect_Xbox_Wireless_Controller_with_USB_cable-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connect_Xbox_Wireless_Controller_with_Bluetooth" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connect_Xbox_Wireless_Controller_with_Bluetooth">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.2</span>Connect Xbox Wireless Controller with Bluetooth</div>
			</a>
			
			<ul id="toc-Connect_Xbox_Wireless_Controller_with_Bluetooth-sublist" class="vector-toc-list">
				<li id="toc-Update_controller_firmware_via_Windows_10" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Update_controller_firmware_via_Windows_10">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.2.1</span>Update controller firmware via Windows 10</div>
			</a>
			
			<ul id="toc-Update_controller_firmware_via_Windows_10-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xpadneo" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#xpadneo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.2.2</span>xpadneo</div>
			</a>
			
			<ul id="toc-xpadneo-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Connect_Xbox_Wireless_Controller_with_Microsoft_Xbox_Wireless_Adapter" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Connect_Xbox_Wireless_Controller_with_Microsoft_Xbox_Wireless_Adapter">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.3</span>Connect Xbox Wireless Controller with Microsoft Xbox Wireless Adapter</div>
			</a>
			
			<ul id="toc-Connect_Xbox_Wireless_Controller_with_Microsoft_Xbox_Wireless_Adapter-sublist" class="vector-toc-list">
				<li id="toc-xone" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#xone">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9.3.1</span>xone</div>
			</a>
			
			<ul id="toc-xone-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Logitech_Dual_Action" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Logitech_Dual_Action">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.10</span>Logitech Dual Action</div>
			</a>
			
			<ul id="toc-Logitech_Dual_Action-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PlayStation_2_controller_via_USB_adapter" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PlayStation_2_controller_via_USB_adapter">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.11</span>PlayStation 2 controller via USB adapter</div>
			</a>
			
			<ul id="toc-PlayStation_2_controller_via_USB_adapter-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-PlayStation_3_controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PlayStation_3_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.12</span>PlayStation 3 controller</div>
			</a>
			
			<ul id="toc-PlayStation_3_controller-sublist" class="vector-toc-list">
				<li id="toc-Pairing_via_USB" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pairing_via_USB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.12.1</span>Pairing via USB</div>
			</a>
			
			<ul id="toc-Pairing_via_USB-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pairing_via_Bluetooth" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pairing_via_Bluetooth">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.12.2</span>Pairing via Bluetooth</div>
			</a>
			
			<ul id="toc-Pairing_via_Bluetooth-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-PlayStation_3/4_controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PlayStation_3/4_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.13</span>PlayStation 3/4 controller</div>
			</a>
			
			<ul id="toc-PlayStation_3/4_controller-sublist" class="vector-toc-list">
				<li id="toc-Pairing_via_Bluetooth_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pairing_via_Bluetooth_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.13.1</span>Pairing via Bluetooth</div>
			</a>
			
			<ul id="toc-Pairing_via_Bluetooth_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Using_generic/clone_controllers_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Using_generic/clone_controllers_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.13.2</span>Using generic/clone controllers</div>
			</a>
			
			<ul id="toc-Using_generic/clone_controllers_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-PlayStation_4_controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PlayStation_4_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14</span>PlayStation 4 controller</div>
			</a>
			
			<ul id="toc-PlayStation_4_controller-sublist" class="vector-toc-list">
				<li id="toc-Pairing_via_USB_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pairing_via_USB_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.1</span>Pairing via USB</div>
			</a>
			
			<ul id="toc-Pairing_via_USB_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pairing_via_Bluetooth_3" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pairing_via_Bluetooth_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.2</span>Pairing via Bluetooth</div>
			</a>
			
			<ul id="toc-Pairing_via_Bluetooth_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disable_touchpad_acting_as_mouse" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Disable_touchpad_acting_as_mouse">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.3</span>Disable touchpad acting as mouse</div>
			</a>
			
			<ul id="toc-Disable_touchpad_acting_as_mouse-sublist" class="vector-toc-list">
				<li id="toc-KDE" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#KDE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.3.1</span>KDE</div>
			</a>
			
			<ul id="toc-KDE-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-libinput" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#libinput">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.3.2</span>libinput</div>
			</a>
			
			<ul id="toc-libinput-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Xorg" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Xorg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.3.3</span>Xorg</div>
			</a>
			
			<ul id="toc-Xorg-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Control_Mapping_(Xbox)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Control_Mapping_(Xbox)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.4</span>Control Mapping (Xbox)</div>
			</a>
			
			<ul id="toc-Control_Mapping_(Xbox)-sublist" class="vector-toc-list">
				<li id="toc-Proton-GE_and_xboxdrv" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Proton-GE_and_xboxdrv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14.4.1</span>Proton-GE and xboxdrv</div>
			</a>
			
			<ul id="toc-Proton-GE_and_xboxdrv-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-PlayStation_5_(Dualsense)_controller" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PlayStation_5_(Dualsense)_controller">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15</span>PlayStation 5 (Dualsense) controller</div>
			</a>
			
			<ul id="toc-PlayStation_5_(Dualsense)_controller-sublist" class="vector-toc-list">
				<li id="toc-Control_Mapping_(Xbox)_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Control_Mapping_(Xbox)_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15.1</span>Control Mapping (Xbox)</div>
			</a>
			
			<ul id="toc-Control_Mapping_(Xbox)_2-sublist" class="vector-toc-list">
				<li id="toc-Steam_Input" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Steam_Input">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15.1.1</span>Steam Input</div>
			</a>
			
			<ul id="toc-Steam_Input-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-xboxdrv_2" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#xboxdrv_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15.1.2</span>xboxdrv</div>
			</a>
			
			<ul id="toc-xboxdrv_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-dualsensectl" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#dualsensectl">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15.2</span>dualsensectl</div>
			</a>
			
			<ul id="toc-dualsensectl-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Multi-mode_wired_gamepads" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Multi-mode_wired_gamepads">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Multi-mode wired gamepads</div>
		</a>
		
			<button aria-controls="toc-Multi-mode_wired_gamepads-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Multi-mode wired gamepads subsection</span>
			</button>
		
		<ul id="toc-Multi-mode_wired_gamepads-sublist" class="vector-toc-list">
			<li id="toc-Xbox_360_Controller_mode" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xbox_360_Controller_mode">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Xbox 360 Controller mode</div>
			</a>
			
			<ul id="toc-Xbox_360_Controller_mode-sublist" class="vector-toc-list">
				<li id="toc-Alternative_rootless_solution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Alternative_rootless_solution">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Alternative rootless solution</div>
			</a>
			
			<ul id="toc-Alternative_rootless_solution-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-USB_debugging" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#USB_debugging">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>USB debugging</div>
			</a>
			
			<ul id="toc-USB_debugging-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Tips_and_Tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_Tricks">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Tips and Tricks</div>
		</a>
		
			<button aria-controls="toc-Tips_and_Tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and Tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_Tricks-sublist" class="vector-toc-list">
			<li id="toc-Gamepad_over_network" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gamepad_over_network">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Gamepad over network</div>
			</a>
			
			<ul id="toc-Gamepad_over_network-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Troubleshooting</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Device_permissions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Device_permissions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Device permissions</div>
			</a>
			
			<ul id="toc-Device_permissions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Joystick_moving_mouse" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Joystick_moving_mouse">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Joystick moving mouse</div>
			</a>
			
			<ul id="toc-Joystick_moving_mouse-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gamepad_is_not_working_in_FNA/SDL_based_games" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gamepad_is_not_working_in_FNA/SDL_based_games">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Gamepad is not working in FNA/SDL based games</div>
			</a>
			
			<ul id="toc-Gamepad_is_not_working_in_FNA/SDL_based_games-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gamepad_is_not_recognized_by_all_programs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gamepad_is_not_recognized_by_all_programs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Gamepad is not recognized by all programs</div>
			</a>
			
			<ul id="toc-Gamepad_is_not_recognized_by_all_programs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Vibration_does_not_work_in_certain_Windows_games" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Vibration_does_not_work_in_certain_Windows_games">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Vibration does not work in certain Windows games</div>
			</a>
			
			<ul id="toc-Vibration_does_not_work_in_certain_Windows_games-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Steam_Controller_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Steam_Controller_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>Steam Controller</div>
			</a>
			
			<ul id="toc-Steam_Controller_2-sublist" class="vector-toc-list">
				<li id="toc-Steam_Controller_not_pairing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Steam_Controller_not_pairing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6.1</span>Steam Controller not pairing</div>
			</a>
			
			<ul id="toc-Steam_Controller_not_pairing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Steam_Controller_makes_a_game_crash_or_not_recognized" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Steam_Controller_makes_a_game_crash_or_not_recognized">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6.2</span>Steam Controller makes a game crash or not recognized</div>
			</a>
			
			<ul id="toc-Steam_Controller_makes_a_game_crash_or_not_recognized-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Xbox_One_Wireless_Gamepad_detected_but_no_inputs_recognized" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Xbox_One_Wireless_Gamepad_detected_but_no_inputs_recognized">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>Xbox One Wireless Gamepad detected but no inputs recognized</div>
			</a>
			
			<ul id="toc-Xbox_One_Wireless_Gamepad_detected_but_no_inputs_recognized-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Playstation_4_controllers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Playstation_4_controllers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8</span>Playstation 4 controllers</div>
			</a>
			
			<ul id="toc-Playstation_4_controllers-sublist" class="vector-toc-list">
				<li id="toc-Controller_not_recognized_when_using_Bluetooth" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Controller_not_recognized_when_using_Bluetooth">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8.1</span>Controller not recognized when using Bluetooth</div>
			</a>
			
			<ul id="toc-Controller_not_recognized_when_using_Bluetooth-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Button_mapping" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Button_mapping">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8.2</span>Button mapping</div>
			</a>
			
			<ul id="toc-Button_mapping-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Motion_controls_taking_over_joypad_controls_and/or_causing_unintended_input_with_joypad_controls" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Motion_controls_taking_over_joypad_controls_and/or_causing_unintended_input_with_joypad_controls">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8.3</span>Motion controls taking over joypad controls and/or causing unintended input with joypad controls</div>
			</a>
			
			<ul id="toc-Motion_controls_taking_over_joypad_controls_and/or_causing_unintended_input_with_joypad_controls-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Gamepad</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%91%E3%83%83%E3%83%89" title="ゲームパッド – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p>Many gamepads are working out-of-the-box nowadays, but there are still many potential problems and sources for errors since gamepad support in applications varies by a lot.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Need info about differences between API, how to switch between them. (Discuss in <a href="../en/Talk:Gamepad.html#Joystick_API_vibration_support" title="Talk:Gamepad">Talk:Gamepad#Joystick API vibration support</a>)</div>
</div>
<p>Linux has two different input systems for gamepads – the original Joystick interface and the newer evdev-based interface.
</p>
<p><code>/dev/input/jsX</code> maps to the Joystick API interface and <code>/dev/input/event*</code> maps to the evdev ones (this also includes other input devices such as mice and keyboards). Symbolic links to those devices are also available in <code>/dev/input/by-id/</code> and <code>/dev/input/by-path/</code> where the legacy Joystick API has names ending with <code>-joystick</code> while the evdev have names ending with <code>-event-joystick</code>.
</p>
<p>Most new games will default to the evdev interface as it gives more detailed information about the buttons and axes available and also adds support for force feedback.
</p>
<p>While SDL1 defaults to evdev interface you can force it to use the old Joystick API by setting the environment variable <code>SDL_JOYSTICK_DEVICE=/dev/input/js0</code>. This can help many games such as X3. SDL2 supports only the new evdev interface.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Unless you are using very old joystick that uses <a href="https://en.wikipedia.org/wiki/Game_port" class="extiw" title="wikipedia:Game port">Gameport</a> or a proprietary USB protocol, you will need just the generic USB Human Interface Device (HID) modules.
</p>
<p>For an extensive overview of all joystick related modules in Linux, you will need access to the Linux kernel sources — specifically the Documentation section. Unfortunately, official kernel packages do not include what we need. If you have the kernel sources downloaded, have a look at <code>Documentation/input/joydev/</code>. You can browse the kernel source tree at <a rel="nofollow" class="external text" href="https://kernel.org/">kernel.org</a> by clicking the "browse" (cgit - the git frontend) link for the kernel that you are using, then clicking the "tree" link near the top. Alternatively, see <a rel="nofollow" class="external text" href="https://docs.kernel.org/input/joydev/joystick.html">documentation from the latest kernel</a>.
</p>
<p>Some joysticks need specific modules, such as the Microsoft Sidewinder controllers (<code>sidewinder</code>), or the Logitech digital controllers (<code>adi</code>). Many older joysticks will work with the simple <code>analog</code> module. If your joystick is plugging in to a gameport provided by your soundcard, you will need your soundcard drivers loaded — however, some cards, like the Soundblaster Live, have a specific gameport driver (<code>emu10k1-gp</code>). Older ISA soundcards may need the <code>ns558</code> module, which is a standard gameport module.
</p>
<p>As you can see, there are many different modules related to getting your joystick working in Linux, so everything is not covered here. Please have a look at the documentation mentioned above for details.
</p>
<h3><span class="mw-headline" id="Loading_the_modules_for_analogue_devices">Loading the modules for analogue devices</span></h3>
<p>You need to load a module for your gameport (<code>ns558</code>, <code>emu10k1-gp</code>, <code>cs461x</code>, etc...), a module for your joystick (<code>analog</code>, <code>sidewinder</code>, <code>adi</code>, etc...), and finally the kernel joystick device driver (<code>joydev</code>). You can <a href="../en/Kernel_module.html#Automatic_module_loading" class="mw-redirect" title="Load the module at boot">load the module at boot</a>, or simply <a href="../en/Kernel_module.html" class="mw-redirect" title="Modprobe">modprobe</a> it. The <code>gameport</code> module should load automatically, as this is a dependency of the other modules.
</p>
<h3><span class="mw-headline" id="USB_gamepads">USB gamepads</span></h3>
<p>You need to get USB working, and then modprobe your gamepad driver, which is <code>usbhid</code>, as well as <code>joydev</code>. 
If you use a usb mouse or keyboard, <code>usbhid</code> will be loaded already and you just have to load the <code>joydev</code> module.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If your Xbox 360 gamepad is connected with the Play&amp;Charge USB cable it will show up in <code>lsusb</code> but it will not show up as an input device in <code>/dev/input/js*</code>, see <a href="#Xbox_360_controller">#Xbox 360 controller</a>.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Testing">Testing</span></h3>
<p>Once the modules are loaded, you should be able to find a new device: <code>/dev/input/js0</code> and a file ending with <code>-event-joystick</code> in <code>/dev/input/by-id</code> directory. You can simply <code>cat</code> those devices to see if the joystick works — move the stick around, press all the buttons - you should see mojibake printed when you move the sticks or press buttons.
</p>
<p>If you get a permission error, see <a href="#Device_permissions">#Device permissions</a>.
</p>
<p>Both interfaces are also supported in <a href="../en/Wine.html" title="Wine">Wine</a> and reported as separate devices. You can test them (including vibration feedback) with <code>wine control joy.cpl</code>.
</p>
<h4><span class="mw-headline" id="Joystick_API">Joystick API</span></h4>
<p>There are a lot of applications that can test this old API, <code>jstest</code> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=joyutils">joyutils</a></span> package is the simplest one. If the output is unreadable because the line printed is too long you can also use graphical tools. KDE Plasma has a built in one in <i>System Settings &gt; Input Devices &gt; Game Controller</i>. There is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jstest-gtk-git/">jstest-gtk-git</a></span><sup><small>AUR</small></sup> as an alternative.
</p>
<p>Use of <code>jstest</code> is fairly simple, you just run <code>jstest /dev/input/js0</code> and it will print a line with state of all the axes (normalised to <code>{-32767,32767}</code>) and buttons.
</p>
<p>After you start <code>jstest-gtk</code>, it will just show you a list of joysticks available, you just need to select one and press Properties.
</p>
<h4><span class="mw-headline" id="evdev_API">evdev API</span></h4>
<p>The new 'evdev' API can be tested using the SDL2 joystick test application or using <code>evtest</code> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evtest">evtest</a></span> or <code>evtest-qt</code> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/evtest-qt-git/">evtest-qt-git</a></span><sup><small>AUR</small></sup>. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sdl-jstest-git/">sdl-jstest-git</a></span><sup><small>AUR</small></sup> and then run <code>sdl2-jstest --test 0</code>. Use <code>sdl2-jstest --list</code> to get IDs of other controllers if you have multiple ones connected.
</p>
<p>To test force feedback on the device, use <code>fftest</code> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linuxconsole">linuxconsole</a></span>:
</p>
<pre>$ fftest /dev/input/by-id/usb-*event-joystick
</pre>
<h4><span class="mw-headline" id="HTML5_Gamepad_API">HTML5 Gamepad API</span></h4>
<p>Go to <a rel="nofollow" class="external free" href="https://gamepad-tester.com/">https://gamepad-tester.com/</a>. Currently, testing vibration and producing a visual of the gamepad is supported in <a href="../en/Chromium.html" title="Chromium">Chromium</a> but not <a href="../en/Firefox.html" title="Firefox">Firefox</a>. Additionally, as of version 107.0.5304.121-1, Chromium can read Joystick devices but not evdev.
</p>
<h3><span class="mw-headline" id="Setting_up_deadzones_and_calibration">Setting up deadzones and calibration</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Describe calibration instructions for evdev (Discuss in <a href="../en/Talk:Gamepad.html#Unclear_instructions_on_how_to_calibrate" title="Talk:Gamepad">Talk:Gamepad#Unclear instructions on how to calibrate</a>)</div>
</div>
<p>If you want to set up the deadzones (or remove them completely) of your analog input you have to do it separately for the xorg (for mouse and keyboard emulation), Joystick API and evdev API.
</p>
<h4><span class="mw-headline" id="Wine_deadzones">Wine deadzones</span></h4>
<p>Add the following registry entry and set it to a string from <code>0</code> to <code>10000</code> (affects all axes):
</p>
<pre>HKEY_CURRENT_USER\Software\Wine\DirectInput\DefaultDeadZone
</pre>
<p>Source: <a rel="nofollow" class="external text" href="https://wiki.winehq.org/UsefulRegistryKeys">UsefulRegistryKeys</a>
</p>
<h4><span class="mw-headline" id="Xorg_deadzones">Xorg deadzones</span></h4>
<p>Add a similar line to <code>/etc/X11/xorg.conf.d/51-joystick.conf</code> (create if it does not exist):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/51-joystick.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
    Option "MapAxis1" "deadzone=1000"
EndSection</pre>
<p><code>1000</code> is the default value, but you can set anything between <code>0</code> and {{<code>30000</code>. To get the axis number see the "Testing Your Configuration" section of this article.
If you already have an option with a specific axis just type in the <code>deadzone=value</code> at the end of the parameter separated by a space.
</p>
<h4><span class="mw-headline" id="Joystick_API_deadzones_and_calibration">Joystick API deadzones and calibration</span></h4>
<p>The easiest way is using <i>jstest-gtk</i> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jstest-gtk-git/">jstest-gtk-git</a></span><sup><small>AUR</small></sup>. Select the joystick you want to edit, click the <i>Properties</i> button. On this new window, click the <i>Calibration</i> button (<b>do not</b> click <i>Start Calibration</i> after that). You can then set the <code>CenterMin</code> and <code>CenterMax</code> values, which control the center deadzone, and <code>RangeMin</code> and <code>RangeMax</code>, which control the end of throw deadzones. Note that the calibration settings are applied when the application opens the device, so you need to restart your game or test application to see updated calibration settings.
</p>
<p>After you set the deadzones, you also can create an <a href="../en/Udev.html" title="Udev">udev</a> rule to make all changes permanent:
</p>
<p>First, grab the vendor id of your joystick (replace <code><i>X</i></code> with your joystick's number, it is usually <code>0</code>):
</p>
<pre>$ udevadm info -q property --property ID_VENDOR_ID --value /dev/input/js<i>X</i>
</pre>
<p>Also grab the model id:
</p>
<pre>$ udevadm info -q property --property ID_MODEL_ID --value /dev/input/js<i>X</i>
</pre>
<p>If the commands above give you an empty output, it could be because your controller is connected via Bluetooth, making these unique attributes only visible on the parent device(s). To mitigate this, you could try finding other unique attributes by running:
</p>
<pre>$ udevadm info -a /dev/input/js<i>X</i>
</pre>
<p>This will list all available attributes from your device (and parent devices). So, for example, if the parent device of your joystick has the attribute <code>ATTRS{uniq}=="a0:b1:c2:d3:e4:f5"</code>, or maybe both <code>ATTRS{idVendor}=="054c"</code> and <code>ATTRS{idProduct}=="09cc"</code>, then you can use these instead of <code>ENV{ID_VENDOR_ID} </code> and <code>ENV{ID_MODEL_ID} </code> in the <i>udev</i> rule below.
</p>
<p>You can also have both rules at the same time, just separate them with a new line.
</p>
<p>Anyway, now use <i>jscal</i> to dump the new calibration settings of your joystick:
</p>
<pre>$ jscal -p /dev/input/js<i>X</i>
</pre>
<p>Now, modify this <i>udev</i> rule with the values you got:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/85-jscal-custom-calibration.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", KERNEL=="js[0-9]*", ENV{ID_VENDOR_ID}=="054c", ENV{ID_MODEL_ID}=="09cc", RUN+="/usr/bin/jscal -s 1,1,1,1 /dev/input/js%n"</pre>
<p>This rule will automatically run <code>/usr/bin/jscal -s 1,1,1,1 /dev/input/js%n</code> whenever you connect a joystick with vendor id <code>054c</code> and model id <code>09cc</code>. The <code>/dev/input/js%n</code> part is required to automatically determine the correct joystick, so <b>do not</b> remove it.
</p>
<p>Finally, <a href="../en/Udev.html#Loading_new_rules" title="Udev">load</a> this new <i>udev</i> rule.
</p>
<h4><span class="mw-headline" id="evdev_API_deadzones_and_calibration">evdev API deadzones and calibration</span></h4>
<p>The <i>evdev-joystick</i> tool from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linuxconsole">linuxconsole</a></span> package can be used to view and change deadzones and calibration for <code>evdev</code> API devices.
</p>
<p>To view your device configuration:
</p>
<pre>$ evdev-joystick --showcal /dev/input/by-id/usb-*-event-joystick
</pre>
<p>To change the deadzone for a particular axis, use a command like:
</p>
<pre>$ evdev-joystick --evdev /dev/input/by-id/usb-*-event-joystick --axis 0 --deadzone 0
</pre>
<p>To set the same deadzone for all axes at once, omit the <code>--axis 0</code> option.
</p>
<p>Use udev rules file to set them automatically when the controller is connected.
</p>
<p>Note that inside the kernel, the value is called <code>flatness</code> and is set using the <code>EVIOCSABS</code> <code>ioctl</code>.
</p>
<p>Default configuration will look like similar to this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ evdev-joystick --showcal /dev/input/by-id/usb-Madcatz_Saitek_Pro_Flight_X-55_Rhino_Stick_G0000090-event-joystick</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Supported Absolute axes:
   Absolute axis 0x00 (0) (X Axis) (min: 0, max: 65535, flatness: 4095 (=6.25%), fuzz: 255)
   Absolute axis 0x01 (1) (Y Axis) (min: 0, max: 65535, flatness: 4095 (=6.25%), fuzz: 255)
   Absolute axis 0x05 (5) (Z Rate Axis) (min: 0, max: 4095, flatness: 255 (=6.23%), fuzz: 15)
   Absolute axis 0x10 (16) (Hat zero, x axis) (min: -1, max: 1, flatness: 0 (=0.00%), fuzz: 0)
   Absolute axis 0x11 (17) (Hat zero, y axis) (min: -1, max: 1, flatness: 0 (=0.00%), fuzz: 0)</pre>
<p>While a more reasonable setting would be achieved with something like this (repeat for other axes):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ evdev-joystick --evdev /dev/input/by-id/usb-Madcatz_Saitek_Pro_Flight_X-55_Rhino_Stick_G0000090-event-joystick --axis 0 --deadzone 512</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Event device file: /dev/input/by-id/usb-Madcatz_Saitek_Pro_Flight_X-55_Rhino_Stick_G0000090-event-joystick
 Axis index to deal with: 0
 New dead zone value: 512
 Trying to set axis 0 deadzone to: 512
   Absolute axis 0x00 (0) (X Axis) Setting deadzone value to : 512
 (min: 0, max: 65535, flatness: 512 (=0.78%), fuzz: 255)</pre>
<h4><span class="mw-headline" id="Virtual_xboxdrv_gamepad_deadzones_and_calibration">Virtual xboxdrv gamepad deadzones and calibration</span></h4>
<p>It is possible to use <i>xboxdrv</i> to present your gamepad as a virtual xbox360 gamepad, while handling the axis calibration and deadzones.
</p>
<p>Imagine that you tested your gamepad with <i>evtest-qt</i>, and find out that your left joystick cannot reach the maximum read value when you direct it to top most position. The side effect of this is that in some games (for example, HITMAN 2) the character cannot run.
</p>
<p>Run <i>xboxdrv</i> and determine how the problematic axis is called. In this case it is <code>Y1</code>. Now try to direct it to top most position several times, and determine the lowest value that you saw. Imagine it is <code>29426</code>. Now to be on a safe side, we take the value that is lower than that, like <code>29000</code>. Run the command:
</p>
<pre># xboxdrv --detach-kernel-driver --calibration Y1=-32767:128:29000
</pre>
<p>This will translate the values of your real gamepad from <code>128</code> (center) to <code>29000</code> (max readable value on top) of <code>Y1</code> axis to the ideal values of virtual gamepad.
</p>
<p>Nice thing about <i>xboxdrv</i> is that it exports resulting device as both old Joystick API and new style evdev API so it should be compatible with basically any application. You can now see in jstest that the values of axis <code>1</code> (corresponds to vertical axis of left joystick) is read from <code>0</code> to <code>-32767</code>, and in <i>evtest-qt</i> that you can reach the maximum value. And your character in game can run.
</p>
<h5><span class="mw-headline" id="Configuring_curves_and_responsiveness">Configuring curves and responsiveness</span></h5>
<p>In case your game requires just limited amount of buttons or has good support for multiple controllers, you may have good results with using <i>xboxdrv</i> to change response curves of the joystick.
</p>
<p>Below are example setups for Saitek X-55 HOTAS:
</p>
<pre>$ xboxdrv --evdev /dev/input/by-id/usb-Madcatz_Saitek_Pro_Flight_X-55_Rhino_Throttle_G0000021-event-joystick \
  --evdev-no-grab --evdev-absmap 'ABS_#40=x1,ABS_#41=y1,ABS_X=x2,ABS_Y=y2' --device-name 'Hat and throttle' \
  --ui-axismap 'x2^cal:-32000:0:32000=,y2^cal:-32000:0:32000=' --silent
</pre>
<p>this maps the <code>EV_ABS</code> event with id of 40 and 41 (use <i>xboxdrv</i> with <code>--evdev-debug</code> to see the events registered), which is the normally inaccessible "mouse pointer" on the throttle, to first gamepad joystick and throttles to second joystick, it also clamps the top and lower ranges as they not always register fully.
</p>
<p>A bit more interesting is the setup for the stick:
</p>
<pre>$ xboxdrv --evdev /dev/input/by-id/usb-Madcatz_Saitek_Pro_Flight_X-55_Rhino_Stick_G0000090-event-joystick \
  --evdev-no-grab --evdev-absmap 'ABS_X=x1' --evdev-absmap 'ABS_Y=y1' --device-name 'Joystick' \
  --ui-axismap 'x1^cal:-32537:-455:32561=,x1^dead:-900:700:1=,x1^resp:-32768:-21845:-2000:0:2000:21485:32767=' \
  --ui-axismap 'y1^cal:-32539:-177:32532=,y1^dead:-700:2500:1=,y1^resp:-32768:-21845:-2000:0:2000:21485:32767=' \
  --evdev-absmap 'ABS_RZ=x2' --ui-axismap 'x2^cal:-32000:-100:32000,x2^dead:-1500:1000:1=,x2^resp:-32768:-21845:-2000:0:2000:21485:32767=' \
  --silent
</pre>
<p>this maps the 3 joystick axes to gamepad axes and changes the calibration (min value, centre value, max value), dead zones (negative side, positive side, flag to turn smoothing) and finally change of response curve to a more flat one in the middle.
</p>
<p>You can also modify the responsiveness by setting the <code>sen</code> (sensitivity) parameter. Setting it to value of <code>0</code> will give you a linear sensitivity, value of <code>-1</code> will give very insensitive axis while value of <code>1</code> will give very sensitive axis. You can use intermediate values to make it less or more sensitive. Internally <i>xboxdrv</i> uses a quadratic formula to calculate the resulting value, so this setting gives a more smooth result than <code>resp</code> shown above.
</p>
<h3><span class="mw-headline" id="Disable_joystick_from_controlling_mouse">Disable joystick from controlling mouse</span></h3>
<p>If you want to play games with your gamepad, you might want to disable its joystick control over mouse cursor. To do this, edit <code>/etc/X11/xorg.conf.d/51-joystick.conf</code> (create if it does not exists) so that it looks like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/51-joystick.conf </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
        Identifier "joystick catchall"
        MatchIsJoystick "on"
        MatchDevicePath "/dev/input/event*"
        Driver "joystick"
        <b>Option "StartKeysEnabled" "False"</b>
        <b>Option "StartMouseEnabled" "False"</b>
EndSection</pre>
<h3><span class="mw-headline" id="Using_gamepad_to_send_keystrokes">Using gamepad to send keystrokes</span></h3>
<p>A couple of programs exist to map gamepad buttons to keyboard keys, including:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qjoypad/">qjoypad</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=antimicrox">antimicrox</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sc-controller/">sc-controller</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=steam">steam</a></span> - see <a href="../en/Steam.html#Steam_Input" title="Steam">Steam#Steam Input</a>
</li>
</ul>
<p>All work well without the need for additional X.org configuration.
</p>
<h4><span class="mw-headline" id="Xorg_configuration_example">Xorg configuration example</span></h4>
<p>This is a good solution for systems where restarting Xorg is a rare event because it is a static configuration loaded only on X startup. The example runs on a <a href="../en/Kodi.html" title="Kodi">Kodi</a> media PC, controlled with a Logitech Cordless RumblePad 2. Due to a problem with the d-pad (a.k.a. "hat") being recognized as another axis, <a href="../en/Gamepad.html" class="mw-redirect" title="Joy2key">Joy2key</a> was used as a workaround. Since <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kodi">kodi</a></span> version 11.0 and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/joy2key/">joy2key</a></span><sup><small>AUR</small></sup> 1.6.3-1, this setup no longer worked and the following was created for letting Xorg handle joystick events.
</p>
<p>First, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xf86-input-joystick/">xf86-input-joystick</a></span><sup><small>AUR</small></sup> package. Then, create an X configuration file: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/51-joystick.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
  Identifier "Joystick hat mapping"
  Option "StartKeysEnabled" "True"
  #MatchIsJoystick "on"
  Option "MapAxis5" "keylow=113 keyhigh=114"
  Option "MapAxis6" "keylow=111 keyhigh=116"
 EndSection</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <code>MatchIsJoystick "on"</code> line does not seem to be required for the setup to work, but you may want to uncomment it.</div>
<h3><span class="mw-headline" id="Remapping_of_gamepad_buttons_and_more">Remapping of gamepad buttons and more</span></h3>
<p>With some programs you can also configure your gamepad further, including the following potential features:
</p>
<ul>
<li>Remapping buttons and axes.
<ul><li>Assigning mapping profiles to different games.</li></ul>
</li>
<li>Emulating a different type of gamepad. As noted in <a href="#Mimic_Xbox_360_controller">#Mimic Xbox 360 controller</a>, software can often behave better when seemingly given an Xbox 360 Controller, as this is a very common controller that many games have been tested with.</li>
<li>Additional functionality such as Macros, On-Screen-Displays etc.</li>
</ul>
<p>List of software:
</p>
<ul><li>
<b>SC Controller</b> — Open-source software supporting button remapping and Xbox 360 Controller emulation.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Ryochan7/sc-controller">https://github.com/Ryochan7/sc-controller</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sc-controller/">sc-controller</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Steam.html" title="Steam">Steam</a></b> — Proprietary storefront whose client supports rebinding gamepad inputs via <a rel="nofollow" class="external text" href="https://partner.steamgames.com/doc/features/steam_controller">Steam Input</a>. When enabled, Steam exposes a Steam Controller to games that opt into the Steam Input API, as well as an emulated Xbox 360 Controller to games using traditional gamepad APIs. See <a href="../en/Steam.html#Steam_Input" title="Steam">Steam#Steam Input</a> for further details.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://store.steampowered.com/about/">https://store.steampowered.com/about/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=steam">steam</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Gamepad.html#xboxdrv" class="mw-redirect" title="Xboxdrv">xboxdrv</a></b> — Xbox 360 controller driver which supports emulating the controller from a different input controller. Even if you don't have or need (in the sense of <a href="#Mimic_Xbox_360_controller">#Mimic Xbox 360 controller</a>) a 360 controller, this is still flexible option for performing remapping.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://xboxdrv.gitlab.io/">https://xboxdrv.gitlab.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h4><span class="mw-headline" id="Remapping_of_gamepad_on_SDL2_applications">Remapping of gamepad on SDL2 applications</span></h4>
<p>Gamepads can be remapped for SDL2 applications using the <code>SDL_GAMECONTROLLERCONFIG</code> environment variable. For each line, it includes the gamepad's GUID, a name, button / axis mappings and a platform. The controller's GUID can be retrieved by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sdl-jstest-git/">sdl-jstest-git</a></span><sup><small>AUR</small></sup> and then running <code>sdl2-jstest --list</code>.
</p>
<p>For example, to map Microsoft Xbox 360 controllers with different GUIDs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">export SDL_GAMECONTROLLERCONFIG="
030000005e0400008e02000001000000,Microsoft Xbox 360,a:b0,b:b1,back:b6,dpdown:h0.1,dpleft:h0.2,dpright:h0.8,dpup:h0.4,leftshoulder:b4,leftstick:b9,lefttrigger:a2,leftx:a0,lefty:a1,rightshoulder:b5,rightstick:b10,righttrigger:a5,rightx:a3,righty:a4,start:b7,x:b2,y:b3,platform:Linux,
030000005e0400008e02000004010000,Microsoft Xbox 360,a:b0,b:b1,back:b6,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b8,leftshoulder:b4,leftstick:b9,lefttrigger:a2,leftx:a0,lefty:a1,rightshoulder:b5,rightstick:b10,righttrigger:a5,rightx:a3,righty:a4,start:b7,x:b2,y:b3,platform:Linux,
"</pre>
<p>Some apps extract mapping information from a <code>gamecontrollerdb.txt</code> file. It can be edited graphically with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/controllermap/">controllermap</a></span><sup><small>AUR</small></sup>. An up to date database can be found on <a rel="nofollow" class="external autonumber" href="https://github.com/gabomdq/SDL_GameControllerDB">[1]</a>.
</p>
<h2><span class="mw-headline" id="Specific_devices">Specific devices</span></h2>
<p>While most gamepads, especially USB based ones should just work, some may require (or give better results) if you use alternative drivers. If it does not work the first time, do not give up, and read the following sections thoroughly!
</p>
<h3><span class="mw-headline" id="Dance_pads">Dance pads</span></h3>
<p>Most dance pads should work. However some pads, especially those used from a video game console via an adapter, have a tendency to map the directional buttons as axis buttons. This prevents hitting left-right or up-down simultaneously. This behavior can be fixed for devices recognized by xpad via a module option:
</p>
<pre># modprobe -r xpad
# modprobe xpad dpad_to_buttons=1
</pre>
<p>If that did not work, you can try <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/axisfix-git/">axisfix-git</a></span><sup><small>AUR</small></sup> or patching the <code>joydev</code> kernel module (<a rel="nofollow" class="external free" href="https://github.com/adiel-mittmann/dancepad">https://github.com/adiel-mittmann/dancepad</a>).
</p>
<h3><span class="mw-headline" id="Logitech_Thunderpad_Digital">Logitech Thunderpad Digital</span></h3>
<p>Logitech Thunderpad Digital will not show all the buttons if you use the <code>analog</code> module. Use the device specific <code>adi</code> module for this controller.
</p>
<h3><span class="mw-headline" id="Nintendo_Gamecube_Controller">Nintendo Gamecube Controller</span></h3>
<p>Dolphin Emulator has a <a rel="nofollow" class="external text" href="https://wiki.dolphin-emu.org/index.php?title=How_to_use_the_Official_GameCube_Controller_Adapter_for_Wii_U_in_Dolphin">page on their wiki</a> that explains how to use the official Nintendo USB adapter with a Gamecube controller. This configuration also works with the Mayflash Controller Adapter if the switch is set to "Wii U".
</p>
<p>For use with steam there is a <a rel="nofollow" class="external text" href="https://github.com/ToadKing/wii-u-gc-adapter">tool on github</a> that sends the input to steam as a generic controller.
</p>
<h3><span class="mw-headline" id="Nintendo_Switch_Pro_Controller_and_Joy-Cons">Nintendo Switch Pro Controller and Joy-Cons</span></h3>
<h4><span class="mw-headline" id="Using_the_kernel_Nintendo_HID_driver">Using the kernel Nintendo HID driver</span></h4>
<p>The hid-nintendo kernel HID driver was mainlined in kernel 5.16. If you are using an earlier kernel, you will need to install the <a href="../en/Dynamic_Kernel_Module_Support.html" class="mw-redirect" title="DKMS">DKMS</a> module named <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hid-nintendo-dkms/">hid-nintendo-dkms</a></span><sup><small>AUR</small></sup>. The driver provides support for rumble, battery level, and control of the player and home LEDs. It supports the Nintendo Switch Pro Controller over both USB and Bluetooth in addition to the Joy-Cons.
</p>
<p>An alternate DKMS module named <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hid-nintendo-nso-dkms/">hid-nintendo-nso-dkms</a></span><sup><small>AUR</small></sup> patches in support for the Switch Online NES and SNES controllers.
</p>
<h5><span class="mw-headline" id="Using_joycond_userspace_daemon">Using joycond userspace daemon</span></h5>
<p>The hid-nintendo kernel driver does not handle the combination of two Joy-Cons into one virtual input device. That functionality has been left up to userspace. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/joycond-git/">joycond-git</a></span><sup><small>AUR</small></sup> is a userspace daemon that combines two kernel Joy-Con evdev devices into one virtual input device using uinput. An application can use two Joy-Cons as if they are a single controller. When the daemon is active, Switch controllers will be placed in a pseudo pairing mode, and the LEDs will start flashing. Holding the triggers can be used to pair controllers and make them usable. To pair two Joy-Cons together, press one trigger on each Joy-Con.
</p>
<h5><span class="mw-headline" id="Mimic_Xbox_360_controller">Mimic Xbox 360 controller</span></h5>
<p>Some games and emulators are hardcoded to work with an Xbox 360 controller, and will not work with other controllers. To get around this, you need to create a virtual Xbox 360 controller that emulates the expected interface, but is bound to your controller's inputs. This can be done with <a href="../en/Steam.html#Steam_Input" title="Steam">Steam Input</a> or <a href="#Mimic_Xbox_360_controller_with_other_controllers">xboxdrv</a>.
</p>
<h4><span class="mw-headline" id="Use_positional_layout_on_SDL2_applications">Use positional layout on SDL2 applications</span></h4>
<p>By default, SDL2 maps buttons on Nintendo controllers according to the gamepad's label instead of the button's position. This is enabled by the <a rel="nofollow" class="external text" href="https://github.com/libsdl-org/SDL/blob/b886f4c6c97f3d37d65f65afdb6bd68148fd4de6/include/SDL_hints.h#L508">SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS</a> setting, which defaults to <code>1</code> for controllers known to use the Nintendo button layout,<a rel="nofollow" class="external autonumber" href="https://github.com/libsdl-org/SDL/blob/7c05ea0a0ef075527fd745215d5d8a77f667bc21/src/joystick/SDL_gamecontrollerdb.h">[2]</a> and <code>0</code> for other controllers.<a rel="nofollow" class="external autonumber" href="https://github.com/libsdl-org/SDL/blob/ec58a817ef66efc23d7d6e964844317673b23ead/src/joystick/SDL_gamecontroller.c#L1575-L1582">[3]</a> This behavior can be overridden for all controllers by setting the <code>SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>. For example, if Nintendo's conception of A/B and X/Y is undesirable, set <code>SDL_HINT_GAMECONTROLLER_USE_BUTTON_LABELS=0</code>.
</p>
<h3><span class="mw-headline" id="iPEGA-9017s_and_other_Bluetooth_gamepads">iPEGA-9017s and other Bluetooth gamepads</span></h3>
<p>If you want to use one of the widely available Bluetooth gamepads, such as iPEGA-9017s designed mostly for Android and iOS devices you would need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>. You should connect it in gamepad mode (if there are different modes, choose the gamepad one). Technically it is ready to be used, but in most cases games would not recognize it, and you would have to map it individually for every application. The best way to simplify it and make it work with all applications is to mimic Microsoft X360 controller with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup>.
Once connected you can create a udev rule to give it a persistent name, that would come in handy when setting it up.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-btjoy.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#Create a symlink to appropriate /dev/input/eventX at /dev/btjoy
ACTION=="add", SUBSYSTEM=="input", ATTRS{name}=="Bluetooth Gamepad", ATTRS{uniq}=="00:17:02:01:ae:2a", SYMLINK+="btjoy"</pre>
<p>Replace "Bluetooth Gamepad" with your device name and "00:17:02:01:ae:2a" with your device's address.
</p>
<p>Next, create a configuration for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup> somewhere, for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/xboxdrv/ipega.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#iPEGA PG-9017S Config 

[xboxdrv]
evdev-debug = true
evdev-grab = true
rumble = false
mimic-xpad = true

[evdev-absmap]
ABS_HAT0X = dpad_x
ABS_HAT0Y = dpad_y

ABS_X = X1
ABS_Y = Y1

ABS_Z  = X2
ABS_RZ = Y2

[axismap]
-Y1 = Y1
-Y2 = Y2

[evdev-keymap]
BTN_EAST=a
BTN_C=b
BTN_NORTH=y
BTN_SOUTH=x
BTN_TR2=start
BTN_TL2=back
BTN_Z=rt
BTN_WEST=lt

BTN_MODE = guide</pre>
<p>Refer to <span class="plainlinks archwiki-template-man" title="$ man 1 xboxdrv"><a rel="nofollow" class="external text" href="https://xboxdrv.gitlab.io/xboxdrv.html">xboxdrv(1)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-11-25]</sup> to see all the options.
</p>
<p>Now when you have the configuration and your device is connected you can start the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup> like so:
</p>
<pre># xboxdrv --evdev /dev/btjoy --config .config/xboxdrv/ipega.conf
</pre>
<p>Your games will now work with bluetooth gamepad as long as xboxdrv is running.
</p>
<h4><span class="mw-headline" id="iPEGA-9068_and_9087">iPEGA-9068 and 9087</span></h4>
<p>For this model, use the same procedures as above, but with the configs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/xboxdrv/ipega.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#iPEGA PG-9068 and PG-9087 Config 

[xboxdrv]
evdev-debug = true
evdev-grab = true
rumble = false
mimic-xpad = true

[evdev-absmap]
ABS_HAT0X = dpad_x
ABS_HAT0Y = dpad_y

ABS_X = X1
ABS_Y = Y1

ABS_Z  = X2
ABS_RZ = Y2

[axismap]
-Y1 = Y1
-Y2 = Y2

[evdev-keymap]
BTN_A=a
BTN_B=b
BTN_Y=y
BTN_X=x
BTN_TR=rb
BTN_TL=lb
BTN_TR2=rt
BTN_TL2=lt
BTN_THUMBL=tl
BTN_THUMBR=tr
BTN_START=start
BTN_SELECT=back

BTN_MODE = guide</pre>
<h4><span class="mw-headline" id="Defender_X7">Defender X7</span></h4>
<p>For this model, use the same procedures as above, but with the configs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/xboxdrv/defender.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#Defender x7 xboxdrv config

[xboxdrv]
evdev-debug = true
evdev-grab = true
rumble = false
mimic-xpad = true

[evdev-absmap]
ABS_HAT0X = dpad_x
ABS_HAT0Y = dpad_y

ABS_X = X1
ABS_Y = Y1

ABS_Z  = X2
ABS_RZ = Y2

[axismap]
-Y1 = Y1
-Y2 = Y2

[evdev-keymap]
BTN_EAST=b
BTN_NORTH=x
BTN_SOUTH=a
BTN_WEST=y
BTN_TR2=rt
BTN_TL2=lt
BTN_TR=rb
BTN_TL=lb
BTN_THUMBL=tl
BTN_THUMBR=tr
BTN_START=start
BTN_SELECT=back

BTN_MODE = guide</pre>
<p>Now when you have the configuration and your device is connected you can start the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup> like so:
</p>
<pre># xboxdrv --evdev /dev/btjoy --config .config/xboxdrv/defender.conf
</pre>
<h3><span class="mw-headline" id="Stadia_Controller">Stadia Controller</span></h3>
<p>The Stadia controller can also be mapped with xboxdrv:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/xboxdrv/stadia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Stadia xboxdrv config

[xboxdrv]
mimic-xpad=true
silent=true

[evdev-absmap]
ABS_X=x1
ABS_Y=y1
ABS_Z=x2
ABS_RZ=y2
ABS_GAS=rt
ABS_BRAKE=lt
ABS_HAT0X=dpad_x
ABS_HAT0Y=dpad_y

[axismap]
-y1=y1
-y2=y2

[evdev-keymap]
BTN_SOUTH=A
BTN_EAST=B
BTN_NORTH=X
BTN_WEST=Y

BTN_START=start
BTN_SELECT=back
BTN_MODE=guide

BTN_THUMBL=tl
BTN_THUMBR=tr
BTN_TR=rb
BTN_TL=lb</pre>
<h3><span class="mw-headline" id="Steam_Controller">Steam Controller</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Kernel 4.18 <a rel="nofollow" class="external text" href="https://lore.kernel.org/lkml/20180416122703.22306-1-rodrigorivascosta@gmail.com/">provides a kernel driver</a> for wired/wireless use of the steam controller as a controller input device without <a href="../en/Steam.html" title="Steam">Steam</a>.</div>
<p>The <a href="../en/Steam.html" title="Steam">Steam</a> client will recognize the controller and provide keyboard/mouse/gamepad emulation while Steam is running. The in-game Steam overlay needs to be enabled and working in order for gamepad emulation to work. You may need to run <code>udevadm trigger</code> with root privileges or plug the dongle out and in again, if the controller does not work immediately after installing and running Steam. If all else fails, try restarting the computer while the dongle is plugged in.
</p>
<p>If you are using the controller connected via Bluetooth LE, make sure the user is part of the <code>input</code> group.
</p>
<p>If you cannot get the Steam Controller to work, see <a href="#Steam_Controller_not_pairing">#Steam Controller not pairing</a>.
</p>
<p>Alternatively you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-steamcontroller-git/">python-steamcontroller-git</a></span><sup><small>AUR</small></sup> to have controller and mouse emulation without Steam or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sc-controller/">sc-controller</a></span><sup><small>AUR</small></sup> for a versatile graphical configuration tool simillar to what is provided by the Steam client.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you do not use the <a href="../en/Steam/Troubleshooting.html#Steam_runtime" class="mw-redirect" title="Steam runtime">Steam runtime</a>, you might actually need to disable the overlay for the controller to work in certain games (Rocket Wars, Rocket League, Binding of Isaac, etc.). Right click on a game in your library, select "Properties", and uncheck "Enable Steam Overlay".</div>
<h4><span class="mw-headline" id="Wine">Wine</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-steamcontroller-git/">python-steamcontroller-git</a></span><sup><small>AUR</small></sup> can also be used to make the Steam Controller work for games running under Wine. You need to find and download the application <code>xbox360cemu.v.3.0</code> (e.g. from <a rel="nofollow" class="external text" href="https://github.com/jacobmischka/ds4-in-wine/tree/master/xbox360cemu.v.3.0">here</a>). Then copy the files <code>dinput8.dll</code>, <code>xbox360cemu.ini</code>, <code>xinput1_3.dll</code> and <code>xinput_9_1_0.dll</code> to the directory that contains your game executable. Edit <code>xbox360cemu.ini</code> and only change the following values under <code>[PAD1]</code> to remap the Steam Controller correctly to a XBox controller.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">xbox360cemu.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Right Analog X=4
Right Analog Y=-5
A=1
B=2
X=3
Y=4
Back=7
Start=8
Left Thumb=10
Right Thumb=11
Left Trigger=a3
Right Trigger=a6</pre>
<p>Now start python-steamcontroller in Xbox360 mode (<code>sc-xbox.py start</code>). You might also want to copy <code>XInputTest.exe</code> from <code>xbox360cemu.v.3.0</code> to the same directory and run it with Wine in order to test if the mappings work correctly. However neither mouse nor keyboard emulation work with this method.
</p>
<p>Alternatively you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sc-controller/">sc-controller</a></span><sup><small>AUR</small></sup> for a similar graphical setup as Steam's own configurator. As of writing, it is a bit buggy here and there but offers an easy click and go way of configuring the controller.
</p>
<h3><span class="mw-headline" id="Xbox_360_controller">Xbox 360 controller</span></h3>
<p>Both the wired and wireless (with the <i>Xbox 360 Wireless Receiver for Windows</i>) controllers are supported by the <code>xpad</code> kernel module and should work without additional packages. Note that using a wireless Xbox360 controller with the Play&amp;Charge USB cable will not work. The cable is for recharging only and does not transmit any input data over the wire.
</p>
<p>It has been reported that the default xpad driver has some issues with a few newer wired and wireless controllers, such as:
</p>
<ul>
<li>incorrect button mapping. (<a rel="nofollow" class="external text" href="https://github.com/ValveSoftware/steam-for-linux/issues/95#issuecomment-14009081">discussion in Steam bugtracker</a>)</li>
<li>not-working sync. (<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=156028">discussion in Arch Forum</a>)</li>
<li>all four LEDs keep blinking, but controller works. TLP's USB autosuspend is one sure cause of this issue with wireless controllers. See below for fix.</li>
</ul>
<p>If you use the <a href="../en/TLP.html" title="TLP">TLP</a> power management tool, you may experience connection issues with your Microsoft wireless adapter (e.g. the indicator LED will go out after the adapter has been connected for a few seconds, and controller connection attempts fail, four LEDs keep blinking but controller works). This is due to TLP's USB autosuspend functionality, and the solution is to add the Microsoft wireless adapter's device ID to TLP blacklist
(to check device ID to blacklist, run <code>tlp-stat -u</code>; for original MS wireless dongle just add <code>USB_DENYLIST="045e:0719"</code> to <code>/etc/tlp.conf</code>),
check <a rel="nofollow" class="external text" href="https://linrunner.de/en/tlp/docs/tlp-configuration.html#usb">TLP configuration</a> for more details.
</p>
<p>If you experience such issues, you can use <a href="#xboxdrv">#xboxdrv</a> as the default <code>xpad</code> driver instead.
</p>
<p>If you wish to use the controller for controlling the mouse, or mapping buttons to keys, etc. you should use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xf86-input-joystick/">xf86-input-joystick</a></span><sup><small>AUR</small></sup> package (configuration help can be found using <span class="plainlinks archwiki-template-man" title="$ man 4 joystick"><a rel="nofollow" class="external text" href="https://manpages.debian.org/latest/xserver-xorg-input-joystick/joystick.4.en.html">joystick(4)</a></span>). If the mouse locks itself in a corner, it might help changing the <code>MatchDevicePath</code> in <code>/etc/X11/xorg.conf.d/50-joystick.conf</code> from <code>/dev/input/event*</code> to <code>/dev/input/js*</code>.
</p>
<p>In order to connect via Bluetooth using KDE, add the following <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a> <code>bluetooth.disable_ertm=1</code>.
</p>
<p>If you experience problems with the rumble feature not working in games, it may be necessary to set the environment variable <code>SDL_JOYSTICK_HIDAPI=0</code>
</p>
<h4><span class="mw-headline" id="xboxdrv">xboxdrv</span></h4>
<p><a rel="nofollow" class="external text" href="https://gitlab.com/xboxdrv/xboxdrv">xboxdrv</a> is an alternative to <code>xpad</code> which provides more functionality and might work better with certain controllers. It works in userspace and can be launched as system service. 
</p>
<p>Install it with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup> package. Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a>/<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> <code>xboxdrv.service</code>.
</p>
<p>If you have issues with the controller being recognized but not working in steam games or working but with incorrect mappings, it may be required to modify you configuration as such:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/xboxdrv</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[xboxdrv]
silent = true
device-name = "Xbox 360 Wireless Receiver"
mimic-xpad = true
deadzone = 4000

[xboxdrv-daemon]
dbus = disabled</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>xboxdrv.service</code>.
</p>
<h5><span class="mw-headline" id="Multiple_controllers">Multiple controllers</span></h5>
<p>xboxdrv supports a multitude of controllers, but they need to be set up in <code>/etc/default/xboxdrv</code>. For each extra controller, add an <code>next-controller = true</code> line. For example, when using 4 controllers, add it 3 times:
</p>
<pre>[xboxdrv]
silent = true
next-controller = true
next-controller = true
next-controller = true
[xboxdrv-daemon]
dbus = disabled</pre>
<p>Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>xboxdrv.service</code>.
</p>
<h5><span class="mw-headline" id="Mimic_Xbox_360_controller_with_other_controllers">Mimic Xbox 360 controller with other controllers</span></h5>
<p>xboxdrv can be used to make any controller register as an Xbox 360 controller with the <code>--mimic-xpad</code> switch. This may be desirable for games that support Xbox 360 controllers out of the box, but have trouble detecting or working with other gamepads.
</p>
<p>First, you need to find out what each button and axis on the controller is called. You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evtest">evtest</a></span> for this. Run <code>evtest</code> and select the device event ID number (<code>/dev/input/event*</code>) that corresponds to your controller. Press the buttons on the controller and move the axes to read the names of each button and axis.
</p>
<p>Here is an example of the output:
</p>
<pre>Event: time 1380985017.964843, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90003
Event: time 1380985017.964843, type 1 (EV_KEY), code 290 (BTN_THUMB2), value 1
Event: time 1380985017.964843, -------------- SYN_REPORT ------------
Event: time 1380985018.076843, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90003
Event: time 1380985018.076843, type 1 (EV_KEY), code 290 (BTN_THUMB2), value 0
Event: time 1380985018.076843, -------------- SYN_REPORT ------------
Event: time 1380985018.460841, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90002
Event: time 1380985018.460841, type 1 (EV_KEY), code 289 (BTN_THUMB), value 1
Event: time 1380985018.460841, -------------- SYN_REPORT ------------
Event: time 1380985018.572835, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90002
Event: time 1380985018.572835, type 1 (EV_KEY), code 289 (BTN_THUMB), value 0
Event: time 1380985018.572835, -------------- SYN_REPORT ------------
Event: time 1380985019.980824, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90006
Event: time 1380985019.980824, type 1 (EV_KEY), code 293 (BTN_PINKIE), value 1
Event: time 1380985019.980824, -------------- SYN_REPORT ------------
Event: time 1380985020.092835, type 4 (EV_MSC), code 4 (MSC_SCAN), value 90006
Event: time 1380985020.092835, type 1 (EV_KEY), code 293 (BTN_PINKIE), value 0
Event: time 1380985020.092835, -------------- SYN_REPORT ------------
Event: time 1380985023.596806, type 3 (EV_ABS), code 3 (ABS_RX), value 18
Event: time 1380985023.596806, -------------- SYN_REPORT ------------
Event: time 1380985023.612811, type 3 (EV_ABS), code 3 (ABS_RX), value 0
Event: time 1380985023.612811, -------------- SYN_REPORT ------------
Event: time 1380985023.708768, type 3 (EV_ABS), code 3 (ABS_RX), value 14
Event: time 1380985023.708768, -------------- SYN_REPORT ------------
Event: time 1380985023.724772, type 3 (EV_ABS), code 3 (ABS_RX), value 128
Event: time 1380985023.724772, -------------- SYN_REPORT ------------
</pre>
<p>In this case, <code>BTN_THUMB</code>, <code>BTN_THUMB2</code> and <code>BTN_PINKIE</code> are buttons and <code>ABS_RX</code> is the X axis of the right analogue stick.
You can now mimic an Xbox 360 controller with the following command:
</p>
<pre>$ xboxdrv --evdev /dev/input/event* --evdev-absmap ABS_RX=X2 --evdev-keymap BTN_THUMB2=a,BTN_THUMB=b,BTN_PINKIE=rt --mimic-xpad
</pre>
<p>The above example is incomplete. It only maps one axis and 3 buttons for demonstration purposes. Use <code>xboxdrv --help-button</code> to see the names of the Xbox controller buttons and axes and bind them accordingly by expanding the command above. Axes mappings should go after <code>--evdev-absmap</code> and button mappings follow <code>--evdev-keymap</code> (comma separated list; no spaces).
</p>
<p>By default, xboxdrv outputs all events to the terminal. You can use this to test that the mappings are correct. Append the <code>--silent</code> option to keep it quiet.
</p>
<h4>
<span id="Using_generic.2Fclone_controllers"></span><span class="mw-headline" id="Using_generic/clone_controllers">Using generic/clone controllers</span>
</h4>
<p>Some clone gamepads might require a specific initialization sequence in order to work (<a rel="nofollow" class="external text" href="https://superuser.com/a/1380235">Super User answer</a>). For that you should run the following python script as the root user:
</p>
<pre>#!/usr/bin/env python3

import usb.core

dev = usb.core.find(idVendor=0x045e, idProduct=0x028e)

if dev is None:
    raise ValueError('Device not found')
else:
    dev.ctrl_transfer(0xc1, 0x01, 0x0100, 0x00, 0x14)</pre>
<h3>
<span id="Xbox_Wireless_Controller_.2F_Xbox_One_Wireless_Controller"></span><span class="mw-headline" id="Xbox_Wireless_Controller_/_Xbox_One_Wireless_Controller">Xbox Wireless Controller / Xbox One Wireless Controller</span>
</h3>
<h4><span class="mw-headline" id="Connect_Xbox_Wireless_Controller_with_USB_cable">Connect Xbox Wireless Controller with USB cable</span></h4>
<p>This is supported by the kernel and works without any additional packages.
</p>
<h4><span class="mw-headline" id="Connect_Xbox_Wireless_Controller_with_Bluetooth">Connect Xbox Wireless Controller with Bluetooth</span></h4>
<h5><span class="mw-headline" id="Update_controller_firmware_via_Windows_10">Update controller firmware via Windows 10</span></h5>
<p>The firmware of the Xbox Wireless Controller used to cause loops of connecting/disconnecting with Bluez. The best workaround is to plug the controller (via a USB cord) to a Windows 10 computer, download the <a rel="nofollow" class="external text" href="https://apps.microsoft.com/store/detail/xbox-accessories/9NBLGGH30XJ3?hl=en-us&amp;gl=us">Xbox Accessories</a> application through the Microsoft Store, and update the firmware of the controller.
</p>
<h5><span class="mw-headline" id="xpadneo">xpadneo</span></h5>
<p>A relatively new driver which does support the Xbox One S and Xbox Series X|S controller via Bluetooth is called <a rel="nofollow" class="external text" href="https://github.com/atar-axis/xpadneo/">xpadneo</a>. In addition to these two models, it has also basic support for the Xbox Elite Series 2 Wireless controller. In exchange for fully supporting just two controllers so far, it enables one to read out the correct battery level, supports rumble (even the one on the trigger buttons - L2/R2), corrects the (sometimes wrong) button mapping and more.
</p>
<p>Installation is done using DKMS: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xpadneo-dkms-git/">xpadneo-dkms-git</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pairing a new Xbox One S controller for the first time may prove difficult, from not pairing at all to entering a connect/disconnect loop. These problems are described <a rel="nofollow" class="external text" href="https://github.com/atar-axis/xpadneo/issues/295">there</a>. The best way to reliably pair the controller is to first pair it in Windows 10. However, this needs be done using the same Bluetooth adapter. A solution is to install a free copy of Windows 10 Evaluation on a Virtual machine (using <a href="../en/QEMU.html" title="QEMU">QEMU</a> or <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a>, taking care of the Bluetooth adapter passthrough requirements, <i>e.g.</i> as an USB device) using Arch Linux as your host, and pair in Windows 10 first, then do the same again under your Arch Linux system. Then pairing will succeed and there will be no need of further Windows 10 use.</div>
<h4><span class="mw-headline" id="Connect_Xbox_Wireless_Controller_with_Microsoft_Xbox_Wireless_Adapter">Connect Xbox Wireless Controller with Microsoft Xbox Wireless Adapter</span></h4>
<h5><span class="mw-headline" id="xone">xone</span></h5>
<p><a rel="nofollow" class="external text" href="https://github.com/medusalix/xone">xone</a> is a Linux kernel driver for Xbox One and Xbox Series X|S accessories. It serves as a modern replacement for xpad, supersedes xow. Currently working via wired or with the wireless dongle. This driver is still in active development.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xone-dkms-git/">xone-dkms-git</a></span><sup><small>AUR</small></sup> and, if using the wireless dongle, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xone-dongle-firmware/">xone-dongle-firmware</a></span><sup><small>AUR</small></sup>. Reboot your system.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The headers corresponding to your kernel are required; see <a href="../en/Dynamic_Kernel_Module_Support.html#Installation" class="mw-redirect" title="DKMS">DKMS#Installation</a>.</div>
<p>If the controller performs poorly (low polling rate) after being paired, you will need to <a rel="nofollow" class="external text" href="https://support.xbox.com/en-US/help/hardware-network/controller/update-xbox-wireless-controller">update the controller's firmware</a> in Windows using the "Xbox Accessories" app from the Microsoft Store. Theoretically this should be possible with USB passthrough to a Windows virtual machine, but you may need to dual boot to an actual (baremetal) Windows installation for the Xbox Accessories application to see the controller and do the firmware update.
</p>
<p>Also, if you dual boot Windows, pairing the controller &amp; adapter in Windows may cause the pairing to be lost in Linux. You will need to re-pair the controller &amp; dongle when you reboot into Linux. This also happens in the other direction — when the controller &amp; dongle are paired in Linux, they will need to be re-paired the next time you want to use them in Windows.
</p>
<h3><span class="mw-headline" id="Logitech_Dual_Action">Logitech Dual Action</span></h3>
<p>The Logitech Dual Action gamepad has a very similar mapping to the PS2 pad, but some buttons and triggers need to be swapped to mimic the Xbox controller.
</p>
<pre># xboxdrv --evdev /dev/input/event* \
   --evdev-absmap ABS_X=x1,ABS_Y=y1,ABS_RZ=x2,ABS_Z=y2,ABS_HAT0X=dpad_x,ABS_HAT0Y=dpad_y \
   --axismap -Y1=Y1,-Y2=Y2 \
   --evdev-keymap BTN_TRIGGER=x,BTN_TOP=y,BTN_THUMB=a,BTN_THUMB2=b,BTN_BASE3=back,BTN_BASE4=start,BTN_BASE=lt,BTN_BASE2=rt,BTN_TOP2=lb,BTN_PINKIE=rb,BTN_BASE5=tl,BTN_BASE6=tr \
   --mimic-xpad --silent
</pre>
<h3><span class="mw-headline" id="PlayStation_2_controller_via_USB_adapter">PlayStation 2 controller via USB adapter</span></h3>
<p>To fix the button mapping of PS2 dual adapters and mimic the Xbox controller you can run the following command:
</p>
<pre># xboxdrv --evdev /dev/input/event* \
   --evdev-absmap ABS_X=x1,ABS_Y=y1,ABS_RZ=x2,ABS_Z=y2,ABS_HAT0X=dpad_x,ABS_HAT0Y=dpad_y \
   --axismap -Y1=Y1,-Y2=Y2 \
   --evdev-keymap   BTN_TOP=x,BTN_TRIGGER=y,BTN_THUMB2=a,BTN_THUMB=b,BTN_BASE3=back,BTN_BASE4=start,BTN_BASE=lb,BTN_BASE2=rb,BTN_TOP2=lt,BTN_PINKIE=rt,BTN_BASE5=tl,BTN_BASE6=tr \
   --mimic-xpad --silent
</pre>
<h3><span class="mw-headline" id="PlayStation_3_controller">PlayStation 3 controller</span></h3>
<h4><span class="mw-headline" id="Pairing_via_USB">Pairing via USB</span></h4>
<p>If you own a PS3 controller and can connect with USB, plug it to your computer and press the PS button. The controller will power up and one of the four LEDs should light up indicating the controller's number.
</p>
<h4><span class="mw-headline" id="Pairing_via_Bluetooth">Pairing via Bluetooth</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>. Make sure bluetooth is working by following the first five steps of <a href="../en/Bluetooth.html#Pairing" title="Bluetooth">Bluetooth#Pairing</a> and leave the bluetoothctl command running, then turn on the controller by pressing the middle 'PS' button(all 4 leds should be blinking quickly ~4 hz) and connect to your computer using usb. Lastly, type yes in the bluetoothctl prompt when asked '<code>Authorize service 00001124-0000-1000-8000-00805f9b34fb (yes/no)</code>'.
</p>
<p>Alternative instructions:
To connect your PS3 controller to your computer using Bluetooth, you first need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> and then connect your controller via USB. A pop-up should appear asking for pairing. Click on Trust &amp; Authorize. You can now unplug your controller and press the PS button. The controller will connect and a LED will remain solid. You can now use it to play games. Connecting using the USB cable is only needed after the controller has been connected to another system.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>In the latest version of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> (as of 2024/01/03), the default value for <code>ClassicBondedOnly</code> was changed from <code>false</code> to <code>true</code> for security reasons <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/bluez/+bug/2045931/comments/6">[4]</a>. This change makes it impossible to pair a Dual Shock 3 controller, as <code>bluetoothctl</code> asks for a PIN and cannot proceed. To work around this, set <code>ClassicBondedOnly</code> to <code>false</code> by adding the following lines in the newly created file at <code>/etc/bluetooth/input.conf</code>.
</p>
<p>As of 2024-03-09, the default value for <code>UserspaceHID</code> has also changed to <code>true</code>. While the connection succeeds, controllers can no longer be set into operational mode unless this value is changed to <code>false</code>. See <a rel="nofollow" class="external text" href="https://github.com/bluez/bluez/issues/771">issue #771 on Github</a> for more information.
</p>
<pre>[General]
ClassicBondedOnly=false
UserspaceHID=false
</pre>
<p>Note this solution regress on security. For the details, please refer to <a rel="nofollow" class="external text" href="https://github.com/bluez/bluez/issues/673#issuecomment-1858431729">GitHub</a>
</p>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> There are many complicated instructions on the internet on setting up a PS3 controller that require many steps such as compiling and installing qtsixa or sixpair and setting up the controller manually, or patching bluez with some specific patches. None of this is necessary on a modern Linux kernel and after installing bluez-plugins.</div>
<h3>
<span id="PlayStation_3.2F4_controller"></span><span class="mw-headline" id="PlayStation_3/4_controller">PlayStation 3/4 controller</span>
</h3>
<p>The DualShock 3, DualShock 4 and Sixaxis controllers work out of the box when plugged in via USB (the PS button will need to be pushed to begin). They can also be used wirelessly via Bluetooth.
</p>
<p>Steam properly recognizes it as a PS3 pad and Big Picture can be launched with the PS button. Big Picture and some games may act as if it was a 360 controller. Gamepad control over mouse is on by default. You may want to turn it off before playing games, see <a href="#Joystick_moving_mouse">#Joystick moving mouse</a>.
</p>
<h4><span class="mw-headline" id="Pairing_via_Bluetooth_2">Pairing via Bluetooth</span></h4>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span> packages, which includes the <i>sixaxis</i> plugin. Then <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> the <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> service and ensure bluetooth is powered on. If using <i>bluetoothctl</i> start it in a terminal and then plug the controller in via USB. You should be prompted to trust the controller in bluetoothctl. A graphical bluetooth front-end may program your PC's bluetooth address into the controller automatically. Hit the PlayStation button and check that the controller works while plugged in.
</p>
<p>You can now disconnect your controller. The next time you hit the PlayStation button it will connect without asking anything else.
</p>
<p>Alternatively, on a PS4 controller you can hold the share button and the PlayStation button simultaneously (for a few seconds) to put the gamepad in pairing mode, and pair as you would normally.
</p>
<p>GNOME's Settings also provides a graphical interface to pair sixaxis controllers when connected by wire.
</p>
<p>Remember to disconnect the controller when you are done as the controller will stay on when connected and drain the battery.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the controller does not connect, make sure the bluetooth interface is turned on and the controllers have been trusted. (See <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a>)</div>
<h4>
<span id="Using_generic.2Fclone_controllers_2"></span><span class="mw-headline" id="Using_generic/clone_controllers_2">Using generic/clone controllers</span>
</h4>
<p>Using generic/clone Dualshock controllers is possible, however there is an issue that may require to install a patched package. The default Bluetooth protocol stack does not detect some of the clone controllers. The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bluez-ps3/">bluez-ps3</a></span><sup><small>AUR</small></sup> package is a version patched to be able to detect them.
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bluez-plugins-ps3/">bluez-plugins-ps3</a></span><sup><small>AUR</small></sup> is another package that only patch the bluez-plugins may work for some controllers.
</p>
<h3><span class="mw-headline" id="PlayStation_4_controller">PlayStation 4 controller</span></h3>
<h4><span class="mw-headline" id="Pairing_via_USB_2">Pairing via USB</span></h4>
<p>Connect your controller via USB and press the <code>PS</code> button.
</p>
<h4><span class="mw-headline" id="Pairing_via_Bluetooth_3">Pairing via Bluetooth</span></h4>
<p>If you want to use bluetooth mode, hold down the <code>PS</code> button and <code>Share</code> button together. The white LED of the controller should blink very quickly, and the wireless controller can be paired with your bluetooth manager (bluez, gnome-bluetooth).
</p>
<h4><span class="mw-headline" id="Disable_touchpad_acting_as_mouse">Disable touchpad acting as mouse</span></h4>
<p>The libinput and Xorg fixes conflict with games that actually use touchpad as part of the gamepad, such as Rise of the Tomb Raider. This will work with both DualShock4 and DualSense controllers.
</p>
<h5><span class="mw-headline" id="KDE">KDE</span></h5>
<p>if using <a href="../en/KDE.html#Plasma" class="mw-redirect" title="KDE Plasma">KDE Plasma</a> with a mouse you can simply disable the touchpad through <i>System Settings &gt; Mouse &amp; Touchpad &gt; General &gt; Device Enabled.</i>
</p>
<h5><span class="mw-headline" id="libinput">libinput</span></h5>
<p>If using <a href="../en/Libinput.html" title="Libinput">libinput</a> with <a href="../en/Xorg.html" title="Xorg">Xorg</a>, or if using <a href="../en/Wayland.html" title="Wayland">Wayland</a>, then you can follow <a href="../en/Libinput.html#Using_environment_variable" title="Libinput">Libinput#Using environment variable</a> to disable the touchpad device.
</p>
<p>Note that, since the touchpad is just one part of the controller, selecting the input device by vendor and product IDs will not suffice. Instead, consider selecting the device by name.
</p>
<p>For a full set of attributes you can use, consult <code>udevadm info --attribute-walk --name=<i>device_path</i></code>, where <code><i>device_path</i></code> is the path to the device, such as <code>/dev/input/event<i>n</i></code> or <code>/dev/input/by-id/<i>identifier</i></code>.
</p>
<p>To find the device path, you can use a tool such as <a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evtest">evtest</a> by just running <code>evtest</code>. This command should also print out the name of the device.
</p>
<p>Example snippet:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/72-ds4tm.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Disable DS4 touchpad acting as mouse
# USB
ATTRS{name}=="Sony Interactive Entertainment Wireless Controller Touchpad", ENV{LIBINPUT_IGNORE_DEVICE}="1"
# Bluetooth
ATTRS{name}=="Wireless Controller Touchpad", ENV{LIBINPUT_IGNORE_DEVICE}="1"</pre>
<p>With DualSense controllers, you need to replace the names with <code>Sony Interactive Entertainment DualSense Wireless Controller Touchpad</code> and <code>DualSense Wireless Controller Touchpad</code>.
</p>
<p>Then, <a href="../en/Udev.html#Loading_new_rules" title="Udev">reload udev rules</a>. Reconnect the gamepad to apply changes.
</p>
<h5><span class="mw-headline" id="Xorg">Xorg</span></h5>
<p>If using Xorg, you can follow <a href="../en/Xorg.html#Persistently_disable_input_source" title="Xorg">Xorg#Persistently disable input source</a> with <code>MatchProduct "Wireless Controller Touchpad"</code> to disable the DualShock4/DualSense touchpad. See <code>xinput list</code> for detected product names.
</p>
<h4>
<span id="Control_Mapping_.28Xbox.29"></span><span class="mw-headline" id="Control_Mapping_(Xbox)">Control Mapping (Xbox)</span>
</h4>
<h5><span class="mw-headline" id="Proton-GE_and_xboxdrv">Proton-GE and xboxdrv</span></h5>
<p>Proton-GE does not support mapping Dualshock 4 to Xbox gamepad like Wine or Wine-GE, because Proton is supposed to run on Steam wich have his own software for mapping (emulate) a controller to another controller. But Proton-GE does not need Steam anymore with UMU (UWLGL) support wich providing full support (patchs for any game) of proton without steam.
</p>
<p>This is the configuration file <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup>, it requires the new Dualshock driver from Sony from kernel 6.2, not the DS4DRV one. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable/start">Enable/start</a> <code>xboxdrv.service</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/xboxdrv</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[xboxdrv]
silent = true
mimic-xpad = true

[evdev-absmap]
ABS_X = x1
ABS_Y = y1
ABS_Z = lt
ABS_RZ = rt
ABS_RX = x2
ABS_RY = y2
ABS_HAT0X = dpad_x
ABS_HAT0Y = dpad_y

[evdev-keymap]
BTN_SOUTH = a
BTN_EAST = b
BTN_NORTH = y
BTN_WEST = x
BTN_TL = lb
BTN_TR = rb
BTN_THUMBL = tl
BTN_THUMBR = tr
BTN_SELECT = back
BTN_START = start

[axismap]
-y1 = y1
-y2 = y2</pre>
<p>If you want to verify mapping is working (Dualshock gamepad Emulated to Xbox 360 Gamepad), use:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ evtest</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/input/event15:	Microsoft X-Box 360 pad
/dev/input/event16:	Wireless Controller
/dev/input/event17:	Wireless Controller Motion Sensors
/dev/input/event18:	Wireless Controller Touchpad
</pre>
<p>For alternative direct use on terminal, with bluetooth, we can make a rule for always access to the gamepad with the same path (because with bluetooth, there is no access by-id for gamepads) :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-bluetooth.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="input", ATTRS{name}=="Wireless Controller", MODE="0666", SYMLINK+="dualshock4-bt"</pre>
<p>Now, the dualshock path with bluetooth will always be <code>/dev/dualshock4-bt</code>
</p>
<p>After a reboot, it is now possible to run without changing the path in <code>/dev/input</code>:
</p>
<pre>$ xboxdrv --evdev "/dev/dualshock4-bt" --evdev-keymap "BTN_SOUTH=a,BTN_EAST=b,BTN_TL=lb,BTN_THUMBR=tr,BTN_SELECT=back,BTN_START=start,BTN_THUMBL=tl,BTN_TR=rb,BTN_NORTH=y,BTN_WEST=x" --evdev-absmap "ABS_RZ=rt,ABS_RY=y2,ABS_RX=x2,ABS_Z=lt,ABS_Y=y1,ABS_X=x1,ABS_HAT0X=dpad_x,ABS_HAT0Y=dpad_y" --axismap "-y2=y2,-y1=y1" --mimic-xpad --silent
</pre>
<h3>
<span id="PlayStation_5_.28Dualsense.29_controller"></span><span class="mw-headline" id="PlayStation_5_(Dualsense)_controller">PlayStation 5 (Dualsense) controller</span>
</h3>
<p>Bluetooth connection of Dualsense requires enabling userspace HID support, otherwise Dualsense refuses Bluetooth connection after pairing. If userspace HID is not already enabled, this can be done by editing or creating new file <code>/etc/bluetooth/input.conf</code> with line <code>UserspaceHID=true</code> and <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restarting</a> the <code>bluetooth.service</code>.
</p>
<p>GNOME currently doesn't need to modify this.
</p>
<h4>
<span id="Control_Mapping_.28Xbox.29_2"></span><span class="mw-headline" id="Control_Mapping_(Xbox)_2">Control Mapping (Xbox)</span>
</h4>
<h5><span class="mw-headline" id="Steam_Input">Steam Input</span></h5>
<p>Thanks to <b>Steam Input</b>, a feature that's baked in Steam Client, games w/o DualSense support can use it to translate buttons to Xbox ones.
</p>
<p>From the Steam tray icon, select <i>Big Picture</i>. Then, press the <i>PS Button</i> on your DualSense, select <i>Settings</i> -&gt; <i>Controller</i>, ensure that <i>PlayStation Controller Support</i> is set to <i>Enabled in Games w/o Support</i>.
</p>
<h5><span class="mw-headline" id="xboxdrv_2">xboxdrv</span></h5>
<p>Thanks to <a rel="nofollow" class="external text" href="https://github.com/yoyossef/ds360">yoyossef</a>:
</p>
<pre># xboxdrv \
  --evdev /dev/input/by-id/usb-Sony_Interactive_Entertainment_DualSense_Wireless_Controller-if03-event-joystick \
  --evdev-absmap ABS_HAT0X=dpad_x,ABS_HAT0Y=dpad_y,ABS_X=X1,ABS_Y=Y1,ABS_RX=X2,ABS_RY=Y2,ABS_Z=LT,ABS_RZ=RT \
  --evdev-keymap BTN_SOUTH=A,BTN_EAST=B,BTN_NORTH=Y,BTN_WEST=X,BTN_START=start,BTN_MODE=guide,BTN_SELECT=back \
  --evdev-keymap BTN_TL=LB,BTN_TR=RB,BTN_TL2=LT,BTN_TR2=RT,BTN_THUMBL=TL,BTN_THUMBR=TR \
  --axismap -y1=y1,-y2=y2                          \
  --mimic-xpad                                     \
  --silent
</pre>
<p>Some applications, for example, Steam inside Geforce NOW inside web browser, may be confused with original joystick events, which shadow the newly created event source.
Simply deleting <code>/dev/input/js0</code> works this around.
</p>
<p>The PlayStation and mode buttons still do not work, however.
</p>
<h4><span class="mw-headline" id="dualsensectl">dualsensectl</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/nowrep/dualsensectl">dualsensectl</a> is a tool that can toggle the lightbar and microphone (and its LED), monitor the battery status, and power off the controller. To use it, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dualsensectl-git/">dualsensectl-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Multi-mode_wired_gamepads">Multi-mode wired gamepads</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Multiple improvements to be made. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Gamepad.html">Talk:Gamepad</a>)</div>
</div>
<p>Some gamepads have 3 modes when wired: Switch, Xbox 360/Windows, Android.
</p>
<p>And they also don't have hotkeys to switch between them when connected <i>wired</i>.
</p>
<p>When you connect such gamepad to Windows, it is in Xbox 360 Controller mode.
</p>
<p>But when you connect such gamepad to Linux, it enters the fallback mode (which happens to be the Android mode), which has a worse polling rate (100 Hz), the Home button acting as <code>XF86Home</code>; doesn't expose vibration, gyroscope, and accelerometer; doesn't support <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup> without <code>--evdev</code>; and identifies itself as e.g. "SHANWAN Android Gamepad" which is not liked by some games (though for SDL2 apps you can set a name in <code>SDL_GAMECONTROLLERCONFIG</code>).
</p>
<p>When you connect the gamepad, it first tries to be a "Switch Pro Controller", but for some reason the Linux kernel considers the descriptors (sent by the gamepad) invalid, and therefore disconnects the gamepad. This causes the gamepad to reconnect in the aforementioned fallback mode.
</p>
<p>In <code>dmesg</code> this looks like:
</p>
<pre>usb 1-5.3: new full-speed USB device number 37 using xhci_hcd
usb 1-5.3: unable to read config index 0 <b>descriptor</b>/start: -32
usb 1-5.3: chopping to 0 config(s)
usb 1-5.3: can't read configurations, error <b>-32</b>
usb 1-5.3: new full-speed USB device number 38 using xhci_hcd
usb 1-5.3: New USB device found, idVendor=0079, idProduct=181c, bcdDevice= 1.00
usb 1-5.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
usb 1-5.3: Product: Android Gamepad
usb 1-5.3: Manufacturer: SHANWAN</pre>
<p>Notice that the "USB Device number" gets increased after the failure. For some USB hubs the error code is <code>-32</code> (EPIPE: broken pipe), for others it is <code>-71</code> (EPROTO: protocol error).
</p>
<p>This error can be fixed by setting a quirk in <code>usbcore</code> module (not <code>usbhid</code>) for Switch controller's USB ID:
</p>
<pre># If you have already *manually* set quirks for other devices,
# then don't forget to include them in the two commands below ↓
echo -n "057e:2009:<b>ik</b>" | sudo tee /sys/module/usbcore/parameters/quirks
</pre>
<pre># Optionally constant polling mode:
sudo modprobe -r usbhid ; sleep 4 ; sudo modprobe -v usbhid "quirks=0x057e:0x2009:0x400"
</pre>
<p><code>ik</code> are 2 flags (<a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/7.7_release_notes/kernel_parameters_changes">List of all flags</a>).
</p>
<p>The flag <code>i</code> means "allow bad descriptors".
</p>
<p>And the flag <code>k</code> means "disable LPM" (link power management). It is specified in the command because it often helps devices of other types. This flag might do nothing because not all USB controllers even have LPM. You can try without <code>k</code> aftewards.
</p>
<p>You could also try the flag <code>g</code> ("200 ms pause after reading the descriptors") because it often helps devices of other types, but at least in the case of iPEGA PG-SW038C (a $10 gamepad) flag <code>g</code> causes it infinitely reconnect.
</p>
<p>Note that once the gamepad downgrades to the fallback mode, it will never change its mode until you reconnect it. Even <code>echo 0 then 1 &gt; %sysfsGamepadDir%/authorized</code> doesn't work. And that's why passing the gamepad to a Windows VM would not help; <code>usbcore</code> inits USB devices before passing them to a VM.
</p>
<hr>
<p>Now reconnect the gamepad, it should be finally listed now as <code>ID 057e:2009 Nintendo Co., Ltd Switch Pro Controller</code> when you run <code>lsusb</code>. If that's true, then you can make this quirk permanent by add this option to GRUB:
</p>
<p><code>usbcore.quirks="057e:2009:ik"</code>
</p>
<p>along with (optionally) <code>usbhid.quirks="0x057e:0x2009:0x400"</code> which stops the pointless blinking of LEDs when the gamepad is unused.
</p>
<p>Now that your gamepad is in Switch mode, you'll run into a problem of SDL2 deciding to become a user-space driver (for this it uses <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libusb">libusb</a></span>, just like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xboxdrv/">xboxdrv</a></span><sup><small>AUR</small></sup>), which causes any SDL2 game to claim the whole gamepad (that is: <code>/dev/input/*</code> and <code>/dev/hidraw*</code> disappear, yet it's still possible to play this launched game with the gamepad), so you can't use the gamepad in multiple apps anymore.
</p>
<p>This can be fixed by adding
</p>
<pre>SDL_HIDAPI_DISABLE_LIBUSB=1
</pre>
<p>into <code>/etc/environment</code>, and rebooting.
</p>
<p>If you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/joycond-git/">joycond-git</a></span><sup><small>AUR</small></sup>, then delete it, because it is useless for such Switch-like gamepads, moreover <code>joycond</code> has a <code>udev</code> rule that disallows Steam to provide its own user-space driver.
</p>
<p>Unlike SDL2 (when it uses <code>/dev/hidraw*</code> which is its preferred way in 2023), <code>xboxdrv</code> and <code>/dev/input/*</code> provide incorrect values for the right stick's X axis (it's always ≤0). Probably a bug in <code>hid-nintendo</code> or something. For this reason <code>xboxdrv</code> is unusable in most games when in Switch mode.
</p>
<p>You can test your gyroscope and accelerometer by launching <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=antimicrox">antimicrox</a></span>. They are not available in other gamepad modes when connected wired because their values are sent <i>mixed</i> with other event data (RX/RY/etc) in a special format that is not fully compatible with <code>xpad</code> and <code>hid-generic</code>.
</p>
<p>If you see in <code>dmesg</code> that <code>hid-generic</code> is used by your gamepad, then it's probably because you have built Linux kernel with your own config without <code>hid-nintendo</code>. Unfortuately, Switch mode + <code>hid-generic</code> is as useless as the fallback mode (even no vibration).
</p>
<h3><span class="mw-headline" id="Xbox_360_Controller_mode">Xbox 360 Controller mode</span></h3>
<p>After having completed everything above (i.e. 1-2 quirks, 1 envvar),
</p>
<p>add
</p>
<pre>blacklist hid_nintendo
</pre>
<p>into <code>/etc/modprobe.d/blacklist.conf</code>
</p>
<p>then run <code>sudo mkinitcpio -P</code> to rebuild <code>/boot/initramfs*</code> (kernel reads <code>/etc/modprobe.d/</code> only from its own initramfs, not your rootfs)
</p>
<p>
Now create the following file: </p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-disallow-generic-driver-for-switch.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># If
# 1. a gamepad is multi-mode (Switch, X360, PC) and defaults to USB ID 057e:2009
# AND at the same time
# 2. `hid-nintendo` module can't be loaded (blacklisted or not compiled)
# AND at the same time
# 3. there's already a launched game that immediately grabs a gamepad,
#
# Then when you connect such gamepad, it will stay in "Switch Pro" mode,
# but using the fallback `hid-generic` module
# which would result in no vibration/etc
# despite still being listed as a "Switch Pro Controller".

# But by notifying the gamepad that we abandon to use it as an HID,
# it automatically downgrades to "Xbox 360 Controller" mode,
# which causes vibration and `xboxdrv` to work.
SUBSYSTEM=="hid", DRIVER=="hid-generic", ATTRS{idVendor}=="057e", ATTRS{idProduct}=="2009", RUN="/bin/sh -c 'echo $id:1.0 &gt; /sys/bus/usb/drivers/usbhid/unbind'"</pre>
<p>then run <code>sudo udevadm control --reload-rules &amp;&amp; sudo udevadm trigger</code>
</p>
<p>Since you probably don't want to reboot, run <code>sudo modprobe -r hid_nintendo</code>
</p>
<p>From now on, to switch ("downgrade") from Switch mode to Xbox 360 mode, just run <code>sudo modprobe -r hid_nintendo</code> (you don't even need to reconnect it). Within 2 seconds you'll have <code>045e:028e Microsoft Corp. Xbox360 Controller</code> in <code>lsusb</code>
</p>
<p>And if you want to switch vice versa:
</p>
<ol>
<li>
<code>sudo modprobe hid_nintendo</code> (even though it is blacklisted, this command still works because blacklisting just means "don't load this module <i>automatically</i>").</li>
<li>Reconnect.</li>
</ol>
<h4><span class="mw-headline" id="Alternative_rootless_solution">Alternative rootless solution</span></h4>
<p>If you don't have root access, then:
</p>
<ol>
<li>Power off your PC (not just suspend)</li>
<li>Reconnect your gamepad.</li>
<li>Power the PC on.</li>
<li>UEFI (just like non-virtualized Windows) automatically and successfully initializes the gamepad (even if it's connected through a USB hub in your monitor) despite the invalid descriptors.</li>
<li>The gamepad receives info from UEFI (or maybe GRUB) that it's no longer needed as an HID, which causes it to switch ("downgrade") to Xbox 360 Controller mode. Switching between modes is done this way: the gamepad disconnects, then connects under a different USB ID.</li>
<li>You can even suspend (without turning off the monitor if that's what it's connected to) and then wake-up the PC, and it will still be in Xbox 360 Controller mode. But if you reconnect the gamepad, it will be in the fallback mode, so you'll have to follow the instruction again.</li>
</ol>
<h3><span class="mw-headline" id="USB_debugging">USB debugging</span></h3>
<p>You'll probably not need to know this, but this USB ID (057e:2009) was discovered by USB debugging:
</p>
<pre># Allow debugging of the kernel:
sudo ls /sys/kernel/debug/usb &gt;/dev/null 2&gt;&amp;1 || sudo mount -t debugfs none_debugfs /sys/kernel/debug
# Load the module that allows sniffing of the traffic of USB buses:
sudo modprobe usbmon
# We need only connection events, and in these events
# we need only a USB ID which is in the pre-pre-last column:
sudo /bin/grep --line-buffered -Po '(?&lt;=0 0 18 = .{18}).{8}' /sys/kernel/debug/usb/usbmon/<b>99999</b>u | /bin/sed -E 's/([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/\2\1:\4\3/'
</pre>
<p>where <code>99999</code> must be replaced with the USB Bus number that your gamepad uses, e.g. <code>1</code> (without leading zeroes). It can be found by running <code>lsusb</code>.
</p>
<p>If nothing helped and your gamepad still works in full capacity only in Windows, you can catch USB messages while in Windows, and then replay them while in Linux. See <a rel="nofollow" class="external text" href="https://github.com/JohnDMcMaster/usbrply">usbrply</a>. For this, Windows must not be in VM because Linux kernel's <code>usbcore</code> initializes a USB device before passing it to a VM. This could be avoided by buying a PCI-E USB controller and passing it through (External USB hubs can't be passed through). Or you can pass-through your motherboard's own USB controller if it is in a IOMMU group without devices important for you:
</p>
<table role="presentation" class="wikitable mw-collapsible mw-collapsed">
<tbody>
<tr>
<td>
<strong>Script which lists IOMMU groups</strong>
</td>
</tr>
<tr>
<td>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">list-iommu-groups.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
shopt -s nullglob
for g in $(find /sys/kernel/iommu_groups/* -maxdepth 0 -type d | sort -V); do
  echo "IOMMU Group ${g##*/}:"
  for d in $g/devices/*; do
      echo -e "\t$(lspci -nns ${d##*/})"
  done;
done;</pre>
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Tips_and_Tricks">Tips and Tricks</span></h2>
<h3><span class="mw-headline" id="Gamepad_over_network">Gamepad over network</span></h3>
<p>If you want to use your gamepad with another computer over a network, you can use <a href="../en/USB/IP.html" title="USB/IP">USB/IP</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netstick-git/">netstick-git</a></span><sup><small>AUR</small></sup> to do this.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Device_permissions">Device permissions</span></h3>
<p>Gamepad devices are affected by <a href="../en/Udev.html#Allowing_regular_users_to_use_devices" title="Udev">udev rules</a>: unless they grant access to the device, it simply will not be readable by users. This section investigates the possibility of you already having a configuration file handling this.
</p>
<p>Any gamepad device, regardless of whether it is over USB or Bluetooth, is handled by the <a rel="nofollow" class="external text" href="https://docs.kernel.org/input/input_uapi.html">"input" subsystem of the kernel</a>, corresponding with <code>/dev/input</code>. It's also common for udev rules to target the <a rel="nofollow" class="external text" href="https://docs.kernel.org/hid/hidraw.html">"hidraw" kernel module</a>. Combining these, we can understand udev's handling of these devices by inspecting the configuration shipped by packages:
</p>
<pre>$ grep --extended-regexp 'SUBSYSTEM=="input"|KERNEL=="hidraw' --recursive /usr/lib/udev/rules.d
</pre>
<p>Some examples of applications which ship noteworthy rules:
</p>
<ul>
<li>
<a href="../en/Systemd.html" title="Systemd">systemd</a>'s default rules set the group of all <code>input</code> devices to <code>input</code>, and the mode of joystick devices to <code>664</code> <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/blob/edfb4a474e5cbef6578a70aae7f08a0f435c6c6a/rules.d/50-udev-default.rules.in#L33">[5]</a>.</li>
<li>
<a href="../en/Steam.html" title="Steam">Steam</a> ships udev rules allowing access to a variety of controllers. See <a rel="nofollow" class="external text" href="https://steamcommunity.com/app/353370/discussions/2/1735465524711324558/">this Steam discussion</a> for further info about the contents of the rules.</li>
<li>
<a href="../en/Dolphin_emulator.html" title="Dolphin emulator">Dolphin emulator</a> ships udev rules allowing access to controllers it supports.</li>
</ul>
<p>If your system does not already happen to have a udev rule for the device you want to use, you can either write one yourself or install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/game-devices-udev/">game-devices-udev</a></span><sup><small>AUR</small></sup> package and restart your computer.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is possible to add a user to the <code>input</code> group in order to give them access to all devices. However, this is not recommended <a rel="nofollow" class="external autonumber" href="https://github.com/systemd/systemd/issues/4288">[6]</a>.</div>
<h3><span class="mw-headline" id="Joystick_moving_mouse">Joystick moving mouse</span></h3>
<p>Sometimes USB gamepad can be recognized as HID mouse (only in X, it is still being installed as <code>/dev/input/js0</code> as well). Known issue is cursor being moved by the joystick, or escaping to en edge of a screen right after plugin. If your application can detect gamepad by itself, you can remove the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xf86-input-joystick/">xf86-input-joystick</a></span><sup><small>AUR</small></sup> package.
</p>
<p>A more gentle solution is described in <a href="#Disable_joystick_from_controlling_mouse">#Disable joystick from controlling mouse</a>.
</p>
<h3>
<span id="Gamepad_is_not_working_in_FNA.2FSDL_based_games"></span><span class="mw-headline" id="Gamepad_is_not_working_in_FNA/SDL_based_games">Gamepad is not working in FNA/SDL based games</span>
</h3>
<p>If you are using a generic non-widely used gamepad you may encounter issues getting the gamepad recognized in games based on SDL. Since <a rel="nofollow" class="external text" href="https://github.com/flibitijibibo/FNA/commit/e55742cfe7e38b778a21ed8a12cb2f2081490d8d">14 May 2015</a>, FNA supports dropping a <code>gamecontrollerdb.txt</code> into the executable folder of the game, for example the <a rel="nofollow" class="external text" href="https://github.com/gabomdq/SDL_GameControllerDB">SDL_GameControllerDB</a>.
</p>
<p>As an alternative and for older versions of FNA or for SDL you can generate a mapping yourself by downloading the SDL source code via <a rel="nofollow" class="external free" href="https://libsdl.org/">https://libsdl.org/</a>, navigating to <code>/test/</code>, compile the <code>controllermap.c</code> program (alternatively install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/controllermap/">controllermap</a></span><sup><small>AUR</small></sup>) and run the test. After completing the controllermap test, a GUID will be generated that you can put in the <code>SDL_GAMECONTROLLERCONFIG</code> environment variable which will then be picked up by SDL/FNA games. For example:
</p>
<pre>$ export SDL_GAMECONTROLLERCONFIG="030000008f0e00000300000010010000,GreenAsia Inc. USB Joystick ,platform:Linux,x:b3,a:b2,b:b1,y:b0,back:b8,start:b9,dpleft:h0.8,dpdown:h0.0,dpdown:h0.4,dpright:h0.0,dpright:h0.2,dpup:h0.0,dpup:h0.1,leftshoulder:h0.0,leftshoulder:b6,lefttrigger:b4,rightshoulder:b7,righttrigger:b5,leftstick:b10,rightstick:b11,leftx:a0,lefty:a1,rightx:a3,righty:a2,"
</pre>
<h3><span class="mw-headline" id="Gamepad_is_not_recognized_by_all_programs">Gamepad is not recognized by all programs</span></h3>
<p>Some software, Steam for example, will only recognize the first gamepad it encounters. Due to a bug in the driver for Microsoft wireless periphery devices this can in fact be the bluetooth dongle. If you find you have a <code>/dev/input/js*</code> and <code>/dev/input/event*</code> belonging to you keyboard's bluetooth transceiver you can get automatically get rid of it by creating according udev rules: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-btcleanup.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", KERNEL=="js[0-9]*", SUBSYSTEM=="input", KERNELS=="...", ATTRS{bInterfaceSubClass}=="00", ATTRS{bInterfaceProtocol}=="00", ATTRS{bInterfaceNumber}=="02", RUN+="/usr/bin/rm /dev/input/js%n"
ACTION=="add", KERNEL=="event*", SUBSYSTEM=="input", KERNELS=="...", ATTRS{bInterfaceSubClass}=="00", ATTRS{bInterfaceProtocol}=="00", ATTRS{bInterfaceNumber}=="02", RUN+="/usr/bin/rm /dev/input/event%n"</pre>
<p>Correct the <code>KERNELS=="..."</code> to match your device. The correct value can be found by running
</p>
<pre># udevadm info -an /dev/input/js0
</pre>
<p>Assuming the device in question is <code>/dev/input/js0</code>. After you placed the rule reload the rules with
</p>
<pre># udevadm control --reload
</pre>
<p>Then replug the device making you trouble. The joystick and event devices should be gone, although their number will still be reserved. But the files are out of the way.
</p>
<h3><span class="mw-headline" id="Vibration_does_not_work_in_certain_Windows_games">Vibration does not work in certain Windows games</span></h3>
<p>Some Windows games look for an Xbox 360 controller in particular, causing vibration to not work even with otherwise functional XInput gamepads. One example of such game is <a rel="nofollow" class="external text" href="https://www.pcgamingwiki.com/wiki/Inside">Inside</a>.
</p>
<p>As a work-around for these games:
</p>
<ul>
<li>
<a href="../en/Kernel_module.html#Manual_module_handling" class="mw-redirect" title="Kernel modules">Unload</a> the <code>xpad</code> kernel module.</li>
<li>Launch <code>xboxdrv</code>, including Xbox 360 mimicking gamepad and with vibration support:</li>
</ul>
<pre># xboxdrv --mimic-xpad --force-feedback
</pre>
<h3><span class="mw-headline" id="Steam_Controller_2">Steam Controller</span></h3>
<h4><span class="mw-headline" id="Steam_Controller_not_pairing">Steam Controller not pairing</span></h4>
<p>There are some unknown cases where the packaged udev rule for the Steam controller does not work (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/47330">FS#47330</a>). The most reliable workaround is to make the controller world readable. Copy the rule <code>/usr/lib/udev/rules.d/70-steam-controller.rules</code> to <code>/etc/udev/rules.d</code> with a later prioritiy and change anything that says <code>MODE="0660"</code> to <code>MODE="066<b>6</b>"</code> e.g.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-steam-controller-perms.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
SUBSYSTEM=="usb", ATTRS{idVendor}=="28de", MODE="0666"
...</pre>
<p>You may have to reboot in order for the change to take effect.
</p>
<h4><span class="mw-headline" id="Steam_Controller_makes_a_game_crash_or_not_recognized">Steam Controller makes a game crash or not recognized</span></h4>
<p>If your Steam Controller is working well in Steam Big Picture mode, but not recognized by a game or the game starts crashing when you plug in the controller, this may be because of the native driver that has been added to the Linux kernel 4.18. Try to unload it, restart Steam and replug the controller.
</p>
<p>The module name of the driver is <code>hid_steam</code>, so to unload it you may perform:
</p>
<pre># rmmod hid_steam
</pre>
<h3><span class="mw-headline" id="Xbox_One_Wireless_Gamepad_detected_but_no_inputs_recognized">Xbox One Wireless Gamepad detected but no inputs recognized</span></h3>
<p>This can occur when using a third party Xbox One controller with the <code>xpad</code> or <a href="#xboxdrv">#xboxdrv</a> drivers. Try switching to <a href="#xpadneo">#xpadneo</a>.
</p>
<h3><span class="mw-headline" id="Playstation_4_controllers">Playstation 4 controllers</span></h3>
<h4><span class="mw-headline" id="Controller_not_recognized_when_using_Bluetooth">Controller not recognized when using Bluetooth</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ds4drv/">ds4drv</a></span><sup><small>AUR</small></sup> package and run it with the hidraw (<code>ds4drv --hidraw</code>) backend parameter.
</p>
<h4><span class="mw-headline" id="Button_mapping">Button mapping</span></h4>
<p>To fix the button mapping of PS4 controller you can use the following command with xboxdrv (or try with the <a rel="nofollow" class="external text" href="https://github.com/chrippa/ds4drv">ds4drv</a> program, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ds4drv/">ds4drv</a></span><sup><small>AUR</small></sup>):
</p>
<pre># xboxdrv \
   --evdev /dev/input/by-id/usb-Sony_Computer_Entertainment_Wireless_Controller-event-joystick\
   --evdev-absmap ABS_X=x1,ABS_Y=y1                 \
   --evdev-absmap ABS_Z=x2,ABS_RZ=y2                \
   --evdev-absmap ABS_HAT0X=dpad_x,ABS_HAT0Y=dpad_y \
   --evdev-keymap BTN_A=x,BTN_B=a                   \
   --evdev-keymap BTN_C=b,BTN_X=y                   \
   --evdev-keymap BTN_Y=lb,BTN_Z=rb                 \
   --evdev-keymap BTN_TL=lt,BTN_TR=rt               \
   --evdev-keymap BTN_SELECT=tl,BTN_START=tr        \
   --evdev-keymap BTN_TL2=back,BTN_TR2=start        \
   --evdev-keymap BTN_MODE=guide                    \
   --axismap -y1=y1,-y2=y2                          \
   --mimic-xpad                                     \
   --silent
</pre>
<h4>
<span id="Motion_controls_taking_over_joypad_controls_and.2For_causing_unintended_input_with_joypad_controls"></span><span class="mw-headline" id="Motion_controls_taking_over_joypad_controls_and/or_causing_unintended_input_with_joypad_controls">Motion controls taking over joypad controls and/or causing unintended input with joypad controls</span>
</h4>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Could likely use the same solution as <a class="mw-selflink-fragment" href="#Disable_touchpad_acting_as_mouse">Gamepad#Disable touchpad acting as mouse</a>, which is already refactored into other pages where appropriate. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Gamepad.html">Talk:Gamepad</a>)</div>
</div>
<p>With certain cloud gaming applications such as Parsec and Shadow, the Dualshock 4 V1 and V2 motion controls can conflict with the joypad controls resulting in the joypad not working, and with certain input sensitive games, especially racing games, the motion controls can cause unintentional drift during joypad control gameplay.
</p>
<p>This can be worked around by disabling the motion controls and the touchpad by adding the following udev rules:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/51-disable-DS3-and-DS4-motion-controls.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="input", ATTRS{name}=="*Controller Motion Sensors", RUN+="/bin/rm %E{DEVNAME}", ENV{ID_INPUT_JOYSTICK}=""
SUBSYSTEM=="input", ATTRS{name}=="*Controller Touchpad", RUN+="/bin/rm %E{DEVNAME}", ENV{ID_INPUT_JOYSTICK}=""</pre>
<p>Then <a href="../en/Udev.html#Loading_new_rules" title="Udev">reload the rules</a> or reboot: these rules should work in both USB and Bluetooth mode.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Input_devices.html" title="Category:Input devices">Input devices</a></li>
<li><a href="../en/Category:Gaming.html" title="Category:Gaming">Gaming</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Gamepad&amp;oldid=812951">https://wiki.archlinux.org/index.php?title=Gamepad&amp;oldid=812951</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 July 2024, at 15:45.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
