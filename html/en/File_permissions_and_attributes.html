<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>File permissions and attributes - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-File_permissions_and_attributes rootpage-File_permissions_and_attributes skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Viewing_permissions" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Viewing_permissions">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Viewing permissions</span>
			</div>
		</a>
		
			<button aria-controls="toc-Viewing_permissions-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Viewing permissions subsection</span>
			</button>
		
		<ul id="toc-Viewing_permissions-sublist" class="vector-toc-list">
			<li id="toc-Examples" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Examples">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Examples</span>
				</div>
			</a>
			
			<ul id="toc-Examples-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Changing_permissions" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Changing_permissions">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Changing permissions</span>
			</div>
		</a>
		
			<button aria-controls="toc-Changing_permissions-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Changing permissions subsection</span>
			</button>
		
		<ul id="toc-Changing_permissions-sublist" class="vector-toc-list">
			<li id="toc-Text_method" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Text_method">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Text method</span>
				</div>
			</a>
			
			<ul id="toc-Text_method-sublist" class="vector-toc-list">
				<li id="toc-Text_method_shortcuts" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Text_method_shortcuts">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.1</span>
					<span>Text method shortcuts</span>
				</div>
			</a>
			
			<ul id="toc-Text_method_shortcuts-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Copying_permissions" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Copying_permissions">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1.2</span>
					<span>Copying permissions</span>
				</div>
			</a>
			
			<ul id="toc-Copying_permissions-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Numeric_method" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Numeric_method">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Numeric method</span>
				</div>
			</a>
			
			<ul id="toc-Numeric_method-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bulk_chmod" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bulk_chmod">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Bulk chmod</span>
				</div>
			</a>
			
			<ul id="toc-Bulk_chmod-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Changing_ownership" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Changing_ownership">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Changing ownership</span>
			</div>
		</a>
		
		<ul id="toc-Changing_ownership-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Access_Control_Lists" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Access_Control_Lists">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Access Control Lists</span>
			</div>
		</a>
		
		<ul id="toc-Access_Control_Lists-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Umask" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Umask">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Umask</span>
			</div>
		</a>
		
		<ul id="toc-Umask-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-File_attributes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#File_attributes">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>File attributes</span>
			</div>
		</a>
		
		<ul id="toc-File_attributes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Extended_attributes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Extended_attributes">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Extended attributes</span>
			</div>
		</a>
		
		<ul id="toc-Extended_attributes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Preserve_root" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Preserve_root">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>Preserve root</span>
				</div>
			</a>
			
			<ul id="toc-Preserve_root-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">File permissions and attributes</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/File_permissions_and_attributes.html" title="File permissions and attributes – español" lang="es" hreflang="es" data-title="File permissions and attributes" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A8%E5%B1%9E%E6%80%A7" title="ファイルのパーミッションと属性 – 日本語" lang="ja" hreflang="ja" data-title="ファイルのパーミッションと属性" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/File_permissions_and_attributes.html" title="File permissions and attributes – português" lang="pt" hreflang="pt" data-title="File permissions and attributes" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/File_permissions_and_attributes.html" title="File permissions and attributes – русский" lang="ru" hreflang="ru" data-title="File permissions and attributes" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/File_permissions_and_attributes" title="File permissions and attributes – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="File permissions and attributes" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Users_and_groups.html" title="Users and groups">Users and groups</a></li>
<li><a href="../en/Umask.html" title="Umask">umask</a></li>
<li><a href="../en/Access_Control_Lists.html" title="Access Control Lists">Access Control Lists</a></li>
<li><a href="../en/Capabilities.html" title="Capabilities">Capabilities</a></li>
<li><a href="../en/Extended_attributes.html" title="Extended attributes">Extended attributes</a></li>
</ul>
</div>
<p><a href="../en/File_systems.html" title="File systems">File systems</a> use <a href="https://en.wikipedia.org/wiki/File_system_permissions" class="extiw" title="wikipedia:File system permissions">permissions</a> and <a href="https://en.wikipedia.org/wiki/File_attribute" class="extiw" title="wikipedia:File attribute">attributes</a> to regulate the level of interaction that system processes can have with files and directories.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> When used for security purposes, permissions and attributes only defend against attacks launched from the booted system. To protect the stored data from attackers with physical access to the machine, one must also implement <a href="../en/Data-at-rest_encryption.html" title="Data-at-rest encryption">data-at-rest encryption</a>.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Viewing_permissions">Viewing permissions</span></h2>
<p>Use the <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Ls">ls</a> command's <code>-l</code> option to view the permissions (or <b>file mode</b>) set for the contents of a directory, for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /path/to/directory</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">total 128
drwxr-xr-x 2 archie archie  4096 Jul  5 21:03 Desktop
drwxr-xr-x 6 archie archie  4096 Jul  5 17:37 Documents
drwxr-xr-x 2 archie archie  4096 Jul  5 13:45 Downloads
-rw-rw-r-- 1 archie archie  5120 Jun 27 08:28 customers.ods
-rw-r--r-- 1 archie archie  3339 Jun 27 08:28 todo
-rwxr-xr-x 1 archie archie  2048 Jul  6 12:56 myscript.sh
</pre>
<p>The first column is what we must focus on. Taking an example value of <code>drwxrwxrwx+</code>, the meaning of each character is explained in the following tables:
</p>
<table class="wikitable">

<tbody>
<tr style="text-align:center;">
<td>
<code>d</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>+</code>
</td>
</tr>
<tr>
<td>The file type, technically not part of its permissions. See <code>info ls -n "What information is listed"</code> for an explanation of the possible values.
</td>
<td>The permissions that the owner has over the file, explained below.
</td>
<td>The permissions that the group has over the file, explained below.
</td>
<td>The permissions that all the other users have over the file, explained below.
</td>
<td>A single character that specifies whether an alternate access method applies to the file. When this character is a space, there is no alternate access method. A <code>.</code> character indicates a file with a security context, but no other alternate access method. A file with any other combination of alternate access methods is marked with a <code>+</code> character, for example in the case of <a href="../en/Access_Control_Lists.html" title="Access Control Lists">Access Control Lists</a>.
</td>
</tr>
</tbody>
</table>
<p>Each of the three permission triads (<code>rwx</code> in the example above) can be made up of the following characters:
</p>
<table class="wikitable">
<tbody>
<tr>
<th scope="col" style="width: 10%;">
</th>
<th scope="col" style="width: 10%;">Character
</th>
<th scope="col" style="width: 30%;">Effect on files
</th>
<th scope="col" style="width: 50%;">Effect on directories
</th>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Read permission (first character)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>The file cannot be read.
</td>
<td>The directory's contents cannot be shown.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>r</code>
</td>
<td>The file can be read.
</td>
<td>The directory's contents can be shown.
</td>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Write permission (second character)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>The file cannot be modified.
</td>
<td>The directory's contents cannot be modified.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>w</code>
</td>
<td>The file can be modified.
</td>
<td>The directory's contents can be modified (create new files or directories; rename or delete existing files or directories); requires the execute permission to be also set, otherwise this permission has no effect.
</td>
</tr>
<tr>
<th rowspan="6" style="text-align:left;">Execute permission (third character)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>The file cannot be executed.
</td>
<td>The directory cannot be accessed with <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Cd">cd</a>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>x</code>
</td>
<td>The file can be executed.
</td>
<td>The directory can be accessed with <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Cd">cd</a>; this is the only permission bit that in practice can be considered to be "inherited" from the ancestor directories, in fact if <i>any</i> directory in the path does not have the <code>x</code> bit set, the final file or directory cannot be accessed either, regardless of its permissions; see <span class="plainlinks archwiki-template-man" title="$ man 7 path_resolution"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/path_resolution.7">path_resolution(7)</a></span> for more information.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>s</code>
</td>
<td colspan="2">The <a href="https://en.wikipedia.org/wiki/setuid" class="extiw" title="w:setuid">setuid</a> bit when found in the <b>u</b>ser triad; the <b>setgid</b> bit when found in the <b>g</b>roup triad; it is not found in the <b>o</b>thers triad; it also implies that <code>x</code> is set.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>S</code>
</td>
<td colspan="2">Same as <code>s</code>, but <code>x</code> is not set; rare on regular files, and useless on directories.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>t</code>
</td>
<td colspan="2">The <a href="https://en.wikipedia.org/wiki/sticky_bit" class="extiw" title="w:sticky bit">sticky</a> bit; it can only be found in the <b>o</b>thers triad; it also implies that <code>x</code> is set.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>T</code>
</td>
<td colspan="2">Same as <code>t</code>, but <code>x</code> is not set; rare on regular files.
</td>
</tr>
</tbody>
</table>
<p>See <code>info Coreutils -n "Mode Structure"</code> and <span class="plainlinks archwiki-template-man" title="$ man 1 chmod"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chmod.1">chmod(1)</a></span> for more details.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can view permissions along a path with <code>namei -l <i>path</i></code>.</div>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<p>Let us see some examples to clarify:
</p>
<pre><b>drwx------</b> 6 archie archie  4096 Jul  5 17:37 Documents
</pre>
<p>Archie has full access to the <code>Documents</code> directory. They can list, create files and rename, delete any file in Documents, regardless of file permissions. Their ability to access a file depends on the file's permissions.
</p>
<pre><b>dr-x------</b> 6 archie archie  4096 Jul  5 17:37 Documents
</pre>
<p>Archie has full access except they can not create, rename, delete any file. They can list the files and (if the file's permissions allow it) may access an existing file in Documents.
</p>
<pre><b>d-wx------</b> 6 archie archie  4096 Jul  5 17:37 Documents
</pre>
<p>Archie can not do <code>ls</code> in the <code>Documents</code> directory but if they know the name of an existing file then they may list, rename, delete or (if the file's permissions allow it) access it. Also, they are able to create new files.
</p>
<pre><b>d--x------</b> 6 archie archie  4096 Jul  5 17:37 Documents
</pre>
<p>Archie is only capable of (if the file's permissions allow it) accessing those files the <code>Documents</code> directory which they know of. They can not list already existing files or create, rename, delete any of them.
</p>
<p>You should keep in mind that we elaborate on directory permissions and it has nothing to do with the individual file permissions. When you create a new file it is the directory that changes. That is why you need write permission to the directory.
</p>
<p>Let us look at another example, this time of a file, not a directory:
</p>
<pre><b>-rw-r--r--</b> 1 archie web  5120 Jun 27 08:28 foobar
</pre>
<p>Here we can see the first letter is not <code>d</code> but <code>-</code>. So we know it is a file, not a directory. Next the owner's permissions are <code>rw-</code> so the owner has the ability to read and write but not execute. This may seem odd that the owner does not have all three permissions, but the <code>x</code> permission is not needed as it is a text/data file, to be read by a text editor such as Gedit, EMACS, or software like R, and not an executable in its own right (if it contained something like python programming code then it very well could be). The group's permissions are set to <code>r--</code>, so the group has the ability to read the file but not write/edit it in any way — it is essentially like setting something to read-only. We can see that the same permissions apply to everyone else as well.
</p>
<h2><span class="mw-headline" id="Changing_permissions">Changing permissions</span></h2>
<p><a href="https://en.wikipedia.org/wiki/chmod" class="extiw" title="wikipedia:chmod">chmod</a> is a command in Linux and other Unix-like operating systems that allows to <i>ch</i>ange the permissions (or access <i>mod</i>e) of a file or directory.
</p>
<h3><span class="mw-headline" id="Text_method">Text method</span></h3>
<p>To change the permissions — or <i>access mode</i> — of a file, use the <i>chmod</i> command in a terminal. Below is the command's general structure:
</p>
<pre>chmod <i>who</i>=<i>permissions</i> <i>filename</i>
</pre>
<p>Where <code><i>who</i></code> is any from a range of letters, each signifying who is being given the permission. They are as follows:
</p>
<ul>
<li>
<code>u</code>: the <a href="../en/Users_and_groups.html" class="mw-redirect" title="User">user</a> that owns the file.</li>
<li>
<code>g</code>: the <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> that the file belongs to.</li>
<li>
<code>o</code>: the <b>o</b>ther users, i.e. everyone else.</li>
<li>
<code>a</code>: <b>a</b>ll of the above; use this instead of typing <code>ugo</code>.</li>
</ul>
<p>The permissions are the same as discussed in <a href="#Viewing_permissions">#Viewing permissions</a> (<code>r</code>, <code>w</code> and <code>x</code>).
</p>
<p>Now have a look at some examples using this command. Suppose you became very protective of the Documents directory and wanted to deny everybody but yourself, permissions to read, write, and execute (or in this case search/look) in it:
</p>
<p>Before: <code>drwxr-xr-x 6 archie web  4096 Jul  5 17:37 Documents</code>
</p>
<pre>$ chmod g= Documents
$ chmod o= Documents
</pre>
<p>After: <code>drwx------ 6 archie web  4096 Jul  6 17:32 Documents</code>
</p>
<p>Here, because you want to deny permissions, you do not put any letters after the <code>=</code> where permissions would be entered. Now you can see that only the owner's permissions are <code>rwx</code> and all other permissions are <code>-</code>. 
</p>
<p>This can be reverted with:
</p>
<p>Before: <code>drwx------ 6 archie web  4096 Jul  6 17:32 Documents</code>
</p>
<pre>$ chmod g=rx Documents
$ chmod o=rx Documents
</pre>
<p>After: <code>drwxr-xr-x 6 archie web  4096 Jul  6 17:32 Documents</code>
</p>
<p>In the next example, you want to grant read and execute permissions to the group, and other users, so you put the letters for the permissions (<code>r</code> and <code>x</code>) after the <code>=</code>, with no spaces.
</p>
<p>You can simplify this to put more than one <code><i>who</i></code> letter in the same command, e.g:
</p>
<pre>$ chmod go=rx Documents
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It does not matter in which order you put the <code><i>who</i></code> letters or the permission letters in a <code>chmod</code> command: you could have <code>chmod go=rx file</code> or <code>chmod og=xr file</code>. It is all the same.</div>
<p>Now let us consider a second example, suppose you want to change a <code>foobar</code> file so that you have read and write permissions, and fellow users in the group <code>web</code> who may be colleagues working on <code>foobar</code>, can also read and write to it, but other users can only read it:
</p>
<p>Before: <code>-rw-r--r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g=rw foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<p>This is exactly like the first example, but with a file, not a directory, and you grant write permission (just so as to give an example of granting every permission).
</p>
<h4><span class="mw-headline" id="Text_method_shortcuts">Text method shortcuts</span></h4>
<p>The <i>chmod</i> command lets add and subtract permissions from an existing set using <code>+</code> or <code>-</code> instead of <code>=</code>. This is different from the above commands, which essentially re-write the permissions (e.g. to change a permission from <code>r--</code> to <code>rw-</code>, you still need to include <code>r</code> as well as <code>w</code> after the <code>=</code> in the <i>chmod</i> command invocation. If you missed out <code>r</code>, it would take away the <code>r</code> permission as they are being re-written with the <code>=</code>. Using <code>+</code> and <code>-</code> avoids this by adding or taking away from the <i>current</i> set of permissions).
</p>
<p>Let us try this <code>+</code> and <code>-</code> method with the previous example of adding write permissions to the group:
</p>
<p>Before: <code>-rw-r--r-- 1 archie web 5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g+w foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<p>Another example, denying write permissions to all (<b>a</b>):
</p>
<p>Before: <code>-rw-rw-r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod a-w foobar
</pre>
<p>After: <code>-r--r--r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<p>A different shortcut is the special <code>X</code> mode: this is not an actual file mode, but it is often used in conjunction with the <code>-R</code> option to set the executable bit only for directories, and leave it unchanged for regular files, for example:
</p>
<pre>$ chmod -R a+rX ./data/
</pre>
<h4><span class="mw-headline" id="Copying_permissions">Copying permissions</span></h4>
<p>It is possible to tell <i>chmod</i> to copy the permissions from one class, say the owner, and give those same permissions to group or even all. To do this, instead of putting <code>r</code>, <code>w</code>, or <code>x</code> after the <code>=</code>, put another <i>who</i> letter. e.g:
</p>
<p>Before: <code>-rw-r--r-- 1 archie web 5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g=u foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie web 5120 Jun 27 08:28 foobar</code>
</p>
<p>This command essentially translates to "change the permissions of group (<code>g=</code>), to be the same as the owning user (<code>=u</code>). Note that you cannot copy a set of permissions as well as grant new ones e.g.:
</p>
<pre>$ chmod g=wu foobar
</pre>
<p>In that case <i>chmod</i> throw an error.
</p>
<h3><span class="mw-headline" id="Numeric_method">Numeric method</span></h3>
<p><i>chmod</i> can also set permissions using numbers.
</p>
<p>Using numbers is another method which allows you to edit the permissions for all three owner, group, and others at the same time, as well as the setuid, setgid, and sticky bits. This basic structure of the code is this:
</p>
<pre>$ chmod <i>xxx</i> <i>filename</i>
</pre>
<p>Where <code><b>xxx</b></code> is a 3-digit number where each digit can be anything from 0 to 7. The first digit applies to permissions for owner, the second digit applies to permissions for group, and the third digit applies to permissions for all others.
</p>
<p>In this number notation, the values <code>r</code>, <code>w</code>, and <code>x</code> have their own number value:
</p>
<pre>r=4
w=2
x=1
</pre>
<p>To come up with a 3-digit number you need to consider what permissions you want owner, group, and all others to have, and then total their values up. For example, if you want to grant the owner of a directory read write and execution permissions, and you want group and everyone else to have just read and execute permissions, you would come up with the numerical values like so:
</p>
<ul>
<li>Owner: <code>rwx</code>=4+2+1=7</li>
<li>Group: <code>r-x</code>=4+0+1=5</li>
<li>Other: <code>r-x</code>=4+0+1=5</li>
</ul>
<pre>$ chmod 755 <i>filename</i>
</pre>
<p>This is the equivalent of using the following: 
</p>
<pre>$ chmod u=rwx <i>filename</i>
$ chmod go=rx <i>filename</i>
</pre>
<p>To view the existing permissions of a file or directory in numeric form, use the <span class="plainlinks archwiki-template-man" title="$ man 1 stat"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/stat.1">stat(1)</a></span> command:
</p>
<pre>$ stat -c %a <i>filename</i>
</pre>
<p>Where the %a option specifies output in numeric form.
</p>
<p>Most directories are set to <code>755</code> to allow reading, writing and execution to the owner, but deny writing to everyone else, and files are normally <code>644</code> to allow reading and writing for the owner but just reading for everyone else; refer to the last note on the lack of <code>x</code> permissions with non executable files: it is the same thing here. 
</p>
<p>To see this in action with examples consider the previous example that has been used but with this numerical method applied instead:
</p>
<p>Before: <code>-rw-r--r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod 664 foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie web  5120 Jun 27 08:28 foobar</code>
</p>
<p>If this were an executable the number would be <code>774</code> if you wanted to grant executable permission to the owner and group. Alternatively if you wanted everyone to only have read permission the number would be <code>444</code>. Treating <code>r</code> as 4, <code>w</code> as 2, and <code>x</code> as 1 is probably the easiest way to work out the numerical values for using <code>chmod <i>xxx</i> <i>filename</i></code>, but there is also a binary method, where each permission has a binary number, and then that is in turn converted to a number. It is a bit more convoluted, but here included for completeness.
</p>
<p>Consider this permission set:
</p>
<pre>-rwxr-xr--
</pre>
<p>If you put a 1 under each permission granted, and a 0 for every one not granted, the result would be something like this:
</p>
<pre>-rwxrwxr-x
 111111101
</pre>
<p>You can then convert these binary numbers:
</p>
<pre>000=0	    100=4
001=1	    101=5
010=2	    110=6
011=3	    111=7
</pre>
<p>The value of the above would therefore be 775. 
</p>
<p>Consider we wanted to remove the writable permission from group:
</p>
<pre>-rwxr-xr-x
 111101101
</pre>
<p>The value would therefore be 755 and you would use <code>chmod 755 <i>filename</i></code> to remove the writable permission. You will notice you get the same three digit number no matter which method you use. Whether you use text or numbers will depend on personal preference and typing speed. When you want to restore a directory or file to default permissions e.g. read and write (and execute) permission to the owner but deny write permission to everyone else, it may be faster to use <code>chmod 755/644 <i>filename</i></code>. However if you are changing the permissions to something out of the norm, it may be simpler and quicker to use the text method as opposed to trying to convert it to numbers, which may lead to a mistake. It could be argued that there is not any real significant difference in the speed of either method for a user that only needs to use <i>chmod</i> on occasion.
</p>
<p>You can also use the numeric method to set the <code>setuid</code>, <code>setgid</code>, and <code>sticky</code> bits by using four digits. 
</p>
<pre>setuid=4
setgid=2
sticky=1
</pre>
<p>For example, <code>chmod 2777 <i>filename</i></code> will set read/write/executable bits for everyone and also enable the <code>setgid</code> bit.
</p>
<h3><span class="mw-headline" id="Bulk_chmod">Bulk chmod</span></h3>
<p>Generally directories and files should not have the same permissions. If it is necessary to bulk modify a directory tree, use <a href="../en/Core_utilities.html#Essentials" class="mw-redirect" title="Find">find</a> to selectively modify one or the other.
</p>
<p>To <i>chmod</i> only directories to 755:
</p>
<pre>$ find <i>directory</i> -type d -exec chmod 755 {} +
</pre>
<p>To <i>chmod</i> only files to 644:
</p>
<pre>$ find <i>directory</i> -type f -exec chmod 644 {} +
</pre>
<h2><span class="mw-headline" id="Changing_ownership">Changing ownership</span></h2>
<p><a href="https://en.wikipedia.org/wiki/chown" class="extiw" title="wikipedia:chown">chown</a> changes the owner of a file or directory, which is quicker and easier than altering the permissions in some cases. 
</p>
<p>Consider the following example, making a new partition with <a href="../en/Parted.html" class="mw-redirect" title="GParted">GParted</a> for backup data. Gparted does this all as root so everything belongs to root by default. This is all well and good but when it comes to writing data to the mounted partition, permission is denied for regular users.
</p>
<pre>brw-rw---- 1 root disk 8,    9 Jul  6 16:02 sda9
drwxr-xr-x 5 root root    4096 Jul  6 16:01 Backup
</pre>
<p>As you can see the device in <code>/dev</code> is owned by root, as is the mount location (<code>/media/Backup</code>). To change the owner of the mount location one can do the following:
</p>
<p>Before: <code>drwxr-xr-x 5 root  root 4096 Jul  6 16:01 Backup</code>
</p>
<pre># chown archie /media/Backup
</pre>
<p>After: <code>drwxr-xr-x 5 archie  root 4096 Jul  6 16:01 Backup</code>
</p>
<p>Now the partition can have data written to it by the new owner, archie, without altering the permissions (as the owner triad already had <code>rwx</code> permissions).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<code>chown</code> always clears the setuid and setgid bits.</li>
<li>Non-root users cannot use <code>chown</code> to "give away" files they own to another user.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Access_Control_Lists">Access Control Lists</span></h2>
<p><a href="../en/Access_Control_Lists.html" title="Access Control Lists">Access Control Lists</a> provides an additional, more flexible permission mechanism for file systems by allowing to set permissions for any user or group to any file.
</p>
<h2><span class="mw-headline" id="Umask">Umask</span></h2>
<p>The <a href="../en/Umask.html" title="Umask">umask</a> utility is used to control the file-creation mode mask, which determines the initial value of file permission bits for newly created files.
</p>
<h2><span class="mw-headline" id="File_attributes">File attributes</span></h2>
<p>Apart from the file mode bits that control <a href="../en/Users_and_groups.html" title="Users and groups">user and group</a> read, write and execute permissions, several <a href="../en/File_systems.html" title="File systems">file systems</a> support file attributes that enable further customization of allowable file operations.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> By default, file attributes are not preserved by <a href="../en/Core_utilities.html" class="mw-redirect" title="Cp">cp</a>, <a href="../en/Rsync.html" title="Rsync">rsync</a>, and other similar programs.</div>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=e2fsprogs">e2fsprogs</a></span> package contains the programs <span class="plainlinks archwiki-template-man" title="$ man 1 lsattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/lsattr.1">lsattr(1)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 1 chattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chattr.1">chattr(1)</a></span> that list and change a file's attributes, respectively.
</p>
<p>These are a few useful attributes. Not all filesystems support every attribute.
</p>
<ul>
<li>
<code>a</code> - append only: File can only be opened for appending.</li>
<li>
<code>c</code> - compressed: Enable filesystem-level compression for the file.</li>
<li>
<code>i</code> - immutable: Cannot be modified, deleted, renamed, linked to. Can only be set by root.</li>
<li>
<code>j</code> - data journaling: Use the <a href="../en/File_systems.html#Journaling" title="File systems">journal</a> for file data writes as well as metadata.</li>
<li>
<code>m</code> - no compression: Disable filesystem-level compression for the file.</li>
<li>
<code>A</code> - no atime update: The file's atime will not be modified.</li>
<li>
<code>C</code> - no copy on write: Disable copy-on-write, for filesystems that support it.</li>
</ul>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 chattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chattr.1">chattr(1)</a></span> for a complete list of attributes and for more info on what each attribute does.
</p>
<p>For example, if you want to set the immutable bit on some file, use the following command:
</p>
<pre># chattr +i <i>/path/to/file</i>
</pre>
<p>To remove an attribute on a file just change <code>+</code> to <code>-</code>.
</p>
<h2><span class="mw-headline" id="Extended_attributes">Extended attributes</span></h2>
<p>See <a href="../en/Extended_attributes.html" title="Extended attributes">Extended attributes</a>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Preserve_root">Preserve root</span></h3>
<p>Use the <code>--preserve-root</code> flag to prevent <code>chmod</code> from acting recursively on <code>/</code>. This can, for example, prevent one from removing the executable bit systemwide and thus breaking the system. To use this flag every time, set it within an <a href="../en/Bash.html#Aliases" class="mw-redirect" title="Alias">alias</a>. See also <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linux/comments/4ni3xe/tifu_sudo_chmod_644/">[1]</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Chattr" class="extiw" title="wikipedia:Chattr">wikipedia:Chattr</a></li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030417.html">Linux File Permission Confusion</a></li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030424.html">Linux File Permission Confusion part 2</a></li>
<li><a rel="nofollow" class="external text" href="https://legacy-documentation.concrete5.org/tutorials/backup-and-restore-file-permissions-in-linux">Backup and restore file permissions in Linux</a></li>
<li><a rel="nofollow" class="external text" href="https://serverfault.com/questions/364677/why-is-chmod-r-777-destructive">Why is "chmod -R 777 /" destructive?</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20210724233134/https://security.ias.edu/node/441">The How and Why of User Private Groups in Unix</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:File_systems.html" title="Category:File systems">File systems</a></li>
<li><a href="../en/Category:Command-line.html" title="Category:Command-line">Command-line</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes&amp;oldid=785253">https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes&amp;oldid=785253</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 August 2023, at 06:21.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
