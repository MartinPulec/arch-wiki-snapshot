<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Music Player Daemon/Tips and tricks - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Music_Player_Daemon_Tips_and_tricks rootpage-Music_Player_Daemon skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Organizing_library" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Organizing_library">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Organizing library</div>
		</a>
		
		<ul id="toc-Organizing_library-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Last.fm/Libre.fm_scrobbling" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Last.fm/Libre.fm_scrobbling">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Last.fm/Libre.fm scrobbling</div>
		</a>
		
			<button aria-controls="toc-Last.fm/Libre.fm_scrobbling-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Last.fm/Libre.fm scrobbling subsection</span>
			</button>
		
		<ul id="toc-Last.fm/Libre.fm_scrobbling-sublist" class="vector-toc-list">
			<li id="toc-mpdas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mpdas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>mpdas</div>
			</a>
			
			<ul id="toc-mpdas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mpdscribble" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mpdscribble">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>mpdscribble</div>
			</a>
			
			<ul id="toc-mpdscribble-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sonata" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sonata">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Sonata</div>
			</a>
			
			<ul id="toc-Sonata-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-YAMS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#YAMS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>YAMS</div>
			</a>
			
			<ul id="toc-YAMS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Disable_resume_playback_on_startup" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Disable_resume_playback_on_startup">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Disable resume playback on startup</div>
		</a>
		
		<ul id="toc-Disable_resume_playback_on_startup-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Example configuration: Output with 44.1 KHz at e. g. 16 bit depth, multiple programs at once</div>
		</a>
		
		<ul id="toc-Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Control_MPD_with_lirc" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Control_MPD_with_lirc">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Control MPD with lirc</div>
		</a>
		
		<ul id="toc-Control_MPD_with_lirc-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-PulseAudio" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#PulseAudio">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>PulseAudio</div>
		</a>
		
			<button aria-controls="toc-PulseAudio-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle PulseAudio subsection</span>
			</button>
		
		<ul id="toc-PulseAudio-sublist" class="vector-toc-list">
			<li id="toc-Local_(as_your_own_user)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Local_(as_your_own_user)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Local (as your own user)</div>
			</a>
			
			<ul id="toc-Local_(as_your_own_user)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Local_(with_separate_mpd_user)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Local_(with_separate_mpd_user)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Local (with separate mpd user)</div>
			</a>
			
			<ul id="toc-Local_(with_separate_mpd_user)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Remote" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remote">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Remote</div>
			</a>
			
			<ul id="toc-Remote-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Cue_files" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Cue_files">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Cue files</div>
		</a>
		
		<ul id="toc-Cue_files-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-HTTP_streaming" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#HTTP_streaming">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>HTTP streaming</div>
		</a>
		
			<button aria-controls="toc-HTTP_streaming-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle HTTP streaming subsection</span>
			</button>
		
		<ul id="toc-HTTP_streaming-sublist" class="vector-toc-list">
			<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration-sublist" class="vector-toc-list">
				<li id="toc-Format" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Format">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1.1</span>Format</div>
			</a>
			
			<ul id="toc-Format-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Use" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Use">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Use</div>
			</a>
			
			<ul id="toc-Use-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Music_streaming_with_the_satellite_setup" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Music_streaming_with_the_satellite_setup">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Music streaming with the satellite setup</div>
		</a>
		
			<button aria-controls="toc-Music_streaming_with_the_satellite_setup-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Music streaming with the satellite setup subsection</span>
			</button>
		
		<ul id="toc-Music_streaming_with_the_satellite_setup-sublist" class="vector-toc-list">
			<li id="toc-Topology" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Topology">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Topology</div>
			</a>
			
			<ul id="toc-Topology-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-MPRIS_support" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#MPRIS_support">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>MPRIS support</div>
		</a>
		
			<button aria-controls="toc-MPRIS_support-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle MPRIS support subsection</span>
			</button>
		
		<ul id="toc-MPRIS_support-sublist" class="vector-toc-list">
			<li id="toc-mpDris2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mpDris2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.1</span>mpDris2</div>
			</a>
			
			<ul id="toc-mpDris2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mpd-mpris" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mpd-mpris">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">10.2</span>mpd-mpris</div>
			</a>
			
			<ul id="toc-mpd-mpris-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Notifications" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Notifications">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>Notifications</div>
		</a>
		
			<button aria-controls="toc-Notifications-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Notifications subsection</span>
			</button>
		
		<ul id="toc-Notifications-sublist" class="vector-toc-list">
			<li id="toc-musnify-mpd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#musnify-mpd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">11.1</span>musnify-mpd</div>
			</a>
			
			<ul id="toc-musnify-mpd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-mpd-notification" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#mpd-notification">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">11.2</span>mpd-notification</div>
			</a>
			
			<ul id="toc-mpd-notification-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Adding_a_separate_volume_control_(ALSA)" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Adding_a_separate_volume_control_(ALSA)">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">12</span>Adding a separate volume control (ALSA)</div>
		</a>
		
		<ul id="toc-Adding_a_separate_volume_control_(ALSA)-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Control_the_remote_mpd_server" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Control_the_remote_mpd_server">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">13</span>Control the remote mpd server</div>
		</a>
		
		<ul id="toc-Control_the_remote_mpd_server-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Music Player Daemon/Tips and tricks</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Music_Player_Daemon/%E3%83%92%E3%83%B3%E3%83%88%E3%81%A8%E3%83%86%E3%82%AF%E3%83%8B%E3%83%83%E3%82%AF" title="Music Player Daemon/ヒントとテクニック – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../en/Music_Player_Daemon.html" title="Music Player Daemon">Music Player Daemon</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr">
<div class="mw-parser-output">
<p>Go back to <a href="../../en/Music_Player_Daemon.html" title="Music Player Daemon">Music Player Daemon</a>.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Organizing_library">Organizing library</span></h2>
<p>MPD does not manage your library. Check out <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=beets">beets</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=picard">picard</a></span>.
</p>
<h2>
<span id="Last.fm.2FLibre.fm_scrobbling"></span><span class="mw-headline" id="Last.fm/Libre.fm_scrobbling">Last.fm/Libre.fm scrobbling</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> mpd release 0.18 removed Last.fm <a rel="nofollow" class="external text" href="http://git.musicpd.org/cgit/master/mpd.git/tree/NEWS">support</a>. However, some clients offer scrobbling independent of mpd.</div>
<p>To scrobble your songs to <a rel="nofollow" class="external text" href="https://www.last.fm">Last.fm</a> or <a rel="nofollow" class="external text" href="https://libre.fm">Libre.fm</a> when using MPD, there are several possibilities.
</p>
<h3><span class="mw-headline" id="mpdas">mpdas</span></h3>
<p><a rel="nofollow" class="external text" href="http://50hz.ws/mpdas/">mpdas</a> is an AudioScrobbler client for MPD written in C++. It uses <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curl">curl</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libmpd">libmpd</a></span>. mpdas supports the latest AudioScrobbler protocol (2.0) and will also cache unscrobbled plays in <code>~/.mpdascache</code> if there is no network connectivity.
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpdas/">mpdas</a></span><sup><small>AUR</small></sup> package is available.
</p>
<p>Configuration of mpdas is very simple, see the official <a rel="nofollow" class="external text" href="https://github.com/hrkfdn/mpdas/blob/master/README.md">README</a>. A very basic example of <code>/etc/mpdasrc</code> is also available as <code>/etc/mpdasrc</code>.
</p>
<p>To autostart <i>mpdas</i> along with <i>mpd</i>, add an entry for it into the file in which you start <i>mpd</i> (e.g. <a href="../../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a>):
</p>
<pre>[[ -z $(pgrep -xU $UID mpdas) ]] &amp;&amp; mpdas &amp;</pre>
<p>When <i>mpd</i> is <a href="../../en/Music_Player_Daemon.html#Autostart_with_systemd" title="Music Player Daemon">started as a systemd user service</a>, it is better to <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> <i>mpdas</i> as a <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a> too. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you get a failed <code>mpdas.service</code> after system startup, consider using <a href="../../en/Music_Player_Daemon.html#Socket_activation" title="Music Player Daemon">socket activation</a> with <code>mpd.socket</code> instead.</div>
<h3><span class="mw-headline" id="mpdscribble">mpdscribble</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpdscribble/">mpdscribble</a></span><sup><small>AUR</small></sup> is a daemon that is arguably the best alternative, because it is the semi-official MPD scrobbler and uses the new "idle" feature in MPD for more accurate scrobbling. Also, you do not need root access to configure it, because it does not need any changes to <code>/etc</code> at all. Visit <a rel="nofollow" class="external text" href="https://www.musicpd.org/clients/mpdscribble/">the official website</a> for more information.
</p>
<p>A sample configuration is included: <code>/usr/share/mpdscribble/mpdscribble.conf.example</code>, copy it to <code>~/.mpdscribble/mpdscribble.conf</code> and edit to suit.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Trailing comments are not supported by its parser. Write them in their own lines.</div>
<p>Your password can also be in the form of an md5hash: 
</p>
<pre>echo -n "<i>password</i>" | md5sum | cut -f 1 -d " "
</pre>
<p>To autostart <i>mpdscribble</i> you can use the <code>mpdscribble.service</code> under systemd user instance. See <a href="../../en/Systemd/User.html" title="Systemd/User">systemd/User</a> for details.
</p>
<p>Alternatively you can autostart <i>mpdscribble</i> along with <i>mpd</i>, add an entry for it into the file in which you start <i>mpd</i> (e.g. <code>~/.xinitrc</code>):
</p>
<pre>[[ -z $(pgrep -xU $UID mpdscribble) ]] &amp;&amp; mpdscribble &amp;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you get a <code>[last.fm] handshake failed, username or password incorrect (BADAUTH)</code> error, make sure your username and password are correct, and that your password is not <a rel="nofollow" class="external text" href="https://bugs.musicpd.org/view.php?id=3836">32 characters long</a>.</div>
<h3><span class="mw-headline" id="Sonata">Sonata</span></h3>
<p>Sonata has built-in support for scrobbling, although that requires the program to run the whole time. Additionally, Sonata does not cache the songs if they cannot be forwarded to Last.fm at the time of playing, meaning they will not be added to the statistics.
</p>
<h3><span class="mw-headline" id="YAMS">YAMS</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/Berulacks/yams/">YAMS</a> is a Last.FM scrobbling daemon for MPD written in Python. 
</p>
<p>As it is written for v2.0 of Last.FM's <a rel="nofollow" class="external text" href="https://www.last.fm/api/scrobbling">scrobbling API</a>, YAMS does not store your username or password locally, but opts to use a cookie instead. Similar to other scrobblers, YAMS can save failed scrobbles and upload them at a later date. It also offers a decent amount of configuration options for when/how a scrobble should be made (including ignoring duplicate scrobbles when a track is played multiple times in a row).
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-yams/">python-yams</a></span><sup><small>AUR</small></sup> package is available.
</p>
<p>In order to authenticate, the user <i>must</i> run the <code>yams</code> command in an interactive terminal, at least once, and follow the printed instructions. 
</p>
<p>Afterwards, YAMS can be started with its binary:
</p>
<p><code>yams</code> runs as a daemon by default (<code>yams -N</code> will run it in the foreground).
</p>
<p><code>yams -k</code> will kill the current running instance.
</p>
<p><code>yams -a</code> will attach to the current running instance's log file, allowing you to watch the daemon's output.
</p>
<p><code>yams -h</code> will print all command line options.
</p>
<p>YAMS also comes with a systemd service file that can be <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">started</a> with the <code>yams.service</code> <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a> after authentication is complete.
</p>
<h2><span class="mw-headline" id="Disable_resume_playback_on_startup">Disable resume playback on startup</span></h2>
<p>This feature is present in <i>mpd</i> after version 0.16.2. When this feature is enabled, <i>mpd</i> will always start in the "paused" state, even if a song was playing when mpd was stopped. Add the line below to your <code>mpd.conf</code> to enable this feature.
</p>
<pre>restore_paused "yes"
</pre>
<h2>
<span id="Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth.2C_multiple_programs_at_once"></span><span class="mw-headline" id="Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once">Example configuration: Output with 44.1 KHz at e. g. 16 bit depth, multiple programs at once</span>
</h2>
<p><i>Why these formats?</i> Because they are the standard format for CD audio, because ALSA on its own allows more than one program "to sound" only with dmix — which uses an inferior resampling algorithm by default — and because dmix by default resamples anything lower to 48 KHz (or whatever higher format is playing at the time). Also, some get clicking sounds if at least <code>mpd.conf</code> is not changed this way.
</p>
<p><i>What is the downside?</i> These settings cause <i>everything</i> (if necessary) to be resampled to this format, such as material from DVD or TV which usually is at 48 KHz. But there is no known way to have ALSA dynamically change the format, and particularly if you listen to far more CDs than anything else the occasional 48 to 44.1 is not too great a loss.
</p>
<p>The following assumes that there are not already other settings which conflict resp. overwrite it. This applies especially to the current user's potential <code>~/.asoundrc</code> — which MPD as its own user ignores, therefore the following should go to <code>/etc/asound.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/asound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">defaults.pcm.dmix.rate 44100 # Force 44.1 KHz
defaults.pcm.dmix.format S16_LE # Force 16 bits
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">audio_output {
        type                    "alsa" # Use the ALSA output plugin.
	name			"your_custom_name" # Must be present and does not have to match the actual card name , e.g. what you have in /etc/asound.conf
        options                 "dev=dmixer"
        device                  "plug:dmix" # Both lines cause MPD to output to dmix
	format	        	"44100:16:2" # the actual format
	auto_resample		"no" # This bypasses ALSA's own algorithms, which generally are inferior. See below how to choose a different one.
}</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> MPD gives the mp3 format a special treatment at decoding: it is always put out as 24 bit. (The conversion as forced by the <i>format</i> line only comes after that.)</div>
<p>If one wants to leave the bit depth decision to ALSA resp. MPD, comment out resp. omit the <i>dmix.format</i> line and change the one for mpd with <i>format</i> to "44100:*:2".
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>Crossfading</i> between files decoded at two different bit depths (say, one mp3 and one 16 bit flac) does not work unless conversion is active.</div>
<h2><span class="mw-headline" id="Control_MPD_with_lirc">Control MPD with lirc</span></h2>
<p>There are already some clients designed for communications between lircd and MPD, however, as far as the practical use, they are not very useful since their functions are limited.
</p>
<p>It is recommended to use mpc with irexec. mpc is a command line player which only sends the command to MPD and exits immediately, which is perfect for irexec, the command runner included in lirc. What irexec does is that it runs a specified command once received a remote control button.
</p>
<p>First of all, please setup your remotes as referred to the <a href="../../en/LIRC.html" title="LIRC">LIRC</a> article.
</p>
<p>Edit your favored lirc startup configuration file, default location is <code>~/.lircrc</code>.
</p>
<p>Fill the file with the following pattern:
</p>
<pre>begin
     prog = irexec
     button = &lt;button_name&gt;
     config = &lt;command_to_run&gt;
     repeat = &lt;0 or 1&gt;
end
</pre>
<p>An example:
</p>
<pre>## irexec
begin
     prog = irexec
     button = play_pause
     config = mpc toggle
     repeat = 0
end

begin
     prog = irexec
     button = stop
     config = mpc stop
     repeat = 0
end
begin
     prog = irexec
     button = previous
     config = mpc prev
     repeat = 0
end
begin
     prog = irexec
     button = next
     config = mpc next
     repeat = 0
end
begin
     prog = irexec
     button = volup
     config = mpc volume +2
     repeat = 1
end
begin
     prog = irexec
     button = voldown
     config = mpc volume -2
     repeat = 1
end
begin
     prog = irexec
     button = pbc
     config = mpc random
     repeat = 0
end
begin
     prog = irexec
     button = pdvd
     config = mpc update
     repeat = 0
end
begin
     prog = irexec
     button = right
     config = mpc seek +00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = left
     config = mpc seek -00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = up
     config = mpc seek +1%
     repeat = 0
end
begin
     prog = irexec
     button = down
     config = mpc seek -1%
     repeat = 0
end
</pre>
<p>There are more functions for mpc, run <span class="plainlinks archwiki-template-man" title="$ man 1 mpc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mpc.1">mpc(1)</a></span> for more info.
</p>
<h2><span class="mw-headline" id="PulseAudio">PulseAudio</span></h2>
<h3>
<span id="Local_.28as_your_own_user.29"></span><span class="mw-headline" id="Local_(as_your_own_user)">Local (as your own user)</span>
</h3>
<p>No special options are required; just add a pulse output as described in the comments of mpd's configuration file.
</p>
<h3>
<span id="Local_.28with_separate_mpd_user.29"></span><span class="mw-headline" id="Local_(with_separate_mpd_user)">Local (with separate mpd user)</span>
</h3>
<p>When run as its own user as per the wiki instructions, mpd will be unable to send sound to another user's pulseaudio server. Rather than setting up pulseaudio as a system-wide daemon, a practice strongly discouraged by upstream, you can instead configure mpd to use pulseaudio's TCP module to send sound to localhost:
</p>
<p>First, edit the PulseAudio configuration - either the user configuration in <code>$XDG_CONFIG_HOME/pulse/default.pa</code> (typically <code>~/.config/pulse/default.pa</code>) if it exists, otherwise the system-wide configuration file in <code>/etc/pulse/default.pa</code> and uncomment the TCP module and set 127.0.0.1 as an allowed IP address like this:
</p>
<pre>### Network access (may be configured with paprefs, so leave this commented
### here if you plan to use paprefs)
#load-module module-esound-protocol-tcp
load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1
#load-module module-zeroconf-publish
</pre>
<p>Additional IP ranges in cidr notation may be added using <code>;</code> as the separator. Once this is complete, restart pulseaudio:
</p>
<pre>$ pulseaudio --kill
$ pulseaudio --start -or- start-pulseaudio-x11/kde
</pre>
<p>Next, edit <code>/etc/mpd.conf</code> and add a new pulse output pointing to 127.0.0.1 as a "remote" server:
</p>
<pre>audio_output {
       type		"pulse"
       name		"Local Music Player Daemon"
       server		"127.0.0.1"
}
</pre>
<p>Once this is added, restart mpd.
</p>
<p>You should now have a working local mpd, usable by all users whose pulseaudio servers allow sound from 127.0.0.1.
</p>
<h3><span class="mw-headline" id="Remote">Remote</span></h3>
<p>As with any PulseAudio-enabled program, mpd can send sound over the network. The complete PulseAudio system is not required on the server running mpd; <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libpulse">libpulse</a></span> is the only requirement to act as a source and is already a dependency of mpd.
</p>
<p>In order to send audio from mpd to another computer follow the directions above, editing <code>/etc/mpd.conf</code> on the server running mpd using the IP address of the target computer and <code>/etc/pulse/default.pa</code> or <code>$XDG_CONFIG_HOME/default.pa</code> (typically <code>~/.config/pulse/default.pa</code>) on the target computer using the IP address of the server.
</p>
<p>Once this is done, the server's mpd source should show up on the target computer while playing or paused as a normal source able to be rerouted and controlled as usual; there will be no visible source on the target while mpd is stopped.
</p>
<h2><span class="mw-headline" id="Cue_files">Cue files</span></h2>
<p>No additional steps are needed for cue support in mpd since 0.17. MPD has its own integrated parser which works with both external and embedded cue sheets.
For example, the command <code>$ mpc load albumx/x.cue</code> loads the file <code><i>music_directory</i>/albumx/x.cue</code> as playlist; or in the case of an CUESHEET tag, <code>$ mpc load albumx/x.flac</code>.
</p>
<p>Client support of cue files is a bit limited. Two available programs that do support CUE files are <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cantata/">cantata</a></span><sup><small>AUR</small></sup> and <a href="../../en/Ncmpcpp.html" title="Ncmpcpp">ncmpcpp</a>.
</p>
<h2><span class="mw-headline" id="HTTP_streaming">HTTP streaming</span></h2>
<p>Since version 0.15 there is a built-in HTTP streaming daemon/server that comes with MPD. This allows MPD to broadcast its music to HTTP clients.
</p>
<p>This is not meant to be used as a streaming solution (e.g. replacement of Spotify, Deezer, etc.). First, it only allows one stream to be played, and multiple users cannot listen to multiple musics at the same time. Second, MPD buffers audio a lot so that it plays reliably even when the client drops the connection for a while, therefore it introduces a non-negligeable latency when changing songs. To use MPD as a streaming solution, see <a href="#Music_streaming_with_the_satellite_setup">#Music streaming with the satellite setup</a>.
</p>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p>To activate this server simply set it as output device in mpd.conf:
</p>
<pre>audio_output {
	type		"httpd"
	name		"My HTTP Stream"
	encoder		"opus"		# optional
	port		"8000"
#	quality		"5.0"			# do not define if bitrate is defined
	bitrate		"128000"			# do not define if quality is defined
	format		"48000:16:1"
	always_on       "yes"			# prevent MPD from disconnecting all listeners when playback is stopped.
	tags            "yes"			# httpd supports sending tags to listening streams.
}
</pre>
<h4><span class="mw-headline" id="Format">Format</span></h4>
<p>MPD supports several encoding formats. See what your MPD supports with:
</p>
<pre>$ mpd --version
</pre>
<h3><span class="mw-headline" id="Use">Use</span></h3>
<p>Then to listen to this stream simply open the URL of your mpd server (along with the specified port) in your favorite music player. Note: You may have to specify the file format of the stream using an appropriate file extension in the URL. For example, using Winamp 5.5, You would use <a rel="nofollow" class="external free" href="http://192.168.1.2:8000/mpd.ogg">http://192.168.1.2:8000/mpd.ogg</a> rather than <a rel="nofollow" class="external free" href="http://192.168.1.2:8000/">http://192.168.1.2:8000/</a>.
</p>
<p>To use mpd to connect to the stream from another computer:
</p>
<pre>mpc add <a rel="nofollow" class="external free" href="http://192.168.1.2:8000">http://192.168.1.2:8000</a>
</pre>
<h2><span class="mw-headline" id="Music_streaming_with_the_satellite_setup">Music streaming with the satellite setup</span></h2>
<p>While <a href="#HTTP_streaming">#HTTP streaming</a> allows the user to broadcast its music over HTTP, the satellite setup allows multiple users to listen to different songs at the same time, on separate machines.
</p>
<h3><span class="mw-headline" id="Topology">Topology</span></h3>
<p>The satellite setup involves two or more machines: a <i>server</i> and multiple <i>clients</i>. The <i>server</i> is typically the machine that has the music files. It runs an MPD instance that will browse these files and build a database. The <i>clients</i> are the machines that will actually play the music (e.g. your phone or your laptop). They will also run MPD instances, though these ones will fetch the database from the server MPD and play the music. You might notice that MPD on the server is not necessary, however it greatly increases the speed to list all songs, as the client's MPD will not have to browse all the files remotely.
</p>
<p>Besides, you will need a way for the server to make the music files available to the clients. MPD supports multiple <a rel="nofollow" class="external text" href="https://www.musicpd.org/doc/html/plugins.html#storage-plugins">storage plugins</a> to fetch the music with. For example, if you choose the curl plugin, you will need a <a href="../../en/WebDAV.html" title="WebDAV">WebDAV</a> server on the server.
</p>
<p>Finally, you will need a secure communication tunnel between the server and each client. This is because the protocol used to control MPD is not encrypted and does not provide authentication. A <a href="../../en/Category:Virtual_Private_Network.html" class="mw-redirect" title="VPN">VPN</a> or a SSH tunnel will be useful here.
</p>
<h3><span class="mw-headline" id="Configuration_2">Configuration</span></h3>
<p>On the server, write the configuration file for the MPD instance that will build the database:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pid_file            "/run/mpd/mpd.pid"
playlist_directory  "/var/lib/mpd/playlists"
music_directory     "/path/to/your/music/"

database {
    plugin           "simple"
    path             "/var/lib/mpd/mpd.db"
    cache_directory  "/var/lib/mpd/cache"
}

audio_output {
    type  "null"
    name  "<i>This server does not need to play music, but it can</i>"
}
</pre>
<p>Then, setup either the <a href="../../en/WebDAV.html" title="WebDAV">WebDAV</a> server, the <a href="../../en/NFS.html" title="NFS">NFS</a> server or the <a href="../../en/Samba.html" title="Samba">Samba</a> share.
</p>
<p>On each client, write the configuration file for the MPD instance that will play the music:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pid_file            "/run/mpd/mpd.pid"
playlist_directory  "/var/lib/mpd/playlists"

# WebDAV setup
music_directory     "https://<i>optional_user:optional_password@example.com/path/to/your/music/</i>"

# NFS setup
music_directory     "nfs://<i>example.com/path/to/your/music/</i>"

# Samba setup
music_directory     "smb://<i>example.com/path/to/your/music/</i>"

# Note the proxy here
database {
    plugin  "proxy"
    host    "<i>example.com</i>"
    port    "6600"
}

audio_output {
    type  "alsa"
    name  "<i>Some output name</i>"
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>libsmbclient has a serious bug which causes MPD to crash, and therefore this plugin is disabled by default and should not be used until the bug is fixed <a rel="nofollow" class="external autonumber" href="https://bugzilla.samba.org/show_bug.cgi?id=11413">[1]</a>
</li>
<li>On Android the configuration file needs to be at the root of the user storage, alongside the <code>Android</code> folder. Also, files MPD writes to need to lie in the application folder, generally in <code>/data</code>. For example:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/storage/emulated/0/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">music_directory  "http://<i>example.com/Music</i>"
log_file         "/data/user/0/org.musicpd/cache/log"
state_file       "/data/user/0/org.musicpd/cache/state"

audio_output {
    type  "sles"
    name  "<i>Android only supports OpenSL ES</i>"
}
</pre>
</div>
<h2><span class="mw-headline" id="MPRIS_support">MPRIS support</span></h2>
<p>See also <a href="../../en/MPRIS.html" title="MPRIS">MPRIS</a>.
</p>
<h3><span class="mw-headline" id="mpDris2">mpDris2</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpdris2/">mpdris2</a></span><sup><small>AUR</small></sup> package. It runs in the user session and monitors the mpd server.
</p>
<p>Copy the default configuration file from <code>/usr/share/doc/mpdris2/mpDris2.conf</code> to <code>~/.config/mpDris2/mpDris2.conf</code>. Edit it as needed.
</p>
<p>After installation, you can <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> the <code>mpDris2.service</code> <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>.
</p>
<h3><span class="mw-headline" id="mpd-mpris">mpd-mpris</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpd-mpris/">mpd-mpris</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpd-mpris-bin/">mpd-mpris-bin</a></span><sup><small>AUR</small></sup> package.
</p>
<p>After installation, you can <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">start/enable</a> the <code>mpd-mpris.service</code> <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a>. 
</p>
<p>By default mpd-mpris connects to <code>localhost:6600</code> (which is the default host/port of <a href="../../en/Music_Player_Daemon.html" class="mw-redirect" title="Mpd">mpd</a>). To change this settings copy <code>/usr/lib/systemd/user/mpd-mpris.service</code> to <code>~/.config/systemd/user/</code> then edit run parameters as needed.
</p>
<h2><span class="mw-headline" id="Notifications">Notifications</span></h2>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpdris2/">mpdris2</a></span><sup><small>AUR</small></sup> package optionally supports displaying graphical notifications.
If you do not want <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/mpris-spec/latest/">mpris</a> support and are looking for a more <i>lightweight</i> or <i>specific</i> option, here are some alternatives:
</p>
<h3><span class="mw-headline" id="musnify-mpd">musnify-mpd</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/felipemarinho97/musnify-mpd">musnify-mpd</a> is a simple <a href="../../en/Python.html" title="Python">python</a> script that provides notification support for <a href="../../en/Music_Player_Daemon.html" title="Music Player Daemon">Music Player Daemon</a> using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libnotify">libnotify</a></span>.
It can also display the album covers loaded from <i>last fm</i> or load it from the user-local music library.
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/musnify-mpd/">musnify-mpd</a></span><sup><small>AUR</small></sup> package is available.
</p>
<p>After installation you may want to configure your mpd <b>host</b> and <b>port</b>. To do this copy the ".example" file into <code>~/.config/musnify-mpd</code>
</p>
<pre>$ mkdir ~/.config/musnify-mpd 
$ cp /usr/share/doc/musnify-mpd/musnify-mpdconfig.example ~/.config/musnify-mpd/musnify-mpd.config
</pre>
<p>Example configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/musnify-mpd/musnify-mpd.config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[mpd]
host = localhost
port = 6600

# This is where musnify-mpd will look for when searching the local album covers.
musiclibrary = ~/Music
#

[apiKey]
# If you want to fetch the album covers from LastFm,
# enable this option and provide a apiKey.
# You can get your apiKey here: <a rel="nofollow" class="external free" href="https://www.last.fm/api/account/create">https://www.last.fm/api/account/create</a>
#
# lastfm = YOUR_LASTFM_API_KEY</pre>
<p>To enable artworks from last.fm, you will need to edit <code>~/.config/musnify-mpd</code> and provide a apiKey. You can create your apiKey <a rel="nofollow" class="external text" href="https://www.last.fm/api/account/create">here</a>
</p>
<h3><span class="mw-headline" id="mpd-notification">mpd-notification</span></h3>
<p>Notify about tracks played by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpd">mpd</a></span>. This runs in the background and produces notifications whenever mpd produces an event (e.g. new track is played, playback paused or stopped). This also supports local or <code>.mp3</code> album artworks.
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpd-notification/">mpd-notification</a></span><sup><small>AUR</small></sup> package is available.
</p>
<p>After installation, just run <code>mpd-notification</code> to run it once. The <code>mpd-notification.service</code> <a href="../../en/Systemd/User.html" class="mw-redirect" title="User unit">user unit</a> can be <a href="../../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enabled</a> to start it automatically.
</p>
<h2>
<span id="Adding_a_separate_volume_control_.28ALSA.29"></span><span class="mw-headline" id="Adding_a_separate_volume_control_(ALSA)">Adding a separate volume control (ALSA)</span>
</h2>
<p>While MPD does not allow you to adjust its own volume by default (<code>mpc volume</code> affects global volume), you can easily make a MPD-specific volume slider using the <i>softvol</i> <a href="../../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> module.  Just add this to <code>asound.conf</code>:
</p>
<pre>pcm.mpd {
    type softvol
    slave.pcm "default"
    control.name "MPD Playback Volume"
    control.card 0
}
</pre>
<p>And link it to MPD:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">audio_output {
    type "alsa"
    name "ALSA"
    device "mpd"
    mixer_control "MPD"
}
</pre>
<p>Afterwards you should be able to adjust song volume both through <code>mpc</code> and <code>amixer</code>.  (You may need to reboot for the control to work properly.)
</p>
<h2><span class="mw-headline" id="Control_the_remote_mpd_server">Control the remote mpd server</span></h2>
<p>To control the remote mpd server, if you have an ssh server on the same machine, you can login and use <a href="../../en/Ncmpcpp.html" title="Ncmpcpp">ncmpcpp</a> to control it.
</p>
<p>Or, if your mpd server is listening on an accessible interface/port (<code>$ ss -p -l -t</code> on the mpd machine will show mpd listening on 0.0.0.0, for example) then you can set the MPD_HOST variable which directs a local client like mpc to the remote server.
</p>
<pre>$ export MPD_HOST=ip.of.server
$ export MPD_PORT=6600      # optional
$ mpc play
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Music.html" title="Category:Music">Music</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Music_Player_Daemon/Tips_and_tricks&amp;oldid=798394">https://wiki.archlinux.org/index.php?title=Music_Player_Daemon/Tips_and_tricks&amp;oldid=798394</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 27 January 2024, at 07:37.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
