<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Private Internet Access - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Private_Internet_Access rootpage-Private_Internet_Access skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Manual" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Manual">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Manual</span>
			</div>
		</a>
		
			<button aria-controls="toc-Manual-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Manual subsection</span>
			</button>
		
		<ul id="toc-Manual-sublist" class="vector-toc-list">
			<li id="toc-NetworkManager_applet_approach" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NetworkManager_applet_approach">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>NetworkManager applet approach</span>
				</div>
			</a>
			
			<ul id="toc-NetworkManager_applet_approach-sublist" class="vector-toc-list">
				<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.1</span>
					<span>Installation</span>
				</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.2</span>
					<span>Configuration</span>
				</div>
			</a>
			
			<ul id="toc-Configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usage" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Usage">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1.3</span>
					<span>Usage</span>
				</div>
			</a>
			
			<ul id="toc-Usage-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-OpenVPN_command_line_approach" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenVPN_command_line_approach">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>OpenVPN command line approach</span>
				</div>
			</a>
			
			<ul id="toc-OpenVPN_command_line_approach-sublist" class="vector-toc-list">
				<li id="toc-Installation_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Installation_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2.1</span>
					<span>Installation</span>
				</div>
			</a>
			
			<ul id="toc-Installation_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usage_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Usage_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2.2</span>
					<span>Usage</span>
				</div>
			</a>
			
			<ul id="toc-Usage_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Aur_approach" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Aur_approach">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Aur approach</span>
			</div>
		</a>
		
			<button aria-controls="toc-Aur_approach-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Aur approach subsection</span>
			</button>
		
		<ul id="toc-Aur_approach-sublist" class="vector-toc-list">
			<li id="toc-Official_installation_script" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Official_installation_script">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Official installation script</span>
				</div>
			</a>
			
			<ul id="toc-Official_installation_script-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Official_Linux_client" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Official_Linux_client">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Official Linux client</span>
				</div>
			</a>
			
			<ul id="toc-Official_Linux_client-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Packages" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Packages">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Packages</span>
				</div>
			</a>
			
			<ul id="toc-Packages-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Installation_3" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation_3">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation_3-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-After_installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#After_installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>After installation</span>
			</div>
		</a>
		
		<ul id="toc-After_installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Usage_3" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usage_3">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage_3-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage_3-sublist" class="vector-toc-list">
			<li id="toc-Enabling_auto-login" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Enabling_auto-login">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Enabling auto-login</span>
				</div>
			</a>
			
			<ul id="toc-Enabling_auto-login-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Manually_connecting_to_VPN" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Manually_connecting_to_VPN">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Manually connecting to VPN</span>
				</div>
			</a>
			
			<ul id="toc-Manually_connecting_to_VPN-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Automatically_connecting_to_VPN" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Automatically_connecting_to_VPN">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3</span>
					<span>Automatically connecting to VPN</span>
				</div>
			</a>
			
			<ul id="toc-Automatically_connecting_to_VPN-sublist" class="vector-toc-list">
				<li id="toc-For_connman" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#For_connman">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.1</span>
					<span>For connman</span>
				</div>
			</a>
			
			<ul id="toc-For_connman-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-For_openvpn_you_can_look_here:_OpenVPN#systemd_service_configuration." class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#For_openvpn_you_can_look_here:_OpenVPN#systemd_service_configuration.">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.3.2</span>
					<span>For <span>openvpn</span> you can look here: OpenVPN#systemd service configuration.</span>
				</div>
			</a>
			
			<ul id="toc-For_openvpn_you_can_look_here:_OpenVPN#systemd_service_configuration.-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Advanced_options" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Advanced_options">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.4</span>
					<span>Advanced options</span>
				</div>
			</a>
			
			<ul id="toc-Advanced_options-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Example_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Example_configuration">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.5</span>
					<span>Example configuration</span>
				</div>
			</a>
			
			<ul id="toc-Example_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting-sublist" class="vector-toc-list">
			<li id="toc-Using_NetworkManager's_applet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Using_NetworkManager's_applet">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Using NetworkManager's applet</span>
				</div>
			</a>
			
			<ul id="toc-Using_NetworkManager's_applet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DNS_Leaks" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#DNS_Leaks">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>DNS Leaks</span>
				</div>
			</a>
			
			<ul id="toc-DNS_Leaks-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-vopono" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#vopono">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>vopono</span>
				</div>
			</a>
			
			<ul id="toc-vopono-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_tricks" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Tips_and_tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Tips and tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_tricks-sublist" class="vector-toc-list">
			<li id="toc-Internet_&quot;kill_switch&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Internet_&quot;kill_switch&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.1</span>
					<span>Internet "kill switch"</span>
				</div>
			</a>
			
			<ul id="toc-Internet_&quot;kill_switch&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Setting_PIA_DNS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Setting_PIA_DNS">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">8.2</span>
					<span>Setting PIA DNS</span>
				</div>
			</a>
			
			<ul id="toc-Setting_PIA_DNS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Troubleshooting_2" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Troubleshooting_2">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Troubleshooting</span>
			</div>
		</a>
		
			<button aria-controls="toc-Troubleshooting_2-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Troubleshooting subsection</span>
			</button>
		
		<ul id="toc-Troubleshooting_2-sublist" class="vector-toc-list">
			<li id="toc-I_cannot_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_does_not_work" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#I_cannot_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_does_not_work">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1</span>
					<span>I cannot connect to OpenVPN using PIA manager, or OpenVPN does not work</span>
				</div>
			</a>
			
			<ul id="toc-I_cannot_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_does_not_work-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Private Internet Access</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Unconventional page format, this page requires a complete rewrite (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Private_Internet_Access.html">Talk:Private Internet Access</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/">Private Internet Access</a> is a subscription-based VPN service.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> In 2019, PIA merged with Kape Technologies, and this event has been surrounded by a lot of controversy, especially via reddit posts. However, since the merger, the following improvements have been made to the PIA infrastructure:
<ul>
<li>All PIA applications got released as open source: <a rel="nofollow" class="external free" href="https://github.com/pia-foss">https://github.com/pia-foss</a>
</li>
<li>WireGuard got added to the VPN servers and VPN Apps</li>
<li>VPN servers got migrated from Ubuntu 14.04 LTS to Arch Linux</li>
<li>All VPN servers now are encrypted via dm-crypt, following advice from the Arch Linux developers</li>
<li>All VPN services now run in memory via ramdisk</li>
</ul>
</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Manual">Manual</h2></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>
<a href="../en/Disable_IPv6.html" class="mw-redirect" title="Disable IPv6">Disable IPv6</a> since it is not supported by PIA.<a rel="nofollow" class="external autonumber" href="https://www.privateinternetaccess.com/helpdesk/kb/articles/why-do-you-block-ipv6-3">[1]</a>
</li>
<li>Ensure you are using PIA's <a href="../en/Domain_name_resolution.html" class="mw-redirect" title="DNS">DNS</a> servers, listed on their website.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="NetworkManager_applet_approach">NetworkManager applet approach</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Installation">Installation</h4></div>
<p>Download <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/openvpn/openvpn.zip">OpenVPN configuration files from PIA</a>. Extract the ZIP file to a place in your user home directory or elsewhere that is memorable for future access. It is worth noting that even when WireGuard can be used on the Linux binary and on the app, PIA has yet to provide WireGuard files for configuration. In other words, only OpenVPN can be used when using the NetworkManager approach.
</p>
<p>Install and configure <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> along with the NetworkManager applet and OpenVPN plugin.
</p>
<div class="mw-heading mw-heading4"><h4 id="Configuration">Configuration</h4></div>
<ol>
<li>Right click on the NetworkManager applet from your desktop environment and click Edit Connections. Click the Plus sign in the bottom left corner of the Network Connections window that appears.</li>
<li>When you choose a connection type, click the drop-down menu and scroll all the way down until you reach "Import a saved VPN configuration". Select that option. Now, click Create.</li>
<li>Navigate to the directory you extracted all of the OpenVPN files to earlier, then open one of the files from that folder. Generally speaking, you will want to open the file that is associated with the connection you specifically want.</li>
<li>After you have opened one of the OpenVPN files, the window that appears should be "Editing &lt;connection type&gt;". Type in your Username and Password that you received from Private Internet Access. There is an icon in the password box indicating user permission of the credentials; change the settings as you wish.</li>
<li>Now, click Advanced. Next to "Use LZO data compression", click the drop-down menu to select "adaptive" and next to "Set virtual device type", click the menu and make sure "TUN" is selected.</li>
<li>Next, go to the security tab and select as cipher "AES-128-CBC" and as HMAC Authentication "SHA-1".</li>
<li>Click the OK button at the bottom left of the window to save this change.</li>
<li>Go to the "IPv6 Settings" tab and select for "Method" "Ignore" since PIA blocks IPv6 addresses <a rel="nofollow" class="external autonumber" href="https://www.privateinternetaccess.com/helpdesk/kb/articles/why-do-you-block-ipv6-3">[2]</a>.</li>
<li>Click Save at the bottom right of the "Editing &lt;connection type&gt;" window.</li>
</ol>
<div class="mw-heading mw-heading4"><h4 id="Usage">Usage</h4></div>
<p>Left click on the NetworkManager applet. There is a VPN Connections menu. Inside it should be the VPN connection you saved. Click on it to connect to Private Internet Access.
</p>
<p>When a gold lock has appeared over the NetworkManager applet, you are successfully connected to Private Internet Access. Visit <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/">Private Internet Access</a> and confirm that you are connected by referring to the status message at the top of their homepage.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  If the VPN asks for a password, and you would like to avoid entering the password each time you attempt to connect, be sure to click the icon in the password box as noted previously regarding permission of credentials and change it to all users.</div>
<div class="mw-heading mw-heading3"><h3 id="OpenVPN_command_line_approach">OpenVPN command line approach</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Installation_2">Installation</h4></div>
<p>Download <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/openvpn/openvpn-strong.zip">OpenVPN configurations from PIA</a>. Unzip the file and move all files to <code>/etc/openvpn/client</code>. Ensure the files have <code>root</code> as the owner.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> To be able to use <a href="../en/OpenVPN.html#systemd_service_configuration" title="OpenVPN">OpenVPN#systemd service configuration</a> (e.g <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">starting</a> <code>openvpn-client@<i>config</i></code>), rename the all the files and replace <code>.opvn</code> extension with <code>.conf</code> and replace spaces in configuration file names with underscores.</div>
<div class="mw-heading mw-heading4"><h4 id="Usage_2">Usage</h4></div>
<p>See <a href="../en/OpenVPN.html#Starting_OpenVPN" title="OpenVPN">OpenVPN#Starting OpenVPN</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> To automatically login, append the name of the file containing your username and password immediately after <code>auth-user-pass</code> in the configuration file(s). See this option in <span class="plainlinks archwiki-template-man" title="$ man 8 openvpn"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/openvpn.8">openvpn(8)</a></span>for more information.</div>
<p>To test to see if you have successfully connected to the VPN, see <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/helpdesk/kb/articles/security-best-practices-part-5-testing-your-security-2">this article</a> which recommends the following four tools:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://dnsleak.com/">DNS Leak</a></li>
<li><a rel="nofollow" class="external text" href="https://ipv6leak.com/">IPv6 Leak</a></li>
<li><a rel="nofollow" class="external text" href="https://www.speedtest.net/">Speed Test</a></li>
<li><a rel="nofollow" class="external text" href="https://diafygi.github.io/webrtc-ips/">WebRTC</a></li>
</ul>
<div class="mw-heading mw-heading2"><h2 id="Aur_approach">Aur approach</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Official_installation_script">Official installation script</h3></div>
<p>Private Internet Access has an installation script that sets up <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> for use with the VPN. Download the script <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/installer/pia-nm.sh">here</a> and then run to set up.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Requires Python 2, which is no longer provided in the official repositories. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python2/">python2</a></span><sup><small>AUR</small></sup> first or patch the script for Python 3.</div>
<div class="mw-heading mw-heading3"><h3 id="Official_Linux_client">Official Linux client</h3></div>
<p>Private Internet Access now has an official client for Linux with support for Arch. Download the client from <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/pages/download">this page</a>, unzip the file (e.g. <code>pia-v81-installer-linux.tar.gz</code>) and run the installation script (.e.g. <code># ./pia-v81-installer-linux.sh</code>).
</p>
<div class="mw-heading mw-heading3"><h3 id="Packages">Packages</h3></div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> You need to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> and start piavpn.service</div>
<ul><li>
<b>piavpn-bin</b> — Automates the official installer</li></ul>
<dl><dd>|| <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/piavpn-bin/">piavpn-bin</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Private_Internet_Access/AUR.html" class="mw-redirect" title="Private Internet Access/AUR">Private Internet Access/AUR</a></b> — Installs profiles for <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>, <a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>, and <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>
</li></ul>
<dl><dd>|| <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/private-internet-access-vpn/">private-internet-access-vpn</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="mw-heading mw-heading2"><h2 id="Installation_3">Installation</h2></div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/private-internet-access-vpn/">private-internet-access-vpn</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> This is not meant to be installed through <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-pip">python-pip</a></span> directly. See <a rel="nofollow" class="external autonumber" href="https://github.com/flamusdiu/python-pia/issues/30">[3]</a> for more information.</div>
<p>The package provides a tool that downloads the <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/openvpn/openvpn.zip">OpenVPN configuration files</a> and stores them in <code>/etc/openvpn</code>. However, it updates the file names to better support using them on the command line.
</p>
<p>Configuration for the package is stored in <code>/etc/private-internet-access</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="After_installation">After installation</h2></div>
<p>If there are any issues with connectivity and you are running <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span>, please <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <code>connman-vpn.service</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Usage_3">Usage</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Enabling_auto-login">Enabling auto-login</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  This is a limitation of <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>. See PIA's Support Center: <a rel="nofollow" class="external text" href="https://helpdesk.privateinternetaccess.com/hc/en-us/articles/219458787-How-can-I-make-OpenVPN-remember-my-username-and-password-">How can I make OpenVPN remember my username and password? </a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2021-05-17—HTTP 404]</sup>
</div>
<p>Enabling auto-login allows a user to connect to the VPN service without having to type any passwords on the command line (needed when using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span>). To set this up, you must do the following:
</p>
<ul>
<li>Create <code>/etc/private-internet-access/login.conf</code>
</li>
<li>Add your username and password in the file. Make sure LINE 1 is your username and LINE 2 is your password. Do not add any other text to the file or it will not work (this is a limitation of <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>):</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/private-internet-access/login.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">USERNAME
PASSWORD</pre>
<ul><li>Change permissions of the file to <i>0600</i> and owner to <i>root:root</i>:</li></ul>
 <pre># chmod 0600 /etc/private-internet-access/login.conf
# chown root:root /etc/private-internet-access/login.conf</pre>
<p> This secures the access to the file from non-root users. Read more on <a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes">File permissions and attributes</a>. It is <b>required</b> when activating auto-login.
</p>
<ul><li>Run <code>pia -a</code> as root.
<ul>
<li>If you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span> installed, it will create the configuration files for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span>. Make sure to <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">restart</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span> to see them.</li>
<li>If you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span> installed, it will create the configuration files for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span>. <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">Start</a> <code>connman-vpn.service</code> if not running already. It will auto load the profiles.</li>
<li>Regardless, it will create the OpenVPN <code>.conf</code> files in <code>/etc/openvpn/client</code>.</li>
</ul>
</li></ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> Disable auto-login in configurations by adding <code>openvpn_auto_login = False</code> to <code>/etc/private-internet-access/pia.conf</code> and running <code>pia -a</code> </div>
<div class="mw-heading mw-heading3"><h3 id="Manually_connecting_to_VPN">Manually connecting to VPN</h3></div>
<pre># openvpn --config /etc/openvpn/client/{config_file_name}</pre> <p><code>{config_file_name}</code> will be listed in the /etc/openvpn directory or run <code>pia -l</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Automatically_connecting_to_VPN">Automatically connecting to VPN</h3></div>
<div class="mw-heading mw-heading4"><h4 id="For_connman">For connman</h4></div>
<ul>
<li>
<a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">enable</a> the <code>connman-vpn.service</code>.</li>
<li>Run <code>pia -a</code> as root (if you have not already)</li>
</ul>
<pre># pia -a</pre>
<ul><li>Get a list of all connman services and find the name of the VPN config <code>(for example, Finland)</code> in the second column</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">connmanctl services</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

*   Finland_VPN          vpn_fi_privateinternetaccess_com_privateinternetaccess_com
...</pre>
<ul><li>Connect to your VPN chosen VPN config to create a connman settings file for it:</li></ul>
<pre># connmanctl connect vpn_fi_privateinternetaccess_com_privateinternetaccess_com</pre>
<ul>
<li>Edit the relevant settings file, e.g <code>/var/lib/connman/vpn_fi_privateinternetaccess_com_privateinternetaccess_com/settings</code>
</li>
<li>Change the <code>AutoConnect=false</code> line to <code>AutoConnect=true</code>, save, exit, reboot</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip</strong> 
<ul>
<li>You can also configure autoconnect in the Details tab of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cmst/">cmst</a></span><sup><small>AUR</small></sup>
</li>
<li>The VPN will keep working even after waking from suspend, unlike vanilla <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openvpn">openvpn</a></span> (see below)</li>
</ul>
</div>
<div class="mw-heading mw-heading4"><h4 id="For_openvpn_you_can_look_here:_OpenVPN#systemd_service_configuration.">
<span id="For_openvpn_you_can_look_here:_OpenVPN.23systemd_service_configuration."></span>For <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openvpn">openvpn</a></span> you can look here: <a href="../en/OpenVPN.html#systemd_service_configuration" title="OpenVPN">OpenVPN#systemd service configuration</a>.</h4></div>
<div class="mw-heading mw-heading3"><h3 id="Advanced_options">Advanced options</h3></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning</strong> Protocols and port combinations no longer work as of Version 3.1. See <a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia/issues/17">Github Issue #17</a> or PIA's Support - <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/helpdesk/kb/articles/which-encryption-auth-settings-should-i-use-for-ports-on-your-gateways-3">Which encryption/auth settings should I use for ports on your gateways?</a>
</div>
<ul>
<li>Create <code>/etc/private-internet-access/pia.conf</code>
</li>
<li>For the <code>[pia]</code> section:</li>
</ul>
<table class="wikitable">
<tbody>
<tr>
<th scope="col" style="width:5%;">option
</th>
<th scope="col" style="width:10%;">option values
</th>
<th scope="col" style="width:10%;">description
</th>
</tr>
<tr>
<td>openvpn_auto_login
</td>
<td>True,False
</td>
<td>Default: True; Configures if OpenVPN configuration files should have auto-login enabled. See <a href="#Enabling_auto-login">#Enabling auto-login</a>
</td>
</tr>
</tbody>
</table>
<ul><li>For the <code>[configure]</code> section:</li></ul>
<table class="wikitable">
<tbody>
<tr>
<th scope="col" style="width:5%;">option
</th>
<th scope="col" style="width:10%;">option values
</th>
<th scope="col" style="width:10%;">description
</th>
</tr>
<tr>
<td>apps
</td>
<td>cm, nm
</td>
<td>Default: all; This configures which applications are configured. The application will configure all applications installed; however, if a user only needed configurations for Conman, then setting this to 'cm' would generate only those configurations even if they had NetworkManager installed. OpenVPN configurations are always generated. cm = Conman; nm = NetworkManager
</td>
</tr>
<tr>
<td>port
</td>
<td>See for list: PIA's Support - <br><a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/helpdesk/kb/articles/which-encryption-auth-settings-should-i-use-for-ports-on-your-gateways-3">Which encryption/auth settings should I use for ports on your gateways?</a>
</td>
<td>Default: 1198
</td>
</tr>
</tbody>
</table>
<div class="mw-heading mw-heading3"><h3 id="Example_configuration">Example configuration</h3></div>
<p>The configuration enables auto-login, configures only Connman and OpenVPN, uses port 8080 over UDP, and configures only US East, US West, Japan, UK London, and UK Southampton VPN endpoints. OpenVPN is always configured.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/private-internet-access/pia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

[pia]
openvpn_auto_login = True

[configure]
apps = cm
port = 8080
hosts = US East, US West, Japan, UK London, UK Southampton

</pre>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Using_NetworkManager's_applet">
<span id="Using_NetworkManager.27s_applet"></span>Using NetworkManager's applet</h3></div>
<p>In order to use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span> to connect:
</p>
<ol>
<li>Right click the NetworkManager icon in the system tray</li>
<li>and click <i>Configure Network Connections...</i>
</li>
<li>then click <i>Add</i>
</li>
<li>choose <i>Import VPN...</i>
</li>
<li>browse to <code>/etc/openvpn/client/CA_Toronto.conf</code> or whichever configuration you would like to use</li>
<li>then click <i>Open</i>
</li>
<li>Remove only the <code>:1198</code> from the <code>Gateway:</code> (if present) as only the domain name should be in this box</li>
<li>for the <code>Username:</code> type in your <code>p1234567</code> username</li>
<li>for the <code>Password:</code> type in the password that goes with your <code>p-xxxxx</code> username</li>
<li>then click <i>Advanced...</i>
</li>
<li>set <code>Custom gateway port:</code> and set it to <code>1198</code>
</li>
<li>click on the <i>Security</i> tab</li>
<li>set the <code>Cipher:</code> to <code>AES-128-CBC</code>
</li>
<li>set the <code>HMAC Authentication:</code> to <code>SHA-1</code>
</li>
<li>click <i>OK</i>
</li>
<li>click <i>OK</i> again</li>
</ol>
<div class="mw-heading mw-heading3"><h3 id="DNS_Leaks">DNS Leaks</h3></div>
<p>Concerning DNS Leaks (see <a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia/issues/13">python-pia/#13</a>), NetworkManager leaks information due to how <code>/etc/resolv.conf</code> is setup. The script below was posted by <a rel="nofollow" class="external text" href="https://github.com/maximbaz">@maximbaz</a> to work around the problem. You may need to <a href="../en/Disable_IPv6.html" class="mw-redirect" title="Disable IPv6">disable IPv6</a> if you continue to get leaks.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/pia-vpn</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

#!/bin/bash
#/etc/NetworkManager/dispatcher.d/pia-vpn

interface="$1"
status=$2

case $status in
  vpn-up)
    if [[ $interface == "tun0" ]]; then
      chattr -i /etc/resolv.conf
      echo -e "nameserver 209.222.18.222\nnameserver 209.222.18.218" &gt; /etc/resolv.conf
      chattr +i /etc/resolv.conf
    fi
    ;;
  vpn-down)
    if [[ $interface == "tun0" ]]; then
      chattr -i /etc/resolv.conf
    fi
    ;;
esac

</pre>
<div class="mw-heading mw-heading3"><h3 id="vopono">vopono</h3></div>
<p><a href="../en/List_of_applications/Internet.html#VPN_clients" class="mw-redirect" title="Vopono">vopono</a> is a tool to run specific applications via a VPN connection with temporary network namespaces. Automatic configuration generation is supported for PrivateInternetAccess.
</p>
<p>It includes kill switch support by default, and support for forwarding and proxying ports from the network namespace to the host so you can run daemons and servers via the VPN whilst the rest of the system is unaffected.
</p>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2></div>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia/">python-pia GitHub</a></li>
<li><a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/pages/client-support/">PIA Client Support</a></li>
</ul>
<div class="mw-heading mw-heading2"><h2 id="Tips_and_tricks">Tips and tricks</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Internet_&quot;kill_switch&quot;">
<span id="Internet_.22kill_switch.22"></span>Internet "kill switch"</h3></div>
<p>The following <a href="../en/Iptables.html" title="Iptables">iptables</a> rules only allow network traffic through the <code>tun</code> interface, with the exception that traffic is allowed to PIA's DNS servers and to port 1197, which is used in establishing the VPN connection:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iptables/iptables.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set default policies for INPUT, FORWARD, and OUTPUT chains to DROP
# This means all traffic is blocked by default unless explicitly allowed
-P INPUT DROP
-P FORWARD DROP
-P OUTPUT DROP

# Allow incoming traffic that is related to established connections
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
# Allow all traffic on the loopback interface
-A INPUT -i lo -j ACCEPT
-A OUTPUT -o lo -j ACCEPT
# Allow all incoming traffic on tun interfaces
-A INPUT -i tun+ -j ACCEPT
-A OUTPUT -o tun+ -j ACCEPT
# Allow connections to PIA servers
-A OUTPUT -d 209.222.18.222/32 -j ACCEPT
-A OUTPUT -d 209.222.18.218/32 -j ACCEPT
# allow VPN establishing
-A OUTPUT -p udp -m udp --dport 1197 -j ACCEPT
# Reject all other outgoing traffic with an ICMP net unreachable message; catches any traffic not matched by previous rules
-A OUTPUT -j REJECT --reject-with icmp-net-unreachable

# Commit the changes to iptables
COMMIT</pre>
<p>This ensures that if you are disconnected from the VPN unknowingly, no network traffic is allowed in or out.
</p>
<p>If you wish to additionally access devices on your LAN, you will need to explicitly allow them. For example, to allow access to devices on <code>192.0.0.0/24</code>, add the following two rules (before any REJECT rule):
</p>
<pre>-A INPUT -s 192.168.0.0/24 -j ACCEPT
-A OUTPUT -d 192.168.0.0/24 -j ACCEPT
</pre>
<p>Additionally, the above rules block the ICMP protocol, which is probably not desired. See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=224655">this thread</a> for potential pitfalls of using these iptables rules as well as more details.
</p>
<div class="mw-heading mw-heading3"><h3 id="Setting_PIA_DNS">Setting PIA DNS</h3></div>
<p>If you find that Network Manager is controlling your host's DNS settings, and therefore your host cannot resolve any address, you will have to manually set the DNS server and attributes.
You should note a symbolic link when running the following command:
</p>
<pre>$ ls -l /etc/resolv.conf
</pre>
<p>Remove the symbolic link with <code>rm /etc/resolv.conf</code>
Then create a new <code>/etc/resolv.conf</code> and add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/resolv.conf </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">nameserver 209.222.18.222
nameserver 209.222.18.218</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> Using <i>resolvconf</i> after editing <code>/etc/resolv.conf</code> makes no sense. If <a href="../en/Openresolv.html" title="Openresolv">openresolv</a> is used then the nameservers should be set in <code>/etc/resolvconf.conf</code>, and <code>/etc/resolv.conf</code> should not be manually edited. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Private_Internet_Access.html">Talk:Private Internet Access</a>)</div>
</div>
<p>Next regenerate resolvconf by typing:
</p>
<pre># resolvconf -u
</pre>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> Duplicates <a href="../en/Domain_name_resolution.html#Overwriting_of_/etc/resolv.conf" title="Domain name resolution">Domain name resolution#Overwriting of /etc/resolv.conf</a>. (Discuss in <a rel="nofollow" class="external text" href="../en/Talk:Private_Internet_Access.html">Talk:Private Internet Access</a>)</div>
</div>
<p>Finally make the file immutable so no other application can modify it:
</p>
<pre>chattr +i /etc/resolv.conf
</pre>
<div class="mw-heading mw-heading2"><h2 id="Troubleshooting_2">Troubleshooting</h2></div>
<div class="mw-heading mw-heading3"><h3 id="I_cannot_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_does_not_work">
<span id="I_cannot_connect_to_OpenVPN_using_PIA_manager.2C_or_OpenVPN_does_not_work"></span>I cannot connect to OpenVPN using PIA manager, or OpenVPN does not work</h3></div>
<p>PIA manager still uses OpenVPN under the hood, so even if you do not directly use one of the OpenVPN methods, you still need it. Firstly, check that it is installed. If you used one of the installation scripts, this should be done for you.
</p>
<p>If you are getting errors like <code>#&lt;Errno::ECONNREFUSED: Connection refused - connect(2) for "127.0.0.1" port 31749&gt;</code>, that probably means TAP/TUN is not currently running. Either your kernel does not have it, in which case install a kernel which does (or compile a fresh one), or it is not currently running, in which case it needs to be started:
</p>
<pre># modprobe tun
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:VPN_providers.html" title="Category:VPN providers">VPN providers</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Private_Internet_Access&amp;oldid=813642">https://wiki.archlinux.org/index.php?title=Private_Internet_Access&amp;oldid=813642</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 August 2024, at 07:39.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Private Internet Access</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
