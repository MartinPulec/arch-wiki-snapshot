<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd-boot (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd-boot_Português rootpage-Systemd-boot_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalação" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalação</div>
		</a>
		
			<button aria-controls="toc-Instalação-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Instalação subsection</span>
			</button>
		
		<ul id="toc-Instalação-sublist" class="vector-toc-list">
			<li id="toc-Instalando_o_gerenciador_de_boot_EFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalando_o_gerenciador_de_boot_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Instalando o gerenciador de boot EFI</div>
			</a>
			
			<ul id="toc-Instalando_o_gerenciador_de_boot_EFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalação_usando_XBOOTLDR" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o_usando_XBOOTLDR">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Instalação usando XBOOTLDR</div>
			</a>
			
			<ul id="toc-Instalação_usando_XBOOTLDR-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualizando_o_gerenciador_de_boot_EFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualizando_o_gerenciador_de_boot_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Atualizando o gerenciador de boot EFI</div>
			</a>
			
			<ul id="toc-Atualizando_o_gerenciador_de_boot_EFI-sublist" class="vector-toc-list">
				<li id="toc-Atualização_manual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Atualiza%C3%A7%C3%A3o_manual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1</span>Atualização manual</div>
			</a>
			
			<ul id="toc-Atualização_manual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualização_automática" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Atualiza%C3%A7%C3%A3o_autom%C3%A1tica">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.2</span>Atualização automática</div>
			</a>
			
			<ul id="toc-Atualização_automática-sublist" class="vector-toc-list">
				<li id="toc-Serviço_do_systemd" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Servi%C3%A7o_do_systemd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.2.1</span>Serviço do systemd</div>
			</a>
			
			<ul id="toc-Serviço_do_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-hook_do_pacman" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#hook_do_pacman">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.2.2</span>hook do pacman</div>
			</a>
			
			<ul id="toc-hook_do_pacman-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuração" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuração</div>
		</a>
		
			<button aria-controls="toc-Configuração-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuração subsection</span>
			</button>
		
		<ul id="toc-Configuração-sublist" class="vector-toc-list">
			<li id="toc-Configuração_do_carregador" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o_do_carregador">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Configuração do carregador</div>
			</a>
			
			<ul id="toc-Configuração_do_carregador-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adicionando_carregadores" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adicionando_carregadores">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Adicionando carregadores</div>
			</a>
			
			<ul id="toc-Adicionando_carregadores-sublist" class="vector-toc-list">
				<li id="toc-Shells_EFI_ou_outras_aplicações_EFI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Shells_EFI_ou_outras_aplica%C3%A7%C3%B5es_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Shells EFI ou outras aplicações EFI</div>
			</a>
			
			<ul id="toc-Shells_EFI_ou_outras_aplicações_EFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Inicializar_a_partir_de_outro_disco" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Inicializar_a_partir_de_outro_disco">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Inicializar a partir de outro disco</div>
			</a>
			
			<ul id="toc-Inicializar_a_partir_de_outro_disco-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Inicializando_para_a_configuração_de_Firmware_EFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Inicializando_para_a_configura%C3%A7%C3%A3o_de_Firmware_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Inicializando para a configuração de Firmware EFI</div>
			</a>
			
			<ul id="toc-Inicializando_para_a_configuração_de_Firmware_EFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Suporte_a_hibernação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suporte_a_hiberna%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Suporte a hibernação</div>
			</a>
			
			<ul id="toc-Suporte_a_hibernação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Editor_de_parâmetros_do_kernel_protegido_por_senha" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Editor_de_par%C3%A2metros_do_kernel_protegido_por_senha">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Editor de parâmetros do kernel protegido por senha</div>
			</a>
			
			<ul id="toc-Editor_de_parâmetros_do_kernel_protegido_por_senha-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dicas_e_truques" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Dicas_e_truques">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Dicas e truques</div>
		</a>
		
			<button aria-controls="toc-Dicas_e_truques-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dicas e truques subsection</span>
			</button>
		
		<ul id="toc-Dicas_e_truques-sublist" class="vector-toc-list">
			<li id="toc-Teclas_dentro_do_menu_de_inicialização" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Teclas_dentro_do_menu_de_inicializa%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Teclas dentro do menu de inicialização</div>
			</a>
			
			<ul id="toc-Teclas_dentro_do_menu_de_inicialização-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Escolhendo_a_próxima_inicialização" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Escolhendo_a_pr%C3%B3xima_inicializa%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Escolhendo a próxima inicialização</div>
			</a>
			
			<ul id="toc-Escolhendo_a_próxima_inicialização-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Imagens_de_kernel_unificadas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Imagens_de_kernel_unificadas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Imagens de kernel unificadas</div>
			</a>
			
			<ul id="toc-Imagens_de_kernel_unificadas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Grml_na_ESP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Grml_na_ESP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Grml na ESP</div>
			</a>
			
			<ul id="toc-Grml_na_ESP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd-boot_em_sistemas_BIOS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-boot_em_sistemas_BIOS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>systemd-boot em sistemas BIOS</div>
			</a>
			
			<ul id="toc-systemd-boot_em_sistemas_BIOS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Resolução_de_problemas" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Resolu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Resolução de problemas</div>
		</a>
		
			<button aria-controls="toc-Resolução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Resolução de problemas subsection</span>
			</button>
		
		<ul id="toc-Resolução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Instalando_depois_de_inicializar_no_modo_BIOS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalando_depois_de_inicializar_no_modo_BIOS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Instalando depois de inicializar no modo BIOS</div>
			</a>
			
			<ul id="toc-Instalando_depois_de_inicializar_no_modo_BIOS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Entrada_manual_usando_efibootmgr" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Entrada_manual_usando_efibootmgr">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Entrada manual usando efibootmgr</div>
			</a>
			
			<ul id="toc-Entrada_manual_usando_efibootmgr-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Entrada_manual_usando_bcdedit_do_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Entrada_manual_usando_bcdedit_do_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Entrada manual usando bcdedit do Windows</div>
			</a>
			
			<ul id="toc-Entrada_manual_usando_bcdedit_do_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Menu_não_aparece_depois_de_atualização_do_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Menu_n%C3%A3o_aparece_depois_de_atualiza%C3%A7%C3%A3o_do_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Menu não aparece depois de atualização do Windows</div>
			</a>
			
			<ul id="toc-Menu_não_aparece_depois_de_atualização_do_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Veja também</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd-boot (Português)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Systemd-boot" title="Systemd-boot – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Systemd-boot.html" title="Systemd-boot – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Systemd-boot.html" title="Systemd-boot – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd-boot" title="Systemd-boot – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Systemd-boot.html" title="Systemd-boot – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd-boot" title="Systemd-boot – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Systemd-boot.html" title="Systemd-boot">Systemd-boot</a>. Data da última tradução: 2022-11-15. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd-boot&amp;diff=0&amp;oldid=756911">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/Arch_boot_process.html" class="mw-redirect" title="Processo de inicialização do Arch">Processo de inicialização do Arch</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a></li>
</ul>
</div>
<p><b>systemd-boot</b>, antigamente chamado de <b>gummiboot</b> (Alemão para: "bote de borracha"), é um simples <a href="../pt/Arch_boot_process.html#Gerenciador_de_boot" class="mw-redirect" title="Gerenciador de boot">gerenciador de boot</a> <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> que executa imagens EFI configuradas. A entrada padrão é selecionada por um padrão (glob) definido ou um menu navegável na tela por meio das setas. Vêm com o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>, que é instalado em um sistema Arch por padrão.
</p>
<p>É simples de configurar mas pode somente iniciar executáveis EFI como o <a href="../pt/EFISTUB.html" title="EFISTUB (Português)">EFISTUB</a> do kernel Linux, <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" class="mw-redirect" title="UEFI shell">shell do UEFI</a>, <a href="../pt/GRUB.html" title="GRUB (Português)">GRUB</a> ou o gerenciador de boot do Windows.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Instala.C3.A7.C3.A3o"></span><span class="mw-headline" id="Instalação">Instalação</span>
</h2>
<h3><span class="mw-headline" id="Instalando_o_gerenciador_de_boot_EFI">Instalando o gerenciador de boot EFI</span></h3>
<p>Para instalar o gerenciador de boot EFI <i>systemd-boot</i>, primeiro tenha certeza que o sistema inicializou no modo UEFI e que as <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_variables" title="Unified Extensible Firmware Interface">variáveis UEFI</a> são acessíveis. Isto pode ser verificado ao executar o comando <code>efivar --list</code> ou, se <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efivar">efivar</a></span> não está instalado, ao executar <code>ls /sys/firmware/efi/efivars</code> (se o diretório existe, o sistema foi inicializado no modo UEFI).
</p>
<p>Nesta página, <code><i>esp</i></code> será usado para indicar o <a href="../pt/EFI_system_partition.html#Pontos_de_montagem_comuns" title="EFI system partition (Português)">ponto de montagem ESP</a>, ex. <code>/efi</code> ou <code>/boot</code>. Isto assume que você fez um <a href="../pt/Chroot.html" title="Chroot (Português)">chroot</a> no ponto de montagem do seu sistema.
</p>
<p>Com a partição de sistema EFI (ESP) montada em <code><i>esp</i></code>, use <span class="plainlinks archwiki-template-man" title="$ man 1 bootctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bootctl.1">bootctl(1)</a></span> para instalar <i>systemd-boot</i> na ESP:
</p>
<pre># bootctl install
</pre>
<p>on a x64 architecture system <code>/usr/lib/systemd/boot/efi/systemd-bootx64.efi</code> will be copied to <code><i>esp</i>/EFI/systemd/systemd-bootx64.efi</code> and <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code>, and <i>systemd-boot</i> will be set as the default EFI application.
</p>
<p>Isto vai copiar o gerenciador de boot <i>systemd-boot</i> para a ESP: em um sistema com arquitetura x64 <code>/usr/lib/systemd/boot/efi/systemd-bootx64.efi</code> será copiado para <code><i>esp</i>/EFI/systemd/systemd-bootx64.efi</code> and <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code>, e <i>systemd-boot</i> será definido como a aplicação EFI padrão. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Ao executar <code>bootctl install</code>, <i>systemd-boot</i> tentará localizar a ESP em <code>/efi</code>, <code>/boot</code> e <code>/ boot/efi</code>. Definir <code><i>esp</i></code> para um local diferente requer passar a opção <code>--esp-path=<i>esp</i></code>. (Veja <span class="plainlinks archwiki-template-man" title="$ man 1 bootctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bootctl.1#OPTIONS">bootctl(1) § OPTIONS</a></span> para detalhes.)</li>
<li>Instalar <i>systemd-boot</i> sobrescreverá qualquer arquivo existente em <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code>, por exemplo, a versão da Microsoft deste arquivo.</li>
</ul>
</div>
<p>Para concluir a instalação, <a href="#Configura%C3%A7%C3%A3o">configure</a> o <i>systemd-boot</i>.
</p>
<h3>
<span id="Instala.C3.A7.C3.A3o_usando_XBOOTLDR"></span><span class="mw-headline" id="Instalação_usando_XBOOTLDR">Instalação usando XBOOTLDR</span>
</h3>
<p>Uma <a href="../pt/Partitioning.html#/boot" class="mw-redirect" title="Particionamento">partição /boot</a> separada do tipo "Linux extended boot" (XBOOTLDR) pode ser criada para manter o kernel e initramfs separados da ESP. Isso é particularmente útil para fazer <a href="../pt/Dual_boot_with_Windows.html" class="mw-redirect" title="Dual boot com Windows">dual boot com Windows</a> com uma ESP existente que é muito pequena.
</p>
<p>Prepare uma ESP como de costume e crie outra partição para XBOOTLDR na mesma unidade física. A partição XBOOTLDR deve ter um GUID de tipo de partição de <code>bc13c2ff-59e6-4262-a352-b275fd6f7172</code> <a rel="nofollow" class="external autonumber" href="https://uapi-group.org/specifications/specs/boot_loader_specification/">[1]</a>. O tamanho da partição XBOOTLDR deve ser grande o suficiente para acomodar todos os kernels que você vai instalar.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>
<i>systemd-boot</i> não faz verificação de tipo do sistema de arquivos para a ESP. Então, é possível usar qualquer sistema de arquivos que sua implementação UEFI possa ler.</li>
<li>UEFI pode pular o carregamento de outras partições que não são a ESP quando o modo "fast boot" está habilitado. Isto pode levar ao <i>systemd-boot</i> falhando em encontrar entradas na partição XBOOTLDR; neste caso, desabilite o modo "fast boot";</li>
<li>A partição XBOOTLDR deve estar no mesmo disco físico que a ESP para que o <i>systemd-boot</i> seja reconhecido.</li>
</ul>
</div>
<p>Durante a instalação, monte a ESP em <code>/mnt/efi</code> e a partição XBOOTLDR em <code>/mnt/boot</code>.
</p>
<p>Uma vez no ambiente chroot, use o comando:
</p>
<pre># bootctl --esp-path=/efi --boot-path=/boot install
</pre>
<p>Para concluir a instalação, <a href="#Configura%C3%A7%C3%A3o">configure</a> o <i>systemd-boot</i>.
</p>
<h3><span class="mw-headline" id="Atualizando_o_gerenciador_de_boot_EFI">Atualizando o gerenciador de boot EFI</span></h3>
<p>Toda vez que tiver uma nova versão do <i>systemd-boot</i>, o gerenciador de boot EFI pode ser opcionalmente reinstalado pelo usuário. Isto pode ser feito manualmente ou automaticamente. As duas abordagens são descritas a seguir.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O gerenciador de boot EFI é um executável EFI e qualquer versão pode ser usada para inicializar o sistema (atualizações parciais não são válidas, considerando que pacman somente instala o instalador do <i>systemd-boot</i>, não o <i>systemd-boot</i>). No entanto, novas versões podem adicionar novas funcionalidades ou consertar bugs, então é provavelmente uma boa ideia atualizar o <i>systemd-boot</i> de qualquer maneira.</div>
<h4>
<span id="Atualiza.C3.A7.C3.A3o_manual"></span><span class="mw-headline" id="Atualização_manual">Atualização manual</span>
</h4>
<p>Use <i>bootctl</i> para atualizar o <i>systemd-boot</i>:
</p>
<pre># bootctl update
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Como com <code>bootctl install</code>, <i>systemd-boot</i> tentará localizar a ESP em <code>/efi</code>, <code>/boot</code> e <code>/boot/efi</code>. Definir <code><i>esp</i></code> para um local diferente requer passar a opção <code>--esp-path=<i>esp</i></code>.</div>
<h4>
<span id="Atualiza.C3.A7.C3.A3o_autom.C3.A1tica"></span><span class="mw-headline" id="Atualização_automática">Atualização automática</span>
</h4>
<p>Para atualizar o <i>systemd-boot</i> automaticamente, use um <a href="../pt/Systemd.html#Usando_units" title="Systemd (Português)">serviço do systemd</a> ou um <a href="../pt/Pacman.html#Hooks" class="mw-redirect" title="Hook do pacman">hook do pacman</a>. Os dois métodos são descritos abaixo.
</p>
<h5>
<span id="Servi.C3.A7o_do_systemd"></span><span class="mw-headline" id="Serviço_do_systemd">Serviço do systemd</span>
</h5>
<p>A partir da versão 250, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> vem com <code>systemd-boot-update.service</code>. <a href="../pt/Systemd.html#Usando_units" class="mw-redirect" title="Habilita">Habilitar</a> este serviço atualizará o bootloader na próxima inicialização.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Se você tiver <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> ativado, você precisa assinar seu bootloader após a atualização. Veja <a href="#hook_do_pacman">#hook do pacman</a> abaixo para um exemplo de como fazer isso.</div>
<h5><span class="mw-headline" id="hook_do_pacman">hook do pacman</span></h5>
<p>O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-boot-pacman-hook/">systemd-boot-pacman-hook</a></span><sup><small>AUR</small></sup> adiciona um hook do pacman que é executado toda vez que o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> é atualizado.
</p>
<p>Em vez de instalar <i>systemd-boot-pacman-hook</i>, você pode preferir colocar manualmente o seguinte arquivo em <code>/etc/pacman.d/hooks/</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/95-systemd-boot.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Type = Package
Operation = Upgrade
Target = systemd

[Action]
Description = Gracefully upgrading systemd-boot...
When = PostTransaction
Exec = /usr/bin/systemctl restart systemd-boot-update.service</pre>
<p>Se você tem <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> habilitado, você pode querer adicionar um hook do pacman para automaticamente reassinar o kernel e o bootloader a cada atualização dos respectivos pacotes:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/99-secureboot.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Install
Operation = Upgrade
Type = Package
Target = linux
Target = systemd

[Action]
Description = Assinar o Kernel para Secure Boot
When = PostTransaction
Exec = /usr/bin/find /boot -type f ( -name vmlinuz-* -o -name systemd* ) -exec /usr/bin/sh -c 'if ! /usr/bin/sbverify --list {} 2&gt;/dev/null | /usr/bin/grep -q "signature certificates"; then /usr/bin/sbsign <b>--key <i>arquivo-de-chave</i> --cert <i>arquivo-de-certificado</i></b> --output "$1" "$1"; fi' _ {} ;
Depends = sbsigntools
Depends = findutils
Depends = grep</pre>
<p>Certifique-se de que os parâmetros <code>--key <i>arquivo-de-chave</i> --cert <i>arquivo-de-certificado</i></code> apontam para sua chave de assinatura e certificado. Para melhor compreensão deste hook, consulte <span class="plainlinks archwiki-template-man" title="$ man 1 sbverify"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sbverify.1">sbverify(1)</a></span> e <span class="plainlinks archwiki-template-man" title="$ man 1 sbsign"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sbsign.1">sbsign(1)</a></span>.
</p>
<h2>
<span id="Configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Configuração">Configuração</span>
</h2>
<h3>
<span id="Configura.C3.A7.C3.A3o_do_carregador"></span><span class="mw-headline" id="Configuração_do_carregador">Configuração do carregador</span>
</h3>
<p>A configuração do carregador é armazenada no arquivo <code><i>esp</i>/loader/loader.conf</code>. Veja <span class="plainlinks archwiki-template-man" title="$ man 5 loader.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loader.conf.5#OPTIONS">loader.conf(5) § OPTIONS</a></span> para detalhes.
</p>
<p>Um exemplo de configuração do carregador é mostrado abaixo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/loader.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default  arch.conf
timeout  4
console-mode max
editor   no
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>systemd-boot não aceita tabulações como indentação, use espaços.</li>
<li>
<code>default</code> e <code>timeout</code> podem ser mudados no menu de inicialização e as mudanças vão ser salvas como variáveis EFI <code>LoaderEntryDefault</code> e <code>LoaderConfigTimeout</code>, sobrescrevendo estas opções.</li>
<li>
<code>bootctl set-default ""</code> e <code>bootctl set-timeout ""</code> pode ser usado para limpar as variáveis EFI sobrescrevendo as opções <code>default</code> e <code>timeout</code>, respectivamente.</li>
<li>Um arquivo de configuração básico está localizado em <code>/usr/share/systemd/bootctl/loader.conf</code>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Adicionando_carregadores">Adicionando carregadores</span></h3>
<p><i>systemd-boot</i> buscará pelos itens do menu de inicialização em <code><i>esp</i>/loader/entries/*.conf</code> e adicionalmente em <code><i>boot</i>/loader/entries/*.conf</code> se usar <a href="#Instala%C3%A7%C3%A3o_usando_XBOOTLDR">XBOOTLDR</a>. Observe que as entradas em <code><i>esp</i></code> só podem usar arquivos (por exemplo, kernels, initramfs, imagens, etc.) dentro de <code><i>esp</i></code>. Da mesma forma, entradas em <code><i>boot</i></code> só podem usar arquivos em <code><i>boot</i></code>.
</p>
<p>As opções possíveis são:
</p>
<ul>
<li>
<code>title</code> – nome do sistema operacional. <b>necessário.</b>
</li>
<li>
<code>version</code> – versão do kernel, mostrado somente quando múltiplas entradas com o mesmo título existe. Opcional.</li>
<li>
<code>machine-id</code> – identificador da máquina em <code>/etc/machine-id</code>, mostrado somente quando múltiplas entradas com o mesmo título e versão existem. Opcional.</li>
<li>
<code>efi</code> – aplicação EFI a iniciar, relativo ao seu ESP (<code><i>esp</i></code>); ex. <code>/vmlinuz-linux</code>. Este parâmetro <b>ou</b> <code>linux</code> (veja abaixo) <b>é necessário</b>.</li>
<li>
<code>options</code> – opções da linha de comando separadas por vírgula para passar para o programa EFI ou <a href="../pt/Kernel_parameters.html" class="mw-redirect" title="Parâmetros do kernel">parâmetros do kernel</a>. Opcional, mas você precisará no mínimo <code>root=<i>dev</i></code> se inicializar o Linux. Este parâmetro pode ser omitido se a partição raiz é atribuída ao tipo Root Partition GUID correto como definido na <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/discoverable_partitions_specification/">Discoverable Partitions Specification</a> e se o hook do <a href="../pt/Mkinitcpio.html" title="Mkinitcpio (Português)">mkinitcpio</a> do <code>systemd</code> está presente.</li>
</ul>
<p>Para inicializar o Linux, você pode também usar <code>linux</code> ao invês de <code>efi</code>. Ou <code>initrd</code> em adição a <code>options</code>. A sintaxe é:
</p>
<ul><li>
<code>linux</code> ou <code>initrd</code> seguido por um caminho relativo dos arquivos correspondentes na ESP (p. ex., <code>/vmlinuz-linux</code>); isto vai ser automaticamente traduzido em <code>efi <i>caminho</i></code> e <code>options initrd=<i>caminho</i></code> – esta sintaxe é somente suportada por conveniência e não há diferenças em função.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se <code>options</code> está presente na entrada de boot e <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> está desabilitado, o valor de <code>options</code> vai sobrescrever qualquer linha <code>.cmdline</code> inserida na imagem EFI que está especificada pelo <code>efi</code> ou <code>linux</code> (veja <a href="../pt/Unified_kernel_image.html#Preparando_uma_imagem_de_kernel_unificada" class="mw-redirect" title="Imagem de kernel unificada">Imagem de kernel unificada#Preparando uma imagem de kernel unificada</a>). Com Secure Boot, no entanto, <code>options</code> (e quaisquer modificações feitas a linha de comando do kernel na interface do gerenciador de boot) serão ignoradas, e somente as <code>.cmdline</code> serão usadas. </div>
<p>Um exemplo de arquivos de carregador iniciando o Arch a partir de um volume <a href="../pt/Persistent_block_device_naming.html#by-label" class="mw-redirect" title="Nomeação persistente de dispositivo de bloco">rotulado</a> <code><i>arch_os</i></code> e carregando o <a href="../en/Microcode.html" title="Microcode">microcódigo</a> da CPU da Intel é:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/arch.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title   Arch Linux
linux   /vmlinuz-linux
initrd  /intel-ucode.img
initrd  /initramfs-linux.img
options root="LABEL=<i>arch_os</i>" rw</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/arch-fallback.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title   Arch Linux (fallback initramfs)
linux   /vmlinuz-linux
initrd  /intel-ucode.img
initrd  /initramfs-linux-fallback.img
options root="LABEL=<i>arch_os</i>" rw</pre>
<p><i>systemd-boot</i> vai automaticamente verificar no tempo de inicialização pelo <b>Gerenciador de Boot do Windows</b> na localização <code>/EFI/Microsoft/Boot/Bootmgfw.efi</code>, <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" class="mw-redirect" title="UEFI shell">shell do UEFI</a> <code>/shellx64.efi</code> e <b>EFI Default Loader</b> (carregador padrão EFI) <code>/EFI/BOOT/bootx64.efi</code>, como também arquivos do kernel especialmente preparados em <code>/EFI/Linux</code>. Quando detectado, as entradas correspondentes com títulos <code>auto-windows</code>, <code>auto-efi-shell</code> e <code>auto-efi-default</code>, respectivamente, serão geradas. Estas entradas não precisam de configuração manual. No entanto, outras aplicações EFI não são detectadas automaticamente (diferente do <a href="../en/REFInd.html" title="REFInd">rEFInd</a>), então para inicializar o kernel Linux, entradas de boot devem ser criadas manualmente.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>As entradas de boot disponíveis que foram configuradas podem ser listadas com o comando <code>bootctl list</code>.</li>
<li>Um exemplo de arquivo de entrada está localizado em <code>/usr/share/systemd/bootctl/arch.conf</code>.</li>
<li>Os <a href="../pt/Kernel_parameters.html" class="mw-redirect" title="Parâmetros do kernel">parâmetros do kernel</a> para cenários como <a href="../pt/LVM.html" title="LVM (Português)">LVM</a>, <a href="../pt/Dm-crypt.html" class="mw-redirect" title="LUKS (Português)">LUKS</a> ou <a href="../pt/Dm-crypt.html" title="Dm-crypt (Português)">dm-crypt</a> pode ser encontrado nas páginas relevantes.</li>
</ul>
</div>
<h4>
<span id="Shells_EFI_ou_outras_aplica.C3.A7.C3.B5es_EFI"></span><span class="mw-headline" id="Shells_EFI_ou_outras_aplicações_EFI">Shells EFI ou outras aplicações EFI</span>
</h4>
<p>No caso você ter instalado <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" class="mw-redirect" title="UEFI shell">shells EFI</a> com o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=edk2-shell">edk2-shell</a></span>, <i>systemd-boot</i> vai detectar automaticamente e cirar uma nova entrada se o arquivo EFI for colocado em <code><i>esp</i>/shellx64.efi</code>.
Para fazer isso e para exemplo de comando após instalar o pacote seria:
</p>
<pre># cp /usr/share/edk2-shell/x64/Shell.efi /boot/shellx64.efi
</pre>
<p>Por outro lado, caso você tenha instalado <a href="../en/REFInd.html#Tools" title="REFInd">outros aplicativos EFI</a> na ESP, você pode usar os seguintes trechos.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O parâmetro do caminho do arquivo para a linha <code>efi</code> é relativo ao ponto de montagem da sua <i>esp</i>. Se você montou em <code>/boot</code> e seus binários EFI estão em <code>/boot/EFI/xx.efi</code> e <code>/boot/yy.efi</code>, então você deve especificar os parâmetros como <code>efi /EFI/xx.efi</code> e <code>efi /yy.efi</code> respectivamente.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/fwupd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title  Firmware updator
efi     /EFI/tools/fwupdx64.efi
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/gdisk.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title  GPT fdisk (gdisk)
efi     /EFI/tools/gdisk_x64.efi
</pre>
<h4><span class="mw-headline" id="Inicializar_a_partir_de_outro_disco">Inicializar a partir de outro disco</span></h4>
<p><i>systemd-boot</i> não pode iniciar binários de partições que não sejam a partição ESP ou XBOOTLDR, mas pode executar um script externo para fazê-lo.
</p>
<p>Primeiro precisamos instalar o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=edk2-shell">edk2-shell</a></span> (será o interpretador a ser usado) e usando o shell EFI (como explicado acima) podemos usar o comando <i>map</i> para anotar o <b>FS alias</b> (ex: HD0a66666a2) e o <b>caminho</b> completo do arquivo EFI de destino (ex: EFI\Microsoft\Boot\Bootmgfw.efi).
</p>
<p>Em seguida, usando o comando <i>exit</i>, podemos inicializar novamente no Linux, onde podemos criar a nova entrada.
Para isso precisamos primeiro criar na raiz do ponto de montagem <i>esp</i> um nome de arquivo <i>.nsh</i> com o alias FS, dois pontos e o caminho EFI, aqui um exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/windows.nsh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">HD0a66666a2:EFI\Microsoft\Boot\Bootmgfw.efi
</pre>
<p>Uma vez que criamos este arquivo, podemos continuar criando a entrada do carregador para executar o script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/windows.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title  Windows
efi     /shellx64.efi
options -nointerrupt -noconsolein -noconsoleout windows.nsh
</pre>
<p>É importante que o caminho <i>efi</i> corresponda onde o edk2-shell foi copiado na partição <i>esp</i>, e o último argumento das opções corresponda ao nome do arquivo <i>.nsh</i> na raiz da partição <i> esp</i>. Observe também que o arquivo EFI edk2-shell pode ser movido para evitar a criação automática de entrada de <i>systemd-boot</i>.
</p>
<h3>
<span id="Inicializando_para_a_configura.C3.A7.C3.A3o_de_Firmware_EFI"></span><span class="mw-headline" id="Inicializando_para_a_configuração_de_Firmware_EFI">Inicializando para a configuração de Firmware EFI</span>
</h3>
<p><i>systemd-boot</i> adicionará automaticamente uma entrada para inicializar na configuração do firmware UEFI se o firmware do seu dispositivo suportar a reinicialização na configuração do sistema operacional.
</p>
<h3>
<span id="Suporte_a_hiberna.C3.A7.C3.A3o"></span><span class="mw-headline" id="Suporte_a_hibernação">Suporte a hibernação</span>
</h3>
<p>Veja <a href="../pt/Power_management/Suspend_and_hibernate.html" class="mw-redirect" title="Suspensão e hibernação">Suspensão e hibernação</a>.
</p>
<h3>
<span id="Editor_de_par.C3.A2metros_do_kernel_protegido_por_senha"></span><span class="mw-headline" id="Editor_de_parâmetros_do_kernel_protegido_por_senha">Editor de parâmetros do kernel protegido por senha</span>
</h3>
<p>Alternativamente você pode instalar <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-boot-password/">systemd-boot-password</a></span><sup><small>AUR</small></sup> que suporta configuração básica da opção <code>password</code>. Use <code>sbpctl generate</code> para gerar um valor para esta opção.
</p>
<p>Instale <i>systemd-boot-password</i> com o seguinte comando:
</p>
<pre># sbpctl install <i>esp</i>
</pre>
<p>Com o editor habilitado, vai ser solicitado sua senha antes que você possa editar os parâmetros do kernel.
</p>
<h2><span class="mw-headline" id="Dicas_e_truques">Dicas e truques</span></h2>
<h3>
<span id="Teclas_dentro_do_menu_de_inicializa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Teclas_dentro_do_menu_de_inicialização">Teclas dentro do menu de inicialização</span>
</h3>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 7 systemd-boot"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-boot.7#KEY_BINDINGS">systemd-boot(7) § KEY BINDINGS</a></span> para as associações de teclas disponíveis dentro do menu de inicialização.
</p>
<h3>
<span id="Escolhendo_a_pr.C3.B3xima_inicializa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Escolhendo_a_próxima_inicialização">Escolhendo a próxima inicialização</span>
</h3>
<p>O gerenciador de boot é integrado com o comando systemctl, permitindo escolher que opção você quer inicializar depois de reiniciar. Por exemplo, suponha que você tenha compilado um kernel customizado e criou um arquivo de entrada <code><i>esp</i>/loader/entries/arch-custom.conf</code> para inicializar ele, você pode executar
</p>
<pre>$ systemctl reboot --boot-loader-entry=arch-custom.conf
</pre>
<p>e seu sistema irá reiniciar nesta entrada mantendo a opção padrão intacta para inicializações subsequentes. Para ver uma lista de entradas possíveis use a opção <code>--boot-loader-entry=help</code>.
</p>
<p>Se você quer inicializar no firmware da sua placa-mãe diretamente, você pode usar esse comando:
</p>
<pre>$ systemctl reboot --firmware-setup
</pre>
<h3><span class="mw-headline" id="Imagens_de_kernel_unificadas">Imagens de kernel unificadas</span></h3>
<p><a href="../pt/Unified_kernel_image.html" class="mw-redirect" title="Imagens de kernel unificadas">Imagens de kernel unificadas</a> em <code><i>esp</i>/EFI/Linux/</code> são originadas automaticamente pelo <i>systemd-boot</i> e não precisam de uma entrada em <code><i>esp</i>/loader/entries</code>. (Observe que as imagens de kernel unificadas devem ter uma extensão <code>.efi</code> para serem identificadas por <i>systemd-boot</i>.)
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Arquivos em <code><i>esp</i>/loader/entries</code> serão inicializados primeiro se nenhum <code>default</code> estiver definido em <code><i>esp</i>/loader/loader.conf</code>. Remova essas entradas ou defina o padrão com o nome completo do arquivo, ou seja, <code>default archlinux-linux.efi</code>
</div>
<h3><span class="mw-headline" id="Grml_na_ESP">Grml na ESP</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> As seguintes instruções não são exclusivas para Grml. Com leves ajustes, instalar outro software (p. ex., <a rel="nofollow" class="external text" href="https://www.system-rescue-cd.org/">SystemRescueCD</a>) é possível.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Um <code>PKGBUILD</code> está disponível: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grml-systemd-boot/">grml-systemd-boot</a></span><sup><small>AUR</small></sup>.</div>
<p><a rel="nofollow" class="external text" href="https://grml.org/">Grml</a> é um pequeno sistema live com uma coleção de software para administração e recuperação do sistema.
</p>
<p>Para instalar Grml na ESP, precisamos somente copiar o kernel <code>vmlinuz</code>, o initramfs <code>initrd.img</code>, e a squashed image (Imagem compactada com sistema de arquivos somente leitura) <code>grml64-small.squashfs</code> do arquivo iso para a ESP. Para fazer isso, primeiro baixe a <a rel="nofollow" class="external text" href="https://grml.org/">grml64-small.iso</a> e monte o arquivo (o ponto de montagem desse exemplo é <i>mnt</i>); o kernel e initramfs estão localizados em <code><i>mnt</i>/boot/grml64small/</code>, e a squashed image reside em <code><i>mnt</i>/live/grml64-small/</code>.
</p>
<p>Depois, crie um diretório para Grml na sua ESP,
</p>
<pre># mkdir -p <i>esp</i>/grml
</pre>
<p>e copie os arquivos mencionados acima para lá:
</p>
<pre># cp <i>mnt</i>/boot/grml64small/vmlinuz <i>esp</i>/grml
# cp <i>mnt</i>/boot/grml64small/initrd.img <i>esp</i>/grml
# cp <i>mnt</i>/live/grml64-small/grml64-small.squashfs <i>esp</i>/grml
</pre>
<p>no último passo, crie uma entrada para o carregador do systemd-boot: em <code><i>esp</i>/loader/entries</code> crie um arquivo <code>grml.conf</code> com o seguinte conteúdo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>esp</i>/loader/entries/grml.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title   Grml Live Linux
linux   /grml/vmlinuz
initrd  /grml/initrd.img
options apm=power-off boot=live live-media-path=/grml/ nomce net.ifnames=0</pre>
<p>Para uma visão geral das opções de boot disponíveis, consulte <a rel="nofollow" class="external text" href="https://git.grml.org/?p=grml-live.git;a=blob_plain;f=templates/GRML/grml-cheatcodes.txt;hb=HEAD">cheatcode for Grml</a>.
</p>
<h3><span class="mw-headline" id="systemd-boot_em_sistemas_BIOS">systemd-boot em sistemas BIOS</span></h3>
<p>Se você precisa de um gerenciador de boot para sistemas BIOS que segue a <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/boot_loader_specification/">Boot Loader Specification</a>, o <i>systemd-boot</i> pode funcionar. O gerenciador de boot <a href="../en/Clover.html" title="Clover">Clover</a> suporta inicializar de sistemas BIOS e oferece um ambiente EFI simulado.
</p>
<h2>
<span id="Resolu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Resolução_de_problemas">Resolução de problemas</span>
</h2>
<h3><span class="mw-headline" id="Instalando_depois_de_inicializar_no_modo_BIOS">Instalando depois de inicializar no modo BIOS</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Isto não é recomendado.</div>
<p>Se inicializou no modo BIOS, você ainda pode instalar o <i>systemd-boot</i>, no entanto este processo precisa que você fale ao firmware para lançar o arquivo EFI do <i>systemd-boot</i> na inicialização, normalmente por meio de duas maneiras:
</p>
<ul>
<li>você tem um Shell EFI funcionando em algum outro lugar.</li>
<li>sua interface de firmware oferece uma maneira de apropriadamente definir o arquivo EFI que precisa ser carregado na inicialização.</li>
</ul>
<p>Se você pode fazer isto, a instalação é mais fácil: vai para seu Shell EFI ou a interface de configuração do firmware e mude o arquivo EFI padrão da sua máquina para <code><i>esp</i>/EFI/systemd/systemd-bootx64.efi</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A interface do firmware das máquinas Dell da linha Latitude oferece tudo que você precisa para configurar a inicialização EFI mas o Shell EFI não poderá escrever para a ROM do computador.</div>
<h3><span class="mw-headline" id="Entrada_manual_usando_efibootmgr">Entrada manual usando efibootmgr</span></h3>
<p>Se o comando <code>bootctl install</code> falhou, você pode criar uma entrada de boot EFI manualmente usando <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span>:
</p>
<pre># efibootmgr --create --disk /dev/sd<i>X</i> --part <i>Y</i> --loader "\EFI\systemd\systemd-bootx64.efi" --label "Gerenciador de Boot do Linux" --unicode
</pre>
<p>Onde <code>/dev/sd<i>XY</i></code> é a <a href="../pt/EFI_system_partition.html" class="mw-redirect" title="Partição de sistema EFI">partição de sistema EFI</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O caminho para a imagem EFI deve usar a barra invertida (<code>\</code>) como o separador</div>
<h3><span class="mw-headline" id="Entrada_manual_usando_bcdedit_do_Windows">Entrada manual usando bcdedit do Windows</span></h3>
<p>Se por alguma razão você precisa criar uma entrada de boot EFI pelo Windows, você pode usar os seguintes comandos em um prompt de administrador:
</p>
<pre>&gt; bcdedit /copy {bootmgr} /d "Gerenciador de Boot do Linux"
&gt; bcdedit /set {<i>guid</i>} path \EFI\systemd\systemd-bootx64.efi
</pre>
<p>Mude <code><i>guid</i></code> para o id retornado pelo primeiro comando. Você pode também defini-lo como a entrada padrão usando
</p>
<pre>&gt; bcdedit /default {<i>guid</i>}
</pre>
<h3>
<span id="Menu_n.C3.A3o_aparece_depois_de_atualiza.C3.A7.C3.A3o_do_Windows"></span><span class="mw-headline" id="Menu_não_aparece_depois_de_atualização_do_Windows">Menu não aparece depois de atualização do Windows</span>
</h3>
<p>Veja <a href="../en/Unified_Extensible_Firmware_Interface.html#Windows_changes_boot_order" class="mw-redirect" title="UEFI">UEFI#Windows changes boot order</a>.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li><a rel="nofollow" class="external free" href="https://systemd.io/BOOT/">https://systemd.io/BOOT/</a></li>
<li><a rel="nofollow" class="external free" href="https://github.com/systemd/systemd/tree/master/src/boot/efi">https://github.com/systemd/systemd/tree/master/src/boot/efi</a></li>
<li><a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=254374">https://bbs.archlinux.org/viewtopic.php?id=254374</a></li>
<li><a rel="nofollow" class="external free" href="https://uapi-group.org/specifications/specs/boot_loader_specification/">https://uapi-group.org/specifications/specs/boot_loader_specification/</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Boot_loaders.html" title="Category:Boot loaders (Português)">Boot loaders (Português)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd-boot_(Portugu%C3%AAs)&amp;oldid=806959">https://wiki.archlinux.org/index.php?title=Systemd-boot_(Português)&amp;oldid=806959</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 April 2024, at 07:06.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
