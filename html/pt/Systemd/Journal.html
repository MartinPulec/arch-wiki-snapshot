<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd (Português)/Journal (Português) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_Português_Journal_Português rootpage-Systemd_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Nível_de_prioridade" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#N%C3%ADvel_de_prioridade">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Nível de prioridade</div>
		</a>
		
		<ul id="toc-Nível_de_prioridade-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Facilidade" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Facilidade">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Facilidade</div>
		</a>
		
		<ul id="toc-Facilidade-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Filtrando_saída" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Filtrando_sa%C3%ADda">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Filtrando saída</div>
		</a>
		
		<ul id="toc-Filtrando_saída-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Limite_no_tamanho_do_journal" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Limite_no_tamanho_do_journal">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Limite no tamanho do journal</div>
		</a>
		
		<ul id="toc-Limite_no_tamanho_do_journal-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Limpar_arquivos_de_journal_manualmente" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Limpar_arquivos_de_journal_manualmente">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Limpar arquivos de journal manualmente</div>
		</a>
		
		<ul id="toc-Limpar_arquivos_de_journal_manualmente-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Journald_em_conjunto_com_o_syslog" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Journald_em_conjunto_com_o_syslog">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Journald em conjunto com o syslog</div>
		</a>
		
		<ul id="toc-Journald_em_conjunto_com_o_syslog-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Encaminhar_journald_para_/dev/tty12" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Encaminhar_journald_para_/dev/tty12">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Encaminhar journald para /dev/tty12</div>
		</a>
		
		<ul id="toc-Encaminhar_journald_para_/dev/tty12-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Especificar_um_journal_diferente_para_ver" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Especificar_um_journal_diferente_para_ver">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Especificar um journal diferente para ver</div>
		</a>
		
		<ul id="toc-Especificar_um_journal_diferente_para_ver-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd (Português)/Journal (Português)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/Systemd/Journal.html" title="Systemd/Journal – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Systemd/Journal.html" title="Systemd (Español)/Journal – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../../fr/Systemd/Journal.html" title="Systemd (Français)/Journal – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd/%E3%82%B8%E3%83%A3%E3%83%BC%E3%83%8A%E3%83%AB" title="Systemd/ジャーナル – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../../ru/Systemd/Journal.html" title="Systemd (Русский)/Journal – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd/Journal" title="Systemd/Journal – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../pt/Systemd.html" title="Systemd (Português)">Systemd (Português)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="pt" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../../en/Systemd/Journal.html" title="Systemd/Journal">systemd/Journal</a>. Data da última tradução: 2019-10-13. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd/Journal&amp;diff=0&amp;oldid=583479">alterações</a> na versão em inglês.</div>
<p><i>systemd</i> tem o seu próprio sistema de registro chamado de o journal e, portanto, a execução de uma daemon <code>syslog</code> não é mais necessário. Para ler o registro, utilize:
</p>
<pre># journalctl
</pre>
<p>No Arch Linux, o diretório <code>/var/log/journal/</code> faz parte do pacote <i>systemd</i> e o journal (quando <code>Storage=</code> está definido para <code>auto</code> em <code>/etc/systemd/journald.conf</code>) vai escrever para <code>/var/log/journal/</code>. Se você ou algum programa excluir esse diretório, systemd <b>não</b> vai recriá-lo automaticamente e, em vez disso,vai escrever seus logs em <code>/run/systemd/journal</code> em uma forma não persistente. Porém, a pasta será recriada quando você definir <code>Storage=persistent</code> e <a href="../../pt/Systemd.html#Usando_units" class="mw-redirect" title="Reiniciar">reiniciar</a> <code>systemd-journald.service</code> (ou reinicializar o sistema).
</p>
<p>O journal do systemd classifica mensagens por <a href="#N%C3%ADvel_de_prioridade">nível de prioridade</a> e <a href="#Facilidade">facilidade</a>. A classificação de registro de logs corresponde ao clássico protocolo do <a href="https://en.wikipedia.org/wiki/pt:Syslog" class="extiw" title="wikipedia:pt:Syslog">Syslog</a> (<a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc5424">RFC 5424</a>).
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="N.C3.ADvel_de_prioridade"></span><span class="mw-headline" id="Nível_de_prioridade">Nível de prioridade</span>
</h2>
<p>Um código de severidade do syslog (em systemd chamado de prioridade) é usado para marcar a importância de uma mensagem <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc5424#section-6.2.1">RFC 5424 Seção 6.2.1</a>.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Valor</th>
<th>Severidade</th>
<th>Palavra-chave</th>
<th>Descrição</th>
<th>Exemplos
</th>
</tr>
<tr>
<td>0</td>
<td>Emergência</td>
<td>emerg</td>
<td>Sistema não está usável</td>
<td>BUG de kernel severo, núcleo do systemd despejado.<br>Esse nível não deve ser usado por aplicativos.
</td>
</tr>
<tr>
<td>1</td>
<td>Alerta</td>
<td>alert</td>
<td>Deve ser corrigido imediatamente</td>
<td>Subsistema vital parou de funcionar. Perda de dados. <br><code>kernel: BUG: unable to handle kernel paging request at ffffc90403238ffc</code>.
</td>
</tr>
<tr>
<td>2</td>
<td>Crítico</td>
<td>crit</td>
<td>Condições críticas</td>
<td>Travamentos, despejos de núcleo. Como flash familiar:<br><code>systemd-coredump[25319]: Process 25310 (plugin-containe) of user 1000 dumped core</code><br>Falha no aplicativo de sistema principal, como o X11.
</td>
</tr>
<tr>
<td>3</td>
<td>Erro</td>
<td>err</td>
<td>Condições de erro</td>
<td>Erro não severo relatado:<br><code>kernel: usb 1-3: 3:1: cannot get freq at ep 0x84</code>,<br><code>systemd[1]: Failed unmounting /var.</code>,<br><code>libvirtd[1720]: internal error: Failed to initialize a valid firewall backend</code>.
</td>
</tr>
<tr>
<td>4</td>
<td>Aviso</td>
<td>warning</td>
<td>Pode indicar que um erro vai ocorrer se uma ação não for tomada.</td>
<td>Um sistema de arquivos não raiz tem apenas 1GB livre.<br><code>org.freedesktop. Notifications[1860]: (process:5999): Gtk-WARNING **: Locale not supported by C library. Using the fallback 'C' locale</code>.
</td>
</tr>
<tr>
<td>5</td>
<td>Nota</td>
<td>notice</td>
<td>Eventos que são incomuns, mas não condições de erro.</td>
<td>
<code>systemd[1]: var.mount: Directory /var to mount over is not empty, mounting anyway</code>. <code>gcr-prompter[4997]: Gtk: GtkDialog mapped without a transient parent. This is discouraged</code>.
</td>
</tr>
<tr>
<td>6</td>
<td>Informacional</td>
<td>info</td>
<td>Mensagens de operação normais que exigem nenhuma ação.</td>
<td>
<code>lvm[585]:   7 logical volume(s) in volume group "archvg" now active</code>.
</td>
</tr>
<tr>
<td>7</td>
<td>Depuração</td>
<td>debug</td>
<td>Informações úteis para desenvolvedores para depurar o aplicativo.</td>
<td>
<code>kdeinit5[1900]: powerdevil: Scheduling inhibition from ":1.14" "firefox" with cookie 13 and reason "screen"</code>.
</td>
</tr>
</tbody>
</table>
<p>Se você não encontrar uma mensagem no nível de prioridade esperado, pesquise também alguns níveis acima e abaixo: essas regras são recomendações, e o desenvolvedor do aplicativo afetado pode ter uma percepção diferente da importância do problema.
</p>
<h2><span class="mw-headline" id="Facilidade">Facilidade</span></h2>
<p>Um código de facilidade syslog é usado para especificar o tipo de programa que está registrando a mensagem <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc5424#section-6.2.1">RFC 5424 Seção 6.2.1</a>.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Código de facilidade</th>
<th>Palavra-chave</th>
<th>Descrição</th>
<th>Informação
</th>
</tr>
<tr>
<td>0</td>
<td>kern</td>
<td>mensagens de kernel
</td>
</tr>
<tr>
<td>1</td>
<td>user</td>
<td>mensagens de nível de usuário
</td>
</tr>
<tr>
<td>2</td>
<td>mail</td>
<td>sistema de correio</td>
<td>O POSIX arcaico ainda tem suporte e é por vezes usado (para mais <span class="plainlinks archwiki-template-man" title="$ man 1 mail"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mail.1">mail(1)</a></span>)
</td>
</tr>
<tr>
<td>3</td>
<td>daemon</td>
<td>daemons de sistemas</td>
<td>Todos os daemons, incluindo systemd e seus subsistemas
</td>
</tr>
<tr>
<td>4</td>
<td>auth</td>
<td>mensagens de segurança/autorização</td>
<td>Também monitora a facilidade 10
</td>
</tr>
<tr>
<td>5</td>
<td>syslog</td>
<td>mensagens geradas internamente pelo syslogd</td>
<td>Padronizado para syslog, não sendo usado pelo systemd (veja facilidade 3)
</td>
</tr>
<tr>
<td>6</td>
<td>lpr</td>
<td>subsistema de impressora de linha (subsistema arcaico)
</td>
</tr>
<tr>
<td>7</td>
<td>news</td>
<td>subsistema de notícias de rede (subsistema arcaico)
</td>
</tr>
<tr>
<td>8</td>
<td>uucp</td>
<td>subsistema UUCP (subsistema arcaico)
</td>
</tr>
<tr>
<td>9</td>
<td></td>
<td>daemon de relógio</td>
<td>systemd-timesyncd
</td>
</tr>
<tr>
<td>10</td>
<td>authpriv</td>
<td>mensagens de segurança/autorização</td>
<td>Também monitora a facilidade 4
</td>
</tr>
<tr>
<td>11</td>
<td>ftp</td>
<td>daemon FTP
</td>
</tr>
<tr>
<td>12</td>
<td>-</td>
<td>subsistema NTP
</td>
</tr>
<tr>
<td>13</td>
<td>-</td>
<td>auditoria de log
</td>
</tr>
<tr>
<td>14</td>
<td>-</td>
<td>alerta de log
</td>
</tr>
<tr>
<td>15</td>
<td>cron</td>
<td>daemon de agendamento
</td>
</tr>
<tr>
<td>16</td>
<td>local0</td>
<td>uso local 0  (local0)
</td>
</tr>
<tr>
<td>17</td>
<td>local1</td>
<td>uso local 1  (local1)
</td>
</tr>
<tr>
<td>18</td>
<td>local2</td>
<td>uso local 2  (local2)
</td>
</tr>
<tr>
<td>19</td>
<td>local3</td>
<td>uso local 3  (local3)
</td>
</tr>
<tr>
<td>20</td>
<td>local4</td>
<td>uso local 4  (local4)
</td>
</tr>
<tr>
<td>21</td>
<td>local5</td>
<td>uso local 5  (local5)
</td>
</tr>
<tr>
<td>22</td>
<td>local6</td>
<td>uso local 6  (local6)
</td>
</tr>
<tr>
<td>23</td>
<td>local7</td>
<td>uso local 7  (local7)
</td>
</tr>
</tbody>
</table>
<p>Então, facilidades que é útil monitorar: 0,1,3,4,9,10,15.
</p>
<h2>
<span id="Filtrando_sa.C3.ADda"></span><span class="mw-headline" id="Filtrando_saída">Filtrando saída</span>
</h2>
<p><i>journalctl</i> permite filtrar a saída por campos específicos. Esteja ciente de que, se houver muitas mensagens para exibir ou filtrar um grande intervalo de tempo, a saída desse comando poderá ser atrasada por algum tempo.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Sendo o journal armazenado em um formato binário, o conteúdo das mensagens armazenadas não é modificado. Isso significa que ele é visível com <i>strings</i>, por exemplo, para recuperação em um ambiente que não tenha <i>systemd</i> instalado. Exemplo de comando:
<pre>$ strings /mnt/arch/var/log/journal/af4967d77fba44c6b093d0e9862f6ddd/system.journal | grep -i <i>mensagem</i></pre>
</div>
<p>Exemplos:
</p>
<ul>
<li>Mostrar todas mensagens desta inicialização: <pre># journalctl -b</pre> No entanto, muitas vezes, alguém está interessado em mensagens que não são da atual, mas da inicialização anterior (por exemplo, se uma falha irrecuperável de sistema ocorrer). Isso é possível através do parâmetro de deslocamento opcional da opção <code>-b</code>: <code>journalctl -b -0</code> mostra mensagens da inicialização atual, <code>journalctl -b -1</code> da inicialização anterior, <code>journalctl -b -2</code> da segunda anterior e por aí vai – você pode ver a lista de inicializações com seus números usando <code>journalctl --list-boots</code>. Veja <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> para descrição completa, a semântica é muito mais poderosa.</li>
<li>Mostrar todas as mensagens da data (e hora opcional): <pre># journalctl --since="2012-10-30 18:17:16"</pre>
</li>
<li>Mostrar todas as mensagens desde 20 minutos atrás: <pre># journalctl --since "20 min ago"</pre>
</li>
<li>Seguir novas mensagens: <pre># journalctl -f</pre>
</li>
<li>Mostrar novas mensagens por um executável específico: <pre># journalctl /usr/lib/systemd/systemd</pre>
</li>
<li>Mostrar todas as mensagens por um processo específico: <pre># journalctl _PID=1</pre>
</li>
<li>Mostrar todas as mensagens por uma unit específica: <pre># journalctl -u man-db.service</pre>
</li>
<li>Mostrar o <i>ring buffer</i> do kernel: <pre># journalctl -k</pre>
</li>
<li>Mostrar apenas mensagens de prioridade de erro, crítico e alerta <pre># journalctl -p err..alert</pre> Números também podem ser usados, <code>journalctl -p 3..1</code>. Se somente um número/uma palavra-chave usado(a), <code>journalctl -p 3</code> - todos os níveis de prioridade maiores também são incluídos.</li>
<li>Mostrar equivalente a auth.log filtrando na facilidade do syslog: <pre># journalctl SYSLOG_FACILITY=10</pre>
</li>
<li>Se o diretório do journal (por padrão, localizado sob <code>/var/log/journal</code>) contém quantidade imensa de dados de log, então <code>journalctl</code> pode levar vários minutos filtrando a saída. Você pode acelerar significativamente usando a opção <code>--file</code> para forçar o <code>journalctl</code> a procurar apenas no journal mais recente: <pre># journalctl --file /var/log/journal/*/system.journal -f</pre>
</li>
</ul>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.journal-fields"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.journal-fields.7">systemd.journal-fields(7)</a></span> ou a <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/journalctl.html">publicação de blogue</a> do  Lennart para detalhes.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Por padrão, <i>journalctl</i> trunca linhas maiores que a largura da tela, mas em alguns casos pode ser melhor habilitar <i>wrapping</i> em vez de trucamento'. Isso pode ser controlado pela <a href="../../pt/Environment_variables.html" class="mw-redirect" title="Variável de ambiente">variável de ambiente</a> <code>SYSTEMD_LESS</code>, que contém opções passadas ao <a href="../../pt/Core_utilities.html#Essenciais" class="mw-redirect" title="Utilitários principais">less</a> (o paginador padrão) e usa como padrão <code>FRSXMK</code> (veja <span class="plainlinks archwiki-template-man" title="$ man 1 less"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/less.1">less(1)</a></span> e <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> para detalhes).
<p>Ao omitir a opção <code>S</code>, a saída estará sob <i>wrap</i> em vez de truncamento. Por exemplo, inicie <i>journalctl</i> da seguinte forma:
</p>
<pre>$ SYSTEMD_LESS=FRXMK journalctl
</pre>
Se você quiser definir esse comportamento como padrão, <a href="../../pt/Environment_variables.html#Por_usu%C3%A1rio" class="mw-redirect" title="Variável de ambiente">exporte</a> a variável a partir de <code>~/.bashrc</code> ou <code>~/.zshrc</code>.</div>
<h2><span class="mw-headline" id="Limite_no_tamanho_do_journal">Limite no tamanho do journal</span></h2>
<p>Se o journal é persistente (não volátil), seu tamanho limite é definido para um valor padrão de 10% do tamanho do respectivo sistema de arquivos, mas limitado a 4 GB. Por exemplo, com o <code>/var/log/journal</code> localizado em uma partição de 20 GB, o journal pode usar até 2 GB. Em uma partição de 50 GB, ela usaria no máximo até 4 GB.
</p>
<p>O tamanho máximo do journal persistente pode ser controlado removendo o comentário e alterando o seguinte:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SystemMaxUse=50M</pre>
<p>Também é possível usar o mecanismo de substituição de configuração de snippets de <i>drop-in</i>, em vez de editar o arquivo de configuração global. Neste caso, não esqueça de colocar as sobrescrições no cabeçalho <code>[Journal]</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf.d/00-journal-size.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Journal]
SystemMaxUse=50M</pre>
<p><a href="../../pt/Systemd.html#Usando_units" class="mw-redirect" title="Reinicie">Reinicie</a> o <code>systemd-journald.service</code> após alterar essa configuração para aplicar imediatamente o novo limite.
</p>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 5 journald.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journald.conf.5">journald.conf(5)</a></span> para mais informações.
</p>
<h2><span class="mw-headline" id="Limpar_arquivos_de_journal_manualmente">Limpar arquivos de journal manualmente</span></h2>
<p>Os arquivos de journal podem ser removidos globalmente de <code>/var/log/journal/</code> usando, por exemplo, <code>rm</code> ou podem ser aparados de acordo com vários critérios usando <code>journalctl</code> . Exemplos:
</p>
<ul>
<li>Remova arquivos de journal armazenados até que o espaço em disco que eles usam fique abaixo de 100 MB: <pre># journalctl --vacuum-size=100M</pre>
</li>
<li>Faça com que todos os arquivos de diário não contenham dados com mais de 2 semanas. <pre># journalctl --vacuum-time=2weeks</pre>
</li>
</ul>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> para mais informações.
</p>
<h2><span class="mw-headline" id="Journald_em_conjunto_com_o_syslog">Journald em conjunto com o syslog</span></h2>
<p>Compatibilidade com uma implementação clássica, sem journald, do <a href="../../en/Syslog-ng.html" title="Syslog-ng">syslog</a> pode ser fornecida deixando o <i>systemd</i> encaminhar  todas as mensagens pelo soquete <code>/run/systemd/journal/syslog</code>. Para fazer funcionar o daemon do syslog com o journal, ele tem que associar a este soquete em vez de <code>/dev/log</code> (<a rel="nofollow" class="external text" href="https://lwn.net/Articles/474968/">anúncio oficial</a>).
</p>
<p>O <code>journald.conf</code> padrão para encaminhar para o soquete é <code>ForwardToSyslog=no</code> para evitar sobrecarga de sistema, porque <a href="../../en/Rsyslog.html" title="Rsyslog">rsyslog</a> ou <a href="../../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a> obtêm as mensagens do journal <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/systemd-devel/2014-August/022295.html#journald">eles mesmo</a>. 
</p>
<p>Veja <a href="../../en/Syslog-ng.html#Overview" title="Syslog-ng">Syslog-ng#Overview</a> e <a href="../../en/Syslog-ng.html#syslog-ng_and_systemd_journal" title="Syslog-ng">Syslog-ng#syslog-ng and systemd journal</a> e <a href="../../en/Rsyslog.html" title="Rsyslog">rsyslog</a>, para detalhes sobre a configuração.
</p>
<h2>
<span id="Encaminhar_journald_para_.2Fdev.2Ftty12"></span><span class="mw-headline" id="Encaminhar_journald_para_/dev/tty12">Encaminhar journald para /dev/tty12</span>
</h2>
<p>Crie um <a href="../../pt/Systemd.html#Editando_units_fornecidas" title="Systemd (Português)">diretório de <i>drop-in</i></a> <code>/etc/systemd/journald.conf.d</code> e crie um arquivo <code>fw-tty12.conf</code> nele:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf.d/fw-tty12.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Journal]
ForwardToConsole=yes
TTYPath=/dev/tty12
MaxLevelConsole=info</pre>
<p>Então, <a href="../../pt/Systemd.html#Usando_units" class="mw-redirect" title="Reinicie">reinicie</a> <code>systemd-journald.service</code>.
</p>
<h2><span class="mw-headline" id="Especificar_um_journal_diferente_para_ver">Especificar um journal diferente para ver</span></h2>
<p>Pode ser necessário verificar os logs de outro sistema que esteja inativo na água, como a inicialização de um sistema ativo para recuperar um sistema de produção. Nesse caso, pode-se montar o disco em, p. ex., <code>/mnt</code> e especificar o caminho do journal via <code>-D</code>/<code>--directory</code>, assim:
</p>
<pre>$ journalctl -D <i>/mnt</i>/var/log/journal -xe
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../pt/Category:Logging.html" title="Category:Logging (Português)">Logging (Português)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd_(Portugu%C3%AAs)/Journal_(Portugu%C3%AAs)&amp;oldid=767101">https://wiki.archlinux.org/index.php?title=Systemd_(Português)/Journal_(Português)&amp;oldid=767101</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 9 February 2023, at 06:39.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
