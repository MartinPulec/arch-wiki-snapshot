<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Português)/Package signing (Português) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Português_Package_signing_Português rootpage-Pacman_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Configuração" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Configuração</div>
		</a>
		
			<button aria-controls="toc-Configuração-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuração subsection</span>
			</button>
		
		<ul id="toc-Configuração-sublist" class="vector-toc-list">
			<li id="toc-Configurando_o_pacman" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configurando_o_pacman">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Configurando o pacman</div>
			</a>
			
			<ul id="toc-Configurando_o_pacman-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Inicializando_o_chaveiro" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Inicializando_o_chaveiro">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Inicializando o chaveiro</div>
			</a>
			
			<ul id="toc-Inicializando_o_chaveiro-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Gerenciando_o_chaveiro" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Gerenciando_o_chaveiro">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Gerenciando o chaveiro</div>
		</a>
		
			<button aria-controls="toc-Gerenciando_o_chaveiro-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Gerenciando o chaveiro subsection</span>
			</button>
		
		<ul id="toc-Gerenciando_o_chaveiro-sublist" class="vector-toc-list">
			<li id="toc-Verificando_as_chaves_mestras" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Verificando_as_chaves_mestras">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Verificando as chaves mestras</div>
			</a>
			
			<ul id="toc-Verificando_as_chaves_mestras-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adicionando_as_chaves_de_desenvolvedor" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adicionando_as_chaves_de_desenvolvedor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Adicionando as chaves de desenvolvedor</div>
			</a>
			
			<ul id="toc-Adicionando_as_chaves_de_desenvolvedor-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adicionando_chaves_não_oficiais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adicionando_chaves_n%C3%A3o_oficiais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Adicionando chaves não oficiais</div>
			</a>
			
			<ul id="toc-Adicionando_chaves_não_oficiais-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Depurando_com_gpg" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Depurando_com_gpg">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Depurando com gpg</div>
			</a>
			
			<ul id="toc-Depurando_com_gpg-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dicas_e_truques" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Dicas_e_truques">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Dicas e truques</div>
		</a>
		
			<button aria-controls="toc-Dicas_e_truques-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dicas e truques subsection</span>
			</button>
		
		<ul id="toc-Dicas_e_truques-sublist" class="vector-toc-list">
			<li id="toc-Atualize_o_sistema_regularmente" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualize_o_sistema_regularmente">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Atualize o sistema regularmente</div>
			</a>
			
			<ul id="toc-Atualize_o_sistema_regularmente-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualize_o_horário_do_sistema_regularmente" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualize_o_hor%C3%A1rio_do_sistema_regularmente">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Atualize o horário do sistema regularmente</div>
			</a>
			
			<ul id="toc-Atualize_o_horário_do_sistema_regularmente-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solução_de_problemas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Solu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Solução de problemas</div>
		</a>
		
			<button aria-controls="toc-Solução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solução de problemas subsection</span>
			</button>
		
		<ul id="toc-Solução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Erros_de_assinatura_inválida" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erros_de_assinatura_inv%C3%A1lida">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Erros de assinatura inválida</div>
			</a>
			
			<ul id="toc-Erros_de_assinatura_inválida-sublist" class="vector-toc-list">
				<li id="toc-Removendo_pacotes_do_cache" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Removendo_pacotes_do_cache">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Removendo pacotes do cache</div>
			</a>
			
			<ul id="toc-Removendo_pacotes_do_cache-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Redefinindo_todas_as_chaves" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Redefinindo_todas_as_chaves">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2</span>Redefinindo todas as chaves</div>
			</a>
			
			<ul id="toc-Redefinindo_todas_as_chaves-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desabilitando_a_verificação_de_assinatura" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Desabilitando_a_verifica%C3%A7%C3%A3o_de_assinatura">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.3</span>Desabilitando a verificação de assinatura</div>
			</a>
			
			<ul id="toc-Desabilitando_a_verificação_de_assinatura-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Não_foi_possível_importar_chaves" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#N%C3%A3o_foi_poss%C3%ADvel_importar_chaves">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Não foi possível importar chaves</div>
			</a>
			
			<ul id="toc-Não_foi_possível_importar_chaves-sublist" class="vector-toc-list">
				<li id="toc-Atualize_o_sistema" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Atualize_o_sistema">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.1</span>Atualize o sistema</div>
			</a>
			
			<ul id="toc-Atualize_o_sistema-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Altere_o_servidor_de_chaves" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Altere_o_servidor_de_chaves">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.2</span>Altere o servidor de chaves</div>
			</a>
			
			<ul id="toc-Altere_o_servidor_de_chaves-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Limpe_os_pacotes_em_cache" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Limpe_os_pacotes_em_cache">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.3</span>Limpe os pacotes em cache</div>
			</a>
			
			<ul id="toc-Limpe_os_pacotes_em_cache-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Assinatura_tem_confiança_desconhecida" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Assinatura_tem_confian%C3%A7a_desconhecida">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Assinatura tem confiança desconhecida</div>
			</a>
			
			<ul id="toc-Assinatura_tem_confiança_desconhecida-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualizando_chaves_via_proxy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualizando_chaves_via_proxy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Atualizando chaves via proxy</div>
			</a>
			
			<ul id="toc-Atualizando_chaves_via_proxy-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Veja também</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">pacman (Português)/Package signing (Português)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 8 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-8" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">8 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Pacman-key" title="Pacman-key – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/Pacman/Package_signing.html" title="Pacman/Package signing – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Pacman/Package_signing.html" title="Pacman (Español)/Package signing – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../../fr/Pacman/Package_signing.html" title="Pacman (Français)/Package signing – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-it mw-list-item"><a href="../../it/Pacman/Package_signing.html" title="Pacman (Italiano)/Package signing – italiano" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Pacman/%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E7%BD%B2%E5%90%8D" title="Pacman/パッケージの署名 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../../ru/Pacman/Package_signing.html" title="Pacman (Русский)/Package signing – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Pacman/Package_signing" title="Pacman/Package signing – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../pt/Pacman.html" title="Pacman (Português)">Pacman (Português)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../../en/Pacman/Package_signing.html" title="Pacman/Package signing">Pacman/Package signing</a>. Data da última tradução: 2023-10-25. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Pacman/Package_signing&amp;diff=0&amp;oldid=790986">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../../en/GnuPG.html" title="GnuPG">GnuPG</a></li>
<li><a href="../../en/ArchWiki:Archive.html" class="mw-redirect" title="DeveloperWiki:Package signing">DeveloperWiki:Package signing</a></li>
</ul>
</div>
<p>Para determinar se os pacotes são autênticos, o <i>pacman</i> usa <a rel="nofollow" class="external text" href="https://www.gnupg.org/">chaves GnuPG</a> em um modelo de <a rel="nofollow" class="external text" href="https://www.gnupg.org/gph/en/manual.html#AEN385">rede de confiança</a>. As Chaves Mestras de Assinatura (<i>Master Signing Keys</i>) são encontradas <a rel="nofollow" class="external text" href="https://archlinux.org/master-keys/">aqui</a>. Pelo menos três dessas Chaves Mestras de Assinatura são usadas para assinar as chaves de Desenvolvedores e de Mantenedores de Pacote. Elas são, então, usadas para assinar seus pacotes. Cada usuário também possui uma chave PGP única, a qual é gerada quando você configura <i>pacman-key</i>. É essa rede de confiança que liga a chave do usuário às chaves mestras.
</p>
<p>Exemplos de redes de confiança:
</p>
<ul>
<li>
<b>Pacotes personalizados</b>: Pacotes feitos e assinados com uma chave local.</li>
<li>
<b>Pacotes não oficiais</b>: Pacotes feitos e assinados por um desenvolvedor. Então, uma chave local foi usada assinar aquela chave de desenvolvedor.</li>
<li>
<b>Pacotes oficiais</b>: Pacotes feitos e assinados por um desenvolvedor. A chave do desenvolvedor foi assinada pelas chaves mestras do Arch Linux. Você usou sua chave para assinar as chaves mestras e você confia nelas como garantia dos desenvolvedores.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O protocolo HKP usa 11371/tcp para comunicação. Para obter as chaves assinadas dos servidores (usando <i>pacman-key</i>), essa porta é necessária para comunicação.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id="Configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Configuração">Configuração</span>
</h2>
<h3><span class="mw-headline" id="Configurando_o_pacman">Configurando o pacman</span></h3>
<p>A opção <code>SigLevel</code> no <code>/etc/pacman.conf</code> determina o nível de confiança exigido para instalar um pacote com <code>pacman -S</code>. Para uma explicação detalhada de <code>SigLevel</code>, veja <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5#PACKAGE_AND_DATABASE_SIGNATURE_CHECKING">pacman.conf(5) § PACKAGE AND DATABASE SIGNATURE CHECKING</a></span> e os comentários no arquivo. É possível configurar uma verificação de assinatura global ou por repositório. Se <code>SigLevel</code> estiver definido globalmente na seção <code>[options]</code>, todos os pacotes instalados com <code>pacman -S</code> vão exigir assinatura. Com a configuração <code>LocalFileSigLevel</code> do <code>pacman.conf</code> padrão, quaisquer pacotes que você compile e instale com <code>pacman -U</code>, não precisarão ser assinados usando <i>makepkg</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Apesar de todos os pacotes oficiais serem agora assinados, desde Novembro de 2018 a assinatura da base de dados é um <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=242258">trabalho em progresso</a>. Se <code>Required</code> estiver definido, então <code>DatabaseOptional</code> também deve ser definido.</div>
<p>Para pacotes remotos, a configuração padrão terá suporte apenas à instalação de pacotes que estão assinados pelas chaves confiadas:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SigLevel = Required DatabaseOptional</pre>
<p>Isso porque <code>TrustedOnly</code> é um parâmetro padrão compilado no <i>pacman</i>. A configuração padrão é idêntica a usar a opção global de:
</p>
<pre>SigLevel = Required DatabaseOptional TrustedOnly
</pre>
<p>A linha acima pode ser obtida a nível de repositório mais abaixo na configuração, p.ex.:
</p>
<pre>[core]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist
</pre>
<p>adiciona explicitamente verificação de assinatura para pacotes do repositório, mas não exige que o banco de dados seja assinado. <code>Optional</code> aqui desligaria um <code>Required</code> global para esse repositório.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> A opção de SigLevel <code>TrustAll</code> existe para propósito de depuração e facilita muito confiar em chaves que não foram verificadas. Você deve usar <code>TrustedOnly</code> para todos os repositórios oficiais.</div>
<h3><span class="mw-headline" id="Inicializando_o_chaveiro">Inicializando o chaveiro</span></h3>
<p>Para inicializar o chaveiro (<i>keyring</i>) do <i>pacman</i>, execute:
</p>
<pre># pacman-key --init
</pre>
<h2><span class="mw-headline" id="Gerenciando_o_chaveiro">Gerenciando o chaveiro</span></h2>
<h3><span class="mw-headline" id="Verificando_as_chaves_mestras">Verificando as chaves mestras</span></h3>
<p>A configuração inicial de chaves é alcançada usando:
</p>
<pre># pacman-key --populate
</pre>
<p>Tire um tempo para verificar as <a rel="nofollow" class="external text" href="https://archlinux.org/master-keys/">Chaves Mestras de Assinatura</a> quando solicitado, pois estes são usados para coassinar (e, portanto, confiar) todas as outras chaves do empacotador.
</p>
<p>As chaves PGP são muito grandes (2048 bits ou mais) para que os humanos trabalhem com elas, então eles geralmente são <i>hashed</i> para criar uma impressão digital de 40 dígitos que pode ser usada para verificar manualmente que duas chaves são iguais. Os últimos oito dígitos da impressão digital servem como um nome para a chave conhecida como "ID da chave (curta)" (os últimos <i> dezesseis </i> dígitos da impressão digital seriam 'ID da chave longa').
</p>
<h3><span class="mw-headline" id="Adicionando_as_chaves_de_desenvolvedor">Adicionando as chaves de desenvolvedor</span></h3>
<p>As chaves oficiais de Desenvolvedores e de <a href="../../pt/Package_Maintainers.html" class="mw-redirect" title="Mantenedores de pacote">Mantenedores de pacote</a> são assinadas pelas chaves mestras, então você não precisa usar <i>pacman-key</i> para assiná-las você mesmo. Sempre que o <i>pacman</i> encontra uma chave que ele não reconhece, ele solicitará fazer o download de um chaveiro (<code>keyserver</code>) configurado no <code>/etc/pacman.d/gnupg/gpg.conf</code> (ou usando a opção <code>--keyserver</code> na linha de comando). O Wikipédia mantém uma <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)" class="extiw" title="wikipedia:Key server (cryptographic)">lista de servidores de chave</a>.
</p>
<p>Depois de ter baixado uma chave do desenvolvedor, você não terá que baixá-la novamente e pode ser usada para verificar quaisquer outros pacotes assinados por esse desenvolvedor.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span>, que é uma dependência de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span>, contém as chaves mais recentes. No entanto, as chaves também podem ser atualizadas manualmente usando <code>pacman-key --refresh-keys</code> (como root). Ao fazer <code>--refresh-keys</code>, sua chave local também será pesquisada no servidor de chaves remoto e você receberá uma mensagem sobre o fato de não ser encontrada. Isso não é motivo para se preocupar.</div>
<h3>
<span id="Adicionando_chaves_n.C3.A3o_oficiais"></span><span class="mw-headline" id="Adicionando_chaves_não_oficiais">Adicionando chaves não oficiais</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Explique como implementar pacotes de chaveiros personalizados seguindo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span>. (Discuss in <a href="../../en/Talk:Pacman/Package_signing.html#Addition_of_guide_to_create_unofficial_keyrings" title="Talk:Pacman/Package signing">Talk:Pacman/Package_signing#Addition_of_guide_to_create_unofficial_keyrings</a>)</div>
</div>
<p>}}
</p>
<p>Esse método pode ser usado para adicionar uma chave ao chaveiro do <i>pacman</i>, ou para permitir <a href="../../en/Unofficial_user_repositories.html" title="Unofficial user repositories">repositórios não oficiais de usuários</a> assinados.
</p>
<p>Primeiro, obtenha o <b>ID de chave</b> (<code><i>id-chave</i></code>) de seu dono. Então, adicione-o ao chaveiro usando um dos métodos abaixo:
</p>
<ol>
<li>Se a chave estiver localizado em um servidor de chave, importe-a com: <pre># pacman-key --recv-keys<i>id-chave</i></pre>
</li>
<li>Caso contrário, se um link para um arquivo de chave for fornecido, baixe-a e então execute: <pre># pacman-key --add <i>/caminho/para/arquivo/de/chave</i></pre>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Dentro de pacotes oficiais, você vai encontrar as chaves gpg que precisam ser importadas sob <code>keys/pgp/</code> dentro da raiz do repositório.</div>
<p>É recomendado verificar a impressão digital, assim como qualquer chave mestra ou outra chave que você vai assinar:
</p>
<pre>$ pacman-key --finger <i>id-chave</i>
</pre>
<p>Finalmente, você deve assinar localmente a chave importada:
</p>
<pre># pacman-key --lsign-key <i>id-chave</i>
</pre>
<p>Agora, você confia nessa chave para assinar pacotes.
</p>
<h3><span class="mw-headline" id="Depurando_com_gpg">Depurando com gpg</span></h3>
<p>Para fins de depuração, você pode acessar o chaveiro do <i>pacman</i> diretamente com <i>gpg</i>, p.ex.:
</p>
<pre># gpg --homedir /etc/pacman.d/gnupg --list-keys
</pre>
<h2><span class="mw-headline" id="Dicas_e_truques">Dicas e truques</span></h2>
<h3><span class="mw-headline" id="Atualize_o_sistema_regularmente">Atualize o sistema regularmente</span></h3>
<p>Atualizar o sistema regularmente via <a href="../../pt/Pacman.html#Atualizando_pacotes" title="Pacman (Português)">pacman (Português)#Atualizando pacotes</a> previne a maioria dos erros de assinatura. Se o atraso for inevitável e a atualização do sistema for atrasada por um longo período, sincronize manualmente o banco de dados do pacote e atualize o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> antes da atualização do sistema:
</p>
<pre># pacman -Sy archlinux-keyring &amp;&amp; pacman -Su
</pre>
<p>Este comando não é considerado uma <a href="../../pt/System_maintenance.html#Sem_suporte_a_atualiza%C3%A7%C3%B5es_parciais" class="mw-redirect" title="Atualização parcial">atualização parcial</a>, pois sincroniza o banco de dados do pacote e atualiza o pacote de chaveiro primeiro. Ambos devem ser processados antes de iniciar a atualização do sistema para garantir que as assinaturas de todos os pacotes atualizados possam ser verificadas corretamente.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Desde <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archlinux-keyring/-/commit/ad8698e96c423dfc68405b547f310f2e1075a95d">29 de julho de 2022</a>, <code>archlinux-keyring-wkd-sync.service</code> e o <a href="../../pt/Systemd/Timers.html" class="mw-redirect" title="Timer de systemd">timer de systemd</a> associado foram criados e habilitados por padrão, resolvendo os problemas de <code>assinatura de "<i>Algum desenvolvedor</i> &lt;<i>email_do_desenvolvedor</i>@archlinux.org&gt;" tem confiança marginal</code> (por exemplo, <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=278332">BBS#278332</a>) sem exigir qualquer intervenção do usuário, obtendo novas assinaturas de chaves já confiadas uma vez por semana.</div>
<h3>
<span id="Atualize_o_hor.C3.A1rio_do_sistema_regularmente"></span><span class="mw-headline" id="Atualize_o_horário_do_sistema_regularmente">Atualize o horário do sistema regularmente</span>
</h3>
<p>Quando o <a href="../../en/System_time.html" title="System time">horário do sistema</a> estiver com defeito, as chaves de assinatura podem ser consideradas expiradas (ou inválidas) e as verificações de assinatura nos pacotes falharão. Sincronize o relógio do sistema regularmente usando o <a href="../../en/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon">Network Time Protocol daemon</a>.
</p>
<h2>
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Solução_de_problemas">Solução de problemas</span>
</h2>
<h3>
<span id="Erros_de_assinatura_inv.C3.A1lida"></span><span class="mw-headline" id="Erros_de_assinatura_inválida">Erros de assinatura inválida</span>
</h3>
<p>O <i>pacman-key</i> depende do <a href="../../en/System_time.html" title="System time">horário do sistema</a>. Se o relógio do sistema não estiver sincronizado, instalação/atualização do sistema pode falhar com:
</p>
<pre>erro: pacote: assinatura de "Usuário &lt;email@archlinux.org&gt;" é inválida
erro: falha ao submeter transação (pacote inválido ou corrompido (assinatura PGP))
Ocorreram erros e, portanto, nenhum pacote foi atualizado.
</pre>
<p>Se estiver usando ntpd, corrija o horário do sistema (como root) com <code>ntpd -qg</code> seguido por <code>hwclock -w</code>.
</p>
<p>Outros clientes NTP podem ser usados. Consulte <a href="../../en/System_time.html#Time_synchronization" class="mw-redirect" title="Time synchronization">sincronização de tempo</a>.
</p>
<p>Se a correção do relógio do sistema não resolver a falha, tente uma das seguintes abordagens:
</p>
<h4><span class="mw-headline" id="Removendo_pacotes_do_cache">Removendo pacotes do cache</span></h4>
<p>Alguns pacotes podem estar corrompidos ou não assinados, causando falha. Remova cada pacote incorreto do cache do sistema <code>rm /var/cache/pacman/pkg/<i>pkgname</i></code> para que ele seja baixado recentemente, ou <a href="../../pt/Pacman.html#Limpando_o_cache_de_pacotes" title="Pacman (Português)">apague todo o cache</a>.
</p>
<h4><span class="mw-headline" id="Redefinindo_todas_as_chaves">Redefinindo todas as chaves</span></h4>
<p>Remova ou redefina todas as chaves instaladas em seu sistema removendo o diretório <code>/etc/pacman.d/gnupg</code> (como root) e executando novamente <code>pacman-key --init</code> seguido por <code>pacman-key --populate</code> para adicionar novamente as chaves padrão.
</p>
<h4>
<span id="Desabilitando_a_verifica.C3.A7.C3.A3o_de_assinatura"></span><span class="mw-headline" id="Desabilitando_a_verificação_de_assinatura">Desabilitando a verificação de assinatura</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Use isso com cuidado. Desabilitar assinatura de pacotes vai permitir que o <i>pacman</i> instale pacotes não confiáveis.</div>
<p>Se você não estiver preocupado com a assinatura do pacote, poderá desabilitar completamente a verificação de assinatura PGP. Edite <code>/etc/pacman.conf</code> para ter as seguintes linhas no <code>[options]</code>:
</p>
<pre>SigLevel = Never
#LocalFileSigLevel = Optional
#RemoteFileSigLevel = Required
</pre>
<p>Você precisa comentar quaisquer configurações específicas de <code>SigLevel</code> do repositório porque elas substituem as configurações globais. Isso resultará em nenhuma verificação de assinatura, que era o comportamento antes do pacman 4. Se você fizer isso, você não precisa configurar um chaveiro com <i>pacman-key</i>. Você pode alterar essas opções posteriormente se decidir habilitar a verificação do pacote.
</p>
<h3>
<span id="N.C3.A3o_foi_poss.C3.ADvel_importar_chaves"></span><span class="mw-headline" id="Não_foi_possível_importar_chaves">Não foi possível importar chaves</span>
</h3>
<p>Existem várias fontes possíveis deste problema:
</p>
<ul>
<li>Um pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> desatualizado.</li>
<li>O relógio está definido com uma data incorreta.</li>
<li>Seu provedor de internet bloqueou a porta usada para importar chaves PGP.</li>
<li>Seu cache do <i>pacman</i> contém cópia de pacotes não assinados de tentativas anteriores.</li>
<li>
<code>dirmngr</code> não está configurado corretamente.</li>
</ul>
<p>Você pode estar travado por causa do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> estar desatualizado, ao fazer uma sincronização de atualização.
</p>
<p>Abaixo estão algumas soluções que podem funcionar dependendo do seu caso.
</p>
<h4><span class="mw-headline" id="Atualize_o_sistema">Atualize o sistema</span></h4>
<p>Veja se <a href="../../pt/Pacman.html#Atualizando_pacotes" title="Pacman (Português)">atualizar o sistema</a> consegue corrigir isso primeiro.
</p>
<h4><span class="mw-headline" id="Altere_o_servidor_de_chaves">Altere o servidor de chaves</span></h4>
<p>Se você suspeitar que algo não está funcionando corretamente com o servidor de chaves, tente mudar para o servidor de chaves do Ubuntu. Para fazer isso, edite <code>/etc/pacman.d/gnupg/gpg.conf</code> e altere a linha <code>keyserver</code> para:
</p>
<pre>keyserver hkp://keyserver.ubuntu.com
</pre>
<h4><span class="mw-headline" id="Limpe_os_pacotes_em_cache">Limpe os pacotes em cache</span></h4>
<p>Se você suspeita que seu cache do pacman em <code>/var/cache/pacman/pkg/</code> pode conter pacotes não assinados, tente apagar o cache manualmente ou executar:
</p>
<pre># pacman -Sc
</pre>
<p>o que remove todos os pacotes em cache que não foram instalados.
</p>
<h3>
<span id="Assinatura_tem_confian.C3.A7a_desconhecida"></span><span class="mw-headline" id="Assinatura_tem_confiança_desconhecida">Assinatura tem confiança desconhecida</span>
</h3>
<p>Algumas vezes ao executar <code>pacman -Syu</code>, você pode encontrar esse erro:
</p>
<pre>error: <i>nome-pacote</i>: a assinatura de "<i>empacotador</i>" tem confiança desconhecida
</pre>
<p>Isso ocorre porque a chave do <code><i>empacotador</i></code> usada no pacote <code><i>nome-pacote</i></code> não está presente e/ou não é confiável no banco de dados gpg local do pacman-key. O Pacman parece não conseguir sempre verificar se a chave foi recebida e marcada como confiável antes de continuar. Isso também pode ocorrer porque uma chave expirou desde que foi adicionada ao seu chaveiro.
</p>
<p>Mitigue:
</p>
<ul>
<li>
<a href="#Atualize_o_sistema_regularmente">Atualizando manualmente o pacote archlinux-keyring antes de atualizar o sistema</a> ou</li>
<li>atualizando suas chaves com <code>pacman-key --refresh-keys</code> ou</li>
<li>
<a href="#Adicionando_chaves_n%C3%A3o_oficiais">assinando manualmente a chave não confiável localmente</a> (não recomendado) ou</li>
<li>definindo temporariamente <code>SigLevel</code> com <code>TrustAll</code> (não recomendado).</li>
</ul>
<p>As duas últimas opções acima quebram a cadeia de confianças e devem ser usadas com cuidado.
</p>
<h3><span class="mw-headline" id="Atualizando_chaves_via_proxy">Atualizando chaves via proxy</span></h3>
<p>Para usar um proxy ao atualizar chaves, a opção <code>honor-http-proxy</code> deve ser configurar em ambos <code>/etc/gnupg/dirmngr.conf</code> e <code>/etc/pacman.d/gnupg/dirmngr.conf</code>. Veja <a href="../../en/GnuPG.html#Use_a_keyserver" title="GnuPG">GnuPG#Use a keyserver</a> para mais informações.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se o <i>pacman-key</i> for usado sem a opção <code>honor-http-proxy</code> e falhar, uma reinicialização pode resolver o problema.</div>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li><a href="../../en/ArchWiki:Archive.html" class="mw-redirect" title="DeveloperWiki:Package Signing Proposal for Pacman">DeveloperWiki:Package Signing Proposal for Pacman</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-1-makepkg-and-repo-add/">Pacman Package Signing – 1: Makepkg and Repo-add</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-2-pacman-key/">Pacman Package Signing – 2: Pacman-key</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/08/pacman-package-signing-3-pacman/">Pacman Package Signing – 3: Pacman</a></li>
<li><a rel="nofollow" class="external text" href="http://allanmcrae.com/2011/12/pacman-package-signing-4-arch-linux/">Pacman Package Signing – 4: Arch Linux</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../pt/Category:Package_manager.html" title="Category:Package manager (Português)">Package manager (Português)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Portugu%C3%AAs)/Package_signing_(Portugu%C3%AAs)&amp;oldid=791079">https://wiki.archlinux.org/index.php?title=Pacman_(Português)/Package_signing_(Português)&amp;oldid=791079</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 25 October 2023, at 18:28.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
