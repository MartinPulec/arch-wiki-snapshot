<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GRUB (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GRUB_Português rootpage-GRUB_Português skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Sistemas_UEFI" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Sistemas_UEFI">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Sistemas UEFI</span>
			</div>
		</a>
		
			<button aria-controls="toc-Sistemas_UEFI-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Sistemas UEFI subsection</span>
			</button>
		
		<ul id="toc-Sistemas_UEFI-sublist" class="vector-toc-list">
			<li id="toc-Instalação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Instalação</span>
				</div>
			</a>
			
			<ul id="toc-Instalação-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Sistemas_BIOS" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Sistemas_BIOS">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Sistemas BIOS</span>
			</div>
		</a>
		
			<button aria-controls="toc-Sistemas_BIOS-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Sistemas BIOS subsection</span>
			</button>
		
		<ul id="toc-Sistemas_BIOS-sublist" class="vector-toc-list">
			<li id="toc-Instruções_específicas_de_Tabela_de_Partição_GUID_(GPT)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instru%C3%A7%C3%B5es_espec%C3%ADficas_de_Tabela_de_Parti%C3%A7%C3%A3o_GUID_(GPT)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Instruções específicas de Tabela de Partição GUID (GPT)</span>
				</div>
			</a>
			
			<ul id="toc-Instruções_específicas_de_Tabela_de_Partição_GUID_(GPT)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instruções_específicas_de_Master_Boot_Record_(MBR)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instru%C3%A7%C3%B5es_espec%C3%ADficas_de_Master_Boot_Record_(MBR)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>Instruções específicas de Master Boot Record (MBR)</span>
				</div>
			</a>
			
			<ul id="toc-Instruções_específicas_de_Master_Boot_Record_(MBR)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalação_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>Instalação</span>
				</div>
			</a>
			
			<ul id="toc-Instalação_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuração" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Configuração</span>
			</div>
		</a>
		
			<button aria-controls="toc-Configuração-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuração subsection</span>
			</button>
		
		<ul id="toc-Configuração-sublist" class="vector-toc-list">
			<li id="toc-grub.cfg_gerado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#grub.cfg_gerado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1</span>
					<span>grub.cfg gerado</span>
				</div>
			</a>
			
			<ul id="toc-grub.cfg_gerado-sublist" class="vector-toc-list">
				<li id="toc-Gerar_o_arquivo_de_configuração_principal" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.1</span>
					<span>Gerar o arquivo de configuração principal</span>
				</div>
			</a>
			
			<ul id="toc-Gerar_o_arquivo_de_configuração_principal-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Detectando_outros_sistemas_operacionais" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Detectando_outros_sistemas_operacionais">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.2</span>
					<span>Detectando outros sistemas operacionais</span>
				</div>
			</a>
			
			<ul id="toc-Detectando_outros_sistemas_operacionais-sublist" class="vector-toc-list">
				<li id="toc-Windows" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Windows">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.2.1</span>
					<span>Windows</span>
				</div>
			</a>
			
			<ul id="toc-Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Argumentos_adicionais" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Argumentos_adicionais">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.3</span>
					<span>Argumentos adicionais</span>
				</div>
			</a>
			
			<ul id="toc-Argumentos_adicionais-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-LVM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#LVM">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.4</span>
					<span>LVM</span>
				</div>
			</a>
			
			<ul id="toc-LVM-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-RAID" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#RAID">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.5</span>
					<span>RAID</span>
				</div>
			</a>
			
			<ul id="toc-RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/boot_criptografado" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#/boot_criptografado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.6</span>
					<span>/boot criptografado</span>
				</div>
			</a>
			
			<ul id="toc-/boot_criptografado-sublist" class="vector-toc-list">
				<li id="toc-LUKS2" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#LUKS2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.1.6.1</span>
					<span>LUKS2</span>
				</div>
			</a>
			
			<ul id="toc-LUKS2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-grub.cfg_personalizado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#grub.cfg_personalizado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2</span>
					<span>grub.cfg personalizado</span>
				</div>
			</a>
			
			<ul id="toc-grub.cfg_personalizado-sublist" class="vector-toc-list">
				<li id="toc-Exemplos_de_entrada_de_menu_de_boot" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Exemplos_de_entrada_de_menu_de_boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1</span>
					<span>Exemplos de entrada de menu de boot</span>
				</div>
			</a>
			
			<ul id="toc-Exemplos_de_entrada_de_menu_de_boot-sublist" class="vector-toc-list">
				<li id="toc-Comandos_do_GRUB" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Comandos_do_GRUB">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.1</span>
					<span>Comandos do GRUB</span>
				</div>
			</a>
			
			<ul id="toc-Comandos_do_GRUB-sublist" class="vector-toc-list">
				<li id="toc-Entrada_de_menu_&quot;Desligar&quot;" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Entrada_de_menu_&quot;Desligar&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.1.1</span>
					<span>Entrada de menu "Desligar"</span>
				</div>
			</a>
			
			<ul id="toc-Entrada_de_menu_&quot;Desligar&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Entrada_de_menu_&quot;Reiniciar&quot;" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Entrada_de_menu_&quot;Reiniciar&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.1.2</span>
					<span>Entrada de menu "Reiniciar"</span>
				</div>
			</a>
			
			<ul id="toc-Entrada_de_menu_&quot;Reiniciar&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Entrada_de_menu_&quot;Configuração_do_firmware_UEFI&quot;" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Entrada_de_menu_&quot;Configura%C3%A7%C3%A3o_do_firmware_UEFI&quot;">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.1.3</span>
					<span>Entrada de menu "Configuração do firmware UEFI"</span>
				</div>
			</a>
			
			<ul id="toc-Entrada_de_menu_&quot;Configuração_do_firmware_UEFI&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Binarios_de_EFI" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Binarios_de_EFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.2</span>
					<span>Binarios de EFI</span>
				</div>
			</a>
			
			<ul id="toc-Binarios_de_EFI-sublist" class="vector-toc-list">
				<li id="toc-Shell_de_UEFI" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Shell_de_UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.2.1</span>
					<span>Shell de UEFI</span>
				</div>
			</a>
			
			<ul id="toc-Shell_de_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-gdisk" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#gdisk">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.2.2</span>
					<span>gdisk</span>
				</div>
			</a>
			
			<ul id="toc-gdisk-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Carregando_uma_imagem_de_kernel_unificada" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Carregando_uma_imagem_de_kernel_unificada">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.2.3</span>
					<span>Carregando uma imagem de kernel unificada</span>
				</div>
			</a>
			
			<ul id="toc-Carregando_uma_imagem_de_kernel_unificada-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Dual_boot" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Dual_boot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.3</span>
					<span>Dual boot</span>
				</div>
			</a>
			
			<ul id="toc-Dual_boot-sublist" class="vector-toc-list">
				<li id="toc-GNU/Linux" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#GNU/Linux">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.3.1</span>
					<span>GNU/Linux</span>
				</div>
			</a>
			
			<ul id="toc-GNU/Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_instalado_em_modo_UEFI/GPT" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Windows_instalado_em_modo_UEFI/GPT">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.3.2</span>
					<span>Windows instalado em modo UEFI/GPT</span>
				</div>
			</a>
			
			<ul id="toc-Windows_instalado_em_modo_UEFI/GPT-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_instalado_em_modo_BIOS/MBR" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Windows_instalado_em_modo_BIOS/MBR">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.3.3</span>
					<span>Windows instalado em modo BIOS/MBR</span>
				</div>
			</a>
			
			<ul id="toc-Windows_instalado_em_modo_BIOS/MBR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Usando_rótulos" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Usando_r%C3%B3tulos">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">3.2.1.4</span>
					<span>Usando rótulos</span>
				</div>
			</a>
			
			<ul id="toc-Usando_rótulos-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usando_o_shell_de_comandos" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Usando_o_shell_de_comandos">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Usando o shell de comandos</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usando_o_shell_de_comandos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usando o shell de comandos subsection</span>
			</button>
		
		<ul id="toc-Usando_o_shell_de_comandos-sublist" class="vector-toc-list">
			<li id="toc-Suporte_a_paginador" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suporte_a_paginador">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Suporte a paginador</span>
				</div>
			</a>
			
			<ul id="toc-Suporte_a_paginador-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usando_o_ambiente_shell_de_comandos_para_iniciar_sistemas_operacionais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_o_ambiente_shell_de_comandos_para_iniciar_sistemas_operacionais">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Usando o ambiente shell de comandos para iniciar sistemas operacionais</span>
				</div>
			</a>
			
			<ul id="toc-Usando_o_ambiente_shell_de_comandos_para_iniciar_sistemas_operacionais-sublist" class="vector-toc-list">
				<li id="toc-Carregando_o_VBR_de_uma_partição" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Carregando_o_VBR_de_uma_parti%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.1</span>
					<span>Carregando o VBR de uma partição</span>
				</div>
			</a>
			
			<ul id="toc-Carregando_o_VBR_de_uma_partição-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Carregando_o_MBR_de_um_disco_ou_o_VBR_de_um_disco_sem_partição" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Carregando_o_MBR_de_um_disco_ou_o_VBR_de_um_disco_sem_parti%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.2</span>
					<span>Carregando o MBR de um disco ou o VBR de um disco sem partição</span>
				</div>
			</a>
			
			<ul id="toc-Carregando_o_MBR_de_um_disco_ou_o_VBR_de_um_disco_sem_partição-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Carregando_Windows/Linux_instalado_em_modo_UEFI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Carregando_Windows/Linux_instalado_em_modo_UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.3</span>
					<span>Carregando Windows/Linux instalado em modo UEFI</span>
				</div>
			</a>
			
			<ul id="toc-Carregando_Windows/Linux_instalado_em_modo_UEFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Carregamento_normal" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Carregamento_normal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2.4</span>
					<span>Carregamento normal</span>
				</div>
			</a>
			
			<ul id="toc-Carregamento_normal-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Usando_o_console_de_recuperação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_o_console_de_recupera%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Usando o console de recuperação</span>
				</div>
			</a>
			
			<ul id="toc-Usando_o_console_de_recuperação-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Remoção_do_GRUB" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Remo%C3%A7%C3%A3o_do_GRUB">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Remoção do GRUB</span>
			</div>
		</a>
		
		<ul id="toc-Remoção_do_GRUB-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Solução_de_problemas" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Solu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Solução de problemas</span>
			</div>
		</a>
		
			<button aria-controls="toc-Solução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solução de problemas subsection</span>
			</button>
		
		<ul id="toc-Solução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Sistemas_de_arquivos_sem_suporte" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sistemas_de_arquivos_sem_suporte">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Sistemas de arquivos sem suporte</span>
				</div>
			</a>
			
			<ul id="toc-Sistemas_de_arquivos_sem_suporte-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Habilitar_mensagens_de_depuração" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Habilitar_mensagens_de_depura%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Habilitar mensagens de depuração</span>
				</div>
			</a>
			
			<ul id="toc-Habilitar_mensagens_de_depuração-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mensagem_de_erro_sobre_estilo_msdos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mensagem_de_erro_sobre_estilo_msdos">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Mensagem de erro sobre estilo msdos</span>
				</div>
			</a>
			
			<ul id="toc-Mensagem_de_erro_sobre_estilo_msdos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UEFI">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4</span>
					<span>UEFI</span>
				</div>
			</a>
			
			<ul id="toc-UEFI-sublist" class="vector-toc-list">
				<li id="toc-Erros_comuns_de_instalação" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Erros_comuns_de_instala%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.1</span>
					<span>Erros comuns de instalação</span>
				</div>
			</a>
			
			<ul id="toc-Erros_comuns_de_instalação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Criar_uma_entrada_do_GRUB_no_gerenciador_de_boot_do_firmware" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Criar_uma_entrada_do_GRUB_no_gerenciador_de_boot_do_firmware">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.2</span>
					<span>Criar uma entrada do GRUB no gerenciador de boot do firmware</span>
				</div>
			</a>
			
			<ul id="toc-Criar_uma_entrada_do_GRUB_no_gerenciador_de_boot_do_firmware-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Descartar_o_shell_de_recuperação" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Descartar_o_shell_de_recupera%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.3</span>
					<span>Descartar o shell de recuperação</span>
				</div>
			</a>
			
			<ul id="toc-Descartar_o_shell_de_recuperação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UEFI_do_GRUB_não_carregado" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#UEFI_do_GRUB_n%C3%A3o_carregado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.4</span>
					<span>UEFI do GRUB não carregado</span>
				</div>
			</a>
			
			<ul id="toc-UEFI_do_GRUB_não_carregado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Caminho_de_inicialização_padrão/reserva" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Caminho_de_inicializa%C3%A7%C3%A3o_padr%C3%A3o/reserva">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.4.5</span>
					<span>Caminho de inicialização padrão/reserva</span>
				</div>
			</a>
			
			<ul id="toc-Caminho_de_inicialização_padrão/reserva-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Assinatura_inválida" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Assinatura_inv%C3%A1lida">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.5</span>
					<span>Assinatura inválida</span>
				</div>
			</a>
			
			<ul id="toc-Assinatura_inválida-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Inicialização_congelando" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Inicializa%C3%A7%C3%A3o_congelando">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.6</span>
					<span>Inicialização congelando</span>
				</div>
			</a>
			
			<ul id="toc-Inicialização_congelando-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Arch_não_encontrado_por_outros_sistemas_operacionais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Arch_n%C3%A3o_encontrado_por_outros_sistemas_operacionais">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.7</span>
					<span>Arch não encontrado por outros sistemas operacionais</span>
				</div>
			</a>
			
			<ul id="toc-Arch_não_encontrado_por_outros_sistemas_operacionais-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Aviso_ao_instalar_em_chroot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Aviso_ao_instalar_em_chroot">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.8</span>
					<span>Aviso ao instalar em chroot</span>
				</div>
			</a>
			
			<ul id="toc-Aviso_ao_instalar_em_chroot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_carrega_lentamente" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB_carrega_lentamente">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.9</span>
					<span>GRUB carrega lentamente</span>
				</div>
			</a>
			
			<ul id="toc-GRUB_carrega_lentamente-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-erro:_sistema_de_arquivos_desconhecido" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#erro:_sistema_de_arquivos_desconhecido">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.10</span>
					<span>erro: sistema de arquivos desconhecido</span>
				</div>
			</a>
			
			<ul id="toc-erro:_sistema_de_arquivos_desconhecido-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-grub-reboot_não_está_redefinido" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#grub-reboot_n%C3%A3o_est%C3%A1_redefinido">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.11</span>
					<span>grub-reboot não está redefinido</span>
				</div>
			</a>
			
			<ul id="toc-grub-reboot_não_está_redefinido-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-BTRFS_antigo_impede_a_instalação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#BTRFS_antigo_impede_a_instala%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.12</span>
					<span>BTRFS antigo impede a instalação</span>
				</div>
			</a>
			
			<ul id="toc-BTRFS_antigo_impede_a_instalação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_8/10_não_encontrado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Windows_8/10_n%C3%A3o_encontrado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.13</span>
					<span>Windows 8/10 não encontrado</span>
				</div>
			</a>
			
			<ul id="toc-Windows_8/10_não_encontrado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Recuperação_do_GRUB_e_/boot_criptografado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Recupera%C3%A7%C3%A3o_do_GRUB_e_/boot_criptografado">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.14</span>
					<span>Recuperação do GRUB e /boot criptografado</span>
				</div>
			</a>
			
			<ul id="toc-Recuperação_do_GRUB_e_/boot_criptografado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GRUB_está_instalado,_mas_o_menu_não_é_mostrado_na_inicialização" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GRUB_est%C3%A1_instalado,_mas_o_menu_n%C3%A3o_%C3%A9_mostrado_na_inicializa%C3%A7%C3%A3o">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.15</span>
					<span>GRUB está instalado, mas o menu não é mostrado na inicialização</span>
				</div>
			</a>
			
			<ul id="toc-GRUB_está_instalado,_mas_o_menu_não_é_mostrado_na_inicialização-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Veja também</span>
			</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">GRUB (Português)</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/GRUB.html" title="GRUB">GRUB</a>. Data da última tradução: 2022-11-14. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=GRUB&amp;diff=0&amp;oldid=753328">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../en/4f532c6d130896c1c86a9821abd1b1e6.html" class="mw-redirect" title="Processo de inicialização do Arch">Processo de inicialização do Arch</a></li>
<li><a href="../pt/Master_Boot_Record.html" class="mw-redirect" title="Master Boot Record (Português)">Master Boot Record</a></li>
<li><a href="../en/571302b977b238ea0d3a6950039311d3.html" class="mw-redirect" title="Tabela de Partição GUID">Tabela de Partição GUID</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a></li>
<li><a href="../en/GRUB_Legacy.html" title="GRUB Legacy">GRUB Legacy</a></li>
<li><a href="../en/GRUB/EFI_examples.html" title="GRUB/EFI examples">GRUB/Exemplos de EFI</a></li>
<li><a href="../en/GRUB/Tips_and_tricks.html" title="GRUB/Tips and tricks">GRUB/Dicas e truques</a></li>
<li><a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">Multiboot USB drive</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/">GRUB</a> (GRand Unified Bootloader) é um <a href="../en/Gerenciador_de_boot.html" class="mw-redirect" title="Gerenciador de boot">gerenciador de boot</a>. O GRUB atual também é chamado de <b>GRUB 2</b>. O GRUB original, ou <a href="../en/GRUB_Legacy.html" title="GRUB Legacy">GRUB Legacy</a>, corresponde às versões 0.9x. Esta página descreve exclusivamente o GRUB 2.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Em todo este artigo <code><i>esp</i></code> denota o ponto de montagem da <a href="../en/b450aee560f45947b4c8fac172bfa80f.html" class="mw-redirect" title="Partição de sistema EFI">partição de sistema EFI</a>, comumente abreviada como ESP.</div>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Sistemas_UEFI">Sistemas UEFI</h2></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>É recomendável ler e entender as páginas <a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a>, <a href="../pt/Partitioning.html#Tabela_de_Parti%C3%A7%C3%A3o_GUID" class="mw-redirect" title="Particionamento">Particionamento#Tabela de Partição GUID</a> e <a href="../en/4f532c6d130896c1c86a9821abd1b1e6.html#No_UEFI" class="mw-redirect" title="Processo de inicialização do Arch">Processo de inicialização do Arch#No UEFI</a><sup>[<a href="../pt/Help:Procedures.html#Corrigir_links_quebrados_de_se%C3%A7%C3%B5es" class="mw-redirect" title="Help:Procedimentos">link quebrado</a>: seção inválida]</sup>.</li>
<li>Ao instalar o UEFI, é importante inicializar a mídia de instalação no modo UEFI, caso contrário o <i>efibootmgr</i> não poderá adicionar a entrada de inicialização UEFI do GRUB. A instalação no <a href="#Caminho_de_inicializa%C3%A7%C3%A3o_padr%C3%A3o/reserva">caminho de inicialização reserva</a> continuará funcionando mesmo no modo BIOS, já que ele não toca na NVRAM.</li>
<li>Para inicializar a partir de um disco usando UEFI, é necessária uma partição de sistema EFI. Siga <a href="../en/b450aee560f45947b4c8fac172bfa80f.html#Verificar_uma_parti%C3%A7%C3%A3o_existente" class="mw-redirect" title="Partição de sistema EFI">Partição de sistema EFI#Verificar uma partição existente</a> para descobrir se você já tem uma, caso contrário você precisa criá-la.</li>
<li>Este artigo inteiro assume que é possível inserir módulos GRUB2 adicionais via <code>insmod</code>. Conforme discutido em <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#shim_with_key_and_GRUB" title="Unified Extensible Firmware Interface/Secure Boot">Unified Extensible Firmware Interface/Secure Boot#shim with key and GRUB</a>, esse não é o caso em sistemas UEFI com Secure Boot ativado. Se você quiser usar qualquer módulo GRUB adicional que não esteja incluído no arquivo GRUB EFI padrão <code>grubx64.efi</code> em um sistema de inicialização segura, será necessário gerar novamente o GRUB EFI <code>grubx64.efi </code> com <code>grub-mkstandalone</code> com os módulos GRUB adicionais incluídos.</li>
</ul>
</div>
<div class="mw-heading mw-heading3"><h3 id="Instalação">
<span id="Instala.C3.A7.C3.A3o"></span>Instalação</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>Os firmwares da UEFI não são implementados de forma consistente entre os fabricantes. O procedimento descrito abaixo destina-se a funcionar em uma ampla variedade de sistemas UEFI, mas os que enfrentam problemas, apesar de aplicarem esse método, são encorajados a compartilhar informações detalhadas e, se possível, as soluções alternativas encontradas para o caso específico do hardware. Um artigo <a href="../en/GRUB/EFI_examples.html" title="GRUB/EFI examples">/Exemplos de EFI</a> foi fornecido para esses casos.</li>
<li>A seção supõe que você esteja instalando o GRUB para sistemas x86_64. Para sistemas UEFI IA32 (32 bits) (não confundir com CPUs de 32 bits), substitua <code>x86_64-efi</code> por <code>i386-efi</code> onde apropriado.</li>
<li>Veja <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> para instruções sobre como implementá-lo.</li>
</ul>
</div>
<p>Primeiro, <a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">instale</a> os pacotes <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub">grub</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span>: <i>GRUB</i> é o gerenciador de boot, enquanto <i>efibootmgr</i> é usado pelo script de instalação do GRUB para escrever entradas de inicialização para NVRAM.
</p>
<p>Então, siga os seguintes passos para instalar o GRUB em seu disco:
</p>
<ol>
<li>
<a href="../en/b450aee560f45947b4c8fac172bfa80f.html#Montar_a_parti%C3%A7%C3%A3o" class="mw-redirect" title="Partição de sistema EFI">Monte a partição de sistema EFI</a> e, no restante da sessão, substitua <code><i>esp</i></code> com seu ponto de montagem.</li>
<li>Escolha um identificador de gerenciador de boot, aqui chamado <code>GRUB</code>. Um diretório com esse nome será criado em <code><i>esp</i>/EFI/</code> para armazenar o binário EFI e esse é o nome que aparecerá no menu de inicialização UEFI para identificar a entrada de inicialização do GRUB.</li>
<li>Execute o seguinte comando para instalar o aplicativo EFI do GRUB <code>grubx64.efi</code> em <code><i>esp</i>/EFI/GRUB/</code> e instalar seus módulos para <code>/boot/grub/x86_64-efi/</code>. {{Nota|Certifique-se de instalar os pacotes e executar o comando <code>grub-install</code> do sistema no qual o GRUB será instalado como o gerenciador de boot. Isso significa que se você estiver inicializando a partir do ambiente de instalação <i>live</i>, você precisa estar dentro do chroot quando estiver executando <code>grub-install</code>. Se por algum motivo for necessário executar <code>grub-install</code> de fora do sistema instalado, anexe a opção <code>--boot-directory=</code> com o caminho para o <code>/boot</code>, por exemplo, <code>--boot-directory=/mnt/boot</code>. <pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> --bootloader-id=GRUB</pre>
</li>
</ol>
<p>Após a conclusão da instalação acima, o diretório principal do GRUB está localizado em <code>/boot/grub/</code>. Leia <a href="../en/GRUB/Tips_and_tricks.html#Alternative_install_method" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Alternative install method</a> para saber como especificar um local alternativo. Note que <code>grub-install</code> também tenta <a href="#Criar_uma_entrada_do_GRUB_no_gerenciador_de_boot_do_firmware">criar uma entrada no gerenciador de boot do firmware</a>, chamado <code>GRUB</code> no exemplo acima -– isso pode, no entanto, falhar se suas entradas de inicialização estiverem lotadas; use <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="Efibootmgr">efibootmgr</a> para remover entradas desnecessárias.
</p>
<p>Lembre-se de  <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gerar o arquivo de configuração principal</a> após finalizar a configuração.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Se você usar a opção <code>--removable</code>, o GRUB será instalado em <code><i>esp</i>/EFI/BOOT/BOOTX64.EFI</code> (ou <code><i>esp</i>/EFI/BOOT/BOOTIA32.EFI</code> para o alvo <code>i386-efi</code> e você terá a capacidade adicional de poder inicializar a partir da unidade caso as variáveis EFI sejam reiniciadas ou você mover a unidade para outro computador. Normalmente, você pode fazer isso selecionando a unidade em si de forma semelhante ao uso da BIOS. Se estiver usando dual boot com o Windows, esteja ciente de que o Windows geralmente coloca um executável EFI lá, mas sua única finalidade é recriar a entrada de inicialização do UEFI para o Windows. Se você está instalando o GRUB em um <a href="../en/Mac.html" title="Mac">Mac</a>, você terá que usar esta opção.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>
<code>--efi-directory</code> e <code>--bootloader-id</code> são específicos para UEFI do GRUB, <code>--efi-directory</code> substitui <code>--root-directory</code> que está obsoleto.</li>
<li>Você pode notar a ausência de uma opção <i>caminho_dispositivo</i> (por exemplo: <code>/dev/sda</code>) no comando <code>grub-install</code>. Na verdade, qualquer <i>caminho_dispositivo</i> fornecido será ignorado pelo script de instalação do GRUB UEFI. De fato, os gerenciadores de boot de UEFI não usam um código de inicialização da MBR ou um setor de inicialização de partição.</li>
</ul>
</div>
<p>Veja a <a href="#UEFI">solução de problemas do UEFI</a> caso tenha problemas. Além disso, veja <a href="../en/GRUB/Tips_and_tricks.html#UEFI_further_reading" title="GRUB/Tips and tricks">GRUB/Tips and tricks#UEFI further reading</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Sistemas_BIOS">Sistemas BIOS</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Instruções_específicas_de_Tabela_de_Partição_GUID_(GPT)">
<span id="Instru.C3.A7.C3.B5es_espec.C3.ADficas_de_Tabela_de_Parti.C3.A7.C3.A3o_GUID_.28GPT.29"></span>Instruções específicas de Tabela de Partição GUID (GPT)</h3></div>
<p>Em uma configuração de BIOS/<a href="../pt/Partitioning.html#Tabela_de_Parti%C3%A7%C3%A3o_GUID" class="mw-redirect" title="Particionamento">GPT</a>, é necessária uma <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/BIOS-installation.html#BIOS-installation">partição de inicialização de BIOS</a>. O GRUB incorpora seu <code>core.img</code> nessa partição.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>Antes de tentar este método, lembre-se de que nem todos os sistemas poderão ter suporte a este esquema de particionamento. Leia mais sobre <a href="../pt/Partitioning.html#Tabela_de_Parti%C3%A7%C3%A3o_GUID" class="mw-redirect" title="Particionamento">Particionamento#Tabela de Partição GUID</a>.</li>
<li>A partição de inicialização de BIOS é necessária apenas pelo GRUB em uma configuração de BIOS/GPT. Em uma configuração de BIOS/MBR, o GRUB usa a lacuna pós-MBR para a incorporação do <code>core.img</code>. No GPT, no entanto, não há espaço não utilizado garantido antes da primeira partição.</li>
<li>Para sistemas <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>, essa partição extra não é necessária, pois não há incorporação de setores de inicialização nesse caso. No entanto, os sistemas UEFI ainda requerem uma <a href="../en/b450aee560f45947b4c8fac172bfa80f.html" class="mw-redirect" title="Partição de sistema EFI">partição de sistema EFI</a>.</li>
</ul>
</div>
<p>Crie uma partição de mebibyte (<code>+1M</code> com <i>fdisk</i> ou <i>gdisk</i>) no disco sem sistema de arquivos e com o tipo de partição GUID <code>21686148-6449-6E6F-744E-656564454649</code>.
</p>
<ul>
<li>Selecione o tipo de partição <code>BIOS inicialização</code> para <a href="../en/Fdisk.html" title="Fdisk">fdisk</a>.</li>
<li>Selecione o código de tipo de partição <code>ef02</code> para <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a>.</li>
<li>Para o <a href="../en/Parted.html" title="Parted">parted</a> defina/ative a opção <code>bios_grub</code> a partição.</li>
</ul>
<p>Esta partição pode estar em qualquer ordem de posição, mas deve estar nos primeiros 2 TiB do disco. Esta partição precisa ser criada antes da instalação do GRUB. Quando a partição estiver pronta, instale o gerenciador de boot conforme as instruções abaixo.
</p>
<p>O espaço antes da primeira partição também pode ser usado como partição de inicialização de BIOS, embora esteja fora da especificação de alinhamento da GPT. Como a partição não será acessada regularmente, problemas de desempenho podem ser desconsiderados, embora alguns utilitários de disco exibam um aviso sobre isso. Em <i>fdisk</i> ou <i>gdisk</i> crie uma nova partição a partir do setor 34 e abrangendo até 2047 e defina o tipo. Para que as partições visualizáveis comecem na base, considere adicionar essa partição por último.
</p>
<div class="mw-heading mw-heading3"><h3 id="Instruções_específicas_de_Master_Boot_Record_(MBR)">
<span id="Instru.C3.A7.C3.B5es_espec.C3.ADficas_de_Master_Boot_Record_.28MBR.29"></span>Instruções específicas de Master Boot Record (MBR)</h3></div>
<p>Normalmente, o intervalo pós-MBR (após a região de 512 bytes <a href="../pt/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="Particionamento">MBR</a> e antes do início da primeira partição) em muitos sistemas particionados MBR é de 31 KiB quando os problemas de alinhamento do cilindro de compatibilidade do DOS são atendidos na tabela de partições. No entanto, uma lacuna pós-MBR de cerca de 1 a 2 MiB é recomendada para fornecer espaço suficiente para incorporar o <code>core.img</code> do GRUB (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/24103">FS#24103</a>). É aconselhável usar uma ferramenta de particionamento que suporte <a href="../pt/Partitioning.html#Alinhamento_de_parti%C3%A7%C3%A3o" class="mw-redirect" title="Particionamento">alinhamento de partições</a> de 1 MiB para obter este espaço, bem como para satisfazer outros problemas de setor não-512-byte (que não estão relacionados à incorporação de <code>core.img</code>).
</p>
<div class="mw-heading mw-heading3"><h3 id="Instalação_2">
<span id="Instala.C3.A7.C3.A3o_2"></span>Instalação</h3></div>
<p><a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">Instale</a> o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub">grub</a></span>. (Ele vai substituir o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-legacy/">grub-legacy</a></span><sup><small>AUR</small></sup> se este ainda estiver instalado.) Então, execute:
</p>
<pre># grub-install --target=i386-pc <i>/dev/sdX</i>
</pre>
<p>sendo <code>i386-pc</code> usado deliberadamente, independentemente de sua arquitetura real, e <code><i>/dev/sdX</i></code> o <i>disco</i> (<b>não a partição</b>) no qual o GRUB deve ser instalado. Por exemplo, o disco <code>/dev/sda</code> ou <code>/dev/nvme0n1</code> ou <code>/dev/mmcblk0</code>. Veja <a href="../en/Arquivo_de_dispositivo.html#Nomes_de_dispositivos_de_bloco" class="mw-redirect" title="Arquivo de dispositivo">Arquivo de dispositivo#Nomes de dispositivos de bloco</a> para uma descrição do esquema de nomeação de dispositivo de bloco.
</p>
<p>Agora, você deve <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gerar o arquivo de configuração principal</a>.
</p>
<p>Se você usa <a href="../pt/LVM.html" title="LVM (Português)">LVM</a> para seu <code>/boot</code>, você pode instalar o GRUB em vários discos físicos.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Veja <a href="../en/GRUB/Tips_and_tricks.html#Alternative_installation_methods" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Alternative installation methods</a> para outras formas de instalar o GRUB, tal como um pendrive USB.</div>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 8 grub-install"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/grub-install.8">grub-install(8)</a></span> e o <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub/html_node/BIOS-installation.html#BIOS-installation">manual do GRUB</a> para mais detalhes no comando <code>grub-install</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Configuração">
<span id="Configura.C3.A7.C3.A3o"></span>Configuração</h2></div>
<p>Em um sistema instalado, o GRUB carrega o arquivo de configuração <code>/boot/grub/grub.cfg</code> em cada inicialização. Você pode seguir <a href="#grub.cfg_gerado">#grub.cfg gerado</a> para usar uma ferramenta ou <a href="#grub.cfg_personalizado">#grub.cfg personalizado</a> para uma criação manual.
</p>
<div class="mw-heading mw-heading3"><h3 id="grub.cfg_gerado">grub.cfg gerado</h3></div>
<p>Esta seção cobre apenas a edição do arquivo de configuração <code>/etc/default/grub</code>. Veja <a href="../en/GRUB/Tips_and_tricks.html" title="GRUB/Tips and tricks">GRUB/Tips and tricks</a> para mais informações.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Lembre-se de sempre <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gerar o arquivo de configuração principal</a> após fazer de alterações para <code>/etc/default/grub</code> e/ou arquivos em <code>/etc/grub.d/</code>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> Atualize/reinstale o gerenciador de boot (consulte <a href="#Sistemas_UEFI">#Sistemas UEFI</a> ou <a href="#Sistemas_BIOS">#Sistemas BIOS</a>) se uma nova versão do GRUB alterar a sintaxe do arquivo de configuração: configuração incompatível pode resultar em um sistema não inicializável.</div>
<div class="mw-heading mw-heading4"><h4 id="Gerar_o_arquivo_de_configuração_principal">
<span id="Gerar_o_arquivo_de_configura.C3.A7.C3.A3o_principal"></span>Gerar o arquivo de configuração principal</h4></div>
<p>Após a instalação, o arquivo de configuração principal <code>/boot/grub/grub.cfg</code> precisa ser gerado. O processo de geração pode ser influenciado por uma variedade de opções em <code>/etc/default/grub</code> e scripts em <code>/etc/grub.d/</code>.
</p>
<p>Se você não tiver feito configurações adicionais, a geração automática determinará o sistema de arquivos raiz do sistema para inicializar o arquivo de configuração. Para que isso seja bem sucedido, é importante que o sistema seja inicializado ou "chrooted".
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>O caminho do arquivo padrão é <code>/boot/grub/grub.cfg</code>, não <code>/boot/grub/i386-pc/grub.cfg</code>.</li>
<li>Se você está tentando executar o <i>grub-mkconfig</i> em um <a href="../pt/Chroot.html" title="Chroot (Português)">chroot</a> ou em um contêiner <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a>, você pode notar que ele não funciona: <code>grub-probe: failed to get canonical path of <i>/dev/sdaX</i></code>. Neste caso, tente usar <a href="/index.php?title=Arch-chroot_(Portugu%C3%AAs)&amp;action=edit&amp;redlink=1" class="new" title="Arch-chroot (Português) (page does not exist)">arch-chroot</a> como descrito nesta <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1225067#p1225067">publicação no BBS</a>.</li>
</ul>
</div>
<p>Use a ferramenta <i>grub-mkconfig</i> para gerar <code>/boot/grub/grub.cfg</code>:
</p>
<pre># grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p>Por padrão, os scripts de geração adicionam automaticamente entradas de menu para todos os <a href="../pt/Kernel.html" title="Kernel (Português)">kernels</a> do Arch Linux instalados na configuração gerada.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> 
<ul>
<li>Depois de instalar ou remover um <a href="../pt/Kernel.html" title="Kernel (Português)">kernel</a>, você só precisa executar novamente o comando acima, o <i>grub-mkconfig</i>.</li>
<li>Para obter dicas sobre o gerenciamento de várias entradas do GRUB, por exemplo, ao usar os kernels <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, consulte <a href="../en/GRUB/Tips_and_tricks.html#Multiple_entries" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Multiple entries</a>.</li>
</ul>
</div>
<p>Para adicionar automaticamente entradas para outros sistemas operacionais instalados, consulte <a href="#Detectando_outros_sistemas_operacionais">#Detectando outros sistemas operacionais</a>.
</p>
<p>Você pode adicionar entradas adicionais ao menu editando <code>/etc/grub.d/40_custom</code> e regerando <code>/boot/grub/grub.cfg</code>. Ou você pode criar <code>/boot/grub/custom.cfg</code> e adicioná-las lá. Alterações no <code>/boot/grub/custom.cfg</code> não requerem reexecução do <i>grub-mkconfig</i>, já que <code>/etc/grub.d/41_custom</code> adiciona a declaração <code>source</code> para o arquivo de configuração gerado.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> <code>/etc/grub.d/40_custom</code> pode ser usado como um modelo para criar <code>/etc/grub.d/<i>nn</i>_custom</code>, sendo que <code><i>nn</i></code> define a precedência, indicando a ordem em que o script é executado. Os scripts de ordem são executados e determinam o posicionamento no menu de inicialização do GRUB. <code><i>nn</i></code> deve ser maior que <code>06</code> para garantir que os scripts necessários sejam executados primeiro.</div>
<p>Veja <a href="#Exemplos_de_entrada_de_menu_de_boot">#Exemplos de entrada de menu de boot</a> para mais exemplos de entradas de menu personalizadas.
</p>
<div class="mw-heading mw-heading4"><h4 id="Detectando_outros_sistemas_operacionais">Detectando outros sistemas operacionais</h4></div>
<p>Para fazer com que o <i>grub-mkconfig</i> procure por outros sistemas instalados e adicioná-los automaticamente ao menu, <a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">instale</a> o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=os-prober">os-prober</a></span> e <a href="../pt/File_systems.html#Montar_um_sistema_de_arquivos" class="mw-redirect" title="Monte">monte</a> as partições das quais outros outros sistemas inicializam. Então, execute novamente o <i>grub-mkconfig</i>. Se você receber a seguinte saída: <code>Warning: os-prober will not be executed to detect other bootable partitions</code> então edite <code>/etc/default/grub</code> e adicione/descomente:
</p>
<pre>GRUB_DISABLE_OS_PROBER=false
</pre>
<p>E tente novamente.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>O ponto de montagem exato não importa, pois <i>os-prover</i> lê o <code>mtab</code> para identificar lugares para pesquisar por entradas inicializáveis.</li>
<li>Lembre-se de montar as partições toda vez que você executar <i>grub-mkconfig</i> para incluir os outros sistemas operacionais.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Você pode querer que o GRUB se lembre da última entrada de boot escolhida, veja <a href="../en/GRUB/Tips_and_tricks.html#Recall_previous_entry" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Recall previous entry</a>.</div>
<div class="mw-heading mw-heading5"><h5 id="Windows">Windows</h5></div>
<p>Para o Windows instalado no modo UEFI, certifique-se de que a <a href="../en/b450aee560f45947b4c8fac172bfa80f.html" class="mw-redirect" title="Partição de sistema EFI">partição de sistema EFI</a> contendo o Windows Boot Manager (<code>bootmgfw.efi</code>) esteja montada. Execute <code>os-prober</code> como root para detectar e gerar uma entrada para ele.
</p>
<p>Para Windows instalado no modo BIOS, monte a <i>partição de sistema</i> do Windows (seu <a href="../en/0ba82b42eedfeccd2dfbba5044411a67.html#by-label" class="mw-redirect" title="Nomeação persistente de dispositivo de bloco">rótulo do sistema de arquivos</a> deve ser <code>System Reserved</code> ou <code>SYSTEM</code>). Execute <code>os-prober</code> como root para detectar e gerar uma entrada para ele.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Para Windows instalado no modo BIOS:
<ul>
<li>As partições NTFS nem sempre podem ser detectadas quando montadas com os drivers padrão do Linux. Se o GRUB não estiver detectando, tente instalar o <a href="../en/NTFS-3G.html" title="NTFS-3G">NTFS-3G</a> e remontá-las.</li>
<li>Partições encriptadas do Windows podem precisar ser descriptografadas antes da montagem. Para o BitLocker, isso pode ser feito com <a href="../pt/Cryptsetup.html" class="mw-redirect" title="Cryptsetup (Português)">cryptsetup (Português)</a> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dislocker/">dislocker</a></span><sup><small>AUR</small></sup>. Isso deve ser suficiente para o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=os-prober">os-prober</a></span> adicionar a entrada correta.</li>
</ul>
</div>
<div class="mw-heading mw-heading4"><h4 id="Argumentos_adicionais">Argumentos adicionais</h4></div>
<p>Para passar argumentos adicionais personalizados para a imagem do Linux, você pode definir as variáveis <code>GRUB_CMDLINE_LINUX</code> e <code>GRUB_CMDLINE_LINUX_DEFAULT</code> em <code>/etc/default/grub</code>. As duas são anexadas uma à outra e passadas ao kernel ao gerar entradas de inicialização comuns. Para a entrada de inicialização de <i>recuperação</i>, apenas <code>GRUB_CMDLINE_LINUX</code> é usado na geração.
</p>
<p>Não é necessário usar ambos, mas pode ser útil. Por exemplo, você poderia usar <code>GRUB_CMDLINE_LINUX_DEFAULT="resume=UUID=<i>uuid-da-partição-swap</i> quiet"</code>, sendo <code><i>uuid-da-partição-swap</i></code> o <a href="../pt/UUID.html" class="mw-redirect" title="UUID (Português)">UUID</a> da sua partição swap para permitir a continuação após <a href="../pt/Power_management/Suspend_and_hibernate.html#Hiberna%C3%A7%C3%A3o" class="mw-redirect" title="Hibernação">hibernação</a>. Isso geraria uma entrada de inicialização de recuperação sem o resumo e sem <code>quiet</code> para suprimir mensagens do kernel durante uma inicialização a partir dessa entrada de menu. Porém, as outras entradas de menu (comuns) os teriam como opções.
</p>
<p>Por padrão, o <i>grub-mkconfig</i> determina o <a href="../pt/UUID.html" class="mw-redirect" title="UUID (Português)">UUID</a> do sistema de arquivos raiz para a configuração. Para desabilitar isso, descomente <code>GRUB_DISABLE_LINUX_UUID=true</code>.
</p>
<p>Para gerar a entrada de recuperação do GRUB, você precisa garantir que <code>GRUB_DISABLE_RECOVERY</code> não esteja definido como <code>true</code> em <code>/etc/default/grub</code>.
</p>
<p>Veja <a href="../en/3f4289ec8f0dc020cab18174a829b655.html" class="mw-redirect" title="Parâmetros do kernel">Parâmetros do kernel</a> para mais informações.
</p>
<div class="mw-heading mw-heading4"><h4 id="LVM">LVM</h4></div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> O GRUB não possui suporte a volumes lógicos <i>thin-provisioned</i>.</div>
<p>Se você usa <a href="../pt/LVM.html" title="LVM (Português)">LVM</a> para sua partição <code>/boot</code> ou <code>/</code>, certifique-se de que o módulo <code>lvm</code> esteja pré-carregado:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_PRELOAD_MODULES="... lvm"</pre>
<div class="mw-heading mw-heading4"><h4 id="RAID">RAID</h4></div>
<p>O GRUB fornece um manuseio conveniente de volumes <a href="../en/RAID.html" title="RAID">RAID</a>. Você precisa carregar os módulos GRUB <code>mdraid09</code> ou <code>mdraid1x</code> para permitir que você aborde o volume nativamente:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_PRELOAD_MODULES="... mdraid09 mdraid1x"</pre>
<p>Por exemplo, <code>/dev/md0</code> se torna:
</p>
<pre>set root=(md/0)
</pre>
<p>sendo que um volume RAID particionado (p.ex., <code>/dev/md0p1</code>) se torna:
</p>
<pre>set root=(md/0,1)
</pre>
<p>Para instalar o grub ao usar o RAID1 como partição <code>/boot</code> (ou usando <code>/boot</code> alojado em uma partição raiz RAID1), nos sistemas BIOS, simplesmente execute o <i>grub-install</i> em ambas as unidades, como:
</p>
<pre># grub-install --target=i386-pc --debug /dev/sda
# grub-install --target=i386-pc --debug /dev/sdb
</pre>
<p>sendo que o vetor RAID 1 contendo <code>/boot</code> está contido em ambos <code>/dev/sda</code> e <code>/dev/sdb</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> GRUB possui suporte a inicializar de RAID 0/1/10 com <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>, mas <i>não</i> RAID 5/6. Você pode usar <a href="../en/RAID.html" class="mw-redirect" title="Mdadm">mdadm</a> para RAID 5/6, o qual possui suporte no GRUB.</div>
<div class="mw-heading mw-heading4"><h4 id="/boot_criptografado">
<span id=".2Fboot_criptografado"></span>/boot criptografado</h4></div>
<p>O GRUB também tem suporte especial para inicializar com um <code>/boot</code> criptografado. Isto é feito desbloqueando um dispositivo de bloco <a href="../pt/LUKS.html" class="mw-redirect" title="LUKS (Português)">LUKS</a> para ler sua configuração e carregar qualquer <a href="../pt/Initramfs.html" class="mw-redirect" title="Initramfs (Português)">initramfs</a> e <a href="../pt/Kernel.html" title="Kernel (Português)">kernel</a> dele. Esta opção tenta resolver o problema de ter uma <a href="../en/Dm-crypt/Specialties.html#Securing_the_unencrypted_boot_partition" title="Dm-crypt/Specialties">partição de inicialização não criptografada</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> <code>/boot</code> <b>não</b> precisa obrigatoriamente ser mantido em uma partição separada; ele também pode ficar sob a árvore de diretórios <code>/</code> da raiz do sistema.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> GRUB 2.06 têm suporte limitado ao LUKS2. Veja a seção <a href="#LUKS2">#LUKS2</a> abaixo para detalhes.</div>
<p>Para ativar este recurso, criptografe a partição com <code>/boot</code> que reside nela usando <a href="../pt/LUKS.html" class="mw-redirect" title="LUKS (Português)">LUKS</a> normalmente. Em seguida, adicione a seguinte opção para <code>/etc/default/grub</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/grub</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GRUB_ENABLE_CRYPTODISK=y</pre>
<p>Esta opção é usada pelo grub-install para gerar o grub <code>core.img</code>.
</p>
<p>Certifique-se de <a href="#Instala%C3%A7%C3%A3o">instalar o grub</a> depois de modificar esta opção ou criptografar a partição.
</p>
<p>Sem mais alterações, você será solicitado duas vezes a informar uma senha: o primeiro para o GRUB desbloquear o ponto de montagem <code>/boot</code> na inicialização, o segundo para desbloquear o sistema de arquivos raiz como implementado pelo initramfs. Você pode usar um <a href="../en/89a0ffc1b880707bb940d08a5f22d608.html#Com_uma_keyfile_no_initramfs" class="mw-redirect" title="Dm-crypt/Encriptação de dispositivo">initramfs</a><sup>[<a href="../pt/Help:Procedures.html#Corrigir_links_quebrados_de_se%C3%A7%C3%B5es" class="mw-redirect" title="Help:Procedimentos">link quebrado</a>: seção inválida]</sup> para evitar isso.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> 
<ul>
<li>Se você quiser <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gerar o arquivo de configuração principal</a>, certifique-se de que <code>/boot</code> esteja montado.</li>
<li>Para realizar atualizações do sistema envolvendo o ponto de montagem <code>/boot</code>, certifique-se de que o <code>/boot</code> criptografado esteja desbloqueado e montado antes de executar uma atualização. Com uma partição <code>/boot</code> separada, isso pode ser feito automaticamente na inicialização usando o <a href="../en/e90e6c51a35f947e9a37e0983b6b2e16.html#crypttab" class="mw-redirect" title="Dm-crypt/Configuração do sistema">crypttab</a> com uma <a href="../en/89a0ffc1b880707bb940d08a5f22d608.html#Com_uma_keyfile_no_initramfs" class="mw-redirect" title="Dm-crypt/Encriptação de dispositivo">keyfile</a><sup>[<a href="../pt/Help:Procedures.html#Corrigir_links_quebrados_de_se%C3%A7%C3%B5es" class="mw-redirect" title="Help:Procedimentos">link quebrado</a>: seção inválida]</sup>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> 
<ul>
<li>Se você usar um mapa de teclado especial, uma instalação padrão do GRUB não o saberá. Isso é relevante para saber como inserir a frase secreta para desbloquear o dispositivo de bloco LUKS. Consulte <a href="../en/GRUB/Tips_and_tricks.html#Manual_configuration_of_core_image_for_early_boot" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Manual configuration of core image for early boot</a>.</li>
<li>Se você tiver problemas para obter a solicitação de uma senha (erros relacionados a cryptouuid, cryptodisk ou "dispositivo não encontrado"), tente reinstalar o GRUB e acrescentar <code>--modules="part_gpt part_msdos"</code> ao final do seu comando <code>grub-install</code>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Você pode usar <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=234607">hooks do pacman</a> para montar automaticamente o seu <code>/boot</code> quando as atualizações precisarem acessar arquivos relacionados.</div>
<div class="mw-heading mw-heading5"><h5 id="LUKS2">LUKS2</h5></div>
<p>GRUB 2.06 tem suporte limitado ao LUKS2. Veja <a rel="nofollow" class="external text" href="https://savannah.gnu.org/bugs/?55093">GRUB bug #55093</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Você pode usar <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-improved-luks2-git/">grub-improved-luks2-git</a></span><sup><small>AUR</small></sup>, no qual foi aplicado um patch para oferecer suporte a LUKS2.</div>
<ul>
<li>Argon2id (padrão do <i>cryptsetup</i>) e Argon2i PBKDFs não são suportados (<a rel="nofollow" class="external text" href="https://savannah.gnu.org/bugs/?59409">GRUB bug #59409</a>), somente PBKDF2 é.</li>
<li>
<code>grub-install</code> não oferece suporte a criar uma imagem core que pudesse ser usada para desbloquear LUKS2. Veja os comentários abaixo ou em <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-git/">grub-git</a></span><sup><small>AUR</small></sup> para uma solução de contorno.</li>
</ul>
<p>Use <code>grub-install</code> conforme descrito na seção <a href="#Instala%C3%A7%C3%A3o">#Instalação</a>. Porém, o binário EFI gerado não oferece suporte a LUKS2 e precisa ser substituído.
</p>
<p>Crie <code>/boot/grub/grub-pre.cfg</code>. Substitua <code><i>UUID</i></code> pela saída de <code>lsblk -dno UUID <i>/dev/nvme0n1p2</i> | tr -d -</code>. Use <code>lvm/NomeDoGrupoDoVolume-NomeDoVolumeLógico</code> em vez de <code>crypto0</code> se sua unidade raiz estiver em um volume lógico LVM dentro do volume LUKS.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/grub-pre.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set crypto_uuid=<i>UUID</i>
cryptomount -u $crypto_uuid
set root=crypto0
set prefix=($root)/boot/grub
insmod normal
normal</pre>
<p>Adicione <code>lvm</code> se você usa <a href="../pt/LVM.html" title="LVM (Português)">LVM</a>. Substitua <code>ext2</code> por <code>btrfs</code> ou outro módulo de sistema de arquivos, se necessário. Substitua <code>gcry_sha256</code> por <code>gcry_sha512</code> ou <code>gcry_whirlpool</code> se for necessário:
</p>
<pre>$ grub-mkimage -p /boot/grub -O x86_64-efi -c grub-pre.cfg -o /tmp/grubx64.efi luks2 part_gpt cryptodisk gcry_rijndael pbkdf2 gcry_sha256 ext2
</pre>
<p>Copie à ESP:
</p>
<pre># install -v /tmp/grubx64.efi <i>esp</i>/EFI/GRUB/grubx64.efi
</pre>
<p>Se você inserir uma senha inválida durante a inicialização e terminar no shell de recuperação do GRUB, tente <code>cryptomount -a</code> para montar todas (espera-se que apenas uma) partições criptografadas ou use <code>cryptomount -u $crypto_uuid</code> para montar uma específica. Em seguida, prossiga com <code>insmod normal</code> e <code>normal</code> como de costume.
</p>
<p>Se você inserir uma senha correta, mas um erro <code>Invalid passphrase</code> for retornado imediatamente, certifique-se de que os módulos criptográficos corretos sejam especificados. Use <code>cryptsetup luksDump <i>/dev/nvme0n1p2</i></code> e verifique se a função hash (SHA-256, SHA-512) corresponde aos módulos (<code>gcry_sha256</code>, <code>gcry_sha512</code>) instalados e o algoritmo PBKDF seja pbkdf2. O hash e o algoritmos de PBDKDF podem ser alterados para chaves existentes usando <code>cryptsetup luksConvertKey --hash <i>sha256</i> --pbkdf pbkdf2 <i>/dev/nvme0n1p2</i></code>. Em circunstâncias normais, deve levar alguns segundos antes que a senha seja processada.
</p>
<div class="mw-heading mw-heading3"><h3 id="grub.cfg_personalizado">grub.cfg personalizado</h3></div>
<p>Esta seção descreve a criação manual de entradas de inicialização do GRUB em <code>/boot/grub/grub.cfg</code> em vez de confiar em <i>grub-mkconfig</i>.
</p>
<p>Um arquivo de configuração básico do GRUB usa as seguintes opções:
</p>
<ul>
<li>
<code>(hd<i>X</i>,<i>Y</i>)</code> é a partição <i>Y</i> no disco <i>X</i>, números de partição iniciando em 1, números de disco iniciando em 0</li>
<li>
<code>set default=<i>N</i></code> é a entrada de inicialização padrão que é escolhida após atingido um tempo limite para ação do usuário</li>
<li>
<code>set timeout=<i>M</i></code> é o tempo <i>M</i> para aguardar em segundos para uma seleção de usuário antes da padrão ser inicializada</li>
<li>
<code>menuentry "título" {opções desta entrada}</code> é uma entrada padrão chamada <code>título</code>
</li>
<li>
<code>set root=(hd<i>X</i>,<i>Y</i>)</code> define a partição de inicialização, onde os módulos de kernel e GRUB estão armazenados (o boot não precisa estar em uma partição separada e pode simplesmente ser um diretório sob a partição "root" (<code>/</code>)</li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Exemplos_de_entrada_de_menu_de_boot">Exemplos de entrada de menu de boot</h4></div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Essas entradas de inicialização também podem ser usadas ao usar um <code>/boot/grub/grub.cfg</code> gerado pelo "grub-mkconfig". Adicione-os a <code>/etc/grub.d/40_custom</code> e <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gere novamente o arquivo de configuração principal</a> ou adicione-os a <code>/boot/grub/custom.cfg</code>.</div>
<p>Para obter dicas sobre o gerenciamento de várias entradas do GRUB, por exemplo, ao usar os kernels <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>, consulte <a href="../en/GRUB/Tips_and_tricks.html#Multiple_entries" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Multiple entries</a>.
</p>
<p>Para entradas de menu de inicialização de <a href="../pt/Archiso.html" title="Archiso (Português)">Archiso</a> e <a rel="nofollow" class="external text" href="https://archboot.com">Archboot</a>, veja <a href="../en/Multiboot_USB_drive.html#Boot_entries" title="Multiboot USB drive">Multiboot USB drive#Boot entries</a>.
</p>
<div class="mw-heading mw-heading5"><h5 id="Comandos_do_GRUB">Comandos do GRUB</h5></div>
<div class="mw-heading mw-heading6"><h6 id="Entrada_de_menu_&quot;Desligar&quot;">
<span id="Entrada_de_menu_.22Desligar.22"></span>Entrada de menu "Desligar"</h6></div>
<pre>menuentry "Desligamento do sistema" {
	echo "Desligando o sistema..."
	halt
}
</pre>
<div class="mw-heading mw-heading6"><h6 id="Entrada_de_menu_&quot;Reiniciar&quot;">
<span id="Entrada_de_menu_.22Reiniciar.22"></span>Entrada de menu "Reiniciar"</h6></div>
<pre>menuentry "Reinicialização do sistema" {
	echo "Reinicializando o sistema..."
	reboot
}
</pre>
<div class="mw-heading mw-heading6"><h6 id="Entrada_de_menu_&quot;Configuração_do_firmware_UEFI&quot;">
<span id="Entrada_de_menu_.22Configura.C3.A7.C3.A3o_do_firmware_UEFI.22"></span>Entrada de menu "Configuração do firmware UEFI"</h6></div>
<pre>if [ ${grub_platform} == "efi" ]; then
    menuentry 'Configuração do firmware UEFI' --id 'uefi-firmware' {
		fwsetup
	}
fi</pre>
<div class="mw-heading mw-heading5"><h5 id="Binarios_de_EFI">Binarios de EFI</h5></div>
<p>Ao iniciar o modo UEFI, o GRUB pode carregar outros binários EFI.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Para mostrar essas entradas de menu somente quando o GRUB é iniciado no modo UEFI, coloque-as na seguinte instrução <code>if</code>:
<pre>if [ ${grub_platform} == "efi" ]; then
	<i>coloque apenas entradas de menu UEFI aqui</i>
fi</pre>
</div>
<div class="mw-heading mw-heading6"><h6 id="Shell_de_UEFI">Shell de UEFI</h6></div>
<p>Você pode iniciar o <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_Shell" title="Unified Extensible Firmware Interface">UEFI Shell</a> colocando-a na raiz da <a href="../en/b450aee560f45947b4c8fac172bfa80f.html" class="mw-redirect" title="Partição de sistema EFI">partição de sistema EFI</a> e adicionando esta entrada de menu:
</p>
<pre>menuentry "UEFI Shell" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --file /shellx64.efi
	chainloader /shellx64.efi
}</pre>
<div class="mw-heading mw-heading6"><h6 id="gdisk">gdisk</h6></div>
<p>Baixe o <a href="../en/GPT_fdisk.html#gdisk_EFI_application" class="mw-redirect" title="Gdisk">aplicativo EFI gdisk</a> e copie <code>gdisk_x64.efi</code> para <code><i>esp</i>/EFI/tools/</code>.
</p>
<pre>menuentry "gdisk" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --file /EFI/tools/gdisk_x64.efi
	chainloader /EFI/tools/gdisk_x64.efi
}</pre>
<div class="mw-heading mw-heading6"><h6 id="Carregando_uma_imagem_de_kernel_unificada">Carregando uma imagem de kernel unificada</h6></div>
<p>Se você tiver uma <a href="../en/Imagem_de_kernel_unificada.html" class="mw-redirect" title="Imagem de kernel unificada">imagem de kernel unificada</a> gerada a partir de <a href="../en/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> ou outro meio, você pode adicioná-lo ao menu de inicialização. Por exemplo:
</p>
<pre>menuentry "Arch Linux" {
	insmod fat
	insmod chain
	search --no-floppy --set=root --fs-uuid <i>UUID_DO_SISTEMA_DE_ARQUIVOS</i>
	chainloader /EFI/Linux/Arch-linux.efi
}</pre>
<div class="mw-heading mw-heading5"><h5 id="Dual_boot">Dual boot</h5></div>
<div class="mw-heading mw-heading6"><h6 id="GNU/Linux">
<span id="GNU.2FLinux"></span>GNU/Linux</h6></div>
<p>Presumindo que outra distribuição esteja na partição <code>sda2</code>:
</p>
<pre>menuentry "Outro Linux" {
	set root=(hd0,2)
	linux /boot/vmlinuz (adicione outras opções aqui conforme necessário)
	initrd /boot/initrd.img (se outro kernel usa/precisa de um)
}</pre>
<p>Alternativamente, permita o GRUB pesquisar a partição correta pelo <i>UUID</i> ou <i>label</i> do sistema de arquivos:
</p>
<pre>menuentry "Outro Linux" {
        # presumindo que o UUID seja 763A-9CB6
	search --no-floppy --set=root --fs-uuid 763A-9CB6

        # pesquise pelo rótulo OUTRO_LINUX (certifique-se que o rótulo da partição não seja ambígua)
        #search --no-floppy --set=root --label OUTRO_LINUX

	linux /boot/vmlinuz (adicione aqui outras opções necessárias, por exemplo: root=UUID=763A-9CB6)
	initrd /boot/initrd.img (se outro kernel usa/precisa de um)
}</pre>
<p>Se a outra distribuição já tiver uma pasta <code>/boot</code> válida com o GRUB instalado, <code>grub.cfg</code>, kernel e initramfs, o GRUB poderá ser instruído a carregar esses outros arquivos de <code>grub.cfg </code> dinamicamente durante a inicialização. Por exemplo, para <code>hd0</code> e a quarta partição GPT:
</p>
<pre>menuentry "configfile hd0,gpt4"  {
        insmod part_gpt
        insmod btrfs
        insmod ext2
        set root='hd0,gpt4'
        configfile /boot/grub/grub.cfg
}</pre>
<p>Ao escolher esta entrada, o GRUB carrega o arquivo <code>grub.cfg</code> do outro volume e exibe esse menu. Quaisquer alterações na variável de ambiente feitas pelos comandos no arquivo não serão preservadas após o retorno do <code>configfile</code>. Pressione <code>Esc</code> para retornar ao primeiro menu do GRUB.
</p>
<div class="mw-heading mw-heading6"><h6 id="Windows_instalado_em_modo_UEFI/GPT">
<span id="Windows_instalado_em_modo_UEFI.2FGPT"></span>Windows instalado em modo UEFI/GPT</h6></div>
<p>Este modo determina onde o carregador de boot do Windows reside e carrega-o após o GRUB quando a entrada do menu é selecionada. A principal tarefa aqui é encontrar a partição do sistema EFI e executar o carregador de boot a partir dela.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Este entrada de menu funcionará apenas no modo de inicialização UEFI e somente se o <i>bitness</i> do Windows corresponder ao <i>bitstream</i> do UEFI. Não funcionará no GRUB instalado na BIOS. Veja <a href="../pt/Dual_boot_with_Windows.html#Limita%C3%A7%C3%B5es_do_Windows_em_UEFI_versus_BIOS" title="Dual boot with Windows (Português)">Limitações do Windows em UEFI versus BIOS</a> e <a href="../pt/Dual_boot_with_Windows.html#Limita%C3%A7%C3%B5es_do_gerenciador_de_boot_em_UEFI_versus_BIOS" title="Dual boot with Windows (Português)">Limitações do gerenciador de boot em UEFI versus BIOS</a> para mais informações.</div>
<pre>if [ "${grub_platform}" == "efi" ]; then
	menuentry "Microsoft Windows Vista/7/8/8.1 UEFI/GPT" {
		insmod part_gpt
		insmod fat
		insmod chain
		search --no-floppy --fs-uuid --set=root $hints_string $fs_uuid
		chainloader /EFI/Microsoft/Boot/bootmgfw.efi
	}
fi</pre>
<p>sendo que <code>$hints_string</code> e <code>$fs_uuid</code> são obtidas com os dois comandos abaixo. 
</p>
<p>O comando <code>$fs_uuid</code> determina o UUID da partição de sistema EFI:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># grub-probe --target=fs_uuid <i>esp</i>/EFI/Microsoft/Boot/bootmgfw.efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">1ce5-7f28</pre>
<p>Como alternativa, é possível executar <code>lsblk --fs</code> e ler o UUID da partição do sistema EFI a partir dele.
</p>
<p>O comando <code>$hints_string</code> determinará a localização da partição do sistema EFI, neste caso o disco rígido 0:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># grub-probe --target=hints_string <i>esp</i>/EFI/Microsoft/Boot/bootmgfw.efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">--hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1</pre>
<p>Estes dois comandos presumem o uso da ESP do Windows montada em <code><i>esp</i></code>. Pode haver diferenças entre maiúsculas e minúsculas no caminho para o arquivo EFI do Windows, com o Windows e tudo mais.
</p>
<div class="mw-heading mw-heading6"><h6 id="Windows_instalado_em_modo_BIOS/MBR">
<span id="Windows_instalado_em_modo_BIOS.2FMBR"></span>Windows instalado em modo BIOS/MBR</h6></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> O GRUB possui suporte a inicializar <code>bootmgr</code> diretamente e  fazer carregamento em cadeia (<a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub.html#Chain_002dloading"><i>chainloading</i></a>) do setor de inicialização da partição não é mais necessário para inicializar Windows em uma configuração de BIOS/MBR.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> É a <b>partição do sistema</b> que tem <code>/bootmgr</code>, não sua partição Windows "real" (geralmente <code>C:</code>). O <a href="../en/0ba82b42eedfeccd2dfbba5044411a67.html#by-label" class="mw-redirect" title="Nomeação persistente de dispositivo de bloco">rótulo do sistema de arquivos</a> da partição do sistema é <code>Sistema Reservado</code> ou <code>SISTEMA</code> e a partição tem por volta de 100 para 549 MiB em tamanho. Veja <a href="https://en.wikipedia.org/wiki/System_partition_and_boot_partition" class="extiw" title="wikipedia:System partition and boot partition">Wikipedia:System partition and boot partition</a> para mais informações.</div>
<p>Ao longo desta seção, presume-se que sua partição do Windows é <code>/dev/sda1</code>. Uma partição diferente mudará todas as instâncias de <code>hd0,msdos1</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Este entrada de menu funcionará apenas no modo de inicialização BIOS. Não funcionará no GRUB instalado na UEFI. Veja <a href="../pt/Dual_boot_with_Windows.html#Limita%C3%A7%C3%B5es_do_Windows_em_UEFI_versus_BIOS" title="Dual boot with Windows (Português)">Limitações do Windows em UEFI versus BIOS</a> e <a href="../pt/Dual_boot_with_Windows.html#Limita%C3%A7%C3%B5es_do_gerenciador_de_boot_em_UEFI_versus_BIOS" title="Dual boot with Windows (Português)">Limitações do gerenciador de boot em UEFI versus BIOS</a> .</div>
<p>Em ambos exemplos <code><i>XXXXXXXXXXXXXXXX</i></code> é o UUID do sistema de arquivos que pode ser encontrado com o comando <code>lsblk --fs</code>.
</p>
<p>Para Windows Vista/7/8/8.1/10:
</p>
<pre>if [ "${grub_platform}" == "pc" ]; then
	menuentry "Microsoft Windows Vista/7/8/8.1/10 BIOS/MBR" {
		insmod part_msdos
		insmod ntfs
		insmod ntldr
		search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1 <i>XXXXXXXXXXXXXXXX</i>
		ntldr /bootmgr
	}
fi</pre>
<p>Para Windows XP:
</p>
<pre>if [ "${grub_platform}" == "pc" ]; then
	menuentry "Microsoft Windows XP" {
		insmod part_msdos
		insmod ntfs
		insmod ntldr     
		search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1 <i>XXXXXXXXXXXXXXXX</i>
		ntldr /ntldr
	}
fi</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Em alguns casos, o GRUB pode ser instalado sem um Windows 8 limpo, caso em que você não consegue inicializar o Windows sem ter um erro com <code>\boot\bcd</code> (código de erro <code>0xc000000f</code>). Você pode consertá-lo indo até o Console de Recuperação do Windows (<code>cmd.exe</code> do disco de instalação) e executando:
<pre>X:\&gt; bootrec.exe /fixboot
X:\&gt; bootrec.exe /RebuildBcd
</pre>
<p><b>Não</b> use <code>bootrec.exe /Fixmbr</code> porque ele apagará o GRUB.
Ou você pode usar a função "Reparo de inicialização" no menu "Solução de problemas" - isso não eliminará o GRUB, mas consertará a maioria dos erros.
Além disso, é melhor você ficar conectado tanto no disco rígido de destino quanto no dispositivo inicializável <b>SOMENTE</b>. O Windows geralmente não conserta as informações de inicialização se algum outro dispositivo estiver conectado.
</p>
</div>
<div class="mw-heading mw-heading5"><h5 id="Usando_rótulos">
<span id="Usando_r.C3.B3tulos"></span>Usando rótulos</h5></div>
<p>É possível usar rótulos do sistema de arquivos, nomes legíveis anexados ao sistemas de arquivos, ao usar a opção <code>--label</code> no <code>search</code>. Primeiramente, <a href="../en/0ba82b42eedfeccd2dfbba5044411a67.html#by-label" class="mw-redirect" title="Nomeação persistente de dispositivo de bloco">tenha certeza de que seu sistema de arquivos tem um rótulo</a>.
</p>
<p>Então, adicione uma entrada usando rótulos. Um exemplo disso:
</p>
<pre>menuentry "Arch Linux, sessão texto" {
  search --label --set=root archroot
  linux /boot/vmlinuz-linux root=/dev/disk/by-label/archroot ro
  initrd /boot/initramfs-linux.img
}
</pre>
<div class="mw-heading mw-heading2"><h2 id="Usando_o_shell_de_comandos">Usando o shell de comandos</h2></div>
<p>Como o MBR é muito pequeno para armazenar todos os módulos do GRUB, apenas o menu e alguns comandos básicos residem nele. A maior parte da funcionalidade do GRUB permanece nos módulos em <code>/boot/grub/</code>, que são inseridos conforme necessário. Em condições de erro (por exemplo, se o layout da partição for alterado), o GRUB poderá falhar na inicialização. Quando isso acontece, um shell de comando pode aparecer.
</p>
<p>O GRUB oferece vários shells/prompts. Se houver um problema ao ler o menu, mas o gerenciador de inicialização conseguir localizar o disco, você provavelmente será descartado no shell "normal":
</p>
<pre>grub&gt;
</pre>
<p>Se houver um problema mais sério (por exemplo, o GRUB não conseguir localizar os arquivos necessários), você poderá ser direcionado para o shell "rescue":
</p>
<pre>grub rescue&gt;
</pre>
<p>O shell de recuperação é um subconjunto restrito do shell normal, oferecendo muito menos funcionalidade. Se for jogado no shell de recuperação, primeiro tente inserir o módulo "normal" e, em seguida, inicie o shell "normal":
</p>
<pre>grub rescue&gt; set prefix=(hdX,Y)/boot/grub
grub rescue&gt; insmod (hdX,Y)/boot/grub/i386-pc/normal.mod
rescue:grub&gt; normal
</pre>
<div class="mw-heading mw-heading3"><h3 id="Suporte_a_paginador">Suporte a paginador</h3></div>
<p>O GRUB possui suporte a paginador para ler comandos que fornecem saída longa (como o comando <code>help</code>). Isso funciona apenas no modo shell normal e não no modo de recuperação. Para digitar o paginador, digite no shell de comando do GRUB:
</p>
<pre>sh:grub&gt; set pager=1
</pre>
<div class="mw-heading mw-heading3"><h3 id="Usando_o_ambiente_shell_de_comandos_para_iniciar_sistemas_operacionais">Usando o ambiente shell de comandos para iniciar sistemas operacionais</h3></div>
<pre>grub&gt;
</pre>
<p>O ambiente de shell de comando do GRUB pode ser usado para inicializar sistemas operacionais.
Um cenário comum pode ser inicializar o Windows/Linux armazenado em uma unidade/partição via <b>carregamento em cadeia</b> (<i>chainloading</i>).
</p>
<p><i>Chainloading</i> significa carregar outro carregador de boot a partir do atual, isto é, carregamento em cadeia.
</p>
<p>O outro gerenciador de boot pode ser incorporado no início de um disco particionado (MBR), no início de uma partição ou em um disco sem partição (VBR) ou como um binário EFI no caso de UEFI.
</p>
<div class="mw-heading mw-heading4"><h4 id="Carregando_o_VBR_de_uma_partição">
<span id="Carregando_o_VBR_de_uma_parti.C3.A7.C3.A3o"></span>Carregando o VBR de uma partição</h4></div>
<pre>set root=(hdX,Y)
chainloader +1
boot
</pre>
<p>X=0,1,2...
Y=1,2,3...
</p>
<p>Por exemplo, para carregar o Windows armazenado na primeira partição do primeiro disco rígido,
</p>
<pre>set root=(hd0,1)
chainloader +1
boot
</pre>
<p>Da mesma forma, o GRUB instalado em uma partição pode ser carregado em cadeia.
</p>
<div class="mw-heading mw-heading4"><h4 id="Carregando_o_MBR_de_um_disco_ou_o_VBR_de_um_disco_sem_partição">
<span id="Carregando_o_MBR_de_um_disco_ou_o_VBR_de_um_disco_sem_parti.C3.A7.C3.A3o"></span>Carregando o MBR de um disco ou o VBR de um disco sem partição</h4></div>
<pre>set root=hdX
chainloader +1
boot
</pre>
<div class="mw-heading mw-heading4"><h4 id="Carregando_Windows/Linux_instalado_em_modo_UEFI">
<span id="Carregando_Windows.2FLinux_instalado_em_modo_UEFI"></span>Carregando Windows/Linux instalado em modo UEFI</h4></div>
<pre>insmod fat
set root=(hd0,gpt4)
chainloader (${root})/EFI/Microsoft/Boot/bootmgfw.efi
boot
</pre>
<p><code>insmod fat</code> é usado para carregar o módulo do sistema de arquivos FAT para acessar o gerenciador de boot do Windows na partição do sistema EFI.
<code>(hd0,gpt4)</code> ou <code>/dev/sda4</code> é a partição do sistema EFI neste exemplo.
A entrada na linha <code>chainloader</code> especifica o caminho do arquivo <i>.efi</i> a ser carregado em cadeia.
</p>
<div class="mw-heading mw-heading4"><h4 id="Carregamento_normal">Carregamento normal</h4></div>
<p>Veja os exemplos em <a href="#Usando_o_console_de_recupera%C3%A7%C3%A3o">#Usando o console de recuperação</a>
</p>
<div class="mw-heading mw-heading3"><h3 id="Usando_o_console_de_recuperação">
<span id="Usando_o_console_de_recupera.C3.A7.C3.A3o"></span>Usando o console de recuperação</h3></div>
<p>Veja <a href="#Usando_o_shell_de_comandos">#Usando o shell de comandos</a> primeiro. Se não for possível ativar o shell padrão, uma solução possível é inicializar usando um live CD ou algum outro disco de recuperação para corrigir erros de configuração e reinstalar o GRUB. No entanto, esse disco de inicialização nem sempre está disponível (nem necessário); o console de recuperação é surpreendentemente robusto.
</p>
<p>Os comandos disponíveis na recuperação do GRUB incluem <code>insmod</code>, <code>ls</code>, <code>set</code> e <code>unset</code>. Este exemplo usa <code>set</code> e <code>insmod</code>. <code>set</code> modifica variáveis e <code>insmod</code> insere novos módulos para adicionar funcionalidade.
</p>
<p>Antes de iniciar, o usuário deve saber a localização de sua partição <code>/boot</code> (seja uma partição separada ou um subdiretório sob sua raiz):
</p>
<pre>grub rescue&gt; set prefix=(hd<i>X</i>,<i>Y</i>)/boot/grub
</pre>
<p>sendo <code><i>X</i></code> o número da unidade física e <code><i>Y</i></code> o número da partição.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Com uma partição de inicialização separada, omita <code>/boot</code> do caminho (por exemplo, digite <code>set prefix=(hd<i>X</i>,<i>Y</i>)/grub</code>).</div>
<p>Para expandir as capacidades do console, insira o módulo <code>linux</code>:
</p>
<pre>grub rescue&gt; insmod i386-pc/linux.mod
</pre>
<p>ou simplesmente
</p>
<pre>grub rescue&gt; insmod linux
</pre>
<p>Isso introduz os comandos <code>linux</code> e <code>initrd</code>, que devem ser familiares.
</p>
<p>Um exemplo, inicializando o Arch Linux:
</p>
<pre>set root=(hd0,5)
linux /boot/vmlinuz-linux root=/dev/sda5
initrd /boot/initramfs-linux.img
boot
</pre>
<p>Com uma partição de inicialização separada (por exemplo, ao usar UEFI), altere as linhas novamente:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Como a inicialização é uma partição separada e não faz parte da sua partição raiz, você deve endereçar a partição de inicialização manualmente, da mesma maneira que a variável de prefixo.</div>
<pre>set root=(hd0,5)
linux (hd<i>X</i>,<i>Y</i>)/vmlinuz-linux root=/dev/sda6
initrd (hd<i>X</i>,<i>Y</i>)/initramfs-linux.img
boot
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Se você obteve a mensagem o <code>error: fim prematuro do arquivo /NOME_DO_SEU_KERNEL</code> durante a execução do comando <code>linux</code>, você pode tentar <code>linux16</code>.</div>
<p>Após inicializar com êxito a instalação do Arch Linux, os usuários podem corrigir o <code>grub.cfg</code> conforme necessário e reinstalar o GRUB.
</p>
<p>Para reinstalar o GRUB e corrigir o problema completamente, altere <code>/dev/sda</code>, se necessário. Veja <a href="#Instala%C3%A7%C3%A3o">#Instalação</a> para detalhes.
</p>
<div class="mw-heading mw-heading2"><h2 id="Remoção_do_GRUB">
<span id="Remo.C3.A7.C3.A3o_do_GRUB"></span>Remoção do GRUB</h2></div>
<p>Em geral, para remover o <i>grub</i>, deve-se fazer as etapas de instalação na ordem inversa. Talvez limpando qualquer sobra no final. No entanto, antes de fazer qualquer coisa, é preciso decidir se e como a máquina inicializará após a remoção. Supondo que alguém remova o <i>grub</i> porque gostaria de usar outro carregador de inicialização, um método seguro, embora um pouco difícil, é certificar-se de que o outro gerenciador de boot está funcionando antes de remover o <i>grub</i>.
</p>
<p>De qualquer forma, mesmo ao remover o <i>grub</i> antes de instalar outro gerenciador de boot, para o caso UEFI, execute:
</p>
<pre>$ efibootmgr
</pre>
<p>E verifique se o outro gerenciador de boot está listado na linha <code>BootOrder</code>. Se o <i>grub</i> não foi removido, o outro gerenciador de boot deve ser listado antes de <i>grub</i>. Se <i>grub</i> já foi removido, <i>grub</i> não deve ser mencionado nessa linha. Mas observe que esta é apenas uma condição necessária, mas não suficiente, para que a máquina inicialize com o outro gerenciador de boot. Nem é uma condição suficiente para a remoção completa do <i>grub</i>.
</p>
<p>Para máquinas UEFI e não UEFI, <code>grub-install</code> foi executado manualmente como parte da instalação do <i>grub</i>. Um de seus trabalhos para o caso UEFI foi executar o equivalente a <code>efibootmgr --create</code>. Como parte da remoção do <i>grub</i>, deve-se remover os produtos de <code>grub-install</code>. O oposto de <code>efibootmgr --create</code> é <code>efibootmgr --delete-bootnum</code>, ou um programa equivalente. Uma maneira de obter o número da entrada de inicialização para o comando <code>efibootmgr --delete-bootnum</code> é a partir da saída de <code>efibootmgr</code> (sem argumentos).
</p>
<p><code>grub-install</code> cria o diretório <code>/boot/grub</code> que precisa ser removido manualmente. Embora alguns usuários queiram mantê-lo, caso queiram instalar o <i>grub</i> novamente.
</p>
<p>Após migrar para o GPT/UEFI, pode-se querer remover o <a href="../pt/Partitioning.html#Master_Boot_Record_(c%C3%B3digo_de_inicializa%C3%A7%C3%A3o)" class="mw-redirect" title="Particionamento">código de inicialização do MBR</a> <a href="../pt/Dd.html#Remover_o_gerenciador_de_boot" title="Dd (Português)">usando dd</a>:
</p>
<pre># dd if=/dev/zero of=/dev/sd<i>X</i> bs=440 count=1
</pre>
<div class="mw-heading mw-heading2"><h2 id="Solução_de_problemas">
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span>Solução de problemas</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Sistemas_de_arquivos_sem_suporte">Sistemas de arquivos sem suporte</h3></div>
<p>No caso do GRUB não possuir suporte ao sistema de arquivos raiz, uma partição <code>/boot</code> alternativa com um sistema de arquivos compatível deve ser criada. Em alguns casos, a versão de desenvolvimento do GRUB <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-git/">grub-git</a></span><sup><small>AUR</small></sup> pode ter suporte nativo para o sistema de arquivos.
</p>
<p>Se o GRUB é usado com um sistema de arquivos incompatível, ele não é capaz de extrair o <a href="../pt/UUID.html" class="mw-redirect" title="UUID (Português)">UUID</a> da sua unidade, então ele usa nomes clássicos não-persistentes <code>/dev/<i>sdXx</i></code>. Nesse caso, você pode ter que editar manualmente <code>/boot/grub/grub.cfg</code> e substituir <code>root=/dev/<i>sdXx</i></code> com <code>root=UUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i></code>. Você pode usar o comando <code>blkid</code> para obter o UUID do seu dispositivo, consulte <a href="../en/0ba82b42eedfeccd2dfbba5044411a67.html" class="mw-redirect" title="Nomeação persistente de dispositivo de bloco">Nomeação persistente de dispositivo de bloco</a>.
</p>
<p>Embora o GRUB ofereça suporte a <a href="../en/F2FS.html" title="F2FS">F2FS</a> desde a versão 2.0.4, ele não pode ler corretamente seus arquivos de inicialização de uma partição F2FS que foi criada com o sinalizador <code>extra_attr</code> ativado.
</p>
<div class="mw-heading mw-heading3"><h3 id="Habilitar_mensagens_de_depuração">
<span id="Habilitar_mensagens_de_depura.C3.A7.C3.A3o"></span>Habilitar mensagens de depuração</h3></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Essas mudanças são sobrescritas ao <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">#Gerar o arquivo de configuração principal</a>.</div>
<p>Adicionar:
</p>
<pre>set pager=1
set debug=all
</pre>
<p>para <code>grub.cfg</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Mensagem_de_erro_sobre_estilo_msdos">Mensagem de erro sobre estilo msdos</h3></div>
<pre>grub-setup: warn: Este rótulo de partição estilo msdos não tem espaço vago pós-MBR; não será possível embuti-lo!
grub-setup: warn: Incorporação não permitida. O GRUB só pode ser instalado neste setup usando blocklists.
            Porém. blocklists são INSTÁVEIS e seu uso não é aconselhado.
grub-setup: error: If you really want blocklists, use --force.
</pre>
<p>Este erro pode ocorrer quando você tenta instalar o GRUB em um contêiner VMware. Leia mais sobre isso <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=581760#p581760">aqui</a>. Isso acontece quando a primeira partição começa logo após o MBR (bloco 63), sem o espaço usual de 1 MiB (2048 blocos) antes da primeira partição. Leia <a href="#Instru%C3%A7%C3%B5es_espec%C3%ADficas_de_Master_Boot_Record_(MBR)">#Instruções específicas de Master Boot Record (MBR)</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="UEFI">UEFI</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Erros_comuns_de_instalação">
<span id="Erros_comuns_de_instala.C3.A7.C3.A3o"></span>Erros comuns de instalação</h4></div>
<ul>
<li>Se você tiver um problema ao executar o <i>grub-install</i> com <i>sysfs</i> ou <i>procfs</i> e ele disser que você deve executar <code>modprobe efivarfs</code>, tente <a href="../en/Unified_Extensible_Firmware_Interface.html#Mount_efivarfs" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface#Mount efivarfs</a>.</li>
<li>Sem a opção <code>--target</code> ou <code>--directory</code>, o grub-install não pode determinar qual firmware deve ser instalado. Em tais casos, <code>grub-install</code> irá imprimir <code>source_dir não existe. Por favor, especifique --target ou --diretório</code>.</li>
<li>Se, depois de executar o grub-install, for informado que sua partição não se parece com uma partição EFI, a partição provavelmente não é <code>Fat32</code>.</li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="Criar_uma_entrada_do_GRUB_no_gerenciador_de_boot_do_firmware">Criar uma entrada do GRUB no gerenciador de boot do firmware</h4></div>
<p><code>grub-install</code> automaticamente tenta criar uma entrada no gerenciador de boot. Se não conseguir, então veja <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" class="mw-redirect" title="UEFI">UEFI#efibootmgr</a> para instruções de como usar o <code>efibootmgr</code> para criar uma entrada. No entanto, o problema possivelmente é devido a não ter inicializado o seu CD/USB no modo UEFI, como descrito em <a href="../pt/Installation_guide.html#Verificar_o_modo_de_inicializa%C3%A7%C3%A3o" title="Installation guide (Português)">Installation guide (Português)#Verificar o modo de inicialização</a>.
</p>
<p>Como outro exemplo de criação de uma entrada GRUB no gerenciador de boot do firmware, considere <code>efibootmgr -c</code>. Isso pressupõe que /dev/sda1 é a partição de sistema EFI e está montada em /boot/efi. Quais são o comportamento padrão de <code>efibootmgr</code>. Ele cria uma nova opção de inicialização chamada "Linux" e a coloca no topo da lista de ordem de inicialização. Opções podem ser passadas para modificar o comportamento padrão. O carregador de sistema operacional padrão é \EFI\arch\grub.efi.
</p>
<div class="mw-heading mw-heading4"><h4 id="Descartar_o_shell_de_recuperação">
<span id="Descartar_o_shell_de_recupera.C3.A7.C3.A3o"></span>Descartar o shell de recuperação</h4></div>
<p>Se o GRUB for carregado, mas cair no shell de recuperação sem erros, pode ser devido a um destes dois motivos:
</p>
<ul>
<li>Pode ser por causa de um <code>grub.cfg</code> ausente ou extraviado. Isso acontecerá se o UEFI do GRUB tiver sido instalado com <code>--boot-directory</code> e <code>grub.cfg</code> estiver faltando,</li>
<li>Isso também acontece se a partição de inicialização, que é codificada no arquivo <code>grubx64.efi</code>, for alterada.</li>
</ul>
<div class="mw-heading mw-heading4"><h4 id="UEFI_do_GRUB_não_carregado">
<span id="UEFI_do_GRUB_n.C3.A3o_carregado"></span>UEFI do GRUB não carregado</h4></div>
<p>Um exemplo de um UEFI funcional:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># efibootmgr -v</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">BootCurrent: 0000
Timeout: 3 seconds
BootOrder: 0000,0001,0002
Boot0000* GRUB HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\EFI\GRUB\grubx64.efi)
Boot0001* Shell HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\shellx64.efi)
Boot0002* Festplatte BIOS(2,0,00)P0: SAMSUNG HD204UI
</pre>
<p>Se a tela ficar preta por um segundo e a próxima opção de inicialização for tentada posteriormente, de acordo com <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=981560#p981560">esta publicação</a>, mova o GRUB para a raiz da partição pode ajudar. A opção de inicialização deve ser excluída e recriada posteriormente. A entrada para o GRUB deve ficar assim:
</p>
<pre>Boot0000* GRUB HD(1,800,32000,23532fbb-1bfa-4e46-851a-b494bfe9478c)File(\grubx64.efi)
</pre>
<div class="mw-heading mw-heading4"><h4 id="Caminho_de_inicialização_padrão/reserva">
<span id="Caminho_de_inicializa.C3.A7.C3.A3o_padr.C3.A3o.2Freserva"></span>Caminho de inicialização padrão/reserva</h4></div>
<p>Alguns firmwares UEFI exigem um arquivo inicializável em um local conhecido antes de mostrar as entradas de inicialização da UEFI NVRAM. Se este for o caso, <code>grub-install</code> irá reivindicar que <code>efibootmgr</code> adicionou uma entrada para inicializar o GRUB, no entanto a entrada não será mostrada no seletor de ordem de inicialização do VisualBIOS. A solução é instalar o GRUB no caminho de inicialização padrão/reserva:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=<i>esp</i> <b>--removable</b>
</pre>
<p>Alternativamente, você pode mover um executável do GRUB EFI já instalado para o caminho padrão/reserva:
</p>
<pre># mv <i>esp</i>/EFI/grub <i>esp</i>/EFI/BOOT
# mv <i>esp</i>/EFI/BOOT/grubx64.efi <i>esp</i>/EFI/BOOT/BOOTX64.EFI
</pre>
<div class="mw-heading mw-heading3"><h3 id="Assinatura_inválida">
<span id="Assinatura_inv.C3.A1lida"></span>Assinatura inválida</h3></div>
<p>Se tentar inicializar o Windows, resulta em um erro de "assinatura inválida", por exemplo, depois de reconfigurar partições ou adicionar discos rígidos adicionais, (re)mova a configuração do dispositivo do GRUB e reconfigure:
</p>
<pre># mv /boot/grub/device.map /boot/grub/device.map-old
# grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p><code>grub-mkconfig</code> agora deve mencionar todas as opções de inicialização encontradas, incluindo o Windows. Se funcionar, remova <code>/boot/grub/device.map-old</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Inicialização_congelando">
<span id="Inicializa.C3.A7.C3.A3o_congelando"></span>Inicialização congelando</h3></div>
<p>Se a inicialização for travada sem nenhuma mensagem de erro após o GRUB carregar o kernel e o disco em memória inicial, tente remover o parâmetro do kernel <code>add_efi_memmap</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Arch_não_encontrado_por_outros_sistemas_operacionais">
<span id="Arch_n.C3.A3o_encontrado_por_outros_sistemas_operacionais"></span>Arch não encontrado por outros sistemas operacionais</h3></div>
<p>Algumas pessoas relataram que outras distribuições podem ter problemas para encontrar o Arch Linux automaticamente com <code>os-prober</code>. Se esse problema ocorrer, foi relatado que a detecção pode ser melhorada com a presença de <code>/etc/lsb-release</code>. Esta ferramenta de arquivo e atualização está disponível com o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lsb-release">lsb-release</a></span>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Aviso_ao_instalar_em_chroot">Aviso ao instalar em chroot</h3></div>
<p>Ao instalar o GRUB em um sistema LVM em um ambiente chroot (por exemplo, durante a instalação do sistema), você pode receber avisos como
</p>
<pre>/run/lvm/lvmetad.socket: connect failed: No such file or directory
</pre>
<p>ou
</p>
<pre>WARNING: failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
</pre>
<p>Isto é porque <code>/run</code> não está disponível dentro do chroot. Esses avisos não impedem o sistema de inicializar, desde que tudo tenha sido feito corretamente, assim você pode continuar com a instalação.
</p>
<div class="mw-heading mw-heading3"><h3 id="GRUB_carrega_lentamente">GRUB carrega lentamente</h3></div>
<p>O GRUB pode levar muito tempo para carregar quando o espaço em disco está baixo. Verifique se você tem espaço livre em disco suficiente em sua partição <code>/boot</code> ou <code>/</code> quando tiver problemas.
</p>
<div class="mw-heading mw-heading3"><h3 id="erro:_sistema_de_arquivos_desconhecido">erro: sistema de arquivos desconhecido</h3></div>
<p>O GRUB pode emitir <code>erro: sistema de arquivos desconhecido</code> e se recusar a inicializar por alguns motivos. Se você tem certeza de que todos os <a href="../pt/UUID.html" class="mw-redirect" title="UUID (Português)">UUIDs</a> estão corretos e todos os sistemas de arquivos são válidos e compatíveis, pode ser que sua <a href="#Instru%C3%A7%C3%B5es_espec%C3%ADficas_de_Tabela_de_Parti%C3%A7%C3%A3o_GUID_(GPT)">partição de inicialização de BIOS</a> esteja localizada fora dos primeiros 2 TiB da unidade <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=195948">[1]</a>. Use uma ferramenta de particionamento de sua escolha para garantir que essa partição esteja totalmente localizada nos primeiros 2 TiB, depois reinstale e reconfigure o GRUB.
</p>
<p>Esse erro também pode ser causado por um sistema de arquivos <a href="../pt/Ext4.html" title="Ext4 (Português)">ext4</a> tem um conjuto de recursos sem suporte:
</p>
<ul>
<li>
<code>large_dir</code> -- sem suporte.</li>
<li>
<code>metadata_csum_seed</code> -- terá suporte no GRUB 2.11 (<a rel="nofollow" class="external text" href="https://git.savannah.gnu.org/cgit/grub.git/commit/?id=7fd5feff97c4b1f446f8fcf6d37aca0c64e7c763">commit</a>).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> Tenha certeza de checar o suporte ao GRUB para novas funcionalidades do <a href="../en/Sistema_de_arquivos.html" class="mw-redirect" title="Sistema de arquivos">sistema de arquivos</a> antes de você habilitar elas no sistema de arquivos do seu <code>/boot</code>.</div>
<div class="mw-heading mw-heading3"><h3 id="grub-reboot_não_está_redefinido">
<span id="grub-reboot_n.C3.A3o_est.C3.A1_redefinido"></span>grub-reboot não está redefinido</h3></div>
<p>O GRUB parece não conseguir gravar em partições BTRFS de raiz <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=166131">[2]</a>. Se você usar o grub-reboot para inicializar em outra entrada, será incapaz de atualizar seu ambiente em disco. Execute o grub-reboot a partir da outra entrada (por exemplo, ao alternar entre várias distribuições) ou considere um sistema de arquivos diferente. Você pode redefinir uma entrada "sticky" executando <code>grub-editenv create</code> e configurando <code>GRUB_DEFAULT=0</code> no <code>/etc/default/grub</code> (não esqueça <code>grub-mkconfig -o /boot/grub/grub.cfg</code>).
</p>
<div class="mw-heading mw-heading3"><h3 id="BTRFS_antigo_impede_a_instalação">
<span id="BTRFS_antigo_impede_a_instala.C3.A7.C3.A3o"></span>BTRFS antigo impede a instalação</h3></div>
<p>Se uma unidade estiver formatada com o BTRFS sem criar uma tabela de partição (por exemplo, <code>/dev/sdx</code>), mais tarde será gravada a tabela de partições, existindo partes do formato BTRFS que persistem. A maioria dos utilitários e sistemas operacionais não vê isso, mas o GRUB se recusará a instalar, mesmo com <code>--force</code>.
</p>
<pre># grub-install: warning: Attempting to install GRUB to a disk with multiple partition labels. This is not supported yet.
# grub-install: error: filesystem `btrfs' does not support blocklists.
</pre>
<p>Você pode zerar a unidade, mas a solução fácil que deixa seus dados sozinhos é apagar o superbloco BTRFS com <code>wipefs -o 0x10040 /dev/sdx</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Windows_8/10_não_encontrado">
<span id="Windows_8.2F10_n.C3.A3o_encontrado"></span>Windows 8/10 não encontrado</h3></div>
<p>Uma configuração no Windows 8/10 chamada "Hiberboot", "Hybrid Boot" or "Fast Boot" (inicialização rápida pode impedir que a partição do Windows seja montada, portanto, o <code>grub-mkconfig</code> não localizará uma instalação do Windows. Desativar o Hiberboot no Windows permitirá que ele seja adicionado ao menu GRUB.
</p>
<div class="mw-heading mw-heading3"><h3 id="Recuperação_do_GRUB_e_/boot_criptografado">
<span id="Recupera.C3.A7.C3.A3o_do_GRUB_e_.2Fboot_criptografado"></span>Recuperação do GRUB e /boot criptografado</h3></div>
<p>Ao usar um <a href="#/boot_criptografado">/boot criptografado</a> e você não conseguir inserir uma senha correta, você será jogado no prompt de recuperação do GRUB.
</p>
<p>Este prompt de recuperação do grub tem capacidades limitadas. Use os seguintes comandos para completar a inicialização:
</p>
<pre>grub rescue&gt; cryptomount &lt;partição&gt;
grub rescue&gt; insmod normal
grub rescue&gt; normal
</pre>
<p>Veja <a rel="nofollow" class="external text" href="https://blog.stigok.com/2017/12/29/decrypt-and-mount-luks-disk-from-grub-rescue-mode.html">esta publicação de blog</a><sup title="Status da última verificação: 404">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2023-04-23 ⓘ]</sup> para uma descrição melhor.
</p>
<div class="mw-heading mw-heading3"><h3 id="GRUB_está_instalado,_mas_o_menu_não_é_mostrado_na_inicialização">
<span id="GRUB_est.C3.A1_instalado.2C_mas_o_menu_n.C3.A3o_.C3.A9_mostrado_na_inicializa.C3.A7.C3.A3o"></span>GRUB está instalado, mas o menu não é mostrado na inicialização</h3></div>
<p>Verifique <code>/etc/default/grub</code> se <code>GRUB_TIMEOUT</code> está definido como <code>0</code> e, caso esteja, defina-o com um número positivo: ele define o número de segundos antes da entrada padrão do GRUB ser carregada. Verifique também se <code>GRUB_TIMEOUT_STYLE</code> está definido como <code>hidden</code> e defina como <code>menu</code>, para que o menu seja exibido por padrão. Então <a href="#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal">gere novamente o arquivo principal</a> e reinicie para verificar se funcionou.
</p>
<div class="mw-heading mw-heading2"><h2 id="Veja_também">
<span id="Veja_tamb.C3.A9m"></span>Veja também</h2></div>
<ul>
<li><a href="https://en.wikipedia.org/wiki/GNU_GRUB" class="extiw" title="wikipedia:GNU GRUB">Wikipedia:GNU GRUB</a></li>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub.html">Manual oficial do GRUB</a></li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/Grub2">Página wiki do Ubuntu sobre GRUB</a></li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/UEFIBooting">Página wiki sobre GRUB descrevendo passos para compilar para sistemas UEFI</a></li>
<li><a href="https://en.wikipedia.org/wiki/BIOS_Boot_partition" class="extiw" title="wikipedia:BIOS Boot partition">Wikipedia:BIOS Boot partition</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20160424042444/http://members.iinet.net/~herman546/p20/GRUB2%20Configuration%20File%20Commands.html#Editing_etcgrub.d05_debian_theme">Como configurar o GRUB</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Boot_loaders.html" title="Category:Boot loaders (Português)">Boot loaders (Português)</a></li>
<li><a href="../pt/Category:GNU.html" title="Category:GNU (Português)">GNU (Português)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GRUB_(Portugu%C3%AAs)&amp;oldid=833852">https://wiki.archlinux.org/index.php?title=GRUB_(Português)&amp;oldid=833852</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 13 May 2025, at 21:11.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">GRUB (Português)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
