<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>dd (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dd_Português rootpage-Dd_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Instalação" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Instalação</div>
		</a>
		
		<ul id="toc-Instalação-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Clonagem_e_restauração_de_disco" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Clonagem_e_restaura%C3%A7%C3%A3o_de_disco">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Clonagem e restauração de disco</div>
		</a>
		
			<button aria-controls="toc-Clonagem_e_restauração_de_disco-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Clonagem e restauração de disco subsection</span>
			</button>
		
		<ul id="toc-Clonagem_e_restauração_de_disco-sublist" class="vector-toc-list">
			<li id="toc-Clonando_uma_partição" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clonando_uma_parti%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Clonando uma partição</div>
			</a>
			
			<ul id="toc-Clonando_uma_partição-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Clonando_todo_um_disco_rígido" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clonando_todo_um_disco_r%C3%ADgido">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Clonando todo um disco rígido</div>
			</a>
			
			<ul id="toc-Clonando_todo_um_disco_rígido-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fazer_backup_da_tabela_de_partição" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fazer_backup_da_tabela_de_parti%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Fazer backup da tabela de partição</div>
			</a>
			
			<ul id="toc-Fazer_backup_da_tabela_de_partição-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Criar_imagem_de_disco" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Criar_imagem_de_disco">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Criar imagem de disco</div>
			</a>
			
			<ul id="toc-Criar_imagem_de_disco-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Restaurar_o_sistema" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Restaurar_o_sistema">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.5</span>Restaurar o sistema</div>
			</a>
			
			<ul id="toc-Restaurar_o_sistema-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Aplicação_de_patch_em_arquivo_binário" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Aplica%C3%A7%C3%A3o_de_patch_em_arquivo_bin%C3%A1rio">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Aplicação de patch em arquivo binário</div>
		</a>
		
		<ul id="toc-Aplicação_de_patch_em_arquivo_binário-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fazer_backup_e_restaurar_MBR" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fazer_backup_e_restaurar_MBR">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Fazer backup e restaurar MBR</div>
		</a>
		
			<button aria-controls="toc-Fazer_backup_e_restaurar_MBR-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Fazer backup e restaurar MBR subsection</span>
			</button>
		
		<ul id="toc-Fazer_backup_e_restaurar_MBR-sublist" class="vector-toc-list">
			<li id="toc-Remover_o_gerenciador_de_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Remover_o_gerenciador_de_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Remover o gerenciador de boot</div>
			</a>
			
			<ul id="toc-Remover_o_gerenciador_de_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Resolução_de_problemas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Resolu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Resolução de problemas</div>
		</a>
		
			<button aria-controls="toc-Resolução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Resolução de problemas subsection</span>
			</button>
		
		<ul id="toc-Resolução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Leitura_parcial" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Leitura_parcial">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Leitura parcial</div>
			</a>
			
			<ul id="toc-Leitura_parcial-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">dd (Português)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Dd" title="Dd – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Dd.html" title="Dd – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Dd.html" title="Dd – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Dd" title="Dd – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Dd.html" title="Dd – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Dd" title="Dd – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Dd.html" title="Dd">dd</a>. Data da última tradução: 2020-04-09. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Dd&amp;diff=0&amp;oldid=591535">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/Disk_cloning.html" class="mw-redirect" title="Clonagem de disco">Clonagem de disco</a></li>
<li><a href="../pt/USB_flash_installation_medium.html#Usando_dd" class="mw-redirect" title="Mídia de instalação em flash USB">Mídia de instalação em flash USB#Usando dd</a></li>
<li><a href="../en/Benchmarking.html#dd" title="Benchmarking">Benchmarking#dd</a></li>
<li><a href="../en/Securely_wipe_disk.html#dd" title="Securely wipe disk">Securely wipe disk#dd</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/dd_(Unix)" class="extiw" title="wikipedia:dd (Unix)">dd</a> é um dos <a href="../pt/Core_utilities.html" class="mw-redirect" title="Utilitários principais">utilitários principais</a> cujo propósito primário é converter e copiar um arquivo.
</p>
<p>Similarmente ao <i>cp</i>, o <i>dd</i> faz, por padrão, uma cópia bit a bit do arquivo, mas com recursos de controle de fluxo de E/S de nível inferior.
</p>
<p>Para mais informações, consulte <span class="plainlinks archwiki-template-man" title="$ man 1 dd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/dd.1">dd(1)</a></span> ou a <a rel="nofollow" class="external text" href="https://www.gnu.org/software/coreutils/dd">documentação completa</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Por padrão, <i>dd</i> não produz nada até que a tarefa seja finalizada. Para monitorar o progresso da operação, adicione a opção <code>status=progress</code> ao comando.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Deve-se ter extrema cautela ao usar o <i>dd</i>, como em qualquer comando desse tipo, ele pode destruir dados irreversivelmente.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id="Instala.C3.A7.C3.A3o"></span><span class="mw-headline" id="Instalação">Instalação</span>
</h2>
<p><i>dd</i> é parte do GNU <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coreutils">coreutils</a></span>. Para outros utilitários no pacote, por favor, confira <a href="../pt/Core_utilities.html" class="mw-redirect" title="Utilitários principais">Utilitários principais</a>.
</p>
<h2>
<span id="Clonagem_e_restaura.C3.A7.C3.A3o_de_disco"></span><span class="mw-headline" id="Clonagem_e_restauração_de_disco">Clonagem e restauração de disco</span>
</h2>
<p>O comando <i>dd</i> é uma ferramenta simples, mas versátil e poderosa. Ele pode ser usado para copiar da origem para o destino, bloco por bloco, independentemente de seus tipos de sistema de arquivos ou sistemas operacionais. Um método conveniente é usar <i>dd</i> em um ambiente <i>live</i>, como em um Live CD.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Assim como com qualquer comando desse tipo, você deve ter muita cautela ao usá-lo; pode destruir dados. Lembre-se da ordem do arquivo de entrada (<code>if=</code>) e do arquivo de saída (<code>of=</code>) e não os inverta! Certifique-se sempre de que a unidade ou partição de destino (<code>of=</code>) seja de tamanho igual ou maior que a origem (<code>if=</code>).
</div>
<h3>
<span id="Clonando_uma_parti.C3.A7.C3.A3o"></span><span class="mw-headline" id="Clonando_uma_partição">Clonando uma partição</span>
</h3>
<p>Do disco físico <code>/dev/sda</code>, partição 1, para disco físico <code>/dev/sdb</code>, partição 1:
</p>
<pre># dd if=/dev/sda1 of=/dev/sdb1 bs=64K conv=noerror,sync status=progress
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Tenha cuidado se a partição de saída <code>of</code> (<code>sdb1</code> no exemplo) não existir, <i>dd</i> criará um arquivo com este nome e começará a encher seu sistema de arquivos raiz.</div>
<h3>
<span id="Clonando_todo_um_disco_r.C3.ADgido"></span><span class="mw-headline" id="Clonando_todo_um_disco_rígido">Clonando todo um disco rígido</span>
</h3>
<p>Do disco físico <code>/dev/sda</code> para um disco físico <code>/dev/sdb</code>:
</p>
<pre># dd if=/dev/sda of=/dev/sdb bs=64K conv=noerror,sync status=progress
</pre>
<p>Isso irá clonar a unidade inteira, incluindo o MBR (e, portanto, o gerenciador de boot), todas as partições, UUIDs e dados.
</p>
<ul>
<li>
<code>bs=</code> define o tamanho do bloco. O padrão é 512 bytes, que é o tamanho de bloco "clássico" para discos rígidos desde o início dos anos 80, mas não é o mais conveniente. Use um valor maior, 64K ou 128K. Além disso, leia o aviso abaixo, porque há mais do que apenas "tamanhos de bloco" - também influencia a maneira como os erros de leitura se propagam. Veja <a rel="nofollow" class="external autonumber" href="https://www.mail-archive.com/eug-lug@efn.org/msg12073.html">[1]</a> e <a rel="nofollow" class="external autonumber" href="http://blog.tdg5.com/tuning-dd-block-size/">[2]</a> para detalhes e para descobrir o melhor valor de bs para o seu caso de uso.</li>
<li>
<code>noerror</code> instrui o <i>dd</i> a continuar a operação, ignorando todos os erros de leitura. O comportamento padrão para <i>dd</i> é parar em qualquer erro.</li>
<li>
<code>sync</code> preenche os blocos de entrada com zeros se houver algum erro de leitura, para que os deslocamentos de dados permaneçam em sincronia.</li>
<li>
<code>status=progress</code> mostra estatísticas de transferência periódicas que podem ser usadas para estimar quando a operação pode estar completa.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O tamanho do bloco que você especifica influencia como os erros de leitura são manipulados. Leia abaixo. Para recuperação de dados, use <a href="../pt/Disk_cloning.html#Usando_ddrescue" class="mw-redirect" title="Clonagem de disco">ddrescue</a>.</div>
<p>O utilitário <i>dd</i> tecnicamente possui um "tamanho de bloco de entrada" (IBS) e um "tamanho de bloco de saída" (OBS). Quando você define <code>bs</code>, você efetivamente define IBS e OBS. Normalmente, se o tamanho do bloco for, digamos, 1 MiB, o <i>dd</i> lerá 1024×1024 bytes e gravará essa mesma quantidade de bytes. Mas se ocorrer um erro de leitura, as coisas vão dar errado. Muitas pessoas parecem pensar que o <i>dd</i> irá "preencher erros de leitura com zeros" se você usar as opções <code>noerror, sync</code>, mas isto não é o que acontece. O <i>dd</i> irá, segundo a documentação, preencher o OBS para o tamanho IBS <i>depois de completar sua leitura</i>, o que significa adicionar zeros no <i>fim</i> do bloco. Isso significa, para um disco, que efetivamente todo o 1 MiB seria confuso por causa de um único erro de leitura de 512 bytes no início da leitura: 12ERROR89 se tornaria 128900000 em vez de 120000089.
</p>
<p>Se você está certo de que o seu disco não contém erros, você pode continuar usando um tamanho de bloco maior, o que aumentará a velocidade da cópia várias vezes. Por exemplo, a alteração de bs de 512 para 64K alterou a velocidade de cópia de 35 MB/s para 120 MB/s em um sistema Celeron de 2,7 GHz. Mas lembre-se de que os erros de leitura no disco de origem terminarão como <i>erros de bloco</i> no disco de destino, ou seja, um único erro de leitura de 512 bytes estragará todo o bloco de saída de 64 KiB.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Se você quiser ver o progresso de <i>dd</i>, use a opção <code>status=progress</code>. Veja <span class="plainlinks archwiki-template-man" title="$ man 1 dd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/dd.1">dd(1)</a></span> para detalhes.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Para obter UUIDs únicos de um sistema de arquivos <i>ext2/3/4</i>, use <code>tune2fs/dev/sd<i>XY</i> -U random</code> em cada partição. Para partições de swap, use <code>mkswap/dev/sd<i>XY</i></code>.</li>
<li>Mudanças na tabela de partição com o <i>dd</i> não são registradas pelo kernel. Para notificar as alterações sem reinicializar, use um utilitário como <i>partprobe</i> (parte do <a href="../en/Parted.html" class="mw-redirect" title="GNU Parted">GNU Parted</a>).</li>
</ul>
</div>
<h3>
<span id="Fazer_backup_da_tabela_de_parti.C3.A7.C3.A3o"></span><span class="mw-headline" id="Fazer_backup_da_tabela_de_partição">Fazer backup da tabela de partição</span>
</h3>
<p>Veja <a href="../en/Fdisk.html#Backup_and_restore_partition_table" title="Fdisk">fdisk#Backup and restore partition table</a> ou <a href="../en/GPT_fdisk.html#Backup_and_restore_partition_table" class="mw-redirect" title="Gdisk">gdisk#Backup and restore partition table</a>.
</p>
<h3><span class="mw-headline" id="Criar_imagem_de_disco">Criar imagem de disco</span></h3>
<p>Inicialize a partir de uma mídia ao vivo e certifique-se de que nenhuma partição seja montada a partir do disco rígido de origem.
</p>
<p>Em seguida, monte o disco rígido externo e faça o backup da unidade:
</p>
<pre># dd if=/dev/sda conv=sync,noerror bs=64K | gzip -c  &gt; <i>/caminho/para/backup.img.gz</i>
</pre>
<p>Se necessário (por exemplo, quando os arquivos resultantes serão armazenados em um sistema de arquivos <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a>), divida a imagem do disco em vários volumes (veja também <span class="plainlinks archwiki-template-man" title="$ man 1 split"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/split.1">split(1)</a></span>):
</p>
<pre># dd if=/dev/sda conv=sync,noerror bs=64K | gzip -c | split -a3 -b2G - <i>/caminho/para/backup.img.gz</i>
</pre>
<p>Se não houver espaço em disco suficiente localmente, você poderá enviar a imagem por meio de <i>ssh</i>:
</p>
<pre># dd if=/dev/sda conv=sync,noerror bs=64K | gzip -c | ssh usuario@local dd of=backup.img.gz
</pre>
<p>Finalmente, salve informações extras sobre a geometria da unidade necessária para interpretar a tabela de partição armazenada na imagem. O mais importante dos quais é o tamanho do cilindro.
</p>
<pre># fdisk -l /dev/sda &gt; <i>/caminho/para/lista_fdisk.info</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Você pode querer usar um tamanho de bloco (<code>bs=</code>) que seja igual à quantidade de cache no HD que você está fazendo backup. Por exemplo, <code>bs=8192K</code> funciona para um cache de 8 MiB. O 64 KiB mencionado neste artigo é melhor que o padrão <code>bs=512</code> bytes, mas pode ser mais rápido se executado com um <code>bs=</code> maior.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> O <i>gzip</i> só é capaz de compactar dados usando um único núcleo ("core") de CPU, o que leva a um "throughput" de dados consideravelmente menor que as velocidades de gravação no armazenamento moderno. Para aproveitar a compactação com vários núcleos e criar uma imagem de disco mais rapidamente, pode-se instalar o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pigz">pigz</a></span> e simplesmente substituir o comando <code>gzip -c</code> acima por <code>pigz -c</code>. Para discos grandes, isso pode economizar horas.</div>
<h3><span class="mw-headline" id="Restaurar_o_sistema">Restaurar o sistema</span></h3>
<p>Para restaurar seu sistema:
</p>
<pre># gunzip -c <i>/caminho/para/backup.img.gz</i> | dd of=/dev/sda
</pre>
<p>Quando a imagem tiver sido dividida com <i>split</i>, use o seguinte:
</p>
<pre># cat <i>/caminho/para/backup.img.gz*</i> | gunzip -c | dd of=/dev/sda
</pre>
<h2>
<span id="Aplica.C3.A7.C3.A3o_de_patch_em_arquivo_bin.C3.A1rio"></span><span class="mw-headline" id="Aplicação_de_patch_em_arquivo_binário">Aplicação de patch em arquivo binário</span>
</h2>
<p>
Caso queira substituir a posição <code>0x123AB</code> de um arquivo com a sequência hexadecimal <code>FF C0 14</code>, isso pode ser feito com a linha de comando: </p>
<pre># printf '\xff\xc0\x14' | dd seek=$((0x123AB)) conv=notrunc bs=1 of=<i>/path/to/file</i></pre>
<h2><span class="mw-headline" id="Fazer_backup_e_restaurar_MBR">Fazer backup e restaurar MBR</span></h2>
<p>Antes de fazer alterações em um disco, você pode querer fazer backup da tabela de partição e do esquema de partição da unidade. Você também pode usar um backup para copiar o mesmo layout de partição para várias unidades.
</p>
<p>O MBR é armazenado nos primeiros 512 bytes do disco. Consiste em 4 partes:
</p>
<ol>
<li>Os primeiros 440 bytes contêm o código de <i>bootstrap</i> (gerenciador de boot).</li>
<li>Os próximos 6 bytes contêm a assinatura do disco.</li>
<li>Os próximos 64 bytes contêm a tabela de partição (4 entradas de 16 bytes cada, uma entrada para cada partição primária).</li>
<li>Os últimos 2 bytes contêm uma assinatura de inicialização.</li>
</ol>
<p>Para salvar o MBR como <code>arquivo_mbr.img</code>:
</p>
<pre># dd if=/dev/sd<i>X</i> of=<i>/caminho/para/arquivo_mbr.img</i> bs=512 count=1
</pre>
<p>Você também pode extrair o MBR de uma imagem completa do disco dd:
</p>
<pre># dd if=<i>/caminho/para/disco.img</i> of=<i>/caminho/para/arquivo_mbr.img</i> bs=512 count=1
</pre>
<p>Para restaurar (cuidado, isso destrói a tabela de partição existente e, com ela, o acesso a todos os dados no disco):
</p>
<pre># dd if=/<i>caminho/para/arquivo_mbr.img</i> of=/dev/sd<i>X</i> bs=512 count=1
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Restaurar o MBR com uma tabela de partição incompatível tornará seus dados ilegíveis e quase impossíveis de recuperar. Se você simplesmente precisar reinstalar o gerenciador de boot, consulte suas respectivas páginas, pois elos também empregam a <a rel="nofollow" class="external text" href="https://www.pixelbeat.org/docs/disk/">região de compatibilidade do DOS</a>: <a href="../pt/GRUB.html" title="GRUB (Português)">GRUB</a> ou <a href="../en/Syslinux.html" title="Syslinux">Syslinux</a>.</div>
<p>Se você deseja restaurar apenas o gerenciador de boot, mas não as entradas da tabela de partição primária, basta restaurar os primeiros 440 bytes do MBR:
</p>
<pre># dd if=<i>/caminho/para/arquivo_mbr.img</i> of=/dev/sd<i>X</i> bs=440 count=1
</pre>
<p>Para restaurar apenas a tabela de partição, você deve usar:
</p>
<pre># dd if=<i>/caminho/para/arquivo_mbr.img</i> of=/dev/sd<i>X</i> bs=1 skip=446 count=64
</pre>
<h3><span class="mw-headline" id="Remover_o_gerenciador_de_boot">Remover o gerenciador de boot</span></h3>
<p>Para apagar o código de bootstrap do MBR (pode ser útil se você tiver que fazer uma reinstalação completa de outro sistema operacional) apenas os primeiros 440 bytes precisam ser zerados:
</p>
<pre># dd if=/dev/zero of=/dev/sd<i>X</i> bs=440 count=1
</pre>
<h2>
<span id="Resolu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Resolução_de_problemas">Resolução de problemas</span>
</h2>
<h3><span class="mw-headline" id="Leitura_parcial">Leitura parcial</span></h3>
<p>Arquivos criados com <i>dd</i> podem terminar com um tamanho menor do que o solicitado se o bloco completo de entrada não está disponível e a chamada de sistema <span class="plainlinks archwiki-template-man" title="$ man 2 read"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/read.2">read(2)</a></span> retorna antes do esperado. Isto pode acontecer quando ler de um <span class="plainlinks archwiki-template-man" title="$ man 7 pipe"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pipe.7">pipe(7)</a></span> ou do <code>/dev/random</code> e não tem entropia o bastante<a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/a/121888">[3]</a>, ou do <code>/dev/urandom</code> quando ler mais do que 32 MiB<a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/a/178957">[4]</a>.
</p>
<p>É possível, mas não garantido, que <i>dd</i> vai avisá-lo sobre o problema:
</p>
<pre>dd: warning: partial read (<i>X</i> bytes); suggest iflag=fullblock
</pre>
<p>A solução é fazer como o aviso recomenda e adicionar <code>iflag=fullblock</code> para o comando, Por exemplo:
</p>
<pre>$ dd if=/dev/random of=grande_segredo.img bs=1K count=1 iflag=fullblock
$ dd if=/dev/urandom of=grande_segredo.img bs=40M count=1 iflag=fullblock
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> É fortemente recomendado sempre adicionar a opção <code>iflag=fullblock</code> quando o arquivo de entrada é o <code>/dev/random</code> ou <code>/dev/urandom</code>.</div>
<p>Uma alternativa para <code>/dev/urandom</code> é especificar o tamanho do bloco menor que 32 MiB, com um maior número de copías. Por exemplo:
</p>
<pre>$ dd if=/dev/urandom of=grande_segredo.img bs=1M count=40
</pre>
<p>Quando ler de uma pipe, uma alternativa para <code>iflag=fullblock</code> é limitar <code>bs</code> para o valor constante <code>PIPE_BUF</code>, definido em <code>/usr/include/linux/limits.h</code> <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/556016/cat-dd-pipe-causes-partial-reads-without-iflag-fullblock-why-truncated-to-128">[5]</a>. Por exemplo:
</p>
<pre>$ cat entrada.img | dd of=saida.img bs=4k count=100
</pre>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Commands.html" title="Category:Commands (Português)">Commands (Português)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dd_(Portugu%C3%AAs)&amp;oldid=803724">https://wiki.archlinux.org/index.php?title=Dd_(Português)&amp;oldid=803724</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 17 March 2024, at 09:22.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
