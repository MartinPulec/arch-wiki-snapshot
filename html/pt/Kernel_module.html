<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Kernel module (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.45.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Kernel_module_Português rootpage-Kernel_module_Português skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Obtendo_informações" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Obtendo_informa%C3%A7%C3%B5es">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Obtendo informações</span>
			</div>
		</a>
		
		<ul id="toc-Obtendo_informações-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Carregamento_automático_de_módulos_com_systemd" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Carregamento_autom%C3%A1tico_de_m%C3%B3dulos_com_systemd">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Carregamento automático de módulos com systemd</span>
			</div>
		</a>
		
		<ul id="toc-Carregamento_automático_de_módulos_com_systemd-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Manuseio_de_módulos_de_kernel" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Manuseio_de_m%C3%B3dulos_de_kernel">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Manuseio de módulos de kernel</span>
			</div>
		</a>
		
		<ul id="toc-Manuseio_de_módulos_de_kernel-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Opções_de_configuração_de_módulos" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Op%C3%A7%C3%B5es_de_configura%C3%A7%C3%A3o_de_m%C3%B3dulos">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Opções de configuração de módulos</span>
			</div>
		</a>
		
			<button aria-controls="toc-Opções_de_configuração_de_módulos-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Opções de configuração de módulos subsection</span>
			</button>
		
		<ul id="toc-Opções_de_configuração_de_módulos-sublist" class="vector-toc-list">
			<li id="toc-Carregá-lo_manualmente_usando_modprobe" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Carreg%C3%A1-lo_manualmente_usando_modprobe">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.1</span>
					<span>Carregá-lo manualmente usando modprobe</span>
				</div>
			</a>
			
			<ul id="toc-Carregá-lo_manualmente_usando_modprobe-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usando_arquivos_em_/etc/modprobe.d/" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_arquivos_em_/etc/modprobe.d/">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.2</span>
					<span>Usando arquivos em /etc/modprobe.d/</span>
				</div>
			</a>
			
			<ul id="toc-Usando_arquivos_em_/etc/modprobe.d/-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usando_a_linha_de_comando_do_kernel" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_a_linha_de_comando_do_kernel">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">4.3</span>
					<span>Usando a linha de comando do kernel</span>
				</div>
			</a>
			
			<ul id="toc-Usando_a_linha_de_comando_do_kernel-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Aliasing" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Aliasing">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Aliasing</span>
			</div>
		</a>
		
		<ul id="toc-Aliasing-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Adicionar_um_módulo_em_uma_lista_negra_(Blacklisting)" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Adicionar_um_m%C3%B3dulo_em_uma_lista_negra_(Blacklisting)">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Adicionar um módulo em uma lista negra (Blacklisting)</span>
			</div>
		</a>
		
			<button aria-controls="toc-Adicionar_um_módulo_em_uma_lista_negra_(Blacklisting)-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Adicionar um módulo em uma lista negra (Blacklisting) subsection</span>
			</button>
		
		<ul id="toc-Adicionar_um_módulo_em_uma_lista_negra_(Blacklisting)-sublist" class="vector-toc-list">
			<li id="toc-Usando_arquivos_em_/etc/modprobe.d/_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_arquivos_em_/etc/modprobe.d/_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Usando arquivos em /etc/modprobe.d/</span>
				</div>
			</a>
			
			<ul id="toc-Usando_arquivos_em_/etc/modprobe.d/_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usando_a_linha_de_comando_do_kernel_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usando_a_linha_de_comando_do_kernel_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Usando a linha de comando do kernel</span>
				</div>
			</a>
			
			<ul id="toc-Usando_a_linha_de_comando_do_kernel_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solução_de_problemas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Solu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Solução de problemas</span>
			</div>
		</a>
		
			<button aria-controls="toc-Solução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solução de problemas subsection</span>
			</button>
		
		<ul id="toc-Solução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Módulos_não_podem_ser_carregados" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#M%C3%B3dulos_n%C3%A3o_podem_ser_carregados">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">7.1</span>
					<span>Módulos não podem ser carregados</span>
				</div>
			</a>
			
			<ul id="toc-Módulos_não_podem_ser_carregados-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Veja também</span>
			</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Kernel module (Português)</span></h1>
							
</header>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Kernel_module.html" title="Kernel module">Kernel module</a>. Data da última tradução: 2020-01-18. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Kernel_module&amp;diff=0&amp;oldid=595461">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../en/c1ff62bdd92244b26f068ec34095d78f.html" class="mw-redirect" title="Depuração de inicialização">Depuração de inicialização</a></li>
<li><a href="../pt/Kernel.html" title="Kernel (Português)">Kernel</a></li>
<li><a href="../en/3f4289ec8f0dc020cab18174a829b655.html" class="mw-redirect" title="Parâmetros do kernel">Parâmetros do kernel</a></li>
<li><a href="../en/Compile_kernel_module.html" title="Compile kernel module">Compile kernel module</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Loadable_kernel_module" class="extiw" title="wikipedia:Loadable kernel module">Módulos de Kernel</a> são peças de código que podem ser carregadas e descarregadas no kernel de acordo com a demanda. Elas estendem a funcionalidade do kernel sem a necessidade de reinicialização do sistema. 
</p>
<p>Para criar um módulo de kernel, você pode ler <a rel="nofollow" class="external text" href="https://tldp.org/LDP/lkmpg/2.6/html/index.html">The Linux Kernel Module Programming Guide</a> <i>(inglês)</i>. Um módulo pode ser configurado como para executar de modo embutido ao kernel ou ser carregado separadamente. Para carregar ou remover um módulo dinamicamente, ele deve ser configurado como em um módulo carregável na configuração do kernel (a linha relacionada ao módulo exibirá a letra <code>M</code>).
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Obtendo_informações">
<span id="Obtendo_informa.C3.A7.C3.B5es"></span>Obtendo informações</h2></div>
<p>Módulos são gravados em <code>/usr/lib/modules/<i>versão_do_kernel</i></code>. O comando <code>uname -r</code> pode ser usado para obter a atual versão do kernel em execução.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Nomes de módulo costumam usar <i>underlines</i> (<code>_</code>) ou traços (<code>-</code>); entretanto, esses símbolos são permutáveis ao usar o comando <code>modprobe</code> e nos arquivos de configuração em <code>/etc/modprobe.d/</code>.</div>
<p>Para exibir quais módulos do kernel estão atualmente carregados:
</p>
<pre>$ lsmod
</pre>
<p>Para exibir informação sobre um módulo:
</p>
<pre>$ modinfo <i>nome_do_módulo</i>
</pre>
<p>Para listar opções que estão definidas para um módulo carregado:
</p>
<pre>$ systool -v -m <i>nome_do_módulo</i>
</pre>
<p>Para mostrar a configuração de modo mais compreensível de todos os módulos:
</p>
<pre>$ modprobe -c | less
</pre>
<p>Para exibir a configuração de um módulo em particular:
</p>
<pre>$ modprobe -c | grep <i>nome_do_módulo</i>
</pre>
<p>Listar as dependências de um módulo (ou <i>alias</i>), incluindo o módulo em si:
</p>
<pre>$ modprobe --show-depends <i>nome_do_módulo</i>
</pre>
<div class="mw-heading mw-heading2"><h2 id="Carregamento_automático_de_módulos_com_systemd">
<span id="Carregamento_autom.C3.A1tico_de_m.C3.B3dulos_com_systemd"></span>Carregamento automático de módulos com systemd</h2></div>
<p>Hoje, todos os módulos necessários ao funcionamento do sistema são automaticamente gerenciados por <a href="../en/Udev.html" title="Udev">udev</a>, então se não houver necessidade de usar quaisquer módulos de kernel adicionais, não há necessidade de acrescentar módulos que deverão ser carregados na inicialização do sistema em qualquer arquivo de configuração. Entretanto, existem casos onde você pode querer adicionar um módulo extra durante o processo de inicialização do sistema, ou acrescentá-lo numa lista negra (blacklist) para que seu computador funcione adequadamente.
</p>
<p>Módulos de kernel podem ser explicitamente listados em arquivos dentro de <code>/etc/modules-load.d/</code> para que o systemd os carregue durante a inicialização do sistema. Cada arquivo de configuração é nomeado no estilo de <code>/etc/modules-load.d/&lt;programa&gt;.conf</code>. Arquivos de configuração simplesmente contém uma lista de módulos de kernel a serem carregados, separados linha a linha. Linhas vazias e linhas cujo primeiro caractere sem espaço em branco seja <code>#</code> ou <code>;</code> são ignoradas.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modules-load.d/virtio-net.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Carrega virtio_net.ko na inicialização
virtio_net</pre>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 5 modules-load.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/modules-load.d.5">modules-load.d(5)</a></span> para mais detalhes.
</p>
<div class="mw-heading mw-heading2"><h2 id="Manuseio_de_módulos_de_kernel">
<span id="Manuseio_de_m.C3.B3dulos_de_kernel"></span>Manuseio de módulos de kernel</h2></div>
<p>Módulos de kernel são manuseados por ferramentas fornecidas pelo pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmod">kmod</a></span>. Você pode usar essas ferramentas manualmente.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Caso tenha atualizado seu kernel mas ainda não tenha reiniciado o sistema, <i>modprobe</i> irá falhar com ou sem mensagem de erro e irá fechar com código 1, porque o caminho <code>/usr/lib/modules/$(uname -r)/</code> não existirá mais neste cenário. Verifique manualmente se o caminho existe quando <i>modprobe</i> falhar, para determinar se este é o caso.</div>
<p>Para carregar um módulo:
</p>
<pre># modprobe <i>nome_do_módulo</i>
</pre>
<p>Para carregar um módulo pelo seu nome de arquivo (isto é, algum que não esteja instalado em <code>/usr/lib/modules/$(uname -r)/</code>):
</p>
<pre># insmod <i>nome_de_arquivo</i> [args]
</pre>
<p>Para descarregar um módulo:
</p>
<pre># modprobe -r <i>nome_do_módulo</i>
</pre>
<p>Ou alternativamente:
</p>
<pre># rmmod <i>nome_do_módulo</i>
</pre>
<div class="mw-heading mw-heading2"><h2 id="Opções_de_configuração_de_módulos">
<span id="Op.C3.A7.C3.B5es_de_configura.C3.A7.C3.A3o_de_m.C3.B3dulos"></span>Opções de configuração de módulos</h2></div>
<p>Para passar um parâmetro para um módulo de kernel, você passa-o manualmente com modprobe ou assegura certos parâmetros que sempre serão aplicados usando um arquivo de configuração do modprobe, ou ainda usando a linha de comando do kernel.
</p>
<div class="mw-heading mw-heading3"><h3 id="Carregá-lo_manualmente_usando_modprobe">
<span id="Carreg.C3.A1-lo_manualmente_usando_modprobe"></span>Carregá-lo manualmente usando modprobe</h3></div>
<p>A mais básica forma de passar parâmetros para um módulo é através do comando modprobe. Parâmetros são especificados em linha de comando usando simples valores <code><i>key=value</i></code>:
</p>
<pre># modprobe <i>nome_do_módulo nome_do_parâmetro=valor_do_parâmetro</i>
</pre>
<div class="mw-heading mw-heading3"><h3 id="Usando_arquivos_em_/etc/modprobe.d/">
<span id="Usando_arquivos_em_.2Fetc.2Fmodprobe.d.2F"></span>Usando arquivos em /etc/modprobe.d/</h3></div>
<p>Arquivos no diretório <code>/etc/modprobe.d/</code> podem ser usados para passar configurações do módulo ao <a href="../en/Udev.html" title="Udev">udev</a>, o qual usará <code>modprobe</code> para gerenciar o carregamento de módulos durante a inicialização do sistema. Arquivos de configuração neste diretório podem ter qualquer nome, desde termine com a extensão <code>.conf</code>. A sintaxe é:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/myfilename.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options <i>nome_do_módulo nome_do_parâmetro=valor_do_parâmetro</i></pre>
<p>Por exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/thinkfan.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Em ThinkPads, a daemon 'thinkfan' permite controlar a velocidade da ventoinha
options thinkpad_acpi fan_control=1</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Se qualquer dos módulos afetados estão carregados pela initramfs, então será necessário adicionar o arquivo <code>.conf</code> apropriado a <code>FILES</code> em <a href="../pt/Mkinitcpio.html" title="Mkinitcpio (Português)">mkinitcpio.conf</a> ou usar o <a href="../pt/Mkinitcpio.html#HOOKS" title="Mkinitcpio (Português)">hook</a> <code>modconf</code>, para que então ele seja incluído na initramfs. Para ver o conteúdo de uma initramfs padrão, use <code>lsinitcpio /boot/initramfs-linux.img</code>.</div>
<div class="mw-heading mw-heading3"><h3 id="Usando_a_linha_de_comando_do_kernel">Usando a linha de comando do kernel</h3></div>
<p>Se o módulo estiver embutido dentro do kernel, você pode também passar opções ao módulo usando a linha de comando do kernel. Para todos os gerenciadores de boot comuns, a seguinte sintaxe está correta:
</p>
<pre><i>nome_do_módulo.nome_do_parâmetro=valor_do_parâmetro</i>
</pre>
<p>Por exemplo:
</p>
<pre>thinkpad_acpi.fan_control=1
</pre>
<p>Simplesmente adicione isto à linha de comando do kernel através do seu gerenciador de boot, como descrito em <a href="../en/3f4289ec8f0dc020cab18174a829b655.html" class="mw-redirect" title="Parâmetros do kernel">Parâmetros do kernel</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Aliasing">Aliasing</h2></div>
<p><i>Aliasing</i> é atribuir apelido (alias) a um módulo de kernel. Por exemplo: <code>alias meu-mód nome_de_módulo_realmente_longo</code> significa que você pode usar <code>modprobe meu-mód</code> ao invés de <code>modprobe nome_de_módulo_realmente_longo</code>. Você pode ainda usar caracteres curingas no estilo do shell, então <code>alias meu-mód* nome_de_módulo_realmente_longo</code> significa que <code>modprobe meu-mód-alguma_coisa</code> tem o mesmo efeito. Criar um alias:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/myalias.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">alias meu-mód nome_de_módulo_realmente_longo</pre>
<p>Alguns módulos tem aliases que são automaticamente carregadas quando são necessárias por uma aplicação. Desativar estes <i>aliases</i> pode evitar que que o módulo seja carregado automaticamente, mas o mesmo ainda poderá ser carregado manualmente.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/modprobe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Evita o carregamento automático do Bluetooth
alias net-pf-31 off</pre>
<div class="mw-heading mw-heading2"><h2 id="Adicionar_um_módulo_em_uma_lista_negra_(Blacklisting)">
<span id="Adicionar_um_m.C3.B3dulo_em_uma_lista_negra_.28Blacklisting.29"></span>Adicionar um módulo em uma lista negra (Blacklisting)</h2></div>
<p>Blacklisting, no contexto de módulos de kernel, é um mecanismo de evitar que módulos de kernel sejam carregados. Isto pode ser útil se, por exemplo, o hardware associado a ele não seja usado, ou se carregar seu módulo cause problemas: por exemplo, pode haver dois módulos de kernel tentando controlar a mesma parte do hardware, e carregá-los juntos resulta em conflito.
</p>
<p>Alguns módulos são parte da <a href="../en/4f532c6d130896c1c86a9821abd1b1e6.html#initramfs" class="mw-redirect" title="Processo de inicialização do Arch">initramfs</a>. <code>mkinitcpio -M</code> irá mostrar todos os módulos automaticamente detectados: para evitar que initramfs carregue alguns deste módulos, adicione-os a uma lista negra com um arquivo <i>.conf</i> dentro de <code>/etc/modprobe.d</code> e ela deverá ser adicionada pelo hook <code>modconf</code> durante a criação da imagem. Executar <code>mkinitcpio -v</code> irá listar todos os módulos puxados por diversos hooks (por exemplo, hook <code>filesystems</code>, hook <code>block</code>, etc.). Lembre de adicionar este arquivo <i>.conf</i> à matriz <code>FILES</code> em <code>/etc/mkinitcpio.conf</code>, caso você não tenha o hook <code>modconf</code> em sua matriz <code>HOOKS</code> (por exemplo, se você  não usa a configuração padrão), e uma vez que você adicionar estes módulos à lista negra, <a href="../en/Gere_novamente_o_initramfs.html" class="mw-redirect" title="Gere novamente o initramfs">gere novamente o initramfs</a> e reinicie o sistema em seguida.
</p>
<div class="mw-heading mw-heading3"><h3 id="Usando_arquivos_em_/etc/modprobe.d/_2">
<span id="Usando_arquivos_em_.2Fetc.2Fmodprobe.d.2F_2"></span>Usando arquivos em /etc/modprobe.d/</h3></div>
<p>Crie um arquivo <code>.conf</code> dentro de <code>/etc/modprobe.d/</code> e acrescente uma linha para cada módulo que desejar colocá-lo em lista negra, usando a palavra-chave <code>blacklist</code>. Se, por exemplo, desejar evitar que o módulo <code>pcspkr</code> seja carregado:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nobeep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Não carregar o módulo 'pcspkr' durante a inicialização.
blacklist pcspkr</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> O comando <code>blacklist</code> irá colocar em lista negra um módulo para que ele não seja carregado automaticamente, mas ainda assim ele poderá ser carregado se outro módulo (que não esteja na lista negra) depender dele ou se for carregado manualmente.
<p>Contudo, há uma solução para este comportamento; o comando <code>install</code> instrui modprobe a executar um comando personalizado ao invés de normalmente inserir o módulo no kernel, então é possível forçar o módulo a sempre falhar no seu carregamento, com:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
install <i>nome_do_módulo</i> /bin/true
...</pre>
Isto irá efetivamente colocar o módulo em lista negra e qualquer outro que dependa dele.</div>
<div class="mw-heading mw-heading3"><h3 id="Usando_a_linha_de_comando_do_kernel_2">Usando a linha de comando do kernel</h3></div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica</strong> Isto pode ser muito útil caso um módulo quebrado impossibilite a inicialização do sistema.</div>
<p>Você pode também adicionar módulos à lista negra a partir do gerenciador de boot.
</p>
<p>Simplesmente adicione <code>module_blacklist=modulo1,modulo2,modulo3</code> para a linha de comando do kernel em seu gerenciador de boot, como descrito em <a href="../en/3f4289ec8f0dc020cab18174a829b655.html" class="mw-redirect" title="Parâmetros do kernel">Parâmetros do kernel</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota</strong> Ao adicionar mais do que um módulo na lista negra, perceba que eles deverão ser separados apenas por vírgulas. Espaços ou qualquer outra coisa além disso irá presumivelmente quebrar a sintaxe.</div>
<div class="mw-heading mw-heading2"><h2 id="Solução_de_problemas">
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span>Solução de problemas</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Módulos_não_podem_ser_carregados">
<span id="M.C3.B3dulos_n.C3.A3o_podem_ser_carregados"></span>Módulos não podem ser carregados</h3></div>
<p>No caso de algum módulo específico não ser carregado e o log de inicialização (acessível com <code>journalctl -b</code>) dizer que o módulo está em lista negra (blacklisted), mas o diretório <code>/etc/modprobe.d/</code> não exibir uma entrada correspondente, procure em outro diretório-fonte do modprobe <code>/usr/lib/modprobe.d/</code> por entradas de <i>blacklist</i>.
</p>
<p>Um módulo não será carregado se a <i>string</i> "vermagic" contida dentro do módulo não corresponder com o valor do kernel em execução. Se houver conhecimento de que tal módulo seja compatível com o kernel em execução, a verificação "vermagic" poderá ser ignorada com <code>modprobe --force-vermagic</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção</strong> Ignorar verificações de versão poderá causar instabilidade no kernel e o sistema apresentará comportamento inesperado devido à incompatibilidade. Use <code>--force-vermagic</code> sempre com extrema cautela.</div>
<div class="mw-heading mw-heading2"><h2 id="Veja_também">
<span id="Veja_tamb.C3.A9m"></span>Veja também</h2></div>
<ul>
<li><a href="../en/Disable_PC_speaker_beep.html" class="mw-redirect" title="Disable PC speaker beep">Disable PC speaker beep</a></li>
<li>
<a rel="nofollow" class="external text" href="https://lwn.net/Articles/391230/">Writing a WMI driver</a> - uma introdução do LWM</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Kernel.html" title="Category:Kernel (Português)">Kernel (Português)</a></li>
<li><a href="../pt/Category:Hardware_detection_and_troubleshooting.html" title="Category:Hardware detection and troubleshooting (Português)">Hardware detection and troubleshooting (Português)</a></li>
<li><a href="../pt/Category:Boot_process.html" title="Category:Boot process (Português)">Boot process (Português)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Kernel_module_(Portugu%C3%AAs)&amp;oldid=830576">https://wiki.archlinux.org/index.php?title=Kernel_module_(Português)&amp;oldid=830576</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 3 April 2025, at 16:57.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input mw-searchInput" autocomplete="off" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Kernel module (Português)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only reading-lists-bookmark" id="ca-bookmark-sticky-header" tabindex="-1" data-event-name="watch-sticky-bookmark"><span class="vector-icon mw-ui-icon-wikimedia-bookmarkOutline mw-ui-icon-wikimedia-wikimedia-bookmarkOutline"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
