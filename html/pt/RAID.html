<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>RAID (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-RAID_Português rootpage-RAID_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Níveis_de_RAID" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#N%C3%ADveis_de_RAID">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Níveis de RAID</div>
		</a>
		
			<button aria-controls="toc-Níveis_de_RAID-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Níveis de RAID subsection</span>
			</button>
		
		<ul id="toc-Níveis_de_RAID-sublist" class="vector-toc-list">
			<li id="toc-Níveis_padrão_de_RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#N%C3%ADveis_padr%C3%A3o_de_RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Níveis padrão de RAID</div>
			</a>
			
			<ul id="toc-Níveis_padrão_de_RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Níveis_de_RAID_aninhados" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#N%C3%ADveis_de_RAID_aninhados">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Níveis de RAID aninhados</div>
			</a>
			
			<ul id="toc-Níveis_de_RAID_aninhados-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Comparação_entre_os_níveis_de_RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Compara%C3%A7%C3%A3o_entre_os_n%C3%ADveis_de_RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Comparação entre os níveis de RAID</div>
			</a>
			
			<ul id="toc-Comparação_entre_os_níveis_de_RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Implementação" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Implementa%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Implementação</div>
		</a>
		
			<button aria-controls="toc-Implementação-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Implementação subsection</span>
			</button>
		
		<ul id="toc-Implementação-sublist" class="vector-toc-list">
			<li id="toc-Que_tipo_de_RAID_eu_possuo?" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Que_tipo_de_RAID_eu_possuo?">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Que tipo de RAID eu possuo?</div>
			</a>
			
			<ul id="toc-Que_tipo_de_RAID_eu_possuo?-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Instalação" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Instalação</div>
		</a>
		
			<button aria-controls="toc-Instalação-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Instalação subsection</span>
			</button>
		
		<ul id="toc-Instalação-sublist" class="vector-toc-list">
			<li id="toc-Prepare_os_dispositivos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prepare_os_dispositivos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Prepare os dispositivos</div>
			</a>
			
			<ul id="toc-Prepare_os_dispositivos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Particione_os_dispositivos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Particione_os_dispositivos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Particione os dispositivos</div>
			</a>
			
			<ul id="toc-Particione_os_dispositivos-sublist" class="vector-toc-list">
				<li id="toc-Tabela_de_Partição_GUID" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tabela_de_Parti%C3%A7%C3%A3o_GUID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>Tabela de Partição GUID</div>
			</a>
			
			<ul id="toc-Tabela_de_Partição_GUID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Master_Boot_Record" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Master_Boot_Record">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.2</span>Master Boot Record</div>
			</a>
			
			<ul id="toc-Master_Boot_Record-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Contrua_o_array" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Contrua_o_array">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Contrua o array</div>
			</a>
			
			<ul id="toc-Contrua_o_array-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualize_o_arquivo_de_configuração" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualize_o_arquivo_de_configura%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Atualize o arquivo de configuração</div>
			</a>
			
			<ul id="toc-Atualize_o_arquivo_de_configuração-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Monte_o_array" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Monte_o_array">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Monte o array</div>
			</a>
			
			<ul id="toc-Monte_o_array-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Formate_o_sistema_de_arquivos_RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Formate_o_sistema_de_arquivos_RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Formate o sistema de arquivos RAID</div>
			</a>
			
			<ul id="toc-Formate_o_sistema_de_arquivos_RAID-sublist" class="vector-toc-list">
				<li id="toc-Calculando_o_stride_e_a_largura_do_stripe" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Calculando_o_stride_e_a_largura_do_stripe">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Calculando o stride e a largura do stripe</div>
			</a>
			
			<ul id="toc-Calculando_o_stride_e_a_largura_do_stripe-sublist" class="vector-toc-list">
				<li id="toc-Examplo_1._RAID0" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Examplo_1._RAID0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1.1</span>Examplo 1. RAID0</div>
			</a>
			
			<ul id="toc-Examplo_1._RAID0-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Examplo_2._RAID5" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Examplo_2._RAID5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1.2</span>Examplo 2. RAID5</div>
			</a>
			
			<ul id="toc-Examplo_2._RAID5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exemplo_3._RAID10,far2" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Exemplo_3._RAID10,far2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1.3</span>Exemplo 3. RAID10,far2</div>
			</a>
			
			<ul id="toc-Exemplo_3._RAID10,far2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Montando_a_partir_de_um_Live_CD" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Montando_a_partir_de_um_Live_CD">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Montando a partir de um Live CD</div>
		</a>
		
		<ul id="toc-Montando_a_partir_de_um_Live_CD-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Instalando_Arch_Linux_em_RAID" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Instalando_Arch_Linux_em_RAID">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Instalando Arch Linux em RAID</div>
		</a>
		
			<button aria-controls="toc-Instalando_Arch_Linux_em_RAID-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Instalando Arch Linux em RAID subsection</span>
			</button>
		
		<ul id="toc-Instalando_Arch_Linux_em_RAID-sublist" class="vector-toc-list">
			<li id="toc-Atualize_o_arquivo_de_configuração_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualize_o_arquivo_de_configura%C3%A7%C3%A3o_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Atualize o arquivo de configuração</div>
			</a>
			
			<ul id="toc-Atualize_o_arquivo_de_configuração_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_mkinitcpio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_mkinitcpio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Configure mkinitcpio</div>
			</a>
			
			<ul id="toc-Configure_mkinitcpio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configure_o_carregador_de_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configure_o_carregador_de_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Configure o carregador de boot</div>
			</a>
			
			<ul id="toc-Configure_o_carregador_de_boot-sublist" class="vector-toc-list">
				<li id="toc-Dispositivo_raiz" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Dispositivo_raiz">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.1</span>Dispositivo raiz</div>
			</a>
			
			<ul id="toc-Dispositivo_raiz-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Layout_RAID0" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Layout_RAID0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3.2</span>Layout RAID0</div>
			</a>
			
			<ul id="toc-Layout_RAID0-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Manutenção_do_RAID" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Manuten%C3%A7%C3%A3o_do_RAID">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Manutenção do RAID</div>
		</a>
		
			<button aria-controls="toc-Manutenção_do_RAID-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Manutenção do RAID subsection</span>
			</button>
		
		<ul id="toc-Manutenção_do_RAID-sublist" class="vector-toc-list">
			<li id="toc-Scrubbing" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Scrubbing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Scrubbing</div>
			</a>
			
			<ul id="toc-Scrubbing-sublist" class="vector-toc-list">
				<li id="toc-Notas_gerais_sobre_scrubbing" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Notas_gerais_sobre_scrubbing">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1.1</span>Notas gerais sobre scrubbing</div>
			</a>
			
			<ul id="toc-Notas_gerais_sobre_scrubbing-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Notas_sobre_scrubbing_de_RAID1_e_RAID10" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Notas_sobre_scrubbing_de_RAID1_e_RAID10">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1.2</span>Notas sobre scrubbing de RAID1 e RAID10</div>
			</a>
			
			<ul id="toc-Notas_sobre_scrubbing_de_RAID1_e_RAID10-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Removendo_dispositivos_de_um_array" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Removendo_dispositivos_de_um_array">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Removendo dispositivos de um array</div>
			</a>
			
			<ul id="toc-Removendo_dispositivos_de_um_array-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adicionando_um_novo_dispositivo_a_um_array" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Adicionando_um_novo_dispositivo_a_um_array">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Adicionando um novo dispositivo a um array</div>
			</a>
			
			<ul id="toc-Adicionando_um_novo_dispositivo_a_um_array-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Aumentando_o_tamanho_de_um_volume_RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Aumentando_o_tamanho_de_um_volume_RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Aumentando o tamanho de um volume RAID</div>
			</a>
			
			<ul id="toc-Aumentando_o_tamanho_de_um_volume_RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Alterar_os_limites_de_velocidade_de_sincronização" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Alterar_os_limites_de_velocidade_de_sincroniza%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>Alterar os limites de velocidade de sincronização</div>
			</a>
			
			<ul id="toc-Alterar_os_limites_de_velocidade_de_sincronização-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Performance_do_RAID5" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Performance_do_RAID5">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>Performance do RAID5</div>
			</a>
			
			<ul id="toc-Performance_do_RAID5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Atualizar_o_superbloco_RAID" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Atualizar_o_superbloco_RAID">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>Atualizar o superbloco RAID</div>
			</a>
			
			<ul id="toc-Atualizar_o_superbloco_RAID-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Monitoramento" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Monitoramento">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Monitoramento</div>
		</a>
		
			<button aria-controls="toc-Monitoramento-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Monitoramento subsection</span>
			</button>
		
		<ul id="toc-Monitoramento-sublist" class="vector-toc-list">
			<li id="toc-Observe_o_status_com_mdstat" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Observe_o_status_com_mdstat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Observe o status com mdstat</div>
			</a>
			
			<ul id="toc-Observe_o_status_com_mdstat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rastrear_ES_com_iotop" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rastrear_ES_com_iotop">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Rastrear ES com iotop</div>
			</a>
			
			<ul id="toc-Rastrear_ES_com_iotop-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Rastrear_ES_com_iostat" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rastrear_ES_com_iostat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>Rastrear ES com iostat</div>
			</a>
			
			<ul id="toc-Rastrear_ES_com_iostat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Notificações_de_email" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Notifica%C3%A7%C3%B5es_de_email">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Notificações de email</div>
			</a>
			
			<ul id="toc-Notificações_de_email-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solução_de_problemas" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Solu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Solução de problemas</div>
		</a>
		
			<button aria-controls="toc-Solução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solução de problemas subsection</span>
			</button>
		
		<ul id="toc-Solução_de_problemas-sublist" class="vector-toc-list">
			<li id='toc-Error:_"kernel:_ataX.00:_revalidation_failed"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Error:_"kernel:_ataX.00:_revalidation_failed"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Error: "kernel: ataX.00: revalidation failed"</div>
			</a>
			
			<ul id='toc-Error:_"kernel:_ataX.00:_revalidation_failed"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Iniciar_arrays_em_somente_leitura" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Iniciar_arrays_em_somente_leitura">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Iniciar arrays em somente leitura</div>
			</a>
			
			<ul id="toc-Iniciar_arrays_em_somente_leitura-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Recuperando_de_uma_unidade_quebrada_ou_perdida_no_raid" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Recuperando_de_uma_unidade_quebrada_ou_perdida_no_raid">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Recuperando de uma unidade quebrada ou perdida no raid</div>
			</a>
			
			<ul id="toc-Recuperando_de_uma_unidade_quebrada_ou_perdida_no_raid-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Benchmarking" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Benchmarking">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Benchmarking</div>
		</a>
		
		<ul id="toc-Benchmarking-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Veja também</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">RAID (Português)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/RAID.html" title="RAID – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/RAID.html" title="RAID – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/RAID" title="RAID – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/RAID" title="RAID – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../en/LVM_on_software_RAID.html" class="mw-redirect" title="Software RAID and LVM">Software RAID and LVM</a></li>
<li><a href="../pt/LVM.html#RAID" title="LVM (Português)">LVM#RAID</a></li>
<li><a href="../pt/Install_Arch_Linux_with_Fake_RAID.html" class="mw-redirect" title="Installing with Fake RAID (Português)">Instalando Arch Linux com FakeRAID</a></li>
<li><a href="../en/Convert_a_single_drive_system_to_RAID.html" title="Convert a single drive system to RAID">Convert a single drive system to RAID</a></li>
<li><a href="../pt/ZFS.html" title="ZFS (Português)">ZFS</a></li>
<li><a href="../en/ZFS/Virtual_disks.html" title="ZFS/Virtual disks">ZFS/Virtual disks</a></li>
<li><a href="../pt/Swap.html#Distribui%C3%A7%C3%A3o" title="Swap (Português)">Swap#Distribuição</a></li>
<li><a href="../pt/Btrfs.html#RAID" title="Btrfs (Português)">Btrfs#RAID</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/RAID.html" title="RAID">RAID</a>. Data da última tradução: 2020-12-29. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=RAID&amp;diff=0&amp;oldid=645139">alterações</a> na versão em inglês.</div>
<p>Redundant Array of Independent Disks (Conjunto Redundante de Discos Independentes, sigla em inglês <a href="https://en.wikipedia.org/wiki/RAID" class="extiw" title="wikipedia:RAID">RAID</a>) é uma tecnologia de armazenamento que combina múltiplos componentes de unidade de disco (tipicamente unidades de disco ou partições da mesma) em uma unidade lógica. Dependendo da implementação do RAID, essa unidade lógica pode ser um sistema de arquivos ou uma camada transparente adicional que pode conter várias partições. Os dados são distribuídos pelas unidades de uma das várias maneiras chamadas <a href="#N%C3%ADveis_de_RAID">níveis de RAID</a>, dependendo do nível de redundância e desempenho necessário. O nível de RAID escolhido pode assim prevenir perda de dados na ocorrência de falha de disco rígido, aumentar performance ou ser uma combinação de ambos.
</p>
<p>Esse artigo explica como criar/gerenciar um software RAID array usando mdadm.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Tenha certeza <a href="../en/Synchronization_and_backup_programs.html" class="mw-redirect" title="Backup programs">de fazer backup</a> de todos os dados antes de proceder.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id="N.C3.ADveis_de_RAID"></span><span class="mw-headline" id="Níveis_de_RAID">Níveis de RAID</span>
</h2>
<p>Apesar da redundância implicada pela maioria dos níveis de RAID, RAID não garante que os dados estão seguros. Um RAID não vai proteger os dados se houver incêndio, se o computador for roubado ou se multiplos discos rígidos falharem de uma só vez. Além disso, instalar um sistema com RAID é um processo complexo que pode destruir dados.
</p>
<h3>
<span id="N.C3.ADveis_padr.C3.A3o_de_RAID"></span><span class="mw-headline" id="Níveis_padrão_de_RAID">Níveis padrão de RAID</span>
</h3>
<p>Existem muitos <a href="https://en.wikipedia.org/wiki/Standard_RAID_levels" class="extiw" title="wikipedia:Standard RAID levels">níveis de RAID</a>, veja a seguir os mais usados.
</p>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_0" class="extiw" title="wikipedia:Standard RAID levels">RAID 0</a></dt>
<dd>Usa striping para combinar discos. Apesar de <i>não fornecer redundância</i>, ainda é considerado RAID. No entanto, <i>fornece um grande benefício de velocidade</i>. Se o aumento da velocidade compensar a possibilidade de perda de dados (para partição <a href="../pt/Swap.html" title="Swap (Português)">swap</a>, por exemplo), escolha este nível de RAID. Em um servidor, RAID 1 e RAID 5 são mais apropriados. O tamanho de um dispositivo de bloco de um array RAID 0 é o tamanho da menor partição do componente vezes o número de partições do componente.</dd>
</dl>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_1" class="extiw" title="wikipedia:Standard RAID levels">RAID 1</a></dt>
<dd>O nível RAID mais simples: espelhamento direto. Tal como acontece com outros níveis de RAID, só faz sentido se as partições estiverem em diferentes unidades de disco físico. Se uma dessas unidades falhar, o dispositivo de bloco fornecido pelo array RAID continuará a funcionar normalmente. O exemplo usará RAID 1 para tudo, exceto <a href="../pt/Swap.html" title="Swap (Português)">swap</a> e dados temporários. Observe que, com uma implementação de software, o nível de RAID 1 é a única opção para a partição de inicialização, porque os carregadores de inicialização que lêem a partição de inicialização não entendem RAID, mas uma partição de componente RAID 1 pode ser lida como uma partição normal. O tamanho de um dispositivo de bloco de um array RAID 1 é o tamanho da menor partição do componente.</dd>
</dl>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_5" class="extiw" title="wikipedia:Standard RAID levels">RAID 5</a></dt>
<dd>Requer 3 ou mais unidades físicas e fornece a redundância do RAID 1 combinada com os benefícios de velocidade e tamanho do RAID 0. RAID 5 usa striping, como RAID 0, mas também armazena blocos de paridade <i> distribuídos em cada disco membro </i>. No caso de um disco com falha, esses blocos de paridade são usados para reconstruir os dados em um disco de substituição. RAID 5 pode suportar a perda de um disco membro.</dd>
<dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> RAID 5 é uma escolha comum devido à sua combinação de velocidade e redundância de dados. A ressalva é que, se uma unidade falhar e outra falhar antes daquela ser substituída, todos os dados serão perdidos. Além disso, com tamanhos de disco modernos e taxas esperadas de erro de leitura irrecuperável (URE) em discos do consumidor, a reconstrução de um array de 4TiB é <b>esperada</b> (ou seja, mais de 50% de chance) de ter pelo menos um URE. Por causa disso, o RAID 5 não é mais recomendado pela indústria de armazenamento.</div></dd>
</dl>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_6" class="extiw" title="wikipedia:Standard RAID levels">RAID 6</a></dt>
<dd>Requer 4 ou mais unidades físicas e oferece os benefícios do RAID 5, mas com segurança contra falhas de duas unidades. O RAID 6 também usa striping, como o RAID 5, mas armazena dois blocos de paridade distintos <i> distribuídos em cada disco membro </i>. No caso de um disco com falha, esses blocos de paridade são usados para reconstruir os dados em um disco de substituição. RAID 6 pode suportar a perda de dois discos membros. A robustez contra erros de leitura irrecuperáveis é um pouco melhor, porque o array ainda tem blocos de paridade ao reconstruir a partir de uma única unidade com falha. No entanto, dada a sobrecarga, o RAID 6 é caro e na maioria das configurações o RAID 10 no layout far2 (veja abaixo) oferece melhores benefícios de velocidade e robustez e, portanto, é preferido.</dd>
</dl>
<h3>
<span id="N.C3.ADveis_de_RAID_aninhados"></span><span class="mw-headline" id="Níveis_de_RAID_aninhados">Níveis de RAID aninhados</span>
</h3>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Nested_RAID_levels#RAID_10_.28RAID_1.2B0.29" class="extiw" title="wikipedia:Nested RAID levels">RAID 1+0</a></dt>
<dd>RAID1+0 é um RAID aninhado que combina dois dos níveis padrão de RAID para obter desempenho e redundância adicional. É comumente referido como <i>RAID10</i>, no entanto, Linux MD RAID10 é um pouco diferente da camada RAID simples, veja abaixo.</dd>
</dl>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Non-standard_RAID_levels#Linux_MD_RAID_10" class="extiw" title="wikipedia:Non-standard RAID levels">RAID 10</a></dt>
<dd>RAID10 no Linux é construído sobre os conceitos de RAID1+0, no entanto, ele implementa isso como uma única camada, com vários layouts possíveis.</dd>
<dd>O layout <i>near X</i> nos discos Y repete cada chunk X vezes nos Y / 2 stripes, mas não precisa de X para dividir Y uniformemente. Os chunks são colocados quase no mesmo local em cada disco em que são espelhados, daí o nome. Ele pode funcionar com qualquer número de discos, começando em 2. Quase 2 em 2 discos é equivalente a RAID1, perto de 2 em 4 discos a RAID1+0.</dd>
<dd>O layout <i>far X</i> em discos Y é projetado para oferecer desempenho de leitura distribuído em um array espelhado. Ele faz isso dividindo cada disco em duas seções, digamos, frente e verso, e o que está escrito no disco 1 frontal é espelhado no disco 2 posterior e vice-versa. Isso tem o efeito de ser capaz de distribuir leituras sequenciais, que é de onde RAID0 e RAID5 obtêm seu desempenho. A desvantagem é que a gravação sequencial tem uma penalidade de desempenho muito pequena devido à distância que o disco precisa buscar até a outra seção do disco para armazenar o espelho. RAID10 no layout far2 é, no entanto, preferível a RAID1+0 em camadas <b>e</b> RAID5 sempre que as velocidades de leitura forem preocupantes e a disponibilidade / redundância forem cruciais. No entanto, ainda não é um substituto para backups. Veja a página da Wikipedia para mais informações.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong>  mdadm não pode remodelar arrays em layouts <i>far X</i>, o que significa que uma vez que o array é criado, você não será capaz de realizar <code> mdadm --grow</code> nele. Por exemplo, se você tiver um array RAID10 de 4x1TB e quiser mudar para discos de 2TB, sua capacidade utilizável permanecerá 2TB. Para tais casos de uso, use layouts <i>near X</i>.</div>
<h3>
<span id="Compara.C3.A7.C3.A3o_entre_os_n.C3.ADveis_de_RAID"></span><span class="mw-headline" id="Comparação_entre_os_níveis_de_RAID">Comparação entre os níveis de RAID</span>
</h3>
<table class="wikitable">
<tbody>
<tr>
<th>Nível RAID</th>
<th>redundância de dados</th>
<th>Utilização de unidade física</th>
<th>Performance de leitura</th>
<th>Performance de escrita</th>
<th>Min de unidades
</th>
</tr>
<tr>
<td><b>0</b></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Não</td>
<td>100%</td>
<td>nX
<p><b>Melhor</b>
</p>
</td>
<td>nX
<p><b>Melhor</b>
</p>
</td>
<td>2
</td>
</tr>
<tr>
<td><b>1</b></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Sim</td>
<td>50%</td>
<td>Até nX se vários processos estiverem lendo, caso contrário, 1X
</td>
<td>1X</td>
<td>2
</td>
</tr>
<tr>
<td><b>5</b></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Sim</td>
<td>67% - 94%</td>
<td>(n−1)X
<p><b>Superior</b>
</p>
</td>
<td>(n−1)X
<p><b>Superior</b>
</p>
</td>
<td>3
</td>
</tr>
<tr>
<td><b>6</b></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Sim</td>
<td>50% - 88%</td>
<td>(n−2)X</td>
<td>(n−2)X</td>
<td>4
</td>
</tr>
<tr>
<td><b>10,far2</b></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Sim</td>
<td>50%</td>
<td>nX
<p><b>Melhor;</b> em paridade com RAID0, mas redudante
</p>
</td>
<td>(n/2)X</td>
<td>2
</td>
</tr>
<tr>
<td><b>10,near2</b></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Sim</td>
<td>50%</td>
<td>Até nX se vários processos estiverem lendo, caso contrário, 1X</td>
<td>(n/2)X</td>
<td>2
</td>
</tr>
</tbody>
</table>
<p>* Onde <i>n</i> representa o número de discos dedicados.
</p>
<h2>
<span id="Implementa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Implementação">Implementação</span>
</h2>
<p>Os dispositivos RAID podem ser gerenciados de diferentes maneiras:
</p>
<dl>
<dt>Software RAID</dt>
<dd>Esta é a implementação mais fácil, pois não depende de firmware e software proprietário obscuro para ser usado. O array é gerenciado pelo sistema operacional através de:
<ul>
<li>uma camada de abstração (e.g. <a href="#Instala%C3%A7%C3%A3o">mdadm</a>); <div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Este é o método que usaremos posteriormente neste guia.</div>
</li>
<li>um gerenciador de volume lógico (e.g. <a href="../pt/LVM.html#RAID" title="LVM (Português)">LVM</a>);</li>
<li>um componente de um sistema de arquivos (e.g. <a href="../pt/ZFS.html" title="ZFS (Português)">ZFS</a>, <a href="../pt/Btrfs.html#RAID" title="Btrfs (Português)">Btrfs</a>).</li>
</ul>
</dd>
</dl>
<dl>
<dt>Hardware RAID</dt>
<dd>O array é gerenciado diretamente por uma placa de hardware dedicada instalada no PC ao qual os discos são conectados diretamente. A lógica RAID é executada em um processador integrado, independentemente do <a href="https://en.wikipedia.org/wiki/pt:Unidade_central_de_processamento" class="extiw" title="wikipedia:pt:Unidade central de processamento">processador hospedeiro (CPU)</a>. Embora esta solução seja independente de qualquer sistema operacional, o último requer um driver para funcionar corretamente com o controlador RAID de hardware. O array RAID pode ser configurado através de uma interface ROM ou, dependendo do fabricante, com um aplicativo dedicado quando o sistema operacional for instalado. A configuração é transparente para o kernel Linux: ele não vê os discos separadamente.</dd>
</dl>
<dl>
<dt><a href="../en/Install_Arch_Linux_with_Fake_RAID.html" class="mw-redirect" title="Fakeraid">FakeRAID</a></dt>
<dd>Este tipo de RAID é chamado de BIOS ou RAID integrado, mas é falsamente anunciado como RAID de hardware. O array é gerenciado por controladores pseudo-RAID onde a lógica RAID é implementada em uma opção rom ou no próprio firmware <a rel="nofollow" class="external text" href="https://www.win-raid.com/t19f13-Intel-EFI-RAID-quot-SataDriver-quot-BIOS-Modules.html">com um EFI SataDriver</a><sup title="Status da última verificação: SSL error">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2024-01-13 ⓘ]</sup> (no caso de <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>), mas não são controladores RAID de hardware completo com <i>todos</i> os recursos RAID implementados. Portanto, este tipo de RAID às vezes é chamado de FakeRAID. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmraid">dmraid</a></span> dos <a href="../pt/Official_repositories.html" title="Official repositories (Português)">repositórios oficiais</a>, será usado para lidar com esses controladores. Aqui estão alguns exemplos de controladores FakeRAID: <a href="https://en.wikipedia.org/wiki/Intel_Rapid_Storage_Technology" class="extiw" title="wikipedia:Intel Rapid Storage Technology">Intel Rapid Storage</a>, JMicron JMB36x RAID ROM, AMD RAID, ASMedia 106x, and NVIDIA MediaShield.</dd>
</dl>
<h3>
<span id="Que_tipo_de_RAID_eu_possuo.3F"></span><span class="mw-headline" id="Que_tipo_de_RAID_eu_possuo?">Que tipo de RAID eu possuo?</span>
</h3>
<p>Como o RAID de software é implementado pelo usuário, o tipo de RAID é facilmente conhecido por ele.
</p>
<p>No entanto, discernir entre o FakeRAID e o verdadeiro RAID de hardware pode ser mais difícil. Como mostrado, os fabricantes muitas vezes distinguem incorretamente esses dois tipos de RAID e a propaganda enganosa sempre é possível. A melhor solução neste caso é executar o comando <code> lspci</code> e olhar a saída para encontrar o controlador RAID. Em seguida, faça uma pesquisa para ver quais informações podem ser localizadas sobre o controlador RAID. Os controladores RAID de hardware aparecem nesta lista, mas as implementações FakeRAID não. Além disso, o verdadeiro controlador RAID de hardware costuma ser bastante caro, portanto, se alguém personalizou o sistema, é muito provável que a escolha de uma configuração de RAID de hardware tenha feito uma mudança muito perceptível no preço do computador.
</p>
<h2>
<span id="Instala.C3.A7.C3.A3o"></span><span class="mw-headline" id="Instalação">Instalação</span>
</h2>
<p><a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" title="Help:Reading (Português)">Instale</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mdadm">mdadm</a></span>. <i>mdadm</i> é usado para administrar RAID de software puro usando dispositivos de bloco simples: o hardware subjacente não fornece nenhuma lógica RAID, apenas um suprimento de discos. <i>mdadm</i> funcionará com qualquer coleção de dispositivos de bloco. Mesmo que incomum. Por exemplo, pode-se, portanto, fazer um array RAID a partir de uma coleção de pen drives.
</p>
<h3><span class="mw-headline" id="Prepare_os_dispositivos">Prepare os dispositivos</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Essas etapas apagam tudo em um dispositivo, então digite com cuidado!</div>
<p>Se o dispositivo estiver sendo reutilizado ou reaproveitado de um array existente, apague todas as informações de configuração RAID antigas:
</p>
<pre># mdadm --misc --zero-superblock /dev/&lt;dispositivo&gt;
</pre>
<p>ou se uma partição específica em uma unidade deve ser excluída:
</p>
<pre># mdadm --misc --zero-superblock /dev/&lt;partição&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Apagar o superbloco de uma partição não deve afetar as outras partições no disco.</li>
<li>Devido à natureza da funcionalidade RAID, é muito difícil <a href="../en/Securely_wipe_disk.html" title="Securely wipe disk">limpar seguramente o disco</a> totalmente em um array em execução. Considere se é útil fazer isso antes de criá-lo.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Particione_os_dispositivos">Particione os dispositivos</span></h3>
<p>É altamente recomendado particionar os discos a serem usados no array. Como a maioria dos usuários de RAID está selecionando unidades de disco maiores que 2 TiB, o GPT é necessário e recomendado. Veja <a href="../pt/Partitioning.html" title="Partitioning (Português)">Particionamento</a> para mais informações sobre particionamento e as <a href="../pt/Partitioning.html#Ferramentas_de_particionamento" class="mw-redirect" title="Ferramentas de particionamento">ferramentas de particionamento</a> disponíveis.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Também é possível criar um RAID diretamente nos discos brutos (sem partições), mas não é recomendado porque pode causar problemas ao trocar um disco com falha.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Ao substituir um disco com falha de um RAID, o novo disco deve ser exatamente do mesmo tamanho do disco com falha ou maior — caso contrário, o processo de recriação da matriz não funcionará. Mesmo discos rígidos do mesmo fabricante e modelo podem ter pequenas diferenças de tamanho. Ao deixar um pouco de espaço no final do disco não alocado, pode-se compensar as diferenças de tamanho entre as unidades, o que torna a escolha de um modelo de unidade de substituição mais fácil. Portanto, é uma boa prática deixar cerca de 100 MiB de espaço não alocado no final do disco.</div>
<h4>
<span id="Tabela_de_Parti.C3.A7.C3.A3o_GUID"></span><span class="mw-headline" id="Tabela_de_Partição_GUID">Tabela de Partição GUID</span>
</h4>
<ul>
<li>Depois de criar as partições, seus <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">GUIDs de tipo de partição</a> devem ser <code>A19D880F-05FC-4D3B-A006-743F0F84911E</code> (pode ser atribuído selecionando o tipo de partição <code> Linux RAID</code> em <i>fdisk</i> ou <code>FD00</code> no <i>gdisk</i>).</li>
<li>Se uma matriz de disco maior for empregada, considere atribuir <a href="../pt/Persistent_block_device_naming.html#by-label" title="Persistent block device naming (Português)">rótulos do sistema de arquivos</a> ou <a href="../pt/Persistent_block_device_naming.html#by-partlabel" title="Persistent block device naming (Português)">rótulos de partição</a> para facilitar a identificação de um disco individual posteriormente.</li>
<li>Recomenda-se a criação de partições do mesmo tamanho em cada um dos dispositivos.</li>
</ul>
<h4><span class="mw-headline" id="Master_Boot_Record">Master Boot Record</span></h4>
<p>Para quem está criando partições em HDDs com uma tabela de partição MBR, os <a href="https://en.wikipedia.org/wiki/pt:Tipo_de_parti%C3%A7%C3%A3o" class="extiw" title="wikipedia:pt:Tipo de partição">IDs de tipos de partição</a> disponíveis para uso são:
</p>
<ul>
<li>
<code>0xFD</code> para arrays de detecção automática de raid (<code>Linux raid autodetect</code> em <i>fdisk</i>)</li>
<li>
<code>0xDA</code> para dados não-fs (<code>Non-FS data</code> em <i>fdisk</i>)</li>
</ul>
<p>Veja <a rel="nofollow" class="external text" href="https://raid.wiki.kernel.org/index.php/Partition_Types">Linux Raid Wiki:Partition Types</a> para mais informações.
</p>
<h3><span class="mw-headline" id="Contrua_o_array">Contrua o array</span></h3>
<p>Use <code>mdadm</code> para construir o array. Veja <span class="plainlinks archwiki-template-man" title="$ man 8 mdadm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mdadm.8">mdadm(8)</a></span> para opções suportadas. Vários exemplos são fornecidos abaixo.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Não basta copiar/colar os exemplos abaixo; certifique-se fazer as substituições corretas.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Se este for um array RAID1 que deve ser inicializado a partir do <a href="../en/Syslinux.html" title="Syslinux">Syslinux</a>, uma limitação do syslinux v4.07 requer que o valor dos metadados seja 1.0 em vez do padrão 1.2.</li>
<li>Ao criar um array a partir do <a href="../pt/Archiso.html" title="Archiso (Português)">meio de instalação do Arch</a> use a opção <code>--homehost=<i>myhostname</i></code> (ou <code>--homehost=any</code> para ter sempre o mesmo nome, independentemente do host) para definir o <a href="../pt/Network_configuration.html#Configurando_um_hostname" class="mw-redirect" title="Hostname (Português)">hostname</a>, caso contrário, o hostname <code>archiso</code> será escrito nos metadados do array.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Você pode especificar um nome de dispositivo raid personalizado usando a opção <code>--name=<i>MeuNomeDeRaid</i></code> ou definindo o caminho do dispositivo raid para <code>/dev/md/<i>MeuNomeDeRaid</i></code>.Udev irá criar links simbólicos para os arrays raid em <code>/dev/md/</code> usando aquele nome. Se o <code>homehost</code> corresponde ao <a href="../pt/Network_configuration.html#Configurando_um_hostname" class="mw-redirect" title="Hostname (Português)">hostname</a> (ou se homehost está definido como <code>any</code>) o link será <code>/dev/md/<i>name</i></code>, se o homehost não corresponder o link será <code>/dev/md/<i>homehost</i>:<i>name</i></code>.</div>
<p>O exemplo a seguir mostra a construção de um array RAID1 de 2 dispositivos:
</p>
<pre># mdadm --create --verbose --level=1 --metadata=1.2 --raid-devices=2 /dev/md/MeuArrayRAID1 /dev/sdb1 /dev/sdc1
</pre>
<p>O exemplo a seguir mostra a construção de uma matriz RAID5 com 4 dispositivos ativos e 1 dispositivo de reserva:
</p>
<pre># mdadm --create --verbose --level=5 --metadata=1.2 --chunk=256 --raid-devices=4 /dev/md/MeuArrayRAID5 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1 --spare-devices=1 /dev/sdf1
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> <code>--chunk</code> é usado para mudar o valor padrão para o tamanho do chunk. Veja <a rel="nofollow" class="external text" href="https://www.zdnet.com/article/chunks-the-hidden-key-to-raid-performance/">Chunks: the hidden key to RAID performance</a> para mais sobre otimização de tamanho do chunk.</div>
<p>O exemplo a seguir mostra a construção de um array RAID10,far2 com 2 dispositivos:
</p>
<pre># mdadm --create --verbose --level=10 --metadata=1.2 --chunk=512 --raid-devices=2 --layout=f2 /dev/md/MeuArrayRAID10 /dev/sdb1 /dev/sdc1
</pre>
<p>O array é criado no dispositivo virtual <code>/dev/mdX</code>, montado e pronto para uso (em modo degradado). Pode-se começar a usá-lo diretamente enquanto o mdadm ressincroniza o array em segundo plano. Pode levar muito tempo para restaurar a paridade. Verifique o progresso com:
</p>
<pre>$ cat /proc/mdstat
</pre>
<h3>
<span id="Atualize_o_arquivo_de_configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Atualize_o_arquivo_de_configuração">Atualize o arquivo de configuração</span>
</h3>
<p>Por padrão, a maior parte de <code>mdadm.conf</code> é comentada e contém apenas o seguinte:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mdadm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
DEVICE partitions
...
</pre>
<p>Esta diretiva diz ao mdadm para examinar os dispositivos referenciados por <code>/proc/partitions</code> e montar tantos arrays quanto possível. Isto é bom se você realmente deseja iniciar todos os arrays disponíveis e está confiante de que nenhum superbloco inesperado será encontrado (como depois de instalar um novo dispositivo de armazenamento). Uma abordagem mais precisa é adicionar explicitamente as matrizes em <code>/etc/mdadm.conf</code>:
</p>
<pre># mdadm --detail --scan &gt;&gt; /etc/mdadm.conf
</pre>
<p>Isso resulta em algo como o seguinte:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mdadm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
DEVICE partitions
...
ARRAY /dev/md/MeuArrayRAID1 metadata=1.2 name=pine:MeuArrayRAID1 UUID=27664f0d:111e493d:4d810213:9f291abe</pre>
<p>Isso também faz com que o mdadm examine os dispositivos referenciados por <code>/proc/partitions</code>. No entanto, apenas dispositivos que possuem superblocos com um UUID de <code>27664…</code> são montados em arrays ativos.
</p>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 5 mdadm.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mdadm.conf.5">mdadm.conf(5)</a></span> para mais informações.
</p>
<h3><span class="mw-headline" id="Monte_o_array">Monte o array</span></h3>
<p>Uma vez que o arquivo de configuração tenha sido atualizado, o array pode ser montado usando mdadm:
</p>
<pre># mdadm --assemble --scan
</pre>
<h3><span class="mw-headline" id="Formate_o_sistema_de_arquivos_RAID">Formate o sistema de arquivos RAID</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Para criar vários volumes dentro de um array RAID, siga o artigo <a href="../en/LVM_on_software_RAID.html" title="LVM on software RAID">LVM on software RAID</a>.</div>
<p>O array agora pode ser formatado com um <a href="../pt/File_systems.html" class="mw-redirect" title="Sistema de arquivos">sistema de arquivos</a> como qualquer outra partição, apenas tenha em mente que:
</p>
<ul>
<li>Devido ao grande tamanho do volume, nem todos os sistemas de arquivos são adequados (veja: <a href="https://en.wikipedia.org/wiki/Comparison_of_file_systems#Limits" class="extiw" title="wikipedia:Comparison of file systems">Wikipedia:Comparison of file systems#Limits</a>).</li>
<li>O sistema de arquivos deve suportar crescimento e redução enquanto online (veja: <a href="https://en.wikipedia.org/wiki/Comparison_of_file_systems#Features" class="extiw" title="wikipedia:Comparison of file systems">Wikipedia:Comparison of file systems#Features</a>).</li>
<li>Deve-se calcular o stride correto e a largura de stripe para um desempenho ideal.</li>
</ul>
<h4><span class="mw-headline" id="Calculando_o_stride_e_a_largura_do_stripe">Calculando o stride e a largura do stripe</span></h4>
<p>Dois parâmetros são necessários para otimizar a estrutura do sistema de arquivos para se encaixar perfeitamente na estrutura RAID subjacente: o <i>stride</i> e a <i>largura de stripe</i>. Esses são derivados do <i>tamanho do chunk</i> do RAID, <i>tamanho do bloco</i> do sistema de arquivos, e o <i>número de "discos de dados"</i>.
</p>
<p>O tamanho do chunk é uma propriedade do array RAID, decidida no momento de sua criação. O padrão atual do <code>mdadm</code> é 512 KiB. Pode ser encontrado com <code>mdadm</code>:
</p>
<pre># mdadm --detail /dev/mdX | grep 'Chunk Size'
</pre>
<p>O tamanho do bloco é uma propriedade do sistema de arquivos, decidido na <i>sua</i> criação. O padrão para muitos sistemas de arquivos, incluindo ext4, é 4 KiB. Veja <code>/etc/mke2fs.conf</code> para detalhes sobre ext4.
</p>
<p>O número de "discos de dados" é o número mínimo de dispositivos no array necessários para reconstruí-lo completamente sem perda de dados. Por exemplo, este é N para um array raid0 de N dispositivos e N-1 para raid5.
</p>
<p>Depois de ter essas três quantidades, o stride e a largura do stripe podem ser calculadas usando as seguintes fórmulas:
</p>
<pre>stride = tamando do chunk / tamanho do bloco
largura do stripe = número dso discos de dados * stride
</pre>
<h5><span class="mw-headline" id="Examplo_1._RAID0">Examplo 1. RAID0</span></h5>
<p>Exemplo de formatação para ext4 com a largura de stripe e stride corretos:
</p>
<ul>
<li>O array RAID0 hipotético é composto por 2 discos físicos.</li>
<li>Tamanho do chunk é 512 KiB.</li>
<li>Tamanho do bloco é 4 KiB.</li>
</ul>
<p>stride = tamanho do chunk / tamanho do bloco. Neste exemplo, a matemática é 512/4, então o stride = 128.
</p>
<p>largura do stripe = # de discos físicos de <b>dados</b> * stride. Neste exemplo, a matemática é 2*128, então a largura do stripe = 256.
</p>
<pre># mkfs.ext4 -v -L meuarray -b 4096 -E stride=128,stripe-width=256 /dev/md0
</pre>
<h5><span class="mw-headline" id="Examplo_2._RAID5">Examplo 2. RAID5</span></h5>
<p>Exemplo de formatação para ext4 com a largura de stripe e stride corretos:
</p>
<ul>
<li>O array RAID5 hipotético é composto por 4 discos físicos; 3 discos de dados e 1 disco de paridade.</li>
<li>Tamanho do chunk é 512 KiB.</li>
<li>Tamanho do bloco é 4 KiB.</li>
</ul>
<p>stride = tamanho do chunk / tamanho do bloco. Neste exemplo, a matemática é 512/4, então o stride = 128.
</p>
<p>largura do stripe = # de discos físicos de <b>dados</b> * stride. Neste exemplo, a matemática é 3*128, então a largura do stripe = 384.
</p>
<pre># mkfs.ext4 -v -L meuarray -b 4096 -E stride=128,stripe-width=384 /dev/md0
</pre>
<p>Para mais sobre stride e largura de stripe, veja: <a rel="nofollow" class="external text" href="https://wiki.centos.org/HowTos/Disk_Optimization">RAID Math</a>.
</p>
<h5>
<span id="Exemplo_3._RAID10.2Cfar2"></span><span class="mw-headline" id="Exemplo_3._RAID10,far2">Exemplo 3. RAID10,far2</span>
</h5>
<p>Exemplo de formatação para ext4 com a largura de stripe e stride corretos:
</p>
<ul>
<li>O array RAID10 hipotético é composto por 2 discos físicos. Por causa das propriedades do RAID10 no layout far2, ambos contam como discos de dados.</li>
<li>Tamanho do chunk é 512 KiB.</li>
<li>Tamanho do bloco é 4 KiB.</li>
</ul>
<p>stride = tamanho do chunk / tamanho do bloco.
Neste exemplo, a matemática é 512/4, então o stride = 128.
</p>
<p>largura do stripe = # de discos físicos de <b>dados</b> * stride.
Neste exemplo, a matemática é 2*128 então a largura do stripe = 256.
</p>
<pre># mkfs.ext4 -v -L meuarray -b 4096 -E stride=128,stripe-width=256 /dev/md0
</pre>
<h2><span class="mw-headline" id="Montando_a_partir_de_um_Live_CD">Montando a partir de um Live CD</span></h2>
<p>Os usuários que desejam montar a partição RAID a partir de um Live CD, utilize:
</p>
<pre># mdadm --assemble /dev/md&lt;número&gt; /dev/&lt;disco1&gt; /dev/&lt;disco2&gt; /dev/&lt;disco3&gt; /dev/&lt;disco4&gt;
</pre>
<p>Se o seu RAID 1 sem uma matriz de disco foi erroneamente detectado automaticamente como RAID 1 (conforme <code>mdadm --detail /dev/md&lt;número&gt;</code>) e reportado como inativo (conforme <code>cat /proc/mdstat</code>), pare o array primeiro:
</p>
<pre># mdadm --stop /dev/md&lt;número&gt;
</pre>
<h2><span class="mw-headline" id="Instalando_Arch_Linux_em_RAID">Instalando Arch Linux em RAID</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A seção a seguir é aplicável apenas se o sistema de arquivos raiz residir no array. Os usuários podem pular esta seção se o array contiver partição(ões) de dados.</div>
<p>Você deve criar a matriz RAID entre as estapas de <a href="../pt/Partitioning.html" title="Partitioning (Português)">particionamento</a> e <a href="../pt/File_systems.html#Criar_um_sistema_de_arquivos" title="File systems (Português)">formatação</a> do processo de instalação. Em vez de formatar diretamente uma partição para ser seu sistema de arquivos raiz, ela será criada em um array RAID.
Siga a seção <a href="#Instala%C3%A7%C3%A3o">#Instalação</a> para criar o array RAID. Em seguida, continue com o procedimento de instalação até que a etapa pacstrap seja concluída.
Ao usar <a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">UEFI boot</a>, também leia <a href="../pt/EFI_system_partition.html#ESP_no_RAID" title="EFI system partition (Português)">ESP no RAID</a>.
</p>
<h3>
<span id="Atualize_o_arquivo_de_configura.C3.A7.C3.A3o_2"></span><span class="mw-headline" id="Atualize_o_arquivo_de_configuração_2">Atualize o arquivo de configuração</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Isso deve ser feito fora do chroot, daí o prefixo <code>/mnt</code> para o caminho do arquivo.</div>
<p>Depois que o sistema básico é instalado, o arquivo de configuração padrão, <code>mdadm.conf</code>, deve ser atualizado assim:
</p>
<pre># mdadm --detail --scan &gt;&gt; /mnt/etc/mdadm.conf
</pre>
<p>Sempre verifique o arquivo de configuração <code>mdadm.conf</code> usando um editor de texto depois de executar este comando para garantir que seu conteúdo pareça razoável.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Para evitar falha de <code>mdmonitor.service</code> na inicialização (habilitado por padrão), você precisará descomentar <code>MAILADDR</code> e fornecer um endereço de e-mail e/ou aplicativo para lidar com a notificação de problemas com sua matriz na parte inferior de <code>mdadm.conf</code>. Veja <a href="#Notifica%C3%A7%C3%B5es_de_email">#Notificações de email</a>.</div>
<p>Continue com o procedimento de instalação até chegar na etapa <a href="../pt/Installation_guide.html#Initramfs" class="mw-redirect" title="Guia de instalação">Guia de instalação#Initramfs</a>, então siga a próxima seção.
</p>
<h3><span class="mw-headline" id="Configure_mkinitcpio">Configure mkinitcpio</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Isso deve ser feito em chroot.</div>
<p>Adicione <code>mdadm_udev</code> à seção <a href="../pt/Mkinitcpio.html#HOOKS" title="Mkinitcpio (Português)">HOOKS</a> do <code>mkinitcpio.conf</code> para adicionar suporte para mdadm na imagem initramfs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
 HOOKS=(base udev autodetect keyboard modconf block <b>mdadm_udev</b> filesystems fsck)
...</pre>
<p>Se você usar o hook <code>mdadm_udev</code> com um array FakeRAID, é recomendado incluir <i>mdmon</i> no vetor <a href="../pt/Mkinitcpio.html#BINARIES_e_FILES" title="Mkinitcpio (Português)">BINARIES</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
BINARIES=(<b>mdmon</b>)
...</pre>
<p>Em seguida, <a href="../pt/Mkinitcpio.html#Cria%C3%A7%C3%A3o_e_ativa%C3%A7%C3%A3o_de_imagem" title="Mkinitcpio (Português)">gere o intiramfs novamente</a>.
</p>
<p>Veja também <a href="../pt/Mkinitcpio.html#Usando_RAID" title="Mkinitcpio (Português)">Mkinitcpio (Português)#Usando RAID</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Sempre que você fizer alterações em <code>/etc/mdadm.conf</code>, o initramfs precisa ser gerado novamente.</div>
<h3><span class="mw-headline" id="Configure_o_carregador_de_boot">Configure o carregador de boot</span></h3>
<h4><span class="mw-headline" id="Dispositivo_raiz">Dispositivo raiz</span></h4>
<p>Aponte o parâmetro <code>root</code> para o dispositivo mapeado. E.g.:
</p>
<pre>root=/dev/md/<i>MeuArrayRAID</i>
</pre>
<p>Se a inicialização a partir de uma partição raid de software falhar usando o método de nó de dispositivo de kernel acima, uma maneira alternativa é usar um dos métodos de <a href="../pt/Persistent_block_device_naming.html" title="Persistent block device naming (Português)">nomeação de dispositivo de bloco persistente</a>, por exemplo:
</p>
<pre>root=LABEL=Root_Label
</pre>
<p>Veja também <a href="../pt/GRUB.html#RAID" title="GRUB (Português)">GRUB (Português)#RAID</a>.
</p>
<h4><span class="mw-headline" id="Layout_RAID0">Layout RAID0</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Isso também afeta os usuários mdraid RAID0 existentes que atualizaram de uma versão mais antiga do kernel Linux para 5.3.4 ou mais recente.</div>
<p>Desde a versão 5.3.4 do kernel Linux, você precisa informar explicitamente ao kernel qual layout RAID0 deve ser usado: RAID0_ORIG_LAYOUT (<code>1</code>) ou RAID0_ALT_MULTIZONE_LAYOUT (<code>2</code>).<a rel="nofollow" class="external autonumber" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c84a1372df929033cb1a0441fb57bd3932f39ac9">[1]</a> Você pode fazer isso fornecendo o <a href="../pt/Kernel_parameters.html" title="Kernel parameters (Português)">parâmetro do kernel</a> conforme a seguir:
</p>
<pre>raid0.default_layout=2
</pre>
<p>O valor correto depende da versão do kernel que foi usada para criar o array raid: use <code>1</code> se criado usando kernel 3.14 ou anterior, use <code>2</code> se estiver usando uma versão mais recente do kernel . Uma maneira de verificar isso é observar o tempo de criação da matriz raid:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">mdadm --detail /dev/md1</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/md1:
           Version : 1.2
     Creation Time : Thu Sep 24 10:17:41 2015
        Raid Level : raid0
        Array Size : 975859712 (930.65 GiB 999.28 GB)
      Raid Devices : 3
     Total Devices : 3
       Persistence : Superblock is persistent

       Update Time : Thu Sep 24 10:17:41 2015
             State : clean
    Active Devices : 3
   Working Devices : 3
    Failed Devices : 0
     Spare Devices : 0

        Chunk Size : 512K

Consistency Policy : none

              Name : archiso:root
              UUID : 028de718:20a81234:4db79a2c:e94fd560
            Events : 0

    Number   Major   Minor   RaidDevice State
       0     259        2        0      active sync   /dev/nvme0n1p1
       1     259        6        1      active sync   /dev/nvme2n1p1
       2     259        5        2      active sync   /dev/nvme1n1p2
</pre>
<p>Aqui podemos ver que este array raid foi criado em 24 de setembro de 2015. A data de lançamento do Linux Kernel 3.14 foi 30 de março de 2014 e, como tal, este array raid é provavelmente criado usando um layout de várias zonas (<code>2</code>).
</p>
<h2>
<span id="Manuten.C3.A7.C3.A3o_do_RAID"></span><span class="mw-headline" id="Manutenção_do_RAID">Manutenção do RAID</span>
</h2>
<h3><span class="mw-headline" id="Scrubbing">Scrubbing</span></h3>
<p>É uma boa prática executar regularmente um <a href="https://en.wikipedia.org/wiki/Data_scrubbing" class="extiw" title="wikipedia:Data scrubbing">scrubbing</a> de dados para verificar e corrigir erros. Dependendo do tamanho/configuração do array, um scrub pode levar várias horas para ser concluído.
</p>
<p>Para iniciar um scrub de dados:
</p>
<pre># echo check &gt; /sys/block/md0/md/sync_action
</pre>
<p>A operação check verifica as unidades em busca de setores defeituosos e os repara automaticamente. Se encontrar setores bons que contêm dados ruins (os dados de um setor não correspondem com o que os dados de outro disco indicam que deveria ser, por exemplo o bloco de paridade + os outros blocos de dados nos faria pensar que este bloco de dados está incorreto), nenhuma ação é realizada, mas o evento é registrado em um log (veja abaixo). Este "não fazer nada" permite que os administradores inspecionem os dados no setor e os dados que seriam produzidos pela reconstrução dos setores a partir de informações redundantes e escolham os dados corretos para manter.
</p>
<p>Tal como acontece com muitas tarefas/itens relacionados ao mdadm, o status do scrub pode ser consultado lendo <code>/proc/mdstat</code>.
</p>
<p>Exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /proc/mdstat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Personalities : [raid6] [raid5] [raid4] [raid1]
md0 : active raid1 sdb1[0] sdc1[1]
      3906778112 blocks super 1.2 [2/2] [UU]
      [&gt;....................]  check =  4.0% (158288320/3906778112) finish=386.5min speed=161604K/sec
      bitmap: 0/30 pages [0KB], 65536KB chunk
</pre>
<p>Para interromper um scrub de dados em execução com segurança:
</p>
<pre># echo idle &gt; /sys/block/md0/md/sync_action
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se o sistema for reiniciado após um scrub parcial ter sido suspenso, o scrub será reiniciado.</div>
<p>Quando a limpeza é concluída, os administradores podem verificar quantos blocos (se houver) foram sinalizados como ruins:
</p>
<pre># cat /sys/block/md0/md/mismatch_cnt
</pre>
<h4><span class="mw-headline" id="Notas_gerais_sobre_scrubbing">Notas gerais sobre scrubbing</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Os usuários podem, alternativamente, ecoar <b>repair</b> para <code>/sys/block/md0/md/sync_action</code>, mas isso é desaconselhável, pois se uma incompatibilidade nos dados for encontrada, ele será atualizado automaticamente para ser consistente. O perigo é que realmente não sabemos se é a paridade ou o bloco de dados que está correto (ou qual bloco de dados no caso de RAID1). É a sorte que define se a operação obtém ou não os dados corretos em vez dos dados ruins.</div>
<p>É uma boa ideia configurar um cron job como root para agendar um scrub periódico. Veja <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/raid-check/">raid-check</a></span><sup><small>AUR</small></sup> que pode ajudar com isso. Para realizar um scrub periódico usando cronômetros systemd em vez de cron, consulte <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/raid-check-systemd/">raid-check-systemd</a></span><sup><small>AUR</small></sup> que contém o mesmo script junto com arquivos de unidade de cronômetro systemd associados.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Para unidades de discos típicos, a limpeza pode levar aproximadamente <b>seis segundos por gigabyte</b> (ou seja, uma hora e quarenta e cinco minutos por terabyte), portanto, planeje o início de seu cron job ou cronômetro apropriadamente.</div>
<h4><span class="mw-headline" id="Notas_sobre_scrubbing_de_RAID1_e_RAID10">Notas sobre scrubbing de RAID1 e RAID10</span></h4>
<p>Devido ao fato de que as gravações RAID1 e RAID10 no kernel não são bufferizadas, um array pode ter contagens de incompatibilidade diferente de 0, mesmo quando o array está saudável. Essas contagens diferentes de 0 só existirão em áreas de dados transitórios onde não representam um problema. No entanto, não podemos dizer a diferença entre uma contagem diferente de 0 que está apenas em dados transitórios ou uma contagem diferente de 0 que significa um problema real. Este fato é uma fonte de falsos positivos para arrays RAID1 e RAID10. No entanto, ainda é recomendado realizar scrub regularmente a fim de detectar e corrigir quaisquer setores defeituosos que possam estar presentes nos dispositivos.
</p>
<h3><span class="mw-headline" id="Removendo_dispositivos_de_um_array">Removendo dispositivos de um array</span></h3>
<p>Pode-se remover um dispositivo do array após marcá-lo como defeituoso:
</p>
<pre># mdadm --fail /dev/md0 /dev/sdxx
</pre>
<p>Agora remova-o do array:
</p>
<pre># mdadm --remove /dev/md0 /dev/sdxx
</pre>
<p>Remova o dispositivo permanentemente (por exemplo, para usá-lo individualmente a partir de agora):
Emita os dois comandos descritos acima, então:
</p>
<pre># mdadm --zero-superblock /dev/sdxx
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> 
<ul>
<li>Não emita este comando em arrays lineares ou RAID0 ou ocorrerá perda de dados!</li>
<li>Reutilizar o disco removido sem zerar o superbloco causará perda de todos os dados na próxima inicialização. (Depois mdadm tentará usá-lo como parte do array raid).</li>
</ul>
</div>
<p>Pare de usar um array:
</p>
<ol>
<li>Desmonte o array alvo</li>
<li>Pare o array com: <code>mdadm --stop /dev/md0</code>
</li>
<li>Repita os três comandos descritos no início desta seção em cada dispositivo.</li>
<li>Remova a linha correspondente de <code>/etc/mdadm.conf</code>.</li>
</ol>
<h3><span class="mw-headline" id="Adicionando_um_novo_dispositivo_a_um_array">Adicionando um novo dispositivo a um array</span></h3>
<p>Adicionar novos dispositivos com mdadm pode ser feito em um sistema em execução com os dispositivos montados.
Particione o novo dispositivo usando o mesmo layout de um dos que já estão nos arrays, conforme discutido acima.
</p>
<p>Monte o array RAID caso ainda não esteja montado:
</p>
<pre># mdadm --assemble /dev/md0 /dev/sda1 /dev/sdb1
</pre>
<p>Adicione o novo dispositivo ao array:
</p>
<pre># mdadm --add /dev/md0 /dev/sdc1
</pre>
<p>Isso não deve demorar muito para o mdadm fazer. 
</p>
<p>Dependendo do tipo de RAID (por exemplo, com RAID1), o mdadm pode adicionar o dispositivo como extra sem sincronizar dados com ele. Você pode aumentar o número de discos que o RAID usa usando <code>--grow</code> com a opção <code>--raid-devices</code>. Por exemplo, para aumentar um array para quatro discos:
</p>
<pre># mdadm --grow /dev/md0 --raid-devices=4
</pre>
<p>Você pode verificar o progresso com:
</p>
<pre># cat /proc/mdstat
</pre>
<p>Verifique se o dispositivo foi adicionado com o comando:
</p>
<pre># mdadm --misc --detail /dev/md0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Para arrays RAID0, você pode obter a seguinte mensagem de erro:
<pre>mdadm: add new device failed for /dev/sdc1 as 2: Invalid argument
</pre>
<p>Isso ocorre porque os comandos acima irão adicionar o novo disco como um "sobressalente", mas o RAID0 não possui sobressalentes. Se você deseja adicionar um dispositivo a uma matriz RAID0, você precisa "crescer" e "adicionar" no mesmo comando, conforme demonstrado abaixo:
</p>
<pre># mdadm --grow /dev/md0 --raid-devices=3 --add /dev/sdc1
</pre>
</div>
<h3><span class="mw-headline" id="Aumentando_o_tamanho_de_um_volume_RAID">Aumentando o tamanho de um volume RAID</span></h3>
<p>Se discos maiores forem instalados em um array RAID ou o tamanho da partição tiver aumentado, pode ser desejável aumentar o tamanho do volume RAID para preencher o maior espaço disponível. Este processo pode ser iniciado seguindo primeiro as seções acima relacionadas à substituição de discos. Uma vez que o volume RAID tenha sido reconstruído em discos maiores, ele deve ser "aumentado" para preencher o espaço.
</p>
<pre># mdadm --grow /dev/md0 --size=max
</pre>
<p>Em seguida, as partições presentes no volume RAID <code>/dev/md0</code> pode precisar ser redimensionadas. Veja <a href="../pt/Partitioning.html" title="Partitioning (Português)">Particionamento</a> para mais detalhes. Finalmente, o sistema de arquivos na partição mencionada acima precisará ser redimensionado. Se o particionamento foi executado com <code>gparted</code> isso será feito automaticamente. Se outras ferramentas foram usadas, desmonte e redimensione o sistema de arquivos manualmente.
</p>
<pre># umount /storage
# fsck.ext4 -f /dev/md0p1
# resize2fs /dev/md0p1
</pre>
<h3>
<span id="Alterar_os_limites_de_velocidade_de_sincroniza.C3.A7.C3.A3o"></span><span class="mw-headline" id="Alterar_os_limites_de_velocidade_de_sincronização">Alterar os limites de velocidade de sincronização</span>
</h3>
<p>Sincronização pode demorar um pouco. Se a máquina não for necessária para outras tarefas, o limite de velocidade pode ser aumentado.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cat /proc/mdstat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Personalities : [raid1]
 md0 : active raid1 sda3[2] sdb3[1]
       155042219 blocks super 1.2 [2/1] [_U]
       [&gt;....................]  recovery =  0.0% (77696/155042219) finish=265.8min speed=9712K/sec

 unused devices: &lt;none&gt;
</pre>
<p>Verifique o limite de velocidade atual.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cat /proc/sys/dev/raid/speed_limit_min</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">1000
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cat /proc/sys/dev/raid/speed_limit_max</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">200000
</pre>
<p>Aumente os limites.
</p>
<pre># echo 400000 &gt;/proc/sys/dev/raid/speed_limit_min
# echo 400000 &gt;/proc/sys/dev/raid/speed_limit_max
</pre>
<p>Em seguida, verifique a velocidade de sincronização e o tempo estimado de término.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># cat /proc/mdstat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Personalities : [raid1]
 md0 : active raid1 sda3[2] sdb3[1]
       155042219 blocks super 1.2 [2/1] [_U]
       [&gt;....................]  recovery =  1.3% (2136640/155042219) finish=158.2min speed=16102K/sec

 unused devices: &lt;none&gt;
</pre>
<p>Veja também <a href="../en/Sysctl.html#MDADM" title="Sysctl">sysctl#MDADM</a>.
</p>
<h3><span class="mw-headline" id="Performance_do_RAID5">Performance do RAID5</span></h3>
<p>Para melhorar o desempenho do RAID5 para armazenamento rápido (e.g. <a href="../en/Solid_state_drive/NVMe.html" class="mw-redirect" title="NVMe">NVMe</a>), aumente <code>/sys/block/mdx/md/group_thread_cnt</code> para mais threads. Por exemplo, para usar 8 threads para operar em um dispositivo RAID5:
</p>
<pre># echo 8 &gt; /sys/block/md0/md/group_thread_cnt
</pre>
<p>Veja <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=851c30c9badfc6b294c98e887624bff53644ad21">git kernel commit 851c30c9badf</a>.
</p>
<h3><span class="mw-headline" id="Atualizar_o_superbloco_RAID">Atualizar o superbloco RAID</span></h3>
<p>Para atualizar o superbloco RAID, você precisa primeiro desmontar o array e depois parar o array com o seguinte comando:
</p>
<pre># mdadm --stop /dev/md0
</pre>
<p>Então você pode atualizar certos parâmetros remontando o matriz. Por exemplo, para atualizar o <code>homehost</code>:
</p>
<pre># mdadm --assemble --update=homehost --homehost=NAS /dev/md0 /dev/sda1 /dev/sdb1
</pre>
<p>Veja os argumentos de <code>--update</code> para detalhes.
</p>
<h2><span class="mw-headline" id="Monitoramento">Monitoramento</span></h2>
<p>Uma linha simples que imprime o status dos dispositivos RAID:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># awk '/^md/ {printf "%s: ", $1}; /blocks/ {print $NF}' &lt;/proc/mdstat
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">md1: [UU]
md0: [UU]
</pre>
<h3><span class="mw-headline" id="Observe_o_status_com_mdstat">Observe o status com mdstat</span></h3>
<pre># watch -t 'cat /proc/mdstat'
</pre>
<p>Ou de preferência usando <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tmux">tmux</a></span>
</p>
<pre># tmux split-window -l 12 "watch -t 'cat /proc/mdstat'"
</pre>
<h3><span class="mw-headline" id="Rastrear_ES_com_iotop">Rastrear ES com iotop</span></h3>
<p>O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iotop">iotop</a></span> exibe as estatísticas de entrada/saída para processos. Use este comando para ver a ES para threads de raid.
</p>
<pre># iotop -a $(sed 's/^/-p /g' &lt;&lt;&lt;`pgrep "_raid|_resync|jbd2"`)
</pre>
<h3><span class="mw-headline" id="Rastrear_ES_com_iostat">Rastrear ES com iostat</span></h3>
<p>O utilitário <i>iostat</i> do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sysstat">sysstat</a></span> exibe as estatísticas de entrada/saída para dispositivos e partições.
</p>
<pre># iostat -dmy 1 /dev/md0
# iostat -dmy 1 # all
</pre>
<h3>
<span id="Notifica.C3.A7.C3.B5es_de_email"></span><span class="mw-headline" id="Notificações_de_email">Notificações de email</span>
</h3>
<p><i>mdadm</i> fornece o serviço <a href="../en/Systemd.html" title="Systemd">systemd</a> <code> mdmonitor.service</code> que pode ser útil para monitorar a integridade de seus arrays raid e notificar por e-mail se algo der errado.
</p>
<p>Este serviço é especial porque não pode ser ativado manualmente como um serviço normal; <i>mdadm</i> cuidará de ativá-lo via udev ao montar seus arrays na inicialização do sistema, mas <b>apenas</b> fará isso se um endereço de e-mail tiver sido configurado para suas notificações (veja abaixo).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> A falha na configuração de um endereço de e-mail resultará na falha silenciosa do serviço de monitoramento ao iniciar.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Para enviar e-mails, é necessário um <a href="../pt/Mail_server.html" title="Mail server (Português)">agente de transferência de correio</a> devidamente configurado.</div>
<p>Para habilitar esta funcionalidade, edite <code>/etc/mdadm.conf</code> e defina o endereço de e-mail:
</p>
<pre>MAILADDR <i>usuário@domínio</i>
</pre>
<p>Então, para verificar se tudo está funcionando como deveria, execute o seguinte comando:
</p>
<pre># mdadm --monitor --scan --oneshot --test
</pre>
<p>Se o teste for bem-sucedido e o e-mail for entregue, você está pronto; da próxima vez que seus arrays forem remontados, <code>mdmonitor.service</code> começará a monitorá-los em busca de erros.
</p>
<h2>
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Solução_de_problemas">Solução de problemas</span>
</h2>
<p>Se você estiver recebendo um erro ao reinicializar sobre "invalid raid superblock magic" e tiver discos rígidos adicionais além dos que você instalou, verifique se a ordem do seu disco rígido está correta. Durante a instalação, seus dispositivos RAID podem ser hdd, hde e hdf, mas durante a inicialização eles podem ser hda, hdb e hdc. Ajuste sua linha de kernel de acordo.
</p>
<h3>
<span id="Error:_.22kernel:_ataX.00:_revalidation_failed.22"></span><span class="mw-headline" id='Error:_"kernel:_ataX.00:_revalidation_failed"'>Error: "kernel: ataX.00: revalidation failed"</span>
</h3>
<p>Se você repentinamente (após reiniciar, alterou as configurações do BIOS) receber mensagens de erro como:
</p>
<pre>Feb  9 08:15:46 hostserver kernel: ata8.00: revalidation failed (errno=-5)
</pre>
<p>Isso não significa necessariamente que uma unidade está quebrada. Frequentemente, você encontra links de pânico na web que apontam o pior. Em poucas palavras, sem pânico. Talvez você tenha alterado as configurações de APIC ou ACPI dentro de seus parâmetros de BIOS ou Kernel de alguma forma. Troque-os de volta e deverá voltar a funcionar bem. Normalmente, desligar ACPI e/ou ACPI deve ajudar.
</p>
<h3><span class="mw-headline" id="Iniciar_arrays_em_somente_leitura">Iniciar arrays em somente leitura</span></h3>
<p>Quando um array md é iniciado, o superbloco será escrito e a ressincronização pode começar. Para iniciar somente leitura, defina o módulo do kernel <code> md_mod</code> com o parâmetro <code> start_ro</code>. Quando isso é definido, os novos arrays obtêm um modo 'auto-ro', que desativa todos as ES internas (atualizações de superbloco, ressincronização, recuperação) e é automaticamente alterado para 'rw' quando a primeira solicitação de gravação chega.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O array pode ser configurado para o modo 'ro' verdadeiro usando <code>mdadm --readonly</code> antes da primeira solicitação de gravação, ou a ressincronização pode ser iniciada sem uma gravação usando <code>mdadm --readwrite</code>.</div>
<p>Para definir o parâmetro na inicialização, adicione <code>md_mod.start_ro=1</code> à sua linha de kernel.
</p>
<p>Ou defina-o no tempo de carregamento do módulo no arquivo <code>/etc/modprobe.d/</code> ou diretamente em <code>/sys/</code>:
</p>
<pre># echo 1 &gt; /sys/module/md_mod/parameters/start_ro
</pre>
<h3><span class="mw-headline" id="Recuperando_de_uma_unidade_quebrada_ou_perdida_no_raid">Recuperando de uma unidade quebrada ou perdida no raid</span></h3>
<p>Você pode obter o erro mencionado acima também quando uma das unidades quebrar por qualquer motivo. Nesse caso, você terá que forçar o raid a ainda ligar, mesmo com um disco curto. Digite isto (mude onde necessário):
</p>
<pre># mdadm --manage /dev/md0 --run
</pre>
<p>Agora você deve ser capaz de montá-lo novamente com algo assim (se você o tinha no fstab):
</p>
<pre># mount /dev/md0
</pre>
<p>Agora o raid deve estar funcionando novamente e disponível para uso, porém com um disco a menos! Portanto, para adicionar essa partição de um disco da maneira descrita acima em <a href="#Prepare_os_dispositivos">#Prepare os dispositivos</a>. Depois de fazer isso, você pode adicionar o novo disco ao raid fazendo:
</p>
<pre># mdadm --manage --add /dev/md0 /dev/sdd1
</pre>
<p>Se você digitar:
</p>
<pre># cat /proc/mdstat
</pre>
<p>você provavelmente verá que o raid agora está ativo e reconstruindo.
</p>
<p>Você também pode querer atualizar suas configurações (veja: <a href="#Atualize_o_arquivo_de_configura%C3%A7%C3%A3o">#Atualize o arquivo de configuração</a>).
</p>
<h2><span class="mw-headline" id="Benchmarking">Benchmarking</span></h2>
<p>Existem várias ferramentas para fazer benchmarking em um RAID. A melhoria mais notável é o aumento da velocidade quando várias threads estão lendo do mesmo volume RAID.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bonnie%2B%2B">bonnie++</a></span> testa o analisa o tipo de acesso ao banco de dados para um ou mais arquivos e criação, leitura e exclusão de pequenos arquivos que podem simular o uso de programas como Squid, INN ou formato Maildir e-mail. O programa anexo <a rel="nofollow" class="external text" href="https://www.coker.com.au/bonnie++/zcav/">ZCAV</a> testa o desempenho de diferentes zonas de um disco rígido sem gravar nenhum dado no disco.
</p>
<p><code>hdparm</code> <b>não</b> deve ser usado para fazer benchmarking em um RAID, porque fornece resultados muito inconsistentes.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.thomas-krenn.com/en/wiki/Linux_Software_RAID">Linux Software RAID</a> (thomas-krenn.com)</li>
<li>
<a rel="nofollow" class="external text" href="https://raid.wiki.kernel.org/index.php/Linux_Raid">Linux RAID wiki entry</a> on The Linux Kernel Archives</li>
<li><a rel="nofollow" class="external text" href="https://raid.wiki.kernel.org/index.php/Write-intent_bitmap">How Bitmaps Work</a></li>
<li>
<a rel="nofollow" class="external text" href="https://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/ch-raid.html">Chapter 15: Redundant Array of Independent Disks (RAID)</a><sup title="Status da última verificação: 404">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2024-07-30 ⓘ]</sup> of Red Hat Enterprise Linux 6 Documentation</li>
<li>
<a rel="nofollow" class="external text" href="https://tldp.org/FAQ/Linux-RAID-FAQ/x37.html">Linux-RAID FAQ</a> on the Linux Documentation Project</li>
<li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20160114023340/http://www.miracleas.com/BAARF/">BAARF</a>(Archive.org) including <i><a rel="nofollow" class="external text" href="https://web.archive.org/web/20160112115539/http://www.miracleas.com/BAARF/RAID5_versus_RAID10.txt">Why should I not use RAID 5?</a></i>(Archive.org) by Art S. Kagel</li>
<li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20190425050953/http://www.linux-mag.com/id/7924/">Introduction to RAID</a>, <a rel="nofollow" class="external text" href="https://web.archive.org/web/20190224110216/http://www.linux-mag.com/id/7931/">Nested-RAID: RAID-5 and RAID-6 Based Configurations</a>, <a rel="nofollow" class="external text" href="https://web.archive.org/web/20190501235404/http://www.linux-mag.com/id/7928">Intro to Nested-RAID: RAID-01 and RAID-10</a>, and <a rel="nofollow" class="external text" href="https://web.archive.org/web/20190501212610/http://www.linux-mag.com/id/7932/">Nested-RAID: The Triple Lindy</a> in Linux Magazine</li>
<li><a rel="nofollow" class="external text" href="https://www.cyberciti.biz/tips/linux-raid-increase-resync-rebuild-speed.html">HowTo: Speed Up Linux Software Raid Building And Re-syncing</a></li>
<li><a href="https://en.wikipedia.org/wiki/Non-RAID_drive_architectures" class="extiw" title="wikipedia:Non-RAID drive architectures">Wikipedia:Non-RAID drive architectures</a></li>
</ul>
<p><b>Lista de discução</b>
</p>
<ul><li><a rel="nofollow" class="external text" href="mailto:linux-raid@vger.kernel.org">Kernel Linux-Raid mailing list</a></li></ul>
<p><b>mdadm</b>
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.kernel.org/pub/linux/utils/raid/mdadm/">mdadm source code</a></li>
<li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20180624104254/http://www.linux-mag.com/id/7939/">Software RAID on Linux with mdadm</a> in Linux Magazine</li>
<li><a href="https://en.wikipedia.org/wiki/mdadm" class="extiw" title="wikipedia:mdadm">Wikipedia - mdadm</a></li>
</ul>
<p><b>Tópicos de fórum</b>
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://forums.overclockers.com.au/threads/mdadm-bitmap.865333/">Raid Performance Improvements with bitmaps</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=125445">GRUB and GRUB2</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=123698">Can't install grub2 on software RAID</a></li>
<li><a rel="nofollow" class="external text" href="https://forums.gentoo.org/viewtopic-t-888624-start-0.html">Use RAID metadata 1.2 in boot and root partition</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Storage_virtualization.html" title="Category:Storage virtualization (Português)">Storage virtualization (Português)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=RAID_(Portugu%C3%AAs)&amp;oldid=813451">https://wiki.archlinux.org/index.php?title=RAID_(Português)&amp;oldid=813451</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 30 July 2024, at 16:26.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
