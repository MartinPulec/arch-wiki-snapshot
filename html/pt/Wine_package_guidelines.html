<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Wine package guidelines (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Wine_package_guidelines_Português rootpage-Wine_package_guidelines_Português skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Coisas_para_verificar_imediatamente" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Coisas_para_verificar_imediatamente">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Coisas para verificar imediatamente</span>
			</div>
		</a>
		
			<button aria-controls="toc-Coisas_para_verificar_imediatamente-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Coisas para verificar imediatamente subsection</span>
			</button>
		
		<ul id="toc-Coisas_para_verificar_imediatamente-sublist" class="vector-toc-list">
			<li id="toc-Licença" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Licen%C3%A7a">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>Licença</span>
				</div>
			</a>
			
			<ul id="toc-Licença-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalador" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalador">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>Instalador</span>
				</div>
			</a>
			
			<ul id="toc-Instalador-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Portabilidade_e_limpeza" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Portabilidade_e_limpeza">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>Portabilidade e limpeza</span>
				</div>
			</a>
			
			<ul id="toc-Portabilidade_e_limpeza-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-A_diretriz_em_resumo" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#A_diretriz_em_resumo">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>A diretriz em resumo</span>
			</div>
		</a>
		
			<button aria-controls="toc-A_diretriz_em_resumo-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle A diretriz em resumo subsection</span>
			</button>
		
		<ul id="toc-A_diretriz_em_resumo-sublist" class="vector-toc-list">
			<li id="toc-Instalando" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalando">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>Instalando</span>
				</div>
			</a>
			
			<ul id="toc-Instalando-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-O_script_/usr/bin" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#O_script_/usr/bin">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>O script /usr/bin</span>
				</div>
			</a>
			
			<ul id="toc-O_script_/usr/bin-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-UnionFsFuse" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#UnionFsFuse">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>UnionFsFuse</span>
				</div>
			</a>
			
			<ul id="toc-UnionFsFuse-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Um_exemplo" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Um_exemplo">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Um exemplo</span>
			</div>
		</a>
		
		<ul id="toc-Um_exemplo-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Gecko_e_Mono" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Gecko_e_Mono">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Gecko e Mono</span>
			</div>
		</a>
		
		<ul id="toc-Gecko_e_Mono-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Wine package guidelines (Português)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 2 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-2" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">2 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Wine_package_guidelines.html" title="Wine package guidelines – English" lang="en" hreflang="en" data-title="Wine package guidelines" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Wine_%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%AC%E3%82%A4%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3" title="Wine パッケージガイドライン – 日本語" lang="ja" hreflang="ja" data-title="Wine パッケージガイドライン" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Wine_package_guidelines.html" title="Wine package guidelines">Wine package guidelines</a>. Data da última tradução: 2019-06-19. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Wine_package_guidelines&amp;diff=0&amp;oldid=621057">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-navigation">
<b><a href="../pt/Arch_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes do Arch">Diretrizes de pacotes do Arch</a></b>
<hr>
<p><a href="../pt/32-bit_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes 32-bit">32-bit</a> – <a href="../pt/CLR_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CLR">CLR</a> – <a href="../pt/CMake_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CMake">CMake</a> – <a href="../pt/Cross-compiling_tools_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de ferramentas de compilação cruzada">Cross</a> – <a href="../pt/DKMS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes DKMS">DKMS</a> – <a href="../pt/Eclipse_plugin_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de plugin do Eclipse">Eclipse</a> – <a href="../pt/Electron_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Electron">Electron</a> – <a href="../pt/Font_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de fontes">Fonte</a> – <a href="../pt/Free_Pascal_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Free Pascal">Free Pascal</a> – <a href="../pt/GNOME_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes GNOME">GNOME</a> – <a href="../pt/Go_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Go">Go</a> – <a href="../pt/Haskell_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Haskell">Haskell</a> – <a href="../pt/Java_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Java">Java</a> – <a href="../pt/KDE_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes KDE">KDE</a> – <a href="../pt/Kernel_module_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de módulos de kernel">Kernel</a> – <a href="../pt/Lisp_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Lisp">Lisp</a> – <a href="../pt/Meson_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Meson">Meson</a> – <a href="../pt/MinGW_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes MinGW">MinGW</a> – <a href="../pt/Node.js_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Node.js">Node.js</a> – <a href="../pt/Nonfree_applications_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">Nonfree</a> – <a href="../pt/OCaml_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes OCaml">OCaml</a> – <a href="../pt/Perl_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Perl">Perl</a> – <a href="../pt/PHP_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes PHP">PHP</a> – <a href="../pt/Python_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Python">Python</a> – <a href="../pt/R_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes R">R</a> – <a href="../pt/Ruby_Gem_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Ruby Gem">Ruby</a> – <a href="../pt/Rust_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Rust">Rust</a> – <a href="../pt/Shell_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de shell">Shell</a> – <a href="../pt/VCS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes VCS">VCS</a> – <a href="../pt/Web_application_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos da Web">Web</a> – <a href="../pt/Wine_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Wine">Wine</a>
</p>
</div>
<p>Muitos programas do Windows ainda podem ser úteis no Linux e, portanto, podemos querer ter um pacote para eles. As diferenças entre os dois sistemas operacionais tornam essa tarefa um pouco complexa. Nesta diretriz, falaremos sobre binários do Win32, já que os projetos em que a origem está disponível geralmente são portados para o Linux.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Coisas_para_verificar_imediatamente">Coisas para verificar imediatamente</h2></div>
<ul>
<li>Licença: a licença permite que o programa seja reempacotada?</li>
<li>Instalador: é possível instalar o programa silenciosamente? Melhor ainda, existe uma versão sem instalador?</li>
<li>Portabilidade e limpeza: é o programa portátil? É limpo?</li>
</ul>
<p>Aqui dizemos que um programa é portátil se <i>nunca</i> escreve no registro ou fora de seu diretório; dizemos que um programa é limpo se nunca escreve em seu diretório, mas pode gravar suas configurações na pasta do usuário. Um programa também pode ser ambos (por exemplo, nunca escreve configurações) ou nem (por exemplo, ele escreve em seu diretório, escreve em volta, escreve no registro ...)
</p>
<div class="mw-heading mw-heading3"><h3 id="Licença">
<span id="Licen.C3.A7a"></span>Licença</h3></div>
<p>Geralmente, as licenças estão em um arquivo de texto no diretório de instalação. Se você não conseguir encontrá-los, tente seguir as telas durante a instalação. Se nada for dito sobre reempacotamento, vá em frente. O autor não se importa. Caso contrário, a licença geralmente não permite a remoção de arquivos ou não permite a reempacotamento. No primeiro caso, apenas tenha cuidado para que o processo <a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a> não perca nenhum arquivo, você pode excluir arquivos desnecessários (por exemplo, desinstaladores) na fase <code>post_install</code>; no último caso, todo o processo de instalação deve ser feito na fase <code>post_install</code>. A fase <code>build</code> será apenas para copiar os arquivos de instalação.
</p>
<div class="mw-heading mw-heading3"><h3 id="Instalador">Instalador</h3></div>
<p>É muito mais fácil trabalhar com arquivos compactados como <code>.zip</code> do que com instaladores do Windows. Se você não tiver escolha, pois o autor insiste em distribuir seu programa com um instalador, pesquise na Internet se é possível instalar silenciosamente o software. <a rel="nofollow" class="external text" href="https://web.archive.org/web/20180209090444/http://unattended.msfn.org/unattended.xp/page/list/switch/">MSFN</a> geralmente é um bom lugar para pesquisar. Se não conseguir encontrar uma maneira, tente abrir o instalador com diferentes <a href="../pt/Nonfree_applications_package_guidelines.html#Desempacotamento" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">utilitários de desempacotamento</a>; pode funcionar.
</p>
<div class="mw-heading mw-heading3"><h3 id="Portabilidade_e_limpeza">Portabilidade e limpeza</h3></div>
<p>Um programa portátil não precisa de seu próprio sistema de arquivos em <a href="../en/Wine.html" title="Wine">Wine</a>, portanto, verifique em <a rel="nofollow" class="external text" href="https://www.portablefreeware.com">Portable Freeware</a> se o programa que você está empacotando é portátil.
</p>
<div class="mw-heading mw-heading2"><h2 id="A_diretriz_em_resumo">A diretriz em resumo</h2></div>
<p>A ideia por trás do empacotamento de um programa do Windows é usar os arquivos do programa como meros dados que o Wine interpretará, assim como o bytecode da JVM e do Java.
</p>
<p>Então vamos instalar o programa em <code>/usr/share/"$pkgname"</code> e o programa irá escrever tudo o que precisa em <code>"$HOME"/."$pkgname"</code>. Tudo será preparado por um pequeno script salvo em <code>/usr/bin/"$pkgname"</code> que irá criar a pasta, prepará-la, se necessário, e finalmente iniciar o programa.
</p>
<p>Nas próximas seções, nós vamos falar sobre cada etapa.
</p>
<p>Desta forma, cada usuário terá suas próprias configurações e suas decisões não incomodarão outros usuários.
</p>
<div class="mw-heading mw-heading3"><h3 id="Instalando">Instalando</h3></div>
<p>Se o programa não tiver instalador, a instalação é uma mera descompactação de um arquivo; descompacte-o em <code>"$pkgdir"/usr/share/$pkgname</code>, certificando-se de que as permissões estejam corretas. Esses comandos servirão:
</p>
<pre>$ find "$pkgdir"/usr/share -type f -exec chmod 644 "{}" \;
$ find "$pkgdir"/usr/share -type d -exec chmod 755 "{}" \;
</pre>
<p>Se o programa não puder ser instalado da maneira mais fácil, você precisará criar um ambiente Wine:
</p>
<pre>$ install -m755 -d "$srcdir"/tmp "$srcdir"/tmp/env "$srcdir"/tmp/local
$ export WINEPREFIX="$srcdir"/tmp/env
$ export XDG_DATA_HOME="$srcdir"/tmp/local
$ wine "$srcdir"/installer.exe /silentoptions
</pre>
<p>Nós ainda não discutimos a portabilidade, mas se o seu programa não precisa das chaves de registro que ele modificou, você pode simplesmente copiar o diretório do:
</p>
<pre>"$srcdir"/tmp/env/drive_c/Program\ Files/nomeprograma
</pre>
<p>Caso contrário, você precisará copiar todos os arquivos de registro também e, eventualmente, os arquivos instalados pelo programa. O <code>"$srcdir"/tmp/local</code> conterá ícones de menu e arquivos da área de trabalho, você pode querer copiá-los no pacote. Se não existe uma maneira de instalar o programa silenciosamente ... Talvez você possa criar um arquivo <code>.tar.gz</code> e enviá-lo para algum lugar? Se nada for possível, force o usuário a seguir o instalador e espere que ele não estrague a instalação, faça algumas verificações antes de copiar cegamente uma pasta que pode não existir (por exemplo, o usuário pressionou 'Cancelar').
</p>
<div class="mw-heading mw-heading3"><h3 id="O_script_/usr/bin">
<span id="O_script_.2Fusr.2Fbin"></span>O script /usr/bin</h3></div>
<p>Este script prepara a pasta de configurações e inicia o programa. Se o seu programa for portátil, ficará assim:
</p>
<pre>#!/bin/bash
unset WINEPREFIX
if [ ! -d "$HOME"/.nomeprograma ] ; then
   mkdir -p "$HOME"/.nomeprograma
   #prepare o ambiente aqui
fi
WINEDEBUG=-all wine "$HOME"/.nomeprograma/nomeprograma "$@"
</pre>
<p>Se for limpo, ele vai se parecer com isso:
</p>
<pre>#!/bin/bash
export WINEPREFIX="$HOME"/.nomeprograma/wine
if [ ! -d "$HOME"/.nomeprograma ] ; then
   mkdir -p "$HOME"/.nomeprograma/wine
   wineboot -u
   #copie o arquivo de registro se necessário
fi
WINEDEBUG=-all wine /usr/share/nomeprograma "$@"
</pre>
<p>Como você pode ver, no segundo caso não há preparação do ambiente. Na verdade, um aplicativo limpo será iniciado diretamente de <code>/usr/share</code>, pois não precisará gravar em sua pasta, portanto, suas configurações serão gravadas em algum lugar no sistema de arquivos emulado.
</p>
<p>Se o aplicativo não for nem limpo nem portátil, as duas ideias devem ser combinadas.
</p>
<p>Se o aplicativo não gravar configurações, ignore o <code>if</code> e inicie-o em <code>/usr/share</code>.
</p>
<p>A tarefa de preparar o ambiente pode diferir muito entre os aplicativos, mas siga estas regras práticas:
Se o programa:
</p>
<ul>
<li>só precisa ler um arquivo, faça um link simbólico para ele.</li>
<li>precisa escrever em um arquivo, copie-o.</li>
<li>não usa um arquivo, ignore-o.</li>
</ul>
<p>É claro, o mínimo é só iniciar <code>WINEDEBUG=-all wine /usr/share/nomeprograma "$@"</code>.
</p>
<p>Geralmente, o ambiente será feito por link simbólico entre o diretório <code>"$HOME"/.<i>nomeprograma</i></code> e os arquivos <code>/usr/share/<i>nomeprograma</i></code>. Mas já que alguns programas do Windows são muito inconstantes em relação aos seus caminhos, você pode precisar vincular diretamente no diretório <code>"$HOME"/.<i>nomeprograma</i>/wine/drive_c/Program\ Files/<i>nomeprograma</i></code>.
</p>
<p>Claro que essas são apenas ideias para integrar aplicativos Win32 no ambiente Linux, não esqueça sua inteligência e bom senso.
</p>
<p>Como exemplo, <a href="https://en.wikipedia.org/wiki/pt:%CE%BCTorrent" class="extiw" title="wikipedia:pt:μTorrent">μTorrent</a> é por padrão um aplicativo limpo, mas com uma etapa fácil pode ser usado como um arquivo portátil. Já que é um único arquivo e é bem pequeno criando seu ambiente do Wine (aproximadamente 5MB) é provavelmente um exagero. É melhor criar um link simbólico para o executável, criar o <b>settings.dat</b> vazio para poder usá-lo no diretório <code>$HOME/.utorrent</code>. Com a vantagem de apenas visitar a pasta <code>.utorrent</code>, um usuário pode ver uma cópia dos arquivos <code>.torrent</code> que baixou.
</p>
<div class="mw-heading mw-heading3"><h3 id="UnionFsFuse">UnionFsFuse</h3></div>
<p>Você pode considerar o uso do programa <a rel="nofollow" class="external text" href="https://github.com/rpodgorny/unionfs-fuse">UnionFsFuse</a> disponível nos <a href="../pt/Official_repositories.html" class="mw-redirect" title="Repositórios oficiais">repositórios oficiais</a> como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/unionfs-fuse/">unionfs-fuse</a></span><sup><small>AUR</small></sup>). UnionFsFuse permite manter o diretório base no <code>/usr/share</code> e colocar uma cópia dos arquivos do aplicativo necessários para escrever dentro de <code>$HOME/.nomeprograma</code> quase automaticamente.
</p>
<p>Usar UnionFsFuse significa uma dependência adicional e requer o módulo fuse, o que nem todos os usuários podem carregar. No entanto, pode valer a pena se o aplicativo precisar de muitos links simbólicos ou se não estiver claro exatamente o que precisa ser escrito. Apenas certifique-se de montar e desmontar os UnionFs corretamente.
</p>
<div class="mw-heading mw-heading2"><h2 id="Um_exemplo">Um exemplo</h2></div>
<p>Vamos fazer um pacote para o <a rel="nofollow" class="external text" href="https://www.emule-project.net/">eMule</a>. De acordo com <a rel="nofollow" class="external text" href="https://www.portablefreeware.com/?q=emule">Portable Freeware</a>, eMule não é completamente portátil, pois ele escreve algumas chaves (inúteis) no registro.
</p>
<p>Por outro lado, ele também não é limpo já que ele escreve seus arquivos de configuração e coloca seus downloads em sua pasta de instalação.
</p>
<p>Por sorte, há uma <a rel="nofollow" class="external text" href="https://prdownloads.sourceforge.net/emule/eMule0.49b.zip">versão sem instalador disponível</a>.
</p>
<p>Então, nós fazemos nosso <a href="../pt/PKGBUILD.html" title="PKGBUILD (Português)">PKGBUILD</a>; a única dependência é o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine">wine</a></span>. O <code>md5sums</code> deve ser adicionado.
</p>
<pre># Maintainer: Você &lt;seuemail&gt;
pkgname=emule
pkgver=0.49b
pkgrel=1
pkgdesc="One of the biggest and most reliable peer-to-peer file sharing
clients around the world."
arch=(i686 x86_64)
url="http://www.emule-project.net"
license=('GPL')
depends=()
depends=(wine)
makedepends=(unzip)
source=(emule http://prdownloads.sourceforge.net/emule/eMule$pkgver.zip)
noextract=()
options=(!strip)

build() {
  rm -f src/eMule"$pkgver"/license* #It is GPL

  install -d -m755 pkg/usr/share/emule
  cp -ra src/eMule"$pkgver"/* pkg/usr/share/emule
  find pkg/usr/share/emule -type d -exec chmod 755 "{}" \;
  find pkg/usr/share/emule -type f -exec chmod 644 "{}" \;

  install -d -m755 pkg/usr/bin
  install -m755 emule pkg/usr/bin 
}
</pre>
<p>Agora, nós fazemos nosso arquivo <b>emule</b>, que, de com o <code>build</code>, será copiado e tornado executável em <code>/usr/bin</code>.
</p>
<pre>#!/bin/bash
export WINEARCH=win32 WINEPREFIX="$HOME/.emule/wine"

if [ ! -d "$HOME"/.emule ] ; then
  mkdir -p "$HOME"/.emule/wine || exit 1
  #Cada usuário terá suas config, nós copiamos o arquivo padrão
  #já que o emule precisa escrevê-lo.
  cp -r /usr/share/emule/config "$HOME"/.emule || exit 1
  #Nós criamos links simbólicos para os arquivos que o emule precisa ler para funcionar
  ln -s /usr/share/emule/emule.exe "$HOME"/.emule/emule || exit 1
  ln -s -T /usr/share/emule/lang "$HOME"/.emule/lang || exit 1
  ln -s -T /usr/share/emule/webserver "$HOME"/.emule/webserver || exit 1
fi

wine "$HOME"/.emule/emule "$@"
</pre>
<p>Se você quiser ser mais preciso, você pode adicionar uma mensagem no arquivo <code>.install</code> dizendo ao usuário que ele deve desabilitar o histórico de busca, já que o wine bagunça aquele menu. Você pode até fornecer um arquivo de configuração padrão com as melhores configurações. E é isso ... execute <code>$ makepkg</code>, verifique a pasta do pacote para ter certeza e instale-o.
</p>
<div class="mw-heading mw-heading2"><h2 id="Gecko_e_Mono">Gecko e Mono</h2></div>
<p>A menos que você saiba com certeza que o software requer o navegador do tempo de execução do .NET (pacotes <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-gecko">wine-gecko</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-mono">wine-mono</a></span> nos repositórios oficiais), os prompts padrão de instalação do wine para Gecko/Mono são indesejáveis.
</p>
<p>Para desabilitar renderização HTML, suporte a bytecode e diálogos, você precisa usar um dlloverride em seu script.
Para Gecko:
</p>
<pre>export WINEDLLOVERRIDES="mshtml="
</pre>
<p>Para Mono:
</p>
<pre>export WINEDLLOVERRIDES="mscoree="
</pre>
<p>Para ambos:
</p>
<pre>export WINEDLLOVERRIDES="mscoree,mshtml="
</pre>
<p>Você também pode desabilitá-los via <code>winecfg</code>: basta definir mscoree/mshtml para desabilitar.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Arch_package_guidelines.html" title="Category:Arch package guidelines (Português)">Arch package guidelines (Português)</a></li>
<li><a href="../pt/Category:Emulation.html" title="Category:Emulation (Português)">Emulation (Português)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Wine_package_guidelines_(Portugu%C3%AAs)&amp;oldid=774936">https://wiki.archlinux.org/index.php?title=Wine_package_guidelines_(Português)&amp;oldid=774936</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 7 April 2023, at 05:13.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">Wine package guidelines (Português)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
