<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Arch package guidelines (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arch_package_guidelines_Português rootpage-Arch_package_guidelines_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Protótipo_de_PKGBUILD" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Prot%C3%B3tipo_de_PKGBUILD">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Protótipo de PKGBUILD</div>
		</a>
		
		<ul id="toc-Protótipo_de_PKGBUILD-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Etiqueta_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Etiqueta_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Etiqueta de pacotes</div>
		</a>
		
		<ul id="toc-Etiqueta_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Nomenclatura_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Nomenclatura_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Nomenclatura de pacotes</div>
		</a>
		
		<ul id="toc-Nomenclatura_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Versionamento_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Versionamento_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Versionamento de pacotes</div>
		</a>
		
		<ul id="toc-Versionamento_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Dependências_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Depend%C3%AAncias_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Dependências de pacotes</div>
		</a>
		
		<ul id="toc-Dependências_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Relações_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Rela%C3%A7%C3%B5es_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Relações de pacotes</div>
		</a>
		
		<ul id="toc-Relações_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fontes_de_pacotes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fontes_de_pacotes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Fontes de pacotes</div>
		</a>
		
		<ul id="toc-Fontes_de_pacotes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Trabalhando_com_upstream" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Trabalhando_com_upstream">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Trabalhando com upstream</div>
		</a>
		
		<ul id="toc-Trabalhando_com_upstream-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Diretórios" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Diret%C3%B3rios">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Diretórios</div>
		</a>
		
		<ul id="toc-Diretórios-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tarefas_do_Makepkg" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tarefas_do_Makepkg">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">10</span>Tarefas do Makepkg</div>
		</a>
		
		<ul id="toc-Tarefas_do_Makepkg-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Arquiteturas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Arquiteturas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">11</span>Arquiteturas</div>
		</a>
		
		<ul id="toc-Arquiteturas-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Licenças" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Licen%C3%A7as">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">12</span>Licenças</div>
		</a>
		
		<ul id="toc-Licenças-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Compilações_reproduzíveis" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Compila%C3%A7%C3%B5es_reproduz%C3%ADveis">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">13</span>Compilações reproduzíveis</div>
		</a>
		
		<ul id="toc-Compilações_reproduzíveis-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Diretrizes_adicionais" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Diretrizes_adicionais">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">14</span>Diretrizes adicionais</div>
		</a>
		
		<ul id="toc-Diretrizes_adicionais-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Arch package guidelines (Português)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Arch_package_guidelines.html" title="Arch package guidelines – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Arch_package_guidelines.html" title="Arch package guidelines – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Arch_package_guidelines.html" title="Arch package guidelines – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Arch_%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%AC%E3%82%A4%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3" title="Arch パッケージガイドライン – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Arch_package_guidelines.html" title="Arch package guidelines – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Arch_package_guidelines" title="Arch package guidelines – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Arch_package_guidelines.html" title="Arch package guidelines">Arch package guidelines</a>. Data da última tradução: 2023-10-26. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Arch_package_guidelines&amp;diff=0&amp;oldid=791179">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/Creating_packages.html" class="mw-redirect" title="Criando pacotes">Criando pacotes</a></li>
<li><a href="../pt/PKGBUILD.html" title="PKGBUILD (Português)">PKGBUILD</a></li>
<li><a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a></li>
<li><a href="../pt/Arch_build_system.html" class="mw-redirect" title="Sistema de compilação do Arch">Sistema de compilação do Arch</a></li>
<li><a href="../pt/Arch_User_Repository.html" title="Arch User Repository (Português)">Arch User Repository</a></li>
<li><a href="../pt/Arch_package_guidelines/Security.html" class="mw-redirect" title="Diretrizes de segurança para pacotes">Diretrizes de segurança para pacotes</a></li>
<li><a href="../pt/AUR_submission_guidelines.html" class="mw-redirect" title="Diretrizes de envio ao AUR">Diretrizes de envio ao AUR</a></li>
<li><a href="../pt/Arch_package_guidelines/Security.html" class="mw-redirect" title="Arch package guidelines (Português)/Segurança">/Segurança</a></li>
</ul>
</div>
<p>Ao compilar pacotes para o Arch Linux, <b>siga as diretrizes de empacotamento</b> abaixo, especialmente se a intenção é <b>contribuir</b> com um novo pacote para o Arch Linux. Você também deve ler as páginas de manual do <span class="plainlinks archwiki-template-man" title="$ man 5 PKGBUILD"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/PKGBUILD.5">PKGBUILD(5)</a></span> e do <span class="plainlinks archwiki-template-man" title="$ man 8 makepkg"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/makepkg.8">makepkg(8)</a></span>.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Prot.C3.B3tipo_de_PKGBUILD"></span><span class="mw-headline" id="Protótipo_de_PKGBUILD">Protótipo de PKGBUILD</span>
</h2>
<pre># Maintainer: Seu nome &lt;seu-email@domínio.com&gt;
pkgname=NOME
pkgver=VERSÃO
pkgrel=1
pkgdesc=""
arch=()
url=""
license=('GPL')
groups=()
depends=()
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.gz)
noextract=()
md5sums=() #gerado com updpkgsums

build() {
  cd "$pkgname-$pkgver"

  ./configure --prefix=/usr
  make
}

package() {
  cd "$pkgname-$pkgver"

  make DESTDIR="$pkgdir/" install
}</pre>
<p>Outros protótipos podem ser encontrados em <code>/usr/share/pacman/</code> do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span>.
</p>
<h2><span class="mw-headline" id="Etiqueta_de_pacotes">Etiqueta de pacotes</span></h2>
<ul>
<li>Os pacotes <b>jamais</b> devem ser instalados em <code>/usr/local/</code>
</li>
<li>
<b>Não introduza novas variáveis ou funções</b> em scripts de compilação <code>PKGBUILD</code>, a menos que o pacote não possa ser compilado sem elas, pois elas podem <b>conflitar</b> com variáveis ou funções usadas pelo próprio makepkg.</li>
<li>Se uma nova variável ou uma nova função for absolutamente necessária, <b>prefixe seu nome com um caractere de sublinhado</b> (<code>_</code>), ex: <pre>_variavelpersonalizada=</pre>
</li>
<li>O campo <code>packager</code> do meta-arquivo do pacote pode ser <b>personalizado</b> pelo compilador do pacote, modificando a opção apropriada no arquivo <code>/etc/makepkg.conf</code> ou, alternativamente, sobrescrevendo-o com a criação de um ~/.makepkg.conf</li>
<li>
<b>Não use sub-rotinas do makepkg</b> (e.g. <code>error</code>, <code>msg</code>, <code>msg2</code>, <code>plain</code>, <code>warning</code>), pois elas podem mudar a qualquer momento. Para imprimir dados, use <code>printf</code> ou <code>echo</code>.</li>
<li>Todas as mensagens importantes devem ser exibidas durante a instalação usando um <b>arquivo .install</b>. Por exemplo, se um pacote precisa de configurações extras para funcionar, as direções devem ser incluídas neste arquivo.</li>
<li>
<b>Dependências</b> são os erros mais comuns de empacotamento. Por favor, invista um tempo em verificá-las cuidadosamente, por exemplo executando <code>ldd</code> em executáveis dinâmicos, verificando ferramentas necessárias por scripts ou olhando documentação do software. O utilitário <a href="../pt/Namcap.html" title="Namcap (Português)">namcap</a> pode lhe ajudar neste assunto. Essa ferramenta pode analisar ambos PKGBUILD e o tarball de pacote resultante e vai avisar você sobre permissões erradas, dependências em falta, dependências redundantes e outros erros comuns.</li>
<li>Quaisquer <b>dependências opcionais</b> que não são necessárias para executar o pacote ou que faça-o funcionar, não devem ser incluídas no vetor <b>depends</b>; em vez disso, a informação deve ser adicionada ao vetor <b>optdepends</b>:</li>
</ul>
<dl>
<dd><pre>optdepends=('cups: printing support'
            'sane: scanners support'
            'libgphoto2: digital cameras support'
            'alsa-lib: sound support'
            'giflib: GIF images support'
            'libjpeg: JPEG images support'
            'libpng: PNG images support')
</pre></dd>
<dd>O exemplo acima foi tirado do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine">wine</a></span>. A informação do optdepends é automaticamente exibida na instalação/atualização, de forma que tal informação <b>não</b> deve-se manter esse tipo de informação em arquivos <code>.install</code>.</dd>
</dl>
<ul>
<li>Ao criar a <b>descrição de pacote</b> para um pacote, não inclua o nome do pacote, em uma forma autorreferenciativa. Por exemplo, "Nedit is a text editor for X11" poderia ser simplificado em "A text editor for X11". Também tente manter as descrições abaixo de 80 caracteres.</li>
<li>Tente manter o <b>tamanho da linha</b> do PKGBUILD abaixo de 100 caracteres.</li>
<li>Onde for possível, <b>remova linhas vazias</b> do <code>PKGBUILD</code> (<code>provides</code>, <code>replaces</code>, etc.)</li>
<li>É uma prática comum <b>preservar a ordem</b> dos campos do <code>PKGBUILD</code> informada acima. Porém, isso não é obrigatório, sendo o único requisito neste contexto a <b>correção da sintaxe bash</b>.</li>
<li>
<b>Envolva com aspas</b> as variáveis que podem conter espaços, tal como <code>"$pkgdir"</code> e <code>"$srcdir"</code>.</li>
<li>Para garantir a <b>integridade</b> de pacotes, certifique-se que as <a href="../pt/PKGBUILD.html#Integridade" title="PKGBUILD (Português)">variáveis de integridade</a> contêm os valores corretos. Essas podem ser atualizadas usando a ferramenta <span class="plainlinks archwiki-template-man" title="$ man 8 updpkgsums"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/updpkgsums.8">updpkgsums(8)</a></span>.</li>
</ul>
<h2><span class="mw-headline" id="Nomenclatura_de_pacotes">Nomenclatura de pacotes</span></h2>
<ul>
<li>Nomes de pacotes pode conter apenas caracteres alfanuméricos e algum entre <code>@</code>, <code>.</code>, <code>_</code>, <code>+</code>, <code>-</code>. Nomes não podem iniciar com hífenes ou pontos. Todas as letras devem ser <b>minúsculas</b>.</li>
<li>Nomes de pacotes <b>não</b> devem ser sufixados com o número de versão principal de lançamento do upstream (ex.: não queremos libfoo2 se upstream chama-o de libfoo v2.3.4) no caso da biblioteca e suas dependências esperadas para serem capazes de manter o uso da maioria das versões recentes de biblioteca com cada lançamento do upstream. Porém, para alguns softwares ou dependências, isso não pode ser presumido. No passado, isso foi especialmente verdadeiro para kits de ferramentas de widget, tal como GTK ou Qt. Softwares que depende em tais kits de ferramentas geralmente podem não ser trivialmente portadas para uma nova versão maior. Como tal, em casos em que softwares podem, trivialmente, se manter funcionando junto com suas dependências, nomes de pacotes devem carregar o sufixo da versão maior (ex.: gtk2, gtk3, qt4, qt5). Para casos em que a maioria das dependências podem se manter funcionando junto com lançamentos mais novos, mas alguns não podem (por exemplo, código fechado que precisa de libpng12 ou similar), uma versão obsoleta daquele pacote pode ser chamado de libfoo1 enquanto a versão atual é apenas libfoo.</li>
</ul>
<h2><span class="mw-headline" id="Versionamento_de_pacotes">Versionamento de pacotes</span></h2>
<ul>
<li>Versões de pacotes (p.ex., <a href="../pt/PKGBUILD.html#pkgver" title="PKGBUILD (Português)">PKGBUILD (Português)#pkgver</a>) <b>devem ser as mesmas que a versão lançada pelo autor</b>. Versões podem incluir letras, se for necessário (ex: a versão do nmap é <code>2.54BETA32</code>). <b>Tags de versão não podem incluir hífens!</b> Letras, números e pontos, somente.</li>
<li>
<b>Pacotes estáveis empacotam lançamentos estáveis</b>: Candidatos a lançamento (p.ex., <code>1.0.0-rc1</code>), alfa (p.ex., <code>1.0.0-alpha1</code>) e beta (p.ex., <code>1.0.0-beta1</code>) não são permitidos e são apenas para ser usado sob as seguintes circunstâncias.</li>
<li>Lançamentos de pacotes  (p.ex., <a href="../pt/PKGBUILD.html#pkgrel" title="PKGBUILD (Português)">PKGBUILD (Português)#pkgrel</a>)  são <b>específicos de pacotes do Arch Linux</b>. Eles permitem a usuários diferenciar entre compilações de pacotes mais novas das mais antigas. Quando uma nova versão de software do pacote é lançada, o <b>contador de lançamento recomeça em 1</b>. Então, na medida em que correções e otimizações forem feitas, o pacote será <b>relançado</b> para o público do Arch Linux e o <b>número de lançamento será incrementado</b>. Quando uma nova versão for lançada, o contador de lançamento será reiniciado para 1. As tags de lançamento do pacote seguem as <b>mesmas restrições de nomenclatura que tags de versão</b>.</li>
</ul>
<h2>
<span id="Depend.C3.AAncias_de_pacotes"></span><span class="mw-headline" id="Dependências_de_pacotes">Dependências de pacotes</span>
</h2>
<ul>
<li>
<b>Não confie em <a href="https://en.wikipedia.org/wiki/Transitive_dependency" class="extiw" title="wikipedia:Transitive dependency">dependências transitivas</a></b> em qualquer uma das <a href="../pt/PKGBUILD.html#Depend%C3%AAncias" title="PKGBUILD (Português)">PKGBUILD (Português)#Dependências</a>, pois elas podem quebrar, se uma das dependências for atualizada.</li>
<li>Liste todas as dependências diretas da biblioteca. Para identificá-las, <span class="plainlinks archwiki-template-man" title="$ man 1 find-libdeps"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/find-libdeps.1">find-libdeps(1)</a></span> (parte de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span>) pode ser usado.</li>
</ul>
<h2>
<span id="Rela.C3.A7.C3.B5es_de_pacotes"></span><span class="mw-headline" id="Relações_de_pacotes">Relações de pacotes</span>
</h2>
<ul>
<li>Não adicione <code>$pkgname</code> a <a href="../pt/PKGBUILD.html#provides" title="PKGBUILD (Português)">PKGBUILD (Português)#provides</a>, pois ele é sempre fornecido implicitamente pelo pacote.</li>
<li>Liste todas as bibliotecas compartilhadas externas de um pacote em <a href="../pt/PKGBUILD.html#provides" title="PKGBUILD (Português)">PKGBUILD (Português)#provides</a> (por exemplo, <code>'libalgumacoisa.so'</code>). Para identificá-los, <span class="plainlinks archwiki-template-man" title="$ man 1 find-libprovides"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/find-libprovides.1">find-libprovides(1)</a></span> (parte de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span>) pode ser usado.</li>
</ul>
<h2><span class="mw-headline" id="Fontes_de_pacotes">Fontes de pacotes</span></h2>
<ul>
<li>Os fontes HTTPS (<code>https://</code> para tarballs, <code>git+https://</code> para fontes git) devem ser usados sempre que possível</li>
<li>Os fontes devem ser verificados usando assinaturas PGP sempre que possível (isso pode envolver a criação de uma tag git em vez de um tarball de origem, se os sinais upstream confirmarem e marcarem, mas não os tarballs)</li>
<li>Ao compilar a partir de uma tag do git, use seu hash de objeto obtido de <code>git rev-parse</code> em vez do nome da tag:</li>
</ul>
<dl>
<dd><pre>_tag=1234567890123456789012345678901234567890 # git rev-parse "v$pkgver"
source=(git+https://$url.git?signed#tag=$_tag)

pkgver() {
    cd "$pkgname"
    git describe
}
</pre></dd>
<dd>Um exemplo para esta abordagem pode ser encontrado no pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gitea">gitea</a></span>. A razão para esta prática é que as tags podem ser forçadas a alterar o commit para o qual estão apontando, o que alteraria o pacote compilado. O uso do hash de objeto da tag garante a integridade das fontes porque forçar o push da tag altera seu hash. O uso de uma função <code>pkgver()</code> evita que você acidentalmente atualizar <code>pkgver</code> sem atualizar <code>_tag</code> também.</dd>
</dl>
<ul>
<li>
<b>Não diminua a segurança ou a validade de um pacote</b> (por exemplo, removendo uma verificação de soma de verificação ou removendo a verificação de assinatura PGP) porque uma versão anterior foi interrompida ou de repente carece de um determinado recurso (por exemplo, falta de assinatura PGP para um novo lançamento)</li>
<li>Os fontes precisam ser exclusivos em <code>srcdir</code> (isso pode exigir que você os renomeie durante o download, por exemplo, <code>"${pkgname}-${pkgver}.tar.gz::https://${pkgname}.tld/download/${pkgver}.tar.gz"</code>)</li>
<li>Evite usar espelhos específicos (por exemplo, no sourceforge) para fazer o download, pois eles podem ficar indisponíveis</li>
</ul>
<h2><span class="mw-headline" id="Trabalhando_com_upstream">Trabalhando com upstream</span></h2>
<p>É uma boa prática trabalhar em estreita colaboração com a upstream, sempre que possível. Isso implica relatar problemas sobre a compilação e o teste de um pacote.
</p>
<ul>
<li>Relate problemas imediatamente ao upstream.</li>
<li>Patches do upstream sempre que possível.</li>
<li>Adicione comentários com links para relatórios de erros relevantes (do upstream) no <a href="../pt/PKGBUILD.html" title="PKGBUILD (Português)">PKGBUILD</a> (isso é particularmente importante, pois garante, que outros empacotadores possam entender as alterações e também trabalhar com um pacote).</li>
</ul>
<p>É recomendado monitorar o upstream com ferramentas como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvchecker">nvchecker</a></span> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=urlwatch">urlwatch</a></span> para ser informado sobre novos lançamentos estáveis.
</p>
<h2>
<span id="Diret.C3.B3rios"></span><span class="mw-headline" id="Diretórios">Diretórios</span>
</h2>
<ul>
<li>
<b>Arquivos de configuração</b> devem ser mantidos dentro do diretório <code>/etc</code>. Se há mais de um arquivo de configuração, é costumeiro <b>usar um subdiretório</b> para manter a área do <code>/etc</code> o mais limpo possível. Use <code>/etc/<i>pkg</i></code>, sendo <code><i>pkg</i></code> o nome do pacote (ou uma alternativa adequada, p.ex., o apache usa <code>/etc/httpd/</code>).</li>
<li>Arquivos de pacotes devem seguir essas <b>diretrizes gerais de diretórios</b>:</li>
</ul>
<dl><dd><table class="wikitable">

<tbody>
<tr>
<td>
<code>/etc</code>
</td>
<td>Arquivos de configuração <b>essenciais para o sistema</b>
</td>
</tr>
<tr>
<td>
<code>/usr/bin</code>
</td>
<td>Binários
</td>
</tr>
<tr>
<td>
<code>/usr/lib</code>
</td>
<td>Bibliotecas
</td>
</tr>
<tr>
<td>
<code>/usr/include</code>
</td>
<td>Arquivos cabeçalhos (<i>headers</i>)
</td>
</tr>
<tr>
<td>
<code>/usr/lib/<i>pkg</i></code>
</td>
<td>Módulos, plug-ins, etc.
</td>
</tr>
<tr>
<td>
<code>/usr/share/doc/<i>pkg</i></code>
</td>
<td>Documentação de aplicativo
</td>
</tr>
<tr>
<td>
<code>/usr/share/info</code>
</td>
<td>Arquivos de sistema do GNU Info
</td>
</tr>
<tr>
<td>
<code>/usr/share/licenses/<i>pkg</i></code>
</td>
<td>Licenças de aplicativo
</td>
</tr>
<tr>
<td>
<code>/usr/share/man</code>
</td>
<td>Páginas de manual (<i>man</i>)
</td>
</tr>
<tr>
<td>
<code>/usr/share/<i>pkg</i></code>
</td>
<td>Dados de aplicativo
</td>
</tr>
<tr>
<td>
<code>/var/lib/<i>pkg</i></code>
</td>
<td>Armazenamento persistente de aplicativo
</td>
</tr>
<tr>
<td>
<code>/etc/<i>pkg</i></code>
</td>
<td>Arquivos de configuração de <i>pkg</i>
</td>
</tr>
<tr>
<td>
<code>/opt/<i>pkg</i></code>
</td>
<td>Pacotes grandes contendo todos os seus arquivos
</td>
</tr>
</tbody>
</table></dd></dl>
<ul><li>Pacotes não devem conter os diretórios abaixo:
<ul>
<li><code>/bin</code></li>
<li><code>/sbin</code></li>
<li><code>/dev</code></li>
<li><code>/home</code></li>
<li><code>/srv</code></li>
<li><code>/media</code></li>
<li><code>/mnt</code></li>
<li><code>/proc</code></li>
<li><code>/root</code></li>
<li><code>/selinux</code></li>
<li><code>/sys</code></li>
<li><code>/tmp</code></li>
<li><code>/var/tmp</code></li>
<li><code>/run</code></li>
</ul>
</li></ul>
<h2><span class="mw-headline" id="Tarefas_do_Makepkg">Tarefas do Makepkg</span></h2>
<p>Quando <a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a> é usado para compilar um pacote, ele automaticamente faz o seguinte:
</p>
<ol>
<li>Verifica se as dependências (<b>depends</b>) e dependências em tempo de compilação (<b>makedepends</b>) do pacote estão instaladas</li>
<li>
<b>Baixa os arquivos fontes</b> dos servidores</li>
<li>
<b>Verifica a integridade </b> de arquivos fonte</li>
<li>
<b>Descompacta</b> os arquivos fonte</li>
<li>Realiza qualquer <b>patching</b> necessário</li>
<li>
<b>Compila</b> o software e instala-o em um <i>fakeroot</i>
</li>
<li>Remove (<b>strips</b>) símbolos de binários</li>
<li>Remove (<b>strips</b>) símbolos de depuração de bibliotecas</li>
<li>
<b>Compacta</b> páginas de manual e/ou info</li>
<li>Gera o <b>meta-arquivo de pacote</b>, o qual é incluído em cada pacote</li>
<li>
<b>Compacta</b> o <i>fakeroot</i> no arquivo de pacote</li>
<li>
<b>Armazena</b> o arquivo de pacote no diretório de destino configurado (isto é, por padrão, diretório de trabalho atual)</li>
</ol>
<h2><span class="mw-headline" id="Arquiteturas">Arquiteturas</span></h2>
<p>O vetor <code>arch</code> deve conter <code>'x86_64'</code> se o pacote compilado é específico para a arquitetura. Do contrário, use <code>'any'</code> para pacotes que independem de arquitetura.
</p>
<h2>
<span id="Licen.C3.A7as"></span><span class="mw-headline" id="Licenças">Licenças</span>
</h2>
<p>Veja <a href="../pt/PKGBUILD.html#license" title="PKGBUILD (Português)">PKGBUILD#license</a>.
</p>
<h2>
<span id="Compila.C3.A7.C3.B5es_reproduz.C3.ADveis"></span><span class="mw-headline" id="Compilações_reproduzíveis">Compilações reproduzíveis</span>
</h2>
<p>O Arch está trabalhando para tornar todos os pacotes <a href="../pt/Reproducible_builds.html" class="mw-redirect" title="Compilações reproduzíveis">reproduzíveis</a>. Um empacotador pode verificar se um pacote é reproduzível com <code>makerepropkg</code> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span> ou <code>repro</code> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-repro">archlinux-repro</a></span>.
</p>
<pre>$ makerepropkg $pkgname-1-1-any.pkg.tar.zst
</pre>
<p>ou
</p>
<pre>$ repro -f $pkgname-1-1-any.pkg.tar.zst
</pre>
<p>Se a marca de data/hora é necessário em tempo de compilação, use a variável de ambiente <code>SOURCE_DATE_EPOCH</code>. O formato está <a rel="nofollow" class="external text" href="https://reproducible-builds.org/docs/source-date-epoch/">documentado no upstream</a>.
</p>
<h2><span class="mw-headline" id="Diretrizes_adicionais">Diretrizes adicionais</span></h2>
<p>Certifique-se de ler primeiro as diretrizes acima - pontos importantes são listados nesta página e que não serão repetidos nas páginas de diretrizes a seguir. As diretrizes específicas abaixo têm a intenção de ser um adicionar aos padrões listados nesta.
</p>
<div class="toc" style="display:block; text-align: center; margin-bottom: 1em;">
<b><a href="../pt/Arch_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes do Arch">Diretrizes de pacotes do Arch</a></b>
<hr>
<p><a href="../pt/32-bit_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes 32-bit">32-bit</a> – <a href="../pt/CLR_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CLR">CLR</a> – <a href="../pt/CMake_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CMake">CMake</a> – <a href="../pt/Cross-compiling_tools_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de ferramentas de compilação cruzada">Cross</a> – <a href="../pt/DKMS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes DKMS">DKMS</a> – <a href="../pt/Eclipse_plugin_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de plugin do Eclipse">Eclipse</a> – <a href="../pt/Electron_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Electron">Electron</a> – <a href="../pt/Font_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de fontes">Fonte</a> – <a href="../pt/Free_Pascal_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Free Pascal">Free Pascal</a> – <a href="../pt/GNOME_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes GNOME">GNOME</a> – <a href="../pt/Go_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Go">Go</a> – <a href="../pt/Haskell_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Haskell">Haskell</a> – <a href="../pt/Java_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Java">Java</a> – <a href="../pt/KDE_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes KDE">KDE</a> – <a href="../pt/Kernel_module_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de módulos de kernel">Kernel</a> – <a href="../pt/Lisp_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Lisp">Lisp</a> – <a href="../pt/Meson_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Meson">Meson</a> – <a href="../pt/MinGW_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes MinGW">MinGW</a> – <a href="../pt/Node.js_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Node.js">Node.js</a> – <a href="../pt/Nonfree_applications_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">Nonfree</a> – <a href="../pt/OCaml_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes OCaml">OCaml</a> – <a href="../pt/Perl_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Perl">Perl</a> – <a href="../pt/PHP_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes PHP">PHP</a> – <a href="../pt/Python_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Python">Python</a> – <a href="../pt/R_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes R">R</a> – <a href="../pt/Ruby_Gem_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Ruby Gem">Ruby</a> – <a href="../pt/Rust_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Rust">Rust</a> – <a href="../pt/Shell_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de shell">Shell</a> – <a href="../pt/VCS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes VCS">VCS</a> – <a href="../pt/Web_application_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos da Web">Web</a> – <a href="../pt/Wine_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Wine">Wine</a>
</p>
</div>
<p>Pacotes enviados ao AUR também devem estar em conformidade com as <a href="../pt/AUR_submission_guidelines.html" class="mw-redirect" title="Diretrizes de envio ao AUR">diretrizes de envio ao AUR</a>.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Arch_package_guidelines.html" title="Category:Arch package guidelines (Português)">Arch package guidelines (Português)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Arch_package_guidelines_(Portugu%C3%AAs)&amp;oldid=791196">https://wiki.archlinux.org/index.php?title=Arch_package_guidelines_(Português)&amp;oldid=791196</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 26 October 2023, at 17:16.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
