<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Multiboot USB drive (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.4">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Multiboot_USB_drive_Português rootpage-Multiboot_USB_drive_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Usando_GRUB_e_dispositivos_de_loopback" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usando_GRUB_e_dispositivos_de_loopback">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Usando GRUB e dispositivos de loopback</div>
		</a>
		
			<button aria-controls="toc-Usando_GRUB_e_dispositivos_de_loopback-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usando GRUB e dispositivos de loopback subsection</span>
			</button>
		
		<ul id="toc-Usando_GRUB_e_dispositivos_de_loopback-sublist" class="vector-toc-list">
			<li id="toc-Vantagens:" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Vantagens:">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Vantagens:</div>
			</a>
			
			<ul id="toc-Vantagens:-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Desvantagens:" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Desvantagens:">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Desvantagens:</div>
			</a>
			
			<ul id="toc-Desvantagens:-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Preparação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prepara%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Preparação</div>
			</a>
			
			<ul id="toc-Preparação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalando_o_GRUB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalando_o_GRUB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Instalando o GRUB</div>
			</a>
			
			<ul id="toc-Instalando_o_GRUB-sublist" class="vector-toc-list">
				<li id="toc-Instalação_única" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o_%C3%BAnica">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4.1</span>Instalação única</div>
			</a>
			
			<ul id="toc-Instalação_única-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-inicialização_híbrida_com_UEFI_GPT_+_BIOS_GPT/MBR" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#inicializa%C3%A7%C3%A3o_h%C3%ADbrida_com_UEFI_GPT_+_BIOS_GPT/MBR">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4.2</span>inicialização híbrida com UEFI GPT + BIOS GPT/MBR</div>
			</a>
			
			<ul id="toc-inicialização_híbrida_com_UEFI_GPT_+_BIOS_GPT/MBR-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Configurando_GRUB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configurando_GRUB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Configurando GRUB</div>
			</a>
			
			<ul id="toc-Configurando_GRUB-sublist" class="vector-toc-list">
				<li id="toc-Usando_um_modelo" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Usando_um_modelo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5.1</span>Usando um modelo</div>
			</a>
			
			<ul id="toc-Usando_um_modelo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuração_manual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o_manual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5.2</span>Configuração manual</div>
			</a>
			
			<ul id="toc-Configuração_manual-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Entradas_de_inicialização" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Entradas_de_inicializa%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6</span>Entradas de inicialização</div>
			</a>
			
			<ul id="toc-Entradas_de_inicialização-sublist" class="vector-toc-list">
				<li id="toc-Lançamento_mensal_do_Arch_Linux" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Lan%C3%A7amento_mensal_do_Arch_Linux">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6.1</span>Lançamento mensal do Arch Linux</div>
			</a>
			
			<ul id="toc-Lançamento_mensal_do_Arch_Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Memtest86+" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Memtest86+">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6.2</span>Memtest86+</div>
			</a>
			
			<ul id="toc-Memtest86+-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Archboot" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Archboot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6.3</span>Archboot</div>
			</a>
			
			<ul id="toc-Archboot-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Usando_Syslinux_e_memdisk" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usando_Syslinux_e_memdisk">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Usando Syslinux e memdisk</div>
		</a>
		
			<button aria-controls="toc-Usando_Syslinux_e_memdisk-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usando Syslinux e memdisk subsection</span>
			</button>
		
		<ul id="toc-Usando_Syslinux_e_memdisk-sublist" class="vector-toc-list">
			<li id="toc-Preparação_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prepara%C3%A7%C3%A3o_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Preparação</div>
			</a>
			
			<ul id="toc-Preparação_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalação_do_módulo_memdisk" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instala%C3%A7%C3%A3o_do_m%C3%B3dulo_memdisk">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Instalação do módulo memdisk</div>
			</a>
			
			<ul id="toc-Instalação_do_módulo_memdisk-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuração" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configura%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Configuração</div>
			</a>
			
			<ul id="toc-Configuração-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Caveat_para_sistemas_32-bit" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Caveat_para_sistemas_32-bit">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Caveat para sistemas 32-bit</div>
			</a>
			
			<ul id="toc-Caveat_para_sistemas_32-bit-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Ferramentas_automatizadas" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Ferramentas_automatizadas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Ferramentas automatizadas</div>
		</a>
		
		<ul id="toc-Ferramentas_automatizadas-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Veja também</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Multiboot USB drive (Português)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Multiboot_USB_Stick" title="Multiboot USB Stick – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Multiboot_USB_drive.html" title="Multiboot USB drive – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%9E%E3%83%AB%E3%83%81%E3%83%96%E3%83%BC%E3%83%88_USB_%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96" title="マルチブート USB ドライブ – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Multiboot_USB_drive" title="Multiboot USB drive – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">Multiboot USB drive</a>. Data da última tradução: 2021-03-25. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Multiboot_USB_drive&amp;diff=0&amp;oldid=656080">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/GRUB.html" title="GRUB (Português)">GRUB (Português)</a></li>
<li><a href="../en/Syslinux.html" title="Syslinux">Syslinux</a></li>
<li><a href="../pt/Archiso.html" title="Archiso (Português)">Archiso (Português)</a></li>
</ul>
</div>
<p>Uma unidade flash de múltipla inicialização USB permite inicializar múltiplos arquivos ISO a partir de um único dispositivo. Os arquivos ISO podem ser copiados para o dispositivo e inicializados diretamente sem a necessidade de extraí-los. Existem vários métodos disponíveis, mas eles podem não funcionar para todos arquivos ISO.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Usando_GRUB_e_dispositivos_de_loopback">Usando GRUB e dispositivos de loopback</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> multiple <a href="../en/Help:Style.html" title="Help:Style">style</a> issues (Discuss in <a rel="nofollow" class="external text" href="../pt/Talk:Multiboot_USB_drive.html">Talk:Multiboot USB drive (Português)</a>)</div>
</div>
<h4><span class="mw-headline" id="Vantagens:">Vantagens:</span></h4>
<ul>
<li>a necessidade de uma única partição;</li>
<li>todos arquivos ISO podem ser localizados no mesmo diretório;</li>
<li>adicionar arquivos ISO é muito simples.</li>
</ul>
<h4><span class="mw-headline" id="Desvantagens:">Desvantagens:</span></h4>
<ul>
<li>nem todas as imagens ISO são compatíveis;</li>
<li>o menu de inicialização original para o arquivo ISO não será exibido;</li>
<li>pode ser difícil encontrar uma entrada de inicialização funcional.</li>
</ul>
<h3>
<span id="Prepara.C3.A7.C3.A3o"></span><span class="mw-headline" id="Preparação">Preparação</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Quanto espaço adicional é necessário para o bootloader? (Discuss in <a rel="nofollow" class="external text" href="../pt/Talk:Multiboot_USB_drive.html">Talk:Multiboot USB drive (Português)</a>)</div>
</div>
<p>Crie pelo menos uma partição e um sistema de arquivos suportado pelo <a href="../pt/GRUB.html" title="GRUB (Português)">GRUB</a> na unidade USB. Veja <a href="../pt/Partitioning.html" title="Partitioning (Português)">Partitioning</a> e <a href="../pt/File_systems.html" title="File systems (Português)">File systems#Create a file system</a>. Escolha o tamanho baseado no tamanho total dos arquivos ISO que desejar armazenar na unidade, mais um espaço adicional para o bootloader.
</p>
<h3><span class="mw-headline" id="Instalando_o_GRUB">Instalando o GRUB</span></h3>
<h4>
<span id="Instala.C3.A7.C3.A3o_.C3.BAnica"></span><span class="mw-headline" id="Instalação_única">Instalação única</span>
</h4>
<p>Monte o sistema de arquivos localizado na unidade USB:
</p>
<pre># mount /dev/sdXY /mnt
</pre>
<p>Crie o diretório /boot:
</p>
<pre># mkdir /mnt/boot
</pre>
<p>Instale GRUB na unidade USB:
</p>
<pre># grub-install --target=i386-pc --recheck --boot-directory=/mnt/boot /dev/sdX
</pre>
<p>No caso de você desejar inicializar ISOs em modo UEFI, terá de instalar grub para o alvo UEFI:
</p>
<pre># grub-install --target=x86_64-efi --removable --boot-directory=/mnt/boot --efi-directory=/mnt
</pre>
<p>Para UEFI, a partição deverá ser a primeira da tabela de partições MBR e deverá ser formatada com FAT32.
</p>
<h4>
<span id="inicializa.C3.A7.C3.A3o_h.C3.ADbrida_com_UEFI_GPT_.2B_BIOS_GPT.2FMBR"></span><span class="mw-headline" id="inicialização_híbrida_com_UEFI_GPT_+_BIOS_GPT/MBR">inicialização híbrida com UEFI GPT + BIOS GPT/MBR</span>
</h4>
<p>Esta configuração é útil para criar uma unidade USB universal, teoricamente inicializável em qualquer computador.
Em primeiro lugar, você deverá criar uma tabela de partições <a href="../pt/Partitioning.html#Tabela_de_Parti%C3%A7%C3%A3o_GUID" class="mw-redirect" title="GPT (Português)">GPT</a> em seu dispositivo. Serão necessárias, pelo menos, 3 partições:
</p>
<ol>
<li>Uma partição do tipo <i>BIOS boot</i> (código do gdisk <code>EF02</code>). Esta partição deverá ter 1 MiB de tamanho</li>
<li>Uma partição do tipo <i>EFI System partition</i> (código do gdisk <code>EF00</code> com uma <a href="../pt/EFI_system_partition.html" title="EFI system partition (Português)">EFI system partition#Formatar a partição|FAT32 filesystem</a>). Esta partição poderá ser pequena, como 50 MiB.</li>
<li>Sua partição de dados (use um sistema de arquivos suportado pelo <a href="../pt/GRUB.html" title="GRUB (Português)">GRUB</a>). Esta partição poderá ocupar o espaço restante da unidade USB.</li>
</ol>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> <i>Must create</i> because something <i>might not be enough</i>? (Discuss in <a rel="nofollow" class="external text" href="../pt/Talk:Multiboot_USB_drive.html">Talk:Multiboot USB drive (Português)</a>)</div>
</div>
<p>A seguir você deverá criar uma tabela de partições MBR híbrida, pois definir uma boot flag no setor protetivo da MBR poderá não ser suficiente em alguns casos.
</p>
<p>Exemplo de criação de uma tabela de partições MBR híbrida usando <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a>:
</p>
<pre># gdisk /dev/sdX

Command (? for help): r
Recovery/transformation command (? for help): h

WARNING! Hybrid MBRs are flaky and dangerous! If you decide not to use one,
just hit the Enter key at the below prompt and your MBR partition table will
be untouched.

Type from one to three GPT partition numbers, separated by spaces, to be added to the hybrid MBR, in sequence: 1 2 3
Place EFI GPT (0xEE) partition first in MBR (good for GRUB)? (Y/N): N

Creating entry for GPT partition #1 (MBR partition #1)
Enter an MBR hex code (default EF):
Set the bootable flag? (Y/N): N

Creating entry for GPT partition #2 (MBR partition #2)
Enter an MBR hex code (default EF):
Set the bootable flag? (Y/N): N

Creating entry for GPT partition #3 (MBR partition #3)
Enter an MBR hex code (default 83):
Set the bootable flag? (Y/N): Y

Recovery/transformation command (? for help): x
Expert command (? for help): h
Expert command (? for help): w

Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
PARTITIONS!!

Do you want to proceed? (Y/N): Y
</pre>
<p>Não se esqueça de formatar as partições:
</p>
<pre># mkfs.fat -F32 /dev/sdX2
# mkfs.ext4 /dev/sdX3
</pre>
<p>Agora será possível instalar GRUB para suportar ambos EFI + GPT e BIOS + GPT/MBR. A configuração do grub (--boot-directory) poderá ser mantida no mesmo lugar.
</p>
<p>Primeiro, você deverá montar a partição do tipo 'EFI system' e a partição de dados da unidade USB.
</p>
<p>Um exemplo disso poderia ser como a seguir:
</p>
<pre># mount /dev/sdX3 /mnt
# mkdir -p /mnt/boot/EFI
# mount /dev/sdX2 /mnt/boot/EFI
</pre>
<p>Então, você poderá instalar GRUB para UEFI com:
</p>
<p>Nota: na maioria dos casos <code>EFI_MOUNTPOINT</code> corresponde ao subdiretório <code>/mnt/boot/EFI</code> na unidade USB montada.
</p>
<pre># grub-install --target=x86_64-efi --recheck --removable --efi-directory=/<i>EFI_MOUNTPOINT</i> --boot-directory=/<i>DATA_MOUNTPOINT</i>/boot
</pre>
<p>E para BIOS com:
</p>
<pre># grub-install --target=i386-pc --recheck --boot-directory=/<i>DATA_MOUNTPOINT</i>/boot /dev/sd<i>X</i>
</pre>
<p>Como opção de reserva, você poderá também instalar o GRUB na sua partição MBR inicializável:
</p>
<pre># grub-install --target=i386-pc --recheck --boot-directory=/<i>DATA_MOUNTPOINT</i>/boot /dev/<i>sdX3</i>
</pre>
<h3><span class="mw-headline" id="Configurando_GRUB">Configurando GRUB</span></h3>
<h4><span class="mw-headline" id="Usando_um_modelo">Usando um modelo</span></h4>
<p>Existem alguns projetos no git que fornecem alguns arquivos de configuração do GRUB preexistentes, e um <code>grub.cfg</code> genérico que poderá ser usado para carregar outras entradas de inicialização sob demanda, exibindo-as somente caso os arquivos ISO especificados - ou pastas que contenham-nos - estiverem presentes na unidade.
</p>
<p>Multiboot USB: <a rel="nofollow" class="external free" href="https://github.com/hackerncoder/multibootusb">https://github.com/hackerncoder/multibootusb</a>
</p>
<p>GLIM (GRUB2 Live ISO Multiboot): <a rel="nofollow" class="external free" href="https://github.com/thias/glim">https://github.com/thias/glim</a>
</p>
<h4>
<span id="Configura.C3.A7.C3.A3o_manual"></span><span class="mw-headline" id="Configuração_manual">Configuração manual</span>
</h4>
<p>Para a proposta de uma unidade USB inicializável, é mais fácil editar o arquivo <code>grub.cfg</code> manualmente do que gerá-lo. Alternativamente, faça as seguintes alterações em <code>/etc/grub.d/40_custom</code> ou <code>/mnt/boot/grub/custom.cfg</code> e gere o <code>/mnt/boot/grub/grub.cfg</code> usando <a href="../pt/GRUB.html#Gerar_o_arquivo_de_configura%C3%A7%C3%A3o_principal" title="GRUB (Português)">grub-mkconfig</a>.
</p>
<p>Como é recomendado usar um <a href="../pt/Persistent_block_device_naming.html" title="Persistent block device naming (Português)">nome persistente</a> ao invés de <code>/dev/sd<i>xY</i></code> para identificar a partição na unidade USB onde estarão as imagens, defina uma variável conveniente para manter o valor. Se as imagens ISO estiverem na mesma partição do GRUB, use o seguinte para ler o UUID na inicialização:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/mnt/boot/grub/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># caminho para a partição onde estão as imagens ISO (usando UUID)
probe -u $root --set=rootuuid
set imgdevpath="/dev/disk/by-uuid/$rootuuid"</pre>
<p>Ou especifique explicitamente a UUID:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/mnt/boot/grub/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># caminho para a partição onde estão as imagens ISO (usando UUID)
set imgdevpath="/dev/disk/by-uuid/<i>UUID_value</i>"</pre>
<p>Alternativamente, use a LABEL do dispositivo ao invés da UUID:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/mnt/boot/grub/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># caminho para a partição onde estão as imagens ISO (usando LABEL)
set imgdevpath="/dev/disk/by-label/<i>label_value</i>"</pre>
<p>A UUID ou LABEL necessária poderá ser encontrada usando <code>lsblk -f</code>. Não use a mesma LABEL do Arch ISO para a unidade USB, caso contrário o processo de inicialização falhará.
</p>
<p>Para finalizar a configuração, uma entrada de inicialização para cada imagem ISO deverá ser adicionada abaixo deste cabeçalho, veja exemplos na próxima seção.
</p>
<h3>
<span id="Entradas_de_inicializa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Entradas_de_inicialização">Entradas de inicialização</span>
</h3>
<p>Assume-se que as imagens ISO estão armazenadas no diretório <code>boot/iso/</code> e no mesmo sistema de arquivos onde o GRUB está instalado. Do contrário, será necessário prefixar o caminho para o arquivo ISO com a identificação do dispositivo ao usar o comando <code>loopback</code>, por exemplo <code>loopback loop <b>(hd1,2)</b>$isofile</code>. Como esta identificação de dispositivos não é <a href="../pt/Persistent_block_device_naming.html" title="Persistent block device naming (Português)">persistente</a>, não será usada em exemplos nesta seção.
</p>
<p>Pode-se usar a nomenclatura de dispositivo de bloco persistente dessa forma. Substitua a UUID de acordo com a UUID do seu sistema de arquivos ISO.
</p>
<pre># define globalmente (isto é, fora de qualquer menu de entrada)
insmod search_fs_uuid
search --no-floppy --set=<b>isopart</b> --fs-uuid <i>123-456</i>
# depois, usa dentro de cada menu de entrada
loopback loop <b>($isopart)</b>$isofile</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong>  For a list of kernel parameters, see <a rel="nofollow" class="external text" href="https://docs.kernel.org/admin-guide/kernel-parameters.html">the kernel's command-line parameter documentation</a>. For more examples of boot entries, see the <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/grub.html#Multi_002dboot-manual-config">GRUB upstream documentation</a> or the documentation for the distribution you wish to boot.</div>
<h4>
<span id="Lan.C3.A7amento_mensal_do_Arch_Linux"></span><span class="mw-headline" id="Lançamento_mensal_do_Arch_Linux">Lançamento mensal do Arch Linux</span>
</h4>
<p>Veja também <a href="../pt/Archiso.html" title="Archiso (Português)">archiso (Português)</a>.
</p>
<pre>menuentry '[loopback]archlinux-2020.10.01-x86_64.iso' {
	set isofile='/boot/iso/archlinux-2020.10.01-x86_64.iso'
	loopback loop $isofile
	linux (loop)/arch/boot/x86_64/vmlinuz-linux img_dev=$imgdevpath img_loop=$isofile earlymodules=loop
	initrd (loop)/arch/boot/intel-ucode.img (loop)/arch/boot/amd-ucode.img (loop)/arch/boot/x86_64/initramfs-linux.img
}</pre>
<p>Veja <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/mkinitcpio/mkinitcpio-archiso/blob/master/docs/README.bootparams">README.bootparams</a> para opções de archiso suportados pela linha de comando do kernel.
</p>
<h4>
<span id="Memtest86.2B"></span><span class="mw-headline" id="Memtest86+">Memtest86+</span>
</h4>
<p><a href="../en/Stress_testing.html#MemTest86+" title="Stress testing">Memtest86+</a> está incluido na ISO mensal.
</p>
<pre>menuentry '[loopback]archlinux-2020.10.01-x86_64.iso' {
	set isofile='/boot/iso/archlinux-2020.10.01-x86_64.iso'
	loopback loop $isofile
	linux16 (loop)/arch/boot/memtest
}</pre>
<h4><span class="mw-headline" id="Archboot">Archboot</span></h4>
<p>Veja também <a rel="nofollow" class="external text" href="https://archboot.com">Archboot</a>.
</p>
<pre>menuentry '[loopback]archlinux-2014.11-1-archboot' {
	set isofile='/boot/iso/archlinux-2014.11-1-archboot.iso'
	loopback loop $isofile
	linux (loop)/boot/vmlinuz_<b>x86_64</b> iso_loop_dev=$imgdevpath iso_loop_path=$isofile
	initrd (loop)/boot/initramfs_<b>x86_64</b>.img
}</pre>
<h2><span class="mw-headline" id="Usando_Syslinux_e_memdisk">Usando Syslinux e memdisk</span></h2>
<p>Usando o módulo <a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK">memdisk</a>, a imagem ISO é carregada na memória, e seu bootloader é carregado. Certifique-se de que o sistema que irá inicializar esta unidade USB tem uma quantidade de memória suficiente para o arquivo de imagem e para executá-la como um sistema operacional.
</p>
<h3>
<span id="Prepara.C3.A7.C3.A3o_2"></span><span class="mw-headline" id="Preparação_2">Preparação</span>
</h3>
<p>Certifique-se de que a unidade USB está adequadamente <a href="../pt/Partitioning.html" title="Partitioning (Português)">Partitioning#particionada</a> e que é uma partição com um sistema de arquivos suportado pelo Syslinux, como por exemplo FAT32 ou ext4. Então, instale o Syslinux nesta partição, veja <a href="../en/Syslinux.html#BIOS_systems" title="Syslinux">Syslinux#BIOS systems</a>.
</p>
<h3>
<span id="Instala.C3.A7.C3.A3o_do_m.C3.B3dulo_memdisk"></span><span class="mw-headline" id="Instalação_do_módulo_memdisk">Instalação do módulo memdisk</span>
</h3>
<p>O módulo memdisk não foi instalado no ato da instalação do Syslinux, portanto deverá ser instalado manualmente. Monte a partição onde o Syslinux está instalado para <code>/mnt/</code> e copie o módulo do memdisk para o mesmo diretório onde o Syslinux estiver instalado:
</p>
<pre># cp /usr/lib/syslinux/bios/memdisk /mnt/boot/syslinux/
</pre>
<h3>
<span id="Configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Configuração">Configuração</span>
</h3>
<p>Após copiar os arquivos ISO para a unidade USB, edite o <a href="../en/Syslinux.html#Configuration" title="Syslinux">Arquivo de configuração do Syslinux</a> e crie as entradas de menu para as imagens ISO. Uma entrada básica corresponde a algo como:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LABEL <i>some_label</i>
    LINUX memdisk
    INITRD <i>/path/to/image.iso</i>
    APPEND iso
</pre>
<p>Veja <a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK">memdisk on Syslinux wiki</a> para mais opções de configuração.
</p>
<h3><span class="mw-headline" id="Caveat_para_sistemas_32-bit">Caveat para sistemas 32-bit</span></h3>
<p>Ao inicializar um sistema 32-bit a partir de uma imagem maior do que 128MiB, é necessário aumentar o uso máximo de memória de vmalloc. Isto é feito adicionando <code>vmalloc=<i>valor</i>M</code> aos parâmetros do kernel, onde <code><i>valor</i></code> é maior do que o tamanho da imagem ISO, em MiB. <a rel="nofollow" class="external autonumber" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK#-_memdiskfind_in_combination_with_phram_and_mtdblock">[1]</a>
</p>
<p>Por exemplo, ao inicializar um sistema 32-bit a partir da <a rel="nofollow" class="external text" href="https://archlinux.org/download/">Arch installation ISO</a>, pressione a tecla <code>Tab</code> sobre a entrada <code>Boot Arch Linux (i686)</code> no menu e adicione <code>vmalloc=768M</code> ao final. Pular este passo resultará no seguinte erro durante a inicialização:
</p>
<pre>modprobe: ERROR: could not insert 'phram': Input/output error
</pre>
<h2><span class="mw-headline" id="Ferramentas_automatizadas">Ferramentas automatizadas</span></h2>
<ul><li>
<b>GRUB2 Live ISO Multiboot (GLIM)</b> — Um conjunto de arquivos de configuração do GRUB para transformar uma unidade USB formatada em VFAT com imagens ISO de distribuições GNU/Linux em uma unidade USB de inicialização múltipla.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/thias/glim">https://github.com/thias/glim</a> || <small>not packaged? <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/">search in AUR</a></small>
</dd></dl>
<ul><li>
<b>liveusb-builder</b> — Um conjunto de scripts para criar uma unidade USB de inicialização múltipla para distribuições GNU/Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mytbk/liveusb-builder">https://github.com/mytbk/liveusb-builder</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/liveusb-builder-git/">liveusb-builder-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>MultiBootUSB</b> — Um software Python cross-platform com interfaces CLI e GUI interfaces que permitem instalar e remover múltiplas imagens live do Linux em uma unidade USB.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mbusb/multibootusb">https://github.com/mbusb/multibootusb</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/multibootusb/">multibootusb</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Ventoy</b> — Uma ferramenta de código aberto para criar uma unidade USB inicializávelpara arquivos ISO/WIM/IMG/VHD(x)/EFI. Não é necessário formatar o disco várias vezes, apenas copiar os arquivos para a unidade USB e inicialize-a diretamente.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.ventoy.net">https://www.ventoy.net</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ventoy-bin/">ventoy-bin</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li>GRUB:
<ul>
<li><a rel="nofollow" class="external free" href="https://help.ubuntu.com/community/Grub2/ISOBoot/Examples">https://help.ubuntu.com/community/Grub2/ISOBoot/Examples</a></li>
<li><a rel="nofollow" class="external free" href="https://help.ubuntu.com/community/Grub2/ISOBoot">https://help.ubuntu.com/community/Grub2/ISOBoot</a></li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/thias/glim">GRUB Live ISO Multiboot</a> - GRUB configurations for booting ISO images</li>
</ul>
</li>
<li>Syslinux:
<ul><li><a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php?title=Boot_an_Iso_image">Boot an ISO image</a></li></ul>
</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Boot_process.html" title="Category:Boot process (Português)">Boot process (Português)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_with_missing_package_links.html" title="Category:Pages with missing package links">Pages with missing package links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Multiboot_USB_drive_(Portugu%C3%AAs)&amp;oldid=794405">https://wiki.archlinux.org/index.php?title=Multiboot_USB_drive_(Português)&amp;oldid=794405</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 December 2023, at 23:12.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
