<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>VirtualBox (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-VirtualBox_Português rootpage-VirtualBox_Português skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Passos_de_instalação_para_hospedeiros_Arch_Linux" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Passos_de_instala%C3%A7%C3%A3o_para_hospedeiros_Arch_Linux">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Passos de instalação para hospedeiros Arch Linux</div>
		</a>
		
			<button aria-controls="toc-Passos_de_instalação_para_hospedeiros_Arch_Linux-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Passos de instalação para hospedeiros Arch Linux subsection</span>
			</button>
		
		<ul id="toc-Passos_de_instalação_para_hospedeiros_Arch_Linux-sublist" class="vector-toc-list">
			<li id="toc-Instale_os_pacotes_principais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instale_os_pacotes_principais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Instale os pacotes principais</div>
			</a>
			
			<ul id="toc-Instale_os_pacotes_principais-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Assine_os_módulos" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Assine_os_m%C3%B3dulos">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Assine os módulos</div>
			</a>
			
			<ul id="toc-Assine_os_módulos-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Carregue_os_módulos_do_kernel_VirtualBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Carregue_os_m%C3%B3dulos_do_kernel_VirtualBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Carregue os módulos do kernel VirtualBox</div>
			</a>
			
			<ul id="toc-Carregue_os_módulos_do_kernel_VirtualBox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Acessando_dispositivos_USB_do_host_no_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Acessando_dispositivos_USB_do_host_no_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Acessando dispositivos USB do host no convidado</div>
			</a>
			
			<ul id="toc-Acessando_dispositivos_USB_do_host_no_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disco_de_adições_de_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disco_de_adi%C3%A7%C3%B5es_de_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Disco de adições de convidado</div>
			</a>
			
			<ul id="toc-Disco_de_adições_de_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modelos_não_supervisionados" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modelos_n%C3%A3o_supervisionados">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6</span>Modelos não supervisionados</div>
			</a>
			
			<ul id="toc-Modelos_não_supervisionados-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pacote_de_extensão" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pacote_de_extens%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.7</span>Pacote de extensão</div>
			</a>
			
			<ul id="toc-Pacote_de_extensão-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Front-ends" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Front-ends">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.8</span>Front-ends</div>
			</a>
			
			<ul id="toc-Front-ends-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Passos_de_instalação_para_convidados_Arch_Linux" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Passos_de_instala%C3%A7%C3%A3o_para_convidados_Arch_Linux">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Passos de instalação para convidados Arch Linux</div>
		</a>
		
		<ul id="toc-Passos_de_instalação_para_convidados_Arch_Linux-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Gerenciamento_de_discos_virtuais" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Gerenciamento_de_discos_virtuais">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Gerenciamento de discos virtuais</div>
		</a>
		
			<button aria-controls="toc-Gerenciamento_de_discos_virtuais-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Gerenciamento de discos virtuais subsection</span>
			</button>
		
		<ul id="toc-Gerenciamento_de_discos_virtuais-sublist" class="vector-toc-list">
			<li id="toc-Formatos_suportados_pelo_VirtualBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Formatos_suportados_pelo_VirtualBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Formatos suportados pelo VirtualBox</div>
			</a>
			
			<ul id="toc-Formatos_suportados_pelo_VirtualBox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Conversão_de_formato_de_imagem_de_disco" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Convers%C3%A3o_de_formato_de_imagem_de_disco">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Conversão de formato de imagem de disco</div>
			</a>
			
			<ul id="toc-Conversão_de_formato_de_imagem_de_disco-sublist" class="vector-toc-list">
				<li id="toc-QCOW" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#QCOW">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2.1</span>QCOW</div>
			</a>
			
			<ul id="toc-QCOW-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Montar_discos_virtuais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Montar_discos_virtuais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Montar discos virtuais</div>
			</a>
			
			<ul id="toc-Montar_discos_virtuais-sublist" class="vector-toc-list">
				<li id="toc-VDI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#VDI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>VDI</div>
			</a>
			
			<ul id="toc-VDI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-VHD" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#VHD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>VHD</div>
			</a>
			
			<ul id="toc-VHD-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Compactar_discos_virtuais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Compactar_discos_virtuais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Compactar discos virtuais</div>
			</a>
			
			<ul id="toc-Compactar_discos_virtuais-sublist" class="vector-toc-list">
				<li id="toc-TRIM" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TRIM">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4.1</span>TRIM</div>
			</a>
			
			<ul id="toc-TRIM-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Aumentar_discos_virtuais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Aumentar_discos_virtuais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Aumentar discos virtuais</div>
			</a>
			
			<ul id="toc-Aumentar_discos_virtuais-sublist" class="vector-toc-list">
				<li id="toc-Procedimento_geral" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Procedimento_geral">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>Procedimento geral</div>
			</a>
			
			<ul id="toc-Procedimento_geral-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Aumentando_o_tamanho_de_discos_VDI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Aumentando_o_tamanho_de_discos_VDI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.2</span>Aumentando o tamanho de discos VDI</div>
			</a>
			
			<ul id="toc-Aumentando_o_tamanho_de_discos_VDI-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Substituir_um_disco_virtual_manualmente_no_arquivo_.vbox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Substituir_um_disco_virtual_manualmente_no_arquivo_.vbox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Substituir um disco virtual manualmente no arquivo .vbox</div>
			</a>
			
			<ul id="toc-Substituir_um_disco_virtual_manualmente_no_arquivo_.vbox-sublist" class="vector-toc-list">
				<li id="toc-Transferência_entre_hospedeiro_Linux_e_outro_sistema_operacional" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Transfer%C3%AAncia_entre_hospedeiro_Linux_e_outro_sistema_operacional">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Transferência entre hospedeiro Linux e outro sistema operacional</div>
			</a>
			
			<ul id="toc-Transferência_entre_hospedeiro_Linux_e_outro_sistema_operacional-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Clonar_um_disco_virtual_e_atribuir_um_novo_UUID_a_ele" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Clonar_um_disco_virtual_e_atribuir_um_novo_UUID_a_ele">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Clonar um disco virtual e atribuir um novo UUID a ele</div>
			</a>
			
			<ul id="toc-Clonar_um_disco_virtual_e_atribuir_um_novo_UUID_a_ele-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dicas_e_truques" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Dicas_e_truques">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Dicas e truques</div>
		</a>
		
			<button aria-controls="toc-Dicas_e_truques-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dicas e truques subsection</span>
			</button>
		
		<ul id="toc-Dicas_e_truques-sublist" class="vector-toc-list">
			<li id="toc-Importar/exportar_máquinas_virtuais_VirtualBox_de/para_outros_hipervisores" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Importar/exportar_m%C3%A1quinas_virtuais_VirtualBox_de/para_outros_hipervisores">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Importar/exportar máquinas virtuais VirtualBox de/para outros hipervisores</div>
			</a>
			
			<ul id="toc-Importar/exportar_máquinas_virtuais_VirtualBox_de/para_outros_hipervisores-sublist" class="vector-toc-list">
				<li id="toc-Remover_adições" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Remover_adi%C3%A7%C3%B5es">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Remover adições</div>
			</a>
			
			<ul id="toc-Remover_adições-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Use_o_formato_de_disco_virtual_correto" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Use_o_formato_de_disco_virtual_correto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2</span>Use o formato de disco virtual correto</div>
			</a>
			
			<ul id="toc-Use_o_formato_de_disco_virtual_correto-sublist" class="vector-toc-list">
				<li id="toc-Ferramentas_automáticas" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Ferramentas_autom%C3%A1ticas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2.1</span>Ferramentas automáticas</div>
			</a>
			
			<ul id="toc-Ferramentas_automáticas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Conversão_manual" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Convers%C3%A3o_manual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2.2</span>Conversão manual</div>
			</a>
			
			<ul id="toc-Conversão_manual-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Crie_o_arquivo_de_configuração_da_máquina_virtual_para_o_seu_hipervisor" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Crie_o_arquivo_de_configura%C3%A7%C3%A3o_da_m%C3%A1quina_virtual_para_o_seu_hipervisor">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.3</span>Crie o arquivo de configuração da máquina virtual para o seu hipervisor</div>
			</a>
			
			<ul id="toc-Crie_o_arquivo_de_configuração_da_máquina_virtual_para_o_seu_hipervisor-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Gerenciamento_de_inicialização_de_máquinas_virtuais" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gerenciamento_de_inicializa%C3%A7%C3%A3o_de_m%C3%A1quinas_virtuais">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Gerenciamento de inicialização de máquinas virtuais</div>
			</a>
			
			<ul id="toc-Gerenciamento_de_inicialização_de_máquinas_virtuais-sublist" class="vector-toc-list">
				<li id="toc-Iniciar_máquinas_virtuais_com_um_serviço_(autostart)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Iniciar_m%C3%A1quinas_virtuais_com_um_servi%C3%A7o_(autostart)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.1</span>Iniciar máquinas virtuais com um serviço (autostart)</div>
			</a>
			
			<ul id="toc-Iniciar_máquinas_virtuais_com_um_serviço_(autostart)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Iniciar_máquinas_virtuais_com_um_atalho_de_teclado" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Iniciar_m%C3%A1quinas_virtuais_com_um_atalho_de_teclado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2.2</span>Iniciar máquinas virtuais com um atalho de teclado</div>
			</a>
			
			<ul id="toc-Iniciar_máquinas_virtuais_com_um_atalho_de_teclado-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Usar_dispositivo_específico_na_máquina_virtual" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Usar_dispositivo_espec%C3%ADfico_na_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Usar dispositivo específico na máquina virtual</div>
			</a>
			
			<ul id="toc-Usar_dispositivo_específico_na_máquina_virtual-sublist" class="vector-toc-list">
				<li id="toc-Usando_webcam_/_microfone_USB" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Usando_webcam_/_microfone_USB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3.1</span>Usando webcam / microfone USB</div>
			</a>
			
			<ul id="toc-Usando_webcam_/_microfone_USB-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Detectando_webcams_e_outros_dispositivos_USB" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Detectando_webcams_e_outros_dispositivos_USB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3.2</span>Detectando webcams e outros dispositivos USB</div>
			</a>
			
			<ul id="toc-Detectando_webcams_e_outros_dispositivos_USB-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Acessar_um_servidor_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Acessar_um_servidor_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Acessar um servidor convidado</div>
			</a>
			
			<ul id="toc-Acessar_um_servidor_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Aceleração_D3D_em_convidados_Windows" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Acelera%C3%A7%C3%A3o_D3D_em_convidados_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Aceleração D3D em convidados Windows</div>
			</a>
			
			<ul id="toc-Aceleração_D3D_em_convidados_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-VirtualBox_em_um_pendrive_USB" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#VirtualBox_em_um_pendrive_USB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>VirtualBox em um pendrive USB</div>
			</a>
			
			<ul id="toc-VirtualBox_em_um_pendrive_USB-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Executar_uma_instalação_nativa_do_Arch_Linux_dentro_do_VirtualBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Executar_uma_instala%C3%A7%C3%A3o_nativa_do_Arch_Linux_dentro_do_VirtualBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Executar uma instalação nativa do Arch Linux dentro do VirtualBox</div>
			</a>
			
			<ul id="toc-Executar_uma_instalação_nativa_do_Arch_Linux_dentro_do_VirtualBox-sublist" class="vector-toc-list">
				<li id="toc-Certifique-se_de_que_você_tem_um_esquema_de_nomeação_persistente" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Certifique-se_de_que_voc%C3%AA_tem_um_esquema_de_nomea%C3%A7%C3%A3o_persistente">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1</span>Certifique-se de que você tem um esquema de nomeação persistente</div>
			</a>
			
			<ul id="toc-Certifique-se_de_que_você_tem_um_esquema_de_nomeação_persistente-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Certifique-se_de_que_sua_imagem_mkinitcpio_está_correta" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Certifique-se_de_que_sua_imagem_mkinitcpio_est%C3%A1_correta">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2</span>Certifique-se de que sua imagem mkinitcpio está correta</div>
			</a>
			
			<ul id="toc-Certifique-se_de_que_sua_imagem_mkinitcpio_está_correta-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Crie_uma_configuração_de_máquina_virtual_para_inicializar_a_partir_do_drive_físico" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Crie_uma_configura%C3%A7%C3%A3o_de_m%C3%A1quina_virtual_para_inicializar_a_partir_do_drive_f%C3%ADsico">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3</span>Crie uma configuração de máquina virtual para inicializar a partir do drive físico</div>
			</a>
			
			<ul id="toc-Crie_uma_configuração_de_máquina_virtual_para_inicializar_a_partir_do_drive_físico-sublist" class="vector-toc-list">
				<li id="toc-Crie_uma_imagem_.vmdk_de_disco_bruto" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Crie_uma_imagem_.vmdk_de_disco_bruto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3.1</span>Crie uma imagem .vmdk de disco bruto</div>
			</a>
			
			<ul id="toc-Crie_uma_imagem_.vmdk_de_disco_bruto-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Criar_o_arquivo_de_configuração_da_máquina_virtual" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Criar_o_arquivo_de_configura%C3%A7%C3%A3o_da_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3.2</span>Criar o arquivo de configuração da máquina virtual</div>
			</a>
			
			<ul id="toc-Criar_o_arquivo_de_configuração_da_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Instalar_um_sistema_Arch_Linux_nativo_a_partir_do_VirtualBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalar_um_sistema_Arch_Linux_nativo_a_partir_do_VirtualBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Instalar um sistema Arch Linux nativo a partir do VirtualBox</div>
			</a>
			
			<ul id="toc-Instalar_um_sistema_Arch_Linux_nativo_a_partir_do_VirtualBox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Instalar_convidado_MacOS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Instalar_convidado_MacOS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9</span>Instalar convidado MacOS</div>
			</a>
			
			<ul id="toc-Instalar_convidado_MacOS-sublist" class="vector-toc-list">
				<li id="toc-Sem_entrada_de_teclado/mouse_ao_tentar_instalar_o_Mojave" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sem_entrada_de_teclado/mouse_ao_tentar_instalar_o_Mojave">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9.1</span>Sem entrada de teclado/mouse ao tentar instalar o Mojave</div>
			</a>
			
			<ul id="toc-Sem_entrada_de_teclado/mouse_ao_tentar_instalar_o_Mojave-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Shell_interativo_UEFI_após_reiniciar" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Shell_interativo_UEFI_ap%C3%B3s_reiniciar">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.9.2</span>Shell interativo UEFI após reiniciar</div>
			</a>
			
			<ul id="toc-Shell_interativo_UEFI_após_reiniciar-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Mover_uma_instalação_nativa_do_Windows_para_uma_máquina_virtual" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mover_uma_instala%C3%A7%C3%A3o_nativa_do_Windows_para_uma_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10</span>Mover uma instalação nativa do Windows para uma máquina virtual</div>
			</a>
			
			<ul id="toc-Mover_uma_instalação_nativa_do_Windows_para_uma_máquina_virtual-sublist" class="vector-toc-list">
				<li id="toc-Tarefas_no_Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tarefas_no_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10.1</span>Tarefas no Windows</div>
			</a>
			
			<ul id="toc-Tarefas_no_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Usando_Disk2vhd_para_clonar_a_partição_do_Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Usando_Disk2vhd_para_clonar_a_parti%C3%A7%C3%A3o_do_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10.2</span>Usando Disk2vhd para clonar a partição do Windows</div>
			</a>
			
			<ul id="toc-Usando_Disk2vhd_para_clonar_a_partição_do_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tarefas_no_GNU/Linux" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tarefas_no_GNU/Linux">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10.3</span>Tarefas no GNU/Linux</div>
			</a>
			
			<ul id="toc-Tarefas_no_GNU/Linux-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Corrigir_MBR_e_carregador_de_inicialização_Microsoft" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Corrigir_MBR_e_carregador_de_inicializa%C3%A7%C3%A3o_Microsoft">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10.4</span>Corrigir MBR e carregador de inicialização Microsoft</div>
			</a>
			
			<ul id="toc-Corrigir_MBR_e_carregador_de_inicialização_Microsoft-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Limitações_conhecidas" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Limita%C3%A7%C3%B5es_conhecidas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.10.5</span>Limitações conhecidas</div>
			</a>
			
			<ul id="toc-Limitações_conhecidas-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Executar_uma_instalação_nativa_do_Windows_dentro_do_VirtualBox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Executar_uma_instala%C3%A7%C3%A3o_nativa_do_Windows_dentro_do_VirtualBox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11</span>Executar uma instalação nativa do Windows dentro do VirtualBox</div>
			</a>
			
			<ul id="toc-Executar_uma_instalação_nativa_do_Windows_dentro_do_VirtualBox-sublist" class="vector-toc-list">
				<li id="toc-Criando_a_máquina_virtual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Criando_a_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.1</span>Criando a máquina virtual</div>
			</a>
			
			<ul id="toc-Criando_a_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Criando_discos_de_máquina_virtual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Criando_discos_de_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.2</span>Criando discos de máquina virtual</div>
			</a>
			
			<ul id="toc-Criando_discos_de_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Permitindo_que_o_VirtualBox_leia_partições_físicas" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Permitindo_que_o_VirtualBox_leia_parti%C3%A7%C3%B5es_f%C3%ADsicas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.3</span>Permitindo que o VirtualBox leia partições físicas</div>
			</a>
			
			<ul id="toc-Permitindo_que_o_VirtualBox_leia_partições_físicas-sublist" class="vector-toc-list">
				<li id="toc-Opção_de_maior_segurança:_usando_um_grupo_dedicado_para_as_partições_do_Windows" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Op%C3%A7%C3%A3o_de_maior_seguran%C3%A7a:_usando_um_grupo_dedicado_para_as_parti%C3%A7%C3%B5es_do_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.3.1</span>Opção de maior segurança: usando um grupo dedicado para as partições do Windows</div>
			</a>
			
			<ul id="toc-Opção_de_maior_segurança:_usando_um_grupo_dedicado_para_as_partições_do_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Opção_de_menor_segurança:_usando_o_grupo_'disk'" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Op%C3%A7%C3%A3o_de_menor_seguran%C3%A7a:_usando_o_grupo_'disk'">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.3.2</span>Opção de menor segurança: usando o grupo 'disk'</div>
			</a>
			
			<ul id="toc-Opção_de_menor_segurança:_usando_o_grupo_'disk'-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Configurando_uma_partição_separada_do_sistema_EFI" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurando_uma_parti%C3%A7%C3%A3o_separada_do_sistema_EFI">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.4</span>Configurando uma partição separada do sistema EFI</div>
			</a>
			
			<ul id="toc-Configurando_uma_partição_separada_do_sistema_EFI-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adicionando_discos_virtuais_à_máquina_virtual" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Adicionando_discos_virtuais_%C3%A0_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.5</span>Adicionando discos virtuais à máquina virtual</div>
			</a>
			
			<ul id="toc-Adicionando_discos_virtuais_à_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configurando_o_firmware_UEFI_virtual_e_criando_arquivos_de_inicialização_do_Windows" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurando_o_firmware_UEFI_virtual_e_criando_arquivos_de_inicializa%C3%A7%C3%A3o_do_Windows">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.11.6</span>Configurando o firmware UEFI virtual e criando arquivos de inicialização do Windows</div>
			</a>
			
			<ul id="toc-Configurando_o_firmware_UEFI_virtual_e_criando_arquivos_de_inicialização_do_Windows-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Executar_um_disco_físico_inteiro_no_Virtualbox" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Executar_um_disco_f%C3%ADsico_inteiro_no_Virtualbox">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.12</span>Executar um disco físico inteiro no Virtualbox</div>
			</a>
			
			<ul id="toc-Executar_um_disco_físico_inteiro_no_Virtualbox-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Definir_resolução_de_inicialização_do_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Definir_resolu%C3%A7%C3%A3o_de_inicializa%C3%A7%C3%A3o_do_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.13</span>Definir resolução de inicialização do convidado</div>
			</a>
			
			<ul id="toc-Definir_resolução_de_inicialização_do_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SSH_do_host_para_o_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SSH_do_host_para_o_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.14</span>SSH do host para o convidado</div>
			</a>
			
			<ul id="toc-SSH_do_host_para_o_convidado-sublist" class="vector-toc-list">
				<li id="toc-SSHFS_como_alternativa_à_pasta_compartilhada" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#SSHFS_como_alternativa_%C3%A0_pasta_compartilhada">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.14.1</span>SSHFS como alternativa à pasta compartilhada</div>
			</a>
			
			<ul id="toc-SSHFS_como_alternativa_à_pasta_compartilhada-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Solução_de_problemas" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Solu%C3%A7%C3%A3o_de_problemas">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Solução de problemas</div>
		</a>
		
			<button aria-controls="toc-Solução_de_problemas-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Solução de problemas subsection</span>
			</button>
		
		<ul id="toc-Solução_de_problemas-sublist" class="vector-toc-list">
			<li id="toc-Teclado_e_mouse_estão_bloqueados_na_máquina_virtual" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Teclado_e_mouse_est%C3%A3o_bloqueados_na_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Teclado e mouse estão bloqueados na máquina virtual</div>
			</a>
			
			<ul id="toc-Teclado_e_mouse_estão_bloqueados_na_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Nenhuma_opção_de_cliente_de_sistema_operacional_de_64_bits" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nenhuma_op%C3%A7%C3%A3o_de_cliente_de_sistema_operacional_de_64_bits">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Nenhuma opção de cliente de sistema operacional de 64 bits</div>
			</a>
			
			<ul id="toc-Nenhuma_opção_de_cliente_de_sistema_operacional_de_64_bits-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-A_GUI_do_VirtualBox_não_corresponde_ao_tema_GTK_do_host" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#A_GUI_do_VirtualBox_n%C3%A3o_corresponde_ao_tema_GTK_do_host">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>A GUI do VirtualBox não corresponde ao tema GTK do host</div>
			</a>
			
			<ul id="toc-A_GUI_do_VirtualBox_não_corresponde_ao_tema_GTK_do_host-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Não_é_possível_enviar_Ctrl+Alt+Fn_para_o_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#N%C3%A3o_%C3%A9_poss%C3%ADvel_enviar_Ctrl+Alt+Fn_para_o_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Não é possível enviar Ctrl+Alt+Fn para o convidado</div>
			</a>
			
			<ul id="toc-Não_é_possível_enviar_Ctrl+Alt+Fn_para_o_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Subsistema_USB_não_está_funcionando" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Subsistema_USB_n%C3%A3o_est%C3%A1_funcionando">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Subsistema USB não está funcionando</div>
			</a>
			
			<ul id="toc-Subsistema_USB_não_está_funcionando-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modem_USB_não_funciona_no_host" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modem_USB_n%C3%A3o_funciona_no_host">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>Modem USB não funciona no host</div>
			</a>
			
			<ul id="toc-Modem_USB_não_funciona_no_host-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Dispositivo_USB_causa_falha_no_convidado" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Dispositivo_USB_causa_falha_no_convidado">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>Dispositivo USB causa falha no convidado</div>
			</a>
			
			<ul id="toc-Dispositivo_USB_causa_falha_no_convidado-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Host_congela_ao_iniciar_a_máquina_virtual" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Host_congela_ao_iniciar_a_m%C3%A1quina_virtual">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>Host congela ao iniciar a máquina virtual</div>
			</a>
			
			<ul id="toc-Host_congela_ao_iniciar_a_máquina_virtual-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Microfone_analógico_não_funciona" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Microfone_anal%C3%B3gico_n%C3%A3o_funciona">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.9</span>Microfone analógico não funciona</div>
			</a>
			
			<ul id="toc-Microfone_analógico_não_funciona-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problemas_com_imagens_convertidas_para_ISO" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Problemas_com_imagens_convertidas_para_ISO">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.10</span>Problemas com imagens convertidas para ISO</div>
			</a>
			
			<ul id="toc-Problemas_com_imagens_convertidas_para_ISO-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Falha_ao_criar_a_interface_de_rede_host-only" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Falha_ao_criar_a_interface_de_rede_host-only">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.11</span>Falha ao criar a interface de rede host-only</div>
			</a>
			
			<ul id="toc-Falha_ao_criar_a_interface_de_rede_host-only-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Falha_ao_inserir_o_módulo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Falha_ao_inserir_o_m%C3%B3dulo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.12</span>Falha ao inserir o módulo</div>
			</a>
			
			<ul id="toc-Falha_ao_inserir_o_módulo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-VBOX_E_INVALID_OBJECT_STATE_(0x80BB0007)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#VBOX_E_INVALID_OBJECT_STATE_(0x80BB0007)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.13</span>VBOX_E_INVALID_OBJECT_STATE (0x80BB0007)</div>
			</a>
			
			<ul id="toc-VBOX_E_INVALID_OBJECT_STATE_(0x80BB0007)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-NS_ERROR_FAILURE_e_itens_de_menu_ausentes" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NS_ERROR_FAILURE_e_itens_de_menu_ausentes">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.14</span>NS_ERROR_FAILURE e itens de menu ausentes</div>
			</a>
			
			<ul id="toc-NS_ERROR_FAILURE_e_itens_de_menu_ausentes-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Windows:_"O_caminho_especificado_não_existe._Verifique_o_caminho_e_tente_novamente."' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Windows:_"O_caminho_especificado_n%C3%A3o_existe._Verifique_o_caminho_e_tente_novamente."'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.15</span>Windows: "O caminho especificado não existe. Verifique o caminho e tente novamente."</div>
			</a>
			
			<ul id='toc-Windows:_"O_caminho_especificado_não_existe._Verifique_o_caminho_e_tente_novamente."-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows_8.x_código_de_erro_0x000000C4" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Windows_8.x_c%C3%B3digo_de_erro_0x000000C4">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.16</span>Windows 8.x código de erro 0x000000C4</div>
			</a>
			
			<ul id="toc-Windows_8.x_código_de_erro_0x000000C4-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Windows_8,_8.1_ou_10_falha_ao_instalar,_inicializar_ou_tem_erro_"ERR_DISK_FULL"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Windows_8,_8.1_ou_10_falha_ao_instalar,_inicializar_ou_tem_erro_"ERR_DISK_FULL"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.17</span>Windows 8, 8.1 ou 10 falha ao instalar, inicializar ou tem erro "ERR_DISK_FULL"</div>
			</a>
			
			<ul id='toc-Windows_8,_8.1_ou_10_falha_ao_instalar,_inicializar_ou_tem_erro_"ERR_DISK_FULL"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-WinXP:_Profundidade_de_bit_não_pode_ser_maior_que_16" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#WinXP:_Profundidade_de_bit_n%C3%A3o_pode_ser_maior_que_16">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.18</span>WinXP: Profundidade de bit não pode ser maior que 16</div>
			</a>
			
			<ul id="toc-WinXP:_Profundidade_de_bit_não_pode_ser_maior_que_16-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Windows:_Tela_pisca_se_a_aceleração_3D_estiver_habilitada" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Windows:_Tela_pisca_se_a_acelera%C3%A7%C3%A3o_3D_estiver_habilitada">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.19</span>Windows: Tela pisca se a aceleração 3D estiver habilitada</div>
			</a>
			
			<ul id="toc-Windows:_Tela_pisca_se_a_aceleração_3D_estiver_habilitada-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Não_é_possível_iniciar_o_VirtualBox_com_Wayland:_Falha_de_segmentação" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#N%C3%A3o_%C3%A9_poss%C3%ADvel_iniciar_o_VirtualBox_com_Wayland:_Falha_de_segmenta%C3%A7%C3%A3o">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.20</span>Não é possível iniciar o VirtualBox com Wayland: Falha de segmentação</div>
			</a>
			
			<ul id="toc-Não_é_possível_iniciar_o_VirtualBox_com_Wayland:_Falha_de_segmentação-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Congelamento_aleatório_em_convidados_com_GPU_Intel" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Congelamento_aleat%C3%B3rio_em_convidados_com_GPU_Intel">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.21</span>Congelamento aleatório em convidados com GPU Intel</div>
			</a>
			
			<ul id="toc-Congelamento_aleatório_em_convidados_com_GPU_Intel-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Incapaz_de_visualizar_o_desktop_no_modo_de_tela_cheia" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Incapaz_de_visualizar_o_desktop_no_modo_de_tela_cheia">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.22</span>Incapaz de visualizar o desktop no modo de tela cheia</div>
			</a>
			
			<ul id="toc-Incapaz_de_visualizar_o_desktop_no_modo_de_tela_cheia-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Travamentos_aleatórios_com_sistema_operacional_convidado_Windows_10_com_chipset_Intel_Tiger_Lake" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Travamentos_aleat%C3%B3rios_com_sistema_operacional_convidado_Windows_10_com_chipset_Intel_Tiger_Lake">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.23</span>Travamentos aleatórios com sistema operacional convidado Windows 10 com chipset Intel Tiger Lake</div>
			</a>
			
			<ul id="toc-Travamentos_aleatórios_com_sistema_operacional_convidado_Windows_10_com_chipset_Intel_Tiger_Lake-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Falha_ao_salvar_as_configurações_ao_habilitar_o_Secure_Boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Falha_ao_salvar_as_configura%C3%A7%C3%B5es_ao_habilitar_o_Secure_Boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.24</span>Falha ao salvar as configurações ao habilitar o Secure Boot</div>
			</a>
			
			<ul id="toc-Falha_ao_salvar_as_configurações_ao_habilitar_o_Secure_Boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Falha_ao_iniciar_a_máquina_VirtualBox_após_usar_o_emulador_do_Android_Studio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Falha_ao_iniciar_a_m%C3%A1quina_VirtualBox_ap%C3%B3s_usar_o_emulador_do_Android_Studio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.25</span>Falha ao iniciar a máquina VirtualBox após usar o emulador do Android Studio</div>
			</a>
			
			<ul id="toc-Falha_ao_iniciar_a_máquina_VirtualBox_após_usar_o_emulador_do_Android_Studio-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Veja_também" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Veja_tamb%C3%A9m">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Veja também</div>
		</a>
		
		<ul id="toc-Veja_também-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">VirtualBox (Português)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/VirtualBox" title="VirtualBox – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/VirtualBox.html" title="VirtualBox – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/VirtualBox.html" title="VirtualBox – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/VirtualBox" title="VirtualBox – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/VirtualBox.html" title="VirtualBox – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/VirtualBox" title="VirtualBox – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="pt" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a>. Data da última tradução: 2024-01-02. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=VirtualBox&amp;diff=0&amp;oldid=795834">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/VirtualBox/Install_Arch_Linux_as_a_guest.html" class="mw-redirect" title="VirtualBox/Instalar Arch Linux como convidado">VirtualBox/Instalar Arch Linux como convidado</a></li>
<li><a href="../pt/Category:Hypervisors.html" title="Category:Hypervisors (Português)">Categoria: Hypervisors</a></li>
<li><a href="../en/PhpVirtualBox.html" title="PhpVirtualBox">PhpVirtualBox</a></li>
<li><a href="../en/RemoteBox.html" title="RemoteBox">RemoteBox</a></li>
<li><a href="../en/Moving_an_existing_install_into_(or_out_of)_a_virtual_machine.html" title="Moving an existing install into (or out of) a virtual machine">Moving an existing install into (or out of) a virtual machine</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.virtualbox.org">VirtualBox</a> é um <a href="https://en.wikipedia.org/wiki/Hypervisor" class="extiw" title="wikipedia:Hypervisor">hypervisor</a> usado para executar sistemas operacionais em um ambiente especial, chamado de máquina virtual, sobre o sistema operacional existente. O VirtualBox está em constante desenvolvimento e novos recursos são implementados continuamente. Ele vem com uma interface GUI <a href="../en/Qt.html" title="Qt">Qt</a>, bem como ferramentas de linha de comando <a href="https://en.wikipedia.org/wiki/Headless_software" class="extiw" title="wikipedia:Headless software">sem cabeçalho</a> e <a href="https://en.wikipedia.org/wiki/Simple_DirectMedia_Layer" class="extiw" title="wikipedia:Simple DirectMedia Layer">SDL</a> para gerenciar e executar máquinas virtuais.
</p>
<p>Para integrar funções do sistema hospedeiro aos convidados, incluindo pastas compartilhadas e área de transferência, aceleração de vídeo e um modo de integração de janela contínua, <i>guest additions</i> são fornecidas para alguns sistemas operacionais convidados.
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Passos_de_instala.C3.A7.C3.A3o_para_hospedeiros_Arch_Linux"></span><span class="mw-headline" id="Passos_de_instalação_para_hospedeiros_Arch_Linux">Passos de instalação para hospedeiros Arch Linux</span>
</h2>
<p>Para iniciar máquinas virtuais VirtualBox no seu Arch Linux, siga estes passos de instalação.
</p>
<h3><span class="mw-headline" id="Instale_os_pacotes_principais">Instale os pacotes principais</span></h3>
<p><a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">Instale</a> o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox">virtualbox</a></span>. Você também precisará escolher um pacote para fornecer módulos hospedeiros:
</p>
<ul>
<li>para o kernel <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span>, escolha <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-host-modules-arch">virtualbox-host-modules-arch</a></span>
</li>
<li>para qualquer outro <a href="../pt/Kernel.html" title="Kernel (Português)">Kernel</a> (incluindo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>), escolha <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-host-dkms">virtualbox-host-dkms</a></span>
</li>
</ul>
<p>Para compilar os módulos VirtualBox fornecidos pelo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-host-dkms">virtualbox-host-dkms</a></span>, também será necessário instalar o(s) pacote(s) de cabeçalhos apropriados para o(s) seu(s) kernel(s) instalado(s) (por exemplo, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts-headers">linux-lts-headers</a></span>). Quando o VirtualBox ou o kernel for atualizado, os módulos do kernel serão automaticamente recompilados graças ao <a href="../pt/Dynamic_Kernel_Module_Support.html" class="mw-redirect" title="DKMS (Português)">DKMS</a> <a href="../en/Pacman.html#Hooks" class="mw-redirect" title="Pacman hook">pacman hook</a>.
</p>
<h3>
<span id="Assine_os_m.C3.B3dulos"></span><span class="mw-headline" id="Assine_os_módulos">Assine os módulos</span>
</h3>
<p>Ao usar um kernel personalizado com a opção <code>CONFIG_MODULE_SIG_FORCE</code> ativada, você deve assinar seus módulos com uma chave gerada durante a compilação do kernel.
</p>
<p>Navegue até a pasta da árvore do seu kernel e execute o seguinte comando:
</p>
<pre># for module in `ls /lib/modules/$(uname -r)/kernel/misc/{vboxdrv.ko,vboxnetadp.ko,vboxnetflt.ko}` ; do ./scripts/sign-file sha1 certs/signing_key.pem certs/signing_key.x509 $module ; done
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> O algoritmo de hash não precisa corresponder ao configurado, mas deve estar integrado ao kernel.</div>
<h3>
<span id="Carregue_os_m.C3.B3dulos_do_kernel_VirtualBox"></span><span class="mw-headline" id="Carregue_os_módulos_do_kernel_VirtualBox">Carregue os módulos do kernel VirtualBox</span>
</h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-host-modules-arch">virtualbox-host-modules-arch</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-host-dkms">virtualbox-host-dkms</a></span> usam <code>systemd-modules-load.service</code> para carregar automaticamente os módulos VirtualBox na inicialização. Para que os módulos sejam carregados após a instalação, reinicie ou carregue os módulos manualmente uma vez; a lista de módulos pode ser encontrada em <code>/usr/lib/modules-load.d/virtualbox-host-modules-arch.conf</code> ou <code>/usr/lib/modules-load.d/virtualbox-host-dkms.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você não deseja que os módulos VirtualBox sejam carregados automaticamente na inicialização, você deve mascarar o padrão <code>/usr/lib/modules-load.d/virtualbox-host-modules-arch.conf</code> (ou <code>/usr/lib/modules-load.d/virtualbox-host-dkms.conf</code>) criando um arquivo vazio (ou link simbólico para <code>/dev/null</code>) com o mesmo nome em <code>/etc/modules-load.d/</code>.</div>
<p>Entre os <a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">kernel modules</a> usados pelo VirtualBox, há um módulo obrigatório chamado <code>vboxdrv</code>, que deve ser carregado antes de qualquer máquina virtual poder rodar.
</p>
<p>Para carregar o módulo manualmente, execute:
</p>
<pre># modprobe vboxdrv
</pre>
<p>Os seguintes módulos são necessários apenas em configurações avançadas:
</p>
<ul><li>
<code>vboxnetadp</code> e <code>vboxnetflt</code> são ambos necessários quando você pretende usar o recurso de rede <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch06.html#network_bridged">em ponte</a> ou <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch06.html#network_hostonly">somente anfitrião</a>. Mais precisamente, <code>vboxnetadp</code> é necessário para criar a interface do host nas preferências globais do VirtualBox, e <code>vboxnetflt</code> é necessário para iniciar uma máquina virtual usando essa interface de rede.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se os módulos do kernel VirtualBox estavam carregados no kernel enquanto você atualizava os módulos, você precisa recarregá-los manualmente para usar a nova versão atualizada. Para fazer isso, execute <code>vboxreload</code> como root.</div>
<h3><span class="mw-headline" id="Acessando_dispositivos_USB_do_host_no_convidado">Acessando dispositivos USB do host no convidado</span></h3>
<p>Para usar as portas USB da sua máquina hospedeira em suas máquinas virtuais, adicione usuários que estarão autorizados a usar esse recurso ao grupo de usuários <code>vboxusers</code>.
</p>
<h3>
<span id="Disco_de_adi.C3.A7.C3.B5es_de_convidado"></span><span class="mw-headline" id="Disco_de_adições_de_convidado">Disco de adições de convidado</span>
</h3>
<p>Também é recomendado instalar o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-iso">virtualbox-guest-iso</a></span> no hospedeiro que executa o VirtualBox. Este pacote atuará como uma imagem de disco que pode ser usada para instalar as adições de convidado em sistemas convidados que não sejam o Arch Linux. O arquivo <i>.iso</i> estará localizado em <code>/usr/lib/virtualbox/additions/VBoxGuestAdditions.iso</code>, e pode ter que ser montado manualmente dentro da máquina virtual. Uma vez montado, você pode executar o instalador das adições de convidado dentro do convidado.
</p>
<h3>
<span id="Modelos_n.C3.A3o_supervisionados"></span><span class="mw-headline" id="Modelos_não_supervisionados">Modelos não supervisionados</span>
</h3>
<p>Para evitar ter que instalar o sistema convidado manualmente, alguns sistemas operacionais suportam <i>instalação não supervisionada</i>. Isso permite que o usuário configure o sistema a ser instalado na interface do VirtualBox antes de iniciar a máquina. Ao final do processo de configuração, o sistema operacional é instalado sem necessidade de mais interação do usuário. Este recurso requer o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/virtualbox-unattended-templates/">virtualbox-unattended-templates</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup>.
</p>
<h3>
<span id="Pacote_de_extens.C3.A3o"></span><span class="mw-headline" id="Pacote_de_extensão">Pacote de extensão</span>
</h3>
<p>O Oracle Extension Pack oferece <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch01.html#intro-installing">recursos adicionais</a> e é lançado sob uma licença não livre <b>disponível apenas para uso pessoal</b>. Para instalá-lo, o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/virtualbox-ext-oracle/">virtualbox-ext-oracle</a></span><sup><small>AUR</small></sup> está disponível, e uma versão pré-construída pode ser encontrada no repositório <a href="../en/Unofficial_user_repositories.html#seblu" title="Unofficial user repositories">seblu</a>.
</p>
<p>Se preferir usar o método tradicional e manual: baixe a extensão manualmente e instale-a através da GUI (<i>Arquivo &gt; Ferramentas &gt; Gerenciador de Pacote de Extensão</i>) ou via <code>VBoxManage extpack install &lt;.vbox-extpack&gt;</code>, certifique-se de ter um toolkit como <a href="../en/Polkit.html" title="Polkit">Polkit</a> para conceder acesso privilegiado ao VirtualBox. A instalação desta extensão <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/8473">requer acesso root</a>.
</p>
<h3><span class="mw-headline" id="Front-ends">Front-ends</span></h3>
<p>O VirtualBox vem com três front-ends:
</p>
<ul>
<li>Se você deseja usar o VirtualBox com a GUI regular, use <code>VirtualBox</code>.</li>
<li>Se deseja iniciar e gerenciar suas máquinas virtuais a partir da linha de comando, use o comando <code>VBoxSDL</code>, que fornece apenas uma janela simples para a máquina virtual sem sobreposições.</li>
<li>Se deseja usar o VirtualBox sem executar nenhuma GUI (por exemplo, em um servidor), use o comando <code>VBoxHeadless</code>. Com a extensão VRDP, você ainda pode acessar remotamente as telas de suas máquinas virtuais.</li>
</ul>
<p>Um recurso de segurança no Wayland (ou seja, ao usar GDM) impede que o VirtualBox capture toda a entrada do teclado e do mouse. Isso é inconveniente quando você deseja passar atalhos do gerenciador de janelas para o seu sistema operacional convidado. Pode ser contornado adicionando o VirtualBox à lista de permissões:
</p>
<pre>$ gsettings get org.gnome.mutter.wayland xwayland-grab-access-rules
$ gsettings set org.gnome.mutter.wayland xwayland-grab-access-rules "['VirtualBox Machine']"
</pre>
<p>O primeiro comando mostrará se outros aplicativos já estão na lista de permissões. Se sim, adicione 'VirtualBox Machine' a essa lista, em vez de tê-lo como o único.
</p>
<p>Finalmente, você também pode usar <a href="../en/PhpVirtualBox.html" title="PhpVirtualBox">phpVirtualBox</a> para administrar suas máquinas virtuais via interface web.
</p>
<p>Consulte o <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual">VirtualBox manual</a> para aprender como criar máquinas virtuais.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Se você pretende armazenar imagens de disco virtual em um sistema de arquivos <a href="../pt/Btrfs.html" title="Btrfs (Português)">Btrfs</a>, antes de criar quaisquer imagens, você deve considerar desativar <a href="../en/Btrfs.html#Copy-on-Write_(CoW)" title="Btrfs">copy-on-write</a> para o diretório de destino dessas imagens.</div>
<h2>
<span id="Passos_de_instala.C3.A7.C3.A3o_para_convidados_Arch_Linux"></span><span class="mw-headline" id="Passos_de_instalação_para_convidados_Arch_Linux">Passos de instalação para convidados Arch Linux</span>
</h2>
<p>Veja <a href="../en/VirtualBox/Install_Arch_Linux_as_a_guest.html" title="VirtualBox/Install Arch Linux as a guest">VirtualBox/Install Arch Linux as a guest</a>.
</p>
<h2><span class="mw-headline" id="Gerenciamento_de_discos_virtuais">Gerenciamento de discos virtuais</span></h2>
<p>Veja também <a href="#Importar/exportar_m%C3%A1quinas_virtuais_VirtualBox_de/para_outros_hipervisores">#Importar/exportar máquinas virtuais VirtualBox de/para outros hipervisores</a>.
</p>
<h3><span class="mw-headline" id="Formatos_suportados_pelo_VirtualBox">Formatos suportados pelo VirtualBox</span></h3>
<p>O VirtualBox suporta os seguintes formatos de disco virtual:
</p>
<ul>
<li>
<b>VDI</b>: O Virtual Disk Image é o próprio contêiner aberto do VirtualBox usado por padrão ao criar uma máquina virtual com o VirtualBox.</li>
<li>
<b>VMDK</b>: O Virtual Machine Disk foi inicialmente desenvolvido pela VMware para seus produtos. A especificação era inicialmente fechada, mas desde então se tornou um formato aberto totalmente suportado pelo VirtualBox. Este formato oferece a capacidade de ser dividido em vários arquivos de 2GB. Esta característica é especialmente útil se você deseja armazenar a máquina virtual em máquinas que não suportam arquivos muito grandes. Outros formatos, excluindo o formato HDD da Parallels, não fornecem tal recurso equivalente.</li>
<li>
<b>VHD</b>: O Virtual Hard Disk é o formato usado pela Microsoft no Windows Virtual PC e Hyper-V. Se você pretende usar qualquer um desses produtos Microsoft, terá que escolher este formato.</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Desde o Windows 7, este formato pode ser montado diretamente sem nenhum aplicativo adicional.</div></dd></dl>
<ul>
<li>
<b>VHDX</b> (somente leitura): Esta é a versão estendida do formato Virtual Hard Disk desenvolvida pela Microsoft, que foi lançada em 2012-09-04 com o Hyper-V 3.0 junto com o Windows Server 2012. Esta nova versão do formato de disco oferece desempenho aprimorado (melhor alinhamento de blocos), tamanho de blocos maiores e suporte a jornal, o que traz resiliência a falhas de energia. O VirtualBox <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch15.html#idp63002176">deve suportar este formato somente para leitura</a>.</li>
<li>
<b>HDD</b> (versão 2): O formato HDD é desenvolvido pela Parallels Inc e usado em suas soluções de hipervisor como o Parallels Desktop for Mac. Versões mais recentes deste formato (ou seja, 3 e 4) não são suportadas devido à falta de documentação para este formato proprietário. <div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Atualmente há uma controvérsia sobre o suporte à versão 2 do formato. Enquanto o manual oficial do VirtualBox <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch05.html#vdidetails">apenas relata a segunda versão do formato de arquivo HDD como suportada</a>, os colaboradores da Wikipedia estão <a href="https://en.wikipedia.org/wiki/Comparison_of_platform_virtual_machines#Image_type_compatibility" class="extiw" title="wikipedia:Comparison of platform virtual machines">relatando que a primeira versão também pode funcionar</a>. Ajuda é bem-vinda se você puder realizar alguns testes com a primeira versão do formato HDD.</div>
</li>
<li>
<b>QED</b>: O formato QEMU Enhanced Disk é um formato de arquivo antigo para QEMU, outro hipervisor gratuito e de código aberto. Este formato foi projetado em 2010 de forma a fornecer uma alternativa superior ao QCOW2 e outros. Este formato possui um caminho de E/S totalmente assíncrono, forte integridade de dados, arquivos de suporte e arquivos esparsos. O formato QED é suportado apenas por compatibilidade com máquinas virtuais criadas com versões antigas do QEMU.</li>
<li>
<b>QCOW</b>: O formato QEMU Copy On Write é o formato atual para QEMU. O formato QCOW suporta compressão transparente baseada em zlib e criptografia (esta última é falha e não é recomendada). QCOW está disponível em duas versões: QCOW e QCOW2. O QCOW2 tende a substituir o primeiro. O QCOW é <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch15.html#idp63002176">atualmente totalmente suportado pelo VirtualBox</a>. O QCOW2 vem em duas revisões: QCOW2 0.10 e QCOW2 1.1 (que é o padrão quando você cria um disco virtual com o QEMU). O VirtualBox não suporta QCOW2.</li>
<li>
<b>OVF</b>: O Open Virtualization Format é um formato aberto projetado para interoperabilidade e distribuição de máquinas virtuais entre diferentes hipervisores. O VirtualBox suporta todas as revisões deste formato via <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#idp55423424">recurso de importação/exportação VBoxManage</a> mas com <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch14.html#KnownProblems">limitações conhecidas</a>.</li>
<li>
<b>RAW</b>: Este é o modo quando o disco virtual é exposto diretamente ao disco sem estar contido em um contêiner de formato de arquivo específico. O VirtualBox suporta este recurso de várias maneiras: convertendo disco RAW <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#idp59139136">para um formato específico</a>, ou clonando um disco para RAW, ou usando diretamente um arquivo VMDK <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#idp57804112">que aponta para um disco físico ou um arquivo simples</a>.</li>
</ul>
<h3>
<span id="Convers.C3.A3o_de_formato_de_imagem_de_disco"></span><span class="mw-headline" id="Conversão_de_formato_de_imagem_de_disco">Conversão de formato de imagem de disco</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-clonevdi">VBoxManage clonehd</a> pode ser usado para converter entre VDI, VMDK, VHD e RAW.
</p>
<pre>$ VBoxManage clonehd <i>inputfile</i> <i>outputfile</i> --format <i>outputformat</i>
</pre>
<p>Por exemplo, para converter VDI para VMDK:
</p>
<pre>$ VBoxManage clonehd <i>source.vdi</i> <i>destination.vmdk</i> --format VMDK
</pre>
<h4><span class="mw-headline" id="QCOW">QCOW</span></h4>
<p>O VirtualBox não suporta o formato de imagem de disco QCOW2 do <a href="../en/QEMU.html" title="QEMU">QEMU</a>. Para usar uma imagem de disco QCOW2 com o VirtualBox, você precisará convertê-la, o que pode ser feito com <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qemu-img">qemu-img</a></span>. <i>qemu-img</i> pode converter QCOW para / de VDI, VMDK, VHDX, RAW e vários outros formatos (que você pode ver executando <code>qemu-img --help</code>).
</p>
<pre>$ qemu-img convert -O <i>output_fmt</i> <i>inputfile</i> <i>outputfile</i>
</pre>
<p>Por exemplo, para converter QCOW2 para VDI:
</p>
<pre>$ qemu-img convert -O vdi <i>source.qcow2</i> <i>destination.vdi</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> O parâmetro <code>-p</code> é usado para obter a progressão da tarefa de conversão.</div>
<p>Existem duas revisões do QCOW2: 0.10 e 1.1. Você pode especificar a revisão a ser usada com <code>-o compat=<i>revision</i></code>.
</p>
<h3><span class="mw-headline" id="Montar_discos_virtuais">Montar discos virtuais</span></h3>
<h4><span class="mw-headline" id="VDI">VDI</span></h4>
<p>Montar imagens VDI só funciona com imagens de tamanho fixo (também conhecidas como imagens estáticas); imagens dinâmicas (que alocam tamanho dinamicamente) não são facilmente montáveis.
</p>
<p>O deslocamento da partição (dentro do VDI) é necessário, então adicione o valor de <code>offData</code> a <code>32256</code> (por exemplo, 69632 + 32256 = 101888):
</p>
<pre>$ VBoxManage internalcommands dumphdinfo <i>storage</i>.vdi | grep "offData"
</pre>
<p>O armazenamento agora pode ser montado com:
</p>
<pre># mount -t ext4 -o rw,noatime,noexec,loop,offset=101888 <i>storage</i>.vdi /mntpoint/
</pre>
<p>Para discos VDI com mais partições, você também pode usar <code>losetup</code>:
</p>
<pre># losetup -o $offData -Pf
</pre>
<p>Após isso, você deve encontrar as partições em <code>/dev/loop*</code> (por exemplo, <code>/dev/loop0p1</code>). Então você pode montá-los como de costume (por exemplo, <code>mount mount /dev/loop0p1 /mnt/</code>).
</p>
<p>Você também pode usar <a rel="nofollow" class="external text" href="https://github.com/pld-linux/VirtualBox/blob/master/mount.vdi">script mount.vdi</a> que você pode usar como (instale o script em si para <code>/usr/bin/</code>):
</p>
<pre># mount -t vdi -o fstype=ext4,rw,noatime,noexec <i>vdi_file_location</i> <i>/mnt/</i>
</pre>
<p>Alternativamente, você pode usar o módulo do kernel nbd e <i>qemu-nbd</i> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qemu-img">qemu-img</a></span><a rel="nofollow" class="external autonumber" href="https://bethesignal.org/blog/2011/01/05/how-to-mount-virtualbox-vdi-image/">[1]</a>:
</p>
<pre># modprobe nbd max_part=16
# qemu-nbd -c /dev/nbd0 <i>storage</i>.vdi
# mount /dev/nbd0p1 /mnt/dir/
</pre>
<p>E então para desmontar:
</p>
<pre># umount /mnt/dir/
# qemu-nbd -d /dev/nbd0
</pre>
<p>Se os nós de partição não forem propagados, tente usar <code>partprobe /dev/nbd0</code>; caso contrário, uma partição VDI pode ser mapeada diretamente para um nó por: <code>qemu-nbd -P 1 -c /dev/nbd0 <i>storage</i>.vdi</code>.
</p>
<p>Outra maneira é usar <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vdfuse/">vdfuse</a></span><sup><small>AUR</small></sup>:
</p>
<pre># vdfuse -a -f <i>storage</i>.vdi <i>mountpoint1</i>
</pre>
<p>que monta o disco em <code><i>mountpoint1</i></code> com o formato de nome <code>PartitionN</code>. Cada partição pode então ser montada em loop em <code><i>mountpoint2</i></code>:
</p>
<pre># mount -o loop <i>mountpoint1</i>/PartitionN <i>mountpoint2</i>
</pre>
<h4><span class="mw-headline" id="VHD">VHD</span></h4>
<p>Assim como o VDI, imagens VHD podem ser montadas com o módulo nbd do <a href="../en/QEMU.html" title="QEMU">QEMU</a>:
</p>
<pre># modprobe nbd
# qemu-nbd -c /dev/nbd0 <i>storage</i>.vhd
# mount /dev/nbd0p1 /mnt
</pre>
<p>Para desmontar:
</p>
<pre># umount /mnt
# qemu-nbd -d /dev/nbd0
</pre>
<h3><span class="mw-headline" id="Compactar_discos_virtuais">Compactar discos virtuais</span></h3>
<p>Compactar discos virtuais funciona apenas com arquivos <i>.vdi</i> e basicamente consiste nos seguintes passos.
</p>
<p>Inicie sua máquina virtual e remova todo o excesso manualmente ou usando ferramentas de limpeza como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bleachbit">bleachbit</a></span> que está <a rel="nofollow" class="external text" href="http://bleachbit.sourceforge.net/download/windows">disponível para sistemas Windows também</a><sup title="Status da última verificação: 404">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2024-07-30 ⓘ]</sup>.
</p>
<p>Limpar espaço livre com zeros pode ser feito com várias ferramentas:
</p>
<ul>
<li>Se você estava usando o Bleachbit anteriormente, marque a caixa <i>System &gt; Free disk space</i> na GUI, ou use <code>bleachbit -c system.free_disk_space</code> na CLI;</li>
<li>Em sistemas baseados em UNIX, usando <code>dd</code> ou preferencialmente <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dcfldd/">dcfldd</a></span><sup><small>AUR</small></sup> (veja <a rel="nofollow" class="external text" href="https://superuser.com/a/355322">aqui</a> para aprender as diferenças):</li>
</ul>
<dl>
<dd><pre># dcfldd if=/dev/zero of=<i>/fillfile</i> bs=4M</pre></dd>
<dd>Quando <code>fillfile</code> atingir o limite da partição, você receberá uma mensagem como <code>1280 blocks (5120Mb) written. dcfldd:: No space left on device</code>. Isso significa que todos os blocos de espaço do usuário e não reservados da partição serão preenchidos com zeros. Usar este comando como root é importante para garantir que todos os blocos livres tenham sido sobrescritos. De fato, por padrão, ao usar partições com sistema de arquivos ext, uma porcentagem especificada de blocos do sistema de arquivos é reservada para o superusuário (veja o argumento <code>-m</code> nas páginas man do <code>mkfs.ext4</code> ou use <code>tune2fs -l</code> para ver quanto espaço está reservado para aplicativos root).</dd>
<dd>Quando o processo mencionado acima estiver concluído, você pode remover o arquivo <code><i>fillfile</i></code> que você criou.</dd>
</dl>
<ul><li>No Windows, existem duas ferramentas disponíveis:
<ul>
<li>
<code>sdelete</code> da <a rel="nofollow" class="external text" href="https://technet.microsoft.com/en-us/sysinternals/bb842062.aspx">Sysinternals Suite</a>, digite <code>sdelete -s -z <i>c:</i></code>, onde você precisará executar o comando para cada unidade que você tem em sua máquina virtual;</li>
<li>ou, se você gosta de scripts, há uma <a rel="nofollow" class="external text" href="http://blog.whatsupduck.net/2012/03/powershell-alternative-to-sdelete.html">solução PowerShell</a>, mas que ainda precisa ser repetida para todas as unidades.</li>
</ul>
</li></ul>
<dl><dd><dl>
<dd><pre>PS&gt; ./Write-ZeroesToFreeSpace.ps1 -Root <i>c:\</i> -PercentFree 0</pre></dd>
<dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Este script deve ser executado em um ambiente PowerShell com privilégios de administrador. Por padrão, scripts não podem ser executados, certifique-se de que a política de execução esteja pelo menos em <code>RemoteSigned</code> e não em <code>Restricted</code>. Isso pode ser verificado com <code>Get-ExecutionPolicy</code> e a política necessária pode ser definida com <code>Set-ExecutionPolicy RemoteSigned</code>.</div></dd>
</dl></dd></dl>
<p>Uma vez que o espaço livre no disco tenha sido limpo, desligue sua máquina virtual.
</p>
<p>Na próxima vez que você iniciar sua máquina virtual, é recomendado fazer uma verificação do sistema de arquivos.
</p>
<ul>
<li>Em sistemas baseados em UNIX, você pode usar <code>fsck</code> manualmente;
<ul><li>Em sistemas GNU/Linux, e, portanto, no Arch Linux, você pode forçar uma verificação de disco na inicialização <a href="../en/Fsck.html#Forcing_the_check" title="Fsck">graças a um parâmetro de inicialização do kernel</a>;</li></ul>
</li>
<li>Em sistemas Windows, você pode usar:
<ul>
<li>ou <code>chkdsk <i>c:</i> /F</code> onde <code><i>c:</i></code> precisa ser substituído por cada disco que você precisa verificar e corrigir erros;</li>
<li>ou <code>FsckDskAll</code> <a rel="nofollow" class="external text" href="https://archive.org/details/ChkDskAll">daqui</a> que é basicamente o mesmo software que <code>chkdsk</code>, mas sem a necessidade de repetir o comando para todas as unidades;</li>
</ul>
</li>
</ul>
<p>Agora, remova os zeros do arquivo <i>.vdi</i> com <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-modifyvdi">VBoxManage modifyhd</a>:
</p>
<pre>$ VBoxManage modifyhd <i>your_disk.vdi</i> --compact
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se sua máquina virtual tem snapshots, você precisa aplicar o comando acima em cada arquivo <code>.vdi</code> que você tem.</div>
<h4><span class="mw-headline" id="TRIM">TRIM</span></h4>
<p>O VirtualBox oferece simulação de TRIM em arquivos VDI por meio de uma opção experimental de anexo "discard". Esta opção é não documentada e pode ser acessada por <a rel="nofollow" class="external text" href="https://superuser.com/a/728469/">linha de comando ou edição de arquivo .vbox</a>. Quando ativada, comandos TRIM do sistema operacional convidado fazem com que a parte correspondente do arquivo VDI seja compactada.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Usar esta opção sem o Host I/O Cache é conhecido por causar travamentos.</div>
<h3><span class="mw-headline" id="Aumentar_discos_virtuais">Aumentar discos virtuais</span></h3>
<h4><span class="mw-headline" id="Procedimento_geral">Procedimento geral</span></h4>
<p>Se você está ficando sem espaço devido ao pequeno tamanho do disco rígido selecionado quando criou sua máquina virtual, a solução aconselhada pelo manual do VirtualBox é usar <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-modifyvdi">VBoxManage modifyhd</a>. No entanto, este comando só funciona para discos VDI e VHD e apenas para as variantes alocadas dinamicamente. Se você quiser redimensionar um disco virtual de tamanho fixo também, continue lendo este truque que funciona tanto para uma máquina virtual Windows quanto para UNIX.
</p>
<p>Primeiro, crie um novo disco virtual ao lado do que você deseja aumentar:
</p>
<pre>$ VBoxManage createmedium disk -filename <i>new.vdi</i> --size <i>10000</i>
</pre>
<p>onde o tamanho está em MiB, neste exemplo 10000MiB ≈ 10GiB, e <i>new.vdi</i> é o nome do novo disco rígido a ser criado.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Por padrão, este comando usa a variante de formato de arquivo <i>Standard</i> (correspondente a alocação dinâmica) e, portanto, não usará a mesma variante de formato de arquivo que o seu disco virtual original. Se o seu <i>old.vdi</i> tem um tamanho fixo e você deseja manter esta variante, adicione o parâmetro <code>--variant Fixed</code>.</div>
<p>Em seguida, o antigo disco virtual precisa ser clonado para o novo, o que pode levar algum tempo:
</p>
<pre>$ VBoxManage clonemedium disk <i>old.vdi</i> <i>new.vdi</i> --existing
</pre>
<p>Desconecte o antigo disco rígido e conecte o novo, substitua todos os argumentos em itálico pelos seus próprios:
</p>
<pre>$ VBoxManage storageattach <i>virtual_machine_name</i> --storagectl <i>SATA</i> --port <i>0</i> --medium none
$ VBoxManage storageattach <i>virtual_machine_name</i> --storagectl <i>SATA</i> --port <i>0</i> --medium <i>new.vdi</i> --type hdd
</pre>
<p>Para obter o nome do controlador de armazenamento e o número da porta, você pode usar o comando <code>VBoxManage showvminfo <i>virtual_machine_name</i></code>. Entre a saída, você obterá um resultado como este (o que você está procurando está em itálico):
</p>
<pre>[...]
Storage Controller Name (0):            IDE
Storage Controller Type (0):            PIIX4
Storage Controller Instance Number (0): 0
Storage Controller Max Port Count (0):  2
Storage Controller Port Count (0):      2
Storage Controller Bootable (0):        on
Storage Controller Name (1):            SATA
Storage Controller Type (1):            IntelAhci
Storage Controller Instance Number (1): 0
Storage Controller Max Port Count (1):  30
Storage Controller Port Count (1):      1
Storage Controller Bootable (1):        on
IDE (1, 0): Empty
<i>SATA</i> (<i>0</i>, 0): /home/wget/IT/Virtual_machines/GNU_Linux_distributions/ArchLinux_x64_EFI/Snapshots/{6bb17af7-e8a2-4bbf-baac-fbba05ebd704}.vdi (UUID: 6bb17af7-e8a2-4bbf-baac-fbba05ebd704)
[...]
</pre>
<p>Baixe <a rel="nofollow" class="external text" href="https://gparted.org/download.php">a imagem ao vivo do GParted</a> e monte-a como um arquivo de disco de CD/DVD virtual, inicie sua máquina virtual, aumente/mova suas partições, desmonte a imagem ao vivo do GParted e reinicie.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Em discos GPT, aumentar o tamanho do disco resultará no cabeçalho GPT de backup não estar no final do dispositivo. O GParted perguntará para corrigir isso, clique em <i>Corrigir</i> ambas as vezes. Em discos MBR, você não terá esse problema, pois esta tabela de partição não tem um trailer no final do disco.</div>
<p>Finalmente, desregistre o disco virtual do VirtualBox e remova o arquivo:
</p>
<pre>$ VBoxManage closemedium disk <i>old.vdi</i>
$ rm <i>old.vdi</i>
</pre>
<h4><span class="mw-headline" id="Aumentando_o_tamanho_de_discos_VDI">Aumentando o tamanho de discos VDI</span></h4>
<p>Se o seu disco é um VDI, execute:
</p>
<pre>$ VBoxManage modifymedium disk <i>your_virtual_disk.vdi</i> --resize <i>the_new_size</i>
</pre>
<p>Depois, retorne ao passo do GParted para aumentar o tamanho da partição no disco virtual.
</p>
<h3><span class="mw-headline" id="Substituir_um_disco_virtual_manualmente_no_arquivo_.vbox">Substituir um disco virtual manualmente no arquivo .vbox</span></h3>
<p>Se você acha que editar um simples arquivo <i>XML</i> é mais conveniente do que usar a GUI ou o <code>VBoxManage</code> e quer substituir (ou adicionar) um disco virtual à sua máquina virtual, no arquivo de configuração <i>.vbox</i> correspondente à sua máquina virtual, simplesmente substitua o UUID, o local do arquivo e o formato pelas suas necessidades:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ArchLinux_vm.vbox</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;HardDisk uuid="<i>{670157e5-8bd4-4f7b-8b96-9ee412a712b5}</i>" location="<i>ArchLinux_vm.vdi</i>" format="<i>VDI</i>" type="Normal"/&gt;</pre>
<p>então, na subtag <code>&lt;AttachedDevice&gt;</code> de <code>&lt;StorageController&gt;</code>, substitua o UUID pelo novo.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ArchLinux_vm.vbox</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;AttachedDevice type="HardDisk" port="0" device="0"&gt;
  &lt;Image uuid="<i>{670157e5-8bd4-4f7b-8b96-9ee412a712b5}</i>"/&gt;
&lt;/AttachedDevice&gt;</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você não sabe o UUID da unidade que deseja adicionar, você pode usar o comando <code>VBoxManage showhdinfo <i>file</i></code>. Se você usou anteriormente <code>VBoxManage clonehd</code> para copiar/converter seu disco virtual, este comando deve ter exibido o UUID logo após a cópia/conversão ser concluída. Usar um UUID aleatório não funciona, pois cada <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch05.html#cloningvdis">UUID é armazenado dentro de cada imagem de disco</a>.</div>
<h4>
<span id="Transfer.C3.AAncia_entre_hospedeiro_Linux_e_outro_sistema_operacional"></span><span class="mw-headline" id="Transferência_entre_hospedeiro_Linux_e_outro_sistema_operacional">Transferência entre hospedeiro Linux e outro sistema operacional</span>
</h4>
<p>As informações sobre o caminho para os discos rígidos e os snapshots são armazenadas entre as tags <code>&lt;HardDisks&gt; .... &lt;/HardDisks&gt;</code> no arquivo com extensão <i>.vbox</i>. Você pode editá-las manualmente ou usar este script, onde você precisará alterar apenas o caminho ou usar os padrões, assumindo que o arquivo <i>.vbox</i> está no mesmo diretório do disco rígido virtual e da pasta de snapshots. Ele imprimirá a nova configuração no stdout.
</p>
<pre>#!/bin/sh
NewPath="${PWD}/"
Snapshots="Snapshots/"
Filename="$1"

 awk -v SetPath="$NewPath" -v SnapPath="$Snapshots" '{if(index($0,"&lt;HardDisk uuid=") != 0){A=$3;split(A,B,"=");
L=B[2];
 gsub(/\"/,"",L);
  sub(/^.*\//,"",L);
  sub(/^.*\\/,"",L);
 if(index($3,"{") != 0){SnapS=SnapPath}else{SnapS=""};
  print $1" "$2" location="\"SetPath SnapS L"\" "$4" "$5}
else print $0}' "$Filename"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Se você preparar a máquina virtual para uso em um hospedeiro Windows, então no final do nome do caminho você deve usar a barra invertida \ em vez de /.</li>
<li>O script detecta snapshots procurando por <code>{</code> no nome do arquivo.</li>
<li>Para fazer funcionar em um novo hospedeiro, você precisará adicioná-la primeiro ao registro clicando em <b>Máquina -&gt; Adicionar...</b> ou use os atalhos Ctrl+A e, em seguida, navegue até o arquivo <i>.vbox</i> que contém a configuração ou use a linha de comando <code>VBoxManage registervm <i>filename</i>.vbox</code>
</li>
</ul>
</div>
<h3><span class="mw-headline" id="Clonar_um_disco_virtual_e_atribuir_um_novo_UUID_a_ele">Clonar um disco virtual e atribuir um novo UUID a ele</span></h3>
<p>UUIDs são amplamente usados pelo VirtualBox. Cada máquina virtual e cada disco virtual de uma máquina virtual devem ter um UUID diferente. Quando você inicia uma máquina virtual no VirtualBox, o VirtualBox mantém o controle de todos os UUIDs da sua instância de máquina virtual. Veja o <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-list">VBoxManage list</a> para listar os itens registrados no VirtualBox.
</p>
<p>Se você clonou um disco virtual manualmente copiando o arquivo do disco virtual, você precisará atribuir um novo UUID ao disco virtual clonado se quiser usar o disco na mesma máquina virtual ou mesmo em outra (se aquela já foi aberta, e, portanto, registrada, no VirtualBox).
</p>
<p>Você pode usar este comando para atribuir um novo UUID a um disco virtual:
</p>
<pre>$ VBoxManage internalcommands sethduuid <i>/path/to/disk.vdi</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Para evitar copiar o disco virtual e atribuir um novo UUID ao seu arquivo manualmente, você pode usar <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-clonevdi">VBoxManage clonehd</a>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Os comandos acima suportam todos os <a href="#Formatos_suportados_pelo_VirtualBox">formatos de disco virtual suportados pelo VirtualBox</a>.</div>
<h2><span class="mw-headline" id="Dicas_e_truques">Dicas e truques</span></h2>
<h3>
<span id="Importar.2Fexportar_m.C3.A1quinas_virtuais_VirtualBox_de.2Fpara_outros_hipervisores"></span><span class="mw-headline" id="Importar/exportar_máquinas_virtuais_VirtualBox_de/para_outros_hipervisores">Importar/exportar máquinas virtuais VirtualBox de/para outros hipervisores</span>
</h3>
<p>Se você planeja usar sua máquina virtual em outro hipervisor ou deseja importar no VirtualBox uma máquina virtual criada com outro hipervisor, pode estar interessado em ler as etapas a seguir.
</p>
<h4>
<span id="Remover_adi.C3.A7.C3.B5es"></span><span class="mw-headline" id="Remover_adições">Remover adições</span>
</h4>
<p>Adições de convidado estão disponíveis na maioria das soluções de hipervisor: o VirtualBox vem com as Guest Additions, a VMware com as VMware Tools, a Parallels com as Parallels Tools, etc. Esses componentes adicionais são projetados para serem instalados dentro de uma máquina virtual após o sistema operacional convidado ter sido instalado. Eles consistem em drivers de dispositivos e aplicativos de sistema que otimizam o sistema operacional convidado para melhor desempenho e usabilidade <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch04.html">fornecendo esses recursos</a>.
</p>
<p>Se você instalou as adições em sua máquina virtual, desinstale-as primeiro. Seu convidado, especialmente se estiver usando um sistema operacional da família Windows, pode se comportar de maneira estranha, travar ou mesmo não inicializar se você ainda estiver usando os drivers específicos em outro hipervisor.
</p>
<h4><span class="mw-headline" id="Use_o_formato_de_disco_virtual_correto">Use o formato de disco virtual correto</span></h4>
<p>Esta etapa dependerá da capacidade de converter a imagem do disco virtual diretamente ou não.
</p>
<h5>
<span id="Ferramentas_autom.C3.A1ticas"></span><span class="mw-headline" id="Ferramentas_automáticas">Ferramentas automáticas</span>
</h5>
<p>Algumas empresas fornecem ferramentas que oferecem a capacidade de criar máquinas virtuais a partir de um sistema operacional Windows ou GNU/Linux localizado em uma máquina virtual ou mesmo em uma instalação nativa. Com tal produto, você não precisa aplicar esta e as etapas seguintes e pode parar de ler aqui.
</p>
<ul>
<li>
<i><a rel="nofollow" class="external text" href="https://www.parallels.com/products/transporter">Parallels Transporter</a></i> que é pago, é um produto da Parallels Inc. Esta solução basicamente consiste em um software chamado <i>agente</i> que será instalado no convidado que você deseja importar/converter. Então, o Parallels Transporter, <i>que só funciona no OS X</i>, criará uma máquina virtual a partir desse <i>agente</i>, que é contatado por USB ou rede Ethernet.</li>
<li>
<i><a rel="nofollow" class="external text" href="https://www.vmware.com/products/converter/">VMware vCenter Converter</a><sup title="Status da última verificação: 404">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2024-07-30 ⓘ]</sup></i> que é gratuito mediante registro no site da VMware, funciona quase da mesma forma que o Parallels Transporter, mas o software que reunirá os dados para criar a máquina virtual só funciona em uma plataforma Windows.</li>
</ul>
<h5>
<span id="Convers.C3.A3o_manual"></span><span class="mw-headline" id="Conversão_manual">Conversão manual</span>
</h5>
<p>Primeiro, familiarize-se com os <a href="#Formatos_suportados_pelo_VirtualBox">formatos suportados pelo VirtualBox</a> e <a href="https://en.wikipedia.org/wiki/Comparison_of_platform_virtual_machines#Image_type_compatibility" class="extiw" title="wikipedia:Comparison of platform virtual machines">aqueles suportados por hipervisores de terceiros</a>.
</p>
<ul>
<li>Importar ou exportar uma máquina virtual de/para uma solução VMware não é problema se você usar o formato de disco VMDK ou OVF, caso contrário, converter <a href="#Convers%C3%A3o_de_formato_de_imagem_de_disco">VMDK para VDI e VDI para VMDK</a> é possível e a ferramenta VMware vCenter Converter mencionada acima está disponível.</li>
<li>Importar ou exportar de/para QEMU também não é problema: alguns formatos QEMU são suportados diretamente pelo VirtualBox e a conversão entre <a href="#QCOW">QCOW2 para VDI e VDI para QCOW2</a> ainda está disponível, se necessário.</li>
<li>Importar ou exportar de/para o hipervisor Parallels é o caminho mais difícil: a Parallels só suporta seu próprio formato HDD (até mesmo o formato OVF padrão e portátil não é suportado!).</li>
</ul>
<dl><dd><ul>
<li>Para exportar sua máquina virtual para a Parallels, você precisará usar a ferramenta Parallels Transporter descrita acima.</li>
<li>Para importar sua máquina virtual para o VirtualBox, você precisará usar o VMware vCenter Converter descrito acima para converter a máquina virtual para o formato VMware primeiro. Em seguida, aplique a solução para migrar do VMware.</li>
</ul></dd></dl>
<h4>
<span id="Crie_o_arquivo_de_configura.C3.A7.C3.A3o_da_m.C3.A1quina_virtual_para_o_seu_hipervisor"></span><span class="mw-headline" id="Crie_o_arquivo_de_configuração_da_máquina_virtual_para_o_seu_hipervisor">Crie o arquivo de configuração da máquina virtual para o seu hipervisor</span>
</h4>
<p>Cada hipervisor tem seu próprio arquivo de configuração da máquina virtual: <code>.vbox</code> para o VirtualBox, <code>.vmx</code> para a VMware, um arquivo <code>config.pvs</code> localizado no pacote da máquina virtual (arquivo <code>.pvm</code>), etc. Você terá, portanto, que recriar uma nova máquina virtual no seu novo hipervisor de destino e especificar sua configuração de hardware o mais próximo possível da sua máquina virtual inicial.
</p>
<p>Preste especial atenção à interface do firmware (BIOS ou UEFI) usada para instalar o sistema operacional convidado. Embora uma opção esteja disponível para escolher entre estas 2 interfaces no VirtualBox e nas soluções Parallels, na VMware, você terá que adicionar manualmente a seguinte linha ao seu arquivo <i>.vmx</i>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ArchLinux_vm.vmx</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">firmware = "efi"</pre>
<p>Finalmente, peça ao seu hipervisor para usar o disco virtual existente que você converteu e inicie a máquina virtual.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>No VirtualBox, se você não quiser navegar pela GUI inteira para encontrar o local certo para adicionar seu novo dispositivo de unidade virtual, você pode <a href="#Substituir_um_disco_virtual_manualmente_no_arquivo_.vbox">Substituir um disco virtual manualmente no arquivo .vbox</a>, ou usar o <code>VBoxManage storageattach</code> descrito em <a href="#Aumentando_o_tamanho_de_discos_VDI">#Aumentando o tamanho de discos VDI</a> ou na <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#vboxmanage-storageattach">página do manual do VirtualBox</a>.</li>
<li>Da mesma forma, nos produtos VMware, você pode substituir o local do disco virtual atual adaptando o local do arquivo <i>.vmdk</i> no seu arquivo de configuração <i>.vmx</i>.</li>
</ul>
</div>
<h3>
<span id="Gerenciamento_de_inicializa.C3.A7.C3.A3o_de_m.C3.A1quinas_virtuais"></span><span class="mw-headline" id="Gerenciamento_de_inicialização_de_máquinas_virtuais">Gerenciamento de inicialização de máquinas virtuais</span>
</h3>
<h4>
<span id="Iniciar_m.C3.A1quinas_virtuais_com_um_servi.C3.A7o_.28autostart.29"></span><span class="mw-headline" id="Iniciar_máquinas_virtuais_com_um_serviço_(autostart)">Iniciar máquinas virtuais com um serviço (autostart)</span>
</h4>
<p>A seguir estão os detalhes de implementação de um serviço systemd que será usado para considerar uma máquina virtual como um serviço.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/vboxvmservice@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=VBox Virtual Machine %i Service
Requires=systemd-modules-load.service
After=systemd-modules-load.service

[Service]
User=<i>username</i>
Group=vboxusers
ExecStart=/usr/bin/VBoxManage startvm %i --type <i>startmode</i>
ExecStop=/usr/bin/VBoxManage controlvm %i <i>stopmode</i>
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Substitua <code><i>username</i></code> por um usuário que seja membro do grupo <code>vboxusers</code>. Certifique-se de que o usuário escolhido seja o mesmo usuário que criará/importará máquinas virtuais, caso contrário, o usuário não verá os aparelhos de máquinas virtuais.</li>
<li>Substitua <code><i>startmode</i></code> por um tipo de frontend de máquina virtual, geralmente <code>gui</code>, <code>headless</code> ou <code>separate</code>
</li>
<li>Substitua <code><i>stopmode</i></code> pelo estado desejado de desligamento, geralmente <code>savestate</code> ou <code>acpipowerbutton</code>
</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você tem várias máquinas virtuais gerenciadas pelo Systemd e elas não estão desligando corretamente, tente adicionar <code>KillMode=none</code> e <code>TimeoutStopSec=40</code> no final da seção <code>[Service]</code>.</div>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Enable">Enable</a> a unidade systemd <code>vboxvmservice@<i>your_virtual_machine_name</i></code> para iniciar a máquina virtual na próxima inicialização. Para lançá-la diretamente, simplesmente <a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start">start</a> a unidade systemd.
</p>
<p>O VirtualBox 4.2 introduz <a rel="nofollow" class="external text" href="https://lifeofageekadmin.com/how-to-set-your-virtualbox-vm-to-automatically-startup/">um novo método</a> para sistemas semelhantes ao UNIX terem máquinas virtuais iniciadas automaticamente, além de usar um serviço systemd.
</p>
<h4>
<span id="Iniciar_m.C3.A1quinas_virtuais_com_um_atalho_de_teclado"></span><span class="mw-headline" id="Iniciar_máquinas_virtuais_com_um_atalho_de_teclado">Iniciar máquinas virtuais com um atalho de teclado</span>
</h4>
<p>Pode ser útil iniciar máquinas virtuais diretamente com um atalho de teclado, em vez de usar a interface do VirtualBox (GUI ou CLI). Para isso, você pode simplesmente definir ligações de teclas em <code>.xbindkeysrc</code>. Consulte <a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a> para mais detalhes.
</p>
<p>Exemplo, usando a tecla <code>Fn</code> de um laptop com uma tecla de bateria não utilizada (<code>F3</code> no computador usado neste exemplo):
</p>
<pre>"VBoxManage startvm 'Windows 7'"
m:0x0 + c:244
XF86Battery
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você tem um espaço no nome da sua máquina virtual, então coloque-o entre apóstrofos simples como feito no exemplo acima.</div>
<h3>
<span id="Usar_dispositivo_espec.C3.ADfico_na_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Usar_dispositivo_específico_na_máquina_virtual">Usar dispositivo específico na máquina virtual</span>
</h3>
<h4>
<span id="Usando_webcam_.2F_microfone_USB"></span><span class="mw-headline" id="Usando_webcam_/_microfone_USB">Usando webcam / microfone USB</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Você precisará ter o pacote de extensão VirtualBox instalado antes de seguir as etapas abaixo. Veja <a href="#Pacote_de_extens%C3%A3o">#Pacote de extensão</a> para detalhes.</div>
<p>1. Certifique-se de que a máquina virtual não está em execução e que sua webcam/microfone não está sendo usada.
2. Abra a janela principal do VirtualBox e vá para as configurações da máquina Arch. Vá para a seção USB.
3. Certifique-se de que "Habilitar Controlador USB" está selecionado. Também certifique-se de que "Habilitar Controlador USB 2.0 (EHCI)" está selecionado.
4. Clique no botão "Adicionar filtro a partir do dispositivo" (o cabo com o ícone '+').
5. Selecione seu dispositivo de webcam/microfone USB na lista.
6. Agora clique em OK e inicie sua máquina virtual.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se o seu Microfone não aparecer no menu "Adicionar filtro a partir do dispositivo", tente as opções USB 3.0 e 1.1 (No Passo 3).</div>
<h4><span class="mw-headline" id="Detectando_webcams_e_outros_dispositivos_USB">Detectando webcams e outros dispositivos USB</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Isso não fará muita diferença se você estiver executando um sistema operacional Linux/Unix dentro da sua máquina virtual, pois a maioria não tem recursos de detecção automática.</div>
<p>Se o dispositivo que você está procurando não aparecer em nenhum dos menus na seção acima e você tiver tentado todas as três opções de controlador USB, inicie sua máquina virtual três vezes separadas. Uma vez usando o controlador USB 1.1, outra usando o controlador USB 2.0, etc. Deixe a máquina virtual em execução por pelo menos 5 minutos após a inicialização. Às vezes, o Windows detectará o dispositivo automaticamente. Certifique-se de filtrar quaisquer dispositivos que não sejam um teclado ou um mouse para que eles não iniciem na inicialização. Isso garante que o Windows detectará o dispositivo na inicialização.
</p>
<h3><span class="mw-headline" id="Acessar_um_servidor_convidado">Acessar um servidor convidado</span></h3>
<p>Para acessar <a href="https://en.wikipedia.org/wiki/Apache_HTTP_Server" class="extiw" title="wikipedia:Apache HTTP Server">servidor Apache</a> em uma Máquina Virtual do host apenas, execute as seguintes linhas no host:
</p>
<pre>$ VBoxManage setextradata GuestName "VBoxInternal/Devices/<i>pcnet</i>/0/LUN#0/Config/Apache/HostPort" <i>8888</i>
$ VBoxManage setextradata GuestName "VBoxInternal/Devices/<i>pcnet</i>/0/LUN#0/Config/Apache/GuestPort" <i>80</i>
$ VBoxManage setextradata GuestName "VBoxInternal/Devices/<i>pcnet</i>/0/LUN#0/Config/Apache/Protocol" TCP
</pre>
<p>onde <code><i>8888</i></code> é a porta que o host deve ouvir e <code><i>80</i></code> é a porta que a máquina virtual enviará o sinal do Apache.
</p>
<p>Para usar uma porta inferior a 1024 na máquina host, serão necessárias alterações no firewall dessa máquina host. Isso também pode ser configurado para funcionar com SSH ou outros serviços alterando "Apache" para o serviço correspondente e as portas.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <code>pcnet</code> refere-se ao cartão de rede da máquina virtual. Se você usa um cartão Intel nas configurações da sua máquina virtual, altere <code>pcnet</code> para <code>e1000</code>.</div>
<p>Para se comunicar entre o convidado e o host do VirtualBox usando ssh, a porta do servidor deve ser encaminhada em Configurações &gt; Rede. Ao conectar do cliente/host, conecte-se ao endereço IP da máquina cliente/host, ao contrário da conexão da outra máquina. Isso ocorre porque a conexão será feita por meio de um adaptador virtual.
</p>
<h3>
<span id="Acelera.C3.A7.C3.A3o_D3D_em_convidados_Windows"></span><span class="mw-headline" id="Aceleração_D3D_em_convidados_Windows">Aceleração D3D em convidados Windows</span>
</h3>
<p>Versões recentes do Virtualbox têm suporte para acelerar OpenGL dentro dos convidados. Isso pode ser ativado com uma simples caixa de seleção nas configurações da máquina, logo abaixo de onde a RAM de vídeo é definida, e instalando as Guest Additions do Virtualbox. No entanto, a maioria dos jogos Windows usa Direct3D (parte do DirectX), não OpenGL, e, portanto, não é beneficiada por esse método. No entanto, é possível obter aceleração Direct3D acelerada em seus convidados Windows emprestando as bibliotecas d3d do Wine, que traduzem chamadas d3d para OpenGL, que é então acelerado. Essas bibliotecas agora fazem parte do software de adições de convidado do Virtualbox.
</p>
<p>Após habilitar a aceleração OpenGL conforme descrito acima, reinicie o convidado no modo de segurança (pressione F8 antes da tela do Windows aparecer, mas depois que a tela do Virtualbox desaparecer), e instale as Guest Additions do Virtualbox, durante a instalação, habilite a caixa de seleção "Suporte Direct3D". Reinicie no modo normal e você deverá ter aceleração Direct3D.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Este hack pode ou não funcionar para alguns jogos, dependendo das verificações de hardware que eles fazem e das partes do D3D que usam.</li>
<li>Isso foi testado no Windows XP, 7 e 8.1. Se o método não funcionar na sua versão do Windows, adicione os dados aqui.</li>
</ul>
</div>
<h3><span class="mw-headline" id="VirtualBox_em_um_pendrive_USB">VirtualBox em um pendrive USB</span></h3>
<p>Ao usar o VirtualBox em um pendrive USB, por exemplo, para iniciar uma máquina instalada com uma imagem ISO, você terá que criar manualmente VDMKs dos drives existentes. No entanto, uma vez que os novos VDMKs são salvos e você passa para outra máquina, você pode ter problemas ao iniciar uma máquina apropriada novamente. Para se livrar deste problema, você pode usar o seguinte script para iniciar o VirtualBox. Este script limpará e desregistrará arquivos VMDK antigos e criará novos VMDKs apropriados para você:
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> O seguinte script analisa a saída do ls, o que é <a rel="nofollow" class="external text" href="https://github.com/koalaman/shellcheck/wiki/SC2010">muito frágil</a> e <a rel="nofollow" class="external text" href="https://github.com/koalaman/shellcheck/wiki/SC2012">conhecido por quebrar</a>. (Discuss in <a rel="nofollow" class="external text" href="../pt/Talk:VirtualBox.html">Talk:VirtualBox (Português)</a>)</div>
</div>
<pre>#!/bin/sh
# Apagar entradas antigas de VMDK
rm ~/.VirtualBox/*.vmdk

# Limpar registro VBox
sed -i '/sd/d' ~/.VirtualBox/VirtualBox.xml

# Remover discos rígidos antigos de máquinas existentes
find ~/.VirtualBox/Machines -name \*.xml | while read -r file; do
  line=$(grep -e "type\=\"HardDisk\"" -n "$file" | cut -d ':' -f 1)
  if [ -n "$line" ]; then
    sed -i "${line}"d "$file"
    sed -i "${line}"d "$file"
    sed -i "${line}"d "$file"
  fi
  sed -i "/rg/d" "$file"
done

# Excluir arquivos -prev criados pelo VirtualBox
find  ~/.VirtualBox/Machines -name \*-prev -exec rm '{}' \;

# Recriar VMDKs
ls -l /dev/disk/by-uuid | cut -d ' ' -f 9,11 | while read -r ln; do
  if [ -n "$ln" ]; then
    uuid=$(echo "$ln" | cut -d ' ' -f 1)
    device=$(echo "$ln" | cut -d ' ' -f 2 | cut -d '/' -f 3 | cut -b 1-3)

    # determinar se o drive está montado
    checkstr1=$(mount | grep "$uuid")
    checkstr2=$(mount | grep "$device")
    checkstr3=$(ls ~/.VirtualBox/*.vmdk | grep "$device")
    if [ -z "$checkstr1" ] &amp;&amp; [ -z "$checkstr2" ] &amp;&amp; [ -z "$checkstr3" ]; then
      VBoxManage internalcommands createrawvmdk -filename ~/.VirtualBox/"$device".vmdk -rawdisk /dev/"$device" -register
    fi
  fi
done

# Iniciar VirtualBox
VirtualBox
</pre>
<p>Observe que seu usuário deve ser adicionado ao grupo "disk" para criar VMDKs de drives existentes.
</p>
<h3>
<span id="Executar_uma_instala.C3.A7.C3.A3o_nativa_do_Arch_Linux_dentro_do_VirtualBox"></span><span class="mw-headline" id="Executar_uma_instalação_nativa_do_Arch_Linux_dentro_do_VirtualBox">Executar uma instalação nativa do Arch Linux dentro do VirtualBox</span>
</h3>
<p>Se você tem um sistema dual boot entre Arch Linux e outro sistema operacional, pode se tornar tedioso alternar entre eles se você precisar trabalhar nos dois. Você também pode experimentar problemas de desempenho ou compatibilidade ao usar uma máquina virtual, o que pode afetar sua capacidade de realizar certas tarefas.
</p>
<p>Este guia permitirá que você reutilize, em uma máquina virtual, sua instalação nativa do Arch Linux quando estiver executando seu segundo sistema operacional. Desta forma, você mantém a capacidade de executar cada sistema operacional nativamente, mas tem a opção de executar sua instalação do Arch Linux dentro de uma máquina virtual.
</p>
<h4>
<span id="Certifique-se_de_que_voc.C3.AA_tem_um_esquema_de_nomea.C3.A7.C3.A3o_persistente"></span><span class="mw-headline" id="Certifique-se_de_que_você_tem_um_esquema_de_nomeação_persistente">Certifique-se de que você tem um esquema de nomeação persistente</span>
</h4>
<p>Dependendo da configuração do seu disco rígido, os arquivos de dispositivo representando seus discos rígidos podem aparecer de forma diferente quando você executa sua instalação do GNU/Linux nativamente ou em uma máquina virtual. Este problema ocorre ao usar <a href="../en/RAID.html#Implementation" title="RAID">FakeRAID</a>, por exemplo. O dispositivo RAID falso será mapeado em <code>/dev/mapper/</code> quando você executar sua distribuição GNU/Linux nativamente, enquanto os dispositivos ainda são acessíveis separadamente. No entanto, na sua máquina virtual, ele pode aparecer sem qualquer mapeamento em <code>/dev/sdaX</code>, por exemplo, porque os drivers que controlam o RAID falso no seu sistema operacional host (por exemplo, Windows) estão abstraindo o dispositivo RAID falso.
</p>
<p>Para contornar esse problema, precisaremos usar um esquema de endereçamento que seja persistente em ambos os sistemas. Isso pode ser alcançado usando <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a>. Certifique-se de que seu <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> e o arquivo <a href="../en/Fstab.html" title="Fstab">fstab</a> estejam usando UUIDs, caso contrário, corrija esse problema. Leia <a href="../en/Fstab.html" title="Fstab">fstab</a> e <a href="../en/Persistent_block_device_naming.html" title="Persistent block device naming">Persistent block device naming</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> 
<ul>
<li>Certifique-se de que sua partição host seja acessível apenas como somente leitura pela sua máquina virtual Arch Linux, isso evitará riscos de corrupções se você corromper essa partição host por escrever nela por falta de atenção.</li>
<li>Você NUNCA deve permitir que o VirtualBox inicialize a partir da entrada do seu segundo sistema operacional, que, como lembrete, é usado como o host para esta máquina virtual! Tenha assim um cuidado especial, especialmente se a entrada padrão do seu boot loader/gerenciador de boot for seu outro sistema operacional. Dê um tempo maior ou coloque-o abaixo na ordem de preferências.</li>
</ul>
</div>
<h4>
<span id="Certifique-se_de_que_sua_imagem_mkinitcpio_est.C3.A1_correta"></span><span class="mw-headline" id="Certifique-se_de_que_sua_imagem_mkinitcpio_está_correta">Certifique-se de que sua imagem mkinitcpio está correta</span>
</h4>
<p>Certifique-se de que sua configuração <a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a> usa o <a href="../en/Mkinitcpio.html#HOOKS" title="Mkinitcpio">HOOK</a> <code>block</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
HOOKS="base udev autodetect modconf <i>block</i> filesystems keyboard fsck"
...</pre>
<p>Se ele não estiver presente, adicione-o e <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a>.
</p>
<h4>
<span id="Crie_uma_configura.C3.A7.C3.A3o_de_m.C3.A1quina_virtual_para_inicializar_a_partir_do_drive_f.C3.ADsico"></span><span class="mw-headline" id="Crie_uma_configuração_de_máquina_virtual_para_inicializar_a_partir_do_drive_físico">Crie uma configuração de máquina virtual para inicializar a partir do drive físico</span>
</h4>
<h5><span class="mw-headline" id="Crie_uma_imagem_.vmdk_de_disco_bruto">Crie uma imagem .vmdk de disco bruto</span></h5>
<p>Agora, precisamos criar uma nova máquina virtual que usará um <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk">disco RAW</a> como unidade virtual, para isso usaremos um arquivo VMDK de ~ 1Kio que será mapeado para um disco físico. Infelizmente, o VirtualBox não tem essa opção na GUI, então teremos que usar o console e um comando interno do <code>VBoxManage</code>.
</p>
<p>Inicialize o host que usará a máquina virtual Arch Linux. O comando precisará ser adaptado de acordo com o host que você tem.
</p>
<dl>
<dt>Em um host GNU/Linux</dt>
<dd></dd>
</dl>
<p>Há 3 maneiras de conseguir isso: fazer login como root, mudar o direito de acesso do dispositivo com <code>chmod</code>, adicionar seu usuário ao grupo <code>disk</code>. Este último é o mais elegante, vamos prosseguir dessa maneira:
</p>
<pre># gpasswd -a <i>your_user</i> disk
</pre>
<p>Aplique as novas configurações do grupo com:
</p>
<pre>$ newgrp
</pre>
<p>Agora, você pode usar o comando:
</p>
<pre>$ VBoxManage internalcommands createrawvmdk -filename <i>/path/to/file.vmdk</i> -rawdisk <i>/dev/sdb</i> -register
</pre>
<p>Adapte o comando acima para a sua necessidade, especialmente o caminho e o nome do arquivo do local VMDK e a localização do disco bruto a ser mapeado que contém sua instalação do Arch Linux.
</p>
<dl>
<dt>Em um host Windows</dt>
<dd></dd>
</dl>
<p>
Abra um prompt de comando que deve ser executado como administrador. </p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> No Windows, abra seu menu iniciar/tela inicial, digite <code>cmd</code>, e digite <code>Ctrl+Shift+Enter</code>, este é um atalho para executar o programa selecionado com direitos de administrador.</div>
<p>
No Windows, como a convenção de nome de arquivo do disco é diferente do UNIX, use este comando para determinar quais drives você tem no seu sistema Windows e suas localizações:</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># wmic diskdrive get name,size,model</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Model                               Name                Size
WDC WD40EZRX-00SPEB0 ATA Device     \\.\PHYSICALDRIVE1  4000783933440
KINGSTON SVP100S296G ATA Device     \\.\PHYSICALDRIVE0  96024821760
Hitachi HDT721010SLA360 ATA Device  \\.\PHYSICALDRIVE2  1000202273280
Innostor Ext. HDD USB Device        \\.\PHYSICALDRIVE3  1000202273280</pre>
<p>Neste exemplo, como a convenção do Windows é <code>\\.\PhysicalDriveX</code> onde X é um número a partir de 0, <code>\\.\PHYSICALDRIVE1</code> pode ser análogo a <code>/dev/sdb</code> da terminologia de disco do Linux.
</p>
<p>Para usar o comando <code>VBoxManage</code> no Windows, você pode alterar o diretório atual para a pasta de instalação do VirtualBox primeiro com <code>cd C:\Program Files\Oracle\VirtualBox\</code>
</p>
<pre># .\VBoxManage.exe internalcommands createrawvmdk -filename C:\file.vmdk -rawdisk \\.\PHYSICALDRIVE1
</pre>
<p>ou use o caminho absoluto:
</p>
<pre># "C:\Program Files\Oracle\VirtualBox\VBoxManage.exe" internalcommands createrawvmdk -filename C:\file.vmdk -rawdisk \\.\PHYSICALDRIVE1
</pre>
<dl>
<dt>Em outro sistema operacional host</dt>
<dd></dd>
</dl>
<p>Há outras limitações em relação ao comando mencionado anteriormente quando usado em outros sistemas operacionais como OS X, portanto, <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk">leia atentamente a página do manual</a>, se você for afetado.
</p>
<h5>
<span id="Criar_o_arquivo_de_configura.C3.A7.C3.A3o_da_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Criar_o_arquivo_de_configuração_da_máquina_virtual">Criar o arquivo de configuração da máquina virtual</span>
</h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Para usar o comando VBoxManage no Windows, você precisa mudar o diretório atual para a pasta de instalação do VirtualBox primeiro: cd C:\Program Files\Oracle\VirtualBox\.</li>
<li>O Windows usa barras invertidas em vez de barras, então substitua todas as ocorrências de "/" por "\" nos comandos a seguir quando for usá-los.</li>
</ul>
</div>
<p>Depois, precisamos criar uma nova máquina (substitua <i>virtual_machine_name</i> conforme sua conveniência) e registrá-la no VirtualBox.
</p>
<pre>$ VBoxManage createvm -name <i>virtual_machine_name</i> -register
</pre>
<p>Então, o novo disco bruto precisa ser anexado à máquina. Isso dependerá se seu computador ou, na verdade, a raiz de sua instalação nativa do Arch Linux está em um controlador IDE ou SATA.
</p>
<p>Se você precisar de um controlador IDE:
</p>
<pre>$ VBoxManage storagectl <i>virtual_machine_name</i> --name "IDE Controller" --add ide
$ VBoxManage storageattach <i>virtual_machine_name</i> --storagectl "IDE Controller" --port 0 --device 0 --type hdd --medium /path/to/file.vmdk
</pre>
<p>caso contrário:
</p>
<pre>$ VBoxManage storagectl <i>virtual_machine_name</i> --name "SATA Controller" --add sata
$ VBoxManage storageattach <i>virtual_machine_name</i> --storagectl "SATA Controller" --port 0 --device 0 --type hdd --medium /path/to/file.vmdk
</pre>
<p>Enquanto você continua usando a CLI, é recomendável usar a GUI do VirtualBox, para personalizar a configuração da máquina virtual. De fato, você deve especificar sua configuração de hardware o mais próximo possível da sua máquina nativa: ativando a aceleração 3D, aumentando a memória de vídeo, configurando a interface de rede, etc.
</p>
<p>Finalmente, você pode querer integrar perfeitamente seu Arch Linux com seu sistema operacional host e permitir copiar e colar entre ambos os sistemas operacionais. Consulte <a href="../en/VirtualBox/Install_Arch_Linux_as_a_guest.html#Install_the_Guest_Additions" title="VirtualBox/Install Arch Linux as a guest">VirtualBox/Install Arch Linux as a guest#Install the Guest Additions</a> para isso, já que esta máquina virtual Arch Linux é basicamente um convidado Arch Linux.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Para o <a href="../en/Xorg.html" title="Xorg">Xorg</a> funcionar nativamente e na máquina virtual, já que obviamente estará usando drivers diferentes, é melhor se não houver <code>/etc/X11/xorg.conf</code>, para que o Xorg possa pegar tudo o que precisa em tempo real. No entanto, se você realmente precisar de sua própria configuração do Xorg, talvez valha a pena definir seu alvo padrão do systemd para <code>multi-user.target</code> com <code>systemctl isolate graphical.target</code> como root (mais detalhes em <a href="../en/Systemd.html#Targets" title="Systemd">Systemd#Targets</a> e <a href="../en/Systemd.html#Change_current_target" title="Systemd">Systemd#Change current target</a>). Dessa forma, a interface gráfica é desabilitada (ou seja, Xorg não é iniciado) e depois de fazer login, você pode <code>startx</code> manualmente com um <code>xorg.conf</code> personalizado.</div>
<h3><span class="mw-headline" id="Instalar_um_sistema_Arch_Linux_nativo_a_partir_do_VirtualBox">Instalar um sistema Arch Linux nativo a partir do VirtualBox</span></h3>
<p>Em alguns casos, pode ser útil instalar um sistema Arch Linux nativo enquanto executa outro sistema operacional: uma maneira de realizar isso é fazer a instalação por meio do VirtualBox em um <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk">disco bruto</a>. Se o sistema operacional existente for baseado em Linux, você pode querer considerar seguir <a href="../en/Install_Arch_Linux_from_existing_Linux.html" class="mw-redirect" title="Install from existing Linux">Install from existing Linux</a> em vez disso.
</p>
<p>Este cenário é muito semelhante a <a href="#Executar_uma_instala%C3%A7%C3%A3o_nativa_do_Arch_Linux_dentro_do_VirtualBox">#Executar uma instalação nativa do Arch Linux dentro do VirtualBox</a>, mas seguirá essas etapas em uma ordem diferente: comece por <a href="#Crie_uma_imagem_.vmdk_de_disco_bruto">#Crie uma imagem .vmdk de disco bruto</a>, depois <a href="#Criar_o_arquivo_de_configura%C3%A7%C3%A3o_da_m%C3%A1quina_virtual">#Criar o arquivo de configuração da máquina virtual</a>.
</p>
<p>Agora, você deve ter uma configuração de máquina virtual funcional cujo disco VMDK virtual está vinculado a um disco real. O processo de instalação é exatamente o mesmo que as etapas descritas em <a href="../en/VirtualBox/Install_Arch_Linux_as_a_guest.html" title="VirtualBox/Install Arch Linux as a guest">VirtualBox/Install Arch Linux as a guest</a>, mas <a href="#Certifique-se_de_que_voc%C3%AA_tem_um_esquema_de_nomea%C3%A7%C3%A3o_persistente">#Certifique-se de que você tem um esquema de nomeação persistente</a> e <a href="#Certifique-se_de_que_sua_imagem_mkinitcpio_est%C3%A1_correta">#Certifique-se de que sua imagem mkinitcpio está correta</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> 
<ul>
<li>Para sistemas BIOS e discos MBR, não instale um carregador de inicialização dentro da sua máquina virtual, isso não funcionará, pois o MBR não está vinculado ao MBR da sua máquina real e seu disco virtual é apenas mapeado para uma partição real sem o MBR.</li>
<li>Para sistemas UEFI sem <a href="https://en.wikipedia.org/wiki/Compatibility_Support_Module#CSM" class="extiw" title="wikipedia:Compatibility Support Module">CSM</a> e discos GPT, a instalação não funcionará de forma alguma, pois:</li>
</ul>
<dl><dd><ul>
<li>a partição <a href="https://en.wikipedia.org/wiki/EFI_System_partition" class="extiw" title="wikipedia:EFI System partition">ESP</a> não é mapeada para o seu disco virtual e o Arch Linux exige que o kernel Linux esteja nela para inicializar como um aplicativo EFI (veja <a href="../en/EFI_boot_stub.html" class="mw-redirect" title="EFISTUB">EFISTUB</a> para detalhes);</li>
<li>e as efivars, se você está instalando o Arch Linux usando o modo EFI trazido pelo VirtualBox, não são as do seu sistema real: as entradas do bootmanager, portanto, não serão registradas.</li>
</ul></dd></dl>
<ul><li>É por isso que é recomendável criar suas partições em uma instalação nativa primeiro, caso contrário, as partições não serão consideradas na sua tabela de partições MBR/GPT.</li></ul>
</div>
<p>Após concluir a instalação, inicialize seu computador nativamente com um meio de instalação do GNU/Linux (seja Arch Linux ou não), <a href="../en/Installation_guide.html#Chroot" title="Installation guide">chroot</a> na sua instalação do Arch Linux instalada e instale e configure um <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a>.
</p>
<h3><span class="mw-headline" id="Instalar_convidado_MacOS">Instalar convidado MacOS</span></h3>
<p>Antes de iniciar a máquina virtual, execute os seguintes comandos na máquina host <a rel="nofollow" class="external autonumber" href="https://medium.com/@twister.mr/installing-macos-to-virtualbox-1fcc5cf22801">[2]</a>:
</p>
<pre>$ VBoxManage modifyvm "MyMacVM" --cpuid-set 00000001 000106e5 00100800 0098e3fd bfebfbff
$ VBoxManage setextradata "MyMacVM" "VBoxInternal/Devices/efi/0/Config/DmiSystemProduct" "iMac11,3"
$ VBoxManage setextradata "MyMacVM" "VBoxInternal/Devices/efi/0/Config/DmiSystemVersion" "1.0"
$ VBoxManage setextradata "MyMacVM" "VBoxInternal/Devices/efi/0/Config/DmiBoardProduct" "Iloveapple"
$ VBoxManage setextradata "MyMacVM" "VBoxInternal/Devices/smc/0/Config/DeviceKey" "ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc"
$ VBoxManage setextradata "MyMacVM" "VBoxInternal/Devices/smc/0/Config/GetKeyFromRealSMC" 1
$ VBoxManage setextradata "MyMacVM" VBoxInternal2/EfiGopMode 4
</pre>
<p>Se você usar um processador AMD e a primeira inicialização travar, você também terá que executar
</p>
<pre>$ VBoxManage modifyvm "MyMacVM" --cpu-profile "Intel Core i7-6700K"
</pre>
<h4>
<span id="Sem_entrada_de_teclado.2Fmouse_ao_tentar_instalar_o_Mojave"></span><span class="mw-headline" id="Sem_entrada_de_teclado/mouse_ao_tentar_instalar_o_Mojave">Sem entrada de teclado/mouse ao tentar instalar o Mojave</span>
</h4>
<p>Se você estiver tentando instalar o Mojave, após fazer as etapas mencionadas acima, o instalador será carregado, mas você pode não conseguir enviar entrada de teclado ou mouse. A razão parece ser que o Mojave não suporta mais os controladores USB 1.1 e, para corrigir o problema, você precisa emular USB 3.0. Para fazer isso, primeiro instale o <a href="#Pacote_de_extens%C3%A3o">pacote de extensão VirtualBox</a>.
</p>
<p>Em seguida, vá para <i>Máquina &gt; Configurações &gt; USB</i> e selecione <i>USB 3.0</i>. A entrada deve funcionar a partir deste ponto.
</p>
<h4>
<span id="Shell_interativo_UEFI_ap.C3.B3s_reiniciar"></span><span class="mw-headline" id="Shell_interativo_UEFI_após_reiniciar">Shell interativo UEFI após reiniciar</span>
</h4>
<p>Se o instalador não conseguir formatar corretamente a unidade inicializável durante a instalação e você acabar em um shell UEFI, insira o seguinte:
</p>
<ol>
<li>Digite <code>exit</code> no prompt UEFI</li>
<li>Selecione <i>Gerenciador de Manutenção de Inicialização</i>
</li>
<li>Selecione <i>Inicializar a partir do arquivo</i>
</li>
</ol>
<p>Agora você será levado a alguns caminhos PCI obscuros. O primeiro é o que você acabou de tentar inicializar e não funcionou. O segundo (ou terceiro) deve ser o com a partição de recuperação do MacOS que você precisa carregar para continuar a instalação. Clique na segunda entrada. Se estiver vazia, pressione <code>Esc</code> para voltar e selecione a terceira entrada. Uma vez que você obtiver um com pastas, clique nas pastas. Deve ser algo como <i>macOS Install Data &gt; Locked Files &gt; Boot Files &gt; boot.efi</i>. Uma vez que você clicar em <i>boot.efi</i>, você deve inicializar no instalador do MacOS e retomar a instalação. Observe que alguns dos subdiretórios podem estar faltando. Lembre-se de que você precisa chegar a um <code>boot.efi</code>.<a rel="nofollow" class="external autonumber" href="https://superuser.com/questions/1235970/stuck-on-uefi-interactive-shell-with-mac-os-x-high-sierra-vm">[3]</a>
</p>
<h3>
<span id="Mover_uma_instala.C3.A7.C3.A3o_nativa_do_Windows_para_uma_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Mover_uma_instalação_nativa_do_Windows_para_uma_máquina_virtual">Mover uma instalação nativa do Windows para uma máquina virtual</span>
</h3>
<p>Se você deseja migrar uma instalação nativa do Windows existente para uma máquina virtual que será usada com o VirtualBox no GNU/Linux, este caso de uso é para você. Esta seção cobre apenas a instalação nativa do Windows usando o esquema de partição MSDOS/Intel. Sua instalação do Windows deve residir na primeira partição MBR para que essa operação seja bem-sucedida. Operações para outras partições estão disponíveis, mas não foram testadas (veja <a href="#Limita%C3%A7%C3%B5es_conhecidas">#Limitações conhecidas</a> para detalhes).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Se você estiver usando uma versão OEM do Windows, este processo é não autorizado pela licença do usuário final. De fato, a licença OEM normalmente afirma que a instalação do Windows está vinculada ao hardware junto. Transferir uma instalação do Windows para uma máquina virtual remove esse vínculo. Portanto, certifique-se de que você tem uma instalação completa do Windows ou um modelo de licença por volume antes de continuar. Se você tem uma licença completa do Windows, mas a última não é em volume, nem como uma licença especial para vários PCs, isso significa que você terá que remover a instalação nativa após a operação de transferência ter sido concluída.</div>
<p>Algumas tarefas são necessárias para serem feitas dentro da sua instalação nativa do Windows primeiro, depois no seu host GNU/Linux.
</p>
<h4><span class="mw-headline" id="Tarefas_no_Windows">Tarefas no Windows</span></h4>
<p>Os três primeiros pontos a seguir vêm de <a rel="nofollow" class="external text" href="https://www.virtualbox.org/wiki/Migrate_Windows#HAL">esta página desatualizada do wiki do VirtualBox</a>, mas estão atualizados aqui.
</p>
<ul>
<li>Remova verificações de controladores IDE/ATA (somente Windows XP): o Windows memoriza os controladores de drive IDE/ATA nos quais foi instalado e não inicializará se detectar que esses mudaram. A solução proposta pela Microsoft é reutilizar o mesmo controlador ou usar um da mesma série, o que é impossível de alcançar, pois estamos usando uma Máquina Virtual. <a rel="nofollow" class="external text" href="https://www.virtualbox.org/wiki/Migrate_Windows#HardDiskSupport">MergeIDE</a>, uma ferramenta alemã, desenvolvida com base em outra solução proposta pela Microsoft, pode ser usada. Essa solução basicamente consiste em pegar todos os drivers de controlador IDE/ATA suportados pelo Windows XP do arquivo de driver inicial (o local é codificado ou especifique como o primeiro argumento para o script <code>.bat</code>), instalá-los e registrá-los no banco de dados do regedit.</li>
<li>Use o tipo certo de Camada de Abstração de Hardware (versões antigas de Windows de 32 bits): a Microsoft envia 3 versões padrão: <code>Hal.dll</code> (PC padrão), <code>Halacpi.dll</code> (HAL ACPI) e <code>Halaacpi.dll</code> (HAL ACPI com IO APIC). Sua instalação do Windows pode vir instalada com a primeira ou a segunda versão. Dessa forma, por favor, <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch08.html#idp56927888">desative o recurso estendido do VirtualBox <i>Habilitar IO/APIC</i></a>.</li>
<li>Desative qualquer driver de dispositivo AGP (somente versões desatualizadas do Windows): Se você tiver os arquivos <code>agp440.sys</code> ou <code>intelppm.sys</code> dentro do diretório <code>C:\Windows\SYSTEM32\drivers\</code>, remova-o. Como o VirtualBox usa uma placa gráfica virtual PCI, isso pode causar problemas quando esse driver AGP é usado.</li>
<li>Crie um disco de recuperação do Windows: Nas etapas seguintes, se as coisas derem errado, você precisará reparar sua instalação do Windows. Certifique-se de ter um meio de instalação à mão ou crie um com <i>Criar um disco de recuperação</i> a partir do Vista SP1, <i>Criar um disco de reparo do sistema</i> no Windows 7 ou <i>Criar uma unidade de recuperação</i> no Windows 8.x).</li>
</ul>
<h4>
<span id="Usando_Disk2vhd_para_clonar_a_parti.C3.A7.C3.A3o_do_Windows"></span><span class="mw-headline" id="Usando_Disk2vhd_para_clonar_a_partição_do_Windows">Usando Disk2vhd para clonar a partição do Windows</span>
</h4>
<p>Inicialize no Windows, limpe a instalação (com <a rel="nofollow" class="external text" href="https://www.piriform.com/ccleaner">CCleaner</a>, por exemplo), use a ferramenta <a rel="nofollow" class="external text" href="https://technet.microsoft.com/en-us/library/ee656415.aspx">disk2vhd</a> para criar uma imagem VHD. Inclua uma partição de sistema reservada (se presente) e a partição de dados básica do Windows (geralmente disco C:). O tamanho da imagem criada pelo Disk2vhd será a soma dos arquivos reais na partição (espaço usado), não o tamanho da partição inteira. Se tudo correr bem, a imagem deve apenas inicializar em uma máquina virtual e você não terá que passar pelo incômodo com MBR e carregador de inicialização do Windows, como no caso de clonar uma partição inteira.
</p>
<h4>
<span id="Tarefas_no_GNU.2FLinux"></span><span class="mw-headline" id="Tarefas_no_GNU/Linux">Tarefas no GNU/Linux</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Pule as partes relacionadas à partição se você criou a imagem VHD com <a href="#Usando_Disk2vhd_para_clonar_a_parti%C3%A7%C3%A3o_do_Windows">Disk2vhd</a>.</div>
<ul><li>Reduza o tamanho da partição nativa do Windows para o tamanho que o Windows realmente precisa com <code>ntfsresize</code> disponível em <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span>. O tamanho que você especificará será o mesmo tamanho do VDI que será criado na próxima etapa. Se este tamanho for muito baixo, você pode quebrar sua instalação do Windows e a última pode não inicializar de forma alguma.</li></ul>
<dl>
<dd>Use a opção <code>--no-action</code> primeiro para executar um teste:</dd>
<dd><pre># ntfsresize --no-action --size <i>52Gi</i> <i>/dev/sda1</i></pre></dd>
</dl>
<dl><dd>Se apenas o teste anterior for bem-sucedido, execute este comando novamente, mas desta vez sem a flag de teste mencionada.</dd></dl>
<ul><li>Instale o VirtualBox no seu host GNU/Linux (veja <a href="#Passos_de_instala%C3%A7%C3%A3o_para_hospedeiros_Arch_Linux">#Passos de instalação para hospedeiros Arch Linux</a> se o seu host for Arch Linux).</li></ul>
<ul><li>Crie a imagem de disco do Windows do início do drive até o final da primeira partição onde está localizada a sua instalação do Windows. Copiar do início do disco é necessário porque o espaço do MBR no início do disco precisa estar no disco virtual junto com a partição do Windows. Neste exemplo, duas partições a seguir <code>sda2</code> e <code>sda3</code> serão posteriormente removidas da tabela de partições e o carregador de inicialização MBR será atualizado.</li></ul>
<dl>
<dd><pre># sectnum=$(( $(cat /sys/block/<i>sda/sda1</i>/start) + $(cat /sys/block/<i>sda/sda1</i>/size) ))</pre></dd>
<dd>Usando <code>cat /sys/block/<i>sda/sda1</i>/size</code> exibirá o número de setores totais da primeira partição do disco <code>sda</code>. Adapte onde necessário.</dd>
</dl>
<dl>
<dd><pre># dd if=<i>/dev/sda</i> bs=512 count=$sectnum | VBoxManage convertfromraw stdin <i>windows.vdi</i> $(( $sectnum * 512 ))</pre></dd>
<dd>Precisamos exibir o tamanho em bytes, <code>$(( $sectnum * 512 ))</code> converterá os números dos setores para bytes.</dd>
</dl>
<ul><li>Como você criou sua imagem de disco como root, defina a propriedade correta para a imagem do disco virtual: <pre># chown <i>your_user</i>:<i>your_group</i> windows.vdi</pre>
</li></ul>
<ul><li>Crie seu arquivo de configuração de máquina virtual e use o disco virtual criado anteriormente como o principal disco rígido virtual.</li></ul>
<ul><li>Tente inicializar sua máquina virtual Windows, ela pode simplesmente funcionar. Primeiro, remova e repare discos do processo de inicialização, pois podem interferir (e provavelmente interferirão) na inicialização em modo de segurança.</li></ul>
<ul><li>Tente inicializar sua máquina virtual Windows em modo de segurança (pressione a tecla F8 antes da tela do Windows aparecer, mas depois que a tela do VirtualBox desaparecer)... se encontrar problemas de inicialização, leia <a href="#Corrigir_MBR_e_carregador_de_inicializa%C3%A7%C3%A3o_Microsoft">#Corrigir MBR e carregador de inicialização Microsoft</a>. No modo de segurança, os drivers serão instalados provavelmente pelo mecanismo de detecção plug-and-play do Windows <a rel="nofollow" class="external text" href="https://i.imgur.com/hh1RrSp.png">view</a>. Além disso, instale as Guest Additions do VirtualBox através do menu <i>Dispositivos</i> &gt; <i>Inserir imagem de CD das Guest Additions</i>. Se um novo diálogo de disco não aparecer, navegue até a unidade de CD e inicie o instalador manualmente.</li></ul>
<ul><li>Você deve finalmente ter uma máquina virtual Windows funcionando. Não se esqueça de ler as <a href="#Limita%C3%A7%C3%B5es_conhecidas">#Limitações conhecidas</a>.</li></ul>
<ul><li>Dica de desempenho: de acordo com o <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch05.html#harddiskcontrollers">manual do VirtualBox</a>, o controlador SATA tem um desempenho melhor do que o IDE. Se você não conseguir inicializar o Windows do controlador SATA virtual imediatamente, provavelmente é devido à falta de drivers SATA. Anexe o disco virtual ao controlador IDE, crie um controlador SATA vazio e inicialize a máquina virtual - o Windows deve instalar automaticamente os drivers SATA para o controlador. Você pode então desligar a máquina virtual, desanexar o disco virtual do controlador IDE e anexá-lo ao controlador SATA.</li></ul>
<h4>
<span id="Corrigir_MBR_e_carregador_de_inicializa.C3.A7.C3.A3o_Microsoft"></span><span class="mw-headline" id="Corrigir_MBR_e_carregador_de_inicialização_Microsoft">Corrigir MBR e carregador de inicialização Microsoft</span>
</h4>
<p>Se a sua máquina virtual Windows se recusar a inicializar, talvez seja necessário aplicar as seguintes modificações à sua máquina virtual.
</p>
<ul><li>Inicie uma distribuição GNU/Linux ao vivo dentro da sua máquina virtual antes que o Windows inicie.</li></ul>
<ul><li>Remova outras entradas de partições do MBR do disco virtual. De fato, como copiamos o MBR e apenas a partição do Windows, as entradas das outras partições ainda estão presentes no MBR, mas as partições não estão mais disponíveis. Use <code>fdisk</code> para fazer isso, por exemplo.</li></ul>
<dl><dd><pre>fdisk ''/dev/sda''
Comando (m para ajuda): a
Número da partição (''1-3'', padrão ''3''): ''1''</pre></dd></dl>
<ul><li>Escreva a tabela de partições atualizada no disco (isso recriará o MBR) usando o comando <code>m</code> dentro do <code>fdisk</code>.</li></ul>
<ul><li>Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=testdisk">testdisk</a></span> (veja <a rel="nofollow" class="external text" href="https://www.cgsecurity.org/index.html?testdisk.html">aqui</a> para mais detalhes) para adicionar um MBR genérico:</li></ul>
<dl><dd><pre># testdisk &gt; <i>Disco /dev/sda...</i> &gt; [Prosseguir] &gt;  [Intel] Partição Intel/PC &gt; [Código MBR] Escrever código MBR do TestDisk no primeiro setor &gt; Escrever nova cópia do código MBR no primeiro setor? (Y/n) &gt; Y &gt; Nova cópia do código MBR foi escrita. Você precisa reiniciar para que a mudança tenha efeito. &gt; [OK]</pre></dd></dl>
<ul><li>Com o novo MBR e a tabela de partições atualizada, sua máquina virtual Windows deve ser capaz de inicializar. Se ainda encontrar problemas, inicie o disco de recuperação do Windows de um dos passos anteriores, e dentro do seu ambiente Windows RE, execute os comandos <a rel="nofollow" class="external text" href="https://support.microsoft.com/kb/927392">descritos aqui</a>.</li></ul>
<h4>
<span id="Limita.C3.A7.C3.B5es_conhecidas"></span><span class="mw-headline" id="Limitações_conhecidas">Limitações conhecidas</span>
</h4>
<ul>
<li>Sua máquina virtual pode às vezes travar e exceder a RAM, isso pode ser causado por drivers conflitantes ainda instalados dentro de sua máquina virtual Windows. Boa sorte para encontrá-los!</li>
<li>Software adicional esperando um determinado driver abaixo pode não ser desabilitado/desinstalado ou precisa ser desinstalado primeiro, pois os drivers que não estão mais disponíveis.</li>
<li>Sua instalação do Windows deve residir na primeira partição para que o processo acima funcione. Se este requisito não for atendido, o processo ainda pode ser alcançado, mas isso não foi testado. Isso exigirá copiar o MBR e editar em hexadecimal, veja <a rel="nofollow" class="external text" href="https://superuser.com/questions/237782/virtualbox-booting-cloned-disk/253417#253417">VirtualBox: inicializando disco clonado</a> ou exigirá corrigir a tabela de partições <a rel="nofollow" class="external text" href="https://gparted.org/h2-fix-msdos-pt.php">manualmente</a> ou reparar o Windows com o disco de recuperação que você criou em um passo anterior. Vamos considerar nossa instalação do Windows na segunda partição; copiaremos o MBR e, em seguida, a segunda partição para a imagem do disco. <code>VBoxManage convertfromraw</code> precisa do número total de bytes que serão escritos: calculado graças ao tamanho do MBR (o início da primeira partição) mais o tamanho da segunda partição (Windows). <code>{ dd if=/dev/sda bs=512 count=$(cat /sys/block/sda/sda1/start) ; dd if=/dev/sda2 bs=512 count=$(cat /sys/block/sda/sda2/size) ; } | VBoxManage convertfromraw stdin windows.vdi $(( ($(cat /sys/block/sda/sda1/start) + $(cat /sys/block/sda/sda2/size)) * 512 ))</code>.</li>
</ul>
<h3>
<span id="Executar_uma_instala.C3.A7.C3.A3o_nativa_do_Windows_dentro_do_VirtualBox"></span><span class="mw-headline" id="Executar_uma_instalação_nativa_do_Windows_dentro_do_VirtualBox">Executar uma instalação nativa do Windows dentro do VirtualBox</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A técnica descrita nesta seção se aplica apenas a sistemas <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>.</div>
<p>Em alguns casos, é útil poder <a href="../pt/Dual_boot_with_Windows.html" class="mw-redirect" title="Dual boot com Windows">dual boot com Windows</a> <i>e</i> acessar a partição em uma máquina virtual. Este processo é significativamente diferente de <a href="#Mover_uma_instala%C3%A7%C3%A3o_nativa_do_Windows_para_uma_m%C3%A1quina_virtual">#Mover uma instalação nativa do Windows para uma máquina virtual</a> de várias maneiras:
</p>
<ul>
<li>A partição do Windows não é copiada para uma imagem de disco virtual. Em vez disso, um arquivo VMDK bruto é criado;</li>
<li>As alterações na máquina virtual serão espelhadas na partição e vice-versa;</li>
<li>Licenças OEM ainda devem ser satisfeitas, já que a partição do Windows ainda inicializa diretamente no hardware.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Alguns dos comandos usados aqui podem corromper a partição do Windows, a partição do Arch Linux ou ambas. Use extrema cautela ao executar comandos e verifique duas vezes se estão sendo executados no shell correto. Seria uma boa ideia ter um backup de todo o disco pronto antes de começar este processo.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Antes de prosseguir, certifique-se de ter acesso a um meio de instalação do Windows (como o <a rel="nofollow" class="external text" href="https://www.microsoft.com/en-us/software-download/windows11">ISO do Windows 11</a>).</div>
<h4>
<span id="Criando_a_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Criando_a_máquina_virtual">Criando a máquina virtual</span>
</h4>
<p>Uma máquina virtual do VirtualBox deve ser criada manualmente. Por enquanto, não adicione nenhum dispositivo de armazenamento ou disco à máquina virtual, isso será feito manualmente mais tarde.
</p>
<p>Configure a máquina virtual com as seguintes configurações (o painel de configurações pode ser aberto clicando no botão "Configurações" na barra de ferramentas principal):
</p>
<ul><li>Visualização: Sistema:
<ul>
<li>Aba: Placa-mãe:
<ul>
<li>marque <i>Habilitar I/O APIC</i>;</li>
<li>marque <i>Habilitar EFI</i>;</li>
<li>marque <i>Relógio de Hardware em Tempo UTC</i> se for o seu caso.</li>
</ul>
</li>
<li>Aba: Processador:
<ul>
<li>marque <i>Habilitar PAE/NX</i>;</li>
<li>marque <i>Habilitar Nested VT-x/AMD-V</i>;</li>
</ul>
</li>
<li>Aba: Aceleração:
<ul>
<li>Escolha a interface de paravirtualização <i>Hyper-V</i> no menu suspenso;</li>
<li>marque <i>Habilitar Paginação Aninhada</i>.</li>
</ul>
</li>
</ul>
</li></ul>
<p>Opcionalmente, você também pode habilitar as seguintes configurações:
</p>
<ul><li>Visualização: Display
<ul><li>Aba: Tela
<ul><li>marque <i>Habilitar Aceleração 3D</i>. Observe que isso pode causar falhas.</li></ul>
</li></ul>
</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A configuração <i>Hyper-V</i> não é necessária para o sistema operar corretamente, mas pode ajudar a evitar problemas de licenciamento.</div>
<h4>
<span id="Criando_discos_de_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Criando_discos_de_máquina_virtual">Criando discos de máquina virtual</span>
</h4>
<p>Para acessar as partições do Windows, crie um <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk-access-disk-partitions">arquivo VMDK bruto</a> apontando para as partições relevantes do Windows (são necessários privilégios de root para ler a tabela de partições do disco):
</p>
<pre># VBoxManage createmedium disk -filename <i>VM_DIRECTORY</i>/windows.vmdk --format=VMDK --variant RawDisk --property RawDrive=<i>DISK</i> --property Partitions=<i>RESERVED_PARTITION_NUMBER</i>,<i>BASIC_DATA_PARTITION_NUMBER</i>
</pre>
<p>Substitua as strings de espaço reservado em maiúsculas da seguinte forma:
</p>
<ul>
<li>
<i>VM_DIRECTORY</i> deve ser substituído pelo caminho da pasta da máquina virtual (geralmente um subdiretório de ~/VirtualBox VMs);</li>
<li>
<i>DISK</i> deve ser substituído pelo dispositivo de bloco que contém todas as partições do Windows (por exemplo: /dev/sda ou /dev/nvme0n1);</li>
<li>
<i>RESERVED_PARTITION_NUMBER</i> deve ser substituído pelo número da partição rotulada "Partição reservada pela Microsoft" (por exemplo: se a partição for /dev/sda2, o número será 2);</li>
<li>
<i>BASIC_DATA_PARTITION_NUMBER</i> deve ser substituído pela partição que contém a instalação do Windows (por exemplo: se a partição for /dev/sda3, o número será 3);</li>
</ul>
<p>Exemplo:
</p>
<pre>$ sudo VBoxManage createmedium disk -filename "/home/user/VirtualBox VMs/windows.vmdk" --format=VMDK --variant RawDisk --property RawDrive=/dev/nvme0n1 --property Partitions=2,3
</pre>
<p>O comando também criará um arquivo extra na pasta da máquina virtual, "windows-pt.vmdk", que será ignorado.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <i>windows.vmdk</i> deve ser recriado se a tabela de partições for alterada.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<p>Os números das partições também podem ser encontrados executando este comando e olhando para a coluna MIN:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">lsblk --output NAME,PARTLABEL,FSTYPE,MAJ:MIN,SIZE</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NAME        PARTLABEL                    FSTYPE UUID                                 MAJ:MIN   SIZE
nvme0n1                                                                              259:0   931,5G
├─nvme0n1p1 Partição do sistema EFI         vfat   90DC-A6B3                            259:1     100M
├─nvme0n1p2 Partição reservada da Microsoft                                             259:2      16M
├─nvme0n1p3 Partição de dados básica         ntfs   D2A2A104A2A0EE63                     259:3     200G
...</pre>
</div>
<p>Agora mude o proprietário do disco virtual para dar acesso ao usuário e ao grupo que executam o VirtualBox.
</p>
<pre># chown <i>VIRTUALBOX_RUNNING_USER</i>:<i>VIRTUALBOX_RUNNING_GROUP</i> <i>VM_DIRECTORY</i>/windows.vmdk <i>VM_DIRECTORY</i>/windows-pt.vmdk</pre>
<p>Substitua <i>VIRTUALBOX_RUNNING_USER</i> e <i>VIRTUALBOX_RUNNING_GROUP</i> pelo usuário e pelo grupo que executarão o VirtualBox, que provavelmente será seu usuário.
</p>
<h4>
<span id="Permitindo_que_o_VirtualBox_leia_parti.C3.A7.C3.B5es_f.C3.ADsicas"></span><span class="mw-headline" id="Permitindo_que_o_VirtualBox_leia_partições_físicas">Permitindo que o VirtualBox leia partições físicas</span>
</h4>
<p>O VirtualBox deve ter <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk">acesso a disco bruto</a> para executar uma partição do Windows. Normalmente, isso exigiria que o VirtualBox fosse executado com privilégios de root completos, mas opções mais elegantes estão disponíveis.
</p>
<h5>
<span id="Op.C3.A7.C3.A3o_de_maior_seguran.C3.A7a:_usando_um_grupo_dedicado_para_as_parti.C3.A7.C3.B5es_do_Windows"></span><span class="mw-headline" id="Opção_de_maior_segurança:_usando_um_grupo_dedicado_para_as_partições_do_Windows">Opção de maior segurança: usando um grupo dedicado para as partições do Windows</span>
</h5>
<p>Aqui, o <a href="../en/Udev.html" title="Udev">udev</a> é configurado para restringir o acesso às partições do Windows para o grupo <i>vboxusers</i>, e então o usuário que executa o VirtualBox é adicionado ao grupo.
</p>
<p>Atribuir os discos ao grupo <i>vboxusers</i> pode ser feito automaticamente criando o seguinte arquivo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-vbox.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#
# Regras para dar aos usuários do VirtualBox acesso bruto a partições do Windows
#

# Partição reservada pela Microsoft
SUBSYSTEM=="block", ENV{ID_PART_ENTRY_TYPE}=="e3c9e316-0b5c-4db8-817d-f92df00215ae", GROUP="vboxusers"

# Partição do Windows
SUBSYSTEM=="block", ENV{ID_PART_ENTRY_TYPE}=="ebd0a0a2-b9e5-4433-87c0-68b6b72699c7", GROUP="vboxusers"

#
# Regras para dar aos usuários do VirtualBox acesso bruto a discos do Windows
#

# sdb
ENV{ID_PART_TABLE_UUID}=="WINDOWS_DISK_ID_PART_TABLE_UUID", GROUP="vboxusers"
</pre>
<p><i>WINDOWS_DISK_ID_PART_TABLE_UUID</i> deve ser substituído pelo valor obtido de <code>udevadm info /dev/WINDOWS_DISK </code> (substitua <i>WINDOWS_DISK</i> pelo disco que contém as partições do Windows). Os UUIDs nessas regras correspondem a tipos específicos de partição <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">GPT</a>, enquanto as outras strings em maiúsculas devem ser escritas dessa forma, portanto, não precisam ser substituídas.
</p>
<p>Então, o usuário que executa o VirtualBox deve ser adicionado ao grupo <i>vboxusers</i>. Isso pode ser feito com o seguinte comando:
</p>
<pre># usermod -aG vboxusers VIRTUALBOX_RUNNING_USER
</pre>
<p>Substitua <i>VIRTUALBOX_RUNNING_USER</i> pelo usuário que executará o VirtualBox, que provavelmente será seu usuário.
</p>
<h5>
<span id="Op.C3.A7.C3.A3o_de_menor_seguran.C3.A7a:_usando_o_grupo_.27disk.27"></span><span class="mw-headline" id="Opção_de_menor_segurança:_usando_o_grupo_'disk'">Opção de menor segurança: usando o grupo 'disk'</span>
</h5>
<p>Para poder adicionar o arquivo vmdk no Gerenciador de Mídia Virtual do Virtualbox sem executar o VirtualBox como root, o usuário que executa o VirtualBox precisa estar nos grupos <i>vboxusers</i> e <i>disk</i>.
</p>
<pre># usermod -aG disk,vboxusers VIRTUALBOX_RUNNING_USER</pre>
<p>Substitua <i>VIRTUALBOX_RUNNING_USER</i> pelo usuário que executará o VirtualBox, que provavelmente será seu usuário.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Esteja ciente das implicações de segurança potenciais desta edição, pois você está dando à sua conta de usuário acesso total de leitura e gravação a todos os dispositivos de armazenamento pertencentes ao grupo de disco.</div>
<h4>
<span id="Configurando_uma_parti.C3.A7.C3.A3o_separada_do_sistema_EFI"></span><span class="mw-headline" id="Configurando_uma_partição_separada_do_sistema_EFI">Configurando uma partição separada do sistema EFI</span>
</h4>
<p>Os arquivos de inicialização UEFI da máquina virtual se referirão a discos diferentes daqueles na partição do sistema EFI física, então o VirtualBox não deve fazer uso desta última, mas sim de uma partição do sistema EFI dentro de um disco virtual dedicado. Este disco pode ser criado com o seguinte comando:
</p>
<pre>$ VBoxManage createmedium disk --filename <i>VM_DIRECTORY/esp.vmdk</i> --size 512 --format VMDK
</pre>
<p>Substitua <i>VM_DIRECTORY</i> pela pasta que contém a máquina virtual sendo construída.
</p>
<h4>
<span id="Adicionando_discos_virtuais_.C3.A0_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Adicionando_discos_virtuais_à_máquina_virtual">Adicionando discos virtuais à máquina virtual</span>
</h4>
<p>Configure os dispositivos de armazenamento da máquina virtual (Painel de configurações - Armazenamento) da seguinte forma:
</p>
<ul>
<li>adicione <i>esp.vmdk</i> como um disco rígido SATA conectado ao "Porta SATA 0";</li>
<li>adicione <i>windows.vmdk</i> como um disco rígido SATA conectado ao "Porta SATA 1";</li>
<li>monte o ISO de instalação do Windows na unidade óptica virtual.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>para adicionar um disco rígido SATA, use o segundo botão à direita do dispositivo "Controlador: SATA";</li>
<li>a unidade óptica virtual já deve estar presente como "Unidade Óptica".</li>
</ul>
</div>
<h4>
<span id="Configurando_o_firmware_UEFI_virtual_e_criando_arquivos_de_inicializa.C3.A7.C3.A3o_do_Windows"></span><span class="mw-headline" id="Configurando_o_firmware_UEFI_virtual_e_criando_arquivos_de_inicialização_do_Windows">Configurando o firmware UEFI virtual e criando arquivos de inicialização do Windows</span>
</h4>
<p>Agora inicie a máquina virtual e ela deve inicializar automaticamente a partir do disco de instalação do Windows. Após escolher as localidades de instalação, clique no link "Reparar seu computador", escolha "Solucionar problemas" e depois "Prompt de Comando" para iniciar um prompt de comando a partir do meio de instalação.
</p>
<p>Digite os seguintes comandos para criar uma nova tabela GPT no disco esp.vmdk e instalar o carregador de inicialização do Windows nele usando a configuração da partição existente do Windows:
</p>
<p>Abra o Diskpart:
</p>
<pre>X:\ diskpart
</pre>
<p>Liste todos os discos identificados pelo sistema:
</p>
<pre>DISKPART&gt; list disk
</pre>
<p>O disco <i>esp.vmkd</i> deve ser rotulado como <i>disco 0</i> devido ao fato de ter sido anexado à porta SATA 0, com ~512 MiB de tamanho e não particionado. O disco <i>windows.vmdk</i> deve ser rotulado como <i>disco 1</i>; observe que a coluna "Tamanho" exibe o tamanho do disco, não da partição.
</p>
<p>Selecione o disco esp.vmdk:
</p>
<pre>DISKPART&gt; select Disk 0
</pre>
<p>Agora crie uma tabela de partição GPT, uma partição do sistema EFI, do tamanho do disco inteiro, e atribua a ela um rótulo e letra de unidade:
</p>
<pre>DISKPART&gt; clean
DISKPART&gt; convert gpt
DISKPART&gt; create partition efi size=500
DISKPART&gt; format quick fs=fat32 label="System"
DISKPART&gt; assign letter="S"</pre>
<p>Verifique se a partição foi criada corretamente:
</p>
<pre>DISKPART&gt; list volume
</pre>
<p>Nossa partição EFI recém-criada será rotulada como "SYSTEM" com a letra "S".
</p>
<p>Anote a letra de volume da instalação do Windows, pois será usada nas próximas etapas. Geralmente é <i>D</i>, mas pode ser diferente: você pode inferir isso pelo rótulo e pelo tamanho. O tamanho é o mesmo da partição de instalação do Windows no disco rígido físico.
</p>
<p>Saia do diskpart:
</p>
<pre>DISKPART&gt; exit
</pre>
<p>Instale o carregador de inicialização do Windows na partição do sistema EFI.
</p>
<pre>D:
cd Windows\System32
bcdboot D:\Windows /s S: /f UEFI
</pre>
<p>Agora feche o prompt de comando, desligue a máquina virtual e desconecte o disco de instalação do Windows (em "Preferências &gt; Dispositivos", remova o disco óptico). A máquina virtual agora deve inicializar a partir da partição de inicialização recém-instalada e carregar a instalação física do Windows. Pode mostrar alguns erros relacionados à UEFI no topo da janela da máquina virtual e a primeira inicialização pode demorar um pouco, mas se tudo foi feito corretamente, você poderá acessar sua instalação do Windows.
</p>
<h3>
<span id="Executar_um_disco_f.C3.ADsico_inteiro_no_Virtualbox"></span><span class="mw-headline" id="Executar_um_disco_físico_inteiro_no_Virtualbox">Executar um disco físico inteiro no Virtualbox</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Você pode consultar a documentação oficial do Virtualbox <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch09.html#rawdisk">9.8.1. Usando um Disco Rígido Host Bruto a partir de um Convidado</a>.</div>
<p>Isso funciona da mesma forma que <a href="#Executar_uma_instala%C3%A7%C3%A3o_nativa_do_Windows_dentro_do_VirtualBox">#Executar uma instalação nativa do Windows dentro do VirtualBox</a>, mas o vmdk conterá o disco inteiro, não apenas uma partição, e assim você não precisará criar uma ESP ou partição MBR separada, pois a existente no disco físico será usada.
</p>
<p>Crie o disco bruto:
</p>
<pre># VBoxManage internalcommands createrawvmdk -filename /path/to/file.vmdk -rawdisk /dev/sdb
</pre>
<p>Em seguida, siga o mesmo método de <a href="#Executar_uma_instala%C3%A7%C3%A3o_nativa_do_Windows_dentro_do_VirtualBox">#Executar uma instalação nativa do Windows dentro do VirtualBox</a> para a configuração e anexação de disco virtual.
</p>
<h3>
<span id="Definir_resolu.C3.A7.C3.A3o_de_inicializa.C3.A7.C3.A3o_do_convidado"></span><span class="mw-headline" id="Definir_resolução_de_inicialização_do_convidado">Definir resolução de inicialização do convidado</span>
</h3>
<p>Você pode alterar a resolução de inicialização do BIOS/UEFI usando a ferramenta <code>VBoxManage</code>. Por exemplo:
</p>
<pre>$ VBoxManage setextradata "Nome da sua máquina virtual" "VBoxInternal2/EfiGraphicsResolution" "2560x1440"
</pre>
<p>Resoluções recomendadas são 1280x720, 1920x1080, 2048x1080, 2560x1440, 3840x2160, 1280x800, 1280x1024, 1440x900, 1600x900.
</p>
<h3><span class="mw-headline" id="SSH_do_host_para_o_convidado">SSH do host para o convidado</span></h3>
<p>A aba de rede das configurações da máquina virtual contém, em "Avançado", uma ferramenta para criar o encaminhamento de portas.
É possível usá-la para encaminhar a porta SSH do Convidado <code>22</code> para uma porta do Host, por exemplo <code>3022</code>:
</p>
<pre>user@host$ ssh -p 3022 $USER@localhost
</pre>
<p>isso estabelecerá uma conexão do Host para o Convidado.
</p>
<h4>
<span id="SSHFS_como_alternativa_.C3.A0_pasta_compartilhada"></span><span class="mw-headline" id="SSHFS_como_alternativa_à_pasta_compartilhada">SSHFS como alternativa à pasta compartilhada</span>
</h4>
<p>Usando esse encaminhamento de porta e sshfs, é simples montar o sistema de arquivos do Convidado no sistema de arquivos do Host:
</p>
<pre>user@host$ sshfs -p 3022 $USER@localhost:$HOME ~/pasta_compartilhada
</pre>
<p>e então transferir arquivos entre ambos.
</p>
<h2>
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Solução_de_problemas">Solução de problemas</span>
</h2>
<h3>
<span id="Teclado_e_mouse_est.C3.A3o_bloqueados_na_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Teclado_e_mouse_estão_bloqueados_na_máquina_virtual">Teclado e mouse estão bloqueados na máquina virtual</span>
</h3>
<p>Isso significa que sua máquina virtual capturou a entrada do seu teclado e mouse. Simplesmente pressione a tecla <code>Ctrl</code> direita e sua entrada deve controlar seu host novamente.
</p>
<p>Para controlar sua máquina virtual de forma transparente com seu mouse indo e voltando do seu host, sem ter que pressionar nenhuma tecla, e assim ter uma integração perfeita, instale as adições para convidados dentro do convidado. Leia a partir de <a href="../pt/VirtualBox/Install_Arch_Linux_as_a_guest.html" title="VirtualBox (Português)/Install Arch Linux as a guest (Português)">VirtualBox/Instalar o Arch Linux como um convidado#Instalar as Adições para Convidados</a> se o seu convidado for o Arch Linux, caso contrário, leia a ajuda oficial do VirtualBox.
</p>
<h3>
<span id="Nenhuma_op.C3.A7.C3.A3o_de_cliente_de_sistema_operacional_de_64_bits"></span><span class="mw-headline" id="Nenhuma_opção_de_cliente_de_sistema_operacional_de_64_bits">Nenhuma opção de cliente de sistema operacional de 64 bits</span>
</h3>
<p>Ao iniciar um cliente de máquina virtual e nenhuma opção de 64 bits estiver disponível, certifique-se de que as capacidades de virtualização da CPU (geralmente chamadas de <code>VT-x</code>) estejam habilitadas no BIOS.
</p>
<p>Se você estiver usando um host Windows, pode ser necessário desativar o Hyper-V, pois ele impede que o VirtualBox use VT-x. <a rel="nofollow" class="external autonumber" href="https://www.virtualbox.org/ticket/12350">[4]</a>
</p>
<h3>
<span id="A_GUI_do_VirtualBox_n.C3.A3o_corresponde_ao_tema_GTK_do_host"></span><span class="mw-headline" id="A_GUI_do_VirtualBox_não_corresponde_ao_tema_GTK_do_host">A GUI do VirtualBox não corresponde ao tema GTK do host</span>
</h3>
<p>Veja <a href="../en/Uniform_look_for_Qt_and_GTK_applications.html" title="Uniform look for Qt and GTK applications">Uniform look for Qt and GTK applications</a> para informações sobre como aplicar temas em aplicativos baseados em Qt como o VirtualBox.
</p>
<h3>
<span id="N.C3.A3o_.C3.A9_poss.C3.ADvel_enviar_Ctrl.2BAlt.2BFn_para_o_convidado"></span><span class="mw-headline" id="Não_é_possível_enviar_Ctrl+Alt+Fn_para_o_convidado">Não é possível enviar Ctrl+Alt+Fn para o convidado</span>
</h3>
<p>Seu sistema operacional convidado é uma distribuição GNU/Linux e você deseja abrir um novo shell TTY pressionando <code>Ctrl+Alt+F2</code> ou sair da sua sessão X atual com <code>Ctrl+Alt+Backspace</code>. Se você digitar esses atalhos de teclado sem qualquer adaptação, o convidado não receberá nenhuma entrada e o host (se for uma distribuição GNU/Linux também) interceptará essas teclas de atalho. Para enviar <code>Ctrl+Alt+F2</code> para o convidado, por exemplo, basta pressionar sua <i>Tecla Host</i> (geralmente a tecla <code>Ctrl</code> direita) e pressionar <code>F2</code> simultaneamente.
</p>
<h3>
<span id="Subsistema_USB_n.C3.A3o_est.C3.A1_funcionando"></span><span class="mw-headline" id="Subsistema_USB_não_está_funcionando">Subsistema USB não está funcionando</span>
</h3>
<p>Seu usuário deve estar no grupo <code>vboxusers</code> e você precisa instalar o <a href="#Pacote_de_extens%C3%A3o">pacote de extensão</a> se quiser suporte para USB 2. Então você poderá habilitar USB 2 nas configurações da máquina virtual e adicionar um ou vários filtros para os dispositivos que deseja acessar a partir do sistema operacional convidado.
</p>
<p>Se <code>VBoxManage list usbhost</code> não mostrar nenhum dispositivo USB, mesmo se executado como root, certifique-se de que não há regras udev antigas (do VirtualBox 4.x) em <code>/etc/udev/rules.d/</code>. O VirtualBox 5.0 instala regras udev em <code>/usr/lib/udev/rules.d/</code>. Você pode usar comandos como <code>pacman -Qo /usr/lib/udev/rules.d/60-vboxdrv.rules</code> para determinar se o arquivo de regra udev está desatualizado.
</p>
<p>Às vezes, em hosts Linux antigos, o subsistema USB não é detectado automaticamente, resultando em um erro <code>Could not load the Host USB Proxy service: VERR_NOT_FOUND</code> ou em uma unidade USB não visível no host, <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=121377">mesmo quando o usuário está no grupo <b>vboxusers</b></a>. Este problema ocorre porque o VirtualBox mudou de <i>usbfs</i> para <i>sysfs</i> na versão 3.0.8. Se o host não entender essa mudança, você pode reverter para o comportamento antigo definindo a seguinte variável de ambiente em qualquer arquivo que seja carregado pelo seu shell (por exemplo, seu <code>~/.bashrc</code> se você estiver usando <i>bash</i>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">VBOX_USB=usbfs</pre>
<p>Em seguida, certifique-se de que o ambiente tenha sido informado dessa mudança (reconecte, carregue o arquivo manualmente, inicie uma nova instância do shell ou reinicie).
</p>
<p>Também verifique se seu usuário é membro do grupo <code>storage</code>.
</p>
<h3>
<span id="Modem_USB_n.C3.A3o_funciona_no_host"></span><span class="mw-headline" id="Modem_USB_não_funciona_no_host">Modem USB não funciona no host</span>
</h3>
<p>Se você tiver um modem USB que está sendo usado pelo sistema operacional convidado, encerrar o sistema operacional convidado pode fazer com que o modem se torne inutilizável pelo sistema operacional host. Matar e reiniciar o <code>VBoxSVC</code> deve corrigir este problema.
</p>
<h3><span class="mw-headline" id="Dispositivo_USB_causa_falha_no_convidado">Dispositivo USB causa falha no convidado</span></h3>
<p>Se anexar um dispositivo USB ao convidado causar uma falha ou qualquer outro comportamento errôneo, tente trocar o controlador USB de USB 2 (EHCI) para USB 3 (xHCI) ou vice-versa.
</p>
<h3>
<span id="Host_congela_ao_iniciar_a_m.C3.A1quina_virtual"></span><span class="mw-headline" id="Host_congela_ao_iniciar_a_máquina_virtual">Host congela ao iniciar a máquina virtual</span>
</h3>
<p>Geralmente, esses problemas são observados após a atualização do VirtualBox ou do kernel Linux. Reverter para as versões anteriores pode resolver o problema.
</p>
<h3>
<span id="Microfone_anal.C3.B3gico_n.C3.A3o_funciona"></span><span class="mw-headline" id="Microfone_analógico_não_funciona">Microfone analógico não funciona</span>
</h3>
<p>Se a entrada de áudio de um microfone analógico estiver funcionando corretamente no host, mas nenhum som parece passar para o convidado, apesar do dispositivo de microfone ser detectado normalmente, a instalação de um <a href="../pt/Sound_system.html" title="Sound system (Português)">Servidor de àudio</a> como o <a href="../en/PulseAudio.html" class="mw-redirect" title="PulseAudio (Português)">PulseAudio (Português)</a> no host pode corrigir o problema.
</p>
<p>Se, após a instalação do <a href="../en/PulseAudio.html" class="mw-redirect" title="PulseAudio (Português)">PulseAudio (Português)</a>, o microfone ainda se recusar a funcionar, definir o <i>Driver de Áudio do Host</i> (em <i>VirtualBox &gt; Máquina &gt; Configurações &gt; Áudio</i>) para <i>Driver de Áudio ALSA</i> pode ajudar.
</p>
<h3><span class="mw-headline" id="Problemas_com_imagens_convertidas_para_ISO">Problemas com imagens convertidas para ISO</span></h3>
<p>Alguns formatos de imagem não podem ser convertidos confiavelmente para ISO. Por exemplo, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccd2iso">ccd2iso</a></span> ignora arquivos .ccd e .sub, o que pode resultar em imagens de disco com arquivos corrompidos.
</p>
<p>Nesse caso, você terá que usar o <a href="../en/CDemu.html" title="CDemu">CDemu</a> para Linux dentro do VirtualBox ou qualquer outra utilidade usada para montar imagens de disco.
</p>
<h3><span class="mw-headline" id="Falha_ao_criar_a_interface_de_rede_host-only">Falha ao criar a interface de rede host-only</span></h3>
<p>Certifique-se de que todos os módulos de kernel necessários estejam carregados. Veja <a href="#Carregue_os_m%C3%B3dulos_do_kernel_VirtualBox">#Carregue os módulos do kernel VirtualBox</a>.
</p>
<p>Se todos os módulos de kernel necessários estiverem carregados e você ainda não conseguir criar o adaptador host-only, navegue até <i>Arquivo &gt; Gerenciador de Rede Host</i> e clique no botão <i>Criar</i> para adicionar a interface de rede.
</p>
<h3>
<span id="Falha_ao_inserir_o_m.C3.B3dulo"></span><span class="mw-headline" id="Falha_ao_inserir_o_módulo">Falha ao inserir o módulo</span>
</h3>
<p>Quando você receber o seguinte erro ao tentar carregar módulos:
</p>
<pre>Falha ao inserir 'vboxdrv': Chave necessária não disponível
</pre>
<p><a href="#Assine_os_m%C3%B3dulos">Assine</a> seus módulos ou desative <code>CONFIG_MODULE_SIG_FORCE</code> na configuração do seu kernel.
</p>
<h3>
<span id="VBOX_E_INVALID_OBJECT_STATE_.280x80BB0007.29"></span><span class="mw-headline" id="VBOX_E_INVALID_OBJECT_STATE_(0x80BB0007)">VBOX_E_INVALID_OBJECT_STATE (0x80BB0007)</span>
</h3>
<p>Isso pode ocorrer se uma máquina virtual for encerrada de maneira inadequada. Execute o seguinte comando:
</p>
<pre>$ VBoxManage controlvm <i>nome_da_máquina_virtual</i> poweroff
</pre>
<h3><span class="mw-headline" id="NS_ERROR_FAILURE_e_itens_de_menu_ausentes">NS_ERROR_FAILURE e itens de menu ausentes</span></h3>
<p>Este erro pode aparecer se <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/virtualbox-ext-oracle/">virtualbox-ext-oracle</a></span><sup><small>AUR</small></sup> não tiver sido atualizado e se tornar incompatível com uma versão recém-lançada do VirtualBox.
</p>
<p>Este erro também acontece às vezes ao selecionar o formato de disco <i>QCOW</i>/<i>QCOW2</i>/<i>QED</i> ao criar um novo disco virtual.
</p>
<p>Se você encontrar esta mensagem na primeira vez que iniciar a máquina virtual:
</p>
<pre>Falha ao abrir uma sessão para a máquina virtual debian.
Não foi possível abrir o meio '/home/.../VirtualBox VMs/debian/debian.qcow'.
QCow: A leitura da tabela L1 para a imagem '/home/.../VirtualBox VMs/debian/debian.qcow' falhou (VERR_EOF).
VD: erro VERR_EOF ao abrir o arquivo de imagem '/home/.../VirtualBox VMs/debian/debian.qcow' (VERR_EOF).

Código de Resultado: 
NS_ERROR_FAILURE (0x80004005)
Componente: 
Médio
</pre>
<p>Saia do VirtualBox, exclua todos os arquivos da nova máquina e remova a última linha no arquivo de configuração do VirtualBox em <code>MachineRegistry</code> (ou a máquina ofensora que você está criando):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/VirtualBox/VirtualBox.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
&lt;MachineRegistry&gt;
  &lt;MachineEntry uuid="{00000000-0000-0000-0000-000000000000}" src="/home/void/VirtualBox VMs/debian/debian.vbox"/&gt;
  &lt;MachineEntry uuid="{00000000-0000-0000-0000-000000000000}" src="/home/void/VirtualBox VMs/ubuntu/ubuntu.vbox"/&gt;
  <strike>&lt;MachineEntry uuid="{00000000-0000-0000-0000-000000000000}" src="/home/void/VirtualBox VMs/lastvmcausingproblems/lastvmcausingproblems.qcow"/&gt;</strike>
&lt;/MachineRegistry&gt;
...</pre>
<h3>
<span id="Windows:_.22O_caminho_especificado_n.C3.A3o_existe._Verifique_o_caminho_e_tente_novamente..22"></span><span class="mw-headline" id='Windows:_"O_caminho_especificado_não_existe._Verifique_o_caminho_e_tente_novamente."'>Windows: "O caminho especificado não existe. Verifique o caminho e tente novamente."</span>
</h3>
<p>Esta mensagem de erro pode aparecer ao executar um arquivo <code>.exe</code> que requer privilégios de administrador a partir de uma pasta compartilhada em convidados Windows. <a rel="nofollow" class="external autonumber" href="https://www.virtualbox.org/ticket/5732#comment:39">[5]</a>
</p>
<p>Como solução, copie o arquivo para o disco virtual ou use <a href="https://en.wikipedia.org/wiki/Uniform_Naming_Convention" class="extiw" title="wikipedia:Uniform Naming Convention">caminhos UNC</a> (<code>\\vboxsvr</code>). Veja <a rel="nofollow" class="external autonumber" href="https://support.microsoft.com/de-de/help/2019185/copying-files-from-a-mapped-drive-to-a-local-directory-fails-with-erro">[6]</a> para mais informações.
</p>
<h3>
<span id="Windows_8.x_c.C3.B3digo_de_erro_0x000000C4"></span><span class="mw-headline" id="Windows_8.x_código_de_erro_0x000000C4">Windows 8.x código de erro 0x000000C4</span>
</h3>
<p>Se você receber este código de erro ao inicializar, mesmo se escolher o tipo de sistema operacional Win 8, tente habilitar a instrução de CPU <code>CMPXCHG16B</code>:
</p>
<pre>$ vboxmanage setextradata <i>nome_da_máquina_virtual</i> VBoxInternal/CPUM/CMPXCHG16B 1
</pre>
<h3>
<span id="Windows_8.2C_8.1_ou_10_falha_ao_instalar.2C_inicializar_ou_tem_erro_.22ERR_DISK_FULL.22"></span><span class="mw-headline" id='Windows_8,_8.1_ou_10_falha_ao_instalar,_inicializar_ou_tem_erro_"ERR_DISK_FULL"'>Windows 8, 8.1 ou 10 falha ao instalar, inicializar ou tem erro "ERR_DISK_FULL"</span>
</h3>
<p>Atualize as configurações da máquina virtual indo em <i>Configurações &gt; Armazenamento &gt; Controlador:SATA</i> e marque <i>Usar Cache de E/S do Host</i>.
</p>
<h3>
<span id="WinXP:_Profundidade_de_bit_n.C3.A3o_pode_ser_maior_que_16"></span><span class="mw-headline" id="WinXP:_Profundidade_de_bit_não_pode_ser_maior_que_16">WinXP: Profundidade de bit não pode ser maior que 16</span>
</h3>
<p>Se você estiver executando com profundidade de cor de 16 bits, os ícones podem aparecer embaçados. No entanto, ao tentar mudar a profundidade de cor para um nível mais alto, o sistema pode restringi-lo a uma resolução mais baixa ou simplesmente não permitir que você mude a profundidade de cor. Para corrigir isso, execute <code>regedit</code> no Windows e adicione a seguinte chave ao registro da máquina virtual Windows XP:
</p>
<pre>[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services]
"ColorDepth"=dword:00000004
</pre>
<p>Em seguida, atualize a profundidade de cor na janela de "propriedades de desktop". Se nada acontecer, force a tela a redesenhar por algum método (por exemplo, <code>Host+f</code> para redesenhar/entrar em tela cheia).
</p>
<h3>
<span id="Windows:_Tela_pisca_se_a_acelera.C3.A7.C3.A3o_3D_estiver_habilitada"></span><span class="mw-headline" id="Windows:_Tela_pisca_se_a_aceleração_3D_estiver_habilitada">Windows: Tela pisca se a aceleração 3D estiver habilitada</span>
</h3>
<p>VirtualBox &gt; 4.3.14 tem uma regressão na qual convidados Windows com aceleração 3D piscam. Desde a r120678, um patch foi implementado para reconhecer uma <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">variável de ambiente</a>, inicie o VirtualBox assim:
</p>
<pre>$ CR_RENDER_FORCE_PRESENT_MAIN_THREAD=0 VirtualBox
</pre>
<p>Certifique-se de que nenhum serviço do VirtualBox ainda esteja em execução. Veja <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/13653">bug 13653 do VirtualBox</a>.
</p>
<h3>
<span id="N.C3.A3o_.C3.A9_poss.C3.ADvel_iniciar_o_VirtualBox_com_Wayland:_Falha_de_segmenta.C3.A7.C3.A3o"></span><span class="mw-headline" id="Não_é_possível_iniciar_o_VirtualBox_com_Wayland:_Falha_de_segmentação">Não é possível iniciar o VirtualBox com Wayland: Falha de segmentação</span>
</h3>
<p>Este problema é causado pelo Qt detectando o Wayland (por exemplo, se <code>XDG_SESSION_TYPE=wayland</code>), enquanto o VirtualBox ainda não funciona no Wayland. Veja <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/58761">FS#58761</a> e o <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/18679">bug upstream</a>.
</p>
<p>A detecção da plataforma Qt pode ser desabilitada e o X11 forçado sobre o Wayland definindo a <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">variável de ambiente</a> <code>QT_QPA_PLATFORM=xcb</code>.
Para não afetar os outros aplicativos Qt (que geralmente funcionam bem com o Wayland), <code>QT_QPA_PLATFORM=xcb</code> deve ser definido apenas ao iniciar o VirtualBox.
</p>
<p>Se iniciar através da <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop entry">entrada de desktop</a>, siga as instruções em <a href="../en/Desktop_entries.html#Modify_environment_variables" title="Desktop entries">Desktop entries#Modify environment variables</a> e altere as linhas que começam com <code>Exec=VirtualBox ...</code> para <code>Exec=env QT_QPA_PLATFORM=xcb VirtualBox ...</code>. Se iniciar pelo shell, crie um <a href="../en/Bash.html#Aliases" title="Bash">alias</a> para <code>virtualbox</code> como <code>env QT_QPA_PLATFORM=xcb virtualbox</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você tiver problemas relacionados ao mouse ou teclado no Wayland, também pode tentar a configuração acima.</div>
<h3>
<span id="Congelamento_aleat.C3.B3rio_em_convidados_com_GPU_Intel"></span><span class="mw-headline" id="Congelamento_aleatório_em_convidados_com_GPU_Intel">Congelamento aleatório em convidados com GPU Intel</span>
</h3>
<p>Com CPU e gráficos Intel, alocar mais processadores para o convidado pode diminuir o desempenho de renderização, causando congelamento aleatório. Alocar menos processadores pode ajudar.
</p>
<h3><span class="mw-headline" id="Incapaz_de_visualizar_o_desktop_no_modo_de_tela_cheia">Incapaz de visualizar o desktop no modo de tela cheia</span></h3>
<p>Desative a Mini Barra de Ferramentas selecionando <i>Máquina &gt; Configurações</i>, selecione a aba <i>Interface do Usuário</i> e desmarque a caixa de seleção <i>Mini Barra de Ferramentas</i>.
</p>
<h3>
<span id="Travamentos_aleat.C3.B3rios_com_sistema_operacional_convidado_Windows_10_com_chipset_Intel_Tiger_Lake"></span><span class="mw-headline" id="Travamentos_aleatórios_com_sistema_operacional_convidado_Windows_10_com_chipset_Intel_Tiger_Lake">Travamentos aleatórios com sistema operacional convidado Windows 10 com chipset Intel Tiger Lake</span>
</h3>
<p>Desabilite a detecção de divisão de bloqueio adicionando <code>split_lock_detect=off</code> aos <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">parâmetros do kernel</a>.
</p>
<p>Detalhes estão descritos no <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/20180#comment:8">Ticket #20180</a> do VirtualBox.
</p>
<h3>
<span id="Falha_ao_salvar_as_configura.C3.A7.C3.B5es_ao_habilitar_o_Secure_Boot"></span><span class="mw-headline" id="Falha_ao_salvar_as_configurações_ao_habilitar_o_Secure_Boot">Falha ao salvar as configurações ao habilitar o Secure Boot</span>
</h3>
<p>No VirtualBox 7.0.0, habilitar o Secure Boot em uma máquina virtual que foi criada em uma versão anterior do VirtualBox falhará com um erro indescritível (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/76234">FS#76234</a>):
</p>
<pre>Falha ao salvar as configurações.
</pre>
<p>A solução é clicar no botão <i>Redefinir Chaves para Padrão</i> logo abaixo da caixa de seleção <i>Habilitar Secure Boot</i>.
</p>
<h3>
<span id="Falha_ao_iniciar_a_m.C3.A1quina_VirtualBox_ap.C3.B3s_usar_o_emulador_do_Android_Studio"></span><span class="mw-headline" id="Falha_ao_iniciar_a_máquina_VirtualBox_após_usar_o_emulador_do_Android_Studio">Falha ao iniciar a máquina VirtualBox após usar o emulador do Android Studio</span>
</h3>
<p>Os módulos de kernel KVM e VirtualBox podem ser carregados, mas não usados simultaneamente. O emulador do Android Studio é um emulador QEMU, que usa KVM para aceleração. Portanto, o emulador do Android Studio e a máquina VirtualBox (se a aceleração de hardware estiver habilitada) não podem ser executados ao mesmo tempo. Temos que usar um após o outro ter parado completamente.
</p>
<p>Às vezes, o módulo de kernel do VirtualBox ainda pode ser usado inesperadamente por algum processo e manter todas as máquinas VirtualBox falhando ao iniciar, a mensagem de erro no GUI do VirtualBox é "Ocorreu um erro crítico".
</p>
<p>Neste momento, podemos verificar e recarregar os módulos de kernel do VirtualBox usando <code>vboxreload</code> como root. Se disser que alguns módulos ainda estão em uso, você precisa matar o processo relacionado manualmente e executar novamente o comando.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/UserManual.html">Manual do Usuário do VirtualBox</a></li>
<li><a href="https://en.wikipedia.org/wiki/VirtualBox" class="extiw" title="wikipedia:VirtualBox">Wikipedia:VirtualBox</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Hypervisors.html" title="Category:Hypervisors (Português)">Hypervisors (Português)</a></li>
<li><a href="../pt/Category:Oracle.html" title="Category:Oracle (Português)">Oracle (Português)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=VirtualBox_(Portugu%C3%AAs)&amp;oldid=813786">https://wiki.archlinux.org/index.php?title=VirtualBox_(Português)&amp;oldid=813786</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 4 August 2024, at 09:52.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
