<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_Italiano rootpage-Systemd_Italiano skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Utilizzo_di_base_di_systemctl" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilizzo_di_base_di_systemctl">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Utilizzo di base di systemctl</div>
		</a>
		
			<button aria-controls="toc-Utilizzo_di_base_di_systemctl-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilizzo di base di systemctl subsection</span>
			</button>
		
		<ul id="toc-Utilizzo_di_base_di_systemctl-sublist" class="vector-toc-list">
			<li id="toc-Utilizzo_delle_unità" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utilizzo_delle_unit%C3%A0">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Utilizzo delle unità</div>
			</a>
			
			<ul id="toc-Utilizzo_delle_unità-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gestione_energetica" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gestione_energetica">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Gestione energetica</div>
			</a>
			
			<ul id="toc-Gestione_energetica-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Scrittura_dei_file_unità" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Scrittura_dei_file_unit%C3%A0">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Scrittura dei file unità</div>
		</a>
		
			<button aria-controls="toc-Scrittura_dei_file_unità-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Scrittura dei file unità subsection</span>
			</button>
		
		<ul id="toc-Scrittura_dei_file_unità-sublist" class="vector-toc-list">
			<li id="toc-Gestione_delle_dipendenze" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gestione_delle_dipendenze">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Gestione delle dipendenze</div>
			</a>
			
			<ul id="toc-Gestione_delle_dipendenze-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tipi_di_servizi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Tipi_di_servizi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Tipi di servizi</div>
			</a>
			
			<ul id="toc-Tipi_di_servizi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modifica_delle_unità_fornite" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modifica_delle_unit%C3%A0_fornite">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Modifica delle unità fornite</div>
			</a>
			
			<ul id="toc-Modifica_delle_unità_fornite-sublist" class="vector-toc-list">
				<li id="toc-File_unità_sostitutivi" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#File_unit%C3%A0_sostitutivi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>File unità sostitutivi</div>
			</a>
			
			<ul id="toc-File_unità_sostitutivi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-File_di_drop-in" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#File_di_drop-in">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>File di drop-in</div>
			</a>
			
			<ul id="toc-File_di_drop-in-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Tornare_alla_versione_fornita_in_origine" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Tornare_alla_versione_fornita_in_origine">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.3</span>Tornare alla versione fornita in origine</div>
			</a>
			
			<ul id="toc-Tornare_alla_versione_fornita_in_origine-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Esempi" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Esempi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.4</span>Esempi</div>
			</a>
			
			<ul id="toc-Esempi-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Target" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Target">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Target</div>
		</a>
		
			<button aria-controls="toc-Target-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Target subsection</span>
			</button>
		
		<ul id="toc-Target-sublist" class="vector-toc-list">
			<li id="toc-Rilevare_i_target_attualmente_in_uso" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Rilevare_i_target_attualmente_in_uso">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Rilevare i target attualmente in uso</div>
			</a>
			
			<ul id="toc-Rilevare_i_target_attualmente_in_uso-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Creazione_di_un_target_personalizzato" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Creazione_di_un_target_personalizzato">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Creazione di un target personalizzato</div>
			</a>
			
			<ul id="toc-Creazione_di_un_target_personalizzato-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mappatura_tra_i_runlevel_SysV_e_i_target_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mappatura_tra_i_runlevel_SysV_e_i_target_systemd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Mappatura tra i runlevel SysV e i target systemd</div>
			</a>
			
			<ul id="toc-Mappatura_tra_i_runlevel_SysV_e_i_target_systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Cambiare_il_target_attualmente_in_uso" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Cambiare_il_target_attualmente_in_uso">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Cambiare il target attualmente in uso</div>
			</a>
			
			<ul id="toc-Cambiare_il_target_attualmente_in_uso-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modifica_del_target_di_default_in_cui_effettuare_il_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modifica_del_target_di_default_in_cui_effettuare_il_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Modifica del target di default in cui effettuare il boot</div>
			</a>
			
			<ul id="toc-Modifica_del_target_di_default_in_cui_effettuare_il_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ordine_del_target_di_default" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ordine_del_target_di_default">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Ordine del target di default</div>
			</a>
			
			<ul id="toc-Ordine_del_target_di_default-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Componenti_di_systemd" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Componenti_di_systemd">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Componenti di systemd</div>
		</a>
		
			<button aria-controls="toc-Componenti_di_systemd-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Componenti di systemd subsection</span>
			</button>
		
		<ul id="toc-Componenti_di_systemd-sublist" class="vector-toc-list">
			<li id="toc-Montaggio_systemd.mount" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Montaggio_systemd.mount">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Montaggio systemd.mount</div>
			</a>
			
			<ul id="toc-Montaggio_systemd.mount-sublist" class="vector-toc-list">
				<li id="toc-Montaggio_automatico_di_una_partizione_GPT" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Montaggio_automatico_di_una_partizione_GPT">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Montaggio automatico di una partizione GPT</div>
			</a>
			
			<ul id="toc-Montaggio_automatico_di_una_partizione_GPT-sublist" class="vector-toc-list">
				<li id="toc-/var" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#/var">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1.1</span>/var</div>
			</a>
			
			<ul id="toc-/var-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-systemd-sysvcompat" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-sysvcompat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>systemd-sysvcompat</div>
			</a>
			
			<ul id="toc-systemd-sysvcompat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd-tmpfiles_-_file_temporanei" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-tmpfiles_-_file_temporanei">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>systemd-tmpfiles - file temporanei</div>
			</a>
			
			<ul id="toc-systemd-tmpfiles_-_file_temporanei-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Trucchi_e_suggerimenti" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Trucchi_e_suggerimenti">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Trucchi e suggerimenti</div>
		</a>
		
			<button aria-controls="toc-Trucchi_e_suggerimenti-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Trucchi e suggerimenti subsection</span>
			</button>
		
		<ul id="toc-Trucchi_e_suggerimenti-sublist" class="vector-toc-list">
			<li id="toc-Strumenti_GUI_di_configurazione" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Strumenti_GUI_di_configurazione">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Strumenti GUI di configurazione</div>
			</a>
			
			<ul id="toc-Strumenti_GUI_di_configurazione-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Esecuzione_di_servizi_dopo_l'attivazione_della_rete" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Esecuzione_di_servizi_dopo_l'attivazione_della_rete">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Esecuzione di servizi dopo l'attivazione della rete</div>
			</a>
			
			<ul id="toc-Esecuzione_di_servizi_dopo_l'attivazione_della_rete-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Abilitazione_delle_unità_installate_come_impostazione_predefinita" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Abilitazione_delle_unit%C3%A0_installate_come_impostazione_predefinita">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Abilitazione delle unità installate come impostazione predefinita</div>
			</a>
			
			<ul id="toc-Abilitazione_delle_unità_installate_come_impostazione_predefinita-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sandboxing_degli_ambienti_applicazione" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Sandboxing_degli_ambienti_applicazione">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Sandboxing degli ambienti applicazione</div>
			</a>
			
			<ul id="toc-Sandboxing_degli_ambienti_applicazione-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Notifiche_di_fallimento_dei_servizi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Notifiche_di_fallimento_dei_servizi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Notifiche di fallimento dei servizi</div>
			</a>
			
			<ul id="toc-Notifiche_di_fallimento_dei_servizi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Spegnimento_automatico_di_un_hard_disk_esterno_all'arresto" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Spegnimento_automatico_di_un_hard_disk_esterno_all'arresto">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>Spegnimento automatico di un hard disk esterno all'arresto</div>
			</a>
			
			<ul id="toc-Spegnimento_automatico_di_un_hard_disk_esterno_all'arresto-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Risoluzione_di_problemi" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Risoluzione_di_problemi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Risoluzione di problemi</div>
		</a>
		
			<button aria-controls="toc-Risoluzione_di_problemi-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Risoluzione di problemi subsection</span>
			</button>
		
		<ul id="toc-Risoluzione_di_problemi-sublist" class="vector-toc-list">
			<li id="toc-Indagare_sui_servizi_falliti" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Indagare_sui_servizi_falliti">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Indagare sui servizi falliti</div>
			</a>
			
			<ul id="toc-Indagare_sui_servizi_falliti-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Diagnosi_dei_problemi_di_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Diagnosi_dei_problemi_di_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Diagnosi dei problemi di boot</div>
			</a>
			
			<ul id="toc-Diagnosi_dei_problemi_di_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Diagnosi_di_un_servizio" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Diagnosi_di_un_servizio">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.3</span>Diagnosi di un servizio</div>
			</a>
			
			<ul id="toc-Diagnosi_di_un_servizio-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lo_spegnimento/il_riavvio_impiega_un_tempo_eccessivamente_lungo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Lo_spegnimento/il_riavvio_impiega_un_tempo_eccessivamente_lungo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.4</span>Lo spegnimento/il riavvio impiega un tempo eccessivamente lungo</div>
			</a>
			
			<ul id="toc-Lo_spegnimento/il_riavvio_impiega_un_tempo_eccessivamente_lungo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-I_processi_con_breve_tempo_di_esecuzione_non_registrano_alcun_output_nel_log" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#I_processi_con_breve_tempo_di_esecuzione_non_registrano_alcun_output_nel_log">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.5</span>I processi con breve tempo di esecuzione non registrano alcun output nel log</div>
			</a>
			
			<ul id="toc-I_processi_con_breve_tempo_di_esecuzione_non_registrano_alcun_output_nel_log-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Il_tempo_di_boot_aumenta_nel_tempo" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Il_tempo_di_boot_aumenta_nel_tempo">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.6</span>Il tempo di boot aumenta nel tempo</div>
			</a>
			
			<ul id="toc-Il_tempo_di_boot_aumenta_nel_tempo-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd-tmpfiles-setup.service_non_si_avvia_al_boot" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-tmpfiles-setup.service_non_si_avvia_al_boot">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.7</span>systemd-tmpfiles-setup.service non si avvia al boot</div>
			</a>
			
			<ul id="toc-systemd-tmpfiles-setup.service_non_si_avvia_al_boot-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Disabilitazione_delle_modalità_di_emergenza_sulla_macchina_remota" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Disabilitazione_delle_modalit%C3%A0_di_emergenza_sulla_macchina_remota">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.8</span>Disabilitazione delle modalità di emergenza sulla macchina remota</div>
			</a>
			
			<ul id="toc-Disabilitazione_delle_modalità_di_emergenza_sulla_macchina_remota-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Vedere_anche" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Vedere_anche">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Vedere anche</div>
		</a>
		
		<ul id="toc-Vedere_anche-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd (Italiano)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 9 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-9" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">9 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Systemd" title="Systemd – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Systemd.html" title="Systemd – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Systemd.html" title="Systemd – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fi mw-list-item"><a href="../fi/Systemd.html" title="Systemd – suomi" lang="fi" hreflang="fi" class="interlanguage-link-target"><span>Suomi</span></a></li>
<li class="interlanguage-link interwiki-fr mw-list-item"><a href="../fr/Systemd.html" title="Systemd – français" lang="fr" hreflang="fr" class="interlanguage-link-target"><span>Français</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd" title="Systemd – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Systemd.html" title="Systemd – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Systemd.html" title="Systemd – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd" title="Systemd – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="it" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Translation Status:</strong> This article is a localized version of <a href="../en/Systemd.html" title="Systemd">systemd</a>. Last translation date: 2024-02-20. You can help to synchronize the translation, if there were <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd&amp;diff=0&amp;oldid=730044">changes</a> in the English version.</div>
<div class="archwiki-template-meta-related-articles">
<p>Articoli correlati</p>
<ul>
<li><a href="../it/Systemd/User.html" title="Systemd (Italiano)/User (Italiano)">/User (Italiano)</a></li>
<li><a href="../en/Systemd/Timers.html" class="mw-redirect" title="Systemd (Italiano)/Timers (Italiano)">/Timers (Italiano)</a></li>
<li><a href="../en/Systemd/Journal.html" class="mw-redirect" title="Systemd (Italiano)/Journal (Italiano)">/Journal (Italiano)</a></li>
<li><a href="../en/Systemd/FAQ.html" class="mw-redirect" title="Systemd (Italiano)/FAQ (Italiano)">/FAQ (Italiano)</a></li>
<li><a href="../en/Init.html" class="mw-redirect" title="Init (Italiano)">init (Italiano)</a></li>
<li><a href="../en/Udev.html" class="mw-redirect" title="Udev (Italiano)">udev (Italiano)</a></li>
<li><a href="../en/Improving_performance/Boot_process.html" class="mw-redirect" title="Improving performance (Italiano)/Boot process (Italiano)">Improving performance (Italiano)/Boot process (Italiano)</a></li>
<li><a href="../en/Power_management.html#Allow_users_to_shutdown" class="mw-redirect" title="Allow users to shutdown (Italiano)">Allow users to shutdown (Italiano)</a></li>
</ul>
</div>
<p>Dalla <a rel="nofollow" class="external text" href="https://systemd.io/">pagina web del progetto</a>:
</p>
<dl><dd>
<i>systemd</i> è una suite di elementi costruttivi di base per un sistema Linux. Fornisce un'infrastruttura di gestione dei servizi e del sistema che viene eseguita come PID 1 e avvia il resto del sistema. <i>systemd</i> offre funzionalità di parallelizzazione particolarmente aggressive, utilizza l'attivazione di socket e <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a> per l'avvio dei sistemi, permette di avviare i demoni su una base on-demand, tiene traccia dei processi utilizzando i <a href="../en/Cgroups.html" class="mw-redirect" title="Control groups">gruppi di controllo</a> del kernel Linux, gestisce i punti di mount e di automount, e implementa un'elaborata logica di controllo transazionale dei servizi basata sulle dipendenze. <i>systemd</i> supporta gli script di init SysV e LSB e opera in sostituzione di sysvinit. Altri componenti includono un demone di logging, utilità per il controllo di elementi di base della configurazione del sistema quali hostname, data, localizzazione, conservazione di un elenco degli utenti che hanno effettuato il login ed esecuzione di contenitori e macchine virtuali, account di sistema, cartelle e impostazioni di runtime, e demoni per la gestione di elementi semplici della configurazione di rete, sincronizzazione dell'ora con la rete, inoltro dei log, e risoluzione dei nomi.</dd></dl>
<p>Storicamente, ciò che è chiamato "servizio" da systemd era in precedenza conosciuto come <a href="https://en.wikipedia.org/wiki/it:Demone_(informatica)" class="extiw" title="wikipedia:it:Demone (informatica)">demone</a>: qualunque programma che sia in esecuzione come processo in "background" (in assenza di un terminale o di un'interfaccia utente), che di norma rimane in attesa che si verifichino specifici eventi e offre servizi. Un buon esempio è un server web che attende una richiesta per fornire una pagina, o un server ssh che attende che qualcuno tenti di effettuare il login. Mentre in questi casi si tratta di applicazioni complete, sono presenti demoni il cui lavoro non è visibile. I demoni vengono utilizzati per compiti quali la scrittura di messaggi in un file di log (ad es. <code>syslog</code>, <code>metalog</code>) o il mantenimento di valori accurati per l'ora di sistema (ad es. <a href="../en/Network_Time_Protocol_daemon.html" class="mw-redirect" title="Network Time Protocol daemon (Italiano)">ntpd</a>). Per maggiori informazioni vedere <span class="plainlinks archwiki-template-man" title="$ man 7 daemon"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/daemon.7">daemon(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Per una spiegazione dettagliata delle ragioni alla base della decisione di Arch di passare a <i>systemd</i>, vedere <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1149530#p1149530">questo post sul forum</a>.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Utilizzo_di_base_di_systemctl">Utilizzo di base di systemctl</span></h2>
<p>Il comando principale utilizzato per analizzare e controllare <i>systemd</i> è <i>systemctl</i>. Le sue funzioni sono esaminare lo stato del sistema e gestire il sistema stesso e i relativi servizi. Vedere <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemctl.1">systemctl(1)</a></span> per maggiori dettagli.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Suggerimento:</strong> 
<ul>
<li>È possibile utilizzare tutti i seguenti comandi <i>systemctl</i> con lo switch <code>-H <i>user</i>@<i>host</i></code> per controllare un'istanza <i>systemd</i> su una macchina remota. Questa funzione utilizzerà <a href="../en/Secure_Shell.html" class="mw-redirect" title="Secure Shell (Italiano)">SSH</a> per connettersi all'istanza remota di <i>systemd</i>.</li>
<li>Gli utenti <a href="../it/KDE.html#Plasma" title="KDE (Italiano)">Plasma</a> possono installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemdgenie">systemdgenie</a></span> come interfaccia grafica per <i>systemctl</i>. Una volta installato, il modulo verrà aggiunto nella categoria di programmi <i>Sistema</i>.</li>
</ul>
</div>
<h3>
<span id="Utilizzo_delle_unit.C3.A0"></span><span class="mw-headline" id="Utilizzo_delle_unità">Utilizzo delle unità</span>
</h3>
<p>Le unità includono di norma, tra gli altri, servizi (<i>.service</i>), punti di mount (<i>.mount</i>), dispositivi (<i>.device</i>) e socket (<i>.socket</i>).
</p>
<p>Quando si utilizza <i>systemctl</i>, è generalmente necessario specificare il nome completo del file dell'unità, incluso il suffisso, ad esempio <code>sshd.socket</code>. Sono tuttavia disponibili alcune forme abbreviate per specificare l'unità nei seguenti comandi <i>systemctl</i>:
</p>
<ul>
<li>Se non si specifica il suffisso, systemctl darà per sottinteso il suffisso <i>.service</i>. Ad esempio, <code>netctl</code> e <code>netctl.service</code> sono equivalenti.</li>
<li>I punti di mount verranno tradotti automaticamente nell'appropriata unità <i>.mount</i>. Ad esempio, specificare <code>/home</code> è equivalente a <code>home.mount</code>.</li>
<li>Analogamente ai punti di mount, i dispositivi vengono automaticamente tradotti nell'unità <i>.device</i> appropriata, pertanto specificare <code>/dev/sda2</code> è equivalente a <code>dev-sda2.device</code>.</li>
</ul>
<p>Vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span> per maggiori dettagli.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Alcuni nomi di unità contengono un carattere <code>@</code> (ad es. <code>nome@<i>stringa</i>.service</code>): ciò significa che si tratta di <a rel="nofollow" class="external text" href="https://0pointer.net/blog/projects/instances.html">istanze</a> di un'unità <i>modello</i>, il cui nome file effettivo non contiene la parte <code><i>stringa</i></code> (ad es. <code>nome@.service</code>). L'elemento <code><i>stringa</i></code> è detto <i>identificatore di istanza</i>, ed è simile a un argomento passato all'unità modello quando questa viene richiamata mediante il comando <i>systemctl</i>: nel file dell'unità andrà a sostituire l'elemento di specificazione <code>%i</code>. Per essere più precisi, <i>prima</i> di tentare di assegnare un'istanza all'unità modello <code>nome@.<i>suffisso</i></code>, <i>systemd</i> cercherà effettivamente un'unità esattamente con il nome file <code>nome@<i>stringa</i>.<i>suffisso</i></code>, benché per convenzione questo tipo di conflitto si verifichi raramente, in quanto la maggior parte dei file unità contenenti un carattere <code>@</code> sono concepiti come modelli. Pertanto, se un'unità modello viene chiamata senza un identificatore di istanza, restituirà in genere un errore (fatta eccezione per determinati comandi <i>systemctl</i>, come <code>cat</code>).</div>
<p>I comandi riportati nella tabella di seguito operano sulle <b>unità di sistema</b> dal momento che <code>--system</code> è sottinteso come impostazione di default per <i>systemctl</i>. Per operare invece sulle <b>unità utente</b> (per l<i>utente che effettua la chiamata</i>), utilizzare <a href="../it/Systemd/User.html#Come_funziona" title="Systemd (Italiano)/User (Italiano)">systemctl --user</a> senza privilegi di root. Vedere anche <a href="../it/Systemd/User.html#Configurazione_di_base" title="Systemd (Italiano)/User (Italiano)">systemd (Italiano)/User (Italiano)#Configurazione di base</a> per abilitare/disabilitare le unità utente per <i>tutti gli utenti</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Suggerimento:</strong> 
<ul>
<li>La maggior parte dei comandi funziona anche specificando unità multiple, vedere <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemctl.1">systemctl(1)</a></span> per maggiori informazioni.</li>
<li>Lo switch <code>--now</code> può essere utilizzato in associazione con <code>enable</code>, <code>disable</code>, e <code>mask</code> rispettivamente per avviare, arrestare o mascherare l'unità <i>immediatamente</i> anziché dopo il reboot.</li>
<li>Un pacchetto può offrire unità per diverse finalità. Se si è appena installato un pacchetto, è possibile utilizzare il comando <code>pacman -Qql <i>pacchetto</i> | grep -Fe .service -e .socket</code> per verificare la presenza di dette unità.</li>
</ul>
</div>
<table class="wikitable">
<tbody>
<tr>
<th>Azione</th>
<th>Comando</th>
<th>Nota
</th>
</tr>
<tr>
<th colspan="3">Analisi dello stato del sistema
</th>
</tr>
<tr>
<td><b>Mostra lo stato del sistema</b></td>
<td><code>systemctl status</code></td>
<td>
</td>
</tr>
<tr>
<td>
<b>Elenca</b> le unità <b>in esecuzione</b>
</td>
<td>
<code>systemctl</code> oppure<br><code>systemctl list-units</code>
</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Elenca</b> le unità <b>con errori</b>
</td>
<td><code>systemctl --failed</code></td>
<td>
</td>
</tr>
<tr>
<td>
<b>Elenca</b> il file unità <b>installati</b><sup>1</sup>
</td>
<td><code>systemctl list-unit-files</code></td>
<td>
</td>
</tr>
<tr>
<td>
<b>Mostra lo stato del processo</b> per un PID</td>
<td><code>systemctl status <i>pid</i></code></td>
<td>
<a href="../en/Cgroups.html" title="Cgroups">cgroup slice</a>, memoria e parent
</td>
</tr>
<tr>
<th colspan="3">Controllo dello stato dell'unità
</th>
</tr>
<tr>
<td>
<b>Mostra una pagina del manuale</b> associata a un'unità</td>
<td><code>systemctl help <i>unità</i></code></td>
<td>se supportato dall'unità
</td>
</tr>
<tr>
<td>
<b>Stato</b> di un'unità</td>
<td><code>systemctl status <i>unità</i></code></td>
<td>inclusa l'indicazione se l'unità è in esecuzione o no
</td>
</tr>
<tr>
<td>
<b>Verifica</b> dell'abilitazione di un'unità</td>
<td><code>systemctl is-enabled <i>unità</i></code></td>
<td>
</td>
</tr>
<tr>
<th colspan="3">Avvio, riavvio, ricaricamento di un'unità
</th>
</tr>
<tr>
<td>
<b>Avvio</b> immediato di un'unità</td>
<td>
<code>systemctl start <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Arresto</b> immediato di un'unità</td>
<td>
<code>systemctl stop <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Riavvio</b> di un'unità</td>
<td>
<code>systemctl restart <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Ricaricaemnto</b> di un'unità e della relativa configurazione</td>
<td>
<code>systemctl reload <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Ricaricamento</b> della configurazione di <b>systemd manager</b><sup>2</sup>
</td>
<td>
<code>systemctl daemon-reload</code> come root</td>
<td>scansione alla ricerca di unità nuove o modificate
</td>
</tr>
<tr>
<th colspan="3">Abilitazione di un'unità
</th>
</tr>
<tr>
<td>
<b>Abilitazione</b> di un'unità per l'avvio automatico al boot</td>
<td>
<code>systemctl enable <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Abilitazione</b> di un'unità per l'avvio automatico al boot e suo <b>avvio</b> immediato</td>
<td>
<code>systemctl enable --now <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Disabilitazione</b> di un'unità affinché non si avvi più al boot</td>
<td>
<code>systemctl disable <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Ri-abilitazione</b> di un'unità<sup>3</sup>
</td>
<td>
<code>systemctl reenable <i>unità</i></code> come root</td>
<td>disabilitazione e nuova abilitazione
</td>
</tr>
<tr>
<th colspan="3">Mascheratura di un'unità
</th>
</tr>
<tr>
<td>
<b>Mascheratura</b> di un'unità per renderne impossibile l'avvio<sup>4</sup>
</td>
<td>
<code>systemctl mask <i>unità</i></code> come root</td>
<td>
</td>
</tr>
<tr>
<td>
<b>Eliminazione della maschera</b> da un'unità</td>
<td>
<code>systemctl unmask <i>unità</i></code> come root</td>
<td>
</td>
</tr>
</tbody>
</table>
<ol>
<li>Vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5#UNIT_FILE_LOAD_PATH">systemd.unit(5) § UNIT FILE LOAD PATH</a></span> per informazioni sulle cartelle in cui sono contenuti i file unità.</li>
<li>Questo comando non chiede alle unità modificate di ricaricare le proprie configurazioni (vedere l'azione <b>Ricaricamento</b>).</li>
<li>Ad esempio nel caso la sezione <code>[Install]</code> dell'unità sia cambiata dopo la sua ultima abilitazione.</li>
<li>Sia manualmente che come dipendenza, motivo per cui la mascheratura risulta una pratica pericolosa. Verificare l'eventuale presenza di unità mascherate con il comando: <pre>$ systemctl list-unit-files --state=masked</pre>
</li>
</ol>
<h3><span class="mw-headline" id="Gestione_energetica">Gestione energetica</span></h3>
<p><a href="../en/Polkit.html" title="Polkit">polkit</a> è necessario per la gestione energetica come utente senza privilegi. Se ci si trova in una sessione utente <i>systemd-logind</i> locale e non è presente nessun'altra sessione attiva, i seguenti comandi funzioneranno senza privilegi. In caso contrario (ad esempio, poiché un altro utente ha eseguito il login in un tty), <i>systemd</i> richiederà automaticamente la password di root.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Azione</th>
<th>Comando
</th>
</tr>
<tr>
<td>Arresto e reboot del sistema</td>
<td>
<code>systemctl reboot</code>
</td>
</tr>
<tr>
<td>Arresto e spegnimento del sistema</td>
<td>
<code>systemctl poweroff</code>
</td>
</tr>
<tr>
<td>Sospensione del sistema</td>
<td>
<code>systemctl suspend</code>
</td>
</tr>
<tr>
<td>Ibernazione del sistema (scrittura della ram su disco)</td>
<td>
<code>systemctl hibernate</code>
</td>
</tr>
<tr>
<td>Il sistema viene messo in uno stato ibrido di sospensione (noto anche come suspend-to-both, che salva la RAM sul disco per poi procedere alla sospensione)</td>
<td>
<code>systemctl hybrid-sleep</code>
</td>
</tr>
<tr>
<td>Prima sospende il sistema, dopodiché lo riattiva dopo un tempo configurato solo per poi ibernarlo</td>
<td>
<code>systemctl suspend-then-hibernate</code>
</td>
</tr>
</tbody>
</table>
<h2>
<span id="Scrittura_dei_file_unit.C3.A0"></span><span class="mw-headline" id="Scrittura_dei_file_unità">Scrittura dei file unità</span>
</h2>
<p>La sintassi dei file unità <i>systemd</i> (<span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span>) è ispirata da quella dei <a href="../en/Desktop_entries.html" title="Desktop entries">XDG Desktop Entry Specification file .desktop</a> i quali, a loro volta, si ispirano ai <a href="https://en.wikipedia.org/wiki/it:File_INI" class="extiw" title="wikipedia:it:File INI">file . ini di Microsoft Windows</a>. I file unità vengono caricati da diverse posizioni (per un elenco completo, eseguire <code>systemctl show --property=UnitPath</code>), ma le principali sono (riportate in ordine crescente di precedenza):
</p>
<ul>
<li>
<code>/usr/lib/systemd/system/</code>: unità fornite dai pacchetti installati</li>
<li>
<code>/etc/systemd/system/</code>: unità installate dall'amministratore di sistema</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>I percorsi di caricamento sono completamente diversi quando si esegue <i>systemd</i> in <a href="../it/Systemd/User.html#Come_funziona" title="Systemd (Italiano)/User (Italiano)">modalità utente</a>.</li>
<li>i nomi unità <i>systemd</i> possono contenere solo caratteri alfanumerici ASCII, underscore e punti. Tutti gli altri caratteri devono essere sostituiti da stringhe escape "\x2d" in stile C, o in alternativa è possibile utilizzare la rispettiva semantica predefinita ('@', '-'). Vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span> e <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-escape"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-escape.1">systemd-escape(1)</a></span> per maggiori informazioni.</li>
</ul>
</div>
<p>Per visualizzare degli esempi, analizzare le unità installate dai pacchetti nel proprio sistema o vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5#EXAMPLES">systemd.service(5) § EXAMPLES</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Suggerimento:</strong> È possibile utilizzare il carattere <code>#</code> per inserire commenti. Tuttavia è possibile commentare solo nuove linee. Non inserire commenti a fine linea dopo i parametri <i>systemd</i> o non sarà possibile attivare l'unità.</div>
<h3><span class="mw-headline" id="Gestione_delle_dipendenze">Gestione delle dipendenze</span></h3>
<p>Con <i>systemd</i>, le dipendenze possono essere risolte strutturando in modo corretto i file unità. Il caso più tipico è rappresentato dall'unità <i>A</i> che necessita che l'unità <i>B</i> sia in esecuzione prima che <i>A</i> possa essere avviata. In questo caso aggiungere <code>Requires=<i>B</i></code> e <code>After=<i>B</i></code> alla sezione <code>[Unit]</code> di <i>A</i>. Se la dipendenza è opzionale, aggiungere invece <code>Wants=<i>B</i></code> e <code>After=<i>B</i></code>. Notare che <code>Wants=</code> e <code>Requires=</code> non implicano <code>After=</code>. Ciò significa che se <code>After=</code> non viene specificato, le due unità verranno avviate in parallelo.
</p>
<p>Le dipendenze vengono tipicamente definite nei servizi e non nei <a href="#Target">target</a>. Ad esempio, <code>network.target</code> è richiamato da qualunque servizio si occupi della configurazione delle interfacce di rete, pertanto definire la propria unità personalizzata affinché si avvi dopo di esso è sufficiente, dal momento che <code>network.target</code> viene avviato in ogni caso.
</p>
<h3><span class="mw-headline" id="Tipi_di_servizi">Tipi di servizi</span></h3>
<p>Sono diverse le tipologie di avvio da considerare quando si scrive un file personalizzato per un servizio. La tipologia è definita dal parametro <code>Type=</code> nella sezione <code>[Service]</code>:
</p>
<ul>
<li>
<code>Type=simple</code> (default): <i>systemd</i> considera il servizio per l'avvio immediato. Il processo non deve essere eseguito come fork. Non utilizzare questa tipologia qualora altri servizi debbano essere ordinati sulla base di questo servizio, a meno che non sia attivato da un socket.</li>
<li>
<code>Type=forking</code>: <i>systemd</i> considera il servizio per l'avvio nel momento in cui il processo si avvia come fork e il processo parent viene terminato. A meno che non si sia certi che non risulta necessario, per i demoni classici utilizzare questa tipologia. È opportuno specificare anche <code>PIDFile=</code> in modo che <i>systemd</i> possa tenere traccia del processo principale.</li>
<li>
<code>Type=oneshot</code>: questa tipologia è utile per gli script che eseguono un singolo job per poi essere terminati. Può essere opportuno impostare anche <code>RemainAfterExit=yes</code>, in modo che <i>systemd</i> continui a considerare il servizio attivo anche dopo che è stato terminato. L'impostazione di <code>RemainAfterExit=yes</code> è appropriata per le unità che modificano lo stato del sistema (ad es., montaggio di una partizione).</li>
<li>
<code>Type=notify</code>: identico a <code>Type=simple</code>, ma con la condizione che il demone invierà un segnale a <i>systemd</i> quando è pronto. L'implementazione di riferimento per questa notifica è fornita da <i>libsystemd-daemon.so</i>.</li>
<li>
<code>Type=dbus</code>: il servizio è considerato pronto quando il <code>BusName</code> specificato compare nel bus di sistema di DBus.</li>
<li>
<code>Type=idle</code>: <i>systemd</i> ritarderà l'esecuzione del file binario del servizio fino a quando tutti i job sono stati avviati. A parte questo è molto simile a <code>Type=simple</code>.</li>
</ul>
<p>Vedere la pagina del manuale <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5#OPTIONS">systemd.service(5) § OPTIONS</a></span> per una spiegazione più dettagliata dei valori <code>Type</code>.
</p>
<h3>
<span id="Modifica_delle_unit.C3.A0_fornite"></span><span class="mw-headline" id="Modifica_delle_unità_fornite">Modifica delle unità fornite</span>
</h3>
<p>Per evitare conflitti con pacman, è opportuno evitare di modificare direttamente i file unità forniti dai pacchetti. Ci sono due modi per modificare in sicurezza un'unità senza intervenire sul file originale: creare un nuovo file unità che <a href="#File_unit%C3%A0_sostitutivi">abbia la precedenza sull'unità originale</a> o creare <a href="#File_di_drop-in">file drop-in</a> che vengono applicati al di sopra dell'unità originale. Con entrambi i metodi è necessario ricaricare l'unità per applicare le modifiche apportate. Per farlo è possibile modificare l'unità con il comando <code>systemctl edit</code> (che ricarica l'unità automaticamente) o ricaricando tutte le unità con:
</p>
<pre># systemctl daemon-reload
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Suggerimento:</strong> 
<ul>
<li>È possibile utilizzare <i>systemd-delta</i> per visualizzare quali file unità siano interessati da file con precedenza su di essi o da estensioni, e cosa sia effettivamente stato cambiato.</li>
<li>Utilizzare <code>systemctl cat <i>unità</i></code> per visualizzare il contenuto di un file unità e di tutti i file di drop-in associati.</li>
</ul>
</div>
<h4>
<span id="File_unit.C3.A0_sostitutivi"></span><span class="mw-headline" id="File_unità_sostitutivi">File unità sostitutivi</span>
</h4>
<p>Per sostituire il file unità <code>/usr/lib/systemd/system/<i>unità</i></code>, creare il file <code>/etc/systemd/system/<i>unità</i></code> e <a href="#Utilizzo_delle_unit%C3%A0">riabilitare</a> l'unità per aggiornare i link simbolici.
</p>
<p>In alternativa, eseguire:
</p>
<pre># systemctl edit --full <i>unità</i>
</pre>
<p>Questo comando apre il file <code>/etc/systemd/system/<i>unità</i></code> nel proprio editor di testo (copiando la versione installata se non ancora esistente) e ricaricandola automaticamente una volta terminate le modifiche.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Le unità inserite in sostituzione di quelle originali continueranno a essere utilizzate in futuro anche nel caso in cui dette unità originali dovessero essere aggiornate da Pacman. Questo metodo rende più difficoltosa la manutenzione del sistema, pertanto è da preferirsi l'approccio successivo.</div>
<h4><span class="mw-headline" id="File_di_drop-in">File di drop-in</span></h4>
<p>Per creare file di drop in per il file unità <code>/usr/lib/systemd/system/<i>unità</i></code>, creare la cartella <code>/etc/systemd/system/<i>unità</i>.d/</code> e inserirvi file con estensione <i>.conf</i> per sovrascrivere le opzioni del file unità originale o aggiungerne di nuove. <i>systemd</i> leggerà e applicherà il contenuto di questi file in modo prioritario rispetto all'unità originale.
</p>
<p>Il modo più facile per adottare questo approccio è eseguendo il comando:
</p>
<pre># systemctl edit <i>unità</i> --drop-in=<i>nome_drop_in</i>
</pre>
<p>Questo comando apre il file <code>/etc/systemd/system/<i>unit</i>.d/<i>nome_drop_in</i>.conf</code> nel proprio editor di testo (creandolo se necessario) e ricarica automaticamente l'unità una volta terminate le modifiche. Omettendo l'opzione <code>--drop-in=</code>, systemd utilizzerà il nome file di default <code>override.conf</code> .
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Rimane invariata la necessità di inserire la chiave nella sezione appropriata del file di override.</li>
<li>Non tutte le chiavi possono essere sovrascritte mediante file di drop-in. Ad esempio, per modificare la chiave <code>Conflicts=</code> <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/systemd-devel/2017-June/038976.html">è necessaria</a> la sostituzione del file unità originale.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Tornare_alla_versione_fornita_in_origine">Tornare alla versione fornita in origine</span></h4>
<p>Per annullare ogni modifica applicata a un file unità utilizzando il comando <code>systemctl edit</code> eseguire:
</p>
<pre># systemctl revert <i>unità</i>
</pre>
<h4><span class="mw-headline" id="Esempi">Esempi</span></h4>
<p>Ad esempio, se si desidera semplicemente aggiungere una dipendenza opzionale a un'unità, è possibile creare il seguente file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/<i>unità</i>.d/customdependency.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Requires=<i>nuova dipendenza</i>
After=<i>nuova dipendenza</i></pre>
<p>A titolo di ulteriore esempio, per sostituire l'istruzione <code>ExecStart</code>, creare il seguente file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/<i>unità</i>.d/customexec.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=<i>nuovo comando</i></pre>
<p>Notare come sia necessario azzerare <code>ExecStart</code> prima che sia possibile riassegnarvi un altro valore <a rel="nofollow" class="external autonumber" href="https://bugzilla.redhat.com/show_bug.cgi?id=756787#c9">[1]</a>. Lo stesso principio si applica a qualunque elemento che possa essere specificato più volte, ad es. <code>OnCalendar</code> per i timer.
</p>
<p>Un ulteriore esempio per riavviare automaticamente un servizio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/<i>unità</i>.d/restart.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
Restart=always
RestartSec=30</pre>
<h2><span class="mw-headline" id="Target">Target</span></h2>
<p><i>systemd</i> utilizza i <i>target</i> per raggruppare le unità per mezzo delle dipendenze e come punti di sincronizzazione standardizzati. La loro funzione è simile a quelle dei <a href="https://en.wikipedia.org/wiki/it:Runlevel" class="extiw" title="wikipedia:it:Runlevel">runlevel</a> ma agiscono in modo leggermente diverso. A ciascun <i>target</i> è associato un nome anziché un numero e ognuno di essi è concepito per svolgere una specifica funzione con la possibilità di averne pi di uno attivo allo stesso tempo. Alcuni <i>target</i> sono implementati ereditando tutti i servizi di un altro <i>target</i> e aggiungendone di altri. Sono presenti dei "target" <i>systemd</i> riproducono i comuni runlevel SystemVinit in modo da consentire di passare da un "target" all'altro utilizzando il comando <code>telinit RUNLEVEL</code> familiare.
</p>
<h3><span class="mw-headline" id="Rilevare_i_target_attualmente_in_uso">Rilevare i target attualmente in uso</span></h3>
<p>In <i>systemd</i> è preferibile utilizzare il seguente comando in luogo di <code>runlevel</code>:
</p>
<pre>$ systemctl list-units --type=target
</pre>
<h3><span class="mw-headline" id="Creazione_di_un_target_personalizzato">Creazione di un target personalizzato</span></h3>
<p>I runlevel che possedevano un significato definito in sysvinit (vale a dire 0, 1, 3, 5, e 6) possiedono una mappatura 1:1 con un "target" <i>systemd</i> specifico. Sfortunatamente non è disponibile alcuna soluzione ottimale per adottare il medesimo approccio per i runlevel definiti dall'utente quali 2 e 4. Nel caso si utilizzi uno di questi ultimi, si suggerisce di creare un "target" <i>systemd</i> con un nuovo nome come <code>/etc/systemd/system/<i>proprio target</i></code> che prenda uno dei runlevel esistenti come base (è possibile visualizzare <code>/usr/lib/systemd/system/graphical.target</code> come esempio), creare una directory <code>/etc/systemd/system/<i>proprio target</i>.wants</code>, e inserirvi i link simbolici ai servizi aggiuntivi presenti in <code>/usr/lib/systemd/system/</code> che si desidera abilitare.
</p>
<h3><span class="mw-headline" id="Mappatura_tra_i_runlevel_SysV_e_i_target_systemd">Mappatura tra i runlevel SysV e i target systemd</span></h3>
<table class="wikitable">
<tbody>
<tr>
<th>Runlevel SysV</th>
<th>Target systemd</th>
<th>Note
</th>
</tr>
<tr>
<td>0</td>
<td>runlevel0.target, poweroff.target</td>
<td>Arresta il sistema.
</td>
</tr>
<tr>
<td>1, s, single</td>
<td>runlevel1.target, rescue.target</td>
<td>Modalità utente singolo.
</td>
</tr>
<tr>
<td>2, 4</td>
<td>runlevel2.target, runlevel4.target, multi-user.target</td>
<td>Runlevel definiti dall'utente/specifici per il sito. Per impostazione predefinita, identici a 3.
</td>
</tr>
<tr>
<td>3</td>
<td>runlevel3.target, multi-user.target</td>
<td>Multi-utente, non grafico. Gli utenti possono di norma effettuare il login tramite console multiple o via rete.
</td>
</tr>
<tr>
<td>5</td>
<td>runlevel5.target, graphical.target</td>
<td>Multi-utente, grafico. Di norma possiede tutti i servizi del runlevel 3 più un login grafico.
</td>
</tr>
<tr>
<td>6</td>
<td>runlevel6.target, reboot.target</td>
<td>Riavvio
</td>
</tr>
<tr>
<td>emergency</td>
<td>emergency.target</td>
<td>Shell di emergenza
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Cambiare_il_target_attualmente_in_uso">Cambiare il target attualmente in uso</span></h3>
<p>In <i>systemd</i>, i target vengono esposti mediante <i>target unit</i>. È possibile modificarli come segue:
</p>
<pre># systemctl isolate graphical.target
</pre>
<p>Questo comando si limiterà a cambiare il target attuale, senza alcun effetto sul boot successivo. Equivale a comandi quali <code>telinit 3</code> o <code>telinit 5</code> in Sysvinit.
</p>
<h3><span class="mw-headline" id="Modifica_del_target_di_default_in_cui_effettuare_il_boot">Modifica del target di default in cui effettuare il boot</span></h3>
<p>Il target standard è <code>default.target</code>, che è un link simbolico a <code>graphical.target</code>. A grandi linee corrisponde al vecchio runlevel 5.
</p>
<p>Per verificare il target attuale con <i>systemctl</i>:
</p>
<pre>$ systemctl get-default
</pre>
<p>Per modificare il target di default in cui eseguire il boot modificare il link simbolico <code>default.target</code>. Con <i>systemctl</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># systemctl set-default multi-user.target</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Removed /etc/systemd/system/default.target.
Created symlink /etc/systemd/system/default.target -&gt; /usr/lib/systemd/system/multi-user.target.</pre>
<p>In alternativa, aggiungere i seguenti <a href="../en/Kernel_parameters.html" title="Kernel parameters">parametri del kernel</a> al proprio boot loader:
</p>
<ul>
<li>
<code>systemd.unit=multi-user.target</code> (che corrisponde a grandi linee al vecchio runlevel 3),</li>
<li>
<code>systemd.unit=rescue.target</code> (che corrisponde a grandi linee al vecchio runlevel 1).</li>
</ul>
<h3><span class="mw-headline" id="Ordine_del_target_di_default">Ordine del target di default</span></h3>
<p><i>systemd</i> sceglie il <code>default.target</code> sulla base del seguente ordine di priorità:
</p>
<ol>
<li>Il parametro del kernel precedentemente indicato</li>
<li>Link simbolico di <code>/etc/systemd/system/default.target</code>
</li>
<li>Link simbolico di <code>/usr/lib/systemd/system/default.target</code>
</li>
</ol>
<h2><span class="mw-headline" id="Componenti_di_systemd">Componenti di systemd</span></h2>
<p>Alcuni componenti (elenco non esaustivo) di <i>systemd</i> sono:
</p>
<ul>
<li>
<a href="../en/Kernel-install.html" title="Kernel-install">kernel-install</a> — uno script utilizzato per spostare automaticamente i <a href="../en/Kernel.html" class="mw-redirect" title="Kernel (Italiano)">kernel</a> e le rispettive immagini <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> nella partizione di boot;</li>
<li>
<a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> — semplice boot <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot manager">boot manager</a> UEFI;</li>
<li>
<a href="../en/Systemd-creds.html" title="Systemd-creds">systemd-creds</a> — per conservare in modo sicuro e recuperare le credenziali utilizzate dalle unità systemd;</li>
<li>
<a href="../en/Systemd-cryptenroll.html" title="Systemd-cryptenroll">systemd-cryptenroll</a> — registra i token/dispositivi PKCS#11, FIDO2, TPM2 nei volumi con cifratura LUKS2;</li>
<li>
<a href="../en/Systemd-firstboot.html" title="Systemd-firstboot">systemd-firstboot</a> — inizializzazione di base delle impostazioni di sistema prima del primo boot;</li>
<li>
<a href="../en/Systemd-homed.html" title="Systemd-homed">systemd-homed</a> — <a href="../en/Users_and_groups.html" class="mw-redirect" title="Users and groups (Italiano)">account</a> utente umano portatili;</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 systemd-logind"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-logind.8">systemd-logind(8)</a></span> — <a rel="nofollow" class="external text" href="https://dvdhrm.wordpress.com/2013/08/24/session-management-on-linux/">gestione della sessione</a>;</li>
<li>
<a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a> — gestione della <a href="../it/Network_configuration.html" title="Network configuration (Italiano)">configurazione di rete</a>;</li>
<li>
<a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a> — contenitore namespace leggero;</li>
<li>
<a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> — <a href="../en/Domain_name_resolution.html" class="mw-redirect" title="Domain name resolution (Italiano)">risoluzione del nome</a> di rete;</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 7 systemd-stub"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-stub.7">systemd-stub(7)</a></span> — uno stub per il boot UEFI utilizzato per la creazione di <a href="../en/Unified_kernel_image.html" title="Unified kernel image">unified kernel image</a>;</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 systemd-sysusers"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-sysusers.8">systemd-sysusers(8)</a></span> — crea gli utenti e i gruppi di sistema e aggiunge gli utenti ai gruppi in fase di installazione dei pacchetti o in fase di boot;</li>
<li>
<a href="../en/Systemd-timesyncd.html" title="Systemd-timesyncd">systemd-timesyncd</a> — sincronizzazione dell'<a href="../en/System_time.html" class="mw-redirect" title="System time (Italiano)">ora di sistema</a> all'interno della rete;</li>
<li>
<a href="../en/Systemd/Journal.html" class="mw-redirect" title="Systemd (Italiano)/Journal (Italiano)">systemd/Journal</a> — creazione dei log di sistema;</li>
<li>
<a href="../en/Systemd/Timers.html" class="mw-redirect" title="Systemd (Italiano)/Timers (Italiano)">systemd/Timers</a> — timer monotonici o in tempo reale per controllare file <i>.service</i> o eventi, alternativa ragionevole a <a href="../en/Cron.html" title="Cron">cron</a>.</li>
</ul>
<h3><span class="mw-headline" id="Montaggio_systemd.mount">Montaggio systemd.mount</span></h3>
<p><i>systemd</i> è responsabile del montaggio delle partizioni e dei file system specificati in <code>/etc/fstab</code>. Il <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-fstab-generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-fstab-generator.8">systemd-fstab-generator(8)</a></span> traduce tutte le voci presenti in <code>/etc/fstab</code> in unità <i>systemd</i>; questa operazione viene eseguita al momento del boot e ogniqualvolta la configurazione del gestore di sistema viene ricaricata.
</p>
<p><i>systemd</i> estende le comuni funzionalità di <a href="../it/Fstab.html" title="Fstab (Italiano)">fstab</a> e offre ulteriori opzioni di montaggio. Queste opzioni hanno effetto sulle dipendenze dell'unità di montaggio. Ad esempio, assicurano che un montaggio sia eseguito solo dopo che la rete è attiva o solo quando un'altra partizione è stata a sua volta montata. L'elenco specifico delle opzioni di montaggio di <i>systemd</i>, che tipicamente si presentano con prefisso <code>x-systemd.</code>, è riportato in dettaglio in <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.mount.5#FSTAB">systemd.mount(5) § FSTAB</a></span>.
</p>
<p>Un esempio di queste opzioni di montaggio è <i>automounting</i>, che fa sì che il montaggio venga effettuato solo quando la risorsa viene richiesta anziché al boot. Questa opzione è descritta inoltre alla pagina <a href="../it/Fstab.html#Montaggio_automatico_con_systemd" title="Fstab (Italiano)">fstab</a>.
</p>
<h4><span class="mw-headline" id="Montaggio_automatico_di_una_partizione_GPT">Montaggio automatico di una partizione GPT</span></h4>
<p>Nei sistemi avviati in modalità UEFI, nel caso vengano soddisfatte determinate condizioni, <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-gpt-auto-generator"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-gpt-auto-generator.8">systemd-gpt-auto-generator(8)</a></span> eseguirà il montaggio automatico delle partizioni GPT seguendo le <a rel="nofollow" class="external text" href="https://uapi-group.org/specifications/specs/discoverable_partitions_specification/">specifiche sulle partizioni individuabili</a>. Le partizioni montate automaticamente possono pertanto essere omesse da <a href="../it/Fstab.html" title="Fstab (Italiano)">fstab</a>, e se la partizione root è montata automaticamente, sarà possibile omettere <code>root=</code> dalla linea di comando del kernel.
</p>
<p>I prerequisiti sono:
</p>
<ul>
<li>Il boot loader deve impostare la variabile EFI <a rel="nofollow" class="external text" href="https://systemd.io/BOOT_LOADER_INTERFACE/">LoaderDevicePartUUID</a>, in modo tale da consentire l'identificazione della partizione di sistema EFI. Questa funzione è supportata da <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a>, <span class="plainlinks archwiki-template-man" title="$ man 7 systemd-stub"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-stub.7">systemd-stub(7)</a></span>, <a href="../en/GRUB.html" class="mw-redirect" title="GRUB (Italiano)">GRUB</a> (<code>grub.cfg</code> generato con <i>grub-mkconfig</i>; un eventuale <code>grub.cfg</code> personalizzato richiede il <a href="../en/GRUB.html#LoaderDevicePartUUID" title="GRUB">caricamento del modulo bli</a>) e <a href="../en/REFInd.html#LoaderDevicePartUUID" title="REFInd">rEFInd (non abilitata di default)</a>. La presenza di questa condizione può essere verificata eseguendo <code>bootctl</code> e controllando lo stato di <code>Boot loader sets ESP information</code> o lo stato di <code>Stub sets ESP information</code> quando si esegue il boot via <a href="../en/Unified_kernel_image.html" title="Unified kernel image">Unified kernel image</a>.</li>
<li>La partizione di root deve essere sul medesimo disco fisico della partizione di sistema EFI. Le altre partizioni che verranno montate automaticamente devono essere sul medesimo disco fisico della partizione di root. Ciò significa quindi che tutte le partizioni montate automaticamente devono essere sul medesimo disco fisso della partizione ESP.</li>
<li>Il punto di montaggio <code>/efi</code> deve essere creato manualmente (se lo si desidera), in caso contrario <code>systemd-gpt-auto-generator</code> utilizzerà <code>/boot</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> Prestare la massima attenzione nel creare <code>/efi</code> in un sistema esistente quando si utilizza il montaggio automatico GPT. <code>/efi</code> verrà usato come punto di montaggio di default al boot successivo, e questo potrebbe lasciare il proprio sistema in uno stato incongruente con una directory <code>/boot</code> vuota. Con ogni probabilità sarà necessario re-installare il proprio o i propri kernel e/o il microcode, rigenerare la propria immagine initramfs, ecc..</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Suggerimento:</strong> Il montaggio automatico di una partizione può essere disabilitato modificando il <a href="https://en.wikipedia.org/wiki/it:GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:it:GUID Partition Table">tipo GUID</a> della partizione o impostando il bit 63 dell'attributo della partizione su "do not automount", vedere <a href="../en/GPT_fdisk.html#Prevent_GPT_partition_automounting" class="mw-redirect" title="Gdisk">gdisk#Prevent GPT partition automounting</a>.</div>
<h5>
<span id=".2Fvar"></span><span class="mw-headline" id="/var">/var</span>
</h5>
<p>Affinché il montaggio automatico di <code>/var</code> funzioni, il PARTUUID deve corrispondere all'hash HMAC SHA256 dell'UUID del tipo di partizione (<code>4d21b016-b534-45c2-a9fb-5c16e091fd2d</code>) come da chiave dell'ID macchina. Il necessario PARTUUID può essere ottenuto utilizzando:
</p>
<pre>$ systemd-id128 -u --app-specific=4d21b016-b534-45c2-a9fb-5c16e091fd2d machine-id
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-id128"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-id128.1">systemd-id128(1)</a></span> legge l'ID macchina da <code>/etc/machine-id</code>, rendendo pertanto impossibile sapere il necessario PARTUUID prima che il sistema sia installato.</div>
<h3><span class="mw-headline" id="systemd-sysvcompat">systemd-sysvcompat</span></h3>
<p>Il ruolo principale di <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-sysvcompat">systemd-sysvcompat</a></span> (richiesto da <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>) è di fornire il file binario <a href="../en/Init.html" class="mw-redirect" title="Init (Italiano)">init</a> tradizionale di linux. Per i sistemi controllati da <i>systemd</i>, <code>init</code> è semplicemente un link simbolico al rispettivo eseguibile <code>systemd</code>.
</p>
<p>Inoltre fornisce quattro pratiche scorciatoie alle quali gli utenti <a href="../en/SysVinit.html" class="mw-redirect" title="SysVinit (Italiano)">SysVinit</a> potrebbero essere abituati. Queste pratiche scorciatoie sono <span class="plainlinks archwiki-template-man" title="$ man 8 halt"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/halt.8">halt(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 poweroff"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/poweroff.8">poweroff(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 reboot"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/reboot.8">reboot(8)</a></span> e <span class="plainlinks archwiki-template-man" title="$ man 8 shutdown"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/shutdown.8">shutdown(8)</a></span>. Ciascuno di questi comandi è un link simbolico a <code>systemctl</code>, ed è governato dal comportamento di <i>systemd</i>. Pertanto si applica quanto discusso in <a href="#Gestione_energetica">#Gestione energetica</a>.
</p>
<p>I sistemi basati su <i>systemd</i> possono rinunciare a questi metodi di compatibilità con System V utilizzando il <a href="../en/Kernel_parameters.html#Parameter_list" title="Kernel parameters">parametro di boot</a> <code>init=</code> (vedere, ad esempio, <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=233387">/bin/init is in systemd-sysvcompat ?</a>) e gli argomenti di comando <code>systemctl</code> nativi di <i>systemd</i>.
</p>
<h3><span class="mw-headline" id="systemd-tmpfiles_-_file_temporanei">systemd-tmpfiles - file temporanei</span></h3>
<p><i>systemd-tmpfiles</i> crea, cancella e pulisce i file e le directory temporanei e volatili. Legge i file di configurazione in <code>/etc/tmpfiles.d/</code> e <code>/usr/lib/tmpfiles.d/</code> per individuare le azioni da eseguire. I file di configurazione nella prima directory hanno precedenza su quelli nella seconda.
</p>
<p>I file di configurazione sono di norma forniti unitamente ai file dei relativi servizi, e il loro nome segue di norma questo schema <code>/usr/lib/tmpfiles.d/<i>programma</i>.conf</code>. Ad esempio, il demone <a href="../en/Samba.html" class="mw-redirect" title="Samba (Italiano)">Samba</a> richiede che la directory <code>/run/samba</code> sia presente e configurata con i permessi corretti. Pertanto, il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=samba">samba</a></span> viene fornito con la seguente configurazione:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/tmpfiles.d/samba.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">D /run/samba 0755 root root
</pre>
<p>I file di configurazione possono anche essere utilizzati per scrivere valori all'interno di determinati file al boot. Ad esempio, nel caso si sia fatto ricorso a <code>/etc/rc.local</code> per disabilitare il wakeup da dispositivi USB con <code>echo USBE &gt; /proc/acpi/wakeup</code> è possibile, come alternativa, utilizzare il seguente tmpfile:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/disable-usb-wake.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#    Path                  Mode UID  GID  Age Argument
w    /proc/acpi/wakeup     -    -    -    -   USBE
</pre>
<p>Vedere le pagine del manuale <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-tmpfiles.8">systemd-tmpfiles(8)</a></span> e <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tmpfiles.d.5">tmpfiles.d(5)</a></span> per maggiori dettagli.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Questo metodo potrebbe non funzionare per impostare opzioni in <code>/sys</code> dal momento che il servizio <i>systemd-tmpfiles-setup</i> potrebbe essere eseguito prima che i rispettivi moduli del dispositivo siano stati caricati. In questo caso, è possibile verificare se il modulo possieda un parametro per l'opzione che si desidera impostare con <code>modinfo <i>modulo</i></code> e impostare questa opzione con un <a href="../en/Kernel_module.html#Setting_module_options" class="mw-redirect" title="Kernel modules">file di configurazione in /etc/modprobe.d</a>. In caso contrario sarà necessario scrivere una <a href="../en/Udev.html#About_udev_rules" class="mw-redirect" title="Udev rule">regola udev</a> per impostare l'attributo appropriato non appena il dispositivo compare.</div>
<h2><span class="mw-headline" id="Trucchi_e_suggerimenti">Trucchi e suggerimenti</span></h2>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Sarebbe opportuno documentare in modo esplicito in qualche punto i benefici dell'attivazione del socket rispetto al semplice avvio del servizio. Questo aspetto è menzionato in breve all'inizio della presente pagina e in pagine correlate quali <a href="../en/Avahi.html" title="Avahi">Avahi</a>. (Discuss in <a rel="nofollow" class="external text" href="../it/Talk:Systemd.html">Talk:Systemd (Italiano)</a>)</div>
</div>
<h3><span class="mw-headline" id="Strumenti_GUI_di_configurazione">Strumenti GUI di configurazione</span></h3>
<ul><li>
<b>systemadm</b> — Browser grafico per le unità <i>systemd</i>. Permette di visualizzare l'elenco delle unità, eventualmente filtrate per tipo.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://cgit.freedesktop.org/systemd/systemd-ui/">https://cgit.freedesktop.org/systemd/systemd-ui/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-ui">systemd-ui</a></span>
</dd></dl>
<ul><li>
<b>SystemdGenie</b> — Strumento di gestione di <i>systemd</i> basato su tecnologie KDE.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://invent.kde.org/system/systemdgenie">https://invent.kde.org/system/systemdgenie</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemdgenie">systemdgenie</a></span>
</dd></dl>
<h3>
<span id="Esecuzione_di_servizi_dopo_l.27attivazione_della_rete"></span><span class="mw-headline" id="Esecuzione_di_servizi_dopo_l'attivazione_della_rete">Esecuzione di servizi dopo l'attivazione della rete</span>
</h3>
<p>Per ritardare l'esecuzione di un servizio fino al momento in cui la rete è attiva, includere le seguenti dipendenze nel file <i>.service</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/<i>foo</i>.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
...
Wants=network-online.target
After=network-online.target
...</pre>
<p>È inoltre necessario abilitare il servizio di attesa della rete del <a href="../it/Network_configuration.html#Gestori_di_rete" title="Network configuration (Italiano)">gestore di rete</a> in uso in modo tale che <code>network-online.target</code> rifletta in modo appropriato lo stato della rete.
</p>
<ul>
<li>Se si utilizza <a href="../en/NetworkManager.html" class="mw-redirect" title="NetworkManager (Italiano)">NetworkManager</a>, <code>NetworkManager-wait-online.service</code> andrebbe abilitato unitamente a <code>NetworkManager.service</code>. Verificare l'avvenuta attivazione con il comando <code>systemctl is-enabled NetworkManager-wait-online.service</code>. In caso contrario, <a href="#Utilizzo_delle_unit%C3%A0">riabilitare</a> <code>NetworkManager.service</code>.</li>
<li>Nel caso di <a href="../en/Netctl.html" title="Netctl">netctl</a>, <a href="#Utilizzo_delle_unit%C3%A0">abilitare</a> il servizio <code>netctl-wait-online.service</code> (a meno che non si utilizzi <i>netctl-auto</i>; vedere <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/75836">FS#75836</a>).</li>
<li>Se si utilizza <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a>, <code>systemd-networkd-wait-online.service</code> andrebbe abilitato unitamente a <code>systemd-networkd.service</code>. Verificare l'avvenuta attivazione con il comando <code>systemctl is-enabled systemd-networkd-wait-online.service</code>. In caso contrario, <a href="#Utilizzo_delle_unit%C3%A0">riabilitare</a> <code>systemd-networkd.service</code>.</li>
</ul>
<p>Per spiegazioni maggiormente dettagliate, vedere la discussione nella pagina relativa ai <a rel="nofollow" class="external text" href="https://systemd.io/NETWORK_ONLINE/#discussion">punti di sincronizzazione della configurazione di rete</a>.
</p>
<p>Se un servizio necessita di effettuare delle query DNS, andrebbe inoltre eseguito dopo <code>nss-lookup.target</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/<i>foo</i>.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
...
Wants=network-online.target
After=network-online.target nss-lookup.target
...</pre>
<p>Vedere <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.special"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.special.7#unit%C3%A0_di_sistema_speciali_passive">systemd.special(7) § unità di sistema speciali passive</a></span>.
</p>
<p>Per avere effetto, <code>nss-lookup.target</code> necessita di un servizio che lo richiami tramite <code>Wants=nss-lookup.target</code> e che si ponga prima di esso nell'ordine di esecuzione con <code>Before=nss-lookup.target</code>. Tipicamente questa funzione viene svolta dai <a href="../en/Domain_name_resolution.html#DNS_servers" class="mw-redirect" title="DNS resolver">DNS resolver</a> locali.
</p>
<p>Per controllare quale servizio attivo, se presente, richiami <code>nss-lookup.target</code> eseguire il comando:
</p>
<pre>$ systemctl list-dependencies --reverse nss-lookup.target
</pre>
<h3>
<span id="Abilitazione_delle_unit.C3.A0_installate_come_impostazione_predefinita"></span><span class="mw-headline" id="Abilitazione_delle_unità_installate_come_impostazione_predefinita">Abilitazione delle unità installate come impostazione predefinita</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Come funziona con le unità istanziate? (Discuss in <a rel="nofollow" class="external text" href="../it/Talk:Systemd.html">Talk:Systemd (Italiano)</a>)</div>
</div>
<p>Arch Linux viene fornito con <code>/usr/lib/systemd/system-preset/99-default.preset</code> contenente <code>disable *</code>. Ciò fa sì che <i>systemctl preset</i> disabiliti tutte le unità per impostazione predefinita. Di conseguenza, quando viene installato un nuovo pacchetto, deve essere l'utente ad abilitare manualmente l'unità.
</p>
<p>Qualora si desideri modificare questo comportamento, è sufficiente creare un link simbolico da <code>/etc/systemd/system-preset/99-default.preset</code> a <code>/dev/null</code> per inibire l'azione del file di configurazione. Ciò farà sì che <i>systemctl preset</i> abiliti tutte le unità che vengono installate, indipendentemente dal loro tipo, a meno che non sia diversamente specificato in un altro file in una delle directory di configurazione di <i>systemctl preset</i>. Le unità utente non sono interessate. Vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.preset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.preset.5">systemd.preset(5)</a></span> per maggiori informazioni.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> L'abilitazione di tutte le unità per impostazione predefinita può causare problemi con i pacchetti contenenti due o più unità che si escludono reciprocamente. <i>systemctl preset</i> è progettato per essere utilizzato da distribuzioni e spin o da amministratori di sistema. Nei casi in cui verrebbero abilitate due unità in conflitto l'una con l'altra, è opportuno specificare esplicitamente quale delle due debba essere disabilitata in un file di configurazione di preset, come specificato nella pagina del manuale <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.preset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.preset.5">systemd.preset(5)</a></span>.</div>
<h3><span class="mw-headline" id="Sandboxing_degli_ambienti_applicazione">Sandboxing degli ambienti applicazione</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-go-next.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section is a candidate for moving to <a href="/index.php?title=Systemd/Sandboxing&amp;action=edit&amp;redlink=1" class="new" title="Systemd/Sandboxing (page does not exist)">systemd/Sandboxing</a>.</b></p>
<div>
<b>Notes:</b> L'ampiezza dell'argomento è sufficiente per una pagina dedicata. Vedere <a href="../User:NetSysFire/systemd_sandboxing.html" title="User:NetSysFire/systemd sandboxing">User:NetSysFire/systemd sandboxing</a> per una proposta di bozza. (Discuss in <a href="../en/Talk:Security.html#systemd_unit_hardening_and_system.conf_tweaks" title="Talk:Security">Talk:Security#systemd unit hardening and system.conf tweaks</a>)</div>
</div>
<p>È possibile creare un file unità come sandbox al fine di isolare le applicazioni e i relativi processi all'interno di un ambiente virtuale rinforzato. <i>systemd</i> sfrutta i <a href="https://en.wikipedia.org/wiki/Linux_namespaces" class="extiw" title="wikipedia:Linux namespaces">namespace</a>, un elenco di <a href="../en/Capabilities.html" title="Capabilities">capability</a> e <a href="../en/Cgroups.html" class="mw-redirect" title="Control groups">gruppi di controllo</a> consentiti/proibiti per i processi dei contenitori, per mezzo di una configurazione estesa dell'ambiente di esecuzione <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.exec"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.exec.5">systemd.exec(5)</a></span>.
</p>
<p>L'ottimizzazione di un file unità <i>systemd</i> esistente con il sandboxing dell'applicazione necessita tipicamente di un processo di apprendimento per tentativi ed errori, accompagnato da un uso intensivo di <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=strace">strace</a></span>, <a href="https://en.wikipedia.org/wiki/it:Canali_standard" class="extiw" title="wikipedia:it:Canali standard">stderr</a>, logging degli errori in <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>, e lettura degli output. È consigliabile dapprima effettuare una ricerca nella documentazione upstream per verificare l'esistenza di test già effettuati sui quali basare i propri tentativi. Per ottenere un punto di partenza per le possibili opzioni di rafforzamento, eseguire
</p>
<pre>$ systemd-analyze security <i>unità</i>
</pre>
<p>Alcuni esempi sulle modalità di implementazione del sandboxing con <i>systemd</i>:
</p>
<ul><li>
<code>CapabilityBoundingSet</code> definisce un elenco di <span class="plainlinks archwiki-template-man" title="$ man 7 capabilities"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/capabilities.7">capabilities(7)</a></span> consentite o proibite per un'unità. Vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.exec"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.exec.5#CAPABILITIES">systemd.exec(5) § CAPABILITIES</a></span>.
<ul><li>La capability <code>CAP_SYS_ADM</code>, ad esempio, che dovrebbe essere uno degli <a rel="nofollow" class="external text" href="https://lwn.net/Articles/486306/">obiettivi di un sandbox sicuro</a>: <code>CapabilityBoundingSet=~ CAP_SYS_ADM</code>
</li></ul>
</li></ul>
<h3><span class="mw-headline" id="Notifiche_di_fallimento_dei_servizi">Notifiche di fallimento dei servizi</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Systemd/Timers.html#MAILTO" title="Systemd/Timers">systemd/Timers#MAILTO</a>.</b></p>
<div>
<b>Notes:</b> Stesso argomento, diversa soluzione. (Discuss in <a rel="nofollow" class="external text" href="../it/Talk:Systemd.html">Talk:Systemd (Italiano)</a>)</div>
</div>
<p>Per consentire l'invio di notifiche sui fallimenti dei servizi, è necessario aggiungere una direttiva <code>OnFailure=</code> ai rispettivi file servizio, ad esempio utilizzando un <a href="#File_di_drop-in">file di drop-in di configurazione</a>. È possibile aggiungere questa direttiva a ogni unità servizio con un file di drop-in di configurazione di livello top. Per maggior dettagli sui file di drop-in di livello top, vedere <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span>.
</p>
<p>Creare un file di drop-in di livello top per i servizi:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/service.d/toplevel-override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
OnFailure=failure-notification@%n</pre>
<p>In questo modo viene aggiunto <code>OnFailure=failure-notification@%n</code> a ogni file servizio. Se si verifica il fallimento di <i>una_unità_servizio</i>, verrà avviato <code>failure-notification@<i>una_unità_servizio</i></code> per gestire la consegna della notifica (o qualunque compito sia configurato per eseguire).
</p>
<p>Creare l'unità modello <code>failure-notification@</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/failure-notification@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Send a notification about a failed systemd unit
After=network.target

[Service]
Type=simple
ExecStart=/<i>percorso</i>/<i>a</i>/failure-notification.sh %i</pre>
<p>È possibile creare lo script <code>failure-notification.sh</code> e definire le azioni da eseguire o la modalità di invio delle notifiche (mail, gotify, xmpp, ecc.). <code>%i</code> sarà il nome dell'unità di servizio interessata dal fallimento che verrà passato come argomento allo script.
</p>
<p>Al fine di prevenire la ricorsività delle istanze in avvio di <code>failure-notification@.service</code> in caso di fallimento dell'avvio, creare un file di drop-in di configurazione vuoto con il medesimo nome del file di drop-in di livello top (il file di configurazione vuoto a livello di servizio ha precedenza rispetto a quello di livello top inibendone l'azione):
</p>
<pre># mkdir -p /etc/systemd/system/failure-notification@.service.d
# touch /etc/systemd/system/failure-notification@.service.d/toplevel-override.conf
</pre>
<h3>
<span id="Spegnimento_automatico_di_un_hard_disk_esterno_all.27arresto"></span><span class="mw-headline" id="Spegnimento_automatico_di_un_hard_disk_esterno_all'arresto">Spegnimento automatico di un hard disk esterno all'arresto</span>
</h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Merge-arrows-2.svg" decoding="async" width="36" height="40" class="mw-file-element"></span></span><b>This article or section is a candidate for merging with <a href="../en/Udisks.html#Troubleshooting" title="Udisks">Udisks#Troubleshooting</a>.</b></p>
<div>
<b>Notes:</b> Questa voce si concentra principalmente sull'utilizzo di <a href="../en/Udisks.html" title="Udisks">udisks</a>, pertanto è probabilmente più adatta per questo contenuto rispetto alla pagina di systemd. (Discuss in <a rel="nofollow" class="external text" href="../it/Talk:Systemd.html">Talk:Systemd (Italiano)</a>)</div>
</div>
<p>Se un hard disk esterno non viene correttamente spento al momento dell'arresto del sistema, potrebbe risultare opportuno risolvere questo problema. La soluzione più pratica è utilizzare a tal fine <a href="../en/Udisks.html" title="Udisks">udisks</a>.
</p>
<p><a href="../it/Help:Reading.html#Controllo_delle_unit%C3%A0_systemd" title="Help:Reading (Italiano)">Abilitare</a> <code>udisks2.service</code>.
</p>
<p>Un servizio che invochi il nostro script potrebbe essere:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/handle_external_hdds.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Requires=udisks2.service
Requires=graphical.target
After=graphical.target
[Service]
Type=oneshot
RemainAfterExit=yes
ExecStop=/usr/local/bin/handle_external_hdds.sh
[Install]
WantedBy=graphical.target</pre>
<p><a href="../it/Help:Reading.html#Controllo_delle_unit%C3%A0_systemd" title="Help:Reading (Italiano)">Abilitare</a> <code>handle_external_hdds.service</code>
</p>
<p><a href="../it/Help:Reading.html#Controllo_delle_unit%C3%A0_systemd" title="Help:Reading (Italiano)">Ricaricare il demone</a> di systemd per applicare la nuova impostazione.
</p>
<p>Eseguire il reboot o riavviare <code>graphical.target</code> per verificare il corretto funzionamento.
</p>
<p>Un esempio di script per gestire un numero arbitrario di partizioni su un singolo disco:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/handle_external_hdds.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash -u

declare -a uuids=(<i>uuid_list</i>)

# Only proceed if the drive is present.
if [[ ! -L "/dev/disk/by-uuid/${uuids[0]}" ]]; then
  exit 0
fi

for uuid in "${uuids[@]}"; do
  if findmnt "/dev/disk/by-uuid/$uuid"; then
    umount "/dev/disk/by-uuid/$uuid"
  fi
done

# udisksctl powers off proper drive even if its partition is supplied
udisksctl power-off -b "/dev/disk/by-uuid/${uuids[0]}"</pre>
<p><i>uuid_list</i> è un elenco di UUID delimitati da spazi, corrispondenti alle partizioni del dispositivo da verificare, ad es. <code>"<i>uuid_1</i>" "<i>uuid_2</i>"</code>.
</p>
<h2><span class="mw-headline" id="Risoluzione_di_problemi">Risoluzione di problemi</span></h2>
<h3><span class="mw-headline" id="Indagare_sui_servizi_falliti">Indagare sui servizi falliti</span></h3>
<p>Per individuare quali servizi <i>systemd</i> non si siano avviati eseguire:
</p>
<pre>$ systemctl --state=failed
</pre>
<p>Per scoprire il motivo del mancato avvio, esaminare il rispettivo output di log. Vedere <a href="../en/Systemd/Journal.html#Filtering_output" title="Systemd/Journal">systemd/Journal#Filtering output</a> per maggiori dettagli.
</p>
<h3><span class="mw-headline" id="Diagnosi_dei_problemi_di_boot">Diagnosi dei problemi di boot</span></h3>
<p><i>systemd</i> offre diverse opzioni per la diagnosi dei problemi che interessano in processo di boot. Vedere <a href="../en/General_troubleshooting.html#Boot_problems" class="mw-redirect" title="Boot debugging">boot debugging</a> per istruzioni più generali e opzioni per catturare i messaggi di boot prima che <i>systemd</i> prenda il controllo del <a href="../en/Arch_boot_process.html" class="mw-redirect" title="Arch boot process (Italiano)">processo di boot</a>. Vedere anche freedesktop.org's <a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/Debugging/">documentazione di debug di systemd</a>.
</p>
<h3><span class="mw-headline" id="Diagnosi_di_un_servizio">Diagnosi di un servizio</span></h3>
<p>Se un servizio <i>systemd</i> mostra un comportamento non conforme o se si desidera ottenere maggiori informazioni su cosa si sta verificando, impostare la <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">variabile d'ambiente</a> <code>SYSTEMD_LOG_LEVEL</code> su <code>debug</code>. Ad esempio, per eseguire il demone <i>systemd-networkd</i> in modalità di debug:
</p>
<p>Aggiungere un <a href="#File_di_drop-in">file di drop-in</a> per il servizio inserendo le seguenti due linee:
</p>
<pre>[Service]
Environment=SYSTEMD_LOG_LEVEL=debug
</pre>
<p>Oppure, in modo equivalente, impostare manualmente la variabile d'ambiente:
</p>
<pre># SYSTEMD_LOG_LEVEL=debug /lib/systemd/systemd-networkd
</pre>
<p>dopodiché <a href="../it/Help:Reading.html#Controllo_delle_unit%C3%A0_systemd" title="Help:Reading (Italiano)">riavviare</a> <i>systemd-networkd</i> e visualizzare il journal relativo al servizio con l'opzione <code>-f</code>/<code>--follow</code>.
</p>
<h3>
<span id="Lo_spegnimento.2Fil_riavvio_impiega_un_tempo_eccessivamente_lungo"></span><span class="mw-headline" id="Lo_spegnimento/il_riavvio_impiega_un_tempo_eccessivamente_lungo">Lo spegnimento/il riavvio impiega un tempo eccessivamente lungo</span>
</h3>
<p>Se il processo di spegnimento richiede un tempo particolarmente lungo (o sembra bloccarsi), con ogni probabilità ciò è da attribuirsi a un servizio che non si arresta. <i>systemd</i> attende per un po' di tempo prima di tentare di forzarne l'arresto. Per verificare se si è interessati da questo problema, vedere <a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/Debugging/#shutdowncompleteseventually">Shutdown completes eventually</a> nella wiki di <i>systemd</i>.
</p>
<p>Un problema comune è uno spegnimento in stallo o un processo di sospensione. È possibile eseguire entrambi i seguenti comandi e analizzare il rispettivo output per accertarsi della presenza di questo problema
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># systemctl poweroff
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Failed to power off system via logind: There's already a shutdown or sleep operation in progress
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># systemctl list-jobs
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  JOB UNIT                    TYPE  STATE
...
21593 systemd-suspend.service start running
21592 suspend.target          start waiting
..
</pre>
<p>La <a rel="nofollow" class="external text" href="https://unix.stackexchange.com/a/579531">soluzione</a> a questo problema è annullare questi processi eseguendo
</p>
<pre># systemctl cancel
# systemctl stop systemd-suspend.service
</pre>
<p>dopodiché provare a eseguire nuovamente lo spegnimento o il riavvio.
</p>
<h3><span class="mw-headline" id="I_processi_con_breve_tempo_di_esecuzione_non_registrano_alcun_output_nel_log">I processi con breve tempo di esecuzione non registrano alcun output nel log</span></h3>
<p>Se l'esecuzione di <code>journalctl -u foounit</code> come utente root non mostra alcun output per un servizio con breve tempo di esecuzione, provare con il PID. Ad esempio, se <code>systemd-modules-load.service</code> fallisce, e <code>systemctl status systemd-modules-load</code> indica che è stato eseguito come PID 123, potrebbe essere possibile visualizzare l'output nel journal per questo PID, ad es. eseguendo <code>journalctl -b _PID=123</code> come utente root. I campi dei metadati per il journal quali <code>_SYSTEMD_UNIT</code> e <code>_COMM</code> sono rilevati in modo asincrono e fanno affidamento sull'esistenza della directory <code>/proc</code> per il processo. La risoluzione di questo problema richiede di intervenire sul kernel per far sì che questi dati vengano forniti mediante connessione socket, similmente a <code>SCM_CREDENTIALS</code>. In breve, si tratta di un <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/2913">bug</a>. Tenere in considerazione che, per scelta progettuale di <i>systemd</i>, i servizi che falliscono immediatamente potrebbero non generare alcun output nel journal.
</p>
<h3><span class="mw-headline" id="Il_tempo_di_boot_aumenta_nel_tempo">Il tempo di boot aumenta nel tempo</span></h3>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> I problemi legati a NetworkManager sono sono da attribuirsi a <i>systemd</i>, le testimonianze a cui si fa riferimento sono mancanti. La lentezza di <code>systemctl status</code> o <code>journalctl</code> non ha alcun effetto sul tempo di boot. (Discuss in <a rel="nofollow" class="external text" href="../it/Talk:Systemd.html">Talk:Systemd (Italiano)</a>)</div>
</div>
<p>Dopo aver usato <code>systemd-analyze</code> un numero elevato di utenti ha notato un aumento significativo del proprio tempo di boot rispetto al passato. L'utilizzo di <code>systemd-analyze blame</code> ha mostrato come <a href="../en/NetworkManager.html" class="mw-redirect" title="NetworkManager (Italiano)">NetworkManager</a> impieghi un tempo insolitamente lungo per l'avvio.
</p>
<p>Il problema, per alcuni utenti, era dovuto alle dimensioni eccessive raggiunte dal file <code>/var/log/journal</code>. Ciò potrebbe incidere anche sulle prestazioni ad esempio di <code>systemctl status</code> o <code>journalctl</code>. Pertanto la soluzione è rimuovere ogni file dalla cartella (idealmente effettuandone prima un backup, almeno come accorgimento temporaneo) per poi impostare un limite per le dimensioni del file del journal come descritto in <a href="../en/Systemd/Journal.html#Journal_size_limit" title="Systemd/Journal">Systemd/Journal#Journal size limit</a>.
</p>
<h3><span class="mw-headline" id="systemd-tmpfiles-setup.service_non_si_avvia_al_boot">systemd-tmpfiles-setup.service non si avvia al boot</span></h3>
<p>A partire dalla versione 219 di <i>systemd</i>, <code>/usr/lib/tmpfiles.d/systemd.conf</code> specifica gli attributi ACL per le directory in <code>/var/log/journal</code> e, pertanto, richiede l'abilitazione del supporto ACL per il file system che ospita il journal.
</p>
<p>Vedere <a href="../en/Access_Control_Lists.html#Enable_ACL" title="Access Control Lists">Access Control Lists#Enable ACL</a> per le istruzioni su come abilitare ACL nel file system su cui è salvato <code>/var/log/journal</code>.
</p>
<h3>
<span id="Disabilitazione_delle_modalit.C3.A0_di_emergenza_sulla_macchina_remota"></span><span class="mw-headline" id="Disabilitazione_delle_modalità_di_emergenza_sulla_macchina_remota">Disabilitazione delle modalità di emergenza sulla macchina remota</span>
</h3>
<p>Si potrebbe desiderare disabilitare la modalità di emergenza in una macchina remota, ad esempio una macchina virtuale con hosting su Azure o Google Cloud. Questo in quanto, se viene attivata la modalità di emergenza, ciò impedirà alla macchina di connettersi alla rete.
</p>
<p>Per disabilitare questa modalità <a href="#Utilizzo_delle_unit%C3%A0">mascherare</a> <code>emergency.service</code> e <code>emergency.target</code>.
</p>
<h2><span class="mw-headline" id="Vedere_anche">Vedere anche</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/it:systemd" class="extiw" title="wikipedia:it:systemd">Wikipedia:systemd</a></li>
<li>
<a rel="nofollow" class="external text" href="https://systemd.io/">Sito web ufficiale</a>
<ul>
<li><a rel="nofollow" class="external text" href="https://systemd.io/OPTIMIZATIONS/">Ottimizzazioni di systemd</a></li>
<li><a rel="nofollow" class="external text" href="https://systemd.io/FAQ/">FAQ su systemd</a></li>
<li><a rel="nofollow" class="external text" href="https://systemd.io/TIPS_AND_TRICKS/">Trucchi e suggerimenti su systemd</a></li>
</ul>
</li>
<li><span class="plainlinks archwiki-template-man" title="$ man 1 systemd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.1">systemd(1)</a></span></li>
<li>Altre distribuzioni
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Systemd" class="extiw" title="gentoo:Systemd">Gentoo:Systemd</a></li>
<li><a href="https://fedoraproject.org/wiki/Systemd" class="extiw" title="fedora:Systemd">Fedora:Systemd</a></li>
<li><a href="https://fedoraproject.org/wiki/How_to_debug_Systemd_problems" class="extiw" title="fedora:How to debug Systemd problems">Fedora:How to debug Systemd problems</a></li>
<li><a href="https://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet" class="extiw" title="fedora:SysVinit to Systemd Cheatsheet">Fedora:SysVinit to Systemd Cheatsheet</a></li>
<li><a href="https://wiki.debian.org/systemd" class="extiw" title="debian:systemd">Debian:systemd</a></li>
</ul>
</li>
<li>
<a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd.html">Storia del blog di Lennart</a>, <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update.html">aggiornamento 1</a>, <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update-2.html">aggiornamento 2</a>, <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update-3.html">aggiornamento 3</a>, <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/why.html">sommario</a>
</li>
<li><a rel="nofollow" class="external text" href="https://containersolutions.github.io/runbooks/posts/linux/debug-systemd-service-units">Debug dei servizi di systemd</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/public/systemd-ebook-psankar.pdf">systemd per amministratori (PDF)</a></li>
<li><a rel="nofollow" class="external text" href="https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units">Come utilizzare systemctl per gestire i servizi e le unità systemd</a></li>
<li><a rel="nofollow" class="external text" href="https://dvdhrm.wordpress.com/2013/08/24/session-management-on-linux/">Gestione della sessione con systemd-logind</a></li>
<li><a href="../en/Emacs.html#Syntax_highlighting_for_systemd_Files" title="Emacs">Syntax highlighting in Emacs per i file systemd</a></li>
<li>Articolo introduttivo in <a rel="nofollow" class="external text" href="https://www.h-online.com/open/features/Control-Centre-The-systemd-Linux-init-system-1565543.html">due</a> <a rel="nofollow" class="external text" href="https://www.h-online.com/open/features/Booting-up-Tools-and-tips-for-systemd-1570630.html">parti</a> sul magazine <i>The H Open</i>.</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Init.html" title="Category:Init (Italiano)">Init (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Move.html" title="Category:Pages or sections flagged with Template:Move">Pages or sections flagged with Template:Move</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd_(Italiano)&amp;oldid=818269">https://wiki.archlinux.org/index.php?title=Systemd_(Italiano)&amp;oldid=818269</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 12 October 2024, at 09:15.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
