<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-zebra-design-disabled vector-feature-custom-font-size-clientpref-disabled vector-feature-client-preferences-disabled vector-feature-typography-survey-disabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.41.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Français rootpage-Pacman_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-main-menu-container">
		</div>
	<input type="checkbox" id="vector-toc-collapsed-checkbox" class="vector-menu-checkbox">
			<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark vector-sticky-pinned-container">
				<div id="vector-toc-pinned-container" class="vector-pinned-container">
				<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Utilisation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilisation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Utilisation</div>
		</a>
		
			<button aria-controls="toc-Utilisation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilisation subsection</span>
			</button>
		
		<ul id="toc-Utilisation-sublist" class="vector-toc-list">
			<li id="toc-Installation_de_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_de_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Installation de paquets</div>
			</a>
			
			<ul id="toc-Installation_de_paquets-sublist" class="vector-toc-list">
				<li id="toc-Installation_de_paquets_spécifiques" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Installation_de_paquets_sp%C3%A9cifiques">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1</span>Installation de paquets spécifiques</div>
			</a>
			
			<ul id="toc-Installation_de_paquets_spécifiques-sublist" class="vector-toc-list">
				<li id="toc-Paquets_virtuels" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Paquets_virtuels">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.1.1</span>Paquets virtuels</div>
			</a>
			
			<ul id="toc-Paquets_virtuels-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Installation_de_groupes_de_paquets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Installation_de_groupes_de_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1.2</span>Installation de groupes de paquets</div>
			</a>
			
			<ul id="toc-Installation_de_groupes_de_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Suppression_de_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Suppression_de_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Suppression de paquets</div>
			</a>
			
			<ul id="toc-Suppression_de_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Mise_à_jour_des_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mise_%C3%A0_jour_des_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Mise à jour des paquets</div>
			</a>
			
			<ul id="toc-Mise_à_jour_des_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Interrogation_de_la_base_de_données_des_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Interrogation_de_la_base_de_donn%C3%A9es_des_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Interrogation de la base de données des paquets</div>
			</a>
			
			<ul id="toc-Interrogation_de_la_base_de_données_des_paquets-sublist" class="vector-toc-list">
				<li id="toc-Pactree" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pactree">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4.1</span>Pactree</div>
			</a>
			
			<ul id="toc-Pactree-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Structure_de_la_base_de_données" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Structure_de_la_base_de_donn%C3%A9es">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4.2</span>Structure de la base de données</div>
			</a>
			
			<ul id="toc-Structure_de_la_base_de_données-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Nettoyage_du_cache_des_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Nettoyage_du_cache_des_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Nettoyage du cache des paquets</div>
			</a>
			
			<ul id="toc-Nettoyage_du_cache_des_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Commandes_supplémentaires" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Commandes_suppl%C3%A9mentaires">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.6</span>Commandes supplémentaires</div>
			</a>
			
			<ul id="toc-Commandes_supplémentaires-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Motif_d'installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Motif_d'installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.7</span>Motif d'installation</div>
			</a>
			
			<ul id="toc-Motif_d'installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ce_qui_se_passe_pendant_l'installation/mise_à_jour/suppression_d'un_paquet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ce_qui_se_passe_pendant_l'installation/mise_%C3%A0_jour/suppression_d'un_paquet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.8</span>Ce qui se passe pendant l'installation/mise à jour/suppression d'un paquet</div>
			</a>
			
			<ul id="toc-Ce_qui_se_passe_pendant_l'installation/mise_à_jour/suppression_d'un_paquet-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Options_générales" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Options_g%C3%A9n%C3%A9rales">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Options générales</div>
			</a>
			
			<ul id="toc-Options_générales-sublist" class="vector-toc-list">
				<li id="toc-Comparer_les_versions_avant_de_mettre_à_jour" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Comparer_les_versions_avant_de_mettre_%C3%A0_jour">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>Comparer les versions avant de mettre à jour</div>
			</a>
			
			<ul id="toc-Comparer_les_versions_avant_de_mettre_à_jour-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Activation_des_téléchargements_parallèles" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Activation_des_t%C3%A9l%C3%A9chargements_parall%C3%A8les">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>Activation des téléchargements parallèles</div>
			</a>
			
			<ul id="toc-Activation_des_téléchargements_parallèles-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignorer_la_mise_à_jour_d'un_paquet" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ignorer_la_mise_%C3%A0_jour_d'un_paquet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.3</span>Ignorer la mise à jour d'un paquet</div>
			</a>
			
			<ul id="toc-Ignorer_la_mise_à_jour_d'un_paquet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignorer_la_mise_à_jour_d'un_groupe_de_paquets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ignorer_la_mise_%C3%A0_jour_d'un_groupe_de_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.4</span>Ignorer la mise à jour d'un groupe de paquets</div>
			</a>
			
			<ul id="toc-Ignorer_la_mise_à_jour_d'un_groupe_de_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignorer_la_mise_à_jour_d'un_fichier" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ignorer_la_mise_%C3%A0_jour_d'un_fichier">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.5</span>Ignorer la mise à jour d'un fichier</div>
			</a>
			
			<ul id="toc-Ignorer_la_mise_à_jour_d'un_fichier-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignorer_l'installation_de_fichiers_sur_le_système" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ignorer_l'installation_de_fichiers_sur_le_syst%C3%A8me">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.6</span>Ignorer l'installation de fichiers sur le système</div>
			</a>
			
			<ul id="toc-Ignorer_l'installation_de_fichiers_sur_le_système-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Maintenir_plusieurs_fichiers_de_configuration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Maintenir_plusieurs_fichiers_de_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.7</span>Maintenir plusieurs fichiers de configuration</div>
			</a>
			
			<ul id="toc-Maintenir_plusieurs_fichiers_de_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Hooks" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Hooks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.8</span>Hooks</div>
			</a>
			
			<ul id="toc-Hooks-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Dépôts_et_miroirs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9p%C3%B4ts_et_miroirs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Dépôts et miroirs</div>
			</a>
			
			<ul id="toc-Dépôts_et_miroirs-sublist" class="vector-toc-list">
				<li id="toc-Répertoire_de_cache_des_paquets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#R%C3%A9pertoire_de_cache_des_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Répertoire de cache des paquets</div>
			</a>
			
			<ul id="toc-Répertoire_de_cache_des_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sécurité_des_paquets" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#S%C3%A9curit%C3%A9_des_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Sécurité des paquets</div>
			</a>
			
			<ul id="toc-Sécurité_des_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dépannage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#D%C3%A9pannage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Dépannage</div>
		</a>
		
			<button aria-controls="toc-Dépannage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dépannage subsection</span>
			</button>
		
		<ul id="toc-Dépannage-sublist" class="vector-toc-list">
			<li id='toc-Erreur_"Failed_to_commit_transaction_(conflicting_files)"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Failed_to_commit_transaction_(conflicting_files)"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Erreur "Failed to commit transaction (conflicting files)"</div>
			</a>
			
			<ul id='toc-Erreur_"Failed_to_commit_transaction_(conflicting_files)"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Erreur_"Failed_to_commit_transaction_(invalid_or_corrupted_package)"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Failed_to_commit_transaction_(invalid_or_corrupted_package)"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Erreur "Failed to commit transaction (invalid or corrupted package)"</div>
			</a>
			
			<ul id='toc-Erreur_"Failed_to_commit_transaction_(invalid_or_corrupted_package)"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Erreur_"Failed_to_init_transaction_(unable_to_lock_database)"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Failed_to_init_transaction_(unable_to_lock_database)"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Erreur "Failed to init transaction (unable to lock database)"</div>
			</a>
			
			<ul id='toc-Erreur_"Failed_to_init_transaction_(unable_to_lock_database)"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Impossible_de_télécharger_les_paquets_à_l'installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Impossible_de_t%C3%A9l%C3%A9charger_les_paquets_%C3%A0_l'installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Impossible de télécharger les paquets à l'installation</div>
			</a>
			
			<ul id="toc-Impossible_de_télécharger_les_paquets_à_l'installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pacman_plante_pendant_une_mise_à_jour" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pacman_plante_pendant_une_mise_%C3%A0_jour">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5</span>Pacman plante pendant une mise à jour</div>
			</a>
			
			<ul id="toc-Pacman_plante_pendant_une_mise_à_jour-sublist" class="vector-toc-list">
				<li id="toc-pacman_:_commande_non_trouvée" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#pacman_:_commande_non_trouv%C3%A9e">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.5.1</span>pacman : commande non trouvée</div>
			</a>
			
			<ul id="toc-pacman_:_commande_non_trouvée-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Réinstallation_manuelle_de_pacman" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#R%C3%A9installation_manuelle_de_pacman">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6</span>Réinstallation manuelle de pacman</div>
			</a>
			
			<ul id="toc-Réinstallation_manuelle_de_pacman-sublist" class="vector-toc-list">
				<li id="toc-Utilisation_de_pacman-static" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_de_pacman-static">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.1</span>Utilisation de pacman-static</div>
			</a>
			
			<ul id="toc-Utilisation_de_pacman-static-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_d'un_pacman_externe" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_d'un_pacman_externe">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.2</span>Utilisation d'un pacman externe</div>
			</a>
			
			<ul id="toc-Utilisation_d'un_pacman_externe-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-En_extrayant_manuellement" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#En_extrayant_manuellement">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.6.3</span>En extrayant manuellement</div>
			</a>
			
			<ul id="toc-En_extrayant_manuellement-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id='toc-Erreur_"Unable_to_find_root_device"_après_le_redémarrage' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Unable_to_find_root_device"_apr%C3%A8s_le_red%C3%A9marrage'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.7</span>Erreur "Unable to find root device" après le redémarrage</div>
			</a>
			
			<ul id='toc-Erreur_"Unable_to_find_root_device"_après_le_redémarrage-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Erreur_"Warning_:_current_locale_is_invalid_;_using_default_"C"_locale"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Warning_:_current_locale_is_invalid_;_using_default_"C"_locale"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.8</span>Erreur "Warning : current locale is invalid ; using default "C" locale"</div>
			</a>
			
			<ul id='toc-Erreur_"Warning_:_current_locale_is_invalid_;_using_default_"C"_locale"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pacman_ne_respecte_pas_les_paramètres_du_proxy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pacman_ne_respecte_pas_les_param%C3%A8tres_du_proxy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.9</span>Pacman ne respecte pas les paramètres du proxy</div>
			</a>
			
			<ul id="toc-Pacman_ne_respecte_pas_les_paramètres_du_proxy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Comment_réinstaller_tous_les_paquets,_en_conservant_les_informations_sur_le_fait_qu'un_élément_a_été_explicitement_installé_ou_en_tant_que_dépendance_?" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Comment_r%C3%A9installer_tous_les_paquets,_en_conservant_les_informations_sur_le_fait_qu'un_%C3%A9l%C3%A9ment_a_%C3%A9t%C3%A9_explicitement_install%C3%A9_ou_en_tant_que_d%C3%A9pendance_?">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.10</span>Comment réinstaller tous les paquets, en conservant les informations sur le fait qu'un élément a été explicitement installé ou en tant que dépendance ?</div>
			</a>
			
			<ul id="toc-Comment_réinstaller_tous_les_paquets,_en_conservant_les_informations_sur_le_fait_qu'un_élément_a_été_explicitement_installé_ou_en_tant_que_dépendance_?-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Erreur_"Cannot_open_shared_object_file"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"Cannot_open_shared_object_file"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.11</span>Erreur "Cannot open shared object file"</div>
			</a>
			
			<ul id='toc-Erreur_"Cannot_open_shared_object_file"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gel_des_téléchargements_de_paquets" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gel_des_t%C3%A9l%C3%A9chargements_de_paquets">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.12</span>Gel des téléchargements de paquets</div>
			</a>
			
			<ul id="toc-Gel_des_téléchargements_de_paquets-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Erreur_&quot;Failed_retrieving_file_'core.db'_from_mirror&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erreur_&quot;Failed_retrieving_file_'core.db'_from_mirror&quot;">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.13</span>Erreur "Failed retrieving file 'core.db' from mirror"</div>
			</a>
			
			<ul id="toc-Erreur_&quot;Failed_retrieving_file_'core.db'_from_mirror&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Erreur_&quot;error_:_'local-package.pkg.tar'_:_permission_denied&quot;" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erreur_&quot;error_:_'local-package.pkg.tar'_:_permission_denied&quot;">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.14</span>Erreur "error : 'local-package.pkg.tar' : permission denied"</div>
			</a>
			
			<ul id="toc-Erreur_&quot;error_:_'local-package.pkg.tar'_:_permission_denied&quot;-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id='toc-Erreur_"error_:_could_not_determine_cachedir_mount_point_/var/cache/pacman/pkg"' class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href='#Erreur_"error_:_could_not_determine_cachedir_mount_point_/var/cache/pacman/pkg"'>
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.15</span>Erreur "error : could not determine cachedir mount point /var/cache/pacman/pkg"</div>
			</a>
			
			<ul id='toc-Erreur_"error_:_could_not_determine_cachedir_mount_point_/var/cache/pacman/pkg"-sublist' class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-erreur_:_Erreur_GPGME_:_Pas_de_données" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#erreur_:_Erreur_GPGME_:_Pas_de_donn%C3%A9es">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.16</span>erreur : Erreur GPGME : Pas de données</div>
			</a>
			
			<ul id="toc-erreur_:_Erreur_GPGME_:_Pas_de_données-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Voir aussi</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

				</div>
	</nav>
		
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<label id="vector-toc-collapsed-button" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet vector-button-flush-left cdx-button--icon-only" for="vector-toc-collapsed-checkbox" role="button" aria-controls="vector-toc" tabindex="0" title="Table of Contents">
						<span class="vector-icon mw-ui-icon-wikimedia-listBullet"></span>
						<span>Toggle the table of contents</span>
					</label>
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">pacman (Français)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 11 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-11" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">11 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Pacman" title="Pacman – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Pacman.html" title="Pacman – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Pacman.html" title="Pacman – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-fi mw-list-item"><a href="../fi/Pacman.html" title="Pacman – suomi" lang="fi" hreflang="fi" class="interlanguage-link-target"><span>Suomi</span></a></li>
<li class="interlanguage-link interwiki-it mw-list-item"><a href="../it/Pacman.html" title="Pacman – italiano" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Pacman" title="Pacman – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pl mw-list-item"><a href="../pl/Pacman.html" title="Pacman – polski" lang="pl" hreflang="pl" class="interlanguage-link-target"><span>Polski</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/Pacman.html" title="Pacman – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Pacman.html" title="Pacman – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-sv mw-list-item"><a href="../sv/Pacman.html" title="Pacman – svenska" lang="sv" hreflang="sv" class="interlanguage-link-target"><span>Svenska</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Pacman" title="Pacman – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<nav class="vector-page-tools-landmark vector-sticky-pinned-container" aria-label="Page tools">
						<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
			
						</div>
	</nav>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="fr" dir="ltr">
<div class="mw-parser-output">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Pacman.html" title="Pacman">pacman</a>. Date de la dernière traduction: 2022-10-05. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Pacman&amp;diff=0&amp;oldid=746023">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a></li>
<li><a href="../fr/Downgrading_packages.html" title="Downgrading packages (Français)">Downgrading packages (Français)</a></li>
<li><a href="../fr/Pacman/Package_signing.html" title="Pacman (Français)/Package signing (Français)">pacman (Français)/Package signing (Français)</a></li>
<li><a href="../fr/Pacman/Pacnew_and_Pacsave.html" title="Pacman (Français)/Pacnew and Pacsave (Français)">pacman (Français)/Pacnew and Pacsave (Français)</a></li>
<li><a href="../en/Pacman/Restore_local_database.html" title="Pacman/Restore local database">pacman/Restore local database</a></li>
<li><a href="../en/Pacman/Rosetta.html" title="Pacman/Rosetta">pacman/Rosetta</a></li>
<li><a href="../fr/Pacman/Tips_and_tricks.html" title="Pacman (Français)/Tips and tricks (Français)">pacman (Français)/Tips and tricks (Français)</a></li>
<li><a href="../fr/Frequently_asked_questions.html#Gestion_des_paquets" title="Frequently asked questions (Français)">Frequently asked questions (Français)#Gestion des paquets</a></li>
<li><a href="../fr/System_maintenance.html" title="System maintenance (Français)">System maintenance (Français)</a></li>
<li><a href="../fr/Arch_build_system.html" class="mw-redirect" title="Arch Build System (Français)">Arch Build System (Français)</a></li>
<li><a href="../fr/Official_repositories.html" title="Official repositories (Français)">Official repositories (Français)</a></li>
<li><a href="../fr/Arch_User_Repository.html" title="Arch User Repository (Français)">Arch User Repository (Français)</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://archlinux.org/pacman/">pacman</a>, le <a href="https://en.wikipedia.org/wiki/fr:Gestionnaire_de_paquets" class="extiw" title="wikipedia:fr:Gestionnaire de paquets">gestionnaire de paquets</a>, est l'une des principales caractéristiques distinctives d'Arch Linux. Il combine un format de paquet binaire simple avec un <a href="../fr/Arch_build_system.html" title="Arch build system (Français)">système de construction de paquets</a> facile à utiliser. Le but de <i>pacman</i> est de permettre de gérer facilement les paquets, qu'ils proviennent des <a href="../fr/Official_repositories.html" class="mw-redirect" title="Dépôts officiels">dépôts officiels</a> ou des propres constructions de l'utilisateur.
</p>
<p>Pacman maintient le système à jour en synchronisant les listes de paquets avec le serveur maître. Ce modèle serveur/client permet également à l'utilisateur de télécharger/installer des paquets par une simple commande, avec toutes les dépendances requises.
</p>
<p>Pacman est écrit en langage de programmation <a href="../en/C.html" title="C">C</a> et utilise le programme <span class="plainlinks archwiki-template-man" title="$ man 1 bsdtar"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bsdtar.1">bsdtar(1)</a></span> pour l'empaquetage en archives <a href="https://en.wikipedia.org/wiki/fr:tar_(informatique)" class="extiw" title="wikipedia:fr:tar (informatique)">tar</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span> contient des outils tels que <a href="../fr/Makepkg.html" title="Makepkg (Français)">makepkg</a> et <span class="plainlinks archwiki-template-man" title="$ man 8 vercmp"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vercmp.8">vercmp(8)</a></span>. D'autres outils utiles tels que <a href="#Pactree">pactree</a> et <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">checkupdates</a> se trouvent dans <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>. (<a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/pacman/pacman/commit/0c99eabd50752310f42ec808c8734a338122ec86">antérieurement</a> inclus avec <i>pacman</i>). Lancez <code>pacman -Ql pacman pacman-contrib | grep -E 'bin/.+'</code> pour consulter la liste complète.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Ce qui suit n'est qu'un petit échantillon des opérations que <i>pacman</i> peut effectuer. Pour lire plus d'exemples, reportez-vous à <span class="plainlinks archwiki-template-man" title="$ man 8 pacman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.8">pacman(8)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Pour ceux qui ont déjà utilisé d'autres distributions Linux, il existe un article utile : <a href="../en/Pacman/Rosetta.html" class="mw-redirect" title="Pacman Rosetta">Pacman Rosetta</a>.</div>
<h3><span class="mw-headline" id="Installation_de_paquets">Installation de paquets</span></h3>
<p>Un paquet est une archive contenant :
</p>
<ul>
<li>tous les fichiers (compilés) d'une application</li>
<li>des métadonnées sur l'application, telles que le nom de l'application, la version, les dépendances, etc.</li>
<li>des fichiers d'installation et des directives pour <i>pacman</i>.</li>
<li>(optionnellement) des fichiers supplémentaires pour vous faciliter la vie, comme un script de démarrage/arrêt.</li>
</ul>
<p>Le gestionnaire de paquets d'Arch, <i>pacman</i>, peut installer, mettre à jour et supprimer ces paquets. L'utilisation de paquets au lieu de compiler et d'installer les programmes vous-même présente plusieurs avantages :
</p>
<ul>
<li>mise à jour facile : <i>pacman</i> mettra à jour les paquets existants dès que des mises à jour seront disponibles.</li>
<li>vérification des dépendances : <i>pacman</i> gère les dépendances pour vous, vous n'avez qu'à spécifier le programme et <i>pacman</i> l'installe avec tous les autres programmes dont il a besoin.</li>
<li>suppression propre : pacman<i> possède une liste de tous les fichiers d'un paquet ; de cette façon, aucun fichier n'est oublié par inadvertance lorsque vous décidez de supprimer un paquet.</i>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Les paquets ont souvent des <a href="../fr/PKGBUILD.html#optdepends" title="PKGBUILD (Français)">dépendances optionnelles</a> qui sont des paquets qui fournissent des fonctionnalités supplémentaires à l'application mais qui ne sont pas strictement nécessaires à son fonctionnement. Lors de l'installation d'un paquet, <i>pacman</i> listera les dépendances optionnelles d'un paquet, mais elles ne seront pas trouvées dans <code>pacman.log</code>. Utilisez la commande présentée dans <a href="#Interrogation_de_la_base_de_donn%C3%A9es_des_paquets">#Interrogation de la base de données des paquets</a> pour afficher les dépendances optionnelles d'un paquet.</li>
<li>Lors de l'installation d'un paquet dont vous avez besoin uniquement comme dépendance (facultative) d'un autre paquet (c'est-à-dire que vous n'en avez pas besoin explicitement), il est recommandé d'utiliser l'option <code>--asdeps</code>. Pour plus de détails, consultez la section <a href="#Motif_d'installation">#Motif d'installation</a>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Lors de l'installation de paquets dans Arch, évitez de rafraîchir la liste des paquets sans <a href="#Mise_%C3%A0_jour_des_paquets">mise à jour du système</a> (par exemple, lors d'une <a href="#Impossible_de_t%C3%A9l%C3%A9charger_les_paquets_%C3%A0_l'installation">#Impossible de télécharger les paquets à l'installation</a> dans les dépôts officiels). En pratique, ne lancez pas <code>pacman -Sy <i>nom_du_paquet</i></code> au lieu de <code>pacman -Sy<b>u</b> <i>nom_du_paquet</i></code>, car cela pourrait entraîner des problèmes de dépendance. Consultez <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">Mises à jour partielles</a> et <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=89328">BBS#89328</a>.</div>
<h4>
<span id="Installation_de_paquets_sp.C3.A9cifiques"></span><span class="mw-headline" id="Installation_de_paquets_spécifiques">Installation de paquets spécifiques</span>
</h4>
<p>Pour installer un seul paquet ou une liste de paquets, y compris les dépendances, exécutez la commande suivante :
</p>
<pre># pacman -S <i>nom_du_paquet1</i> <i>nom_du_paquet2</i> ...
</pre>
<p>Pour installer une liste de paquets avec expression régulière ("regex") (consultez <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=7179">cette discussion dans le forum international</a>) :
</p>
<pre># pacman -S $(pacman -Ssq <i>package_regex</i>)
</pre>
<p>Parfois, il existe plusieurs versions d'un paquet dans différents dépôts (par exemple, <i>extra</i> et <i>testing</i>). Pour installer la version du dépôt <i>extra</i> dans cet exemple, le dépôt doit être défini devant le nom du paquet :
</p>
<pre># pacman -S extra/<i>nom_du_paquet</i>.
</pre>
<p>Pour installer un certain nombre de paquets partageant des motifs similaires dans leurs noms, on peut utiliser l'expansion par accolades. Par exemple :
</p>
<pre># pacman -S plasma-{desktop,mediacenter,nm}
</pre>
<p>Ceci peut être étendu à autant de niveaux que nécessaire :
</p>
<pre># pacman -S plasma-{workspace{,-wallpapers},pa}
</pre>
<h5><span class="mw-headline" id="Paquets_virtuels">Paquets virtuels</span></h5>
<p>Un paquet virtuel est un paquet spécial qui n'existe pas par lui-même, mais qui est <a href="../fr/PKGBUILD.html#provides" title="PKGBUILD (Français)">fourni</a> par un ou plusieurs autres paquets. Les paquets virtuels permettent aux autres paquets de ne pas nommer un paquet spécifique comme dépendance, dans le cas où il y a plusieurs candidats. Les paquets virtuels ne peuvent pas être installés par leur nom, mais ils sont installés sur votre système lorsque vous avez installé un paquet <i>fournissant</i> le paquet virtuel.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Lorsqu'il y a plusieurs candidats, la liste des choix présentés sera d'abord triée par <a href="../en/Repository.html" class="mw-redirect" title="Repositories">repositories</a> dans l'ordre où ils apparaissent dans <code>pacman.conf</code>, puis par ordre alphabétique lorsqu'il y a plusieurs résultats provenant du même dépôt.</div>
<h4><span class="mw-headline" id="Installation_de_groupes_de_paquets">Installation de groupes de paquets</span></h4>
<p>Certains paquets appartiennent à un <a href="../en/Meta_package_and_package_group.html" class="mw-redirect" title="Package group">groupe de paquets</a> qui peuvent tous être installés simultanément. Par exemple, en lançant la commande :
</p>
<pre># pacman -S gnome
</pre>
<p>vous demandera de sélectionner les paquets du groupe <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/gnome/">gnome</a></span> que vous souhaitez installer.
</p>
<p>Parfois, un groupe de paquets contient un grand nombre de paquets, et il se peut qu'il n'y en ait que quelques-uns que vous voulez ou ne voulez pas installer. Au lieu de devoir entrer tous les numéros sauf ceux que vous ne voulez pas, il est parfois plus pratique de sélectionner ou d'exclure des paquets ou des plages de paquets avec la syntaxe suivante :
</p>
<pre>Entrez une sélection (par défaut=tous) : 1-10 15
</pre>
<p>qui sélectionnera les paquets 1 à 10 et 15 pour l'installation, ou :
</p>
<pre>Entrez une sélection (par défaut=tous) : ^5-8 ^2
</pre>
<p>qui sélectionnera tous les paquets sauf 5 à 8 et 2 pour l'installation.
</p>
<p>Pour consulter les paquets appartenant au groupe gnome, exécutez :
</p>
<pre># pacman -Sg gnome
</pre>
<p>Consultez également <a rel="nofollow" class="external free" href="https://archlinux.org/groups/">https://archlinux.org/groups/</a> pour voir quels groupes de paquets sont disponibles.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si un paquet de la liste est déjà installé sur le système, il sera réinstallé même s'il est déjà à jour. Ce comportement peut être outrepassé par l'option <code>--needed</code>. </div>
<h3><span class="mw-headline" id="Suppression_de_paquets">Suppression de paquets</span></h3>
<p>Pour supprimer un seul paquet, en laissant toutes ses dépendances installées :
</p>
<pre># pacman -R <i>nom_du_paquet</i>
</pre>
<p>Pour supprimer un paquet et ses dépendances qui ne sont pas requises par un autre paquet installé :
</p>
<pre># pacman -Rs <i>nom_du_paquet</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Lorsqu'on supprime un groupe, tel que <i>gnome</i>, le motif d'installation des paquets du groupe est ignoré, car on agit comme si chaque paquet du groupe était listé séparément. Le motif d'installation des dépendances est toujours respecté.</div>
<p>La commande ci-dessus peut parfois refuser de s'exécuter lors de la suppression d'un groupe qui contient des paquets nécessaires. Dans ce cas, essayez :
</p>
<pre># pacman -Rsu <i>nom_du_paquet</i>
</pre>
<p>Pour supprimer un paquet, ses dépendances et tous les paquets qui dépendent du paquet cible :
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Cette opération est récursive, et doit être utilisée avec précaution car elle peut supprimer de nombreux paquets potentiellement nécessaires.</div>
<pre># pacman -Rsc <i>nom_du_paquet</i>
</pre>
<p>Pour supprimer un paquet, qui est requis par un autre paquet, sans supprimer le paquet dépendant :
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> L'opération suivante peut casser un système et doit être évitée. Consultez <a href="../fr/System_maintenance.html#%C3%89vitez_certaines_commandes_de_pacman" class="mw-redirect" title="Évitez certaines commandes de pacman">Évitez certaines commandes de pacman</a>.</div>
<pre># pacman -Rdd <i>nom_du_paquet</i>
</pre>
<p>Pacman sauvegarde des fichiers de configuration importants lors de la suppression de certaines applications et les nomme avec l'extension : <i>.pacsave</i>. Pour empêcher la création de ces fichiers de sauvegarde, utilisez l'option <code>-n</code> :
</p>
<pre># pacman -Rn <i>nom_du_paquet</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pacman ne supprimera pas les configurations que l'application elle-même crée (par exemple "dotfiles" dans le répertoire home).</div>
<h3>
<span id="Mise_.C3.A0_jour_des_paquets"></span><span class="mw-headline" id="Mise_à_jour_des_paquets">Mise à jour des paquets</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> 
<ul>
<li>Les utilisateurs doivent suivre les conseils de la section <a href="../fr/System_maintenance.html#Mises_%C3%A0_jour_du_syst%C3%A8me" title="System maintenance (Français)">System maintenance (Français)#Mises à jour du système</a> pour mettre à jour leur système régulièrement et ne pas exécuter aveuglément la commande suivante.</li>
<li>Arch ne prend en charge que les mises à jour complètes du système. Consultez les sections <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">Mises à jour partielles</a> et <a href="#Installation_de_paquets">#Installation de paquets</a> pour plus de détails.</li>
</ul>
</div>
<p>Pacman peut mettre à jour tous les paquets du système avec une seule commande. Cela peut prendre un certain temps selon le degré de «fraîcheur» du système. La commande suivante synchronise les bases de données des dépôts <i>et</i> met à jour les paquets du système, en excluant les paquets "locaux" qui ne sont pas dans les dépôts configurés :
</p>
<pre># pacman -Syu
</pre>
<h3>
<span id="Interrogation_de_la_base_de_donn.C3.A9es_des_paquets"></span><span class="mw-headline" id="Interrogation_de_la_base_de_données_des_paquets">Interrogation de la base de données des paquets</span>
</h3>
<p>Pacman interroge la base de données des paquets locaux avec l'option <code>-Q</code>, la base de données de synchronisation avec l'option <code>-S</code> et la base de données des fichiers avec l'option <code>-F</code>. Consultez <code>pacman -Q --help</code>, <code>pacman -S --help</code> et <code>pacman -F --help</code> pour les sous-options respectives de chaque paramètre.
</p>
<p>Pacman peut rechercher des paquets dans la base de données, en cherchant à la fois dans les noms et les descriptions des paquets :
</p>
<pre>$ pacman -Ss <i>string1</i> <i>string2</i> ...
</pre>
<p>Parfois, l'ERE (Expressions Régulières Étendues) intégrée de <code>-s</code> peut causer beaucoup de résultats indésirables, elle doit donc être limitée pour ne correspondre qu'au nom du paquet, et non à sa description ou à tout autre champ :
</p>
<pre>$ pacman -Ss '^vim-'
</pre>
<p>Pour rechercher des paquets déjà installés :
</p>
<pre>$ pacman -Qs <i>string1</i> <i>string2</i> ...
</pre>
<p>Pour rechercher les noms de fichiers de paquets dans les paquets distants :
</p>
<pre>$ pacman -F <i>string1</i> <i>string2</i> ...
</pre>
<p>Pour afficher des informations détaillées sur un paquet donné :
</p>
<pre>$ pacman -Si <i>nom_du_paquet</i>.
</pre>
<p>Pour les paquets installés localement :
</p>
<pre>$ pacman -Qi <i>nom_du_paquet</i>.
</pre>
<p>Si vous passez deux options <code>-i</code>, vous afficherez également la liste des fichiers de sauvegarde et leur état de modification :
</p>
<pre>$ pacman -Qii <i>nom_du_paquet</i>.
</pre>
<p>Pour récupérer la liste des fichiers installés par un paquet :
</p>
<pre>$ pacman -Ql <i>nom_du_paquet</i>.
</pre>
<p>Pour récupérer la liste des fichiers installés par un paquet distant :
</p>
<pre>$ pacman -Fl <i>nom_du_paquet</i>.
</pre>
<p>Pour vérifier la présence des fichiers installés par un paquet :
</p>
<pre>$ pacman -Qk <i>nom_du_paquet</i>.
</pre>
<p>Passer deux fois l'option <code>k</code> permet d'effectuer une vérification plus approfondie.
</p>
<p>Pour interroger la base de données afin de savoir à quel paquet appartient un fichier dans le système de fichiers :
</p>
<pre>$ pacman -Qo <i>/path/to/file_name</i>.
</pre>
<p>Pour interroger la base de données afin de savoir à quel paquet distant appartient un fichier :
</p>
<pre>$ pacman -F <i>/path/to/file_name</i>.
</pre>
<p>Pour lister tous les paquets qui ne sont plus nécessaires comme dépendances (orphelins) :
</p>
<pre>$ pacman -Qdt
</pre>
<p>Pour lister tous les paquets explicitement installés et non requis comme dépendances :
</p>
<pre>$ pacman -Qet
</pre>
<p>Consultez <a href="../fr/Pacman/Tips_and_tricks.html" title="Pacman (Français)/Tips and tricks (Français)">pacman (Français)/Tips and tricks (Français)</a> pour plus d'exemples.
</p>
<h4><span class="mw-headline" id="Pactree">Pactree</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <span class="plainlinks archwiki-template-man" title="$ man 8 pactree"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pactree.8">pactree(8)</a></span> ne fait plus partie du paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span>. Il se trouve maintenant dans <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>.</div>
<p>Pour afficher l'arbre de dépendance d'un paquet :
</p>
<pre>$ pactree <i>nom_du_paquet</i>
</pre>
<p>Pour afficher l'arbre des dépendances d'un paquet, passez l'option inverse <code>-r</code> à <i>pactree</i>, ou utilisez <i>whoneeds</i> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgtools/">pkgtools</a></span><sup><small>AUR</small></sup>.
</p>
<h4>
<span id="Structure_de_la_base_de_donn.C3.A9es"></span><span class="mw-headline" id="Structure_de_la_base_de_données">Structure de la base de données</span>
</h4>
<p>Les bases de données de <i>pacman</i> sont normalement situées dans <code>/var/lib/pacman/sync</code>. Pour chaque dépôt spécifié dans <code>/etc/pacman.conf</code>, il y aura un fichier de base de données correspondant situé à cet endroit. Les fichiers de base de données sont des archives tar gzippées contenant un répertoire pour chaque paquet, par exemple pour le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=which">which</a></span> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ tree which-2.21-5</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">which-2.21-5
|-- desc
</pre>
<p>Le fichier <code>desc</code> contient des méta-données telles que la description du paquet, les dépendances, la taille du fichier et le hachage MD5.
</p>
<h3><span class="mw-headline" id="Nettoyage_du_cache_des_paquets">Nettoyage du cache des paquets</span></h3>
<p>Pacman stocke ses paquets téléchargés dans <code>/var/cache/pacman/pkg/</code> et ne supprime pas automatiquement les anciennes versions ou les versions désinstallées. Cela présente quelques avantages :
</p>
<ol>
<li>Il permet de <a href="../fr/Downgrading_packages.html" class="mw-redirect" title="Rétrograde">rétrograder</a> un paquet sans avoir besoin de récupérer la version précédente par d'autres moyens, tels que l'<a href="../fr/Arch_Linux_Archive.html" title="Arch Linux Archive (Français)">Arch Linux Archive</a>.</li>
<li>Un paquet qui a été désinstallé peut facilement être réinstallé directement depuis le répertoire de cache, sans nécessiter un nouveau téléchargement depuis le dépôt.</li>
</ol>
<p>Cependant, il est nécessaire de nettoyer délibérément le cache périodiquement pour éviter que le répertoire ne grossisse indéfiniment en taille.
</p>
<p>Le script <span class="plainlinks archwiki-template-man" title="$ man 8 paccache"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/paccache.8">paccache(8)</a></span>, fourni dans le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>, supprime par défaut toutes les versions en cache des paquets installés et désinstallés, à l'exception des trois plus récents :
</p>
<pre># paccache -r
</pre>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">Activez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> <code>paccache.timer</code> pour éliminer les paquets inutilisés chaque semaine.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Vous pouvez créer un <a href="#Hooks">hook</a> pour lancer cette opération automatiquement après chaque transaction <i>pacman</i>, <a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">installez</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacman-cleanup-hook/">pacman-cleanup-hook</a></span><sup><small>AUR</small></sup> et consultez <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1694743#p1694743">ces autres examples</a>.</div>
<p>Vous pouvez également définir le nombre de versions récentes que vous souhaitez conserver. Pour ne conserver qu'une seule version antérieure, utilisez :
</p>
<pre># paccache -rk1
</pre>
<p>Ajoutez le paramètre <code>-u</code>/<code>--uninstalled</code> pour limiter l'action de <i>paccache</i> aux paquets désinstallés. Par exemple, pour supprimer toutes les versions mises en cache des paquets non installés, utilisez ce qui suit :
</p>
<pre># paccache -ruk0
</pre>
<p>Consultez <code>paccache -h</code> pour plus d'options.
</p>
<p>Pacman a également des options intégrées pour nettoyer le cache et les fichiers de base de données restants des dépôts qui ne sont plus listés dans le fichier de configuration <code>/etc/pacman.conf</code>. Cependant, <i>pacman</i> n'offre pas la possibilité de conserver un certain nombre d'anciennes versions et est donc plus agressif que les options par défaut de <i>paccache</i>.
</p>
<p>Pour supprimer tous les paquets mis en cache qui ne sont pas actuellement installés, ainsi que la base de données de synchronisation non utilisée, exécutez :
</p>
<pre># pacman -Sc
</pre>
<p>Pour supprimer tous les fichiers du cache, utilisez deux fois l'option clean, c'est l'approche la plus agressive et elle ne laissera rien dans le répertoire du cache :
</p>
<pre># pacman -Scc
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Il faut éviter de supprimer du cache toutes les anciennes versions des paquets installés et tous les paquets désinstallés, sauf si l'on a désespérément besoin de libérer de l'espace disque. Cela empêchera de rétrograder ou de réinstaller des paquets sans les télécharger à nouveau.</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgcacheclean/">pkgcacheclean</a></span><sup><small>AUR</small></sup> et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacleaner/">pacleaner</a></span><sup><small>AUR</small></sup> sont deux autres alternatives pour nettoyer le cache.
</p>
<h3>
<span id="Commandes_suppl.C3.A9mentaires"></span><span class="mw-headline" id="Commandes_supplémentaires">Commandes supplémentaires</span>
</h3>
<p>Télécharger un paquet sans l'installer :
</p>
<pre># pacman -Sw <i>nom_du_paquet</i>
</pre>
<p>Installer un paquet "local" qui ne provient pas d'un dépôt distant (par exemple, le paquet provient de l'<a href="../fr/Arch_User_Repository.html" title="Arch User Repository (Français)">AUR</a>) :
</p>
<pre># pacman -U <i>/path/to/package/package_name-version.pkg.tar.zst</i>.
</pre>
<p>Pour conserver une copie du paquet local dans le cache de <i>pacman</i>, utilisez :
</p>
<pre># pacman -U file:///<i>path/to/package/package_name-version.pkg.tar.zst</i>
</pre>
<p>Installer un paquet 'distant' (ne provenant pas d'un dépôt indiqué dans les fichiers de configuration de <i>pacman</i>) :
</p>
<pre># pacman -U <i>http://www.example.com/repo/example.pkg.tar.zst</i>.
</pre>
<p>Pour inhiber les actions <code>-S</code>, <code>-U</code> et <code>-R</code>, on peut utiliser <code>-p</code>.
</p>
<p>Pacman liste toujours les paquets à installer ou à supprimer et demande la permission avant d'agir.
</p>
<h3>
<span id="Motif_d.27installation"></span><span class="mw-headline" id="Motif_d'installation">Motif d'installation</span>
</h3>
<p>La base de données <i>pacman</i> organise les paquets installés en deux groupes, selon le motif d'installation :
</p>
<ul>
<li>
<b>explicitly-installed</b> : paquets qui ont été littéralement passés à une commande générique <i>pacman</i> <code>-S</code> ou <code>-U</code> ;</li>
<li>
<b>dependencies</b> : paquets qui, bien que n'ayant jamais (en général) été passés à une commande d'installation <i>pacman</i>, ont été <i>implicitement</i> installés parce qu'ils étaient <a href="../fr/PKGBUILD.html#D%C3%A9pendances" title="PKGBUILD (Français)">nécessaire</a> aux paquets explicitement installés.</li>
</ul>
<p>Lors de l'installation d'un paquet, il est possible de forcer son motif d'installation en tant que <i>dépendance</i> avec :
</p>
<pre># pacman -S --asdeps <i>nom_du_paquet</i>.
</pre>
<p>Cette commande est normalement utilisée car les paquets explicitement installés peuvent proposer des <a href="../fr/PKGBUILD.html#optdepends" title="PKGBUILD (Français)">dépendances optionnelles</a>, généralement pour des fonctionnalités non essentielles pour lesquelles l'utilisateur a toute latitude.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> L'installation de dépendances optionnelles avec <code>--asdeps</code> garantira que, si vous <a href="../en/Pacman/Tips_and_tricks.html#Removing_unused_packages_(orphans)" title="Pacman/Tips and tricks">supprimez les paquets orphelins</a>, <i>pacman</i> supprimera également les paquets optionnels définis de cette manière.</div>
<p>Cependant, lors de la <i>réinstallation</i> d'un paquet, le motif de l'installation actuelle est préservée par défaut.
</p>
<p>La liste des paquets explicitement installés peut être affichée avec <code>pacman -Qe</code>, tandis que la liste complémentaire des dépendances peut être affichée avec <code>pacman -Qd</code>.
</p>
<p>Pour changer le motif de l'installation d'un paquet déjà installé, exécutez :
</p>
<pre># pacman -D --asdeps <i>nom_du_paquet</i>.
</pre>
<p>Utilisez <code>--asexplicit</code> pour effectuer l'opération inverse.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> L'utilisation des options <code>--asdeps</code> et <code>--asexplicit</code> lors de la mise à jour, comme avec <code>pacman -Syu <i>nom_du_paquet</i> --asdeps</code>, est déconseillée. Cela modifierait le motif de l'installation non seulement du paquet en cours d'installation, mais aussi des paquets mis à jour.</div>
<h3>
<span id="Ce_qui_se_passe_pendant_l.27installation.2Fmise_.C3.A0_jour.2Fsuppression_d.27un_paquet"></span><span class="mw-headline" id="Ce_qui_se_passe_pendant_l'installation/mise_à_jour/suppression_d'un_paquet">Ce qui se passe pendant l'installation/mise à jour/suppression d'un paquet</span>
</h3>
<p>En cas de succès, le déroulement d'une transaction suit cinq étapes de haut niveau plus des «hooks» pré/post transaction :
</p>
<ol>
<li>Initialiser la transaction s'il n'y a pas de verrou sur la base de données.</li>
<li>Choisir les paquets qui seront ajoutés ou supprimés dans la transaction.</li>
<li>Préparer la transaction, selon les paramètres, en effectuant des contrôles d'intégrité sur les bases de données de synchronisation, des paquets et de leurs dépendances.</li>
<li>Effectuer la transaction :
<ol>
<li>Le cas échéant, télécharger les paquets (<code>_alpm_sync_load</code>)</li>
<li>Si des «hooks» pré-existants de <i>pacman</i> <code>PreTransaction</code> s'appliquent, ils sont exécutés.</li>
<li>Les paquets qui doivent être remplacés, qui sont en conflit ou qui sont explicitement ciblés pour être supprimés sont supprimés.</li>
<li>S'il y a des paquets à ajouter, alors chaque paquet est validé.
<ol>
<li>Si le paquet a un script d'installation, sa fonction <code>pre_install</code> est exécutée (ou <code>pre_upgrade</code> ou <code>pre_remove</code> dans le cas d'un paquet mis à jour ou supprimé).</li>
<li>Pacman supprime tous les fichiers d'une version préexistante du paquet (dans le cas d'un paquet mis à jour ou supprimé). Cependant, les fichiers qui étaient marqués comme fichiers de configuration dans le paquet sont conservés (consultez <a href="../fr/Pacman/Pacnew_and_Pacsave.html" title="Pacman (Français)/Pacnew and Pacsave (Français)">/Pacnew and Pacsave (Français)</a>).</li>
<li>Pacman désarchive le paquet et transfère ses fichiers dans le système de fichiers (dans le cas d'un paquet installé ou mis à jour). Les fichiers qui écraseraient les fichiers de configuration conservés et modifiés manuellement (consultez l'étape précédente) sont stockés sous un nouveau nom (.pacnew).</li>
<li>Si le paquet a un script d'installation, sa fonction <code>post_install</code> est exécutée (ou <code>post_upgrade</code> ou <code>post_remove</code> dans le cas d'un paquet mis à jour ou supprimé).</li>
</ol>
</li>
<li>Si les crochets <code>PostTransaction</code> de <i>pacman</i> qui existent à la fin de la transaction s'appliquent, ils sont exécutés.</li>
</ol>
</li>
<li>Libérer la transaction et la ressource de la transaction (c'est-à-dire le verrou de la base de données).</li>
</ol>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Les paramètres de Pacman sont situés dans <code>/etc/pacman.conf</code> : c'est l'endroit où l'utilisateur configure le programme pour qu'il fonctionne de la manière souhaitée. Des informations détaillées sur le fichier de configuration peuvent être trouvées dans <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span>.
</p>
<h3>
<span id="Options_g.C3.A9n.C3.A9rales"></span><span class="mw-headline" id="Options_générales">Options générales</span>
</h3>
<p>Les options générales se trouvent dans la section <code>[options]</code>. Lisez <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span> ou regardez dans le fichier <code>pacman.conf</code> par défaut pour obtenir des informations sur ce qui peut être fait ici.
</p>
<h4>
<span id="Comparer_les_versions_avant_de_mettre_.C3.A0_jour"></span><span class="mw-headline" id="Comparer_les_versions_avant_de_mettre_à_jour">Comparer les versions avant de mettre à jour</span>
</h4>
<p>Pour consulter les anciennes et nouvelles versions des paquets disponibles, décommentez la ligne "VerbosePkgLists" dans <code>/etc/pacman.conf</code>. La sortie de <code>pacman -Syu</code> sera la suivante :
</p>
<pre>Package (6) Ancienne version Nouvelle version Changement net Taille du téléchargement

extra/libmariadbclient 10.1.9-4 10.1.10-1 0.03 MiB 4.35 MiB
extra/libpng 1.6.19-1 1.6.20-1 0.00 MiB 0.23 MiB
extra/mariadb 10.1.9-4 10.1.10-1 0.26 MiB 13.80 MiB
</pre>
<h4>
<span id="Activation_des_t.C3.A9l.C3.A9chargements_parall.C3.A8les"></span><span class="mw-headline" id="Activation_des_téléchargements_parallèles">Activation des téléchargements parallèles</span>
</h4>
<p>Pacman 6.0 a introduit l'option permettant de télécharger des paquets en parallèle. <code>ParallelDownloads</code> sous <code>[options]</code> doit être défini comme un nombre entier positif dans <code>/etc/pacman.conf</code> pour utiliser cette fonctionnalité (par exemple, <code>5</code>). Les paquets seront autrement téléchargés séquentiellement si cette option n'est pas définie.
</p>
<h4>
<span id="Ignorer_la_mise_.C3.A0_jour_d.27un_paquet"></span><span class="mw-headline" id="Ignorer_la_mise_à_jour_d'un_paquet">Ignorer la mise à jour d'un paquet</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Faites attention en ignorant des paquets, car les <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">mises à jour partielles</a> ne sont pas prises en charge.</div>
<p>Pour qu'un paquet spécifique soit ignoré lors de la <a href="#Mise_%C3%A0_jour_des_paquets">mise à jour</a> du système, ajoutez cette ligne dans la section <code>[options]</code> :
</p>
<pre>IgnorePkg=linux
</pre>
<p>Pour plusieurs paquets, utilisez une liste séparée par des espaces, ou utilisez des lignes <code>IgnorePkg</code> supplémentaires. Les motifs <a href="https://en.wikipedia.org/wiki/glob_(programming)" class="extiw" title="wikipedia:glob (programming)">glob</a> peuvent également être utilisés. Si vous voulez ignorer des paquets une seule fois, vous pouvez également utiliser l'option <code>--ignore</code> sur la ligne de commande - cette fois avec une liste séparée par des virgules.
</p>
<p>Il sera toujours possible de mettre à jour les paquets ignorés en utilisant <code>pacman -S</code> : dans ce cas, <i>pacman</i> vous rappellera que les paquets ont été inclus dans une déclaration <code>IgnorePkg</code>.
</p>
<h4>
<span id="Ignorer_la_mise_.C3.A0_jour_d.27un_groupe_de_paquets"></span><span class="mw-headline" id="Ignorer_la_mise_à_jour_d'un_groupe_de_paquets">Ignorer la mise à jour d'un groupe de paquets</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Faites attention en ignorant des groupes de paquets, car les <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">mises à jour partielles</a> ne sont pas prises en charge.</div>
<p>Comme pour les paquets, il est également possible d'ignorer un groupe de paquets entier :
</p>
<pre>IgnoreGroup=gnome
</pre>
<h4>
<span id="Ignorer_la_mise_.C3.A0_jour_d.27un_fichier"></span><span class="mw-headline" id="Ignorer_la_mise_à_jour_d'un_fichier">Ignorer la mise à jour d'un fichier</span>
</h4>
<p>Tous les fichiers listés avec une directive <code>NoUpgrade</code> ne seront jamais touchés lors de l'installation ou de la mise à jour d'un paquet, et les nouveaux fichiers seront installés avec une extension <i>.pacnew</i>.
</p>
<pre>NoUpgrade=<i>chemin/vers/fichier</i>
</pre>
<p>Plusieurs fichiers peuvent être spécifiés comme ceci :
</p>
<pre>NoUpgrade=<i>path/to/file1 path/to/file2</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Le chemin d'accès fait référence aux fichiers de l'archive du paquet. Par conséquent, n'incluez pas le «slash» de départ.</div>
<h4>
<span id="Ignorer_l.27installation_de_fichiers_sur_le_syst.C3.A8me"></span><span class="mw-headline" id="Ignorer_l'installation_de_fichiers_sur_le_système">Ignorer l'installation de fichiers sur le système</span>
</h4>
<p>Pour toujours ignorer l'installation de répertoires spécifiques, listez-les sous <code>NoExtract</code>. Par exemple, pour éviter l'installation des unités <a href="../fr/Systemd.html" title="Systemd (Français)">systemd</a>, utilisez ceci :
</p>
<pre>NoExtract=usr/lib/systemd/system/*
</pre>
<p>Les règles ultérieures remplacent les précédentes, et vous pouvez annuler une règle en la faisant précéder de <code>!</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Pacman émet des messages d'avertissement sur les locales manquantes lors de la mise à jour d'un paquet pour lequel les locales ont été effacées par <i>localepurge</i> ou <i>bleachbit</i>. En commentant l'option <code>CheckSpace</code> dans <code>pacman.conf</code>, vous supprimez ces avertissements, mais tenez compte du fait que la fonctionnalité de vérification des espaces sera désactivée pour tous les paquets.</div>
<h4><span class="mw-headline" id="Maintenir_plusieurs_fichiers_de_configuration">Maintenir plusieurs fichiers de configuration</span></h4>
<p>Si vous avez plusieurs fichiers de configuration (par exemple, la configuration principale et la configuration avec le dépôt <a href="../fr/Official_repositories.html#D%C3%A9p%C3%B4ts_de_test" title="Official repositories (Français)">testing</a> activé) et que vous devez partager des options entre les configurations, vous pouvez utiliser l'option <code>Include</code> déclarée dans les fichiers de configuration, par exemple :
</p>
<pre>Include = <i>/path/to/common/settings</i>.
</pre>
<p>où le fichier <code><i>/path/to/common/settings</i></code> contient les mêmes options pour les deux configurations.
</p>
<h4><span class="mw-headline" id="Hooks">Hooks</span></h4>
<p>Pacman peut exécuter des hooks pré- et post-transactions à partir du répertoire <code>/usr/share/libalpm/hooks/</code> ; d'autres répertoires peuvent être spécifiés avec l'option <code>HookDir</code> dans <code>pacman.conf</code>, qui est par défaut <code>/etc/pacman.d/hooks</code>. Les noms de fichiers de hooks doivent être suffixés par <i>.hook</i>. Les hooks de Pacman ne sont pas interactifs.
</p>
<p>Les hooks Pacman sont utilisés, par exemple, en combinaison avec <code>systemd-sysusers</code> et <code>systemd-tmpfiles</code> pour créer automatiquement des utilisateurs et des fichiers système lors de l'installation de paquets. Par exemple, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tomcat8">tomcat8</a></span> spécifie qu'il veut un utilisateur système appelé <code>tomcat8</code> et certains répertoires appartenant à cet utilisateur. Les hooks <i>pacman</i> <code>systemd-sysusers.hook</code> et <code>systemd-tmpfiles.hook</code> invoquent <code>systemd-sysusers</code> et <code>systemd-tmpfiles</code> lorsque <i>pacman</i> détermine que <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tomcat8">tomcat8</a></span> contient des fichiers spécifiant des utilisateurs et des fichiers tmp.
</p>
<p>Pour plus d'informations sur les hooks alpm, consultez <span class="plainlinks archwiki-template-man" title="$ man 5 alpm-hooks"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/alpm-hooks.5">alpm-hooks(5)</a></span>.
</p>
<h3>
<span id="D.C3.A9p.C3.B4ts_et_miroirs"></span><span class="mw-headline" id="Dépôts_et_miroirs">Dépôts et miroirs</span>
</h3>
<p>Outre la section spéciale <a href="#Options_g%C3%A9n%C3%A9rales">[options]</a>, chaque autre <code>[section]</code> de <code>pacman.conf</code> définit un dépôt de paquets à utiliser. Un <i>dépôt</i> est une collection <i>logique</i> de paquets, qui sont stockés <i>physiquement</i> sur un ou plusieurs serveurs : pour cette raison, chaque serveur est appelé <i>miroir</i> du dépôt.
</p>
<p>Les dépôts se distinguent entre les <a href="../fr/Official_repositories.html" class="mw-redirect" title="Dépôts officiels">officiels</a> et les <a href="../en/Unofficial_user_repositories.html" title="Unofficial user repositories">non officiels</a>. L'ordre des dépôts dans le fichier de configuration est important ; les dépôts listés en premier seront prioritaires sur ceux listés plus loin dans le fichier lorsque des paquets dans deux dépôts ont des noms identiques, indépendamment du numéro de version. Afin d'utiliser un dépôt après l'avoir ajouté, vous devrez d'abord <a href="#Mise_%C3%A0_jour_des_paquets">mettre à jour</a> l'ensemble du système.
</p>
<p>Chaque section de dépôt permet de définir la liste de ses miroirs directement ou dans un fichier externe dédié via la directive <code>Include</code> ; par exemple, les miroirs des dépôts officiels sont inclus dans <code>/etc/pacman.d/mirrorlist</code>. Consultez l'article <a href="../fr/Mirrors.html" class="mw-redirect" title="Miroir">Miroir</a> pour la configuration des miroirs.
</p>
<h4>
<span id="R.C3.A9pertoire_de_cache_des_paquets"></span><span class="mw-headline" id="Répertoire_de_cache_des_paquets">Répertoire de cache des paquets</span>
</h4>
<p>Pacman stocke les fichiers de paquets téléchargés dans un cache, dans un répertoire désigné par <code>CacheDir</code> dans la section <a href="#Options_g%C3%A9n%C3%A9rales">[options]</a> de <code>pacman.conf</code>. (la valeur par défaut est <code>/var/cache/pacman/pkg/</code> si elle n'est pas définie).
</p>
<p>Le répertoire de cache peut s'agrandir avec le temps, même si vous ne conservez que les versions les plus récentes des paquets installés.
</p>
<p>Si vous souhaitez déplacer ce répertoire vers un endroit plus pratique, effectuez l'une des opérations suivantes :
</p>
<ul>
<li>Définissez l'option <code>CacheDir</code> dans <code>pacman.conf</code> avec un nouveau répertoire. N'oubliez pas de conserver le slash de fin de ligne. <b>C'est la solution recommandée</b>.</li>
<li>Montez une partition dédiée ou par exemple <a href="../en/Btrfs.html#Subvolumes" class="mw-redirect" title="Btrfs (Français)">un sous-volume Btrfs</a> dans <code>/var/cache/pacman/pkg/</code>.</li>
<li>Bind-mount le répertoire sélectionné dans <code>/var/cache/pacman/pkg/</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> <b>Ne faites pas de lien symbolique</b> du répertoire <code>/var/cache/pacman/pkg/</code> vers un autre emplacement. Cela <b>entraînera</b> un mauvais comportement de pacman, en particulier lorsque pacman tente de se mettre à jour.</div>
<h4>
<span id="S.C3.A9curit.C3.A9_des_paquets"></span><span class="mw-headline" id="Sécurité_des_paquets">Sécurité des paquets</span>
</h4>
<p>Pacman prends en charge les signatures de paquets, qui ajoutent une couche supplémentaire de sécurité aux paquets. La configuration par défaut, <code>SigLevel = Required DatabaseOptional</code>, active la vérification des signatures pour tous les paquets au niveau global. Elle peut être remplacée par des lignes <code>SigLevel</code> par dépôt. Pour plus de détails sur la signature des paquets et la vérification des signatures, jetez un œil à <a href="../fr/Pacman/Package_signing.html" title="Pacman (Français)/Package signing (Français)">pacman-key</a>.
</p>
<h2>
<span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span>
</h2>
<h3>
<span id="Erreur_.22Failed_to_commit_transaction_.28conflicting_files.29.22"></span><span class="mw-headline" id='Erreur_"Failed_to_commit_transaction_(conflicting_files)"'>Erreur "Failed to commit transaction (conflicting files)"</span>
</h3>
<p>Si vous rencontrez l'erreur suivante : <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=56373">[1]</a>
</p>
<pre>error: could not prepare transaction
error: failed to commit transaction (conflicting files)
<i>package</i>: <i>/path/to/file</i> exists in filesystem
Errors occurred, no packages were upgraded.
</pre>
<p>Cela se produit parce que <i>pacman</i> a détecté un conflit de fichiers, et par conception, il n'écrasera pas les fichiers pour vous. Il s'agit d'une volonté délibérée et non d'un défaut.
</p>
<p>Le problème est généralement trivial à résoudre. Une manière sûre est de vérifier d'abord si un autre paquet possède le fichier (<code>pacman -Qo <i>/path/to/file</i></code>). Si le fichier appartient à un autre paquet, <a href="../en/Bug_reporting_guidelines.html" class="mw-redirect" title="Reporting bug guidelines">déposez un rapport de bug</a>. Si le fichier n'appartient pas à un autre paquet, renommez le fichier qui "existe dans le système de fichiers" et relancez la commande de mise à jour. Si tout va bien, le fichier peut alors être supprimé.
</p>
<p>Si vous aviez installé un programme manuellement sans utiliser <i>pacman</i>, par exemple via <code>make install</code>, vous devez supprimer/désinstaller ce programme avec tous ses fichiers. Consultez également <a href="../fr/Pacman/Tips_and_tricks.html#Recherche_des_fichiers_n'appartenant_%C3%A0_aucun_paquet" title="Pacman (Français)/Tips and tricks (Français)">Pacman (Français)/Tips and tricks (Français)#Recherche des fichiers n'appartenant à aucun paquet</a>.
</p>
<p>Chaque paquet installé fournit un fichier <code>/var/lib/pacman/local/<i>package-version</i>/files</code> qui contient des métadonnées sur ce paquet. Si ce fichier est corrompu, vide ou manquant, il en résulte des erreurs <code>file exists in filesystem</code> lors de la tentative de mise à jour du paquet. Une telle erreur ne concerne généralement qu'un seul paquet. Au lieu de renommer manuellement et de supprimer ensuite tous les fichiers qui appartiennent au paquet en question, vous pouvez exécuter explicitement <code>pacman -S --overwrite <i>glob</i> <i>package</i></code> pour forcer <i>pacman</i> à écraser les fichiers qui correspondent à <code><i>glob</i></code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Généralement, évitez d'utiliser la commande <code>--overwrite</code>. Consultez <a href="../fr/System_maintenance.html#%C3%89vitez_certaines_commandes_de_pacman" class="mw-redirect" title="Évitez certaines commandes de pacman">Évitez certaines commandes de pacman</a>.</div>
<h3>
<span id="Erreur_.22Failed_to_commit_transaction_.28invalid_or_corrupted_package.29.22"></span><span class="mw-headline" id='Erreur_"Failed_to_commit_transaction_(invalid_or_corrupted_package)"'>Erreur "Failed to commit transaction (invalid or corrupted package)"</span>
</h3>
<p>Recherchez les fichiers <i>.part</i> (paquets partiellement téléchargés) dans <code>/var/cache/pacman/pkg/</code> et supprimez-les (souvent causés par l'utilisation d'une <code>XferCommand</code> personnalisée dans <code>pacman.conf</code>).
</p>
<pre># find /var/cache/pacman/pkg/ -iname "*.part" -delete
</pre>
<p>Cette même erreur peut également apparaître si <i>archlinux-keyring</i> n'est pas à jour, empêchant <i>pacman</i> de vérifier les signatures. Consultez <a href="../fr/Pacman/Package_signing.html#Mettre_le_syst%C3%A8me_%C3%A0_jour_r%C3%A9guli%C3%A8rement" title="Pacman (Français)/Package signing (Français)">Pacman (Français)/Package signing (Français)#Mettre le système à jour régulièrement</a> pour la solution et comment l'éviter à l'avenir.
</p>
<h3>
<span id="Erreur_.22Failed_to_init_transaction_.28unable_to_lock_database.29.22"></span><span class="mw-headline" id='Erreur_"Failed_to_init_transaction_(unable_to_lock_database)"'>Erreur "Failed to init transaction (unable to lock database)"</span>
</h3>
<p>Lorsque <i>pacman</i> est sur le point de modifier la base de données des paquets, par exemple pour installer un paquet, il crée un fichier de verrouillage à <code>/var/lib/pacman/db.lck</code>. Cela empêche une autre instance de <i>pacman</i> d'essayer de modifier la base de données des paquets au même moment.
</p>
<p>Si <i>pacman</i> est interrompu alors qu'il modifie la base de données, ce fichier de verrouillage périmé peut rester. Si vous êtes certain qu'aucune instance de <i>pacman</i> n'est en cours d'exécution, supprimez le fichier de verrouillage :
</p>
<pre># rm /var/lib/pacman/db.lck
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Vous pouvez exécuter <code>fuser /var/lib/pacman/db.lck</code> en tant que root pour vérifier si un processus l'utilise encore.</div>
<h3>
<span id="Impossible_de_t.C3.A9l.C3.A9charger_les_paquets_.C3.A0_l.27installation"></span><span class="mw-headline" id="Impossible_de_télécharger_les_paquets_à_l'installation">Impossible de télécharger les paquets à l'installation</span>
</h3>
<p>Cette erreur se manifeste avec <code>Not found in sync db</code>, <code>Target not found</code> ou <code>Failed retrieving file</code>.
</p>
<p>Tout d'abord, assurez-vous que le paquet existe réellement. Si vous êtes certain que le paquet existe, votre liste de paquets n'est peut-être pas à jour. Essayez d'exécuter <code>pacman -Syu</code> pour forcer un rafraîchissement de toutes les listes de paquets et effectuer une mise à jour. Vérifiez également que les <a href="../fr/Mirrors.html" class="mw-redirect" title="Miroir">miroirs</a> sélectionnés sont à jour et que les <a href="#D%C3%A9p%C3%B4ts_et_miroirs">dépôts</a> sont correctement configurés.
</p>
<p>Il se peut également que le dépôt contenant le paquet ne soit pas activé sur votre système, par exemple, le paquet peut être dans le dépôt <a href="../fr/Official_repositories.html#multilib" title="Official repositories (Français)">multilib</a>, mais <i>multilib</i> n'est pas activé dans votre <code>pacman.conf</code>.
</p>
<p>Consultez également <a href="../fr/Frequently_asked_questions.html#Pourquoi_n'y_a_t_il_qu'une_seule_version_de_chaque_biblioth%C3%A8que_dans_les_d%C3%A9p%C3%B4ts_officiels?" title="Frequently asked questions (Français)">Frequently asked questions (Français)#Pourquoi n'y a t il qu'une seule version de chaque bibliothèque dans les dépôts officiels?</a>.
</p>
<h3>
<span id="Pacman_plante_pendant_une_mise_.C3.A0_jour"></span><span class="mw-headline" id="Pacman_plante_pendant_une_mise_à_jour">Pacman plante pendant une mise à jour</span>
</h3>
<p>Dans le cas où <i>pacman</i> se bloque avec une erreur d'écriture dans la base de données lors de la suppression de paquets, et que la réinstallation ou la mise à jour des paquets échoue par la suite, procédez comme suit :
</p>
<ol>
<li>Démarrez en utilisant le support d'installation d'Arch. Utilisez de préférence un support récent afin que la version de <i>pacman</i> corresponde/soit plus récente que le système.</li>
<li>Montez le système de fichiers racine du système, par exemple, <code>mount /dev/sdaX /mnt</code> en tant que root, et vérifiez que le montage a suffisamment d'espace avec <code>df -h</code>.</li>
<li>Montez également les systèmes de fichiers proc, sys et dev : <code>mount -t proc proc /mnt/proc ; mount --rbind /sys /mnt/sys ; mount --rbind /dev /mnt/dev </code>
</li>
<li>Si le système utilise les emplacements par défaut des bases de données et des répertoires, vous pouvez maintenant mettre à jour la base de données <i>pacman</i> du système et la mettre à jour via <code>pacman --sysroot /mnt -Syu</code> en tant que root.
<ul><li>Alternativement, si vous ne pouvez pas mettre à jour, reportez-vous à <a href="../fr/Pacman/Tips_and_tricks.html#R%C3%A9installation_de_tous_les_paquets" title="Pacman (Français)/Tips and tricks (Français)">Pacman (Français)/Tips and tricks (Français)#Réinstallation de tous les paquets</a>.</li></ul>
</li>
<li>Après la mise à jour, une façon de vérifier si des paquets non mis à jour mais encore cassés sont présents : <code>find /mnt/usr/lib -size 0</code>
</li>
<li>Suivi d'une réinstallation de tout paquet encore cassé via <code>pacman --sysroot /mnt -S <i>package</i></code>.</li>
</ol>
<h4>
<span id="pacman_:_commande_non_trouv.C3.A9e"></span><span class="mw-headline" id="pacman_:_commande_non_trouvée">pacman : commande non trouvée</span>
</h4>
<p>Si <code>/var/cache/pacman/pkg</code> est un lien symbolique, <i>pacman</i> essaiera de créer un répertoire à la place et donc de supprimer ce lien symbolique lors de l'auto-mise à jour. Cela fera échouer la mise à jour. En conséquence, <code>/usr/bin/pacman</code> et les autres contenus du paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span> seront manquants.
</p>
<p>Ne faites jamais de lien symbolique avec <code>/var/cache/pacman/pkg</code> car il est contrôlé par <i>pacman</i>. Utilisez l'option <code>CacheDir</code> ou un montage lié à la place ; voir <a href="#R%C3%A9pertoire_de_cache_des_paquets">#Répertoire de cache des paquets</a>.
</p>
<p>Si vous avez déjà rencontré ce problème et cassé votre système, vous pouvez extraire manuellement le contenu <code>/usr</code> du paquet pour restaurer <i>pacman</i> et le réinstaller correctement ; voir <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/73306">FS#73306</a> et <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=241213">la discussion sur le forum</a> pour plus de détails.
</p>
<h3>
<span id="R.C3.A9installation_manuelle_de_pacman"></span><span class="mw-headline" id="Réinstallation_manuelle_de_pacman">Réinstallation manuelle de pacman</span>
</h3>
<h4><span class="mw-headline" id="Utilisation_de_pacman-static">Utilisation de pacman-static</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacman-static/">pacman-static</a></span><sup><small>AUR</small></sup> est une version compilée statiquement de <i>pacman</i>, qui pourra donc fonctionner même si les bibliothèques du système ne fonctionnent pas. Cela peut également s'avérer utile lorsque des <a href="../fr/System_maintenance.html#Les_mises_%C3%A0_jour_partielles_ne_sont_pas_prises_en_charge" class="mw-redirect" title="Mises à jour partielles">mises à jour partielles</a> ont été effectuées et que <i>pacman</i> ne peut plus fonctionner.
</p>
<p>Le commentaire épinglé et le PKGBUILD fournissent un moyen de télécharger directement le binaire, qui peut être utilisé pour réinstaller <i>pacman</i> ou pour mettre à jour l'ensemble du système en cas de mise à jour partielle.
</p>
<h4>
<span id="Utilisation_d.27un_pacman_externe"></span><span class="mw-headline" id="Utilisation_d'un_pacman_externe">Utilisation d'un pacman externe</span>
</h4>
<p>Si même <code>pacman-static</code> ne fonctionne pas, il est possible de récupérer en utilisant un <i>pacman</i> externe. L'une des méthodes les plus simples consiste à utiliser <a href="../fr/Archiso.html" title="Archiso (Français)">Archiso</a> et à utiliser simplement <code>--sysroot</code> ou <code>--root</code> pour spécifier le point de montage. Consultez <a href="../fr/Chroot.html#Avec_chroot" title="Chroot (Français)">Chroot (Français)#Avec chroot</a> pour savoir comment monter les systèmes de fichiers nécessaires requis par <code>--sysroot</code>.
</p>
<h4><span class="mw-headline" id="En_extrayant_manuellement">En extrayant manuellement</span></h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Il est extrêmement facile de détériorer votre système en utilisant cette approche. N'utilisez cette méthode qu'en dernier recours si la méthode de <a href="#Pacman_plante_pendant_une_mise_%C3%A0_jour">#Pacman plante pendant une mise à jour</a> n'est pas une option.</div>
<p>Même si <i>pacman</i> est terriblement cassé, vous pouvez le réparer manuellement en téléchargeant les derniers paquets et en les extrayant aux bons endroits. Les étapes approximatives à effectuer sont les suivantes :
</p>
<ol>
<li>Déterminer les dépendances <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span> à installer</li>
<li>Téléchargez chaque paquet depuis un <a href="../fr/Mirrors.html" class="mw-redirect" title="Miroir">miroir</a> de votre choix.</li>
<li>Extrayez chaque paquet à la racine</li>
<li>Réinstallez ces paquets avec <code>pacman -S --overwrite</code> pour mettre à jour la base de données des paquets en conséquence.</li>
<li>Faites une mise à jour complète du système</li>
</ol>
<p>Si vous avez un système Arch sain sous la main, vous pouvez consulter la liste complète des dépendances avec :
</p>
<pre>$ pacman -Q $(pactree -u pacman)
</pre>
<p>Mais vous pouvez n'avoir besoin de mettre à jour que quelques-unes d'entre elles en fonction de votre problème. Un exemple d'extraction d'un paquet est
</p>
<pre># tar -xvpwf <i>package.tar.zst</i> -C / --exclude .PKGINFO --exclude .INSTALL --exclude .MTREE --exclude .BUILDINFO
</pre>
<p>Notez l'utilisation de l'option <code>w</code> pour le mode interactif. L'exécution en mode non interactif est très risquée car vous pourriez finir par écraser un fichier important. Faites également attention à extraire les paquets dans le bon ordre (c'est-à-dire les dépendances en premier). <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=95007">Ce post du forum</a> contient un exemple de ce processus où seules quelques dépendances de <i>pacman</i> sont cassées.
</p>
<h3>
<span id="Erreur_.22Unable_to_find_root_device.22_apr.C3.A8s_le_red.C3.A9marrage"></span><span class="mw-headline" id='Erreur_"Unable_to_find_root_device"_après_le_redémarrage'>Erreur "Unable to find root device" après le redémarrage</span>
</h3>
<p>Il est très probable que l'<a href="../fr/Arch_boot_process.html#Initramfs" title="Arch boot process (Français)">initramfs</a> ait été corrompu lors d'une mise à jour du <a href="../fr/Kernel.html" class="mw-redirect" title="Noyau">noyau</a> (une mauvaise utilisation de l'option <code>--overwrite</code> de <i>pacman</i> peut être une cause). Il y a deux options : premièrement, essayez l'entrée <i>Fallback</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Au cas où vous auriez supprimé l'entrée <i>Fallback</i>, vous pouvez toujours appuyer sur la touche <code>Tab</code> lorsque le menu du chargeur d'amorçage s'affiche (pour Syslinux) ou <code>e</code>. (pour GRUB ou systemd-boot), le renommer <code>initramfs-linux-fallback.img</code> et appuyer sur <code>Enter</code> ou <code>b</code>. (en fonction de votre <a href="../fr/Arch_boot_process.html#Chargeur_d'amor%C3%A7age" class="mw-redirect" title="Chargeur d'amorçage">chargeur d'amorçage</a>) pour démarrer avec les nouveaux paramètres.</div>
<p>Une fois le système démarré, exécutez cette commande (pour le noyau <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> stock) soit à partir de la console, soit à partir d'un terminal pour reconstruire l'image initramfs :
</p>
<pre># mkinitcpio -p linux
</pre>
<p>Si cela ne fonctionne pas, à partir d'une version courante d'Arch (CD/DVD ou clé USB), <a href="../en/File_systems.html#Mount_a_file_system" title="File systems">montez</a> vos partitions root et boot vers <code>/mnt</code> et <code>/mnt/boot</code> respectivement. Puis <a href="../fr/Chroot.html" title="Chroot (Français)">chrootez</a> en utilisant <i>arch-chroot</i> :
</p>
<pre># arch-chroot /mnt
# pacman -Syu mkinitcpio systemd linux
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Si vous n'avez pas de version actuelle ou si vous n'avez qu'une autre distribution Linux «live», vous pouvez utiliser <a href="../fr/Chroot.html" title="Chroot (Français)">chroot</a> à l'ancienne. Évidemment, il faudra taper davantage que simplement exécuter le script <code>arch-chroot</code>.</li>
<li>Si <i>pacman</i> échoue avec <code>Could not resolve host</code>, veuillez <a href="../en/Network_configuration.html#Check_the_connection" title="Network configuration">vérifier votre connexion internet</a>.</li>
<li>Si vous ne pouvez pas entrer dans l'environnement arch-chroot ou chroot mais que vous devez réinstaller des paquets, vous pouvez utiliser la commande <code>pacman --sysroot /mnt -Syu foo bar</code> pour utiliser <i>pacman</i> sur votre partition racine.</li>
</ul>
</div>
<p>La réinstallation du noyau (le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span>) génère automatiquement l'image initramfs avec <code>mkinitcpio -p linux</code>. Il n'est pas nécessaire de le faire séparément.
</p>
<p>Ensuite, il est recommandé d'exécuter <code>exit</code>, <code>umount /mnt/{boot,} </code> et <code>reboot</code>.
</p>
<h3>
<span id="Erreur_.22Warning_:_current_locale_is_invalid_.3B_using_default_.22C.22_locale.22"></span><span class="mw-headline" id='Erreur_"Warning_:_current_locale_is_invalid_;_using_default_"C"_locale"'>Erreur "Warning : current locale is invalid ; using default "C" locale"</span>
</h3>
<p>Comme l'indique le message d'erreur, votre locale n'est pas correctement configurée. Consultez la page concernant la <a href="../fr/Locale.html" title="Locale (Français)">Locale</a>.
</p>
<h3>
<span id="Pacman_ne_respecte_pas_les_param.C3.A8tres_du_proxy"></span><span class="mw-headline" id="Pacman_ne_respecte_pas_les_paramètres_du_proxy">Pacman ne respecte pas les paramètres du proxy</span>
</h3>
<p>Assurez-vous que les variables d'environnement pertinentes (<code>$http_proxy</code>, <code>$ftp_proxy</code> etc.) sont configurées. Si vous utilisez <i>pacman</i> avec <a href="../fr/Sudo.html" title="Sudo (Français)">sudo</a>, vous devez configurer sudo pour <a href="../fr/Sudo.html#Variables_d'environnement" title="Sudo (Français)">passer ces variables d'environnement à pacman</a>. Assurez-vous également que la configuration de <a href="../en/GnuPG.html#Use_a_keyserver" title="GnuPG">dirmngr</a> a <code>honor-http-proxy</code> dans <code>/etc/pacman.d/gnupg/dirmngr.conf</code> pour honorer le proxy lors du rafraîchissement des clés.
</p>
<h3>
<span id="Comment_r.C3.A9installer_tous_les_paquets.2C_en_conservant_les_informations_sur_le_fait_qu.27un_.C3.A9l.C3.A9ment_a_.C3.A9t.C3.A9_explicitement_install.C3.A9_ou_en_tant_que_d.C3.A9pendance_.3F"></span><span class="mw-headline" id="Comment_réinstaller_tous_les_paquets,_en_conservant_les_informations_sur_le_fait_qu'un_élément_a_été_explicitement_installé_ou_en_tant_que_dépendance_?">Comment réinstaller tous les paquets, en conservant les informations sur le fait qu'un élément a été explicitement installé ou en tant que dépendance ?</span>
</h3>
<p>Pour réinstaller tous les paquets natifs : <code>pacman -Qnq | pacman -S -</code> ou <code>pacman -S $(pacman -Qnq)</code> (l'option <code>-S</code> préserve la raison de l'installation par défaut).
</p>
<p>Vous devrez alors réinstaller tous les paquets étrangers, qui peuvent être listés avec <code>pacman -Qmq</code>.
</p>
<h3>
<span id="Erreur_.22Cannot_open_shared_object_file.22"></span><span class="mw-headline" id='Erreur_"Cannot_open_shared_object_file"'>Erreur "Cannot open shared object file"</span>
</h3>
<p>Il semble que la transaction précédente de <i>pacman</i> ait supprimé ou corrompu les bibliothèques partagées nécessaires à <i>pacman</i> lui-même.
</p>
<p>Pour sortir de cette situation, vous devez décompresser manuellement les bibliothèques requises sur votre système de fichiers. Trouvez d'abord quel paquet contient la bibliothèque manquante, puis localisez-le dans le cache de <i>pacman</i> (<code>/var/cache/pacman/pkg/</code>). Décompressez la bibliothèque partagée requise dans le système de fichiers. Cela permettra de lancer <i>pacman</i>.
</p>
<p>Maintenant vous devez <a href="#Installation_de_paquets_sp%C3%A9cifiques">réinstaller</a> le paquet cassé. Notez que vous devez utiliser l'option <code>--overwrite</code> car vous venez de décompresser des fichiers système et <i>pacman</i> ne le sait pas. Pacman remplacera correctement notre fichier de bibliothèque partagée par celui du paquet.
</p>
<p>C'est tout. Mettez à jour le reste du système.
</p>
<h3>
<span id="Gel_des_t.C3.A9l.C3.A9chargements_de_paquets"></span><span class="mw-headline" id="Gel_des_téléchargements_de_paquets">Gel des téléchargements de paquets</span>
</h3>
<p>Certains problèmes ont été signalés concernant des problèmes de réseau qui empêchent <i>pacman</i> de mettre à jour/synchroniser les dépôts. <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=68944">[2]</a> <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=65728">[3]</a> Lors de l'installation native d'Arch Linux, ces problèmes ont été résolus en remplaçant le logiciel de téléchargement de fichiers par défaut <i>pacman</i> par une alternative (consultez <a href="../fr/Pacman/Tips_and_tricks.html#Vitesse_de_t%C3%A9l%C3%A9chargement" title="Pacman (Français)/Tips and tricks (Français)">Améliorer les performances de pacman</a> pour plus de détails). Lors de l'installation d'Arch Linux en tant que système d'exploitation invité dans <a href="../en/VirtualBox.html" class="mw-redirect" title="VirtualBox (Français)">VirtualBox</a>, ce problème a également été résolu en utilisant <i>Host interface</i> au lieu de <i>NAT</i> dans les propriétés de la machine.
</p>
<h3>
<span id="Erreur_.22Failed_retrieving_file_.27core.db.27_from_mirror.22"></span><span class="mw-headline" id="Erreur_&quot;Failed_retrieving_file_'core.db'_from_mirror&quot;">Erreur "Failed retrieving file 'core.db' from mirror"</span>
</h3>
<p>Si vous recevez ce message d'erreur avec des <a href="../fr/Mirrors.html" class="mw-redirect" title="Miroir">miroirs</a> corrects, essayez de définir un <a href="../fr/Domain_name_resolution.html" title="Domain name resolution (Français)">serveur de noms</a> différent.
</p>
<h3>
<span id="Erreur_.22error_:_.27local-package.pkg.tar.27_:_permission_denied.22"></span><span class="mw-headline" id="Erreur_&quot;error_:_'local-package.pkg.tar'_:_permission_denied&quot;">Erreur "error : 'local-package.pkg.tar' : permission denied"</span>
</h3>
<p>Si vous voulez installer un paquet sur un montage sshfs en utilisant <code>pacman -U</code> et que vous recevez cette erreur, déplacez le paquet dans un répertoire local et réessayez d'installer.
</p>
<h3>
<span id="Erreur_.22error_:_could_not_determine_cachedir_mount_point_.2Fvar.2Fcache.2Fpacman.2Fpkg.22"></span><span class="mw-headline" id='Erreur_"error_:_could_not_determine_cachedir_mount_point_/var/cache/pacman/pkg"'>Erreur "error : could not determine cachedir mount point /var/cache/pacman/pkg"</span>
</h3>
<p>Si vous exécutez, par exemple, <code>pacman -Syu</code> dans un environnement chroot, vous rencontrez une erreur :
</p>
<pre>error : could not determine cachedir mount point /var/cache/pacman/pkg
error : failed to commit transaction (not enough free disk space)
</pre>
<p>Ceci est fréquemment causé par le fait que le répertoire chroot n'est pas un point de montage lorsque le chroot est lancé. Consultez la note dans <a href="../en/Install_Arch_Linux_from_existing_Linux.html#Downloading_basic_tools" title="Install Arch Linux from existing Linux">Install Arch Linux from existing Linux#Downloading basic tools</a> pour une solution, et <span class="plainlinks archwiki-template-man" title="$ man 8 arch-chroot"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/arch-chroot.8">arch-chroot(8)</a></span> pour une explication et un exemple d'utilisation de bind mounting pour faire du répertoire chroot un point de montage.
</p>
<h3>
<span id="erreur_:_Erreur_GPGME_:_Pas_de_donn.C3.A9es"></span><span class="mw-headline" id="erreur_:_Erreur_GPGME_:_Pas_de_données">erreur : Erreur GPGME : Pas de données</span>
</h3>
<p>Si vous ne parvenez pas à mettre à jour les paquets et recevez cette erreur, essayez <code>rm -r /var/lib/pacman/sync/</code> avant d'essayer de mettre à jour.
</p>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://archlinux.org/pacman/">Page d'accueil de pacman</a></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 3 libalpm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libalpm.3">libalpm(3)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 pacman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.8">pacman(8)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 repo-add"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/repo-add.8">repo-add(8)</a></span></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fr/Category:Package_manager.html" title="Category:Package manager (Français)">Package manager (Français)</a></li>
<li><a href="../fr/Category:Arch_projects.html" title="Category:Arch projects (Français)">Arch projects (Français)</a></li>
<li><a href="../fr/Category:Commands.html" title="Category:Commands (Français)">Commands (Français)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Fran%C3%A7ais)&amp;oldid=799325">https://wiki.archlinux.org/index.php?title=Pacman_(Français)&amp;oldid=799325</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 February 2024, at 18:08.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
