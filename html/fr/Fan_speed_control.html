<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Fan speed control (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fan_speed_control_Français rootpage-Fan_speed_control_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Vue_d'ensemble" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Vue_d'ensemble">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Vue d'ensemble</div>
		</a>
		
		<ul id="toc-Vue_d'ensemble-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fancontrol_(lm-sensors)" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Fancontrol_(lm-sensors)">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Fancontrol (lm-sensors)</div>
		</a>
		
			<button aria-controls="toc-Fancontrol_(lm-sensors)-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Fancontrol (lm-sensors) subsection</span>
			</button>
		
		<ul id="toc-Fancontrol_(lm-sensors)-sublist" class="vector-toc-list">
			<li id="toc-lm-sensors" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#lm-sensors">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>lm-sensors</div>
			</a>
			
			<ul id="toc-lm-sensors-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration-sublist" class="vector-toc-list">
				<li id="toc-Ajustement" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Ajustement">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Ajustement</div>
			</a>
			
			<ul id="toc-Ajustement-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Exécution_de_Fancontrol" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ex%C3%A9cution_de_Fancontrol">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Exécution de Fancontrol</div>
			</a>
			
			<ul id="toc-Exécution_de_Fancontrol-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Fancontrol_cesse_de_fonctionner_après_des_cycles_de_suspension-réveil" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fancontrol_cesse_de_fonctionner_apr%C3%A8s_des_cycles_de_suspension-r%C3%A9veil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.4</span>Fancontrol cesse de fonctionner après des cycles de suspension-réveil</div>
			</a>
			
			<ul id="toc-Fancontrol_cesse_de_fonctionner_après_des_cycles_de_suspension-réveil-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-NBFC" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#NBFC">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>NBFC</div>
		</a>
		
			<button aria-controls="toc-NBFC-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle NBFC subsection</span>
			</button>
		
		<ul id="toc-NBFC-sublist" class="vector-toc-list">
			<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-NBFC-Linux" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#NBFC-Linux">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>NBFC-Linux</div>
		</a>
		
		<ul id="toc-NBFC-Linux-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Portables_Dell" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Portables_Dell">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Portables Dell</div>
		</a>
		
			<button aria-controls="toc-Portables_Dell-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Portables Dell subsection</span>
			</button>
		
		<ul id="toc-Portables_Dell-sublist" class="vector-toc-list">
			<li id="toc-Installation_2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Configuration</div>
			</a>
			
			<ul id="toc-Configuration_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Installation_en_tant_que_service" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_en_tant_que_service">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Installation en tant que service</div>
			</a>
			
			<ul id="toc-Installation_en_tant_que_service-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Contrôle_du_ventilateur_par_le_BIOS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Contr%C3%B4le_du_ventilateur_par_le_BIOS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Contrôle du ventilateur par le BIOS</div>
			</a>
			
			<ul id="toc-Contrôle_du_ventilateur_par_le_BIOS-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Portables_ThinkPad" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Portables_ThinkPad">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Portables ThinkPad</div>
		</a>
		
			<button aria-controls="toc-Portables_ThinkPad-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Portables ThinkPad subsection</span>
			</button>
		
		<ul id="toc-Portables_ThinkPad-sublist" class="vector-toc-list">
			<li id="toc-Installation_3" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Installation_3">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.1</span>Installation</div>
			</a>
			
			<ul id="toc-Installation_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exécution" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ex%C3%A9cution">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">6.2</span>Exécution</div>
			</a>
			
			<ul id="toc-Exécution-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Portables_ASUS" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Portables_ASUS">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Portables ASUS</div>
		</a>
		
			<button aria-controls="toc-Portables_ASUS-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Portables ASUS subsection</span>
			</button>
		
		<ul id="toc-Portables_ASUS-sublist" class="vector-toc-list">
			<li id="toc-Modules_du_noyau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modules_du_noyau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Modules du noyau</div>
			</a>
			
			<ul id="toc-Modules_du_noyau-sublist" class="vector-toc-list">
				<li id="toc-asus-nb-wmi" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#asus-nb-wmi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.1</span>asus-nb-wmi</div>
			</a>
			
			<ul id="toc-asus-nb-wmi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-asus_fan" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#asus_fan">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.2</span>asus_fan</div>
			</a>
			
			<ul id="toc-asus_fan-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Générer_le_fichier_de_configuration_avec_pwmconfig" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#G%C3%A9n%C3%A9rer_le_fichier_de_configuration_avec_pwmconfig">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Générer le fichier de configuration avec pwmconfig</div>
			</a>
			
			<ul id="toc-Générer_le_fichier_de_configuration_avec_pwmconfig-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Méthode_alternative_utilisant_les_registres_EC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#M%C3%A9thode_alternative_utilisant_les_registres_EC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>Méthode alternative utilisant les registres EC</div>
			</a>
			
			<ul id="toc-Méthode_alternative_utilisant_les_registres_EC-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_de_la_politique_d'accélération_thermique" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_de_la_politique_d'acc%C3%A9l%C3%A9ration_thermique">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Configuration de la politique d'accélération thermique</div>
			</a>
			
			<ul id="toc-Configuration_de_la_politique_d'accélération_thermique-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modes_de_contrôle_des_ventilateurs_sur_certains_ordinateurs_portables_de_la_série_TUF" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modes_de_contr%C3%B4le_des_ventilateurs_sur_certains_ordinateurs_portables_de_la_s%C3%A9rie_TUF">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.5</span>Modes de contrôle des ventilateurs sur certains ordinateurs portables de la série TUF</div>
			</a>
			
			<ul id="toc-Modes_de_contrôle_des_ventilateurs_sur_certains_ordinateurs_portables_de_la_série_TUF-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Contrôle_du_ventilateur_AMDGPU_par_sysfs" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Contr%C3%B4le_du_ventilateur_AMDGPU_par_sysfs">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Contrôle du ventilateur AMDGPU par sysfs</div>
		</a>
		
			<button aria-controls="toc-Contrôle_du_ventilateur_AMDGPU_par_sysfs-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Contrôle du ventilateur AMDGPU par sysfs subsection</span>
			</button>
		
		<ul id="toc-Contrôle_du_ventilateur_AMDGPU_par_sysfs-sublist" class="vector-toc-list">
			<li id="toc-Configuration_du_contrôle_manuel" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_du_contr%C3%B4le_manuel">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Configuration du contrôle manuel</div>
			</a>
			
			<ul id="toc-Configuration_du_contrôle_manuel-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-amdgpu-fan" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#amdgpu-fan">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>amdgpu-fan</div>
			</a>
			
			<ul id="toc-amdgpu-fan-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-amdfand-bin" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#amdfand-bin">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>amdfand-bin</div>
			</a>
			
			<ul id="toc-amdfand-bin-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Script_fancurve" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Script_fancurve">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>Script fancurve</div>
			</a>
			
			<ul id="toc-Script_fancurve-sublist" class="vector-toc-list">
				<li id="toc-Configuration_du_script_fancurve" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configuration_du_script_fancurve">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4.1</span>Configuration du script fancurve</div>
			</a>
			
			<ul id="toc-Configuration_du_script_fancurve-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dépannage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#D%C3%A9pannage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Dépannage</div>
		</a>
		
			<button aria-controls="toc-Dépannage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dépannage subsection</span>
			</button>
		
		<ul id="toc-Dépannage-sublist" class="vector-toc-list">
			<li id="toc-Augmenter_le_diviseur_du_ventilateur_pour_les_capteurs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Augmenter_le_diviseur_du_ventilateur_pour_les_capteurs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.1</span>Augmenter le diviseur du ventilateur pour les capteurs</div>
			</a>
			
			<ul id="toc-Augmenter_le_diviseur_du_ventilateur_pour_les_capteurs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Les_chemins_des_périphériques_ont_changé_dans_/etc/fancontrol" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Les_chemins_des_p%C3%A9riph%C3%A9riques_ont_chang%C3%A9_dans_/etc/fancontrol">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2</span>Les chemins des périphériques ont changé dans /etc/fancontrol</div>
			</a>
			
			<ul id="toc-Les_chemins_des_périphériques_ont_changé_dans_/etc/fancontrol-sublist" class="vector-toc-list">
				<li id="toc-Solution" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Solution">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2.1</span>Solution</div>
			</a>
			
			<ul id="toc-Solution-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Solution_alternative_:_chemins_absolus" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Solution_alternative_:_chemins_absolus">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">9.2.2</span>Solution alternative : chemins absolus</div>
			</a>
			
			<ul id="toc-Solution_alternative_:_chemins_absolus-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Fan speed control (Français)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 3 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-3" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">3 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Fan_speed_control.html" title="Fan speed control – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/%E3%83%95%E3%82%A1%E3%83%B3%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E5%88%B6%E5%BE%A1" title="ファンスピード制御 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Fan_speed_control" title="Fan speed control – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Fan_speed_control.html" title="Fan speed control">Fan speed control</a>. Date de la dernière traduction: 2022-04-30. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Fan_speed_control&amp;diff=0&amp;oldid=728097">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Lm_sensors.html" title="Lm sensors">Lm_sensors</a></li>
<li><a href="../en/Undervolting_CPU.html" title="Undervolting CPU">Undervolting CPU</a></li>
<li><a href="../fr/CPU_frequency_scaling.html" title="CPU frequency scaling (Français)">CPU frequency scaling (Français)</a></li>
</ul>
</div>
<p>Le contrôle des ventilateurs peut apporter de nombreux avantages à votre système, comme un fonctionnement plus silencieux et une économie d'énergie en arrêtant complètement les ventilateurs lorsque la charge du processeur est faible.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> La configuration ou l'arrêt complet des ventilateurs lorsque la charge du système est élevée peut entraîner des dommages matériels permanents.</div>
<meta property="mw:PageProp/toc">
<h2>
<span id="Vue_d.27ensemble"></span><span class="mw-headline" id="Vue_d'ensemble">Vue d'ensemble</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Les utilisateurs d'ordinateurs portables doivent savoir comment fonctionne le système de refroidissement de leur matériel. Certains ordinateurs portables ont un seul ventilateur pour le CPU et le GPU et les refroidissent en même temps. Certains portables ont deux ventilateurs pour le CPU et le GPU, mais le premier refroidit le CPU et le GPU en même temps, tandis que l'autre ne refroidit que le CPU. Dans certains cas, vous ne pourrez pas utiliser le script <a href="#Fancontrol_(lm-sensors)">Fancontrol</a> en raison d'une architecture de refroidissement incompatible (par exemple, un ventilateur pour le GPU et le CPU). Vous trouverez plus d'informations sur ce sujet <a rel="nofollow" class="external text" href="https://github.com/daringer/asus-fan/issues/47#issue-232063547">à l'adresse suivante</a>.</div>
<p>Il existe plusieurs solutions fonctionnelles pour le contrôle des ventilateurs, tant pour les ordinateurs de bureau que pour les ordinateurs portables. En fonction de vos besoins :
</p>
<ul>
<li>
<a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a> — Script (écrit en Bash) pour configurer la vitesse des ventilateurs. Plus adapté aux ordinateurs de bureau et portables, où les contrôles de ventilateurs sont disponibles via <span class="plainlinks archwiki-template-man" title="$ man 5 sysfs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sysfs.5">sysfs(5)</a></span>.</li>
<li>
<a href="#NBFC">NoteBook Fan Control (NBFC)</a> — Solution multiplateforme pour le contrôle des ventilateurs des ordinateurs portables, écrite en C# et fonctionnant avec le runtime <a href="../en/Mono.html" title="Mono">Mono</a>. Convient surtout aux ordinateurs portables les plus récents, non pris en charge par <a href="#Fancontrol_(lm-sensors)">Fancontrol</a>.</li>
<li>
<a href="#Portables_Dell">Portables Dell</a> — Daemon de contrôle de ventilateur alternatif pour certains ordinateurs portables Dell.</li>
<li>
<a href="#Portables_ThinkPad">Portables ThinkPad</a> — Configuration des ventilateurs pour certains ordinateurs portables ThinkPad.</li>
<li>
<a href="#Portables_ASUS">Portables ASUS</a> — Configuration de certains ordinateurs portables ASUS pour <a href="#Fancontrol_(lm-sensors)">Fancontrol</a> ou le contrôle manuel.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fan2go-git/">fan2go-git</a></span><sup><small>AUR</small></sup> — Une alternative à Fancontrol indépendante des chemins des périphériques.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/isw/">isw</a></span><sup><small>AUR</small></sup> — Configuration des ventilateurs pour certains ordinateurs portables MSI.</li>
</ul>
<h2>
<span id="Fancontrol_.28lm-sensors.29"></span><span class="mw-headline" id="Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</span>
</h2>
<p><code>fancontrol</code> est une partie de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lm_sensors">lm_sensors</a></span>, qui peut être utilisée pour contrôler la vitesse des ventilateurs du CPU/du boîtier.
</p>
<p>La prise en charge des cartes mères plus récentes peut ne pas être encore dans le noyau Linux. Consultez le tableau officiel des <a rel="nofollow" class="external text" href="https://hwmon.wiki.kernel.org/device_support_status">périphériques pris en charge par lm-sensors</a> pour voir si des pilotes expérimentaux sont disponibles pour ces cartes mères.
</p>
<h3><span class="mw-headline" id="lm-sensors">lm-sensors</span></h3>
<p>La première chose à faire est d'exécuter
</p>
<pre># sensors-detect
</pre>
<p>Cela détectera tous les capteurs présents et ils seront utilisés pour le <i>fancontrol</i>. Après cela, exécutez ce qui suit pour vérifier s'il a détecté les capteurs correctement :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ sensors</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">coretemp-isa-0000
Adaptateur : Adaptateur ISA
Core 0 : +29.0°C (high = +76.0°C, crit = +100.0°C)
...
it8718-isa-0290
Adaptateur : Adaptateur ISA
Vcc : +1,14 V (min = +0,00 V, max = +4,08 V)
VTT : +2,08 V (min = +0,00 V, max = +4,08 V)
+3,3V : +3,33 V (min = +0,00 V, max = +4,08 V)
NB Vcore :    +0,03 V (min = +0,00 V, max = +4,08 V)
VDRAM :       +2,13 V (min = +0,00 V, max = +4,08 V)
ventilateur1 : 690 RPM (min = 10 RPM)
temp1 : +37.5°C (low = +129.5°C, high = +129.5°C) sensor = thermistor
temp2 : +25.0°C (low = +127.0°C, high = +127.0°C) capteur = diode thermique</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si la sortie n'affiche pas une valeur RPM pour le ventilateur du CPU, il faut peut-être <a href="#Augmenter_le_diviseur_du_ventilateur_pour_les_capteurs">augmenter le diviseur du ventilateur pour les capteurs</a>. Si la vitesse du ventilateur est affichée et supérieure à 0, c'est bon.</div>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p>Une fois les capteurs correctement configurés, utilisez <span class="plainlinks archwiki-template-man" title="$ man 8 pwmconfig"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pwmconfig.8">pwmconfig(8)</a></span> pour tester et configurer le contrôle de la vitesse du ventilateur. En suivant le guide, vous devriez créer <code>/etc/fancontrol</code>, un fichier de configuration personnalisé. Dans le guide, les réponses par défaut sont entre parenthèses si vous appuyez sur entrée sans rien taper. Entrez <code>y</code> pour oui, <code>n</code> pour non.
</p>
<pre># pwmconfig
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Certains utilisateurs peuvent rencontrer des problèmes lorsqu'ils utilisent les chemins <code>/sys/class/hwmon/</code> pour leur fichier de configuration. Les liens symboliques de périphériques de classe <i>hwmon</i> pointent vers les chemins absolus et sont utilisés pour regrouper tous les capteurs <i>hwmon</i> dans un seul répertoire pour un accès plus facile. Parfois, l'ordre des périphériques <i>hwmon</i> change à la suite d'un redémarrage, ce qui fait que <i>fancontrol</i> ne fonctionne plus. Consultez <a href="#Les_chemins_des_p%C3%A9riph%C3%A9riques_ont_chang%C3%A9_dans_/etc/fancontrol">#Les chemins des périphériques ont changé dans /etc/fancontrol</a> pour plus d'informations sur la façon de résoudre ce problème.</div>
<h4><span class="mw-headline" id="Ajustement">Ajustement</span></h4>
<p>Certains utilisateurs peuvent vouloir modifier manuellement le fichier de configuration après avoir exécuté <code>pwmconfig</code> avec les privilèges root, généralement pour corriger quelque chose. Pour modifier manuellement le fichier de configuration <code>/etc/fancontrol</code>, consultez <span class="plainlinks archwiki-template-man" title="$ man 8 fancontrol"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fancontrol.8">fancontrol(8)</a></span> pour les définitions des variables.
</p>
<p>Les utilisateurs rencontreront probablement les problèmes de chemin d'accès à <i>hwmon</i> comme indiqué ci-dessus dans <a href="#Fancontrol_(lm-sensors)">#Fancontrol (lm-sensors)</a>. Consultez <a href="#Les_chemins_des_p%C3%A9riph%C3%A9riques_ont_chang%C3%A9_dans_/etc/fancontrol">#Les chemins des périphériques ont changé dans /etc/fancontrol</a> pour plus d'informations.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Utiliser les options <code>MAXPWM</code> et <code>MINPWM</code> qui limitent la plage de vitesse du ventilateur. Consultez <span class="plainlinks archwiki-template-man" title="$ man 8 fancontrol"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fancontrol.8">fancontrol(8)</a></span> pour plus de détails.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Les chemins des capteurs de température et de ventilation peuvent également changer (généralement lors d'une mise à jour du noyau) (par exemple, <code>hwmon0/device/temp1_input</code> devient <code>hwmon0/temp1_input</code>). Vérifiez <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">l'état de l'unité</a> <code>fancontrol.service</code> pour savoir quel est le chemin qui pose problème et corrigez votre fichier de configuration en conséquence.</div>
<h3>
<span id="Ex.C3.A9cution_de_Fancontrol"></span><span class="mw-headline" id="Exécution_de_Fancontrol">Exécution de Fancontrol</span>
</h3>
<p>Essayez d'exécuter <i>fancontrol</i> :
</p>
<pre># fancontrol
</pre>
<p>Une installation correctement configurée ne produira pas d'erreurs et prendra le contrôle des ventilateurs du système. Les utilisateurs devraient entendre les ventilateurs du système démarrer peu après l'exécution de cette commande. La commande <i>fancontrol</i> peut également être exécutée en <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrant/activant</a> <code>fancontrol.service</code>.
</p>
<p>Pour une interface graphique non officielle, <a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">installez</a>. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fancontrol-gui/">fancontrol-gui</a></span><sup><small>AUR</small></sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fancontrol-kcm/">fancontrol-kcm</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Fancontrol_cesse_de_fonctionner_apr.C3.A8s_des_cycles_de_suspension-r.C3.A9veil"></span><span class="mw-headline" id="Fancontrol_cesse_de_fonctionner_après_des_cycles_de_suspension-réveil">Fancontrol cesse de fonctionner après des cycles de suspension-réveil</span>
</h3>
<p>Malheureusement, <i>fancontrol</i> ne fonctionne pas après une suspension. Conformément au <a rel="nofollow" class="external text" href="https://github.com/lm-sensors/lm-sensors/issues/172">bug reporté</a>, vous devez redémarrer <i>fancontrol</i> après une suspension. Ceci peut être réalisé automatiquement par un <a href="../en/Power_management/Suspend_and_hibernate.html#Hooks_in_/usr/lib/systemd/system-sleep" title="Power management/Suspend and hibernate">hook systemd (en)</a>.
</p>
<h2><span class="mw-headline" id="NBFC">NBFC</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> NBFC n'est plus maintenu depuis le 29 mars 2020. Les nouvelles configurations utilisateur peuvent toujours être créées manuellement, mais des configurations prédéfinies n'ont pas été ajoutées depuis cette date. Il existe des forks qui permettent d'ajouter de nouvelles configurations, comme nbfc-revive.</div>
<p>NBFC est une solution multiplateforme de contrôle des ventilateurs pour les ordinateurs portables. Il est livré avec un système de configuration puissant, qui permet de l'adapter à de nombreux modèles d'ordinateurs portables, y compris certains des plus récents.
</p>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p>NBFC peut être installé avec <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc/">nbfc</a></span><sup><small>AUR</small></sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-git/">nbfc-git</a></span><sup><small>AUR</small></sup>. Pensez à <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrer/activer</a> <code>nbfc.service</code>.
</p>
<h3><span class="mw-headline" id="Configuration_2">Configuration</span></h3>
<p>NBFC est livré avec des profils prédéfinis. Vous pouvez les trouver dans le répertoire <code>/opt/nbfc/Configs/</code>. Lorsque vous les appliquez, utilisez le nom exact du profil sans extension de fichier (par exemple, <code>some profile.xml</code> devient <code>"some profile"</code>).
</p>
<p>Vérifiez s'il y a quelque chose que NBFC peut recommander :
</p>
<pre>$ nbfc config -r
</pre>
<p>S'il y a au moins un modèle, essayez d'appliquer ce profil et consultez comment les vitesses des ventilateurs sont gérées. Par exemple :
</p>
<pre>$ nbfc config -a "Asus Zenbook UX430UA"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si vous obtenez <code>File Descriptor does not pris en charge writing</code>, supprimez <code>StagWare.Plugins.ECSysLinux.dll</code> <a rel="nofollow" class="external autonumber" href="https://github.com/hirschmann/nbfc/issues/439">[1]</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">redémarrez</a> <code>nbfc.service</code> :
<pre># mv /opt/nbfc/Plugins/StagWare.Plugins.ECSysLinux.dll /opt/nbfc/Plugins/StagWare.Plugins.ECSysLinux.dll.old
</pre>
<p>Si la solution ci-dessus ne vous a pas aidé, essayez d'ajouter <code>ec_sys.write_support=1</code> aux <a href="../en/Kernel_parameters.html" title="Kernel parameters">paramètres du noyau</a>.
</p>
</div>
<p>S'il n'y a pas de modèles recommandés, allez sur <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/tree/master/Configs">NBFC git repository</a> ou <code>/opt/nbfc/Configs/</code> et vérifiez s'il existe des modèles similaires disponibles chez le même fabricant. Par exemple pour un <b>Asus Zenbook UX430UQ</b>, la configuration <b>Asus Zenbook UX430UA</b> ne fonctionnait pas bien (ventilateurs complètement arrêtés tout le temps), mais <b>Asus Zenbook UX410UQ</b> fonctionnait parfaitement.
</p>
<p>Exécutez <code>nbfc</code> pour consulter toutes les options. Plus d'informations sur la configuration sont disponibles sur le <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/wiki/">wiki des développeurs</a>.
</p>
<h2><span class="mw-headline" id="NBFC-Linux">NBFC-Linux</span></h2>
<p><a rel="nofollow" class="external text" href="https://github.com/nbfc-linux/nbfc-linux">NBFC-Linux</a> est une implémentation légère de NBFC, écrite en C. Elle ne dépend pas du framework Mono. Elle peut être installée avec <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-linux/">nbfc-linux</a></span><sup><small>AUR</small></sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nbfc-linux-git/">nbfc-linux-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Portables_Dell">Portables Dell</span></h2>
<p><i>i8kutils</i> est un daemon permettant de configurer la vitesse du ventilateur en fonction de la température du CPU sur certains ordinateurs portables Dell Inspiron et Latitude. Il utilise l'interface <code>/proc/i8k</code> fournie par le pilote <code>i8k</code> (un alias pour <code>dell_smm_hwmon</code>). Les résultats varieront en fonction du modèle exact de l'ordinateur portable.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Les appels système BIOS <i>i8kutils</i> arrêtent le noyau pendant un moment sur certains systèmes (confirmé sur Dell 9560), cela peut conduire à des effets secondaires comme des coupures audio, consultez <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=201097">https://bugzilla.kernel.org/show_bug.cgi?id=201097</a>
</div>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/i8kutils/">i8kutils</a></span><sup><small>AUR</small></sup> est le paquet principal pour contrôler la vitesse du ventilateur. En outre, vous pouvez vouloir installer les éléments suivants :
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi">acpi</a></span> - doit être installé pour utiliser <i>i8kmon</i>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tcl">tcl</a></span> - doit être installé afin d'exécuter <i>i8kmon</i> en tant que service d'arrière-plan (en utilisant l'option <code>--daemon</code>).</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tk">tk</a></span> - doit être installé en même temps que <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tcl">tcl</a></span> pour fonctionner comme applet de bureau X11.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dell-bios-fan-control-git/">dell-bios-fan-control-git</a></span><sup><small>AUR</small></sup> - recommandé si votre BIOS outrepasse le contrôle du ventilateur.</li>
</ul>
<h3><span class="mw-headline" id="Configuration_3">Configuration</span></h3>
<p>Les points de température auxquels le ventilateur change de vitesse peuvent être ajustés dans le même fichier de configuration. Seules trois vitesses de ventilateur sont prises en charge (haute, basse et arrêt). Recherchez une section similaire à la suivante :
</p>
<pre>set config(0) {{0 0} -1 55 -1 55}
set config(1) {{1 1}  45 75 45 75}
set config(2) {{2 2} 65 128 65 128}
</pre>
<p>Cet exemple fait démarrer le ventilateur à faible vitesse lorsque la température du CPU atteint 55 °C, et le fait passer à la vitesse élevée à 75 °C. Le ventilateur repasse en vitesse lente lorsque la température descend à 65 °C, et s'arrête complètement à 45 °C.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Si, en exécutant <code>i8kmon</code> avec l'option verbose, vous remarquez que l'état change (exemple de sortie : <code># (57&gt;=55), state=1, low=45, high=75</code>) mais que les ventilateurs droit et gauche rapportent l'état 0, vous pouvez envisager de changer la valeur de vitesse du premier état dans le fichier de configuration de 1000 par défaut à 2000 ou plus.</div>
<h3><span class="mw-headline" id="Installation_en_tant_que_service">Installation en tant que service</span></h3>
<p><i>i8kmon</i> peut être lancé automatiquement en <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrant/activant</a>. <code>i8kmon.service</code>.
</p>
<h3>
<span id="Contr.C3.B4le_du_ventilateur_par_le_BIOS"></span><span class="mw-headline" id="Contrôle_du_ventilateur_par_le_BIOS">Contrôle du ventilateur par le BIOS</span>
</h3>
<p>Certains ordinateurs portables plus récents ont un contrôle de ventilateur par le BIOS en place qui remplacera le contrôle de ventilateur au niveau du système d'exploitation. Pour tester si c'est le cas, exécutez <code>i8kmon</code> en mode verbeux dans une ligne de commande, assurez-vous que le CPU est inactif, puis consultez si le ventilateur est éteint ou réduit en conséquence.
</p>
<p>Si le contrôle du ventilateur du BIOS est en place, vous pouvez essayer d'utiliser <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dell-bios-fan-control-git/">dell-bios-fan-control-git</a></span><sup><small>AUR</small></sup> :
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> La désactivation du contrôle du ventilateur du BIOS peut endommager votre matériel. Assurez-vous d'avoir correctement configuré <i>i8kmon</i> au préalable ou laissez le CPU inactif pendant que vous testez ce programme.</div>
<p>Pour activer le contrôle des ventilateurs du BIOS :
</p>
<pre># dell-bios-fan-control 1
</pre>
<p>Pour désactiver le contrôle du ventilateur par le BIOS :
</p>
<pre># dell-bios-fan-control 0
</pre>
<p>Le contrôle du ventilateur du BIOS peut être automatiquement désactivé en <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrant/activant</a>. <code>dell-bios-fan-control.service</code>.
</p>
<h2><span class="mw-headline" id="Portables_ThinkPad">Portables ThinkPad</span></h2>
<p>Parmi les daemons de contrôle des ventilateurs figurent <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/simpfand-git/">simpfand-git</a></span><sup><small>AUR</small></sup> et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan/">thinkfan</a></span><sup><small>AUR</small></sup> (recommandé).
</p>
<h3><span class="mw-headline" id="Installation_3">Installation</span></h3>
<p>Installez <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan/">thinkfan</a></span><sup><small>AUR</small></sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/thinkfan-git/">thinkfan-git</a></span><sup><small>AUR</small></sup>. Optionnellement, mais recommandé, installez <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lm_sensors">lm_sensors</a></span>. Ensuite, jetez un oeil aux fichiers :
</p>
<pre># pacman -Ql thinkfan
</pre>
<p>Notez que le paquet <i>thinkfan</i> installe <code>/usr/lib/modprobe.d/thinkpad_acpi.conf</code>, qui contient
</p>
<pre>options thinkpad_acpi fan_control=1
</pre>
<p>Le contrôle du ventilateur est donc activé par défaut.
</p>
<p>Maintenant, chargez le module :
</p>
<pre># modprobe thinkpad_acpi
# cat /proc/acpi/ibm/fan
</pre>
<p>Vous devriez consulter que le niveau du ventilateur est "auto" par défaut, mais vous pouvez envoyer une commande level dans le même fichier pour contrôler la vitesse du ventilateur manuellement :
</p>
<pre># echo level 1 &gt; /proc/acpi/ibm/fan
</pre>
<table class="wikitable">
<caption>Niveaux du ventilateur
</caption>
<tbody>
<tr>
<th>Niveau</th>
<th>Effet
</th>
</tr>
<tr>
<td>0</td>
<td>off
</td>
</tr>
<tr>
<td>2</td>
<td>basse vitesse
</td>
</tr>
<tr>
<td>4</td>
<td>vitesse moyenne
</td>
</tr>
<tr>
<td>7</td>
<td>vitesse maximale
</td>
</tr>
<tr>
<td>auto</td>
<td>par défaut - automatique
</td>
</tr>
<tr>
<td>full-speed</td>
<td>vitesse maximale réelle
</td>
</tr>
</tbody>
</table>
<p>Le daemon <i>thinkfan</i> le fera automatiquement.
</p>
<p>"7" n'est pas la même chose que "full-speed". "7" est la vitesse maximale régulée. full-speed est la vitesse maximale non régulée.
</p>
<p>Enfin, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> <code>thinkfan.service</code>.
</p>
<p>Pour configurer les seuils de température, vous devrez copier le fichier de configuration exemple (<code>/usr/share/doc/thinkfan/examples/thinkfan.yaml</code>) dans <code>/etc/thinkfan.conf</code>, et le modifier à votre goût. Ce fichier spécifie les capteurs à lire, et l'interface à utiliser pour contrôler le ventilateur. Certains systèmes ont <code>/proc/acpi/ibm/fan</code> et <code>/proc/acpi/ibm/thermal</code> disponibles ; sur d'autres, vous devrez spécifier quelque chose comme :
</p>
<pre>hwmon /sys/devices/virtual/thermal/thermal_zone0/temp
</pre>
<p>pour utiliser les capteurs génériques <i>hwmon</i> au lieu des capteurs spécifiques au thinkpad.
</p>
<h3>
<span id="Ex.C3.A9cution"></span><span class="mw-headline" id="Exécution">Exécution</span>
</h3>
<p>Vous pouvez d'abord tester votre configuration en exécutant thinkfan manuellement (en tant que root) :
</p>
<pre># thinkfan -n
</pre>
<p>et consultez comment il réagit au niveau de charge des autres programmes que vous avez en cours d'exécution.
</p>
<p>Lorsque vous l'avez configuré correctement, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrez/activez</a> <code>thinkfan.service</code>.
</p>
<h2><span class="mw-headline" id="Portables_ASUS">Portables ASUS</span></h2>
<p>Ce sujet couvrira la configuration des pilotes sur les ordinateurs portables ASUS pour <a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a>.
</p>
<h3><span class="mw-headline" id="Modules_du_noyau">Modules du noyau</span></h3>
<p>Dans les fichiers de configuration, nous allons utiliser les chemins complets des fichiers <i>sysfs</i> (par exemple <code>/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1</code>). Ceci est dû au fait que <code>hwmon<b>1</b></code> pourrait se transformer en n'importe quel autre numéro après le redémarrage. <a href="#Fancontrol_(lm-sensors)">Fancontrol (lm-sensors)</a> est écrit en <a href="../en/Bash.html" title="Bash">Bash</a>, donc utiliser ces chemins dans le fichier de configuration est tout à fait acceptable. Vous pouvez trouver des exemples complets de fichiers de configuration <code>/etc/fancontrol</code> à la page <a href="../en/ASUS_N550JV.html#Fan_control" title="ASUS N550JV">ASUS N550JV#Fan control</a>.
</p>
<h4><span class="mw-headline" id="asus-nb-wmi">asus-nb-wmi</span></h4>
<p><code>asus-nb-wmi</code> est un module du noyau, qui est inclus dans le noyau Linux et est chargé automatiquement sur les ordinateurs portables ASUS. Il ne permet de contrôler qu'un seul ventilateur et s'il y a un deuxième ventilateur, vous n'aurez aucun contrôle sur celui-ci. Notez que la mise en liste noire de ce module empêchera le rétro-éclairage du clavier de fonctionner.
</p>
<p>Vous trouverez ci-dessous les commandes pour le contrôler. Vérifiez si vous avez un contrôle sur votre ventilateur :
</p>
<pre># echo 255 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1 # Vitesse complète du ventilateur (Valeur : 255)
# echo 0 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1 # Le ventilateur est arrêté (Valeur : 0)
# echo 2 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1_enable # Change le mode de ventilation en automatique
# echo 1 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1_enable # Change le mode de ventilation en manuel
# echo 0 &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/pwm1_enable # Change le mode du ventilateur à pleine vitesse
</pre>
<p>Si vous avez pu modifier la vitesse du ventilateur avec les commandes ci-dessus, continuez avec <a href="#G%C3%A9n%C3%A9rer_le_fichier_de_configuration_avec_pwmconfig">#Générer le fichier de configuration avec pwmconfig</a>.
</p>
<h4><span class="mw-headline" id="asus_fan">asus_fan</span></h4>
<p><code>asus_fan</code> est un module du noyau, qui permet de contrôler les deux ventilateurs sur certains anciens ordinateurs portables ASUS. Il ne fonctionne pas avec les modèles les plus récents.
</p>
<p>Installez le <a href="../fr/Kernel_module.html" title="Kernel module (Français)">module du noyau</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/asus-fan-dkms-git/">asus-fan-dkms-git</a></span><sup><small>AUR</small></sup> (qui utilise <a href="../fr/Dynamic_Kernel_Module_Support.html" title="Dynamic Kernel Module Support (Français)">DKMS</a>), fournissant <code>asus_fan</code> :
</p>
<pre># modprobe asus_fan
</pre>
<p>Vérifiez si vous avez un contrôle sur les deux ventilateurs :
</p>
<pre># echo 255 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm1 # Vitesse complète du ventilateur du CPU (Valeur : 255)
# echo 0 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm1 # Le ventilateur du CPU est arrêté (Valeur : 0)
# echo 255 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm2 # Vitesse du ventilateur du GFX complet (Valeur : 255)
# echo 0 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm2 # Le ventilateur du GFX est arrêté (Valeur : 0)
# echo 2 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm1_enable # Change le mode de ventilation du CPU en automatique
# echo 1 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm1_enable # Change le mode de ventilation du CPU en manuel
# echo 2 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm2_enable # Change le mode de ventilation du GFX en automatique
# echo 1 &gt; /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/pwm2_enable # Change le mode de ventilation du GFX en manuel
# cat /sys/devices/platform/asus_fan/hwmon/hwmon[[:print :]]*/temp1_input # Affiche la température du GFX (sera toujours 0 lorsque le GFX est désactivé/non utilisé)
</pre>
<p>Si tout fonctionne, vous pouvez charger ce module noyau <a href="../fr/Kernel_module.html#systemd" title="Kernel module (Français)">au démarrage (en)</a> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modules-load.d/asus_fan.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">asus_fan
</pre>
<p>Continuez avec <a href="#G%C3%A9n%C3%A9rer_le_fichier_de_configuration_avec_pwmconfig">#Générer le fichier de configuration avec pwmconfig</a>.
</p>
<h3>
<span id="G.C3.A9n.C3.A9rer_le_fichier_de_configuration_avec_pwmconfig"></span><span class="mw-headline" id="Générer_le_fichier_de_configuration_avec_pwmconfig">Générer le fichier de configuration avec pwmconfig</span>
</h3>
<p>Si vous obtenez une erreur <code>There are no working fan sensors, all readings are 0</code> lors de la génération du fichier de configuration avec <code>pwmconfig</code>, ouvrez la première console et exécutez :
</p>
<pre># watch -n 1 "echo 2 &gt; /sys/devices/platform/<i><b>kernel_module</b></i>/hwmon/hwmon[[:print :]]*/pwm<b>1</b>_enable"
</pre>
<p>Si vous utilisez le module noyau <code>asus_fan</code> et que vous avez un 2ème ventilateur, dans la deuxième console :
</p>
<pre># watch -n 1 "echo 2 &gt; /sys/devices/platform/<i><b>kernel_module</b></i>/hwmon/hwmon[[:print :]]*/pwm'<i>2</i>_enable"
</pre>
<p>Et enfin, dans la troisième console :
</p>
<pre># pwmconfig
</pre>
<p>Une fois que vous avez terminé et que le fichier de configuration est généré, vous devez arrêter les première et deuxième consoles. Continuez avec <a href="#Fancontrol_(lm-sensors)">#Fancontrol (lm-sensors)</a>. Une fois le fichier de configuration généré, vous devrez peut-être remplacer manuellement les valeurs PWM par les chemins complets de <i>sysfs</i> tels qu'ils sont utilisés dans ces étapes, car les valeurs des numéros <i>hwmon</i> peuvent changer après un redémarrage.
</p>
<h3>
<span id="M.C3.A9thode_alternative_utilisant_les_registres_EC"></span><span class="mw-headline" id="Méthode_alternative_utilisant_les_registres_EC">Méthode alternative utilisant les registres EC</span>
</h3>
<p>Si les méthodes ci-dessus ne fonctionnent pas pour vous, une méthode alternative consiste à écrire directement dans certains registres du contrôleur embarqué (EC). À l'aide de l'outil <a rel="nofollow" class="external text" href="https://github.com/hirschmann/nbfc/wiki/EC-probing-tool">EC-Probe tool</a>, vous pouvez régler le mode de ventilation sur l'un des trois modes de vitesse de ventilation, à condition que votre modèle offre cette fonctionnalité sous Windows.
</p>
<p>Dans le modèle ASUS FX504GD, le réglage de la vitesse du ventilateur sur l'un des trois modes utilise les valeurs de registre suivantes :
</p>
<pre># ec_probe write 0x5e 0x80 # mode silencieux
# ec_probe write 0x5e 0x40 # mode balance
# ec_probe write 0x5e 0xC0 # mode performance
</pre>
<p>Ici nous écrivons dans le registre <code>0x5e</code> qui est responsable du réglage du mode de vitesse du ventilateur.
</p>
<p>Si ces valeurs ne vous conviennent pas, exécutez l'outil <i>ec-probe</i> en mode moniteur sous Windows et essayez d'identifier quel registre de l'EC change de valeur lorsque vous passez d'un mode de vitesse de ventilateur à un autre.
</p>
<h3>
<span id="Configuration_de_la_politique_d.27acc.C3.A9l.C3.A9ration_thermique"></span><span class="mw-headline" id="Configuration_de_la_politique_d'accélération_thermique">Configuration de la politique d'accélération thermique</span>
</h3>
<p>Au lieu de contrôler manuellement la vitesse du ventilateur en utilisant <code>asus-nb-wmi</code>, il est également possible de définir la <a rel="nofollow" class="external text" href="https://patchwork.kernel.org/project/platform-driver-x86/patch/20191215142634.13888-1-leonmaxx@gmail.com/">thermal throttling policy</a> pour avoir une politique de contrôle du ventilateur plus ou moins agressive. Les valeurs possibles sont les suivantes : <code>0</code> (par défaut), <code>1</code> (suralimentation) et <code>2</code> (silencieux).
</p>
<pre># echo <i>number</i> &gt; /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print :]]*/throttle_thermal_policy
</pre>
<h3>
<span id="Modes_de_contr.C3.B4le_des_ventilateurs_sur_certains_ordinateurs_portables_de_la_s.C3.A9rie_TUF"></span><span class="mw-headline" id="Modes_de_contrôle_des_ventilateurs_sur_certains_ordinateurs_portables_de_la_série_TUF">Modes de contrôle des ventilateurs sur certains ordinateurs portables de la série TUF</span>
</h3>
<p>Sur certains ordinateurs portables ASUS de la série TUF, les modes de contrôle des performances et des ventilateurs peuvent être modifiés en utilisant <code>Fn+F5</code>. Le mode actuel peut être visualisé en exécutant la commande suivante :
</p>
<pre>$ cat /sys/devices/platform/asus-nb-wmi/fan_boost_mode
</pre>
<p>Vous pouvez voir la valeur changer lorsque vous appuyez sur <code>Fn+F5</code>. 0 correspond au "Mode normal", 1 au "Mode performance", 2 est très probablement le "Mode silencieux". <a rel="nofollow" class="external autonumber" href="https://lore.kernel.org/lkml/72b3e0aa-d53a-8a82-1505-f4f00aa2bb46@gmail.com/">[2]</a> Il est également possible d'écrire ces valeurs dans le fichier <code>fan_boost_mode</code> en tant que root et d'obtenir l'effet désiré.
</p>
<p>Ceci a été testé sur les modèles ASUS TUF FX504GE et ASUS TUF FX504GD et s'est avéré fonctionner.
</p>
<h2>
<span id="Contr.C3.B4le_du_ventilateur_AMDGPU_par_sysfs"></span><span class="mw-headline" id="Contrôle_du_ventilateur_AMDGPU_par_sysfs">Contrôle du ventilateur AMDGPU par sysfs</span>
</h2>
<p>Le pilote du noyau <a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a> offre un contrôle du ventilateur pour les cartes graphiques via <i>hwmon</i> dans <i>sysfs</i>.
</p>
<h3>
<span id="Configuration_du_contr.C3.B4le_manuel"></span><span class="mw-headline" id="Configuration_du_contrôle_manuel">Configuration du contrôle manuel</span>
</h3>
<p>Pour passer du contrôle automatique au contrôle manuel du ventilateur, exécutez
</p>
<pre># echo "1" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1_enable
</pre>
<p>Réglez la vitesse du ventilateur à, par exemple, 50 % (100 % correspondent à 255 cycles PWM, calculez donc le pourcentage de vitesse du ventilateur souhaité en multipliant sa valeur par 2,55) :
</p>
<pre># echo "128" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1
</pre>
<p>Pour revenir au contrôle automatique des ventilateurs, exécutez
</p>
<pre># echo "2" &gt; /sys/class/drm/card0/device/hwmon/hwmon0/pwm1_enable
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> La réinitialisation de la vitesse du ventilateur en mode automatique peut ne pas fonctionner à cause d'un bogue du pilote et un redémarrage du pilote peut être nécessaire comme solution de contournement.</div>
<h3><span class="mw-headline" id="amdgpu-fan">amdgpu-fan</span></h3>
<p>Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdgpu-fan/">amdgpu-fan</a></span><sup><small>AUR</small></sup> est un contrôleur de ventilateur automatisé pour les cartes vidéo compatibles AMDGPU écrit en Python. Il utilise une "matrice de vitesse" pour faire correspondre la fréquence des ventilateurs avec la température du GPU, par exemple :
</p>
<pre>matrice_de_vitesse :  # -[temp(*C), speed(0-100%)]
- [0, 0]
- [40, 30]
- [60, 50]
- [80, 100]
</pre>
<p>Lancez le service de contrôle du ventilateur en <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrant/activant</a> <code>amdgpu-fan.service</code>.
</p>
<h3><span class="mw-headline" id="amdfand-bin">amdfand-bin</span></h3>
<p>Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdfand-bin/">amdfand-bin</a></span><sup><small>AUR</small></sup> est une alternative native à <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdgpu-fan/">amdgpu-fan</a></span><sup><small>AUR</small></sup>. Lancez le service de contrôle des ventilateurs en <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarrant/activant</a> <code>amdfand.service</code>.
</p>
<p>Pour cet outil, il existe également des interfaces graphiques : <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-glow-bin/">amdguid-glow-bin</a></span><sup><small>AUR</small></sup> (Xorg) et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdguid-wayland-bin/">amdguid-wayland-bin</a></span><sup><small>AUR</small></sup> (Wayland). Avant de lancer le client, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> <code>amdgui-helper.service</code>.
</p>
<h3><span class="mw-headline" id="Script_fancurve">Script fancurve</span></h3>
<p>Non seulement le contrôle des ventilateurs est offert via <i>hwmon</i> dans <i>sysfs</i>, mais aussi la lecture de la température du GPU :
</p>
<pre>cat /sys/class/drm/card0/device/hwmon/hwmon0/temp1_input
</pre>
<p>Cela donne la température du GPU en °C + trois zéros, par exemple <code>33000</code> pour 33°C.
</p>
<p>Le script bash <a rel="nofollow" class="external text" href="https://github.com/grmat/amdgpu-fancontrol">amdgpu-fancontrol</a> de grmat offre un contrôle entièrement automatique du ventilateur en utilisant la fonctionnalité <i>sysfs hwmon</i> décrite. Il permet également d'ajuster confortablement les assignations de cycles de température/PWM de la courbe de ventilation et une hystérésis en offrant des champs de configuration abstraits en haut du script.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Pour fonctionner correctement, le script a besoin d'au moins trois affectations de cycles température/PWM définies.</div>
<p>Pour des raisons de sécurité, le script règle à nouveau le contrôle des ventilateurs sur auto lors de l'arrêt. Cela peut provoquer la rotation des ventilateurs, ce qui peut être contourné au prix de la sécurité en définissant <code>set_fanmode 1</code> dans la section <code>function reset_on_fail</code>.
</p>
<h4><span class="mw-headline" id="Configuration_du_script_fancurve">Configuration du script fancurve</span></h4>
<p>Pour démarrer le script, il est recommandé de le faire via le système init <a href="../fr/Systemd.html" title="Systemd (Français)">systemd</a>. De cette façon, la sortie verbeuse du script peut être lue via <a href="../fr/Systemd/Journal.html" title="Systemd (Français)/Journal (Français)">journalctl</a>/systemctl status. À cette fin, un fichier unitaire <i>.service</i> est déjà inclus dans le dépôt GitHub.
</p>
<p>Il peut également être nécessaire de redémarrer le script via un <a href="../en/Power_management/Suspend_and_hibernate.html#Sleep_hooks" title="Power management/Suspend and hibernate">root-resume.service</a> après une hibernation afin de le faire fonctionner à nouveau automatiquement et correctement :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/root-resume.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Local system resume actions
After=suspend.target

[Service]
Type=simple
ExecStart=/usr/bin/systemctl restart amdgpu-fancontrol.service

[Install]
WantedBy=suspend.target</pre>
<h2>
<span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span>
</h2>
<h3><span class="mw-headline" id="Augmenter_le_diviseur_du_ventilateur_pour_les_capteurs">Augmenter le diviseur du ventilateur pour les capteurs</span></h3>
<p>Si <i>sensors</i> n'affiche pas le régime du ventilateur du CPU, il peut être nécessaire de changer le diviseur du ventilateur.
</p>
<p>La première ligne de la sortie de <i>sensors</i> est le chipset utilisé par la carte mère pour la lecture des températures et des tensions.
</p>
<p>Créez un fichier dans <code>/etc/sensors.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sensors.d/fan-speed-control.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">}
chip '<i>coretemp-isa-</i>*"
set fan "<i>X</i>_div 4
</pre>
<p>Remplacer <code> <i>coretemp-isa-</i></code> par le nom du chipset et <code> <i>X</i></code> par le numéro du ventilateur du CPU à modifier.
</p>
<p>Sauvegardez le fichier, et exécutez-le en tant que root :
</p>
<pre># sensors -s
</pre>
<p>ce qui rechargera les fichiers de configuration.
</p>
<p>Exécutez <code>sensors</code> à nouveau, et vérifiez s'il y a une lecture du RPM. Si ce n'est pas le cas, augmentez le diviseur à 8, 16 ou 32. Tout dépendra de votre matériel.
</p>
<h3>
<span id="Les_chemins_des_p.C3.A9riph.C3.A9riques_ont_chang.C3.A9_dans_.2Fetc.2Ffancontrol"></span><span class="mw-headline" id="Les_chemins_des_périphériques_ont_changé_dans_/etc/fancontrol">Les chemins des périphériques ont changé dans /etc/fancontrol</span>
</h3>
<p>Les liens symboliques <i>hwmon</i> énumérés situés dans <code>/sys/class/hwmon/</code> peuvent varier dans l'ordre car les modules du noyau ne sont pas chargés dans un ordre cohérent par démarrage. De ce fait, fancontrol peut ne pas fonctionner correctement. L'erreur est "Configuration appears to be outdated, please run pwmconfig again". <a rel="nofollow" class="external text" href="https://github.com/lm-sensors/lm-sensors/issues/227">Bogue en amont</a>.
</p>
<h4><span class="mw-headline" id="Solution">Solution</span></h4>
<p>Dans <code>/etc/conf.d/lm_sensors</code>, il y a 2 tableaux qui listent tous les modules détectés lorsque vous exécutez <code>sensors-detect</code>. Ils sont chargés par fancontrol. Si le fichier n'existe pas, exécutez <code>sensors-detect</code> en tant que root, en acceptant les valeurs par défaut. Ouvrez (ou créez) <code>/etc/modules-load.d/modules.conf</code>. Récupérez tous les modules listés à partir des 2 variables dans <code>/etc/conf.d/lm_sensors/</code> et placez-les dans le fichier <code>/etc/modules-load.d/modules.conf</code>, un module par ligne. Les spécifier de cette manière devrait créer un ordre défini pour le chargement des modules, ce qui devrait permettre aux chemins de <i>hwmon</i> de rester où ils sont et de ne pas changer d'ordre à chaque démarrage. Si cela ne fonctionne pas, je vous recommande fortement de trouver un autre programme pour contrôler vos ventilateurs. Si vous n'en trouvez pas, vous pouvez essayer d'utiliser la solution alternative ci-dessous.
</p>
<h4><span class="mw-headline" id="Solution_alternative_:_chemins_absolus">Solution alternative : chemins absolus</span></h4>
<p>L'utilisation de chemins de fichiers absolus dans fancontrol ne fonctionne pas par défaut, car son script d'aide <code>pwmconfig</code> est programmé pour n'utiliser que les chemins <i>hwmon</i> pour obtenir les fichiers. Pour cela, il détecte si le chemin <i>hwmon</i> fourni dans son fichier de configuration <code>/etc/fancontrol</code> n'a pas changé, et utilise les variables <code>DEVNAME</code> et <code>DEVPATH</code> pour déterminer ce changement. Si vos chemins <i>hwmon</i> changent constamment, cela empêchera fancontrol de fonctionner quoi que vous fassiez. Cependant, il est possible de contourner ce problème. Ouvrez <code>/usr/bin/fancontrol</code>, et commentez cette partie du script :
</p>
<pre>if ! ValidateDevices "$DEVPATH" "$DEVNAME"
 alors
     echo "La configuration semble être périmée, veuillez exécuter pwmconfig à nouveau". &gt;&amp;2
     exit 1
 fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>En faisant cela, <i>fancontrol</i> peut écrire dans les fichiers que vous lui avez donnés dans le fichier de configuration, quel que soit le fichier. Cela peut corrompre les fichiers si vous fournissez le mauvais chemin. Assurez-vous que vous utilisez le chemin correct pour vos fichiers.</li>
<li>Une autre chose à noter est que si vous utilisez cette solution de contournement, l'utilisation de <i>pwmconfig</i> pour créer à nouveau votre script écrasera tous les chemins absolus que vous avez configurés. Par conséquent, il est préférable de changer manuellement les anciens chemins en nouveaux chemins si nécessaire au lieu d'utiliser <i>pwmconfig</i>.</li>
</ul>
</div>
<p>La mise en commentaire de cet élément devrait effectivement ignorer les contrôles de validation de <i>hwmon</i>. Vous pouvez également ignorer les variables <code>DEVNAME</code> et <code>DEVPATH</code> dans le fichier de configuration. Après cela, remplacez tous les chemins de <i>hwmon</i> dans les autres variables par son chemin absolu. Pour plus de facilité, réexécutez <code>pwmconfig</code> avec les privilèges de l'utilisateur root pour rafraîchir les périphériques <i>hwmon</i>. Les chemins de <i>hwmon</i> dans le fichier de configuration devraient maintenant pointer vers les chemins absolus corrects. Pour chaque chemin <i>hwmon</i>, exécutez la commande suivante (où <code><i>N</i></code> est l'énumération du chemin <i>hwmon</i>) :
</p>
<pre>$ readlink -f /sys/class/hwmon/hwmon<i>N</i>/device
</pre>
<p>Cela vous donnera le chemin absolu du périphérique.
</p>
<p>Par exemple, un fichier <code>/etc/fancontrol</code> liste <code>FCTEMPS</code> comme ceci :
</p>
<pre>FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
</pre>
<p>L'exécution de <code>readlink -f /sys/class/hwmon/hwmon3/device</code> peut, par exemple, produire <code>/sys/devices/platform/coretemp.0/</code>. <code>cd</code> dans ce répertoire. Si vous consultez un répertoire <code>/hwmon/hwmon<i>N</i>/</code>, vous devez le faire dans votre fichier de configuration <i>fancontrol</i> pour remplacer le chemin <code>hwmon<i>N</i></code>. A partir de l'exemple précédent :
</p>
<pre># AVANT
FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
# APRÈS
FCTEMPS=hwmon2/pwm1=/sys/devices/platform/coretemp.0/hwmon/[[:print :]]*/temp1_input
</pre>
<p>Essentiellement, vous devez remplacer le chemin <i>hwmon</i> par le chemin absolu, concaténé avec <code>/hwmon/[[:print :]]*/</code> afin que bash puisse attraper le nom <i>hwmon</i> énuméré au hasard.
</p>
<p>Si vous ne consultez pas le répertoire <code>/hwmon/hwmon<i>N</i>/</code>, vous n'avez pas à vous en soucier. Cela signifie que les fichiers de température se trouvent à la racine du répertoire de l'appareil. Remplacez simplement <code>hwmon<i>N</i>/</code> par le chemin absolu du fichier. Par exemple :
</p>
<pre>#AVANT
FCTEMPS=hwmon2/pwm1=hwmon3/temp1_input
#APRÈS
FCTEMPS=hwmon2/pwm1=/sys/devices/platform/coretemp.0/temp1_input
</pre>
<p>Après avoir remplacé tous les chemins, <i>fancontrol</i> devrait fonctionner correctement.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fr/Category:CPU.html" title="Category:CPU (Français)">CPU (Français)</a></li>
<li><a href="../fr/Category:Graphics.html" title="Category:Graphics (Français)">Graphics (Français)</a></li>
</ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fan_speed_control_(Fran%C3%A7ais)&amp;oldid=802373">https://wiki.archlinux.org/index.php?title=Fan_speed_control_(Français)&amp;oldid=802373</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 5 March 2024, at 22:31.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
