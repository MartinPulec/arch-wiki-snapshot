<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>NetworkManager (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NetworkManager_Français rootpage-NetworkManager_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Activer_NetworkManager" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Activer_NetworkManager">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Activer NetworkManager</div>
			</a>
			
			<ul id="toc-Activer_NetworkManager-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Interfaces_supplémentaires" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Interfaces_suppl%C3%A9mentaires">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>Interfaces supplémentaires</div>
			</a>
			
			<ul id="toc-Interfaces_supplémentaires-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Prise_en_charge_du_haut_débit_mobile" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prise_en_charge_du_haut_d%C3%A9bit_mobile">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Prise en charge du haut débit mobile</div>
			</a>
			
			<ul id="toc-Prise_en_charge_du_haut_débit_mobile-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Prise_en_charge_de_PPPoE_/_DSL" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prise_en_charge_de_PPPoE_/_DSL">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.4</span>Prise en charge de PPPoE / DSL</div>
			</a>
			
			<ul id="toc-Prise_en_charge_de_PPPoE_/_DSL-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Prise_en_charge_du_VPN" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Prise_en_charge_du_VPN">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.5</span>Prise en charge du VPN</div>
			</a>
			
			<ul id="toc-Prise_en_charge_du_VPN-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Utilisation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilisation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Utilisation</div>
		</a>
		
			<button aria-controls="toc-Utilisation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilisation subsection</span>
			</button>
		
		<ul id="toc-Utilisation-sublist" class="vector-toc-list">
			<li id="toc-Exemples_avec_nmcli" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Exemples_avec_nmcli">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Exemples avec nmcli</div>
			</a>
			
			<ul id="toc-Exemples_avec_nmcli-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modifier_une_connexion" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modifier_une_connexion">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Modifier une connexion</div>
			</a>
			
			<ul id="toc-Modifier_une_connexion-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Interfaces" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Interfaces">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Interfaces</div>
		</a>
		
			<button aria-controls="toc-Interfaces-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Interfaces subsection</span>
			</button>
		
		<ul id="toc-Interfaces-sublist" class="vector-toc-list">
			<li id="toc-GNOME" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GNOME">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>GNOME</div>
			</a>
			
			<ul id="toc-GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-KDE_Plasma" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#KDE_Plasma">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>KDE Plasma</div>
			</a>
			
			<ul id="toc-KDE_Plasma-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nm-applet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nm-applet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>nm-applet</div>
			</a>
			
			<ul id="toc-nm-applet-sublist" class="vector-toc-list">
				<li id="toc-Appindicateur" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Appindicateur">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Appindicateur</div>
			</a>
			
			<ul id="toc-Appindicateur-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-networkmanager-dmenu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#networkmanager-dmenu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>networkmanager-dmenu</div>
			</a>
			
			<ul id="toc-networkmanager-dmenu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-NetworkManager-wait-online" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#NetworkManager-wait-online">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>NetworkManager-wait-online</div>
			</a>
			
			<ul id="toc-NetworkManager-wait-online-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configurer_les_permissions_de_PolicyKit" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configurer_les_permissions_de_PolicyKit">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Configurer les permissions de PolicyKit</div>
			</a>
			
			<ul id="toc-Configurer_les_permissions_de_PolicyKit-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Paramètres_du_proxy" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Param%C3%A8tres_du_proxy">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Paramètres du proxy</div>
			</a>
			
			<ul id="toc-Paramètres_du_proxy-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Vérification_de_la_connectivité" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#V%C3%A9rification_de_la_connectivit%C3%A9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Vérification de la connectivité</div>
			</a>
			
			<ul id="toc-Vérification_de_la_connectivité-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Portails_captifs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Portails_captifs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Portails captifs</div>
			</a>
			
			<ul id="toc-Portails_captifs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Client_DHCP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Client_DHCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Client DHCP</div>
			</a>
			
			<ul id="toc-Client_DHCP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gestion_des_DNS" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gestion_des_DNS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Gestion des DNS</div>
			</a>
			
			<ul id="toc-Gestion_des_DNS-sublist" class="vector-toc-list">
				<li id="toc-Mise_en_cache_du_DNS_et_transfert_conditionnel" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Mise_en_cache_du_DNS_et_transfert_conditionnel">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1</span>Mise en cache du DNS et transfert conditionnel</div>
			</a>
			
			<ul id="toc-Mise_en_cache_du_DNS_et_transfert_conditionnel-sublist" class="vector-toc-list">
				<li id="toc-dnsmasq" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#dnsmasq">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.1</span>dnsmasq</div>
			</a>
			
			<ul id="toc-dnsmasq-sublist" class="vector-toc-list">
				<li id="toc-Configuration_personnalisée_de_dnsmasq" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Configuration_personnalis%C3%A9e_de_dnsmasq">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.1.1</span>Configuration personnalisée de dnsmasq</div>
			</a>
			
			<ul id="toc-Configuration_personnalisée_de_dnsmasq-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-IPv6" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#IPv6">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.1.2</span>IPv6</div>
			</a>
			
			<ul id="toc-IPv6-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-DNSSEC" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#DNSSEC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.1.3</span>DNSSEC</div>
			</a>
			
			<ul id="toc-DNSSEC-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-systemd-resolved" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#systemd-resolved">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.2</span>systemd-resolved</div>
			</a>
			
			<ul id="toc-systemd-resolved-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Résolveur_DNS_avec_un_client_openresolv" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#R%C3%A9solveur_DNS_avec_un_client_openresolv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.1.3</span>Résolveur DNS avec un client openresolv</div>
			</a>
			
			<ul id="toc-Résolveur_DNS_avec_un_client_openresolv-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Serveurs_DNS_personnalisés" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Serveurs_DNS_personnalis%C3%A9s">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2</span>Serveurs DNS personnalisés</div>
			</a>
			
			<ul id="toc-Serveurs_DNS_personnalisés-sublist" class="vector-toc-list">
				<li id="toc-Définition_de_serveurs_DNS_globaux_personnalisés" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#D%C3%A9finition_de_serveurs_DNS_globaux_personnalis%C3%A9s">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2.1</span>Définition de serveurs DNS globaux personnalisés</div>
			</a>
			
			<ul id="toc-Définition_de_serveurs_DNS_globaux_personnalisés-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_de_serveurs_DNS_personnalisés_dans_une_connexion" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Configuration_de_serveurs_DNS_personnalis%C3%A9s_dans_une_connexion">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2.2</span>Configuration de serveurs DNS personnalisés dans une connexion</div>
			</a>
			
			<ul id="toc-Configuration_de_serveurs_DNS_personnalisés_dans_une_connexion-sublist" class="vector-toc-list">
				<li id="toc-Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(GUI)" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Configuration_des_serveurs_DNS_personnalis%C3%A9s_dans_une_connexion_(GUI)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2.2.1</span>Configuration des serveurs DNS personnalisés dans une connexion (GUI)</div>
			</a>
			
			<ul id="toc-Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(GUI)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(nmcli_/_fichier_de_connexion)" class="vector-toc-list-item vector-toc-level-5">
			<a class="vector-toc-link" href="#Configuration_des_serveurs_DNS_personnalis%C3%A9s_dans_une_connexion_(nmcli_/_fichier_de_connexion)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.2.2.2</span>Configuration des serveurs DNS personnalisés dans une connexion (nmcli / fichier de connexion)</div>
			</a>
			
			<ul id="toc-Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(nmcli_/_fichier_de_connexion)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-/etc/resolv.conf" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#/etc/resolv.conf">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3</span>/etc/resolv.conf</div>
			</a>
			
			<ul id="toc-/etc/resolv.conf-sublist" class="vector-toc-list">
				<li id="toc-/etc/resolv.conf_indépendant" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#/etc/resolv.conf_ind%C3%A9pendant">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3.1</span>/etc/resolv.conf indépendant</div>
			</a>
			
			<ul id="toc-/etc/resolv.conf_indépendant-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisez_openresolv" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Utilisez_openresolv">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7.3.2</span>Utilisez openresolv</div>
			</a>
			
			<ul id="toc-Utilisez_openresolv-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Pare-feu" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pare-feu">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>Pare-feu</div>
			</a>
			
			<ul id="toc-Pare-feu-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Services_réseau_avec_le_répartiteur_NetworkManager" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Services_r%C3%A9seau_avec_le_r%C3%A9partiteur_NetworkManager">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Services réseau avec le répartiteur NetworkManager</div>
		</a>
		
			<button aria-controls="toc-Services_réseau_avec_le_répartiteur_NetworkManager-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Services réseau avec le répartiteur NetworkManager subsection</span>
			</button>
		
		<ul id="toc-Services_réseau_avec_le_répartiteur_NetworkManager-sublist" class="vector-toc-list">
			<li id="toc-Éviter_le_délai_d'attente_du_répartiteur" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%C3%89viter_le_d%C3%A9lai_d'attente_du_r%C3%A9partiteur">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Éviter le délai d'attente du répartiteur</div>
			</a>
			
			<ul id="toc-Éviter_le_délai_d'attente_du_répartiteur-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exemples_de_répartiteurs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Exemples_de_r%C3%A9partiteurs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>Exemples de répartiteurs</div>
			</a>
			
			<ul id="toc-Exemples_de_répartiteurs-sublist" class="vector-toc-list">
				<li id="toc-Monter_un_répertoire_distant_avec_sshfs" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Monter_un_r%C3%A9pertoire_distant_avec_sshfs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.1</span>Monter un répertoire distant avec sshfs</div>
			</a>
			
			<ul id="toc-Monter_un_répertoire_distant_avec_sshfs-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Montage_de_partages_SMB" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Montage_de_partages_SMB">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.2</span>Montage de partages SMB</div>
			</a>
			
			<ul id="toc-Montage_de_partages_SMB-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Montage_des_partages_NFS" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Montage_des_partages_NFS">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.3</span>Montage des partages NFS</div>
			</a>
			
			<ul id="toc-Montage_des_partages_NFS-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utiliser_le_distributeur_pour_basculer_automatiquement_le_sans_fil_en_fonction_du_câble_LAN_branché" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utiliser_le_distributeur_pour_basculer_automatiquement_le_sans_fil_en_fonction_du_c%C3%A2ble_LAN_branch%C3%A9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.4</span>Utiliser le distributeur pour basculer automatiquement le sans fil en fonction du câble LAN branché</div>
			</a>
			
			<ul id="toc-Utiliser_le_distributeur_pour_basculer_automatiquement_le_sans_fil_en_fonction_du_câble_LAN_branché-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utiliser_le_dispatcher_pour_se_connecter_à_un_VPN_après_l'établissement_d'une_connexion_réseau" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utiliser_le_dispatcher_pour_se_connecter_%C3%A0_un_VPN_apr%C3%A8s_l'%C3%A9tablissement_d'une_connexion_r%C3%A9seau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.5</span>Utiliser le dispatcher pour se connecter à un VPN après l'établissement d'une connexion réseau</div>
			</a>
			
			<ul id="toc-Utiliser_le_dispatcher_pour_se_connecter_à_un_VPN_après_l'établissement_d'une_connexion_réseau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utiliser_dispatcher_pour_désactiver_IPv6_sur_les_connexions_de_fournisseurs_VPN" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utiliser_dispatcher_pour_d%C3%A9sactiver_IPv6_sur_les_connexions_de_fournisseurs_VPN">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.6</span>Utiliser dispatcher pour désactiver IPv6 sur les connexions de fournisseurs VPN</div>
			</a>
			
			<ul id="toc-Utiliser_dispatcher_pour_désactiver_IPv6_sur_les_connexions_de_fournisseurs_VPN-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-OpenNTPD" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#OpenNTPD">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.7</span>OpenNTPD</div>
			</a>
			
			<ul id="toc-OpenNTPD-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configurer_dynamiquement_les_serveurs_NTP_reçus_via_DHCP_avec_systemd-timesyncd" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurer_dynamiquement_les_serveurs_NTP_re%C3%A7us_via_DHCP_avec_systemd-timesyncd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2.8</span>Configurer dynamiquement les serveurs NTP reçus via DHCP avec systemd-timesyncd</div>
			</a>
			
			<ul id="toc-Configurer_dynamiquement_les_serveurs_NTP_reçus_via_DHCP_avec_systemd-timesyncd-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Test" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Test">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Test</div>
		</a>
		
		<ul id="toc-Test-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Trucs_et_astuces" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Trucs_et_astuces">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Trucs et astuces</div>
		</a>
		
			<button aria-controls="toc-Trucs_et_astuces-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Trucs et astuces subsection</span>
			</button>
		
		<ul id="toc-Trucs_et_astuces-sublist" class="vector-toc-list">
			<li id="toc-Mots_de_passe_Wi-Fi_chiffrés" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Mots_de_passe_Wi-Fi_chiffr%C3%A9s">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1</span>Mots de passe Wi-Fi chiffrés</div>
			</a>
			
			<ul id="toc-Mots_de_passe_Wi-Fi_chiffrés-sublist" class="vector-toc-list">
				<li id="toc-Utilisation_du_porte-clés_GNOME" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_du_porte-cl%C3%A9s_GNOME">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.1</span>Utilisation du porte-clés GNOME</div>
			</a>
			
			<ul id="toc-Utilisation_du_porte-clés_GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_du_portefeuille_KDE" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_du_portefeuille_KDE">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.1.2</span>Utilisation du portefeuille KDE</div>
			</a>
			
			<ul id="toc-Utilisation_du_portefeuille_KDE-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Partage_de_la_connexion_Internet_par_Wi-Fi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Partage_de_la_connexion_Internet_par_Wi-Fi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.2</span>Partage de la connexion Internet par Wi-Fi</div>
			</a>
			
			<ul id="toc-Partage_de_la_connexion_Internet_par_Wi-Fi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Partage_d'une_connexion_Internet_via_Ethernet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Partage_d'une_connexion_Internet_via_Ethernet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.3</span>Partage d'une connexion Internet via Ethernet</div>
			</a>
			
			<ul id="toc-Partage_d'une_connexion_Internet_via_Ethernet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Se_connecter_au_réseau_avec_un_secret_au_démarrage" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Se_connecter_au_r%C3%A9seau_avec_un_secret_au_d%C3%A9marrage">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.4</span>Se connecter au réseau avec un secret au démarrage</div>
			</a>
			
			<ul id="toc-Se_connecter_au_réseau_avec_un_secret_au_démarrage-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-OpenConnect_avec_mot_de_passe_dans_KWallet" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#OpenConnect_avec_mot_de_passe_dans_KWallet">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.5</span>OpenConnect avec mot de passe dans KWallet</div>
			</a>
			
			<ul id="toc-OpenConnect_avec_mot_de_passe_dans_KWallet-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Ignorer_des_périphériques_spécifiques" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ignorer_des_p%C3%A9riph%C3%A9riques_sp%C3%A9cifiques">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.6</span>Ignorer des périphériques spécifiques</div>
			</a>
			
			<ul id="toc-Ignorer_des_périphériques_spécifiques-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_de_la_randomisation_des_adresses_MAC" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_de_la_randomisation_des_adresses_MAC">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.7</span>Configuration de la randomisation des adresses MAC</div>
			</a>
			
			<ul id="toc-Configuration_de_la_randomisation_des_adresses_MAC-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Activer_les_extensions_de_confidentialité_IPv6" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Activer_les_extensions_de_confidentialit%C3%A9_IPv6">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.8</span>Activer les extensions de confidentialité IPv6</div>
			</a>
			
			<ul id="toc-Activer_les_extensions_de_confidentialité_IPv6-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configurer_un_DUID_unique_par_connexion" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configurer_un_DUID_unique_par_connexion">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.9</span>Configurer un DUID unique par connexion</div>
			</a>
			
			<ul id="toc-Configurer_un_DUID_unique_par_connexion-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Travailler_avec_des_connexions_câblées" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Travailler_avec_des_connexions_c%C3%A2bl%C3%A9es">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.10</span>Travailler avec des connexions câblées</div>
			</a>
			
			<ul id="toc-Travailler_avec_des_connexions_câblées-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utiliser_iwd_comme_backend_Wi-Fi" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utiliser_iwd_comme_backend_Wi-Fi">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.11</span>Utiliser iwd comme backend Wi-Fi</div>
			</a>
			
			<ul id="toc-Utiliser_iwd_comme_backend_Wi-Fi-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exécution_dans_un_espace_de_nom_de_réseau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ex%C3%A9cution_dans_un_espace_de_nom_de_r%C3%A9seau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.12</span>Exécution dans un espace de nom de réseau</div>
			</a>
			
			<ul id="toc-Exécution_dans_un_espace_de_nom_de_réseau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connexion_automatique_au_VPN" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Connexion_automatique_au_VPN">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">7.13</span>Connexion automatique au VPN</div>
			</a>
			
			<ul id="toc-Connexion_automatique_au_VPN-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dépannage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#D%C3%A9pannage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Dépannage</div>
		</a>
		
			<button aria-controls="toc-Dépannage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dépannage subsection</span>
			</button>
		
		<ul id="toc-Dépannage-sublist" class="vector-toc-list">
			<li id="toc-Pas_d'invite_pour_le_mot_de_passe_des_réseaux_Wi-Fi_sécurisés" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pas_d'invite_pour_le_mot_de_passe_des_r%C3%A9seaux_Wi-Fi_s%C3%A9curis%C3%A9s">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.1</span>Pas d'invite pour le mot de passe des réseaux Wi-Fi sécurisés</div>
			</a>
			
			<ul id="toc-Pas_d'invite_pour_le_mot_de_passe_des_réseaux_Wi-Fi_sécurisés-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Gestion_du_réseau_désactivée" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Gestion_du_r%C3%A9seau_d%C3%A9sactiv%C3%A9e">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.2</span>Gestion du réseau désactivée</div>
			</a>
			
			<ul id="toc-Gestion_du_réseau_désactivée-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_avec_le_client_DHCP_interne" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_avec_le_client_DHCP_interne">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.3</span>Problèmes avec le client DHCP interne</div>
			</a>
			
			<ul id="toc-Problèmes_avec_le_client_DHCP_interne-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_DHCP_avec_dhclient" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_DHCP_avec_dhclient">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.4</span>Problèmes DHCP avec dhclient</div>
			</a>
			
			<ul id="toc-Problèmes_DHCP_avec_dhclient-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Modem_3G_non_détecté" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Modem_3G_non_d%C3%A9tect%C3%A9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.5</span>Modem 3G non détecté</div>
			</a>
			
			<ul id="toc-Modem_3G_non_détecté-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Désactiver_le_WLAN_sur_les_ordinateurs_portables" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9sactiver_le_WLAN_sur_les_ordinateurs_portables">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.6</span>Désactiver le WLAN sur les ordinateurs portables</div>
			</a>
			
			<ul id="toc-Désactiver_le_WLAN_sur_les_ordinateurs_portables-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Les_paramètres_d'adresse_IP_statique_se_transforment_en_DHCP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Les_param%C3%A8tres_d'adresse_IP_statique_se_transforment_en_DHCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.7</span>Les paramètres d'adresse IP statique se transforment en DHCP</div>
			</a>
			
			<ul id="toc-Les_paramètres_d'adresse_IP_statique_se_transforment_en_DHCP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Impossible_de_modifier_les_connexions_en_tant_qu'utilisateur_normal" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Impossible_de_modifier_les_connexions_en_tant_qu'utilisateur_normal">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.8</span>Impossible de modifier les connexions en tant qu'utilisateur normal</div>
			</a>
			
			<ul id="toc-Impossible_de_modifier_les_connexions_en_tant_qu'utilisateur_normal-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Oublier_le_réseau_sans_fil_caché" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Oublier_le_r%C3%A9seau_sans_fil_cach%C3%A9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.9</span>Oublier le réseau sans fil caché</div>
			</a>
			
			<ul id="toc-Oublier_le_réseau_sans_fil_caché-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Le_VPN_ne_fonctionne_pas_dans_GNOME" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Le_VPN_ne_fonctionne_pas_dans_GNOME">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.10</span>Le VPN ne fonctionne pas dans GNOME</div>
			</a>
			
			<ul id="toc-Le_VPN_ne_fonctionne_pas_dans_GNOME-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Impossible_de_se_connecter_aux_réseaux_sans_fil_européens_visibles" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Impossible_de_se_connecter_aux_r%C3%A9seaux_sans_fil_europ%C3%A9ens_visibles">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.11</span>Impossible de se connecter aux réseaux sans fil européens visibles</div>
			</a>
			
			<ul id="toc-Impossible_de_se_connecter_aux_réseaux_sans_fil_européens_visibles-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-La_connexion_automatique_au_VPN_au_démarrage_ne_fonctionne_pas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#La_connexion_automatique_au_VPN_au_d%C3%A9marrage_ne_fonctionne_pas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.12</span>La connexion automatique au VPN au démarrage ne fonctionne pas</div>
			</a>
			
			<ul id="toc-La_connexion_automatique_au_VPN_au_démarrage_ne_fonctionne_pas-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Goulot_d'étranglement_Systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Goulot_d'%C3%A9tranglement_Systemd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.13</span>Goulot d'étranglement Systemd</div>
			</a>
			
			<ul id="toc-Goulot_d'étranglement_Systemd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Déconnexions_régulières_du_réseau,_latence_et_paquets_perdus_(WiFi)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9connexions_r%C3%A9guli%C3%A8res_du_r%C3%A9seau,_latence_et_paquets_perdus_(WiFi)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.14</span>Déconnexions régulières du réseau, latence et paquets perdus (WiFi)</div>
			</a>
			
			<ul id="toc-Déconnexions_régulières_du_réseau,_latence_et_paquets_perdus_(WiFi)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Impossible_d'allumer_le_Wi-Fi_avec_un_ordinateur_portable_Lenovo_(IdeaPad,_Legion,_etc.)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Impossible_d'allumer_le_Wi-Fi_avec_un_ordinateur_portable_Lenovo_(IdeaPad,_Legion,_etc.)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.15</span>Impossible d'allumer le Wi-Fi avec un ordinateur portable Lenovo (IdeaPad, Legion, etc.)</div>
			</a>
			
			<ul id="toc-Impossible_d'allumer_le_Wi-Fi_avec_un_ordinateur_portable_Lenovo_(IdeaPad,_Legion,_etc.)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Désactiver_l'envoi_du_nom_d'hôte" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9sactiver_l'envoi_du_nom_d'h%C3%B4te">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.16</span>Désactiver l'envoi du nom d'hôte</div>
			</a>
			
			<ul id="toc-Désactiver_l'envoi_du_nom_d'hôte-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-nm-applet_disparaît_dans_i3wm" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#nm-applet_dispara%C3%AEt_dans_i3wm">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.17</span>nm-applet disparaît dans i3wm</div>
			</a>
			
			<ul id="toc-nm-applet_disparaît_dans_i3wm-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Les_icônes_de_la_barre_d'état_système_de_nm-applet_s'affichent_mal" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Les_ic%C3%B4nes_de_la_barre_d'%C3%A9tat_syst%C3%A8me_de_nm-applet_s'affichent_mal">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.18</span>Les icônes de la barre d'état système de nm-applet s'affichent mal</div>
			</a>
			
			<ul id="toc-Les_icônes_de_la_barre_d'état_système_de_nm-applet_s'affichent_mal-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unité_dbus-org.freedesktop.resolve1.service_non_trouvée" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unit%C3%A9_dbus-org.freedesktop.resolve1.service_non_trouv%C3%A9e">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.19</span>Unité dbus-org.freedesktop.resolve1.service non trouvée</div>
			</a>
			
			<ul id="toc-Unité_dbus-org.freedesktop.resolve1.service_non_trouvée-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Les_secrets_étaient_requis,_mais_non_fournis" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Les_secrets_%C3%A9taient_requis,_mais_non_fournis">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.20</span>Les secrets étaient requis, mais non fournis</div>
			</a>
			
			<ul id="toc-Les_secrets_étaient_requis,_mais_non_fournis-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Connexion_WPA_Enterprise_avec_iwd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Connexion_WPA_Enterprise_avec_iwd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.21</span>Connexion WPA Enterprise avec iwd</div>
			</a>
			
			<ul id="toc-Connexion_WPA_Enterprise_avec_iwd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Échec_de_la_demande_de_secrets_VPN" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#%C3%89chec_de_la_demande_de_secrets_VPN">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">8.22</span>Échec de la demande de secrets VPN</div>
			</a>
			
			<ul id="toc-Échec_de_la_demande_de_secrets_VPN-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Voir aussi</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NetworkManager (Français)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Networkmanager" title="Networkmanager – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/NetworkManager.html" title="NetworkManager – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/NetworkManager" title="NetworkManager – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/NetworkManager.html" title="NetworkManager – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/NetworkManager" title="NetworkManager – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>. Date de la dernière traduction: 2022-10-04. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=NetworkManager&amp;diff=0&amp;oldid=746512">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Network_configuration.html" class="mw-redirect" title="Network configuration (Français)">Network configuration (Français)</a></li>
<li><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Network configuration (Français)/Wireless (Français)">Network configuration (Français)/Wireless (Français)</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://networkmanager.dev/">NetworkManager</a> est un programme permettant de détecter et de configurer les systèmes pour qu'ils se connectent automatiquement aux réseaux. La fonction de NetworkManager peut être utile pour les réseaux sans fil et câblés. Pour les réseaux sans fil, NetworkManager préfère les réseaux sans fil connus et a la capacité de passer au réseau le plus fiable.  Les applications adaptées à NetworkManager peuvent passer du mode en ligne au mode hors ligne.  NetworkManager préfère également les connexions câblées aux connexions sans fil, prend en charge les connexions par modem et certains types de VPN. NetworkManager a été développé à l'origine par Red Hat et est maintenant hébergé par le projet <a href="../en/GNOME.html" class="mw-redirect" title="GNOME (Français)">GNOME</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Par défaut, les secrets (par exemple, les mots de passe WiFi) sont accessibles à l'utilisateur root dans le système de fichiers et aux utilisateurs ayant accès aux paramètres via l'interface graphique (par exemple, <i>nm-applet</i>). consultez <a href="#Mots_de_passe_Wi-Fi_chiffr%C3%A9s">#Mots de passe Wi-Fi chiffrés</a>.</div>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>NetworkManager peut être <a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installé">installé</a> avec le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span>, qui contient un daemon, une interface en ligne de commande (<code>nmcli</code>) et une interface basée sur curses (<code>nmtui</code>).
</p>
<h3><span class="mw-headline" id="Activer_NetworkManager">Activer NetworkManager</span></h3>
<p>Après l'installation, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> <code>NetworkManager.service</code>. Une fois le daemon NetworkManager démarré, il se connectera automatiquement à toutes les "connexions système" disponibles qui ont déjà été configurées. Toute "connexion utilisateur" ou connexion non configurée devra être configurée et connectée par <i>nmcli</i> ou une applet.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Vous devez vous assurer qu'aucun autre service souhaitant configurer le réseau n'est en cours d'exécution ; en effet, plusieurs services réseau entreront en conflit. Vous pouvez trouver une liste des services en cours d'exécution avec <code>systemctl --type=service</code> et ensuite <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">arrêtez</a>-les. Consultez <a href="#Configuration">#Configuration</a> pour activer le service NetworkManager.</li>
<li>Si <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a> n'est pas <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">démarré</a>, un message d'erreur commencera à inonder vos journaux. Consultez <a href="#Unit%C3%A9_dbus-org.freedesktop.resolve1.service_non_trouv%C3%A9e">#Unité dbus-org.freedesktop.resolve1.service non trouvée</a> pour plus d'informations.</li>
</ul>
</div>
<h3>
<span id="Interfaces_suppl.C3.A9mentaires"></span><span class="mw-headline" id="Interfaces_supplémentaires">Interfaces supplémentaires</span>
</h3>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nm-connection-editor">nm-connection-editor</a></span> pour une interface utilisateur graphique,</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span> pour une applet de la barre d'état système (<code>nm-applet</code>).</li>
</ul>
<h3>
<span id="Prise_en_charge_du_haut_d.C3.A9bit_mobile"></span><span class="mw-headline" id="Prise_en_charge_du_haut_débit_mobile">Prise en charge du haut débit mobile</span>
</h3>
<p>NetworkManager utilise <a href="../en/Mobile_broadband_modem.html#ModemManager" class="mw-redirect" title="ModemManager">ModemManager</a> pour prendre en charge les connexions mobiles à large bande.
</p>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=modemmanager">modemmanager</a></span> et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=usb_modeswitch">usb_modeswitch</a></span>. Ensuite, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> <code>ModemManager.service</code>.
</p>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">Redémarrez</a> si besoin <code>NetworkManager.service</code> pour qu'il détecte ModemManager. Après l'avoir redémarré, rebranchez le modem et il devrait être reconnu. 
</p>
<p>Ajoutez des connexions à partir d'une interface (par exemple, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nm-connection-editor">nm-connection-editor</a></span>) et sélectionnez le haut débit mobile comme type de connexion. Après avoir sélectionné votre FAI et votre plan de facturation, les <a href="https://en.wikipedia.org/wiki/fr:Access_Point_Name" class="extiw" title="wikipedia:fr:Access Point Name">APN</a> et d'autres paramètres devraient être remplis automatiquement en utilisant les informations de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mobile-broadband-provider-info">mobile-broadband-provider-info</a></span>.
</p>
<h3>
<span id="Prise_en_charge_de_PPPoE_.2F_DSL"></span><span class="mw-headline" id="Prise_en_charge_de_PPPoE_/_DSL">Prise en charge de PPPoE / DSL</span>
</h3>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rp-pppoe">rp-pppoe</a></span> pour prendre en charge les connexions PPPoE / DSL. Pour ajouter réellement une connexion PPPoE, utilisez <code>nm-connection-editor</code> et ajoutez une nouvelle connexion DSL/PPPoE.
</p>
<h3><span class="mw-headline" id="Prise_en_charge_du_VPN">Prise en charge du VPN</span></h3>
<p>NetworkManager depuis la version 1.16 a un support natif pour <a href="../en/WireGuard.html" title="WireGuard">WireGuard</a>, tout ce dont il a besoin est le module noyau <code>wireguard</code>. Lisez le <a rel="nofollow" class="external text" href="https://blogs.gnome.org/thaller/2019/03/15/wireguard-in-networkmanager/">post du blog WireGuard dans NetworkManager</a> pour plus de détails.
</p>
<p>La prise en charge des autres types de VPN est basée sur un système de plug-in. Ils sont fournis dans les paquets suivants :
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-openconnect">networkmanager-openconnect</a></span> pour <a href="../en/OpenConnect.html" title="OpenConnect">OpenConnect</a>
</li>
<li>
<a href="../en/OpenVPN.html#NetworkManager-native_VPN_configuration" class="mw-redirect" title="Networkmanager-openvpn">networkmanager-openvpn</a> pour <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-pptp">networkmanager-pptp</a></span> pour <a href="../en/PPTP_Client.html" title="PPTP Client">PPTP Client</a>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-strongswan">networkmanager-strongswan</a></span> pour <a href="../en/StrongSwan.html" title="StrongSwan">strongSwan</a>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-vpnc">networkmanager-vpnc</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-fortisslvpn-git/">networkmanager-fortisslvpn-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-iodine-git/">networkmanager-iodine-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-libreswan/">networkmanager-libreswan</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-l2tp">networkmanager-l2tp</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-ssh-git/">networkmanager-ssh-git</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-sstp">network-manager-sstp</a></span></li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Il y a beaucoup de <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues?search=VPN&amp;state=opened">bugs</a> liés à la prise en charge du VPN. Vérifiez que les options des processus daemon définies via l'interface graphique sont correctes et vérifiez-les à chaque version de paquet.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pour que la résolution DNS fonctionne parfaitement lors de l'utilisation du VPN, vous devez configurer <a href="#Mise_en_cache_du_DNS_et_transfert_conditionnel">le transfert conditionnel</a>.</div>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>NetworkManager est fourni avec <span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span> et <span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span>.
</p>
<h3><span class="mw-headline" id="Exemples_avec_nmcli">Exemples avec nmcli</span></h3>
<p>Liste des réseaux Wi-Fi à proximité :
</p>
<pre>$ nmcli device wifi list
</pre>
<p>Se connecter à un réseau Wi-Fi :
</p>
<pre>$ nmcli device wifi connect <i>SSID_ou_BSSID</i> password <i>password</i>
</pre>
<p>Se connecter à un réseau Wi-Fi caché :
</p>
<pre>$ nmcli device wifi connect <i>SSID_ou_BSSID</i> password <i>password</i> hidden yes
</pre>
<p>Se connecter à un réseau Wi-Fi sur l'interface <code>wlan1</code> :
</p>
<pre>$ nmcli device wifi connect <i>SSID_ou_BSSID</i> password <i>password</i> ifname wlan1 <i>profile_name</i>
</pre>
<p>Déconnecter une interface :
</p>
<pre>$ nmcli device disconnect ifname eth0
</pre>
<p>Obtenir une liste des connexions avec leurs noms, UUIDs, types et périphériques :
</p>
<pre>$ nmcli connection show
</pre>
<p>Activer une connexion (c'est-à-dire se connecter à un réseau avec un profil existant) :
</p>
<pre>$ nmcli connection up <i>name_or_uuid</i>
</pre>
<p>Supprimer une connexion :
</p>
<pre>$ nmcli connection delete <i>name_or_uuid</i>
</pre>
<p>Consulter la liste des périphériques réseau et leur état :
</p>
<pre>$ nmcli device
</pre>
<p>Désactiver le Wi-Fi :
</p>
<pre>$ nmcli radio wifi off
</pre>
<h3><span class="mw-headline" id="Modifier_une_connexion">Modifier une connexion</span></h3>
<p>Pour une liste complète des paramètres, consultez <span class="plainlinks archwiki-template-man" title="$ man 5 nm-settings"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nm-settings.5">nm-settings(5)</a></span>.
</p>
<p>Tout d'abord, vous devez obtenir la liste des connexions :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nmcli connection</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NAME UUID TYPE DEVICE
Connexion filaire 2 e7054040-a421-3bef-965d-bb7d60b7cecf ethernet enp5s0
Wired connection 1 997f2782-f0fc-301d-bfba-15421a2735d8 ethernet enp0s25
MY-HOME-WIFI-5G 92a0f7b3-2eba-49ab-a899-24d83978f308 wifi --
</pre>
<p>Vous pouvez ici utiliser la première colonne comme connection-id utilisé plus tard. Dans cet exemple, nous choisissons <code>Wired connection 2</code> comme identifiant de connexion.
</p>
<p>Vous avez trois méthodes pour configurer une connexion <code>Wired connection 2</code> après qu'elle ait été créée :
</p>
<dl>
<dt>L'éditeur interactif nmcli</dt>
<dd>
<code>nmcli connection edit 'Wired connection 2'</code>.<br> Usage is well documented from the editor.</dd>
</dl>
<dl>
<dt>L'interface en ligne de commande nmcli</dt>
<dd>
<code>nmcli connection modify 'Wired connection 2' <i>setting</i>.<i>property</i> <i>value</i></code>. Consultez <span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span> pour son utilisation. Par exemple, vous pouvez changer sa métrique de route IPv4 à 200 en utilisant la commande <code>nmcli connection modify 'Wired connection 2' ipv4.route-metric 200</code>.</dd>
</dl>
<p>Pour supprimer un paramètre, passez-lui un champ vide ("") comme ceci :
</p>
<dl><dd><code>nmcli connection modify 'Wired connection 2' <i>setting</i>.<i>property</i> ""</code></dd></dl>
<dl>
<dt>Fichier de connexion</dt>
<dd>Dans le répertoire <code>/etc/NetworkManager/system-connections/</code>, modifiez le fichier <code>Wired connection 2.nmconnection</code> correspondant .<br>N'oubliez pas de recharger le fichier de configuration avec <code>nmcli connection reload</code>.</dd>
</dl>
<h2><span class="mw-headline" id="Interfaces">Interfaces</span></h2>
<p>Pour configurer et avoir un accès facile à NetworkManager, la plupart des utilisateurs voudront installer une applet. Cette interface graphique réside généralement dans la barre d'état système (ou la zone de notification) et permet la sélection du réseau et la configuration de NetworkManager. Divers environnements de bureau ont leur propre applet. Sinon, vous pouvez utiliser <a href="#nm-applet">#nm-applet</a>.
</p>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p><a href="../en/GNOME.html" class="mw-redirect" title="GNOME (Français)">GNOME</a> possède un outil intégré, accessible à partir des paramètres du réseau.
</p>
<h3><span class="mw-headline" id="KDE_Plasma">KDE Plasma</span></h3>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-nm">plasma-nm</a></span>. Ensuite, ajoutez-le à la barre des tâches de KDE via le menu <i>Options du panneau &gt; Ajouter des widgets &gt; Réseaux</i>.
</p>
<h3><span class="mw-headline" id="nm-applet">nm-applet</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span> est une interface GTK 3 qui fonctionne sous les environnements Xorg avec une barre d'état système («systray»).
</p>
<p>Pour stocker les secrets de connexion, installez et configurez <a href="../en/GNOME/Keyring.html" title="GNOME/Keyring">GNOME/Keyring</a>.
</p>
<p>Soyez conscient qu'après avoir coché la case <code>Mettre à la disposition des autres utilisateurs</code> pour une connexion, NetworkManager stocke le mot de passe en texte simple, bien que le fichier correspondant ne soit accessible qu'à root (ou aux autres utilisateurs via <code>nm-applet</code>). Consultez <a href="#Mots_de_passe_Wi-Fi_chiffr%C3%A9s">#Mots de passe Wi-Fi chiffrés</a>.
</p>
<p>Afin d'exécuter <code>nm-applet</code> sans systray, vous pouvez utiliser <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=trayer">trayer</a></span> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=stalonetray">stalonetray</a></span>. Par exemple, vous pouvez ajouter un script comme celui-ci dans votre chemin :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">nmgui</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
nm-applet 2&gt;&amp;1 &gt; /dev/null &amp;
stalonetray 2&gt;&amp;1 &gt; /dev/null
killall nm-applet
</pre>
<p>Lorsque vous fermez la fenêtre <i>stalonetray</i>, elle ferme également <code>nm-applet</code>, de sorte qu'aucune mémoire supplémentaire n'est utilisée une fois que vous avez terminé les paramètres réseau.
</p>
<p>L'applet peut afficher des notifications pour des événements tels que la connexion ou la déconnexion d'un réseau WiFi. Pour que ces notifications s'affichent, assurez-vous qu'un serveur de notification est installé - consultez <a href="../en/Desktop_notifications.html" title="Desktop notifications">Desktop notifications</a>. Si vous utilisez l'applet sans serveur de notification, vous risquez de retrouver certains messages dans stdout/stderr, et l'applet risque de se bloquer. Consultez <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=788313">[1]</a>.
</p>
<p>Afin d'exécuter <code>nm-applet</code> avec ces notifications désactivées, démarrez l'applet avec la commande suivante :
</p>
<pre>$ nm-applet --no-agent
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> <code>nm-applet</code> peut être lancée automatiquement avec un <a href="../en/XDG_Autostart.html" title="XDG Autostart">autostart desktop file</a>, pour ajouter l'option --no-agent modifiez la ligne Exec à cet endroit, c'est-à-dire
<pre>Exec=nm-applet --no-agent</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Sur <a href="../en/I3.html" title="I3">i3</a>, si nm-applet est lancé avec l'option <code>--no-agent</code>, il n'est pas possible de se connecter à un nouveau réseau WiFi chiffré en cliquant sur la liste des éléments car aucune fenêtre de dialogue de saisie de mot de passe ne s'affiche. Le <a href="../fr/Systemd/Journal.html" title="Systemd (Français)/Journal (Français)">journal</a> affichera <code>no secrets: No agents were available for this request</code>.</div>
<h4><span class="mw-headline" id="Appindicateur">Appindicateur</span></h4>
<p>Depuis la version 1.18.0, la prise en charge d'Appindicator est <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/network-manager-applet/-/commit/527448fb2a87d85055f504f463dfe961dccd75c3">disponible</a> dans le paquet officiel <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span>. Pour utiliser nm-applet dans un environnement Appindicator, démarrez l'applet avec la commande suivante :
</p>
<pre>$ nm-applet --indicator
</pre>
<h3><span class="mw-headline" id="networkmanager-dmenu">networkmanager-dmenu</span></h3>
<p>Il existe également <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-dmenu-git/">networkmanager-dmenu-git</a></span><sup><small>AUR</small></sup> qui est un petit script permettant de gérer les connexions NetworkManager avec <a href="../en/Dmenu.html" title="Dmenu">dmenu</a> ou <a href="../en/Rofi.html" title="Rofi">rofi</a> au lieu de <code>nm-applet</code>. Il fournit toutes les fonctionnalités essentielles telles que la connexion à des connexions NetworkManager wifi ou filaires existantes, la connexion à de nouvelles connexions wifi, la demande de phrase de passe si nécessaire, la connexion à des connexions VPN existantes, l'activation/désactivation du réseau, le lancement de l'interface graphique <i>nm-connection-editor</i>, la connexion à des réseaux Bluetooth.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>NetworkManager nécessite quelques étapes supplémentaires pour pouvoir fonctionner correctement. Assurez-vous que vous avez configuré <code>/etc/hosts</code> comme décrit dans la section <a href="../en/Network_configuration.html#Set_the_hostname" title="Network configuration">Network configuration#Set the hostname</a>.
</p>
<p>NetworkManager a un fichier de configuration global : <code>/etc/NetworkManager/NetworkManager.conf</code>. Des fichiers de configuration supplémentaires peuvent être placés dans <code>/etc/NetworkManager/conf.d/</code>. En général, aucune configuration n'est nécessaire pour les valeurs par défaut globales.
</p>
<p>Après avoir modifié un fichier de configuration, les changements peuvent être appliqués en exécutant :
</p>
<pre># nmcli general reload
</pre>
<h3><span class="mw-headline" id="NetworkManager-wait-online">NetworkManager-wait-online</span></h3>
<p>L'activation de <code>NetworkManager.service</code> active également <code>NetworkManager-wait-online.service</code>, qui est un service système à action unique qui attend que le réseau soit configuré. Ce dernier a <code>WantedBy=network-online.target</code>, donc il ne se terminera que lorsque <code>network-online.target</code> lui-même sera activé ou déclenché par une autre unité. Consultez également <a href="../fr/Systemd.html#Ex%C3%A9cution_des_services_apr%C3%A8s_le_d%C3%A9marrage_du_r%C3%A9seau" title="Systemd (Français)">Systemd (Français)#Exécution des services après le démarrage du réseau</a>.
</p>
<p>Par défaut, <code>NetworkManager-wait-online.service</code> attend la fin du démarrage de NetworkManager, plutôt que d'attendre spécifiquement la connectivité réseau (consultez <span class="plainlinks archwiki-template-man" title="$ man 1 nm-online"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nm-online.1">nm-online(1)</a></span>). Si <code>NetworkManager-wait-online.service</code> se termine avant que le réseau ne soit réellement opérationnel, ce qui entraîne l'échec des services au démarrage, <a href="../fr/Systemd.html#Fichiers_de_substitution" title="Systemd (Français)">étendez l'unité</a> pour supprimer le <code>-s</code> de la ligne <code>ExecStart</code> :
</p>
<pre>[Service]
ExecStart=
ExecStart=/usr/bin/nm-online -q
</pre>
<p>Sachez que cela peut causer <a rel="nofollow" class="external text" href="https://lists.fedoraproject.org/archives/list/users@lists.fedoraproject.org/thread/EGC324JD3HJCGVN7J55WYPRLFDA3TP7N/">d'autres problèmes</a>.
</p>
<p>Dans certains cas, le service n'arrivera toujours pas à démarrer correctement au démarrage parce que le délai d'attente est trop court. <a href="../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" class="mw-redirect" title="Éditez">Éditez</a> le service pour modifier <code>NM_ONLINE_TIMEOUT</code> de <code>60</code> à une valeur plus élevée.
</p>
<h3><span class="mw-headline" id="Configurer_les_permissions_de_PolicyKit">Configurer les permissions de PolicyKit</span></h3>
<p>Par défaut, tous les utilisateurs des sessions locales actives sont autorisés à modifier la plupart des paramètres réseau sans mot de passe. Consultez <a href="../fr/General_troubleshooting.html#Permissions_de_session" title="General troubleshooting (Français)">General troubleshooting (Français)#Permissions de session</a> pour vérifier votre type de session. Dans la plupart des cas, tout devrait fonctionner sans problème.
</p>
<p>Certaines actions (comme la modification du nom d'hôte du système) nécessitent un mot de passe administrateur. Dans ce cas, vous devez vous <a href="../fr/Users_and_groups.html#Gestion_des_groupes" title="Users and groups (Français)">ajouter</a> au groupe <code>wheel</code> et exécuter un <a href="../fr/Polkit.html#Agents_d'authentification" title="Polkit (Français)">Agent d'authentification Polkit</a> qui vous demandera votre mot de passe.
</p>
<p>Pour les sessions à distance (par exemple, <a href="../en/TigerVNC.html#Running_vncserver_for_virtual_(headless)_sessions" title="TigerVNC">headless VNC</a>), vous avez plusieurs options pour obtenir les privilèges nécessaires à l'utilisation de NetworkManager :
</p>
<ol>
<li>
<a href="../fr/Users_and_groups.html#Gestion_des_groupes" title="Users and groups (Français)">Ajoutez</a> vous au groupe <code>wheel</code>. Vous devrez saisir votre mot de passe pour chaque action. Notez que d'autres autorisations peuvent être accordées à votre compte utilisateur, comme la possibilité d'utiliser <a href="../en/Sudo.html" title="Sudo">sudo</a> sans saisir le mot de passe root.</li>
<li>
<a href="../fr/Users_and_groups.html#Gestion_des_groupes" title="Users and groups (Français)">Ajoutez</a> vous au groupe <code>network</code> et créez <code>/etc/polkit-1/rules.d/50-org.freedesktop.NetworkManager.rules</code> avec le contenu suivant : <pre>polkit.addRule(function(action, subject) {
  si (action.id.indexOf("org.freedesktop.NetworkManager.") == 0 &amp;&amp; subject.isInGroup("network")) {
    return polkit.Result.YES ;
  }
}) ;
</pre> Tous les utilisateurs du groupe <code>network</code> pourront ajouter et supprimer des réseaux sans mot de passe (ce qui signifie que vous n'avez pas besoin d'exécuter un agent d'authentification Polkit, donc cette option fonctionnera également dans les sessions SSH).</li>
</ol>
<h3>
<span id="Param.C3.A8tres_du_proxy"></span><span class="mw-headline" id="Paramètres_du_proxy">Paramètres du proxy</span>
</h3>
<p>NetworkManager ne gère pas directement les paramètres de proxy, mais si vous utilisez <a href="../en/GNOME.html" class="mw-redirect" title="GNOME (Français)">GNOME</a> ou <a href="../en/KDE.html" class="mw-redirect" title="KDE (Français)">KDE</a>, vous pouvez utiliser <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/proxydriver/">proxydriver</a></span><sup><small>AUR</small></sup> qui gère les paramètres de proxy en utilisant les informations de NetworkManager. 
</p>
<p>Pour que <i>proxydriver</i> puisse modifier les paramètres du proxy, vous devez exécuter cette commande, dans le cadre du processus de démarrage de GNOME (consultez <a href="../en/GNOME.html#Autostart" title="GNOME">GNOME#Autostart</a>).
</p>
<pre>$ xhost +si:localuser:username
</pre>
<p>Consultez également l'article concernant les <a href="../en/Proxy_server.html" title="Proxy server">paramètres du proxy</a>.
</p>
<h3>
<span id="V.C3.A9rification_de_la_connectivit.C3.A9"></span><span class="mw-headline" id="Vérification_de_la_connectivité">Vérification de la connectivité</span>
</h3>
<p>NetworkManager peut essayer d'atteindre un serveur web après s'être connecté à un réseau afin de déterminer s'il est par exemple derrière un portail captif. L'hôte par défaut (configuré dans <code>/usr/lib/NetworkManager/conf.d/20-connectivity.conf</code>) est <a rel="nofollow" class="external text" href="https://ping.archlinux.org">ping.archlinux.org</a> (un alias CNAME de redirect.archlinux.org). Pour utiliser un autre serveur Web ou pour désactiver la vérification de la connectivité, créez <code>/etc/NetworkManager/conf.d/20-connectivity.conf</code>, consultez <span class="plainlinks archwiki-template-man" title="$ man 5 NetworkManager.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.conf.5#CONNECTIVITY_SECTION">NetworkManager.conf(5) § CONNECTIVITY SECTION</a></span>. Vous trouverez ci-dessous un exemple d'utilisation des serveurs GNOME (il ne nécessite pas l'utilisation de <a href="../en/GNOME.html" class="mw-redirect" title="GNOME (Français)">GNOME</a>) :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/20-connectivity.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[connectivity]
uri=http://nmcheck.gnome.org/check_network_status.txt
</pre>
<p>Pour désactiver la vérification de la connectivité de NetworkManager, utilisez la configuration suivante. Cela peut être utile lorsque vous êtes connecté à un VPN qui bloque les vérifications de connectivité.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/20-connectivity.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[connectivity] 
enabled=false
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Bien que les vérifications automatiques de connectivité constituent une fuite potentielle de confidentialité, l'URL de connectivité par défaut d'Arch Linux s'engage à n'enregistrer aucun accès. Vérifiez <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/infrastructure/-/commit/fabccd0f61e5dea3925e8a0c6a46d56d5750c121#a4f34381bbb18ea77bfb3dd11a8aeca707078fca_0_26">[2]</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/infrastructure/-/blob/master/roles/ping/templates/nginx.d.conf.j2">[3]</a>.</div>
<h3><span class="mw-headline" id="Portails_captifs">Portails captifs</span></h3>
<p>Pour ceux qui se trouvent derrière un <a href="https://en.wikipedia.org/wiki/fr:Portail_captif" class="extiw" title="wikipedia:fr:Portail captif">portail captif</a>, le gestionnaire de bureau peut ouvrir automatiquement une fenêtre demandant des informations d'identification. Si votre bureau ne le fait pas, vous pouvez utiliser le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=capnet-assist">capnet-assist</a></span> (cependant, il a actuellement un script de répartition NetworkManager cassé). Sinon, vous pouvez créer un script de répartition NetworkManager avec le contenu suivant :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/90-open_captive_portal</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh -e
# Script to dispatch NetworkManager events
#
# Runs shows a login webpage on walled garden networks.
# See NetworkManager(8) for further documentation of the dispatcher events.

PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

if [ -x "/usr/bin/logger" ]; then
    logger="/usr/bin/logger -s -t captive-portal"
else
    logger=":"
fi

wait_for_process() {
    PNAME=$1
    while [ -z "$(/usr/bin/pgrep $PNAME)" ]; do
        sleep 3;
    done
}

#launch the browser, but on boot we need to wait that nm-applet starts
start_browser() {
    local user="$1"
    local display="$2"

    export DISPLAY="$display"
    wait_for_process nm-applet

    export XAUTHORITY="/home/$user/.Xauthority"

    $logger "Running browser as '$user' with display '$display' to login in captive portal"
    sudo -u "$user" --preserve-env=DISPLAY,XAUTHORITY -H xdg-open http://capnet.elementary.io 2&gt;&amp;1 &gt; /dev/null
}

# Run the right scripts
case "$2" in
    connectivity-change)
    $logger -p user.debug "dispatcher script triggered on connectivity change: $CONNECTIVITY_STATE"
    if [ "$CONNECTIVITY_STATE" = "PORTAL" ]; then
        # Match last column of who's output with ' :[at least one digit] '
        who | awk '$NF ~ /\(:[0-9]+\)/ { print $1 " " substr($NF, 2, length($NF)-2) };' | \
        while read user display; do
            start_browser $user $display || $logger -p user.err "Failed for user: '$user' display: '$display'"
        done
    fi
    ;;
    *)
    # In a down phase
    exit 0
    ;;
esac
</pre>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">Redémarrez</a> <code>NetworkManager.service</code> ou redémarrez totalement pour que cela commence à fonctionner. Une fois que vous l'aurez fait, le script du répartiteur devrait ouvrir une fenêtre de connexion dès qu'il aura détecté que vous êtes derrière un portail captif.
</p>
<p>Une autre solution est <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/captive-browser-git/">captive-browser-git</a></span><sup><small>AUR</small></sup> basée sur Google Chrome.
</p>
<h3><span class="mw-headline" id="Client_DHCP">Client DHCP</span></h3>
<p>Par défaut, NetworkManager utilise son client DHCP interne. Le plugin DHCPv4 interne est basé sur la bibliothèque <a rel="nofollow" class="external text" href="https://nettools.github.io/n-dhcp4/">n-dhcp4 de nettools</a>, tandis que le plugin DHCPv6 interne est fait à partir du code basé sur systemd-networkd.
</p>
<p>Pour utiliser un client DHCP différent, <a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">installez</a> l'une des alternatives :
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span> - <a href="../en/Network_configuration.html#Network_managers" class="mw-redirect" title="Dhclient">dhclient</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span> - <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a>.</li>
</ul>
<p>Pour changer le client DHCP, définissez l'option <code>main.dhcp=<i>dhcp_client_name</i></code> avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code>. Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/dhcp-client.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
dhcp=dhclient</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>NetworkManager ne prend pas en charge l'utilisation de dhcpcd pour IPv6. Consultez <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues/5">le rapport n°5 de NetworkManager</a>. Si dhcpcd est défini comme client DHCP, NetworkManager utilisera le client DHCP interne pour DHCPv6.</li>
<li>N'activez pas les unités systemd livrées avec les paquets <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span> et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span>. Elles entreront en conflit avec NetworkManager, consultez la note dans <a href="#Installation">#Installation</a> pour plus de détails.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Gestion_des_DNS">Gestion des DNS</span></h3>
<p>La gestion DNS de NetworkManager est décrite dans la page wiki du projet GNOME-<a rel="nofollow" class="external text" href="https://wiki.gnome.org/Projects/NetworkManager/DNS">Projects/NetworkManager/DNS</a>.
</p>
<h4><span class="mw-headline" id="Mise_en_cache_du_DNS_et_transfert_conditionnel">Mise en cache du DNS et transfert conditionnel</span></h4>
<p>NetworkManager dispose d'un plugin pour activer la mise en cache du DNS et la redirection conditionnelle (<a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/merge_requests/143">previously</a> appelé "split DNS" dans la documentation de NetworkManager) en utilisant <a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a> ou <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>. L'avantage de cette configuration est que les recherches DNS sont mises en cache, ce qui réduit les temps de résolution, et que les recherches DNS des hôtes VPN sont acheminées vers les serveurs DNS du VPN concerné. Ceci est particulièrement utile si vous êtes connecté à plus d'un VPN.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si <code>/etc/resolv.conf</code> est un lien symbolique vers <code>/run/systemd/resolve/stub-resolv.conf</code>, <code>/run/systemd/resolve/resolv.conf</code>,<code>/lib/systemd/resolv.conf</code> ou <code>/usr/lib/systemd/resolv.conf</code>, NetworkManager choisira automatiquement systemd-resolved. Pour utiliser dnsmasq, vous devez d'abord supprimer ce lien symbolique, puis redémarrer NetworkManager.</div>
<h5><span class="mw-headline" id="dnsmasq">dnsmasq</span></h5>
<p>Assurez-vous que <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span> a été installé. Définissez ensuite <code>main.dns=dnsmasq</code> avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/dns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
dns=dnsmasq</pre>
<p>Exécutez maintenant <code>nmcli general reload</code> en tant que root. NetworkManager démarrera automatiquement dnsmasq et ajoutera <code>127.0.0.1</code> à <code>/etc/resolv.conf</code>. Les serveurs DNS originaux se trouvent dans <code>/run/NetworkManager/no-stub-resolv.conf</code>. Vous pouvez vérifier que dnsmasq est utilisé en effectuant deux fois la même recherche DNS avec <code>drill example.com</code> et en vérifiant les temps de serveur et de requête.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Vous n'avez pas besoin de démarrer <code>dnsmasq.service</code> ou de modifier <code>/etc/dnsmasq.conf</code>. NetworkManager démarrera dnsmasq sans utiliser le service systemd et sans lire le(s) fichier(s) de configuration par défaut de dnsmasq.</li>
<li>L'instance de dnsmasq démarrée par NetworkManager sera liée à <code>127.0.0.1:53</code>, vous ne pouvez pas exécuter un autre logiciel (y compris <code>dnsmasq.service</code>) sur la même adresse et le même port.</li>
</ul>
</div>
<h6>
<span id="Configuration_personnalis.C3.A9e_de_dnsmasq"></span><span class="mw-headline" id="Configuration_personnalisée_de_dnsmasq">Configuration personnalisée de dnsmasq</span>
</h6>
<p>Des configurations personnalisées peuvent être créées pour <i>dnsmasq</i> en créant des fichiers de configuration dans <code>/etc/NetworkManager/dnsmasq.d/</code>. Par exemple, pour modifier la taille du cache DNS (qui est stocké en RAM) :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dnsmasq.d/cache.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">cache-size=1000</pre>
<p>Vous pouvez vérifier la syntaxe du fichier de configuration avec :
</p>
<pre>$ dnsmasq --test --conf-file=/dev/null --conf-dir=/etc/NetworkManager/dnsmasq.d
</pre>
<p>Consultez <span class="plainlinks archwiki-template-man" title="$ man 8 dnsmasq"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/dnsmasq.8">dnsmasq(8)</a></span> pour connaître toutes les options disponibles.
</p>
<h6><span class="mw-headline" id="IPv6">IPv6</span></h6>
<p>L'activation de <code>dnsmasq</code> dans NetworkManager peut interrompre les recherches DNS en IPv6 uniquement (c'est-à-dire <code>drill -6 [hostname]</code>) qui fonctionneraient autrement. Afin de résoudre ce problème, la création du fichier suivant configurera <i>dnsmasq</i> pour qu'il écoute également le loopback IPv6 :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dnsmasq.d/ipv6-listen.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">listen-address=::1</pre>
<p>En outre, <code>dnsmasq</code> ne donne pas non plus la priorité aux DNS IPv6 en amont. Malheureusement, NetworkManager ne le fait pas (<a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/936712">Bug remonté chez Ubuntu</a>). Une solution de contournement serait de désactiver le DNS IPv4 dans la configuration de NetworkManager, en supposant qu'il en existe une.
</p>
<h6><span class="mw-headline" id="DNSSEC">DNSSEC</span></h6>
<p>L'instance dnsmasq lancée par NetworkManager par défaut ne validera pas <a href="../en/DNSSEC.html" title="DNSSEC">DNSSEC</a> puisqu'elle est lancée avec l'option <code>--proxy-dnssec</code>. Elle fera confiance aux informations DNSSEC qu'elle obtient du serveur DNS en amont.
</p>
<p>Pour que dnsmasq valide correctement les DNSSEC, ce qui casse la résolution DNS avec les serveurs de noms qui ne les prennent pas en charge, créez le fichier de configuration suivant :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dnsmasq.d/dnssec.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">conf-file=/usr/share/dnsmasq/trust-anchors.conf
dnssec</pre>
<h5><span class="mw-headline" id="systemd-resolved">systemd-resolved</span></h5>
<p>NetworkManager peut utiliser <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a> comme résolveur et cache DNS. Assurez-vous que <i>systemd-resolved</i> est correctement configuré et que <code>systemd-resolved.service</code> est <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarré</a> avant de l'utiliser.
</p>
<p>systemd-resolved sera utilisé automatiquement si <code>/etc/resolv.conf</code> est un <a href="../fr/Systemd-resolved.html#DNS" title="Systemd-resolved (Français)">symlink</a> vers <code>/run/systemd/resolve/stub-resolv.conf</code>, <code>/run/systemd/resolve/resolv.conf</code> ou <code>/usr/lib/systemd/resolv.conf</code>.
</p>
<p>Vous pouvez l'activer explicitement en définissant <code>main.dns=systemd-resolved</code> avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/dns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
dns=systemd-resolved</pre>
<h5>
<span id="R.C3.A9solveur_DNS_avec_un_client_openresolv"></span><span class="mw-headline" id="Résolveur_DNS_avec_un_client_openresolv">Résolveur DNS avec un client openresolv</span>
</h5>
<p>Si <a href="../en/Openresolv.html" title="Openresolv">openresolv</a> a un client pour votre <a href="../fr/Domain_name_resolution.html#Serveurs_DNS" title="Domain name resolution (Français)">résolveur DNS</a> local, configurez le client et <a href="#Utilisez_openresolv">configurez NetworkManager pour utiliser openresolv</a>.
</p>
<p>Parce que NetworkManager annonce une seule "interface" à <i>resolvconf</i>, il n'est pas possible d'implémenter le transfert conditionnel entre deux connexions NetworkManager. Consultez <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues/153">le rapport n°153 de NetworkManager</a>.
</p>
<p>Ce problème peut être partiellement atténué si vous définissez <code>private_interfaces="*"</code> dans <code>/etc/resolvconf.conf</code> <a rel="nofollow" class="external autonumber" href="https://roy.marples.name/projects/openresolv/configuration/">[4]</a>. Toutes les requêtes pour des domaines qui ne sont pas dans la liste des domaines de recherche ne seront pas transférées. Elles seront traitées selon la configuration du résolveur local, par exemple, transférées vers un autre serveur DNS ou résolues récursivement à partir de la racine DNS.
</p>
<h4>
<span id="Serveurs_DNS_personnalis.C3.A9s"></span><span class="mw-headline" id="Serveurs_DNS_personnalisés">Serveurs DNS personnalisés</span>
</h4>
<h5>
<span id="D.C3.A9finition_de_serveurs_DNS_globaux_personnalis.C3.A9s"></span><span class="mw-headline" id="Définition_de_serveurs_DNS_globaux_personnalisés">Définition de serveurs DNS globaux personnalisés</span>
</h5>
<p>Pour définir des serveurs DNS pour toutes les connexions, spécifiez-les dans <span class="plainlinks archwiki-template-man" title="$ man 5 NetworkManager.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.conf.5">NetworkManager.conf(5)</a></span> en utilisant la syntaxe <code>servers=<i>serveripaddress1</i>,<i>serveripaddress2</i>,<i>serveripaddress3</i></code> dans une section nommée <code>[global-dns-domain-*]</code>. Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/dns-servers.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[global-dns-domain-*]
servers=::1,127.0.0.1</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Si vous utilisez <a href="#Mise_en_cache_du_DNS_et_transfert_conditionnel">NetworkManager's dnsmasq or systemd-resolved plugin</a> ou <a href="#R%C3%A9solveur_DNS_avec_un_client_openresolv">openresolv subscribers</a>, ne spécifiez pas d'adresses de bouclage avec l'option <code>servers=</code>, car cela peut interrompre la résolution DNS.</li>
<li>Les serveurs spécifiés ne sont pas envoyés à <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>, les serveurs DNS de la connexion sont utilisés à la place.</li>
</ul>
</div>
<h5>
<span id="Configuration_de_serveurs_DNS_personnalis.C3.A9s_dans_une_connexion"></span><span class="mw-headline" id="Configuration_de_serveurs_DNS_personnalisés_dans_une_connexion">Configuration de serveurs DNS personnalisés dans une connexion</span>
</h5>
<h6>
<span id="Configuration_des_serveurs_DNS_personnalis.C3.A9s_dans_une_connexion_.28GUI.29"></span><span class="mw-headline" id="Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(GUI)">Configuration des serveurs DNS personnalisés dans une connexion (GUI)</span>
</h6>
<p>La configuration dépend du type de l'interface utilisée ; le processus implique généralement un clic droit sur l'applet, l'édition (ou la création) d'un profil, puis la sélection du type DHCP comme <i>Automatique (spécifier les adresses)</i>. Les adresses DNS doivent être saisies et se présentent généralement sous cette forme : <code>127.0.0.1, <i>DNS-server-one</i>, ...</code>.
</p>
<h6>
<span id="Configuration_des_serveurs_DNS_personnalis.C3.A9s_dans_une_connexion_.28nmcli_.2F_fichier_de_connexion.29"></span><span class="mw-headline" id="Configuration_des_serveurs_DNS_personnalisés_dans_une_connexion_(nmcli_/_fichier_de_connexion)">Configuration des serveurs DNS personnalisés dans une connexion (nmcli / fichier de connexion)</span>
</h6>
<p>Pour configurer des serveurs DNS par connexion, vous pouvez utiliser le champ <code>dns</code> (et les <code>dns-search</code> et <code>dns-options</code> associés) dans les <a href="#Modifier_une_connexion">paramètres de connexion</a>. 
</p>
<p>Si <code>method</code> est défini sur <code>auto</code> (lorsque vous utilisez DHCP), vous devez définir <code>ignore-auto-dns</code> sur <code>yes</code>.
</p>
<h4>
<span id=".2Fetc.2Fresolv.conf"></span><span class="mw-headline" id="/etc/resolv.conf">/etc/resolv.conf</span>
</h4>
<p>Le mode de gestion de NetworkManager <code>/etc/resolv.conf</code> est configuré avec le paramètre <code>main.rc-manager</code>. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager">networkmanager</a></span> lui attribue la valeur <code>symlink</code> au lieu de la valeur par défaut en amont <code>auto</code>. Ce paramètre et ses valeurs sont documentés dans la page de manuel <span class="plainlinks archwiki-template-man" title="$ man 5 NetworkManager.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.conf.5">NetworkManager.conf(5)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> L'utilisation d'openresolv permet à NetworkManager de coexister avec d'autres logiciels supportant <i>resolvconf</i> ou, par exemple, d'exécuter un cache DNS local et un résolveur split-DNS pour lequel openresolv a un <a href="../en/Openresolv.html#Subscribers" title="Openresolv">subscriber</a>. Notez que le transfert conditionnel n'est <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues/153">pas encore entièrement pris en charge</a> lorsque vous utilisez NetworkManager avec openresolv.</div>
<p>NetworkManager offre également des crochets via des scripts dits "dispatcher" qui peuvent être utilisés pour modifier le fichier <code>/etc/resolv.conf</code> après des changements de réseau. Consultez <a href="#Services_r%C3%A9seau_avec_le_r%C3%A9partiteur_NetworkManager">#Services réseau avec le répartiteur NetworkManager</a> et <span class="plainlinks archwiki-template-man" title="$ man 8 NetworkManager"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.8">NetworkManager(8)</a></span> pour plus d'informations.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Si NetworkManager est configuré pour utiliser <a href="#dnsmasq">dnsmasq</a> ou <a href="#systemd-resolved">systemd-resolved</a>, les adresses de bouclage appropriées seront écrites dans <code>/etc/resolv.conf</code>.</li>
<li>Le fichier <code>resolv.conf</code> que NetworkManager écrit ou écrirait dans <code>/etc/resolv.conf</code> se trouve à <code>/run/NetworkManager/resolv.conf</code>.</li>
<li>Un fichier <code>resolv.conf</code> contenant les serveurs de noms et les domaines de recherche acquis se trouve à <code>/run/NetworkManager/no-stub-resolv.conf</code>.</li>
</ul>
</div>
<h5>
<span id=".2Fetc.2Fresolv.conf_ind.C3.A9pendant"></span><span class="mw-headline" id="/etc/resolv.conf_indépendant">/etc/resolv.conf indépendant</span>
</h5>
<p>Pour empêcher NetworkManager de toucher à <code>/etc/resolv.conf</code>, définissez <code>main.dns=none</code> avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/dns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
dns=none</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Vous pouvez également définir <code>main.systemd-resolved=false</code>, afin que NetworkManager n'envoie pas la configuration DNS à <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Voir <a href="#Mise_en_cache_du_DNS_et_transfert_conditionnel">#Mise en cache du DNS et transfert conditionnel</a>, pour configurer NetworkManager en utilisant d'autres backends DNS comme <a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a> et <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>, au lieu d'utiliser <code>main.dns=none</code>.</div>
<p>Après cela, <code>/etc/resolv.conf</code> peut être un lien symbolique cassé que vous devrez supprimer. Il suffit alors de créer un nouveau fichier <code>/etc/resolv.conf</code>.
</p>
<h5><span class="mw-headline" id="Utilisez_openresolv">Utilisez openresolv</span></h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> NetworkManager ne prend pas en charge l'utilisation de l'interface <i>resolvconf</i> de systemd-resolved (<span class="plainlinks archwiki-template-man" title="$ man 1 resolvectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/resolvectl.1#COMPATIBILITY_WITH_RESOLVCONF(8)">resolvectl(1) § COMPATIBILITY WITH RESOLVCONF(8)</a></span>) qui est fournie par <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-resolvconf">systemd-resolvconf</a></span>.
<ul>
<li>Ne définissez pas <code>main.rc-manager=resolvconf</code> lorsque vous utilisez <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>, assurez-vous plutôt de <a href="../fr/Systemd-resolved.html#DNS" title="Systemd-resolved (Français)">créer correctement le lien symbolique /etc/resolv.conf</a> ou de <a href="#systemd-resolved">configurer NetworkManager pour utiliser systemd-resolved explicitement</a>.</li>
<li>Assurez-vous que le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-resolvconf">systemd-resolvconf</a></span> n'est pas installé lorsque systemd-resolved n'est pas utilisé. Si <code>systemd-resolved.service</code> n'est pas démarré, il cassera tous les logiciels de réseau (pas seulement NetworkManager) qui utilisent resolvconf.</li>
</ul>
</div>
<p>Pour configurer NetworkManager afin d'utiliser <a href="../en/Openresolv.html" title="Openresolv">openresolv</a>, définissez <code>main.rc-manager=resolvconf</code> avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/rc-manager.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
rc-manager=resolvconf</pre>
<h3><span class="mw-headline" id="Pare-feu">Pare-feu</span></h3>
<p>Vous pouvez <a href="../en/Firewalld.html#Using_NetworkManager_to_manage_zones" title="Firewalld">assigner une zone firewalld</a> en fonction de votre connexion actuelle. Par exemple, un pare-feu restrictif lorsque vous êtes au travail, et un autre moins restrictif lorsque vous êtes à la maison.
</p>
<p>Cela peut également être fait avec <a href="#Services_r%C3%A9seau_avec_le_r%C3%A9partiteur_NetworkManager">le répartiteur NetworkManager</a>.
</p>
<h2>
<span id="Services_r.C3.A9seau_avec_le_r.C3.A9partiteur_NetworkManager"></span><span class="mw-headline" id="Services_réseau_avec_le_répartiteur_NetworkManager">Services réseau avec le répartiteur NetworkManager</span>
</h2>
<p>Il existe un certain nombre de services réseau que vous ne voudrez pas voir fonctionner avant que NetworkManager ne fasse apparaître une interface. NetworkManager a la capacité de démarrer les services lorsque vous vous connectez à un réseau et de les arrêter lorsque vous vous déconnectez (par exemple, lorsque vous utilisez <a href="../en/NFS.html" class="mw-redirect" title="NFS (Français)">NFS</a>, <a href="../en/Samba.html" class="mw-redirect" title="Samba (Français)">SMB</a> et <a href="../en/Network_Time_Protocol_daemon.html" class="mw-redirect" title="NTPd">NTPd</a>).
</p>
<p>Pour activer cette fonctionnalité, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> <code>NetworkManager-dispatcher.service</code>.
</p>
<p>Une fois le service activé, des scripts peuvent être ajoutés au répertoire <code>/etc/NetworkManager/dispatcher.d</code>.
</p>
<p>Les scripts doivent appartenir à <b>root</b>, sinon le dispatcher ne les exécutera pas. Pour plus de sécurité, définissez la <a href="../en/File_permissions_and_attributes.html#Changing_ownership" title="File permissions and attributes">propriété</a> du groupe à root également :
</p>
<pre># chown root:root /etc/NetworkManager/dispatcher.d/<i>10-script.sh</i>
</pre>
<p>Assurez-vous que le fichier est <a href="../fr/Help:Reading.html#Rendre_ex%C3%A9cutable" class="mw-redirect" title="Exécutable">exécutable</a>. 
</p>
<p>Les scripts seront exécutés dans l'ordre alphabétique au moment de la connexion, et dans l'ordre alphabétique inverse au moment de la déconnexion. Pour s'assurer de l'ordre dans lequel ils seront exécutés, il est courant d'utiliser des caractères numériques avant le nom du script (par exemple, <code>10-portmap</code> ou <code>30-netfs</code>). (ce qui assure que le <i>portmapper</i> est en place avant que les montages NFS soient tentés).
</p>
<p>Les scripts recevront les arguments suivants :
</p>
<ul>
<li>
<b>Nom de l'interface:</b> e.g. <code>eth0</code>
</li>
<li>
<b>Action :</b> <i>up</i>, <i>down</i>, <i>vpn-up</i>, <i>vpn-down</i>, ... (consultez <span class="plainlinks archwiki-template-man" title="$ man 8 NetworkManager"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.8">NetworkManager(8)</a></span> pour la liste complète)</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Si vous vous connectez à des réseaux étrangers ou publics, faites attention aux services que vous lancez et aux serveurs auxquels vous pensez qu'ils seront disponibles pour se connecter. Vous pourriez créer une faille de sécurité en démarrant les mauvais services alors que vous êtes connecté à un réseau public.</div>
<h3>
<span id=".C3.89viter_le_d.C3.A9lai_d.27attente_du_r.C3.A9partiteur"></span><span class="mw-headline" id="Éviter_le_délai_d'attente_du_répartiteur">Éviter le délai d'attente du répartiteur</span>
</h3>
<p>Si ce qui précède fonctionne, alors cette section n'est pas pertinente. Cependant, il existe un problème général lié à l'exécution de scripts de répartiteur qui prennent plus de temps à être exécutés. Initialement, un délai d'attente interne de trois secondes seulement était utilisé. Si le script appelé n'était pas terminé à temps, il était tué. Plus tard, le délai d'attente a été étendu à environ 20 secondes (consultez le <a rel="nofollow" class="external text" href="https://bugzilla.redhat.com/show_bug.cgi?id=982734">Bugtracker</a> pour plus d'informations). Si le délai d'attente pose toujours problème, une solution consiste à utiliser un <a href="../fr/Systemd.html#Fichiers_de_substitution" title="Systemd (Français)">fichier de substitution</a> pour <code>NetworkManager-dispatcher.service</code> pour qu'il reste actif après la sortie : 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/NetworkManager-dispatcher.service.d/remain_after_exit.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
RemainAfterExit=yes</pre>
<p>Maintenant, démarrez et activez le service <code>NetworkManager-dispatcher</code> modifié.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> L'ajout de la ligne <code>RemainAfterExit</code> empêchera le répartiteur de se fermer. Malheureusement, le répartiteur <b>doit</b> se fermer avant de pouvoir exécuter vos scripts à nouveau. Avec cette ligne, le distributeur ne s'arrêtera pas, mais il ne se fermera pas non plus, ce qui signifie que les scripts ne seront exécutés qu'une fois par démarrage. Par conséquent, n'ajoutez pas cette ligne à moins que le délai d'attente ne cause définitivement un problème.</div>
<h3>
<span id="Exemples_de_r.C3.A9partiteurs"></span><span class="mw-headline" id="Exemples_de_répartiteurs">Exemples de répartiteurs</span>
</h3>
<h4>
<span id="Monter_un_r.C3.A9pertoire_distant_avec_sshfs"></span><span class="mw-headline" id="Monter_un_répertoire_distant_avec_sshfs">Monter un répertoire distant avec sshfs</span>
</h4>
<p>Comme le script est exécuté dans un environnement très restrictif, vous devez exporter <code>SSH_AUTH_SOCK</code> afin de vous connecter à votre agent SSH. Il existe différentes façons de procéder, consultez <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1042030#p1042030">ce message</a> pour plus d'informations. L'exemple ci-dessous fonctionne avec <a href="../en/GNOME/Keyring.html" class="mw-redirect" title="GNOME Keyring">GNOME Keyring</a>, et vous demandera le mot de passe s'il n'est pas déjà déverrouillé. Si NetworkManager se connecte automatiquement à la connexion, il est probable que <i>gnome-keyring</i> n'ait pas encore démarré et que l'exportation échoue (d'où le sleep). Le <code>UUID</code> à faire correspondre peut être trouvé avec la commande <code>nmcli connection status</code> ou <code>nmcli connection list</code>.     
</p>
<pre>#!/bin/sh
USER='username'
REMOTE='user@host:/remote/path'
LOCAL='/local/path'

interface=$1 status=$2
if [ "$CONNECTION_UUID" = "<i>uuid</i>" ]; then
  case $status in
    up)
      # sleep 10
      SSH_AUTH_SOCK=$(find /tmp -maxdepth 1 -type s -user "$USER" -name 'ssh')
      export SSH_AUTH_SOCK
      su "$USER" -c "sshfs $REMOTE $LOCAL"
      ;;
    down)
      fusermount -u "$LOCAL"
      ;;
  esac
fi
</pre>
<h4><span class="mw-headline" id="Montage_de_partages_SMB">Montage de partages SMB</span></h4>
<p>Certains partages <a href="../en/Samba.html" class="mw-redirect" title="Samba (Français)">SMB</a> ne sont disponibles que sur certains réseaux ou emplacements (par exemple, à la maison). Vous pouvez utiliser le répartiteur pour monter uniquement les partages SMB qui sont présents à votre emplacement actuel.
</p>
<p>Le script suivant vérifiera si nous sommes connectés à un réseau spécifique et montera les partages en conséquence :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/30-mount-smb.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Find the connection UUID with "nmcli connection show" in terminal.
# All NetworkManager connection types are supported: wireless, VPN, wired...
if [ "$2" = "up" ]; then
  if [ "$CONNECTION_UUID" = "uuid" ]; then
    mount /your/mount/point &amp; 
    # add more shares as needed
  fi
fi
</pre>
<p>Le script suivant démontera tous les partages SMB avant une déconnexion initiée par logiciel d'un réseau spécifique :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/pre-down.d/30-umount-smb.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

if [ "$CONNECTION_UUID" = "uuid" ]; then
  umount -a -l -t cifs
fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Veillez à ce que ce script soit situé dans le sous-répertoire <code>pre-down.d</code> comme indiqué ci-dessus, sinon il démontera tous les partages lors de tout changement d'état de connexion.</div>
<p>Le script suivant tentera de démonter tous les partages SMB suite à une déconnexion inattendue d'un réseau spécifique :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/40-umount-smb.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

if [ "$CONNECTION_UUID" = "uuid" ] ; then
  if [ "$2" = "down" ] ; then
    umount -a -l -t cifs
  fi
fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Depuis NetworkManager 0.9.8, les événements <i>pre-down</i> et <i>down</i> ne sont pas exécutés lors de l'arrêt ou du redémarrage, consultez <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=701242">ce rapport de bug</a> pour plus d'informations.</li>
<li>Les scripts <i>umount</i> précédents sont toujours susceptibles de laisser les applications accédant au montage en suspens.</li>
</ul>
</div>
<p>Une alternative est d'utiliser le script consulté dans <a href="../en/NFS.html#Using_a_NetworkManager_dispatcher" title="NFS">NFS#Using a NetworkManager dispatcher</a> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/30-smb.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Find the connection UUID with "nmcli con show" in terminal.
# All NetworkManager connection types are supported: wireless, VPN, wired...
WANTED_CON_UUID="CHANGE-ME-NOW-9c7eff15-010a-4b1c-a786-9b4efa218ba9"

if [ "$CONNECTION_UUID" = "$WANTED_CON_UUID" ]; then
    
    # Script parameter $1: NetworkManager connection name, not used
    # Script parameter $2: dispatched event
    
    case "$2" in
        "up")
            mount -a -t cifs
            ;;
        "down"|"pre-down"|"vpn-pre-down")
            umount -l -a -t cifs &gt;/dev/null
            ;;
    esac
fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ce script ignore les montages avec l'option <code>noauto</code>, supprimez cette option de montage ou utilisez <code>auto</code> pour permettre au répartiteur de gérer ces montages.</div>
<p>Créez un lien symbolique dans <code>/etc/NetworkManager/dispatcher.d/pre-down/</code> pour attraper les événements <code>pre-down</code> :
</p>
<pre># ln -s ../30-smb.sh /etc/NetworkManager/dispatcher.d/pre-down.d/30-smb.sh
</pre>
<h4><span class="mw-headline" id="Montage_des_partages_NFS">Montage des partages NFS</span></h4>
<p>Consultez <a href="../en/NFS.html#Using_a_NetworkManager_dispatcher" title="NFS">NFS#Using a NetworkManager dispatcher</a>.
</p>
<h4>
<span id="Utiliser_le_distributeur_pour_basculer_automatiquement_le_sans_fil_en_fonction_du_c.C3.A2ble_LAN_branch.C3.A9"></span><span class="mw-headline" id="Utiliser_le_distributeur_pour_basculer_automatiquement_le_sans_fil_en_fonction_du_câble_LAN_branché">Utiliser le distributeur pour basculer automatiquement le sans fil en fonction du câble LAN branché</span>
</h4>
<p>L'idée est d'activer le Wi-Fi uniquement lorsque le câble LAN est débranché (par exemple, lors du détachement du dock d'un ordinateur portable), et que le Wi-Fi soit automatiquement désactivé, une fois le câble LAN rebranché. 
</p>
<p>Créez le script dispatcher suivant <a rel="nofollow" class="external autonumber" href="https://superuser.com/questions/233448/disable-wlan-if-wired-cable-network-is-available">[5]</a>, en remplaçant <code><i>LAN_interface</i></code> par le vôtre.
</p>
<p>Notez qu'il existe une sécurité intégrée pour le cas où l'interface LAN a été connectée lors de la dernière mise sous tension de l'ordinateur, puis déconnectée alors que l'ordinateur était éteint. Dans ce cas, la radio serait toujours éteinte lorsque l'ordinateur est rallumé et avec une interface LAN déconnectée, vous n'auriez pas de réseau.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/wlan_auto_toggle.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

if [ "$1" = "<i>LAN_interface</i>" ] ; then
    case "$2" in
        up)
            nmcli radio wifi off
            ; ;
        down)
            nmcli radio wifi on
            ; ;
    esac
elif [ "$(nmcli -g GENERAL.STATE device show LAN_interface)" = "20 (indisponible)" ] ; then
    nmcli radio wifi on
fi</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Vous pouvez obtenir une liste des interfaces en utilisant <a href="#Exemples_avec_nmcli">nmcli</a>. Les interfaces Ethernet (LAN) commencent par <code>en</code>, par exemple <code>enp0s5</code>
</div>
<h4>
<span id="Utiliser_le_dispatcher_pour_se_connecter_.C3.A0_un_VPN_apr.C3.A8s_l.27.C3.A9tablissement_d.27une_connexion_r.C3.A9seau"></span><span class="mw-headline" id="Utiliser_le_dispatcher_pour_se_connecter_à_un_VPN_après_l'établissement_d'une_connexion_réseau">Utiliser le dispatcher pour se connecter à un VPN après l'établissement d'une connexion réseau</span>
</h4>
<p>Dans cet exemple, nous voulons nous connecter automatiquement à une connexion VPN préalablement définie après nous être connectés à un réseau Wi-Fi spécifique. La première chose à faire est de créer le script dispatcher qui définit ce qu'il faut faire après que nous soyons connectés au réseau.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ce script nécessite <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireless_tools">wireless_tools</a></span> afin d'utiliser <code>iwgetid</code>.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/vpn-up</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
VPN_NAME="name of VPN connection defined in NetworkManager"
ESSID="Wi-Fi network ESSID (not connection name)"

interface=$1 status=$2
case $status in
  up|vpn-down)
    if iwgetid | grep -qs ":\"$ESSID\""; then
      nmcli connection up id "$VPN_NAME"
    fi
    ;;
  down)
    if iwgetid | grep -qs ":\"$ESSID\""; then
      if nmcli connection show --active | grep "$VPN_NAME"; then
        nmcli connection down id "$VPN_NAME"
      fi
    fi
    ;;
esac
</pre>
<p>Si vous souhaitez tenter de vous connecter automatiquement au VPN pour tous les réseaux Wi-Fi, vous pouvez utiliser la définition suivante de l'ESSID : <code>ESSID=$(iwgetid -r)</code>. N'oubliez pas de définir les autorisations du script <a href="#Services_r%C3%A9seau_avec_le_r%C3%A9partiteur_NetworkManager">en adéquation</a>. 
</p>
<p>La tentative de connexion avec le script ci-dessus peut encore échouer avec <code>NetworkManager-dispatcher.service</code> se plaignant de l'absence de secrets VPN valides, à cause de <a rel="nofollow" class="external text" href="https://developer.gnome.org/NetworkManager/0.9/secrets-flags.html">la façon dont les secrets VPN sont stockés</a>. Heureusement, il existe différentes options pour donner au script ci-dessus l'accès à votre mot de passe VPN.
</p>
<p>1 : L'une d'entre elles nécessite l'édition du fichier de configuration de la connexion VPN pour que NetworkManager stocke les secrets par lui-même plutôt que dans un trousseau <a rel="nofollow" class="external text" href="https://bugzilla.redhat.com/show_bug.cgi?id=710552">qui sera inaccessible pour root</a> : ouvrez <code>/etc/NetworkManager/system-connections/<i>name of your VPN connection</i></code> et changez les <code>password-flags</code> et <code>secret-flags</code> de <code>1</code> à <code>0</code>.
</p>
<p>Si cela ne suffit pas, vous devrez peut-être créer un <code>fichier de mots de passe</code> dans un emplacement sûr, avec les mêmes autorisations et le même propriétaire que le script du répartiteur, contenant les éléments suivants :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/path/to/passwd-file</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vpn.secrets.password:YOUR_PASSWORD
</pre>
<p>Le script doit être modifié en conséquence, afin qu'il récupère le mot de passe dans le fichier :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/vpn-up</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
VPN_NAME="name of VPN connection defined in NetworkManager"
ESSID="Wi-Fi network ESSID (not connection name)"

interface=$1 status=$2
case $status in
  up|vpn-down)
    if iwgetid | grep -qs ":\"$ESSID\""; then
      nmcli connection up id "$VPN_NAME" passwd-file /path/to/passwd-file
    fi
    ;;
  down)
    if iwgetid | grep -qs ":\"$ESSID\""; then
      if nmcli connection show --active | grep "$VPN_NAME"; then
        nmcli connection down id "$VPN_NAME"
      fi
    fi
    ;;
esac
</pre>
<p>2 : Alternativement, changez les <code>password-flags</code> et mettez le mot de passe directement dans le fichier de configuration en ajoutant la section <code>vpn-secrets</code> :
</p>
<pre> [vpn]
 ....
 password-flags=0
 
 [vpn-secrets]
 mot de passe=<i>votre_mot_de_passe</i>.
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Il peut maintenant être nécessaire de rouvrir l'éditeur de connexion NetworkManager et de sauvegarder à nouveau les mots de passe/secrets VPN.</div>
<h4>
<span id="Utiliser_dispatcher_pour_d.C3.A9sactiver_IPv6_sur_les_connexions_de_fournisseurs_VPN"></span><span class="mw-headline" id="Utiliser_dispatcher_pour_désactiver_IPv6_sur_les_connexions_de_fournisseurs_VPN">Utiliser dispatcher pour désactiver IPv6 sur les connexions de fournisseurs VPN</span>
</h4>
<p>De nombreux <a href="../en/Category:VPN_providers.html" title="Category:VPN providers">fournisseurs de VPN commerciaux</a> ne prennent en charge que l'IPv4. Cela signifie que tout le trafic IPv6 contourne le VPN et le rend pratiquement inutile. Pour éviter cela, dispatcher peut être utilisé pour désactiver tout le trafic IPv6 pendant la durée d'une connexion VPN.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/10-vpn-ipv6</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

case "$2" dans
	vpn-up)
		echo 1 &gt; /proc/sys/net/ipv6/conf/all/disable_ipv6
		; ;
	vpn-down)
		echo 0 &gt; /proc/sys/net/ipv6/conf/all/disable_ipv6
		; ;
esac
</pre>
<h4><span class="mw-headline" id="OpenNTPD">OpenNTPD</span></h4>
<p>Consultez <a href="../en/OpenNTPD.html#Using_NetworkManager_dispatcher" title="OpenNTPD">OpenNTPD#Using NetworkManager dispatcher</a>.
</p>
<h4>
<span id="Configurer_dynamiquement_les_serveurs_NTP_re.C3.A7us_via_DHCP_avec_systemd-timesyncd"></span><span class="mw-headline" id="Configurer_dynamiquement_les_serveurs_NTP_reçus_via_DHCP_avec_systemd-timesyncd">Configurer dynamiquement les serveurs NTP reçus via DHCP avec systemd-timesyncd</span>
</h4>
<p>Lors de l'itinérance entre différents réseaux (par exemple, la LAN d'une entreprise, le WiFi à la maison, divers autres WiFi de temps en temps), vous pourriez vouloir définir le(s) serveur(s) NTP utilisé(s) par timesyncd à ceux fournis par DHCP. Cependant, NetworkManager lui-même n'est pas capable de communiquer avec systemd-timesyncd pour définir le(s) serveur(s) NTP.
</p>
<p>Le répartiteur peut contourner ce problème. 
</p>
<p><a href="../fr/Help:Reading.html#Postposer,_ajouter,_cr%C3%A9er,_modifier" class="mw-redirect" title="Créez">Créez</a> le répertoire «overlay» (de recouvrement) pour votre configuration systemd-timesyncd <code>/etc/systemd/timesyncd.conf.d</code> s'il n'existe pas déjà. A l'intérieur de <code>/etc/NetworkManager/dispatcher.d</code>, mettez ce qui suit : 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/dispatcher.d/10-update-timesyncd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

[ -z "$CONNECTION_UUID" ] &amp;&amp; exit 0
INTERFACE="$1"
ACTION="$2"

case $ACTION in
up | dhcp4-change | dhcp6-change)
    [ -n "$DHCP4_NTP_SERVERS" ] || exit
    mkdir -p /etc/systemd/timesyncd.conf.d
    cat &lt;&lt;-THE_END &gt;"/etc/systemd/timesyncd.conf.d/${CONNECTION_UUID}.conf"
        [Time]
        NTP=$DHCP4_NTP_SERVERS
    THE_END
    systemctl restart systemd-timesyncd.service
    ;;
down)
    rm -f "/etc/systemd/timesyncd.conf.d/${CONNECTION_UUID}.conf"
    systemctl restart systemd-timesyncd.service
    ;;
esac
</pre>
<p>Chaque fois que NetworkManager établit une nouvelle connexion réseau (<code>ACTION=up</code>) ou obtient une mise à jour pour une connexion existante (<code>ACTION=dhcp4-change</code> ou <code>ACTION=dhcp6-change</code>) et que les données de connexion fournies contiennent des informations sur le ou les serveurs NTP (<code>DHCP4_NTP_SERVERS</code>), un fichier de configuration de superposition spécifique à la connexion est écrit dans <code>/etc/systemd/timesyncd. conf.d</code>, contenant le ou les serveurs NTP fournis. Lorsqu'une connexion est supprimée (<code>ACTION=down</code>), le fichier de recouvrement spécifique à la connexion est supprimé. Après chaque modification de la configuration de systemd-timesyncd, ce service est redémarré pour prendre en compte la configuration mise à jour. L'utilisation de fichiers de configuration spécifiques à la connexion est intentionnelle afin que lorsque deux ou plusieurs connexions sont gérées par NetworkManager en parallèle, les différents noms de serveurs NTP dans la configuration ne soient pas écrasés car les actions <code>up</code>, <code>dhcp4-change</code>, <code>dhcp6-change</code> et <code>down</code> pourraient intervenir dans un ordre arbitraire.
</p>
<h2><span class="mw-headline" id="Test">Test</span></h2>
<p>Les applets NetworkManager sont conçus pour se charger lors de la connexion, donc aucune autre configuration ne devrait être nécessaire pour la plupart des utilisateurs.  Si vous avez déjà désactivé vos anciens paramètres réseau et vous êtes déconnecté de votre réseau, vous pouvez maintenant tester si NetworkManager fonctionnera. <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">Démarrez</a> d'abord <code>NetworkManager.service</code>.
</p>
<p>Certains applets vous fourniront un fichier <code>.desktop</code> afin que l'applet NetworkManager puisse être chargé via le menu de l'application.  Si ce n'est pas le cas, vous devrez soit découvrir la commande à utiliser, soit vous déconnecter et vous reconnecter pour lancer l'applet.  Une fois l'applet lancée, elle commencera probablement à interroger les connexions réseau pour une auto-configuration avec un serveur DHCP.
</p>
<p>Pour démarrer l'applet GNOME dans des gestionnaires de fenêtres non conformes à xdg comme <a href="../en/Awesome.html" title="Awesome">awesome</a> :
</p>
<pre>nm-applet --sm-disable &amp;.
</pre>
<p>Pour les adresses IP statiques, vous devrez configurer NetworkManager pour les comprendre.  Le processus consiste généralement à cliquer avec le bouton droit de la souris sur l'applet et à sélectionner quelque chose comme 'Edit Connections'.
</p>
<h2><span class="mw-headline" id="Trucs_et_astuces">Trucs et astuces</span></h2>
<h3>
<span id="Mots_de_passe_Wi-Fi_chiffr.C3.A9s"></span><span class="mw-headline" id="Mots_de_passe_Wi-Fi_chiffrés">Mots de passe Wi-Fi chiffrés</span>
</h3>
<p>Par défaut, NetworkManager stocke les mots de passe en texte clair dans les fichiers de connexion à <code>/etc/NetworkManager/system-connections/</code>. Pour imprimer les mots de passe stockés, utilisez la commande suivante :
</p>
<pre># grep -r '^psk=' /etc/NetworkManager/system-connections/}}.
</pre>
<p>Les mots de passe sont accessibles à l'utilisateur root dans le système de fichiers et aux utilisateurs ayant accès aux paramètres via l'interface graphique (par exemple, <code>nm-applet</code>). 
</p>
<p>Il est préférable d'enregistrer les mots de passe sous forme chiffrée dans un trousseau de clés plutôt qu'en texte clair. L'inconvénient de l'utilisation d'un trousseau de clés est que les connexions doivent être configurées pour chaque utilisateur.
</p>
<h4>
<span id="Utilisation_du_porte-cl.C3.A9s_GNOME"></span><span class="mw-headline" id="Utilisation_du_porte-clés_GNOME">Utilisation du porte-clés GNOME</span>
</h4>
<p>Le daemon du porte-clés doit être lancé et le porte-clés doit être déverrouillé pour que ce qui suit fonctionne.
</p>
<p>De plus, NetworkManager doit être configuré pour ne pas stocker le mot de passe de tous les utilisateurs. En utilisant le <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span> de GNOME, exécutez <code>nm-connection-editor</code> à partir d'un terminal, sélectionnez une connexion réseau, cliquez sur <i>Edit</i>, sélectionnez l'onglet <i>Wifi-Security</i> et cliquez sur l'icône de droite du mot de passe et cochez <i>Store the password only for this user</i>.
</p>
<h4><span class="mw-headline" id="Utilisation_du_portefeuille_KDE">Utilisation du portefeuille KDE</span></h4>
<p>En utilisant <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-nm">plasma-nm</a></span> de KDE, cliquez sur l'applet, cliquez sur l'icône <i>Settings</i> en haut à droite, cliquez sur une connexion réseau, dans l'onglet <i>General settings</i>, décochez <i>all users may connect to this network</i>. Si l'option est cochée, les mots de passe seront toujours stockés en texte clair, même si un daemon de trousseau de clés est en cours d'exécution.
</p>
<p>Si l'option était sélectionnée précédemment et que vous la décochez, vous devrez peut-être utiliser l'option <code>reset</code> pour faire disparaître le mot de passe du fichier. Sinon, supprimez d'abord la connexion et configurez-la à nouveau.
</p>
<h3><span class="mw-headline" id="Partage_de_la_connexion_Internet_par_Wi-Fi">Partage de la connexion Internet par Wi-Fi</span></h3>
<p>Vous pouvez partager votre connexion Internet (par exemple 3G ou filaire) en quelques clics.  Veuillez noter qu'un <a href="../fr/Category:Firewalls.html" class="mw-redirect" title="Pare-feu">pare-feu</a> peut interférer avec le partage d'Internet.
</p>
<p>Vous aurez besoin d'une carte Wi-Fi qui prend en charge le mode AP, consultez <a href="../en/Software_access_point.html#Wi-Fi_device_must_support_AP_mode" title="Software access point">Software access point#Wi-Fi device must support AP mode</a> pour plus de détails.
</p>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span> pour pouvoir réellement partager la connexion. Notez que NetworkManager démarre sa propre instance de <i>dnsmasq</i>, indépendamment de <code>dnsmasq.service</code>, en tant que serveur DHCP. Consultez <a href="#dnsmasq">#dnsmasq</a> pour les avertissements.
</p>
<p>Créez la connexion partagée :
</p>
<ul>
<li>Cliquez sur l'applet et choisissez <i>Create new wireless network</i>.</li>
<li>Suivez l'assistant (choisissez WPA2 ou supérieur, assurez-vous d'utiliser un mot de passe d'au moins 8 caractères, les longueurs inférieures échoueront).
<ul><li>Choisissez soit <a href="https://fedoraproject.org/wiki/Features/RealHotspot" class="extiw" title="fedora:Features/RealHotspot">Hotspot</a> ou Ad-hoc comme mode Wi-Fi.</li></ul>
</li>
</ul>
<p>La connexion sera enregistrée et restera stockée pour la prochaine fois que vous en aurez besoin.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Android ne prend pas en charge la connexion aux réseaux Ad-hoc. Pour partager une connexion avec Android, utilisez le mode infrastructure (c'est-à-dire réglez le mode Wi-Fi sur "Hotspot").</div>
<h3>
<span id="Partage_d.27une_connexion_Internet_via_Ethernet"></span><span class="mw-headline" id="Partage_d'une_connexion_Internet_via_Ethernet">Partage d'une connexion Internet via Ethernet</span>
</h3>
<p>Scénario : votre appareil dispose d'une connexion Internet par Wi-Fi et vous souhaitez partager la connexion Internet avec d'autres appareils par Ethernet.
</p>
<p>Configuration requise :
</p>
<ul>
<li>
<a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> les paquets <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span> et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nm-connection-editor">nm-connection-editor</a></span> pour pouvoir réellement partager la connexion. Notez que NetworkManager démarre sa propre instance de <i>dnsmasq</i>, indépendamment de <code>dnsmasq.service</code>, en tant que serveur DHCP. Consultez <a href="#dnsmasq">#dnsmasq</a> pour les mises en garde.</li>
<li>Votre appareil connecté à Internet et les autres appareils sont connectés par un câble Ethernet approprié (cela signifie généralement un câble croisé ou un commutateur entre les deux).</li>
<li>Le partage d'Internet n'est pas bloqué par un <a href="../fr/Category:Firewalls.html" class="mw-redirect" title="Pare-feu">pare-feu</a>.</li>
</ul>
<p>Étapes :
</p>
<ul>
<li>Lancez <code>nm-connection-editor</code> dans le terminal.</li>
<li>Ajoutez une nouvelle connexion Ethernet.</li>
<li>Donnez-lui un nom sensé. Par exemple "Internet partagé".</li>
<li>Allez dans "Paramètres IPv4".</li>
<li>Pour "Method :", sélectionnez "Shared to other computers".</li>
<li>Sauvegardez.</li>
</ul>
<p>Maintenant vous devriez avoir une nouvelle option "Shared Internet" sous les connexions câblées dans NetworkManager.
</p>
<h3>
<span id="Se_connecter_au_r.C3.A9seau_avec_un_secret_au_d.C3.A9marrage"></span><span class="mw-headline" id="Se_connecter_au_réseau_avec_un_secret_au_démarrage">Se connecter au réseau avec un secret au démarrage</span>
</h3>
<p>Par défaut, NetworkManager ne se connectera pas aux réseaux nécessitant un secret automatiquement au démarrage. Cela est dû au fait qu'il verrouille ces connexions à l'utilisateur qui les établit par défaut, ne se connectant qu'après qu'il se soit connecté. Pour changer cela, faites ce qui suit :
</p>
<ol>
<li>Cliquez du bouton droit de la souris sur l'icône <code>nm-applet</code> dans votre panneau et sélectionnez "Éditer les connexions", puis ouvrez l'onglet "Sans fil".</li>
<li>Sélectionnez la connexion avec laquelle vous voulez travailler et cliquez sur le bouton "Modifier".</li>
<li>Cochez les cases "Connecter automatiquement" et "Disponible pour tous les utilisateurs".</li>
<li>En outre, assurez-vous que sous "Sécurité Wi-Fi", "Stocker le mot de passe pour tous les utilisateurs (non chiffré)" est sélectionné.</li>
</ol>
<p>Déconnectez-vous et reconnectez-vous pour terminer.
</p>
<h3><span class="mw-headline" id="OpenConnect_avec_mot_de_passe_dans_KWallet">OpenConnect avec mot de passe dans KWallet</span></h3>
<p>Bien que vous puissiez saisir les deux valeurs au moment de la connexion, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-nm">plasma-nm</a></span> 0.9.3.2-1 et plus sont capables de récupérer le nom d'utilisateur et le mot de passe OpenConnect directement à partir de <a href="../en/KDE_Wallet.html" class="mw-redirect" title="KWallet">KWallet</a>.
</p>
<p>Ouvrez "KDE Wallet Manager" et recherchez votre connexion VPN OpenConnect sous "Network Management|Maps". Cliquez sur "Show values" et 
entrez vos informations d'identification dans la clé "VpnSecrets" dans ce formulaire (remplacez <i>username</i> et <i>password</i> en conséquence) :
</p>
<pre>form:main:username%SEP%<i>username</i>%SEP%form:main:password%SEP%<i>password</i>.
</pre>
<p>La prochaine fois que vous vous connecterez, le nom d'utilisateur et le mot de passe devraient apparaître dans la boîte de dialogue "Secrets VPN".
</p>
<h3>
<span id="Ignorer_des_p.C3.A9riph.C3.A9riques_sp.C3.A9cifiques"></span><span class="mw-headline" id="Ignorer_des_périphériques_spécifiques">Ignorer des périphériques spécifiques</span>
</h3>
<p>Parfois, on peut souhaiter que NetworkManager ignore des périphériques spécifiques et n'essaie pas de configurer des adresses et des routes pour eux. Vous pouvez rapidement et facilement ignorer les dispositifs par MAC ou nom d'interface en utilisant ce qui suit dans <code>/etc/NetworkManager/conf.d/unmanaged.conf</code> :
</p>
<pre>[keyfile]
unmanaged-devices=mac:00:22:68:1c:59:b1;mac:00:1E:65:30:D1:C4;interface-name:eth0
</pre>
<p>Après avoir modifié le fichier, exécutez <code>nmcli general reload</code> en tant que root. Ensuite, vous devriez être en mesure de configurer les interfaces sans que NetworkManager ne modifie ce que vous avez défini.
</p>
<h3><span class="mw-headline" id="Configuration_de_la_randomisation_des_adresses_MAC">Configuration de la randomisation des adresses MAC</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> La désactivation de la randomisation de l'adresse MAC peut être nécessaire pour obtenir une connexion de liaison (stable) <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=220101">[6]</a> et/ou des réseaux qui restreignent les périphériques en fonction de leur adresse MAC ou qui ont une capacité réseau limitée.</div>
<p>La randomisation de l'adresse MAC peut être utilisée pour améliorer la confidentialité en ne divulguant pas votre adresse MAC réelle au réseau.
</p>
<p>NetworkManager prend en charge deux types de randomisation des adresses MAC : la randomisation pendant le balayage ou pour les connexions réseau. Les deux modes peuvent être configurés en modifiant <code>/etc/NetworkManager/NetworkManager.conf</code> ou en créant un fichier de configuration distinct dans <code>/etc/NetworkManager/conf.d/</code>, ce qui est recommandé car le fichier de configuration susmentionné peut être écrasé par NetworkManager.
</p>
<p>La randomisation pendant l'analyse Wi-Fi est activée par défaut, mais elle peut être désactivée en ajoutant les lignes suivantes à <code>/etc/NetworkManager/NetworkManager.conf</code> ou à un fichier de configuration dédié sous <code>/etc/NetworkManager/conf.d</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/wifi_rand_mac.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[périphérique]
wifi.scan-rand-mac-address=no</pre>
<p>La randomisation MAC pour les connexions réseau peut être réglée sur différents modes pour les interfaces sans fil et Ethernet. Consultez le <a rel="nofollow" class="external text" href="https://blogs.gnome.org/thaller/2016/08/26/mac-address-spoofing-in-networkmanager-1-4-0/">post du blog de GNOME</a> pour plus de détails sur les différents modes. 
</p>
<p>En termes de randomisation MAC, les modes les plus importants sont <code>stable</code> et <code>random</code>. <code>stable</code> génère une adresse MAC aléatoire lorsque vous vous connectez à un nouveau réseau et associe les deux de manière permanente. Cela signifie que vous utiliserez la même adresse MAC chaque fois que vous vous connecterez à ce réseau. En revanche, <code>random</code> génère une nouvelle adresse MAC à chaque fois que vous vous connectez à un réseau, nouveau ou déjà connu. Vous pouvez configurer la randomisation MAC en ajoutant la configuration souhaitée sous <code>/etc/NetworkManager/conf.d</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/wifi_rand_mac.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[device-mac-randomization]
# "yes" est déjà la valeur par défaut pour le scan
wifi.scan-rand-mac-address=yes
 
[connection-mac-randomization]
# Randomiser le MAC pour chaque connexion ethernet
ethernet.cloned-mac-address=random
# Générer un MAC aléatoire pour chaque WiFi et associer les deux de façon permanente.
wifi.cloned-mac-address=stable</pre>
<p>Consultez l'article suivant <a rel="nofollow" class="external text" href="https://blogs.gnome.org/thaller/2016/08/26/mac-address-spoofing-in-networkmanager-1-4-0/">du blog de GNOME</a> pour plus de détails.
</p>
<h3>
<span id="Activer_les_extensions_de_confidentialit.C3.A9_IPv6"></span><span class="mw-headline" id="Activer_les_extensions_de_confidentialité_IPv6">Activer les extensions de confidentialité IPv6</span>
</h3>
<p>Consultez <a href="../en/IPv6.html#NetworkManager" title="IPv6">IPv6#NetworkManager</a>.
</p>
<h3><span class="mw-headline" id="Configurer_un_DUID_unique_par_connexion">Configurer un DUID unique par connexion</span></h3>
<p>L'identifiant unique DHCPv6 (DUID) est une valeur utilisée par le client DHCPv6 pour s'identifier auprès des serveurs DHCPv6. NetworkManager prend en charge 3 types de DUID :
</p>
<ul>
<li>DUID-UUID (<a href="https://tools.ietf.org/html/rfc6355" class="extiw" title="rfc:6355">RFC 6355</a>) : généré à partir d'un Universally Unique IDentifier (UUID).</li>
<li>DUID-LL (<a href="https://tools.ietf.org/html/rfc3315" class="extiw" title="rfc:3315">RFC 3315</a>) : généré à partir de l'adresse Link-Layer (soit l'adresse MAC).</li>
<li>DUID-LLT (<a href="https://tools.ietf.org/html/rfc3315" class="extiw" title="rfc:3315">RFC 3315</a>) : généré à partir de l'adresse Link-Layer plus un timestamp.</li>
</ul>
<p>Si le client DHCP du NetworkManager interne est utilisé (par défaut), il s'identifiera avec un DUID-UUID global et permanent généré à partir du machine-id (<code>/etc/machine-id</code>). Cela signifie que toutes les connexions partagent le même UUID, ce qui peut constituer une atteinte à la vie privée.
</p>
<p>Heureusement, NetworkManager est capable de fournir des DUIDs uniques par connexion, dérivés du stable-id de la connexion et d'une clé unique par hôte. Vous pouvez activer cela en ajoutant la configuration suivante sous <code>/etc/NetworkManager/conf.d</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/duid.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[connexion]
ipv6.dhcp-duid=stable-uuid</pre>
<p>Les valeurs <code>stable-ll</code> et <code>stable-llt</code> sont également prises en charge. Pour plus d'informations, lisez la description de <code>dhcp-duid</code> dans <span class="plainlinks archwiki-template-man" title="$ man 5 nm-settings"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nm-settings.5#ipv6_setting">nm-settings(5) § ipv6 setting</a></span>.
</p>
<h3>
<span id="Travailler_avec_des_connexions_c.C3.A2bl.C3.A9es"></span><span class="mw-headline" id="Travailler_avec_des_connexions_câblées">Travailler avec des connexions câblées</span>
</h3>
<p>Par défaut, NetworkManager génère un profil de connexion pour chaque connexion Ethernet filaire qu'il trouve. Au moment où il génère la connexion, il ne sait pas s'il y aura d'autres adaptateurs Ethernet disponibles. Par conséquent, il appelle la première connexion filaire "Connexion filaire 1". Vous pouvez éviter de générer cette connexion en configurant <code>no-auto-default</code>. (consultez <span class="plainlinks archwiki-template-man" title="$ man 5 NetworkManager.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.conf.5">NetworkManager.conf(5)</a></span>), ou en la supprimant tout simplement. NetworkManager se souviendra alors de ne plus générer de connexion pour cette interface.
</p>
<p>Vous pouvez également modifier la connexion (et la persister sur le disque) ou la supprimer. NetworkManager ne générera pas à nouveau une nouvelle connexion. Ensuite, vous pouvez changer le nom en ce que vous voulez. Vous pouvez utiliser quelque chose comme <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nm-connection-editor">nm-connection-editor</a></span> pour cette tâche.
</p>
<h3><span class="mw-headline" id="Utiliser_iwd_comme_backend_Wi-Fi">Utiliser iwd comme backend Wi-Fi</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>N'activez pas <code>iwd.service</code> ou ne configurez pas manuellement <a href="../en/Iwd.html" title="Iwd">iwd</a>. NetworkManager le lancera et le gérera lui-même.</li>
<li>Prenez en compte <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/issues?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;search=iwd">les problèmes connus</a> avant de passer à <i>iwd</i>.</li>
</ul>
</div>
<p>Pour activer le backend <a rel="nofollow" class="external text" href="https://iwd.wiki.kernel.org/networkmanager">expérimental iwd</a>, <a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">installez</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> puis créez le fichier de configuration suivant :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/wifi_backend.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[device]
wifi.backend=iwd</pre>
<p>Alternativement, vous pouvez installer <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkmanager-iwd/">networkmanager-iwd</a></span><sup><small>AUR</small></sup>, un paquet modifié configuré pour construire <i>NetworkManager</i> travaillant exclusivement avec <i>iwd</i>, avec la différence principale que <i>iwd</i> est requis et que <i>wpa_supplicant</i> peut être désinstallé après la construction.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Il se peut que vous deviez <a rel="nofollow" class="external text" href="https://iwd.wiki.kernel.org/networkmanager#converting_network_profiles">convertir les profils réseau NetworkManager existants</a> après être passé à <i>iwd</i>.</div>
<h3>
<span id="Ex.C3.A9cution_dans_un_espace_de_nom_de_r.C3.A9seau"></span><span class="mw-headline" id="Exécution_dans_un_espace_de_nom_de_réseau">Exécution dans un espace de nom de réseau</span>
</h3>
<p>Si vous souhaitez exécuter NetworkManager à l'intérieur d'un espace de noms réseau (par exemple, pour gérer un périphérique spécifique qui doit être utilisé par des applications sélectionnées), mettez le périphérique hors service avant de le déplacer vers l'espace de noms :
</p>
<pre>$ ip link set dev <i>MY_DEVICE</i> down
$ ip link set dev <i>MY_DEVICE</i> netns <i>MY_NAMESPACE</i>
$ ip netns exec <i>MON_Espace_de_Nom</i>. NetworkManager
...
$ ip netns exec <i>MY_NAMESPACE</i> killall NetworkManager
</pre>
<p>sinon NetworkManager échouera plus tard à établir la connexion avec une erreur <code>device is strictly unmanaged</code>.
</p>
<h3><span class="mw-headline" id="Connexion_automatique_au_VPN">Connexion automatique au VPN</span></h3>
<p>NetworkManager peut être configuré pour se connecter automatiquement à un VPN lors de la connexion à l'Internet, sur une base par réseau. La connexion VPN elle-même peut être ajoutée dans l'interface NetworkManager de GNOME, mais pour qu'elle utilise automatiquement le VPN, il faut utiliser <code>nmcli</code>. D'autres interfaces peuvent ne pas avoir cette limitation.
</p>
<p>Tout d'abord, assurez-vous de rendre la connexion VPN disponible pour tous les utilisateurs. Dans GNOME, il suffit de cocher une case dans l'onglet <code>details</code>. Sous l'onglet <code>Identity</code>, dans le champ du mot de passe, cliquez sur l'icône à droite dans le champ, et réglez-le sur <code>Store the password for all users</code>.
</p>
<p>Trouvez ensuite l'UUID de la connexion VPN, et ajoutez-le à <code>connection.secondaries</code> de la connexion Internet :
</p>
<pre># UUID=$(nmcli --get-values connection.uuid connection show <i>name-of-VPN-connection</i>)
# nmcli connection modify <i>name-of-Internet-connection</i> connection.secondaries "$UUID"
</pre>
<p>Maintenant, lorsque NetworkManager est redémarré et que vous vous connectez à la connexion Internet que vous avez configurée, vous devriez être automatiquement connecté au VPN.
</p>
<h2>
<span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span>
</h2>
<h3>
<span id="Pas_d.27invite_pour_le_mot_de_passe_des_r.C3.A9seaux_Wi-Fi_s.C3.A9curis.C3.A9s"></span><span class="mw-headline" id="Pas_d'invite_pour_le_mot_de_passe_des_réseaux_Wi-Fi_sécurisés">Pas d'invite pour le mot de passe des réseaux Wi-Fi sécurisés</span>
</h3>
<p>Lorsque vous essayez de vous connecter à un réseau Wi-Fi sécurisé, aucune demande de mot de passe ne s'affiche et aucune connexion n'est établie. Cela se produit lorsqu'aucun paquet de trousseau de clés n'est installé. Une solution simple consiste à installer <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-keyring">gnome-keyring</a></span>. Si vous souhaitez que les mots de passe soient stockés sous forme chiffrée, suivez <a href="../en/GNOME/Keyring.html" class="mw-redirect" title="GNOME Keyring">GNOME Keyring</a> pour configurer le <i>gnome-keyring-daemon</i>.
</p>
<h3>
<span id="Gestion_du_r.C3.A9seau_d.C3.A9sactiv.C3.A9e"></span><span class="mw-headline" id="Gestion_du_réseau_désactivée">Gestion du réseau désactivée</span>
</h3>
<p>Lorsque NetworkManager s'arrête mais que le fichier pid (état) n'est pas supprimé, vous consulterez un message <code>Gestion réseau désactivée</code>. Si cela se produit, supprimez le fichier manuellement :
</p>
<pre># rm /var/lib/NetworkManager/NetworkManager.state
</pre>
<h3>
<span id="Probl.C3.A8mes_avec_le_client_DHCP_interne"></span><span class="mw-headline" id="Problèmes_avec_le_client_DHCP_interne">Problèmes avec le client DHCP interne</span>
</h3>
<p>Si vous avez des problèmes pour obtenir une adresse IP en utilisant le client DHCP interne, envisagez d'utiliser un autre client DHCP, consultez <a href="#Client_DHCP">#Client DHCP</a> pour les instructions. Cette solution de contournement pourrait résoudre les problèmes des grands réseaux sans fil comme eduroam.
</p>
<h3>
<span id="Probl.C3.A8mes_DHCP_avec_dhclient"></span><span class="mw-headline" id="Problèmes_DHCP_avec_dhclient">Problèmes DHCP avec dhclient</span>
</h3>
<p>Si vous avez des problèmes pour obtenir une adresse IP via DHCP, essayez d'ajouter ce qui suit à votre <code>/etc/dhclient.conf</code> :
</p>
<pre> interface "eth0" {
   send dhcp-client-identifier 01:<i>aa:bb:cc:dd:ee:ff</i> ;
 }
</pre>
<p>Où <code> <i>aa:bb:cc:dd:ee:ff</i></code> est l'adresse MAC de cette NIC. L'adresse MAC peut être trouvée en utilisant la commande <code>ip link show <i>interface</i></code> du paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>.
</p>
<h3>
<span id="Modem_3G_non_d.C3.A9tect.C3.A9"></span><span class="mw-headline" id="Modem_3G_non_détecté">Modem 3G non détecté</span>
</h3>
<p>Consultez <a href="../en/Mobile_broadband_modem.html#NetworkManager" title="Mobile broadband modem">Mobile broadband modem#NetworkManager</a>.
</p>
<h3>
<span id="D.C3.A9sactiver_le_WLAN_sur_les_ordinateurs_portables"></span><span class="mw-headline" id="Désactiver_le_WLAN_sur_les_ordinateurs_portables">Désactiver le WLAN sur les ordinateurs portables</span>
</h3>
<p>Parfois, NetworkManager ne fonctionne pas lorsque vous désactivez votre adaptateur Wi-Fi avec un interrupteur sur votre ordinateur portable et que vous essayez de le réactiver par la suite. Ceci est souvent un problème avec <i>rfkill</i>. Pour vérifier si le pilote notifie <i>rfkill</i> de l'état de l'adaptateur sans fil, utilisez :
</p>
<pre>$ watch -n1 rfkill list all
</pre>
<p>Si un identifiant reste bloqué après avoir allumé l'adaptateur, vous pouvez essayer de le débloquer manuellement avec (où X est le numéro de l'identifiant fourni par la sortie ci-dessus) :
</p>
<pre># rfkill event unblock X
</pre>
<h3>
<span id="Les_param.C3.A8tres_d.27adresse_IP_statique_se_transforment_en_DHCP"></span><span class="mw-headline" id="Les_paramètres_d'adresse_IP_statique_se_transforment_en_DHCP">Les paramètres d'adresse IP statique se transforment en DHCP</span>
</h3>
<p>En raison d'un bogue non résolu, lors de la modification des connexions par défaut à une adresse IP statique, <code>nm-applet</code> peut ne pas stocker correctement le changement de configuration, et reviendra au DHCP automatique.
</p>
<p>Pour contourner ce problème, vous devez modifier la connexion par défaut (par exemple "Auto eth0") dans <code>nm-applet</code>, changer le nom de la connexion (par exemple "my eth0"), décocher la case "Available to all users", modifier les paramètres de votre adresse IP statique comme vous le souhaitez, et cliquer sur <b>Appliquer</b>.  Cela permettra d'enregistrer une nouvelle connexion avec le nom donné.
</p>
<p>Ensuite, vous voudrez faire en sorte que la connexion par défaut ne se connecte pas automatiquement.  Pour ce faire, exécutez <code>nm-connection-editor</code>. (<b>not</b> en tant que root). Dans l'éditeur de connexion, modifiez la connexion par défaut (par exemple "Auto eth0") et décochez "Connecter automatiquement".  Cliquez sur <b>Appliquer</b> et fermez l'éditeur de connexion.
</p>
<h3>
<span id="Impossible_de_modifier_les_connexions_en_tant_qu.27utilisateur_normal"></span><span class="mw-headline" id="Impossible_de_modifier_les_connexions_en_tant_qu'utilisateur_normal">Impossible de modifier les connexions en tant qu'utilisateur normal</span>
</h3>
<p>Consultez <a href="#Configurer_les_permissions_de_PolicyKit">#Configurer les permissions de PolicyKit</a>.
</p>
<h3>
<span id="Oublier_le_r.C3.A9seau_sans_fil_cach.C3.A9"></span><span class="mw-headline" id="Oublier_le_réseau_sans_fil_caché">Oublier le réseau sans fil caché</span>
</h3>
<p>Comme les réseaux cachés ne sont pas affichés dans la liste de sélection de la vue Sans fil, ils ne peuvent pas être oubliés (supprimés) avec l'interface graphique. Vous pouvez en supprimer un avec la commande suivante :
</p>
<pre># rm /etc/NetworkManager/system-connections/<i>SSID</i>
</pre>
<p>Cela fonctionne également pour toute autre connexion.
</p>
<h3><span class="mw-headline" id="Le_VPN_ne_fonctionne_pas_dans_GNOME">Le VPN ne fonctionne pas dans GNOME</span></h3>
<p>Lorsque vous configurez des connexions OpenConnect ou vpnc dans NetworkManager en utilisant GNOME, il arrive que vous ne consultiez jamais la boîte de dialogue et que l'erreur suivante apparaisse dans <code>/var/log/errors.log</code> :
</p>
<pre>localhost NetworkManager[399]: &lt;error&gt; [1361719690.10506] [nm-vpn-connection.c:1405] get_secrets_cb(): Failed to request VPN secrets #3: (6) No agents were available for this request.
</pre>
<p>Ceci est dû au fait que l'applet NetworkManager de GNOME s'attend à ce que les scripts de dialogue se trouvent dans <code>/usr/lib/gnome-shell</code>, alors que les paquets de NetworkManager les placent dans <code>/usr/lib/networkmanager</code>.
Comme correction "temporaire" (ce bogue existe depuis un certain temps maintenant), faites le(s) lien(s) symbolique(s) suivant(s) :
</p>
<ul>
<li>Pour OpenConnect : <code>ln -s /usr/lib/networkmanager/nm-openconnect-auth-dialog /usr/lib/gnome-shell/</code>
</li>
<li>Pour le VPNC (c'est-à-dire le VPN Cisco) : <code>ln -s /usr/lib/networkmanager/nm-vpnc-auth-dialog /usr/lib/gnome-shell/</code>.</li>
</ul>
<p>Il peut être nécessaire d'effectuer cette opération pour d'autres plugins VPN de NetworkManager, mais ce sont les deux plus courants.
</p>
<h3>
<span id="Impossible_de_se_connecter_aux_r.C3.A9seaux_sans_fil_europ.C3.A9ens_visibles"></span><span class="mw-headline" id="Impossible_de_se_connecter_aux_réseaux_sans_fil_européens_visibles">Impossible de se connecter aux réseaux sans fil européens visibles</span>
</h3>
<p>Les puces WLAN sont livrées avec un <a href="../en/Network_configuration/Wireless.html#Respecting_the_regulatory_domain" title="Network configuration/Wireless">domaine réglementaire</a> par défaut. Si votre point d'accès ne fonctionne pas dans ces limites, vous ne pourrez pas vous connecter au réseau. Il est facile de résoudre ce problème :
</p>
<ol>
<li>
<a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireless-regdb">wireless-regdb</a></span>
</li>
<li>Décommentez le code pays correct dans <code>/etc/conf.d/wireless-regdom</code>.</li>
<li>Redémarrez le système, car le paramètre n'est lu qu'au démarrage.</li>
</ol>
<h3>
<span id="La_connexion_automatique_au_VPN_au_d.C3.A9marrage_ne_fonctionne_pas"></span><span class="mw-headline" id="La_connexion_automatique_au_VPN_au_démarrage_ne_fonctionne_pas">La connexion automatique au VPN au démarrage ne fonctionne pas</span>
</h3>
<p>Le problème se produit lorsque le système (c'est-à-dire NetworkManager s'exécutant en tant qu'utilisateur root) tente d'établir une connexion VPN, mais le mot de passe n'est pas accessible car il est stocké dans le trousseau GNOME d'un utilisateur particulier. 
</p>
<p>Une solution est de garder le mot de passe de votre VPN en clair, comme décrit dans l'étape (2.) de <a href="#Utiliser_le_dispatcher_pour_se_connecter_%C3%A0_un_VPN_apr%C3%A8s_l'%C3%A9tablissement_d'une_connexion_r%C3%A9seau">#Utiliser le dispatcher pour se connecter à un VPN après l'établissement d'une connexion réseau</a>. 
</p>
<p>Vous n'avez plus besoin d'utiliser le répartiteur décrit à l'étape (1.) pour vous connecter automatiquement, si vous utilisez la nouvelle option "auto-connect VPN" de l'interface graphique <code>nm-applet</code>.
</p>
<h3>
<span id="Goulot_d.27.C3.A9tranglement_Systemd"></span><span class="mw-headline" id="Goulot_d'étranglement_Systemd">Goulot d'étranglement Systemd</span>
</h3>
<p>Avec le temps, les fichiers journaux (<code>/var/log/journal</code>) peuvent devenir très volumineux. Cela peut avoir un impact important sur les performances de démarrage lors de l'utilisation de NetworkManager, consultez : <a href="../fr/Systemd.html#Le_temps_de_d%C3%A9marrage_augmente_avec_le_temps" title="Systemd (Français)">Systemd (Français)#Le temps de démarrage augmente avec le temps</a>.
</p>
<h3>
<span id="D.C3.A9connexions_r.C3.A9guli.C3.A8res_du_r.C3.A9seau.2C_latence_et_paquets_perdus_.28WiFi.29"></span><span class="mw-headline" id="Déconnexions_régulières_du_réseau,_latence_et_paquets_perdus_(WiFi)">Déconnexions régulières du réseau, latence et paquets perdus (WiFi)</span>
</h3>
<p>NetworkManager effectue un scan toutes les 2 minutes.
</p>
<p>Certains pilotes WiFi ont des problèmes lors de la recherche de stations de base lorsqu'ils sont connectés/associés. Les symptômes incluent des déconnexions/reconnexions VPN et des paquets perdus, des pages Web qui ne se chargent pas puis se rafraîchissent correctement.
</p>
<p>L'exécution de <code>journalctl -f</code> en tant que root indiquera que cela se produit, des messages comme les suivants seront contenus dans les journaux à intervalles réguliers.
</p>
<pre>NetworkManager[410] : &lt;info&gt; (wlp3s0) : roamed from BSSID 00:14:48:11:20:CF (my-wifi-name) to (none) ((none))
</pre>
<p>Si le roaming n'est pas important, le comportement de balayage périodique peut être désactivé en verrouillant le BSSID du point d'accès dans le profil de connexion WiFi.
</p>
<h3>
<span id="Impossible_d.27allumer_le_Wi-Fi_avec_un_ordinateur_portable_Lenovo_.28IdeaPad.2C_Legion.2C_etc..29"></span><span class="mw-headline" id="Impossible_d'allumer_le_Wi-Fi_avec_un_ordinateur_portable_Lenovo_(IdeaPad,_Legion,_etc.)">Impossible d'allumer le Wi-Fi avec un ordinateur portable Lenovo (IdeaPad, Legion, etc.)</span>
</h3>
<p>Il y a un problème avec le module <code>ideapad_laptop</code> sur certains modèles Lenovo, le pilote Wi-Fi signalant à tort un blocage logiciel. La carte peut toujours être manipulée avec <code>netctl</code>, mais les gestionnaires comme NetworkManager ne fonctionnent pas. Vous pouvez vérifier que c'est bien là le problème en consultant la sortie de <code>rfkill list</code> après avoir basculé votre commutateur matériel et en consultant la persistance du blocage logiciel.
</p>
<p><a href="../fr/Kernel_module.html#Gestion_manuelle_des_modules" title="Kernel module (Français)">Décharger</a> le module <code>ideapad_laptop</code> devrait résoudre ce problème. (<b>attention</b> : ceci peut désactiver le clavier et le touchpad de l'ordinateur portable aussi !).
</p>
<h3>
<span id="D.C3.A9sactiver_l.27envoi_du_nom_d.27h.C3.B4te"></span><span class="mw-headline" id="Désactiver_l'envoi_du_nom_d'hôte">Désactiver l'envoi du nom d'hôte</span>
</h3>
<p>NetworkManager envoie par défaut le nom d'hôte au serveur DHCP. L'envoi du nom d'hôte ne peut être désactivé que par connexion et non globalement (<a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/issues/584">Rapport n°584</a>).
</p>
<p>Pour désactiver l'envoi du nom d'hôte au serveur DHCP pour une connexion spécifique, ajoutez ce qui suit à votre fichier de connexion réseau :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/system-connections/<i>your_connection_file</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[ipv4]
dhcp-send-hostname=false
...
[ipv6]
dhcp-send-hostname=false
...</pre>
<h3>
<span id="nm-applet_dispara.C3.AEt_dans_i3wm"></span><span class="mw-headline" id="nm-applet_disparaît_dans_i3wm">nm-applet disparaît dans i3wm</span>
</h3>
<p>Si vous utilisez le <code>xfce4-notifyd.service</code> pour les notifications, <a href="../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" class="mw-redirect" title="Éditez">éditez</a> l'unité et ajoutez ce qui suit :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/user/xfce4-notifyd.service.d/display_env.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
Environnement="DISPLAY=:0.0"</pre>
<p>Après avoir rechargé les daemons, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">redémarrez</a> <code>xfce4-notifyd.service</code>. Quittez i3 et redémarrez-le. L'applet devrait apparaître dans la zone de notification.
</p>
<h3>
<span id="Les_ic.C3.B4nes_de_la_barre_d.27.C3.A9tat_syst.C3.A8me_de_nm-applet_s.27affichent_mal"></span><span class="mw-headline" id="Les_icônes_de_la_barre_d'état_système_de_nm-applet_s'affichent_mal">Les icônes de la barre d'état système de nm-applet s'affichent mal</span>
</h3>
<p>Actuellement, les icônes de la barre d'état système de nm-applet sont dessinées l'une sur l'autre, c'est-à-dire que l'icône indiquant la puissance du réseau sans fil peut s'afficher au-dessus de l'icône indiquant l'absence de connexion filaire.
Il s'agit apparemment d'un bogue/problème de GTK3 : <a rel="nofollow" class="external free" href="https://gitlab.gnome.org/GNOME/gtk/issues/1280">https://gitlab.gnome.org/GNOME/gtk/issues/1280</a> .
</p>
<p>Une version corrigée de GTK3 existe dans AUR, qui apparemment corrige le bogue de l'icône de la barre d'état : <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk3-classic/">gtk3-classic</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Unit.C3.A9_dbus-org.freedesktop.resolve1.service_non_trouv.C3.A9e"></span><span class="mw-headline" id="Unité_dbus-org.freedesktop.resolve1.service_non_trouvée">Unité dbus-org.freedesktop.resolve1.service non trouvée</span>
</h3>
<p>Si <code>systemd-resolved.service</code> n'est pas démarré, NetworkManager essaiera de le démarrer en utilisant D-Bus et échouera :
</p>
<pre>dbus-daemon[991]: [system] Activating via systemd: service name='org.freedesktop.resolve1' unit='dbus-org.freedesktop.resolve1.service' requested by ':1.23' (uid=0 pid=1012 comm="/usr/bin/NetworkManager --no-daemon ")
dbus-daemon[991]: [system] Activation via systemd failed for unit 'dbus-org.freedesktop.resolve1.service': Unit dbus-org.freedesktop.resolve1.service not found.
dbus-daemon[991]: [system] Activating via systemd: service name='org.freedesktop.resolve1' unit='dbus-org.freedesktop.resolve1.service' requested by ':1.23' (uid=0 pid=1012 comm="/usr/bin/NetworkManager --no-daemon ")
</pre>
<p>Ceci est dû au fait que NetworkManager essaiera d'envoyer les informations DNS à <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a> sans tenir compte du paramètre <code>main.dns=</code> dans <span class="plainlinks archwiki-template-man" title="$ man 5 NetworkManager.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/NetworkManager.conf.5">NetworkManager.conf(5)</a></span>. <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager/commit/d4eb4cb45f41b1751cacf71da558bf8f0988f383">[7]</a>
</p>
<p>Ceci peut être désactivé avec un fichier de configuration dans <code>/etc/NetworkManager/conf.d/</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/no-systemd-resolved.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[main]
systemd-resolved=false</pre>
<p>Consultez <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/62138">FS#62138</a>.
</p>
<h3>
<span id="Les_secrets_.C3.A9taient_requis.2C_mais_non_fournis"></span><span class="mw-headline" id="Les_secrets_étaient_requis,_mais_non_fournis">Les secrets étaient requis, mais non fournis</span>
</h3>
<p>Si vous tentez de vous connecter à un réseau en utilisant <code>nmcli device wifi connect <i>SSID</i> password <i>password</i></code> et que vous recevez l'erreur suivante :
</p>
<pre>Error: Connection activation failed: (7) Secrets were required, but not provided
</pre>
<p>Cette erreur peut avoir de nombreuses causes et vous devez lire le <a href="../fr/Systemd/Journal.html" title="Systemd (Français)/Journal (Français)">journal</a> (filtrez-le avec <code>-u NetworkManager</code>). Par exemple, si NetworkManager a pris trop de temps pour établir la connexion, il croira que le mot de passe est incorrect :
</p>
<pre>NetworkManager[1372]: &lt;warn&gt;  [1643991888.3808] device (wlan0): Activation: (wifi) association took too long
NetworkManager[1372]: &lt;info&gt;  [1643991888.3809] device (wlan0): state change: config -&gt; need-auth (reason 'none', sys-iface-state: 'managed')
NetworkManager[1372]: &lt;warn&gt;  [1643991888.3838] device (wlan0): Activation: (wifi) asking for new secrets
</pre>
<p>Vous pouvez essayer de supprimer le profil de connexion et d'en créer un nouveau :
</p>
<pre>$ nmcli connection delete <i>SSID</i> (supprimer le SSID)
$ nmcli device wifi connect <i>SSID</i> password <i>mot de passe</i>.
</pre>
<p>Vous pouvez également essayer de désactiver la randomisation des adresses MAC :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/NetworkManager/conf.d/wifi_rand_mac.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[device]
wifi.scan-rand-mac-address=no</pre>
<h3><span class="mw-headline" id="Connexion_WPA_Enterprise_avec_iwd">Connexion WPA Enterprise avec iwd</span></h3>
<p>Si vous essayez de vous connecter à un réseau WPA Enterprise comme 'eduroam' avec NetworkManager avec le <a href="#Utiliser_iwd_comme_backend_Wi-Fi">backend iwd</a>, vous obtiendrez l'erreur suivante de NetworkManager :
</p>
<pre> Connection 'eduroam' is not avialable on device wlan0 because profile is not compatible with device (802.1x connections must have IWD provisioning files)
</pre>
<p>Ceci est dû au fait que NetworkManager ne peut pas configurer un réseau WPA Enterprise. Vous devez donc le configurer en utilisant un fichier de configuration iwd <code>/var/lib/iwd/<i>essid</i>.8021x</code> comme décrit dans <a href="../en/Iwd.html#WPA_Enterprise" title="Iwd">iwd#WPA Enterprise</a>.
</p>
<h3>
<span id=".C3.89chec_de_la_demande_de_secrets_VPN"></span><span class="mw-headline" id="Échec_de_la_demande_de_secrets_VPN">Échec de la demande de secrets VPN</span>
</h3>
<p>Si vous obtenez cette erreur :
</p>
<pre>Failed to request VPN secrets #1 : No agents were available for this request.
</pre>
<p>C'est soit parce que le mot de passe est vide ou que vous devez <a href="#Configurer_les_permissions_de_PolicyKit">configurer les permissions PolicyKit</a>.
</p>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://blogs.gnome.org/dcbw/2015/02/16/networkmanager-for-administrators-part-1/">NetworkManager pour les administrateurs Partie 1</a></li>
<li><a href="https://en.wikipedia.org/wiki/NetworkManager" class="extiw" title="wikipedia:NetworkManager">Wikipedia:NetworkManager</a></li>
<li><a rel="nofollow" class="external text" href="https://networkmanager.dev/">Site officiel de NetworkManager</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fr/Category:Network_managers.html" title="Category:Network managers (Français)">Network managers (Français)</a></li>
<li><a href="../fr/Category:Red_Hat.html" title="Category:Red Hat (Français)">Red Hat (Français)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=NetworkManager_(Fran%C3%A7ais)&amp;oldid=792779">https://wiki.archlinux.org/index.php?title=NetworkManager_(Français)&amp;oldid=792779</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 19 November 2023, at 07:20.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
