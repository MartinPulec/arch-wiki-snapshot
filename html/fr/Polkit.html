<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>polkit (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Polkit_Français rootpage-Polkit_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
			<button aria-controls="toc-Installation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Installation subsection</span>
			</button>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
			<li id="toc-Agents_d'authentification" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Agents_d'authentification">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Agents d'authentification</div>
			</a>
			
			<ul id="toc-Agents_d'authentification-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-Actions" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Actions">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Actions</div>
			</a>
			
			<ul id="toc-Actions-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Règles_d'autorisation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#R%C3%A8gles_d'autorisation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Règles d'autorisation</div>
			</a>
			
			<ul id="toc-Règles_d'autorisation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Identités_d'administrateur" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Identit%C3%A9s_d'administrateur">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Identités d'administrateur</div>
			</a>
			
			<ul id="toc-Identités_d'administrateur-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Exemples" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Exemples">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Exemples</div>
		</a>
		
			<button aria-controls="toc-Exemples-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Exemples subsection</span>
			</button>
		
		<ul id="toc-Exemples-sublist" class="vector-toc-list">
			<li id="toc-Débogage/journalisation" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9bogage/journalisation">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Débogage/journalisation</div>
			</a>
			
			<ul id="toc-Débogage/journalisation-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Désactiver_la_suspension_et_la_mise_en_veille_prolongée" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9sactiver_la_suspension_et_la_mise_en_veille_prolong%C3%A9e">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Désactiver la suspension et la mise en veille prolongée</div>
			</a>
			
			<ul id="toc-Désactiver_la_suspension_et_la_mise_en_veille_prolongée-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Contournement_de_l'invite_de_mot_de_passe" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Contournement_de_l'invite_de_mot_de_passe">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Contournement de l'invite de mot de passe</div>
			</a>
			
			<ul id="toc-Contournement_de_l'invite_de_mot_de_passe-sublist" class="vector-toc-list">
				<li id="toc-Globalement" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Globalement">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Globalement</div>
			</a>
			
			<ul id="toc-Globalement-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Pour_des_actions_spécifiques" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pour_des_actions_sp%C3%A9cifiques">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Pour des actions spécifiques</div>
			</a>
			
			<ul id="toc-Pour_des_actions_spécifiques-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Udisks" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Udisks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.3</span>Udisks</div>
			</a>
			
			<ul id="toc-Udisks-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Autoriser_la_gestion_d'unités_systemd_individuelles_par_des_utilisateurs_réguliers" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Autoriser_la_gestion_d'unit%C3%A9s_systemd_individuelles_par_des_utilisateurs_r%C3%A9guliers">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.4</span>Autoriser la gestion d'unités systemd individuelles par des utilisateurs réguliers</div>
			</a>
			
			<ul id="toc-Autoriser_la_gestion_d'unités_systemd_individuelles_par_des_utilisateurs_réguliers-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Voir aussi</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">polkit (Français)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 5 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-5" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">5 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/PolicyKit" title="PolicyKit – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Polkit.html" title="Polkit – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Polkit" title="Polkit – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Polkit.html" title="Polkit – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Polkit" title="Polkit – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Polkit.html" title="Polkit">polkit</a>. Date de la dernière traduction: 2022-10-04. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Polkit&amp;diff=0&amp;oldid=751176">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../fr/General_troubleshooting.html#Permissions_de_session" title="General troubleshooting (Français)">General troubleshooting (Français)#Permissions de session</a></li>
<li><a href="../fr/Sudo.html" title="Sudo (Français)">Sudo (Français)</a></li>
<li><a href="../fr/Users_and_groups.html" title="Users and groups (Français)">Users and groups (Français)</a></li>
</ul>
</div>
<p>Traduit de <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/polkit/">la page d'accueil de polkit</a> :
</p>
<dl><dd>polkit est une boîte à outils au niveau application pour définir et gérer la politique qui permet aux processus non privilégiés de parler aux processus privilégiés : Il s'agit d'un cadre permettant de centraliser le processus de prise de décision concernant l'octroi de l'accès aux opérations privilégiées pour les applications non privilégiées.</dd></dl>
<p>Polkit est utilisé pour contrôler les privilèges à l'échelle du système. Il fournit un moyen organisé pour les processus non privilégiés de communiquer avec les processus privilégiés. Contrairement à des systèmes tels que sudo, il n'accorde pas l'autorisation root à un processus entier, mais permet plutôt un niveau de contrôle plus fin de la politique système centralisée.
</p>
<p>Polkit fonctionne en délimitant des actions distinctes, par exemple l'exécution de GParted, et en délimitant les utilisateurs par groupe ou par nom, par exemple les membres du groupe wheel. Il définit ensuite comment - le cas échéant - ces utilisateurs sont autorisés à effectuer ces actions, par exemple en s'identifiant comme membres du groupe en tapant leur mot de passe.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit">polkit</a></span>.
</p>
<h3>
<span id="Agents_d.27authentification"></span><span class="mw-headline" id="Agents_d'authentification">Agents d'authentification</span>
</h3>
<p>Un agent d'authentification est utilisé pour que l'utilisateur d'une session prouve qu'il est bien l'utilisateur (en s'authentifiant en tant qu'utilisateur) ou un utilisateur administratif (en s'authentifiant en tant qu'administrateur). Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit">polkit</a></span> contient un agent d'authentification textuel appelé 'pkttyagent', qui est utilisé comme solution de repli générale. 
</p>
<p>Si vous utilisez un environnement graphique, assurez-vous qu'un agent d'authentification graphique est installé et <a href="../en/Autostarting.html" title="Autostarting">démarré automatiquement</a> à la connexion.
</p>
<p><a href="../en/Cinnamon.html" title="Cinnamon">Cinnamon</a>, <a href="../en/Category:Deepin.html" class="mw-redirect" title="Deepin">Deepin</a>, <a href="../en/GNOME.html" class="mw-redirect" title="GNOME (Français)">GNOME</a>, <a href="../en/GNOME/Flashback.html" class="mw-redirect" title="GNOME Flashback">GNOME Flashback</a>, <a href="../en/KDE.html" class="mw-redirect" title="KDE (Français)">KDE</a>, <a href="../fr/LXDE.html" title="LXDE (Français)">LXDE</a>, <a href="../fr/LXQt.html" title="LXQt (Français)">LXQt</a>, <a href="../en/MATE.html" class="mw-redirect" title="MATE (Français)">MATE</a>, theShell et <a href="../en/Xfce.html" class="mw-redirect" title="Xfce (Français)">Xfce</a> ont déjà un agent d'authentification.
Dans les autres environnements de bureau, vous devez choisir l'une des implémentations suivantes :
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxqt-policykit">lxqt-policykit</a></span>, qui fournit <code>/usr/bin/lxqt-policykit-agent</code>}.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxsession">lxsession</a></span> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxsession-gtk3">lxsession-gtk3</a></span>, qui fournit <code>/usr/bin/lxpolkit</code>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mate-polkit">mate-polkit</a></span>, qui fournit <code>/usr/lib/mate-polkit/polkit-mate-authentication-agent-1</code>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/polkit-efl-git/">polkit-efl-git</a></span><sup><small>AUR</small></sup>, qui fournit <code>/usr/bin/polkit-efl-authentification-agent-1</code>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit-gnome">polkit-gnome</a></span>, qui fournit <code>/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1</code>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit-kde-agent">polkit-kde-agent</a></span>, qui fournit <code>/usr/lib/polkit-kde-authentification-agent-1</code>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ts-polkitagent/">ts-polkitagent</a></span><sup><small>AUR</small></sup>, qui fournit <code>/usr/lib/ts-polkitagent</code>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xfce-polkit/">xfce-polkit</a></span><sup><small>AUR</small></sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xfce-polkit-git/">xfce-polkit-git</a></span><sup><small>AUR</small></sup>, qui fournit <code>/usr/lib/xfce-polkit/xfce-polkit</code>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/polkit-dumb-agent-git/">polkit-dumb-agent-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>, agent indépendant de bureau minimaliste qui fournit <code>/usr/bin/polkit-dumb-agent</code>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Avant de continuer, vérifiez votre configuration de démarrage automatique en consultant la liste des processus. Par exemple, avec <code>pgrep -af polkit-gnome</code>.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Ne modifiez pas les fichiers de permission par défaut des paquets, car ils peuvent être écrasés lors des mises à jour des paquets.</div>
<p>Les définitions de Polkit peuvent être divisées en deux sortes :
</p>
<ul>
<li>Les <b>Actions</b> sont définies dans des fichiers XML <code>.policy</code> situés dans <code>/usr/share/polkit-1/actions</code>. Chaque action est associée à un ensemble de permissions par défaut (par exemple, vous devez vous identifier en tant qu'administrateur pour utiliser l'action GParted). Les valeurs par défaut peuvent être remplacées mais éditer les fichiers d'actions n'est PAS la bonne méthode.</li>
<li>Les <b>règles d'autorisation</b> sont définies dans les fichiers <code>.rules</code> JavaScript. On les trouve à deux endroits :
<ul>
<li>
<code>/usr/share/polkit-1/rules.d</code> pour les paquets tiers peuvent utiliser (bien que peu, voire aucun, ne le fasse)</li>
<li>
<code>/etc/polkit-1/rules.d</code> pour la configuration locale.</li>
</ul>
</li>
</ul>
<p>Polkit fonctionne au-dessus des systèmes de permissions existants dans Linux - appartenance à un groupe, statut d'administrateur - il ne les remplace pas. Les fichiers .rules désignent un sous-ensemble d'utilisateurs, font référence à une (ou plusieurs) des actions spécifiées dans les fichiers actions, et déterminent avec quelles restrictions ces actions peuvent être effectuées par ces utilisateurs. Par exemple, un fichier de règles peut annuler l'obligation par défaut pour tous les utilisateurs de s'authentifier en tant qu'administrateur lorsqu'ils utilisent GParted, en déterminant qu'un utilisateur spécifique n'a pas besoin de le faire. Un autre exemple : Un certain utilisateur n'est pas du tout autorisé à utiliser GParted.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Cela n'empêche pas d'exécuter GParted par des moyens qui ne respectent pas polkit, comme la ligne de commande. Par conséquent, polkit devrait être utilisé pour élargir l'accès aux services privilégiés pour les utilisateurs non privilégiés, plutôt que d'essayer de restreindre les droits des utilisateurs (semi-)privilégiés. Pour des raisons de sécurité, <a href="../fr/Sudo.html" title="Sudo (Français)">sudoers</a> reste la meilleure solution.</div>
<h3><span class="mw-headline" id="Actions">Actions</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Pour afficher les actions de Policykit dans une interface graphique, installez le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/polkit-explorer-git/">polkit-explorer-git</a></span><sup><small>AUR</small></sup>.</div>
<p>Les actions disponibles via polkit dépendent des paquets que vous avez installés. Certaines sont utilisées dans plusieurs environnements de bureau <i>(org.freedesktop.*)</i>, certaines sont spécifiques à un DE <i>(org.gnome.*)</i> et d'autres sont spécifiques à un seul programme <i>(org.gnome.gparted.policy)</i>. La commande <code>pkaction</code> liste toutes les actions définies dans <code>/usr/share/polkit-1/actions</code>} pour une référence rapide.
</p>
<p>Pour avoir une idée de ce que polkit peut faire, voici quelques groupes d'actions couramment utilisés :
</p>
<ul>
<li>Les actions de <b><a href="../fr/Systemd.html" title="Systemd (Français)">systemd-logind</a></b> <i>(org.freedesktop.login1.policy)</i> régies par polkit comprennent la mise hors tension, le redémarrage, la suspension et l'hibernation du système, y compris lorsque d'autres utilisateurs peuvent encore être connectés.</li>
<li>Les actions de <b><a href="../en/Udisks.html" title="Udisks">udisks</a></b> <i>(org.freedesktop.udisks2.policy)</i> régies par polkit comprennent le montage de systèmes de fichiers et le déverrouillage de périphériques chiffrés.</li>
<li>Les actions de <b><a href="../fr/NetworkManager.html" title="NetworkManager (Français)">NetworkManager</a></b> <i>(org.freedesktop.NetworkManager.policy)</i> régies par polkit incluent l'activation et la désactivation du réseau, du wifi ou du haut débit mobile.</li>
</ul>
<p>Chaque action est définie dans une balise <code>&lt;action&gt;</code> dans un fichier .policy. Le fichier <code>org.gnome.gparted.policy</code> contient une seule action et ressemble à ceci :
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE policyconfig PUBLIC
 "-//freedesktop//DTD PolicyKit Policy Configuration 1.0//FR"
 "http://www.freedesktop.org/software/polkit/policyconfig-1.dtd"&gt;
&lt;policyconfig&gt;

  &lt;action id="org.gnome.gparted"&gt;
    &lt;message&gt;Une authentification est nécessaire pour exécuter l'éditeur de partition GParted&lt;/message&gt;.
    &lt;icon_name&gt;gparted&lt;/icon_name&gt;
    &lt;defaults&gt;
      &lt;allow_any&gt;auth_admin&lt;/allow_any&gt;
      &lt;allow_inactive&gt;auth_admin&lt;/allow_inactive&gt;
      &lt;allow_active&gt;auth_admin&lt;/allow_active&gt;
    &lt;/defaults&gt;
    &lt;annotate key="org.freedesktop.policykit.exec.path"&gt;/usr/bin/gparted&lt;/annotate&gt;
    &lt;annotate key="org.freedesktop.policykit.exec.allow_gui"&gt;true&lt;/annotate&gt;
  &lt;/action&gt;

&lt;/policyconfig&gt;
</pre>
<p>L'attribut <b>id</b> est la commande réelle envoyée à <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a>, la balise <b>message</b> est l'explication à l'utilisateur lorsque l'authentification est requise et le <b>icon_name</b> est en quelque sorte évident. 
</p>
<p>La balise <b>defaults</b> est l'endroit où se trouvent les permissions ou leur absence. Elle contient trois paramètres : <b>allow_any</b>, <b>allow_inactive</b>, et <b>allow_active</b>. Les sessions inactives sont généralement des sessions à distance (SSH, VNC, etc.) alors que les sessions actives sont connectées directement à la machine sur un TTY ou un écran X. allow_any est le paramètre qui englobe les deux scénarios. 
</p>
<p>Pour chacun de ces paramètres, les options suivantes sont disponibles :
</p>
<ul>
<li>
<i>no</i> : L'utilisateur n'est pas autorisé à effectuer l'action. Il n'y a donc pas besoin d'authentification.</li>
<li>
<i>oui</i> : L'utilisateur est autorisé à effectuer l'action sans aucune authentification.</li>
<li>
<i>auth_self</i> : L'authentification est nécessaire mais l'utilisateur ne doit pas nécessairement être un utilisateur administratif.</li>
<li>
<i>auth_admin</i> : L'authentification en tant qu'utilisateur administratif est requise.</li>
<li>
<i>auth_self_keep</i> : Identique à auth_self mais, comme sudo, l'autorisation dure quelques minutes.</li>
<li>
<i>auth_admin_keep</i> : Identique à auth_admin mais, comme sudo, l'autorisation dure quelques minutes.</li>
</ul>
<p>Ce sont les paramètres par défaut et, à moins qu'ils ne soient remplacés dans une configuration ultérieure, ils seront valables pour tous les utilisateurs.
</p>
<p>Comme on peut le consulter dans l'action GParted, les utilisateurs doivent s'authentifier en tant qu'administrateurs pour pouvoir utiliser GParted, que la session soit active ou inactive.
</p>
<h3>
<span id="R.C3.A8gles_d.27autorisation"></span><span class="mw-headline" id="Règles_d'autorisation">Règles d'autorisation</span>
</h3>
<p>Les règles d'autorisation qui supplantent les paramètres par défaut sont disposées dans un ensemble de répertoires comme décrit ci-dessus. Pour tout ce qui concerne la configuration personnelle d'un seul système, seul <code>/etc/polkit-1/rules.d</code> doit être utilisé. 
</p>
<p>La méthode <code>addRule()</code> est utilisée pour ajouter une fonction qui peut être appelée chaque fois qu'un contrôle d'autorisation pour l'action et le sujet est effectué. Les fonctions sont appelées dans l'ordre où elles ont été ajoutées jusqu'à ce qu'une des fonctions renvoie une valeur. Ainsi, pour ajouter une règle d'autorisation qui est traitée avant les autres règles, mettez-la dans un fichier dans <code>/etc/polkit-1/rules.d</code> avec un nom qui trie avant les autres fichiers de règles, par exemple <code>00-early-checks.rules</code>.
</p>
<p>La disposition des fichiers .rules est assez explicite :
</p>
<pre>/* Autoriser les utilisateurs du groupe admin à exécuter GParted sans authentification */
polkit.addRule(function(action, subject) {
    si (action.id == "org.gnome.gparted" &amp;&amp;
        subject.isInGroup("admin")) {
        return polkit.Result.YES ;
    }
}) ;
</pre>
<p>Dans la fonction, nous vérifions l'ID de l'action spécifiée <i>(org.gnome.gparted)</i> et le groupe de l'utilisateur <i>(admin)</i>, puis nous retournons la valeur "yes".
</p>
<h3>
<span id="Identit.C3.A9s_d.27administrateur"></span><span class="mw-headline" id="Identités_d'administrateur">Identités d'administrateur</span>
</h3>
<p>La méthode <code>addAdminRule()</code> est utilisée pour ajouter une fonction qui peut être appelée lorsque l'authentification de l'administrateur est requise. La fonction est utilisée pour spécifier quelles identités peuvent être utilisées pour l'authentification de l'administrateur pour le contrôle des autorisations identifié par l'action et le sujet. Les fonctions ajoutées sont appelées dans l'ordre où elles ont été ajoutées jusqu'à ce que l'une des fonctions renvoie une valeur. 
</p>
<p>La configuration par défaut des identités de l'administrateur est contenue dans le fichier <code>50-default.rules</code>. Toute modification de cette configuration doit être effectuée en copiant le fichier dans, par exemple, <code>40-default.rules</code> et en modifiant ce fichier.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/50-default.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">polkit.addAdminRule(function(action, subject) {
    return ["unix-group:wheel"] ;
});</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Votre utilisateur doit être listé comme membre du groupe dans <code>/etc/group</code>. Le fait de l'avoir simplement comme groupe principal ne fonctionne pas avec polkit. Consultez le <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/polkit/polkit/-/issues/131">rapport 131 de polkit</a>.</div>
<p>La seule partie à modifier (une fois copiée) est le tableau de retour de la fonction : en tant que qui un utilisateur doit-il s'authentifier lorsqu'on lui demande de s'authentifier en tant qu'utilisateur administratif ? S'il est membre du groupe désigné comme admins, il doit seulement entrer son propre mot de passe. Si un autre utilisateur, par exemple root, est la seule identité d'administrateur, il devra saisir le mot de passe de root. Le format de l'identification de l'utilisateur est le même que celui utilisé pour désigner les autorités.
</p>
<p>La valeur par défaut de l'Arch est de faire de tous les membres du groupe <b>wheel</b> des administrateurs. Une règle comme celle ci-dessous fera que polkit demandera le mot de passe root au lieu du mot de passe de l'utilisateur pour l'authentification de l'administrateur.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/49-rootpw_global.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">].
/* Toujours authentifier les administrateurs en demandant le mot de passe root
 * Mot de passe root, similaire à l'option rootpw de sudo.
 */
polkit.addAdminRule(function(action, subject) {
    return ["unix-user:root"] ;
}) ;
</pre>
<h2><span class="mw-headline" id="Exemples">Exemples</span></h2>
<h3>
<span id="D.C3.A9bogage.2Fjournalisation"></span><span class="mw-headline" id="Débogage/journalisation">Débogage/journalisation</span>
</h3>
<p>La règle suivante enregistre des informations détaillées sur tout accès demandé.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/00-log-access.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">polkit.addRule(function(action, subject) {
    polkit.log("action=" + action) ;
    polkit.log("subject=" + subject) ;
});</pre>
<h3>
<span id="D.C3.A9sactiver_la_suspension_et_la_mise_en_veille_prolong.C3.A9e"></span><span class="mw-headline" id="Désactiver_la_suspension_et_la_mise_en_veille_prolongée">Désactiver la suspension et la mise en veille prolongée</span>
</h3>
<p>La règle suivante désactive la suspension et la mise en veille prolongée pour tous les utilisateurs.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/10-disable-suspend.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">polkit.addRule(function(action, subject) {
    si (action.id == "org.freedesktop.login1.suspend" ||
        action.id == "org.freedesktop.login1.suspend-multiple-sessions" ||
        action.id == "org.freedesktop.login1.hibernate" ||
        action.id == "org.freedesktop.login1.hibernate-multiple-sessions")
    {
        return polkit.Result.NO ;
    }
});</pre>
<h3>
<span id="Contournement_de_l.27invite_de_mot_de_passe"></span><span class="mw-headline" id="Contournement_de_l'invite_de_mot_de_passe">Contournement de l'invite de mot de passe</span>
</h3>
<p>Pour obtenir quelque chose de similaire à l'option <a href="../fr/Sudo.html" title="Sudo (Français)">sudo</a> <code>NOPASSWD</code> et obtenir une autorisation uniquement basée sur l'identité <a href="../fr/Users_and_groups.html" title="Users and groups (Français)">user/group</a>, vous pouvez créer des règles personnalisées dans <code>/etc/polkit-1/rules.d/</code>. Cela vous permet de remplacer l'authentification par mot de passe soit <a href="#Pour_des_actions_sp%C3%A9cifiques">pour des actions spécifiques</a>, soit <a href="#Globalement">globalement</a>. Consultez <a rel="nofollow" class="external autonumber" href="https://gist.github.com/4013294/ccacedd69d54de7f2fd5881b546d5192d6a2bddb">[1]</a> pour un exemple de règle.
</p>
<h4><span class="mw-headline" id="Globalement">Globalement</span></h4>
<p>Créez le fichier suivant en tant que root :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/49-nopasswd_global.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">].
/* Autoriser les membres du groupe wheel à exécuter toute action
 * sans authentification par mot de passe, similaire à "sudo NOPASSWD :"
 */
polkit.addRule(function(action, subject) {
    if (subject.isInGroup("wheel")) {
        return polkit.Result.YES ;
    }
}) ;
</pre>
<p>Remplacez <code>wheel</code> par tout groupe de votre choix.
</p>
<p>Il en résultera une authentification automatique pour '<i>toute</i> action nécessitant des droits d'administrateur via Polkit. Il faut donc faire attention au groupe auquel vous choisissez de donner ces droits.
</p>
<p>Il existe également <code>AUTH_ADMIN_KEEP</code> qui permet de conserver l'autorisation pendant 5 minutes. Cependant, l'autorisation est par processus, donc si un nouveau processus demande une autorisation dans les 5 minutes, le nouveau processus demandera à nouveau le mot de passe de toute façon.
</p>
<h4>
<span id="Pour_des_actions_sp.C3.A9cifiques"></span><span class="mw-headline" id="Pour_des_actions_spécifiques">Pour des actions spécifiques</span>
</h4>
<p>Créez le fichier suivant en tant que root :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/49-nopasswd_limited.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* Permet aux membres du groupe wheel d'exécuter les actions définies 
 * sans authentification par mot de passe, similaire à "sudo NOPASSWD :"
 */
polkit.addRule(function(action, subject) {
    si ((action.id == "org.gnome.gparted" ||
	 action.id == "org.libvirt.unix.manage") &amp;&amp;
        subject.isInGroup("wheel"))
    {
        return polkit.Result.YES ;
    }
}) ;
</pre>
<p>Les <code>action.id</code> sélectionnés ici ne sont que des exemples (de travail) pour GParted et <a href="../en/Libvirt.html" title="Libvirt">Libvirt</a>, mais vous pouvez les remplacer par n'importe quels autres de votre choix tant qu'ils existent (personnalisés ou fournis par un paquet), et vous pouvez également définir n'importe quel groupe à la place de <code>wheel</code>.
</p>
<p>L'opérateur <code>||</code> est utilisé pour délimiter les actions (OU logique), et <code>&amp;&amp;</code> signifie ET logique et doit être conservé comme dernier opérateur.
</p>
<h4><span class="mw-headline" id="Udisks">Udisks</span></h4>
<p><a href="../en/File_manager_functionality.html" title="File manager functionality">Les gestionnaires de fichiers</a> peuvent demander un mot de passe lorsqu'ils essaient de monter un périphérique de stockage, ou produire une erreur de type <i>Non autorisé</i> ou similaire. Consultez <a href="../en/Udisks.html#Configuration" title="Udisks">Udisks#Configuration</a> pour plus de détails.
</p>
<h3>
<span id="Autoriser_la_gestion_d.27unit.C3.A9s_systemd_individuelles_par_des_utilisateurs_r.C3.A9guliers"></span><span class="mw-headline" id="Autoriser_la_gestion_d'unités_systemd_individuelles_par_des_utilisateurs_réguliers">Autoriser la gestion d'unités systemd individuelles par des utilisateurs réguliers</span>
</h3>
<p>En vérifiant certaines valeurs passées à la vérification de la politique de polkit, vous pouvez donner à des utilisateurs ou groupes spécifiques la possibilité de gérer des unités spécifiques. Par exemple, vous pourriez vouloir que les utilisateurs réguliers puissent démarrer et arrêter <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/polkit-1/rules.d/10-wifimanagement.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">polkit.addRule(function(action, subject) {
    if (action.id == "org.freedesktop.systemd1.manage-units") {
        if (action.lookup("unit") == "wpa_supplicant.service") {
            var verb = action.lookup("verb");
            if (verb == "start" || verb == "stop" || verb == "restart") {
                return polkit.Result.YES;
            }
        }
    }
});
</pre>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.freedesktop.org/software/polkit/docs/latest/polkit.8.html">Manuel de Polkit</a></li>
<li>
<a rel="nofollow" class="external text" href="https://doc.opensuse.org/documentation/leap/security/html/book-security/cha-security-policykit.html">Autorisation avec PolKit</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-06-17 ⓘ]</sup> (guide de sécurité d'openSUSE Leap)</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../fr/Category:Security.html" title="Category:Security (Français)">Security (Français)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Polkit_(Fran%C3%A7ais)&amp;oldid=806922">https://wiki.archlinux.org/index.php?title=Polkit_(Français)&amp;oldid=806922</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 27 April 2024, at 18:46.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
