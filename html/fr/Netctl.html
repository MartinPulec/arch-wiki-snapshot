<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>netctl (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Netctl_Français rootpage-Netctl_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Installation</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Utilisation" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilisation">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Utilisation</div>
		</a>
		
			<button aria-controls="toc-Utilisation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilisation subsection</span>
			</button>
		
		<ul id="toc-Utilisation-sublist" class="vector-toc-list">
			<li id="toc-Démarrer_un_profil" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9marrer_un_profil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Démarrer un profil</div>
			</a>
			
			<ul id="toc-Démarrer_un_profil-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Activation_d'un_profil" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Activation_d'un_profil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Activation d'un profil</div>
			</a>
			
			<ul id="toc-Activation_d'un_profil-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Unités_spéciales_de_systemd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Unit%C3%A9s_sp%C3%A9ciales_de_systemd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Unités spéciales de systemd</div>
			</a>
			
			<ul id="toc-Unités_spéciales_de_systemd-sublist" class="vector-toc-list">
				<li id="toc-Filaire" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Filaire">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.1</span>Filaire</div>
			</a>
			
			<ul id="toc-Filaire-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sans_fil" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sans_fil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3.2</span>Sans fil</div>
			</a>
			
			<ul id="toc-Sans_fil-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Trucs_et_astuces" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Trucs_et_astuces">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Trucs et astuces</div>
		</a>
		
			<button aria-controls="toc-Trucs_et_astuces-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Trucs et astuces subsection</span>
			</button>
		
		<ul id="toc-Trucs_et_astuces-sublist" class="vector-toc-list">
			<li id="toc-Exemples_de_profils" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Exemples_de_profils">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Exemples de profils</div>
			</a>
			
			<ul id="toc-Exemples_de_profils-sublist" class="vector-toc-list">
				<li id="toc-Filaire_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Filaire_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.1</span>Filaire</div>
			</a>
			
			<ul id="toc-Filaire_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Sans_fil_(WPA-PSK)" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Sans_fil_(WPA-PSK)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1.2</span>Sans fil (WPA-PSK)</div>
			</a>
			
			<ul id="toc-Sans_fil_(WPA-PSK)-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Obfusquer_la_phrase_de_passe_sans_fil" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Obfusquer_la_phrase_de_passe_sans_fil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Obfusquer la phrase de passe sans fil</div>
			</a>
			
			<ul id="toc-Obfusquer_la_phrase_de_passe_sans_fil-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_d'une_interface_graphique_expérimentale" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utilisation_d'une_interface_graphique_exp%C3%A9rimentale">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Utilisation d'une interface graphique expérimentale</div>
			</a>
			
			<ul id="toc-Utilisation_d'une_interface_graphique_expérimentale-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Bonding" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bonding">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Bonding</div>
			</a>
			
			<ul id="toc-Bonding-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_de_n'importe_quelle_interface" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utilisation_de_n'importe_quelle_interface">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.5</span>Utilisation de n'importe quelle interface</div>
			</a>
			
			<ul id="toc-Utilisation_de_n'importe_quelle_interface-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_des_hooks" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Utilisation_des_hooks">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6</span>Utilisation des hooks</div>
			</a>
			
			<ul id="toc-Utilisation_des_hooks-sublist" class="vector-toc-list">
				<li id="toc-Exemples" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Exemples">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6.1</span>Exemples</div>
			</a>
			
			<ul id="toc-Exemples-sublist" class="vector-toc-list">
				<li id="toc-Exécuter_des_commandes_sur_une_connexion_établie" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Ex%C3%A9cuter_des_commandes_sur_une_connexion_%C3%A9tablie">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6.1.1</span>Exécuter des commandes sur une connexion établie</div>
			</a>
			
			<ul id="toc-Exécuter_des_commandes_sur_une_connexion_établie-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Définir_le_client_DHCP_par_défaut" class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#D%C3%A9finir_le_client_DHCP_par_d%C3%A9faut">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.6.1.2</span>Définir le client DHCP par défaut</div>
			</a>
			
			<ul id="toc-Définir_le_client_DHCP_par_défaut-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Section_WPAConfig_minimale" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Section_WPAConfig_minimale">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.7</span>Section WPAConfig minimale</div>
			</a>
			
			<ul id="toc-Section_WPAConfig_minimale-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-/etc/resolv.conf" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#/etc/resolv.conf">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.8</span>/etc/resolv.conf</div>
			</a>
			
			<ul id="toc-/etc/resolv.conf-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Dépannage" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#D%C3%A9pannage">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Dépannage</div>
		</a>
		
			<button aria-controls="toc-Dépannage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dépannage subsection</span>
			</button>
		
		<ul id="toc-Dépannage-sublist" class="vector-toc-list">
			<li id="toc-Job_for_netctl@wlan(...).service_failed" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Job_for_netctl@wlan(...).service_failed">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.1</span>Job for netctl@wlan(...).service failed</div>
			</a>
			
			<ul id="toc-Job_for_netctl@wlan(...).service_failed-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-dhcpcd:_ipv4_addroute:_File_exists" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#dhcpcd:_ipv4_addroute:_File_exists">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.2</span>dhcpcd: ipv4_addroute: File exists</div>
			</a>
			
			<ul id="toc-dhcpcd:_ipv4_addroute:_File_exists-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_de_délai_d'attente_DHCP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_de_d%C3%A9lai_d'attente_DHCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.3</span>Problèmes de délai d'attente DHCP</div>
			</a>
			
			<ul id="toc-Problèmes_de_délai_d'attente_DHCP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Débogage_de_dhcpcd" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#D%C3%A9bogage_de_dhcpcd">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.4</span>Débogage de dhcpcd</div>
			</a>
			
			<ul id="toc-Débogage_de_dhcpcd-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_de_délais_de_connexion" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_de_d%C3%A9lais_de_connexion">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.5</span>Problèmes de délais de connexion</div>
			</a>
			
			<ul id="toc-Problèmes_de_délais_de_connexion-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_avec_netctl-auto_sur_la_reprise" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_avec_netctl-auto_sur_la_reprise">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.6</span>Problèmes avec netctl-auto sur la reprise</div>
			</a>
			
			<ul id="toc-Problèmes_avec_netctl-auto_sur_la_reprise-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-netctl-auto_ne_débloque_pas_automatiquement_une_carte_sans_fil_pour_utiliser_une_interface" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#netctl-auto_ne_d%C3%A9bloque_pas_automatiquement_une_carte_sans_fil_pour_utiliser_une_interface">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.7</span>netctl-auto ne débloque pas automatiquement une carte sans fil pour utiliser une interface</div>
			</a>
			
			<ul id="toc-netctl-auto_ne_débloque_pas_automatiquement_une_carte_sans_fil_pour_utiliser_une_interface-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-RTNETLINK_répond_:_Le_fichier_existe_(avec_plusieurs_NICs)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#RTNETLINK_r%C3%A9pond_:_Le_fichier_existe_(avec_plusieurs_NICs)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.8</span>RTNETLINK répond : Le fichier existe (avec plusieurs NICs)</div>
			</a>
			
			<ul id="toc-RTNETLINK_répond_:_Le_fichier_existe_(avec_plusieurs_NICs)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Problèmes_avec_eduroam_et_autres_connexions_MSCHAPv2" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Probl%C3%A8mes_avec_eduroam_et_autres_connexions_MSCHAPv2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.9</span>Problèmes avec eduroam et autres connexions MSCHAPv2</div>
			</a>
			
			<ul id="toc-Problèmes_avec_eduroam_et_autres_connexions_MSCHAPv2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Avertissements_du_journal_pour_les_profils_utilisant_les_directives_.include" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Avertissements_du_journal_pour_les_profils_utilisant_les_directives_.include">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.10</span>Avertissements du journal pour les profils utilisant les directives .include</div>
			</a>
			
			<ul id="toc-Avertissements_du_journal_pour_les_profils_utilisant_les_directives_.include-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Les_hooks_ne_fonctionnent_pas" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Les_hooks_ne_fonctionnent_pas">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">5.11</span>Les hooks ne fonctionnent pas</div>
			</a>
			
			<ul id="toc-Les_hooks_ne_fonctionnent_pas-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Voir aussi</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">netctl (Français)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 4 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-4" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">4 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Netctl" title="Netctl – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Netctl.html" title="Netctl – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Netctl" title="Netctl – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Netctl" title="Netctl – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Netctl.html" title="Netctl">netctl</a>. Date de la dernière traduction: 2022-10-21. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Netctl&amp;diff=0&amp;oldid=754104">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Bridge_with_netctl.html" title="Bridge with netctl">Bridge with netctl</a></li>
<li><a href="../en/Network_configuration.html" class="mw-redirect" title="Network configuration (Français)">Network configuration (Français)</a></li>
<li><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Network configuration (Français)/Wireless (Français)">Configuration réseau sans-fil</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/netctl">netctl</a> est un gestionnaire de réseau en ligne de commande basé sur des profils et un projet Arch.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netctl">netctl</a></span>.
</p>
<p>Les <a href="#Unit%C3%A9s_sp%C3%A9ciales_de_systemd">#Unités spéciales de systemd</a> de <i>netctl</i> utilisées dans l'automatisation des connexions requièrent quelques dépendances supplémentaires ; consultez cette section pour plus d'informations.
</p>
<p>D'autres dépendances optionnelles sont présentées dans le tableau ci-dessous.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Fonctionnalité
</th>
<th>Dépendance
</th>
</tr>
<tr>
<td>WPA</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span>
</td>
</tr>
<tr>
<td>DHCP</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
</tr>
<tr>
<td><i>wifi-menu</i></td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dialog">dialog</a></span>
</td>
</tr>
<tr>
<td>PPPoE</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ppp">ppp</a></span>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Ne pas activer de services réseau concurrents et conflictuels. Utilisez <code>systemctl --type=service</code> pour vous assurer qu'aucun autre service réseau n'est en cours d'exécution avant d'activer un profil/service <i>netctl</i>.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p><i>netctl</i> utilise des profils pour gérer les connexions réseau et différents modes de fonctionnement pour lancer les profils automatiquement ou manuellement à la demande. 
</p>
<p>Les fichiers de profil <i>netctl</i> sont stockés dans <code>/etc/netctl/</code> et des fichiers de configuration d'exemple sont disponibles dans <code>/etc/netctl/examples/</code>. 
</p>
<p>Pour utiliser un profil d'exemple, il suffit de le copier de <code>/etc/netctl/examples/</code> vers <code>/etc/netctl/</code> et de le configurer en fonction de vos besoins ; voir les <a href="#Exemples_de_profils">#Exemples de profils</a> de base ci-dessous. Le premier paramètre dont vous avez besoin pour créer un profil est l'<code>Interface</code> réseau, consultez <a href="../en/Network_configuration.html#Network_interfaces" title="Network configuration">Network configuration#Network interfaces</a> pour plus de détails.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> 
<ul>
<li>Pour les paramètres sans fil, vous pouvez utiliser <code>wifi-menu</code> en tant que root pour générer le fichier de profil dans <code>/etc/netctl/</code>. Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dialog">dialog</a></span> est nécessaire pour utiliser <i>wifi-menu</i>.</li>
<li>Utilisez <code>SkipNoCarrier=yes</code> dans votre profil pour activer un profil IP statique sur une interface filaire, que le câble soit connecté ou non.</li>
</ul>
</div>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 5 netctl.profile"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.profile.5">netctl.profile(5)</a></span> pour une liste complète des options de profil.
</p>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span> pour une liste complète des commandes <i>netctl</i>.
</p>
<h3>
<span id="D.C3.A9marrer_un_profil"></span><span class="mw-headline" id="Démarrer_un_profil">Démarrer un profil</span>
</h3>
<p>Une fois que vous avez créé votre profil, essayez d'établir une connexion, où <i>profil</i> est seulement le nom du profil, pas le chemin complet :
</p>
<pre># netctl start <i>profil</i>
</pre>
<p>Si la commande ci-dessus échoue, exécutez <code>journalctl -xn</code> en tant que root et <code>netctl status <i>profile</i></code> pour obtenir une explication plus approfondie de l'échec.
</p>
<h3>
<span id="Activation_d.27un_profil"></span><span class="mw-headline" id="Activation_d'un_profil">Activation d'un profil</span>
</h3>
<p>Un profil peut être activé pour démarrer au démarrage en utilisant :
</p>
<pre># netctl enable <i>profil</i>
</pre>
<p>Cela créera et activera un service <a href="../en/Systemd.html" title="Systemd">systemd</a> qui démarrera au démarrage de l'ordinateur. Les modifications apportées au fichier de profil ne se propageront pas automatiquement au fichier de service. Après de telles modifications, il est nécessaire de réactiver le profil :
</p>
<pre># netctl reenable <i>profil</i>
</pre>
<p>Après avoir activé un profil, celui-ci sera lancé au prochain démarrage. Évidemment, cela ne peut réussir que si le câble réseau pour une connexion filaire est branché, ou si le point d'accès sans fil utilisé dans un profil est à portée respectivement.
</p>
<p>Si vous devez changer fréquemment de profil (par exemple, si vous voyagez avec un ordinateur portable), utilisez <a href="#Unit%C3%A9s_sp%C3%A9ciales_de_systemd">#Unités spéciales de systemd</a> au lieu d'activer un profil.
</p>
<h3>
<span id="Unit.C3.A9s_sp.C3.A9ciales_de_systemd"></span><span class="mw-headline" id="Unités_spéciales_de_systemd">Unités spéciales de systemd</span>
</h3>
<p><i>netctl</i> fournit des services spéciaux <a href="../en/Systemd.html" title="Systemd">systemd</a> pour la commutation automatique des profils pour les connexions filaires et sans fil. Voir <span class="plainlinks archwiki-template-man" title="$ man 7 netctl.special"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.special.7">netctl.special(7)</a></span> pour une liste complète des unités spéciales de systemd.
</p>
<h4><span class="mw-headline" id="Filaire">Filaire</span></h4>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a>/<a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> l'unité systemd <code>netctl-ifplugd@<i>interface</i>.service</code>. Les profils DHCP seront démarrés/arrêtés lorsque le câble réseau est branché/débranché.
</p>
<ul>
<li>L'unité <code>netctl-ifplugd@<i>interface</i>.service</code> préférera les profils qui utilisent <a href="https://en.wikipedia.org/wiki/fr:DHCP" class="extiw" title="wikipedia:fr:DHCP">DHCP</a>.</li>
<li>Pour démarrer automatiquement un profil d'IP statique, l'option <code>ExcludeAuto=no</code> doit être définie dans celui-ci.</li>
<li>Pour donner la priorité à un profil d'IP statique par rapport aux profils DHCP, vous pouvez définir l'option <code>Priority=2</code>, qui est supérieure à la priorité par défaut accordée aux profils DHCP, à savoir <code>Priority=1</code>.</li>
</ul>
<h4><span class="mw-headline" id="Sans_fil">Sans fil</span></h4>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">Démarrez</a>/<a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> l'unité systemd <code>netctl-auto@<i>interface</i>.service</code>. Les profils <i>netctl</i> seront démarrés/arrêtés automatiquement lorsque vous passez de la portée d'un réseau à la portée d'un autre réseau (itinérance).
</p>
<ul>
<li>Les profils doivent utiliser <code>Security=wpa-configsection</code> ou <code>Security=wpa</code> pour fonctionner avec <i>netctl-auto</i> plutôt que <code>Security=wpa-config</code>.</li>
<li>Si vous voulez qu'un profil sans fil ne soit pas lancé automatiquement par <code>netctl-auto@<i>interface</i>.service</code>, vous devez explicitement ajouter <code>ExcludeAuto=yes</code> à ce profil.</li>
<li>Vous pouvez utiliser <code>priority=</code> dans la section <i>WPAConfigSection</i> (voir <code>/etc/netctl/examples/wireless-wpa-configsection</code>) pour définir la priorité d'un profil lorsque plusieurs points d'accès sans fil sont disponibles. Les chiffres les plus grands indiquent une priorité plus élevée.</li>
</ul>
<p>Notez que <i>interface</i> n'est pas littéral, mais doit être substitué par le nom de l'interface de votre périphérique, par exemple <code>netctl-auto@wlp4s0.service</code>. Voir <span class="plainlinks archwiki-template-man" title="$ man 5 netctl.profile"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.profile.5">netctl.profile(5)</a></span> pour plus de détails.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Si l'un des profils contient des erreurs, comme une variable <code>Key=</code> vide ou mal citée, le chargement de l'unité échouera avec le message <code>"Failed to read or parse configuration '/run/network/wpa_supplicant_wlan0.conf'</code>, même si ce profil n'est pas utilisé.</li>
<li>Si vous avez précédemment <a href="#Activation_d'un_profil">activation d'un profil</a> via <i>netctl</i>, exécutez <code>netctl disable <i>profil</i></code> pour empêcher le profil de démarrer deux fois au démarrage.</li>
</ul>
</div>
<p>Il est possible de contrôler manuellement une interface autrement gérée par <i>netctl-auto</i> sans avoir à arrêter <code>netctl-auto.service</code>. Ceci est fait en utilisant la commande <i>netctl-auto</i>. Pour une liste complète des actions disponibles, voir <span class="plainlinks archwiki-template-man" title="$ man 1 netctl-auto"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl-auto.1">netctl-auto(1)</a></span>.
</p>
<h2><span class="mw-headline" id="Trucs_et_astuces">Trucs et astuces</span></h2>
<h3><span class="mw-headline" id="Exemples_de_profils">Exemples de profils</span></h3>
<h4><span class="mw-headline" id="Filaire_2">Filaire</span></h4>
<p>Pour une connexion DHCP, seule l'interface <code>Interface</code> doit être configurée après avoir copié le profil exemple <code>/etc/netctl/examples/ethernet-dhcp</code> dans <code>/etc/netctl</code>. 
</p>
<p>Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/<i>mon_profil_dhcp</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Interface=enp1s0
Connection=ethernet
IP=dhcp
</pre>
<p>Pour une configuration IP statique, copiez le profil d'exemple <code>/etc/netctl/examples/ethernet-static</code> dans <code>/etc/netctl</code> et modifiez <code>Interface</code>, <code>Address</code>, <code>Gateway</code> et <code>DNS</code>) selon les besoins. 
</p>
<p>Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/<i>mon_profil_statique</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Interface=enp1s0
Connection=ethernet
IP=static
Address=('10.1.10.2/24')
Gateway='10.1.10.1'
DNS=('10.1.10.1')
</pre>
<p>Prenez soin d'inclure la notation de sous-réseau de <code>/24</code>. Elle équivaut à un masque de réseau de <code>255.255.255.0</code>) et sans elle, le profil ne pourra pas démarrer. Voir également <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation" class="extiw" title="wikipedia:Classless Inter-Domain Routing">CIDR notation</a>. Pour aliaser plus d'une adresse IP par un ensemble de NIC <code>Address=('10.1.10.2/24' '192.168.1.2/24')</code>. Pour aliaser plus d'un ensemble d'adresses de serveurs DNS, définissez par exemple <code>DNS=('1.1.1.1' '1.0.0.1')</code>.
</p>
<h4>
<span id="Sans_fil_.28WPA-PSK.29"></span><span class="mw-headline" id="Sans_fil_(WPA-PSK)">Sans fil (WPA-PSK)</span>
</h4>
<p>Ce qui suit s'applique aux connexions sans fil standard utilisant une clé pré-partagée (WPA-PSK).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wireless-wpa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='A simple WPA encrypted wireless connection using 256-bit PSK'
Interface=wlp2s2
Connection=wireless
Security=wpa
IP=dhcp
ESSID=<i>your_essid</i>
Key=\"64cf3ced850ecef39197bb7b7b301fc39437a6aa6c6a599d0534b16af578e04a</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Assurez-vous d'utiliser les <b>règles de citation spéciales</b> pour la variable <code>Key</code> comme expliqué dans <span class="plainlinks archwiki-template-man" title="$ man 5 netctl.profile"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.profile.5#SPECIAL_QUOTING_RULES">netctl.profile(5) § SPECIAL QUOTING RULES</a></span>.</li>
<li>Si la phrase de passe échoue, essayez de supprimer le <code>\"</code> de la variable <code>Key</code>.</li>
<li>Bien que "chiffrée", la clé que vous mettez dans la configuration du profil est suffisante pour se connecter à un réseau WPA-PSK. Par conséquent, ce processus n'est utile que pour cacher la version lisible par l'homme de la phrase de passe. Cela n'empêchera pas quiconque ayant un accès en lecture à ce fichier de se connecter au réseau.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Obfusquer_la_phrase_de_passe_sans_fil">Obfusquer la phrase de passe sans fil</span></h3>
<p>Vous pouvez également suivre l'étape suivante pour obscurcir la phrase de passe sans fil (<i>wifi-menu</i> le fait automatiquement lorsque vous utilisez le paramètre <code>-o</code>) : 
</p>
<p>Les utilisateurs qui ne souhaitent pas que la phrase de passe de leur réseau sans fil soit stockée en texte clair ont la possibilité de stocker la clé pré-partagée 256 bits correspondante, qui est calculée à partir de la phrase de passe et du SSID à l'aide d'algorithmes standard.
</p>
<p>Calculez votre clé pré-partagée de 256 bits en utilisant <a href="../en/Wpa_supplicant.html#Connecting_with_wpa_passphrase" title="Wpa supplicant">wpa_passphrase</a> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ wpa_passphrase <i>votre_essid</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">network={
  ssid="<i>your_essid</i>"
  #psk="<i>passphrase</i>"
  psk=64cf3ced850ecef39197bb7b7b301fc39437a6aa6c6a599d0534b16af578e04a
}</pre>
<p>La <i>clé pré-partagée</i> (psk) doit maintenant remplacer la phrase de passe en texte clair de la variable <code>Key</code> dans le profil.
</p>
<h3>
<span id="Utilisation_d.27une_interface_graphique_exp.C3.A9rimentale"></span><span class="mw-headline" id="Utilisation_d'une_interface_graphique_expérimentale">Utilisation d'une interface graphique expérimentale</span>
</h3>
<p>Si vous voulez une interface utilisateur graphique pour gérer <i>netctl</i> et vos connexions et que vous n'avez pas peur des paquets non officiels très expérimentaux, il existe quelques options disponibles. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netctl-gui/">netctl-gui</a></span><sup><small>AUR</small></sup> fournit une interface graphique basée sur Qt, un daemon DBus et un widget KDE. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netmenu/">netmenu</a></span><sup><small>AUR</small></sup> utilise <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmenu">dmenu</a></span> comme interface graphique, et <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-shell-extension-netctl-auto-gnome-git/">gnome-shell-extension-netctl-auto-gnome-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> est une extension du shell gnome.
</p>
<p>Il existe également une application qui affiche des notifications de bureau sur les changements de profil et qui présente une icône dans la barre d'état système : <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netctl-tray/">netctl-tray</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Bonding">Bonding</span></h3>
<p>Consultez <a href="../en/Netctl.html#Bonding" title="Netctl">Netctl#Bonding</a> : cette section nécessite une mise à jour car elle reposait sur un outil qui n'est plus fourni par le noyau. 
</p>
<h3>
<span id="Utilisation_de_n.27importe_quelle_interface"></span><span class="mw-headline" id="Utilisation_de_n'importe_quelle_interface">Utilisation de n'importe quelle interface</span>
</h3>
<p>Dans certains cas, il peut être souhaitable d'autoriser un profil à utiliser n'importe quelle interface du système. Un exemple courant d'utilisation est l'utilisation d'une image disque commune sur plusieurs machines avec un matériel différent (ceci est particulièrement utile si elles sont sans affichage). Si vous utilisez le schéma de nommage du noyau, et que votre machine ne possède qu'une seule interface Ethernet, vous pouvez probablement deviner que eth0 est la bonne interface. En revanche, si vous utilisez le système d'attribution de noms d'udev <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">Predictable Network Interface Names</a>, les noms seront attribués en fonction du matériel spécifique lui-même (par exemple enp1s0), plutôt que dans le simple ordre de détection du matériel (par exemple eth0, eth1). Cela signifie qu'un profil netctl peut fonctionner sur une machine et pas sur une autre, car elles ont toutes des noms d'interface différents.
</p>
<p>Une solution simple et rapide consiste à utiliser le répertoire <code>/etc/netctl/interfaces/</code>. Choisissez un nom pour votre alias d'interface (<code>en-any</code> dans cet exemple), et écrivez ce qui suit dans un fichier portant ce nom (en vous assurant qu'il est <a href="../fr/Help:Reading.html#Rendre_ex%C3%A9cutable" class="mw-redirect" title="Exécutable">exécutable</a>).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/interfaces/en-any</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
for interface in /sys/class/net/en*; do
        break;
done
Interface=$(basename "$interface")
echo "en-any: using interface $Interface";</pre>
<p>Créez ensuite un profil qui utilise l'interface. Faites particulièrement attention à la directive <code>Interface</code>. Le reste n'est fourni qu'à titre d'exemple.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wired</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='Wired'
Interface=en-any
Connection=ethernet
IP=static
Address=('192.168.1.15/24')
Gateway='192.168.1.1'
DNS=('192.168.1.1')
</pre>
<p>Lorsque le profil <code>wired</code> est lancé, toute machine utilisant les deux fichiers ci-dessus fera automatiquement apparaître et configurer la première interface Ethernet trouvée sur le système, quel que soit le nom qu'udev lui a attribué. Notez que ce n'est pas la manière la plus robuste de configurer des interfaces. Si vous utilisez plusieurs interfaces, netctl peut essayer de leur attribuer la même interface, ce qui provoquera probablement une interruption de la connectivité. Si vous n'êtes pas gêné par une solution plus compliquée, <code>netctl-auto</code> est probablement plus fiable.
</p>
<h3><span class="mw-headline" id="Utilisation_des_hooks">Utilisation des hooks</span></h3>
<p>netctl prend en charge les hooks dans <code>/etc/netctl/hooks/</code> et les hooks par interface dans <code>/etc/netctl/interfaces/</code>. Vous pouvez définir toute option dans un hook/interface que vous pouvez
dans un profil. Cela inclut surtout <code>ExecUpPost</code> et <code>ExecDownPre</code>. 
</p>
<p>Lorsqu'un profil est lu, netctl extrait tous les scripts exécutables du répertoire <code>hooks</code>, puis il lit le fichier de profil de la connexion et enfin il extrait un script exécutable portant le nom de l'interface utilisée dans le profil du répertoire <code>interfaces</code>. Par conséquent, les déclarations dans un script d'interface remplacent les déclarations dans le profil, qui remplacent les déclarations dans les hooks. 
</p>
<p>Les variables <code>$INTERFACE</code> et <code>$ACTION</code> sont disponibles dans hooks/interfaces <b>uniquement</b> lorsque vous utilisez <code>netctl-auto</code>.
</p>
<h4><span class="mw-headline" id="Exemples">Exemples</span></h4>
<h5>
<span id="Ex.C3.A9cuter_des_commandes_sur_une_connexion_.C3.A9tablie"></span><span class="mw-headline" id="Exécuter_des_commandes_sur_une_connexion_établie">Exécuter des commandes sur une connexion établie</span>
</h5>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/hooks/myservices</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
ExecUpPost="systemctl start crashplan.service ; systemctl start dropbox@&lt;username&gt;.service"
ExecDownPre="systemctl stop crashplan.service ; systemctl stop dropbox@&lt;username&gt;.service"
</pre>
<h5>
<span id="D.C3.A9finir_le_client_DHCP_par_d.C3.A9faut"></span><span class="mw-headline" id="Définir_le_client_DHCP_par_défaut">Définir le client DHCP par défaut</span>
</h5>
<p>Pour définir ou modifier le client DHCP utilisé pour tous les profils : 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/hooks/dhcp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
DHCPClient='dhclient'
</pre>
<p>N'oubliez pas de rendre le fichier <a href="../fr/Help:Reading.html#Rendre_ex%C3%A9cutable" class="mw-redirect" title="Exécutable">exécutable</a>.
</p>
<p>On peut également le spécifier pour une interface réseau spécifique en créant un fichier exécutable <code>/etc/netctl/interfaces/&lt;interface&gt;</code> avec la ligne suivante :
</p>
<pre>DHCPClient='dhclient'
</pre>
<h3><span class="mw-headline" id="Section_WPAConfig_minimale">Section WPAConfig minimale</span></h3>
<p>Comme indiqué dans <span class="plainlinks archwiki-template-man" title="$ man 5 netctl.profile"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.profile.5#OPTIONS_FOR_'WIRELESS'_CONNECTIONS">netctl.profile(5) § OPTIONS FOR 'WIRELESS' CONNECTIONS</a></span>, la variable <code>WPAConfigSection</code> est un tableau de lignes de configuration passées à <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a>. Ainsi, une WPAConfigSection minimale contiendrait :
</p>
<pre>Description='A wireless connection using a custom network block configuration'
Interface=wlan0
Connection=wireless
Security=wpa-configsection
IP=dhcp
WPAConfigSection=(
    'ssid="University"'
    'psk="very secret passphrase"'
)
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Si vous essayez de vous connecter à un SSID avec des caractères non-ASCII (unicode, emoji, etc), vous pouvez spécifier le SSID en hexadécimal au lieu d'une chaîne de caractères, par exemple <code>ssid=F09F90BA</code> pour "🐺". Si vous n'êtes pas sûr de l'encodage hexadécimal, exécutez <i>wifi-menu</i> (assurez-vous de supprimer les caractères \ et x).</div>
<h3>
<span id=".2Fetc.2Fresolv.conf"></span><span class="mw-headline" id="/etc/resolv.conf">/etc/resolv.conf</span>
</h3>
<p>Si vous utilisez des options <code>DNS*</code> dans votre profil, <i>netctl</i> appelle <a href="../en/Openresolv.html" class="mw-redirect" title="Resolvconf">resolvconf</a> pour écraser <a href="../fr/Domain_name_resolution.html" title="Domain name resolution (Français)">resolv.conf</a>.
</p>
<h2>
<span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span>
</h2>
<h3>
<span id="Job_for_netctl.40wlan.28....29.service_failed"></span><span class="mw-headline" id="Job_for_netctl@wlan(...).service_failed">Job for netctl@wlan(...).service failed</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention:</strong> Cette section suppose qu'aucun autre service réseau n'est en cours d'exécution avant de lancer un profil/service <i>netctl</i>. Voir <a href="#Installation">#Installation</a> pour plus de détails.</div>
<p>Certaines personnes rencontrent un problème lorsqu'elles se connectent à un réseau avec <i>netctl</i>, par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># netctl start wlan0-ssid</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Job for netctl@wlan0\x2ssid.service failed. See 'systemctl status netctl@wlan0\x2ssid.service' and 'journalctl -xn' for details.
</pre>
<p>Lorsque vous regardez le journal en exécutant <code>journalctl -xn</code> en tant que root, l'un ou l'autre des éléments suivants s'affiche :
</p>
<p>1. Si votre périphérique (<code>wlan0</code> dans ce cas) est en marche :
</p>
<pre>network[2322] : L'interface du profil réseau 'wlan0-ssid' est déjà en service.
</pre>
<p>La mise hors service de l'interface devrait résoudre le problème :
</p>
<pre># ip link set wlan0 down
</pre>
<p>Puis réessayez :
</p>
<pre># netctl start wlan0-ssid
</pre>
<p>2. Si l'erreur persiste, réessayez après avoir ajouté l'option <code>ForceConnect</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wlan0-ssid</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
ForceConnect=yes
</pre>
<p>Enregistrez-la et essayez de vous connecter avec le profil :
</p>
<pre># netctl start wlan0-ssid
</pre>
<h3><span class="mw-headline" id="dhcpcd:_ipv4_addroute:_File_exists">dhcpcd: ipv4_addroute: File exists</span></h3>
<p>Sur certains systèmes, la combinaison de dhcpcd et de netctl provoque des problèmes de délai d'attente lors de la reprise, en particulier si vous avez changé de réseau entre-temps. netctl signalera que vous êtes connecté avec succès mais que vous recevez toujours des problèmes de délai d'attente. Dans ce cas, l'ancienne route par défaut existe toujours et n'est pas renouvelée. Une solution pour éviter ce comportement erroné est de passer à <a href="#D%C3%A9finir_le_client_DHCP_par_d%C3%A9faut">dhclient</a> comme client DHCP par défaut. Vous trouverez plus d'informations sur ce problème <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1399842#p1399842">ici</a>.
</p>
<h3>
<span id="Probl.C3.A8mes_de_d.C3.A9lai_d.27attente_DHCP"></span><span class="mw-headline" id="Problèmes_de_délai_d'attente_DHCP">Problèmes de délai d'attente DHCP</span>
</h3>
<p>Si vous rencontrez des problèmes de délai d'attente lors de la demande de baux via DHCP, vous pouvez définir une valeur de délai d'attente supérieure aux 30 secondes par défaut de netctl. Créez un fichier dans <code>/etc/netctl/hooks/</code> ou <code>/etc/netctl/interfaces/</code>, ajoutez-y <code>TimeoutDHCP=40</code> pour un timeout de 40 secondes et rendez le fichier exécutable.
</p>
<h3>
<span id="D.C3.A9bogage_de_dhcpcd"></span><span class="mw-headline" id="Débogage_de_dhcpcd">Débogage de dhcpcd</span>
</h3>
<p>Si dhcpcd ne parvient pas à obtenir une adresse, ajoutez l'option <code>-d</code> à <code>/usr/lib/netctl/dhcp</code> puis exécutez <code>journalctl -xe</code> en tant que root pour afficher les messages de débogage qui peuvent indiquer, par exemple, que l'adresse IP offerte par le serveur est rejetée par le client après avoir détecté que l'adresse IP est déjà utilisée.
</p>
<h3>
<span id="Probl.C3.A8mes_de_d.C3.A9lais_de_connexion"></span><span class="mw-headline" id="Problèmes_de_délais_de_connexion">Problèmes de délais de connexion</span>
</h3>
<p>Si vous rencontrez des problèmes de délai d'attente qui ne sont pas liés au DHCP (sur une connexion ethernet statique par exemple), et que vous rencontrez des erreurs similaires à celles qui suivent au démarrage de votre profil :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># journalctl _SYSTEMD_UNIT=netctl@<i>profil'.service</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Démarrage du profil réseau '<i>profil</i>'...
Aucune connexion trouvée sur l'interface 'eth0' (timeout)
Échec de la mise en service du réseau pour le profil '<i>profil'</i>.</pre>
<p>Ensuite, vous devez augmenter les délais d'attente pour la porteuse et l'activation en ajoutant <code>TimeoutUp=</code> et <code>TimeoutCarrier=</code> à votre fichier de profil :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/<i>profile</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
TimeoutUp=300
TimeoutCarrier=300</pre>
<p>N'oubliez pas de réactiver votre profil :
</p>
<pre># netctl reenable <i>profil</i>
</pre>
<h3>
<span id="Probl.C3.A8mes_avec_netctl-auto_sur_la_reprise"></span><span class="mw-headline" id="Problèmes_avec_netctl-auto_sur_la_reprise">Problèmes avec netctl-auto sur la reprise</span>
</h3>
<p>Parfois, <i>netctl-auto</i> ne parvient pas à se reconnecter lorsque le système reprend après une suspension, une hibernation ou un sommeil hybride. Une solution facile est de redémarrer le service pour <i>netctl-auto</i>. 
Ceci peut être automatisé avec un service supplémentaire comme le suivant (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netctl-auto-resume/">netctl-auto-resume</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>) :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/netctl-auto-resume@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=restart netctl-auto on resume.
Requisite=netctl-auto@%i.service
After=sleep.target

[Service]
Type=oneshot
ExecStart=/usr/bin/systemctl restart netctl-auto@%i.service

[Install]
WantedBy=sleep.target</pre>
<p>Pour <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activer">activer</a> ce service pour votre carte sans fil, par exemple, activez <code>netctl-auto-resume@wlan0.service</code> en tant que root. Remplacez <code>wlan0</code> par l'interface réseau requise.
</p>
<p>Si le périphérique n'est pas encore en cours d'exécution sur la reprise lorsque l'unité est démarrée, cela échouera. Cela peut être corrigé en ajoutant la dépendance suivante dans la ligne <i>After</i> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/netctl-auto-resume@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
After=sleep.target sys-subsystem-net-devices-%i.device
...
</pre>
<h3>
<span id="netctl-auto_ne_d.C3.A9bloque_pas_automatiquement_une_carte_sans_fil_pour_utiliser_une_interface"></span><span class="mw-headline" id="netctl-auto_ne_débloque_pas_automatiquement_une_carte_sans_fil_pour_utiliser_une_interface">netctl-auto ne débloque pas automatiquement une carte sans fil pour utiliser une interface</span>
</h3>
<p>De nombreux ordinateurs portables ont un bouton matériel (ou un interrupteur) pour désactiver la carte sans fil, cependant, la carte peut également être bloquée par le noyau. Ceci peut être géré par <a href="../en/Network_configuration/Wireless.html#Rfkill_caveat" class="mw-redirect" title="Rfkill">rfkill</a>.
</p>
<p>Si vous souhaitez que <i>netctl-auto</i> débloque automatiquement votre carte sans fil pour vous connecter à un réseau particulier, définissez l'option <code>RFKill=++auto++</code> pour la connexion sans fil de votre choix, comme spécifié dans <span class="plainlinks archwiki-template-man" title="$ man 5 netctl.profile"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.profile.5">netctl.profile(5)</a></span>.
</p>
<h3>
<span id="RTNETLINK_r.C3.A9pond_:_Le_fichier_existe_.28avec_plusieurs_NICs.29"></span><span class="mw-headline" id="RTNETLINK_répond_:_Le_fichier_existe_(avec_plusieurs_NICs)">RTNETLINK répond : Le fichier existe (avec plusieurs NICs)</span>
</h3>
<p>Cette réponse est très trompeuse, elle signifie en réalité que vous avez assigné une passerelle par défaut dans un fichier de contrôle netctl antérieur. Quand netctl démarre la n-ième NIC et va définir sa route locale, il échoue parce qu'il y a déjà une route par défaut de n-1.
</p>
<p>Supprimez-la et tout fonctionne, sauf que vous n'avez plus de route par défaut et que vous ne pouvez pas accéder à des éléments tels qu'Internet. <code>ExecUpPost</code> ne fonctionne pas car il est exécuté pour chaque carte réseau.
</p>
<p>Une solution possible est de créer un nouveau service.  Remplacez "FIRST_INTERFACE" et "SECOND_INTERFACE" par vos noms d'interface, et remplacez "192.168.xxx.yyy" par votre passerelle par défaut.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/defaultrouter.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description="Configure default gateway"
Requires=netctl@FIRST_INTERFACE.service netctl@SECOND_INTERFACE.service
After=netctl@FIRST_INTERFACE.service netctl@SECOND_INTERFACE.service

[Service]
Type=oneshot
ExecStart=/usr/bin/ip route add default via 192.168.xxx.yyy

[Install]
WantedBy=network-online.target
</pre>
<h3>
<span id="Probl.C3.A8mes_avec_eduroam_et_autres_connexions_MSCHAPv2"></span><span class="mw-headline" id="Problèmes_avec_eduroam_et_autres_connexions_MSCHAPv2">Problèmes avec eduroam et autres connexions MSCHAPv2</span>
</h3>
<p>Consultez <a href="../en/Wpa_supplicant.html#Problems_with_eduroam_and_other_MSCHAPv2_connections" title="Wpa supplicant">wpa_supplicant#Problems with eduroam and other MSCHAPv2 connections</a>.
</p>
<h3><span class="mw-headline" id="Avertissements_du_journal_pour_les_profils_utilisant_les_directives_.include">Avertissements du journal pour les profils utilisant les directives .include</span></h3>
<p>Les profils utilisant toujours les anciennes directives <code>.include</code> de systemd produiront des avertissements de journal, par exemple :
</p>
<pre>systemd[1]: /etc/systemd/system/netctl@&lt;profile&gt;.service:1: .include directives are deprecated, and support for them will be removed in a future version of systemd. Please use drop-in files instead.
</pre>
<p>Voir <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/59494">FS#59494</a> pour plus de détails.
</p>
<p>L'exécution de
</p>
<pre>netctl reenable <i>profile</i>
</pre>
<p>mettra à jour le profil au nouveau format des <a href="../fr/Systemd.html#Fichiers_de_substitution" title="Systemd (Français)">fichiers de substitution</a>.
</p>
<h3><span class="mw-headline" id="Les_hooks_ne_fonctionnent_pas">Les hooks ne fonctionnent pas</span></h3>
<p>Si vous avez plusieurs hooks dans <code>/etc/netctl/hooks/</code>, des variables comme <code>ExecUpPost</code> et <code>ExecDownPre</code> ne seront exécutées que depuis un seul fichier. Pour résoudre ce problème, définissez les variables comme suit :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/hooks/test</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ExecUpPost="une commande ; "$ExecUpPost
ExecDownPre="une commande ; "$ExecDownPre
</pre>
<p>Ceci ajoutera vos commandes à exécuter à celles déjà définies.
</p>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://lists.archlinux.org/archives/list/arch-projects@lists.archlinux.org/message/KLCFCAMJQSJBC2UFRXAQZ2YW2JUSHN7O/">Annonce initiale sur la liste de diffusion</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=157670">Sujet d'annonce officiel</a></li>
<li><a rel="nofollow" class="external text" href="https://archlinux.org/news/netctl-is-now-in-core/">Annonce officielle dans les actualités</a></li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fr/Category:Network_managers.html" title="Category:Network managers (Français)">Network managers (Français)</a></li>
<li><a href="../fr/Category:Arch_projects.html" title="Category:Arch projects (Français)">Arch projects (Français)</a></li>
<li><a href="../fr/Category:Commands.html" title="Category:Commands (Français)">Commands (Français)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Netctl_(Fran%C3%A7ais)&amp;oldid=801617">https://wiki.archlinux.org/index.php?title=Netctl_(Français)&amp;oldid=801617</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 28 February 2024, at 21:35.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
