<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Kubeadm (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Kubeadm_Français rootpage-Kubeadm_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Requis" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Requis">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Requis</div>
		</a>
		
		<ul id="toc-Requis-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Configuration" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Configuration</div>
		</a>
		
			<button aria-controls="toc-Configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Configuration subsection</span>
			</button>
		
		<ul id="toc-Configuration-sublist" class="vector-toc-list">
			<li id="toc-ClusterConfiguration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#ClusterConfiguration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>ClusterConfiguration</div>
			</a>
			
			<ul id="toc-ClusterConfiguration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-KubeletConfiguration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#KubeletConfiguration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>KubeletConfiguration</div>
			</a>
			
			<ul id="toc-KubeletConfiguration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Démarrage_Kubernetes" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#D%C3%A9marrage_Kubernetes">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Démarrage Kubernetes</div>
		</a>
		
			<button aria-controls="toc-Démarrage_Kubernetes-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Démarrage Kubernetes subsection</span>
			</button>
		
		<ul id="toc-Démarrage_Kubernetes-sublist" class="vector-toc-list">
			<li id="toc-Premier_Nœud" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Premier_N%C5%93ud">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Premier Nœud</div>
			</a>
			
			<ul id="toc-Premier_Nœud-sublist" class="vector-toc-list">
				<li id="toc-InitConfiguration" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#InitConfiguration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>InitConfiguration</div>
			</a>
			
			<ul id="toc-InitConfiguration-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Autres_Nœuds" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Autres_N%C5%93uds">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Autres Nœuds</div>
			</a>
			
			<ul id="toc-Autres_Nœuds-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Personnalisation_du_control-plane" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Personnalisation_du_control-plane">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.3</span>Personnalisation du <i>control-plane</i>
</div>
			</a>
			
			<ul id="toc-Personnalisation_du_control-plane-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Outils_supplémentaires" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Outils_suppl%C3%A9mentaires">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Outils supplémentaires</div>
		</a>
		
			<button aria-controls="toc-Outils_supplémentaires-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Outils supplémentaires subsection</span>
			</button>
		
		<ul id="toc-Outils_supplémentaires-sublist" class="vector-toc-list">
			<li id="toc-Réseau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#R%C3%A9seau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Réseau</div>
			</a>
			
			<ul id="toc-Réseau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-GPUs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#GPUs">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>GPUs</div>
			</a>
			
			<ul id="toc-GPUs-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Kubeadm (Français)</span></h1>
				</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-edit-clear.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b></p>
<div>
<b>Reason:</b> <a href="#Requis">#Requis</a> devrait probablement être renomé en "Installation", des liens sont dans les titres de sections, probablement d'autres détails mineurs à ajuster. (Discuss in <a rel="nofollow" class="external text" href="../fr/Talk:Kubeadm.html">Talk:Kubeadm (Français)</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Tango-view-fullscreen.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>This article or section needs expansion.</b></p>
<div>
<b>Reason:</b> Article en cours de rédaction (Discuss in <a rel="nofollow" class="external text" href="../fr/Talk:Kubeadm.html">Talk:Kubeadm (Français)</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../en/Kubernetes.html" title="Kubernetes">Kubernetes</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://kubernetes.io/fr/docs/setup/production-environment/tools/kubeadm/">Kubeadm</a> est un outil pour installer et configurer un nœud Kubernetes en utilisant la distribution officielle.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Requis">Requis</span></h2>
<p>Le service <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kubelet">kubelet</a></span> doit être installé et démarré sur chaque ordinateur participant à la grappe Kubernetes.
Il permet le démarrage des composants de contrôle à partir des définitions entreposées dans le dossier /etc/kubernetes/manifest.
Il est le contrôleur local et communique avec l’API pour recevoir les instructions de création et destruction de Pod.
</p>
<p>Le programme <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kubeadm">kubeadm</a></span> doit être installé sur chaque ordinateur pour l’installation, la mise à jour des composants ou un changement de la configuration.
La configuration est sauvegardée directement dans Kubernetes et kubeadm permet de la récupérer et de l’installer sur chaque machine.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>La configuration des composants utilise un <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/">fichier de déclaration</a> lu par kubeadm pour générer des fichiers de configuration et les arguments de lancement des services (kubelet).
Tous les « documents » YAML peuvent être réunis dans un même fichier, séparés par « --- », pour simplifier les commandes à un seul paramètres <i>--config=options.yaml</i>.
</p>
<h3><span class="mw-headline" id="ClusterConfiguration"><a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/#kubeadm-k8s-io-v1beta4-ClusterConfiguration">ClusterConfiguration</a></span></h3>
<p>Il faut choisir deux plages d’adresses IP que les composants Kubernetes pourront utiliser pour communiquer entre eux.
Ces plages d’adresses ne doivent pas se superposer à d’autres plages d’adresses utilisées sur le réseau.
Les Pods recevront une adresse parmi celles fournies par <code>controllerManager.extraArgs.cluster-cidr</code> qui définit un sous-ensemble de <i>podSubnet</i>.
</p>
<dl>
<dt>serviceSubnet et podSubnet</dt>
<dd>sont des plages d’adresses séparées par des virgules.</dd>
<dt>dnsDomain</dt>
<dd>est le domaine DNS associé à la grappe Kubernetes. Il est alimenté automatiquement mais doit avoir un nom dissociable des DNS existants.</dd>
<dt>
<a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/#kubeadm-k8s-io-v1beta4-APIServer">apiServer</a>.certSANs</dt>
<dd>permet d’ajouter le nom DNS de la machine contenant le serveur d’API à son certificat. Cela simplifie la configuration des outils voulant communiquer avec l’API Kubernetes.</dd>
</dl>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">cluster.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">clusterName: "Kube"
networking:
  serviceSubnet: "10.84.0.0/16"
  podSubnet: "10.85.0.0/16"
  dnsDomain: "cluster.local"
controllerManager:
  extraArgs:
    allocate-node-cidrs: true
    cluster-cidr: "10.85.0.0/16"
    node-cidr-mask-size-ipv4: "24"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Un réseau IPv4 et un réseau IPv6 peuvent coexister à condition qu’une plage d’adresse soit disponible pour chacun.</div>
<p>Pour un réseau privilégiant IPv6, les <i>subnet</i> doivent contenir en premier une plage IPv6 et tous les services utiliser <code>bind-address: '::'</code>.
Une configuration complète est disponible <a rel="nofollow" class="external text" href="https://github.com/sgryphon/kubernetes-ipv6">ici</a>.
</p>
<h3><span class="mw-headline" id="KubeletConfiguration"><a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/#kubelet-config-k8s-io-v1beta1-KubeletConfiguration">KubeletConfiguration</a></span></h3>
<p>Ce fichier contient les options commune à tous les kubelet de la grappe.
Elle est publiée sur etcd pour être accessible de chaque nœud.
En cas de modification, il faut manuellement (kubeadm) installer la nouvelle configuration sur chaque machine.
</p>
<p>Les options importantes sont
</p>
<dl>
<dt>failSwapOn (<a rel="nofollow" class="external text" href="https://kubernetes.io/blog/2021/08/09/run-nodes-with-swap-alpha/">note</a>)</dt>
<dd>(bool) autorise la présence de swap. La présence de swap fausse la mesure de la mémoire utilisée par les processus.</dd>
<dt>systemReserved</dt>
<dd>mesure la quantité de ressources système en moins utilisable par Kubernetes.</dd>
<dt>kubeReserved</dt>
<dd>mesure la quantité de ressources restantes réservées aux composants centraux de Kubernetes.</dd>
</dl>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">kubelet.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
systemReserved:
  cpu: "1"
  memory: "1G"
kubeReserved:
  cpu: "500m"
  memory: "500M"</pre>
<p>Pour un réseau privilégiant IPv6, les options suivantes doivent contenir une adresse IPv6 :
</p>
<ul>
<li><code>address: "::"</code></li>
<li>
<code>clusterDNS: [...]</code> est une liste d’adresses appartenant à l’intervalle définie par <i>cluster-cidr</i>.</li>
<li>
<code>healthzBindAddress: "::1"</code> sert d’entrée dans un Pod pour les tests de réponse du service.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Il est possible qu’un service ne soit pas compatible IPv6. Si <i>healthzBindAddress</i> est une adresse IPv6 alors le Pod sera toujours considéré comme anormal car sans connexion établie. Mais la plupart des services écoutent sur les deux types d’IP en même temps.</div>
<h2>
<span id="D.C3.A9marrage_Kubernetes"></span><span class="mw-headline" id="Démarrage_Kubernetes">Démarrage Kubernetes</span>
</h2>
<h3>
<span id="Premier_N.C5.93ud"></span><span class="mw-headline" id="Premier_Nœud">Premier Nœud</span>
</h3>
<p>Le premier nœud installe les composants du <i>control-plane</i> (apiserver, etcd, controler-manager, scheduler), génère des certificats x509 pour les communication et démarre les premiers modules dans Kubernetes (coredns, kube-proxy).
Suivre <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/setup/best-practices/certificates/">ce tutoriel</a> pour utiliser ses propres certificats.
</p>
<p>La commande <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/"><i>kubeadm init</i></a> ne s’utilise que sur le premier nœud et se divise en plusieurs phases.
Par défaut toutes les phases sont réalisées dans l’ordre et sans modifier les fichiers déjà présents sur la machine.
Il est possible de demander une phase en particulier mais elle échouera si ses dépendances ne sont pas complètes.
</p>
<h4><span class="mw-headline" id="InitConfiguration"><a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/#kubeadm-k8s-io-v1beta4-InitConfiguration">InitConfiguration</a></span></h4>
<p>Le groupe <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/"><b>nodeRegistration</b></a> contient les options faisant le lien entre un nœud, son matériel et le monde extérieur.
</p>
<dl>
<dt>criSocket</dt>
<dd>(ex unix:///run/crio/crio.sock) dépend du contrôleur de conteneur installé sur la machine. Ce sera généralement cri-o et containerd.</dd>
<dt>name</dt>
<dd>est le nom donné à ce nœud. Chaque nœud doit posséder un nom différent.</dd>
<dt><a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/">kubeletExtraArgs</a></dt>
<dd>complète KubeletConfiguration avec les options individuelles, comme <code>node-ip</code> qui est la liste des adresses publiques à lesquelles joindre ce nœud.</dd>
</dl>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Certains CNI comme cilium proposent de remplacer kube-proxy.
Pour ne pas ajouter kube-proxy durant l’installation, il suffit d’ajouter « kube-proxy » à la liste <i>skipPhases</i>
</div>
<h3>
<span id="Autres_N.C5.93uds"></span><span class="mw-headline" id="Autres_Nœuds">Autres Nœuds</span>
</h3>
<p>Pour ajouter des nœuds à la grappe, ils doivent mettre en place une relation de confiance à double sens avec le <i>control-plane</i>.
La méthode du jeton utilise un jeton temporaire créé par le maître que le nouvel arrivant doit présenter pour prouver que l’administrateur a bien accès à l’API Kubernetes.
Pour vérifier que la première connexion n’a pas été détournée, kubeadm join utilise le <b>hash de la clé publique</b> utilisée par le maître.
</p>
<p>La commande <code>kubeadm token create</code>, utilisée depuis une session avec accès à l’API, génère un jeton.
La commande <code>kubeadm join --discovery-token=&lt;token&gt; --discovery-token-ca-cert-hash="&lt;hash-type&gt;:&lt;hex-encoded-value&gt;" &lt;master-IP&gt;:6443</code> génère les certificats du nœud, configure kubelet et le démarre puis l’enregistre dans la grappe.
</p>
<h3><span class="mw-headline" id="Personnalisation_du_control-plane">Personnalisation du <i>control-plane</i></span></h3>
<p>Kubeadm installe les définitions pour <i>kube-apiserver</i>, <i>kube-controller-manager</i> et <i>kube-scheduler</i> dans le dossier /etc/kubernetes/manifests du nœud principal.
À la moindre modification, le service kubelet éteint et redémarre les <i>Pods</i> correspondants pour appliquer les modifications.
</p>
<p>La méthode conseillée pour appliquer des modifications est d’utiliser Kubeadm avec des <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta3/#kubeadm-k8s-io-v1beta3-Patches">correctifs</a>.
Ces correctifs peuvent être appliqués à l’initialisation d’un nœud ou pendant sa mise à jour: <code>kubeadm upgrade apply --patches PATCHES</code>.
<code>PATCHES</code> est un dossier contenant des fichiers de correctifs nommés selon le schéma <i>target[suffix][+patchtype]</i>.
Sans nécessités particulières, ces fichiers peuvent être nommés directement avec le nom du composant à modifier.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">kube-apiserver.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">apiVersion: v1
kind: Pod
metadata:
  name: kube-apiserver
spec:
  containers:
    - name: kube-apiserver
      env:
        - name: GOMAXPROCS
          valueFrom:
            resourceFieldRef:
              resource: limits.cpu
        - name: GOMEMLIMIT
          valueFrom:
            resourceFieldRef:
              resource: requests.memory
      resources:
        requests:
          cpu: "100m"
          memory: "600Mi"
        limits:
          cpu: "4"
          memory: "700Mi"
      readinessProbe:
        periodSeconds: 15
</pre>
<p>Cet exemple diminue la fréquence du test <i>readiness</i>, réserve et limite la mémoire et informe le programme Go de ces nouvelles limitations. <a rel="nofollow" class="external text" href="https://pkg.go.dev/runtime">GOMEMLIMIT</a> est une limite douce.
</p>
<p><br>
</p>
<h2>
<span id="Outils_suppl.C3.A9mentaires"></span><span class="mw-headline" id="Outils_supplémentaires">Outils supplémentaires</span>
</h2>
<p>Les composants de base Kubernetes ne gèrent que l’orchestration et le démarrage des Pods.
Il faut ensuite installer un certain nombre de composants supplémentaires dans Kubernetes pour un fonctionnement complet.
</p>
<h3>
<span id="R.C3.A9seau"></span><span class="mw-headline" id="Réseau">Réseau</span>
</h3>
<p>La communication réseau entre Pods et entre Nodes nécessite des programmes et configurations supplémentaires sur chaque machine.
Tout cela est géré par le <i>Container Runtime Interface' comme <a rel="nofollow" class="external text" href="https://cilium.io/">Cilium</a>, <a rel="nofollow" class="external text" href="https://www.tigera.io/project-calico/">Calico</a> ou <a rel="nofollow" class="external text" href="https://github.com/flannel-io/flannel">Flannel</a>.</i>
</p>
<p>Kubernetes propose une configuration unifiée pour les <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/concepts/services-networking/ingress/">Ingress</a> (obsolète) et les <a rel="nofollow" class="external text" href="https://gateway-api.sigs.k8s.io/">Gateway</a>.
Il existe de nombreux programme pour réaliser ces tâches, dont <a rel="nofollow" class="external text" href="https://doc.traefik.io/traefik/providers/kubernetes-ingress/">traefik</a>, <a rel="nofollow" class="external text" href="https://docs.nginx.com/nginx-ingress-controller/">ingress</a>, Cilium, <a rel="nofollow" class="external text" href="https://gateway.envoyproxy.io/">envoy</a>.
</p>
<h3><span class="mw-headline" id="GPUs">GPUs</span></h3>
<p>L’utilisation des GPUs comme ressource matérielle au même titre que les CPUs et la RAM n’est pas supportée par le <i>Kubernetes Scheduler</i> basique.
Cette ressource est contrôlée par un <i>device-plugin</i> (voir <a rel="nofollow" class="external text" href="https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/">cette documentation</a>).
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../fr/Category:Virtualization.html" title="Category:Virtualization (Français)">Virtualization (Français)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Kubeadm_(Fran%C3%A7ais)&amp;oldid=811758">https://wiki.archlinux.org/index.php?title=Kubeadm_(Français)&amp;oldid=811758</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 1 July 2024, at 19:25.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
