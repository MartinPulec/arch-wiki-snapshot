<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd-networkd (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd-networkd_Français rootpage-Systemd-networkd_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Utilisation_de_base" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilisation_de_base">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Utilisation de base</div>
		</a>
		
			<button aria-controls="toc-Utilisation_de_base-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilisation de base subsection</span>
			</button>
		
		<ul id="toc-Utilisation_de_base-sublist" class="vector-toc-list">
			<li id="toc-Services_requis_et_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Services_requis_et_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.1</span>Services requis et configuration</div>
			</a>
			
			<ul id="toc-Services_requis_et_configuration-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-systemd-networkd-wait-online" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#systemd-networkd-wait-online">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.2</span>systemd-networkd-wait-online</div>
			</a>
			
			<ul id="toc-systemd-networkd-wait-online-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Exemples_de_configuration" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Exemples_de_configuration">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3</span>Exemples de configuration</div>
			</a>
			
			<ul id="toc-Exemples_de_configuration-sublist" class="vector-toc-list">
				<li id="toc-Adaptateur_filaire_utilisant_DHCP" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Adaptateur_filaire_utilisant_DHCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.1</span>Adaptateur filaire utilisant DHCP</div>
			</a>
			
			<ul id="toc-Adaptateur_filaire_utilisant_DHCP-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adaptateur_filaire_utilisant_une_IP_statique" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Adaptateur_filaire_utilisant_une_IP_statique">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.2</span>Adaptateur filaire utilisant une IP statique</div>
			</a>
			
			<ul id="toc-Adaptateur_filaire_utilisant_une_IP_statique-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adaptateur_sans_fil" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Adaptateur_sans_fil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.3</span>Adaptateur sans fil</div>
			</a>
			
			<ul id="toc-Adaptateur_sans_fil-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Adaptateurs_avec_et_sans_fil_sur_la_même_machine" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Adaptateurs_avec_et_sans_fil_sur_la_m%C3%AAme_machine">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.4</span>Adaptateurs avec et sans fil sur la même machine</div>
			</a>
			
			<ul id="toc-Adaptateurs_avec_et_sans_fil_sur_la_même_machine-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Renommer_une_interface" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Renommer_une_interface">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">1.3.5</span>Renommer une interface</div>
			</a>
			
			<ul id="toc-Renommer_une_interface-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Fichiers_de_configuration" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Fichiers_de_configuration">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Fichiers de configuration</div>
		</a>
		
			<button aria-controls="toc-Fichiers_de_configuration-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Fichiers de configuration subsection</span>
			</button>
		
		<ul id="toc-Fichiers_de_configuration-sublist" class="vector-toc-list">
			<li id="toc-Fichiers_network" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fichiers_network">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1</span>Fichiers network</div>
			</a>
			
			<ul id="toc-Fichiers_network-sublist" class="vector-toc-list">
				<li id="toc-[Match]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[Match]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.1</span>[Match]</div>
			</a>
			
			<ul id="toc-[Match]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[Link]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[Link]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.2</span>[Link]</div>
			</a>
			
			<ul id="toc-[Link]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[Network]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[Network]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.3</span>[Network]</div>
			</a>
			
			<ul id="toc-[Network]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[Adress]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[Adress]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.4</span>[Adress]</div>
			</a>
			
			<ul id="toc-[Adress]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[Route]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[Route]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.5</span>[Route]</div>
			</a>
			
			<ul id="toc-[Route]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[DHCPv4]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[DHCPv4]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.6</span>[DHCPv4]</div>
			</a>
			
			<ul id="toc-[DHCPv4]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-[DHCPServer]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#[DHCPServer]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.1.7</span>[DHCPServer]</div>
			</a>
			
			<ul id="toc-[DHCPServer]-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Fichiers_netdev" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fichiers_netdev">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2</span>Fichiers netdev</div>
			</a>
			
			<ul id="toc-Fichiers_netdev-sublist" class="vector-toc-list">
				<li id="toc-Section_[Match]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Section_[Match]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.1</span>Section [Match]</div>
			</a>
			
			<ul id="toc-Section_[Match]-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Section_[NetDev]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Section_[NetDev]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.2.2</span>Section [NetDev]</div>
			</a>
			
			<ul id="toc-Section_[NetDev]-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Fichiers_link" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Fichiers_link">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3</span>Fichiers link</div>
			</a>
			
			<ul id="toc-Fichiers_link-sublist" class="vector-toc-list">
				<li id="toc-Section_[Match]_2" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Section_[Match]_2">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.1</span>Section [Match]</div>
			</a>
			
			<ul id="toc-Section_[Match]_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Section_[Link]" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Section_[Link]">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">2.3.2</span>Section [Link]</div>
			</a>
			
			<ul id="toc-Section_[Link]-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Utilisation_avec_les_conteneurs" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Utilisation_avec_les_conteneurs">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Utilisation avec les conteneurs</div>
		</a>
		
			<button aria-controls="toc-Utilisation_avec_les_conteneurs-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Utilisation avec les conteneurs subsection</span>
			</button>
		
		<ul id="toc-Utilisation_avec_les_conteneurs-sublist" class="vector-toc-list">
			<li id="toc-Pont_réseau_avec_DHCP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pont_r%C3%A9seau_avec_DHCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1</span>Pont réseau avec DHCP</div>
			</a>
			
			<ul id="toc-Pont_réseau_avec_DHCP-sublist" class="vector-toc-list">
				<li id="toc-Interface_pont" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Interface_pont">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.1</span>Interface pont</div>
			</a>
			
			<ul id="toc-Interface_pont-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Lier_Ethernet_au_pont" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Lier_Ethernet_au_pont">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.2</span>Lier Ethernet au pont</div>
			</a>
			
			<ul id="toc-Lier_Ethernet_au_pont-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Réseau_du_pont" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#R%C3%A9seau_du_pont">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.3</span>Réseau du pont</div>
			</a>
			
			<ul id="toc-Réseau_du_pont-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configurer_le_conteneur" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Configurer_le_conteneur">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.4</span>Configurer le conteneur</div>
			</a>
			
			<ul id="toc-Configurer_le_conteneur-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Résultat" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#R%C3%A9sultat">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.5</span>Résultat</div>
			</a>
			
			<ul id="toc-Résultat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Avertissement" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Avertissement">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.1.6</span>Avertissement</div>
			</a>
			
			<ul id="toc-Avertissement-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Pont_réseau_avec_adresses_IP_statiques" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Pont_r%C3%A9seau_avec_adresses_IP_statiques">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">3.2</span>Pont réseau avec adresses IP statiques</div>
			</a>
			
			<ul id="toc-Pont_réseau_avec_adresses_IP_statiques-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Trucs_et_astuces" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Trucs_et_astuces">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Trucs et astuces</div>
		</a>
		
			<button aria-controls="toc-Trucs_et_astuces-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Trucs et astuces subsection</span>
			</button>
		
		<ul id="toc-Trucs_et_astuces-sublist" class="vector-toc-list">
			<li id="toc-Interface_et_intégration_au_bureau" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Interface_et_int%C3%A9gration_au_bureau">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Interface et intégration au bureau</div>
			</a>
			
			<ul id="toc-Interface_et_intégration_au_bureau-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Configuration_d'une_IP_statique_ou_DHCP_basée_sur_le_SSID_(emplacement)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Configuration_d'une_IP_statique_ou_DHCP_bas%C3%A9e_sur_le_SSID_(emplacement)">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.2</span>Configuration d'une IP statique ou DHCP basée sur le SSID (emplacement)</div>
			</a>
			
			<ul id="toc-Configuration_d'une_IP_statique_ou_DHCP_basée_sur_le_SSID_(emplacement)-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Collage_d'une_interface_filaire_et_sans_fil" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Collage_d'une_interface_filaire_et_sans_fil">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.3</span>Collage d'une interface filaire et sans fil</div>
			</a>
			
			<ul id="toc-Collage_d'une_interface_filaire_et_sans_fil-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Accélérer_le_démarrage_lent_de_TCP" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Acc%C3%A9l%C3%A9rer_le_d%C3%A9marrage_lent_de_TCP">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.4</span>Accélérer le démarrage lent de TCP</div>
			</a>
			
			<ul id="toc-Accélérer_le_démarrage_lent_de_TCP-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Voir aussi</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd-networkd (Français)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/Systemd/systemd-networkd" title="Systemd/systemd-networkd – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/Systemd-networkd.html" title="Systemd-networkd – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/Systemd-networkd.html" title="Systemd-networkd – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/systemd-networkd" title="systemd-networkd – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/Systemd-networkd.html" title="Systemd-networkd – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd-networkd" title="Systemd-networkd – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/Systemd-networkd.html" title="Systemd-networkd">Systemd-networkd</a>. Date de la dernière traduction: 2022-10-03. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd-networkd&amp;diff=0&amp;oldid=744791">changements</a> dans la version anglaise.</div>
<div class="archwiki-template-meta-related-articles">
<p>Related articles</p>
<ul>
<li><a href="../fr/Systemd.html" title="Systemd (Français)">systemd (Français)</a></li>
<li><a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved (Français)</a></li>
<li><a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a></li>
<li><a href="../en/Network_bridge.html" title="Network bridge">Network bridge</a></li>
<li><a href="../en/Network_configuration.html" class="mw-redirect" title="Network configuration (Français)">Network configuration (Français)</a></li>
<li><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Network configuration (Français)/Wireless (Français)">Network configuration (Français)/Wireless (Français)</a></li>
<li><a href="../fr/Category:Network_configuration.html" title="Category:Network configuration (Français)">Category:Network configuration (Français)</a></li>
</ul>
</div>
<p><i>systemd-networkd</i> est un daemon système qui gère les configurations réseau. Il détecte et configure les périphériques réseau à mesure qu'ils apparaissent ; il peut également créer des périphériques réseau virtuels. Ce service peut être particulièrement utile pour mettre en place des configurations réseau complexes pour un conteneur géré par <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a> ou pour des machines virtuelles. Il fonctionne également très bien sur des connexions simples.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Utilisation_de_base">Utilisation de base</span></h2>
<p>Le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> fait partie de l'installation par défaut d'Arch et contient tous les fichiers nécessaires au fonctionnement d'un réseau filaire.  Les adaptateurs sans fil, traités plus loin dans cet article, peuvent être configurés par des services, tels que <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a> ou <a href="../en/Iwd.html" title="Iwd">iwd</a>.
</p>
<h3><span class="mw-headline" id="Services_requis_et_configuration">Services requis et configuration</span></h3>
<p>Pour utiliser <i>systemd-networkd</i>, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Démarrez">démarrez</a> et <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Activez">activez</a> <code>systemd-networkd.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Vous devez vous assurer qu'aucun autre service souhaitant configurer le réseau n'est en cours d'exécution ; en effet, plusieurs services réseau entreront en conflit. Trouvez la liste des services en cours d'exécution avec <code>systemctl --type=service</code> et ensuite <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Stoppez">stoppez</a>-les.</div>
<p>La configuration de <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>, qui est un service de résolution de noms de réseau pour les applications locales, est facultative, compte tenu des points suivants :
</p>
<ul>
<li>Il est important de comprendre comment <a href="../fr/Domain_name_resolution.html" title="Domain name resolution (Français)">resolv.conf</a> et <i>systemd-resolved</i> interagissent pour configurer correctement le DNS qui sera utilisé, quelques explications sont fournies dans <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>.</li>
<li>
<i>systemd-resolved</i> est nécessaire si les entrées DNS sont spécifiées dans les fichiers <i>.network</i>.</li>
<li>
<i>systemd-resolved</i> est également nécessaire si vous souhaitez obtenir des adresses DNS à partir de serveurs DHCP ou d'annonces de routeurs IPv6.<br>(en définissant (<code>DHCP=</code> et/ou <code>IPv6AcceptRA=</code> dans la section <code>[Network]</code>, et <code>UseDNS=yes</code> (the default) in the corresponding section(s) <code>[DHCPv4]</code>, <code>[DHCPv6]</code>, <code>[IPv6AcceptRA]</code>, see <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5">systemd.network(5)</a></span>).</li>
<li>Notez que <i>systemd-resolved</i> peut également être utilisé sans <i>systemd-networkd</i>.</li>
</ul>
<h3><span class="mw-headline" id="systemd-networkd-wait-online">systemd-networkd-wait-online</span></h3>
<p>Activer <code>systemd-networkd.service</code> permet également d'activer <code>systemd-networkd-wait-online.service</code>, qui est un service système à action unique qui attend que le réseau soit configuré. Ce dernier a <code>WantedBy=network-online.target</code>, il ne sera donc démarré que lorsque <code>network-online.target</code> lui-même est activé ou tiré par une autre unité. Consultez également <a href="../fr/Systemd.html#Ex%C3%A9cution_des_services_apr%C3%A8s_le_d%C3%A9marrage_du_r%C3%A9seau" title="Systemd (Français)">Systemd (Français)#Exécution des services après le démarrage du réseau</a>.
</p>
<p>Par défaut, <code>systemd-networkd-wait-online.service</code> attend que tous les liens dont il a connaissance et qui sont gérés par <i>systemd-networkd</i> soient entièrement configurés ou défaillants, et qu'au moins un lien soit en ligne.
</p>
<p>Si votre système possède plusieurs interfaces réseau, mais que certaines ne sont pas censées être connectées en permanence (par exemple, si vous avez une carte Ethernet à double port, mais qu'un seul câble est branché), le démarrage de <code>systemd-networkd-wait-online.service</code> échouera après le délai par défaut de 2 minutes. Cela peut entraîner un retard indésirable dans le processus de démarrage. Pour modifier le comportement et attendre que "n'importe quelle" interface soit en ligne plutôt que "toutes" les interfaces, <a href="../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" class="mw-redirect" title="Éditez">éditez</a> le service et ajoutez le paramètre <code>--any</code> à la ligne <code>ExecStart</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=/usr/lib/systemd/systemd-networkd-wait-online --any</pre>
<p>D'autres comportements, tels que les interfaces spécifiques à attendre ou l'état opérationnel, peuvent également être configurés. Consultez <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-networkd-wait-online"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-networkd-wait-online.8">systemd-networkd-wait-online(8)</a></span> pour connaître les paramètres disponibles.
</p>
<h3><span class="mw-headline" id="Exemples_de_configuration">Exemples de configuration</span></h3>
<p>Toutes les configurations de cette section sont stockées sous le nom <code>foo.network</code> dans <code>/etc/systemd/network/</code>. Pour une liste complète des options et l'ordre de traitement, consultez <a href="#Fichiers_de_configuration">#Fichiers de configuration</a> et <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5">systemd.network(5)</a></span>.
</p>
<p>systemd/udev attribue automatiquement des noms d'interface réseau prévisibles et stables pour toutes les interfaces locales Ethernet, WLAN et WWAN. Utilisez <code>networkctl list</code> pour répertorier les périphériques du système.
</p>
<p>Après avoir apporté des modifications à un fichier de configuration, <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">redémarrez</a> <code>systemd-networkd.service</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Les options spécifiées dans les fichiers de configuration sont sensibles à la casse.</li>
<li>Dans les exemples ci-dessous, <code>enp1s0</code> est l'adaptateur filaire et <code>wlp2s0</code> est l'adaptateur sans fil. Ces noms peuvent être différents sur différents systèmes. Consultez <a href="../en/Network_configuration.html#Network_interfaces" title="Network configuration">Network configuration#Network interfaces</a> pour vérifier les noms de vos adaptateurs.</li>
<li>Il est également possible d'utiliser un caractère générique, par exemple <code>Nom=fr*</code> ou <code>Nom=wl*</code>.</li>
<li>Les périphériques peuvent également être mis en correspondance par leur type. Par exemple, <code>Type=ether</code> pour Ethernet, <code>Type=wlan</code> pour Wi-Fi et <code>Type=wwan</code> pour WWAN. Notez que <code>Type=ether</code> correspondra également aux interfaces Ethernet virtuelles (<code>veth*</code>), ce qui peut être indésirable.</li>
<li>Si vous souhaitez désactiver IPv6, consultez <a href="../en/IPv6.html#systemd-networkd_3" title="IPv6">IPv6#systemd-networkd</a>.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Adaptateur_filaire_utilisant_DHCP">Adaptateur filaire utilisant DHCP</span></h4>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/20-wired.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=enp1s0

[Network]
DHCP=yes</pre>
<h4><span class="mw-headline" id="Adaptateur_filaire_utilisant_une_IP_statique">Adaptateur filaire utilisant une IP statique</span></h4>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/20-wired.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=enp1s0

[Network]
Address=10.1.10.9/24
Gateway=10.1.10.1
DNS=10.1.10.1</pre>
<p><code>Address=</code> peut être utilisé plusieurs fois pour configurer plusieurs adresses IPv4 ou IPv6. Consultez <a href="#Fichiers_network">#Fichiers network</a> ou <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5">systemd.network(5)</a></span> pour plus d'options.
</p>
<h4><span class="mw-headline" id="Adaptateur_sans_fil">Adaptateur sans fil</span></h4>
<p>Afin de se connecter à un réseau sans fil avec <i>systemd-networkd</i>, un adaptateur sans fil configuré avec une autre application telle que <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a> ou <a href="../en/Iwd.html" title="Iwd">iwd</a> est nécessaire.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/25-wireless.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=wlp2s0

[Network]
DHCP=yes
IgnoreCarrierLoss=3s</pre>
<p>Si l'adaptateur sans fil a une adresse IP statique, la configuration est la même (sauf pour le nom de l'interface) que pour un <a href="#Adaptateur_filaire_utilisant_une_IP_statique">adaptateur filaire</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> <code>IgnoreCarrierLoss=3s</code> garantit que <i>systemd-networkd</i> ne reconfigurera pas l'interface (par exemple, libérer et réacquérir un bail DHCP) pendant une courte période (3 secondes dans cet exemple) pendant que l'interface sans fil se déplace vers un autre point d'accès dans le même réseau sans fil (SSID), ce qui se traduit par un temps d'arrêt plus court lors de l'itinérance.</div>
<p>Pour s'authentifier sur le réseau sans fil, utilisez par exemple <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a> ou <a href="../en/Iwd.html" title="Iwd">iwd</a>.
</p>
<h4>
<span id="Adaptateurs_avec_et_sans_fil_sur_la_m.C3.AAme_machine"></span><span class="mw-headline" id="Adaptateurs_avec_et_sans_fil_sur_la_même_machine">Adaptateurs avec et sans fil sur la même machine</span>
</h4>
<p>Cette configuration activera une IP DHCP pour une connexion filaire et sans fil en utilisant la directive metric pour permettre au noyau de décider à la volée laquelle utiliser.  De cette façon, aucune interruption de connexion n'est observée lorsque la connexion filaire est débranchée.
</p>
<p>La métrique de route du noyau (la même que celle configurée avec <i>ip</i>) décide de la route à utiliser pour les paquets sortants, dans les cas où plusieurs correspondent. C'est le cas lorsque les périphériques filaires et sans fil du système ont tous deux des connexions actives. Pour les départager, le noyau utilise la métrique. Si l'une des connexions est interrompue, l'autre l'emporte automatiquement sans qu'il n'y ait de vide où rien ne soit configuré (les transferts en cours peuvent encore ne pas gérer cela de manière agréable, mais cela se situe à une couche OSI différente).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> L'option <code>Metric</code> concerne les routes statiques tandis que l'option <code>RouteMetric</code> concerne les configurations n'utilisant pas de routes statiques. Consultez <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5">systemd.network(5)</a></span> pour plus de détails.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/20-wired.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=enp1s0

[Network]
DHCP=yes

[DHCPv4]
RouteMetric=10</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/25-wireless.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=wlp2s0

[Network]
DHCP=yes

[DHCPv4]
RouteMetric=20</pre>
<p>Si vous utilisez IPv6, vous devrez définir séparément la métrique pour les routes IPv6 également, comme par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/20-wired.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

[IPv6AcceptRA]
RouteMetric=10</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/25-wireless.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

[IPv6AcceptRA]
RouteMetric=20</pre>
<h4><span class="mw-headline" id="Renommer_une_interface">Renommer une interface</span></h4>
<p>Au lieu de <a href="../en/Network_configuration.html#Change_interface_name" title="Network configuration">modifier les règles d'udev</a>, un fichier <i>.link</i> peut être utilisé pour renommer une interface. Un exemple utile est de définir un nom d'interface prévisible pour un adaptateur USB vers Ethernet en se basant sur son adresse MAC, car ces adaptateurs reçoivent généralement des noms différents en fonction du port USB sur lequel ils sont branchés.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/10-ethusb0.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
MACAddress=12:34:56:78:90:ab

[Link]
Description=USB to Ethernet Adapter
Name=ethusb0</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Tout <i>.link</i> fourni par l'utilisateur <i>doit</i> avoir un nom de fichier lexicalement antérieur à celui de la configuration par défaut <code>99-default.link</code> pour être pris en compte. Par exemple, il faut nommer le fichier <code>10-ethusb0.link</code> et non <code>ethusb0.link</code>.</div>
<h2><span class="mw-headline" id="Fichiers_de_configuration">Fichiers de configuration</span></h2>
<p>Les fichiers de configuration sont situés dans <code>/usr/lib/systemd/network/</code>, le répertoire réseau d'exécution volatile <code>/run/systemd/network/</code> et le répertoire réseau d'administration locale <code>/etc/systemd/network/</code>. Les fichiers se trouvant dans <code>/etc/systemd/network/</code> ont la plus haute priorité.
</p>
<p>Il existe trois types de fichiers de configuration. Ils utilisent tous un format similaire à celui de <a href="../fr/Systemd.html#%C3%89crire_des_unit%C3%A9s" title="Systemd (Français)">fichiers d'unités de systemd</a>. 
</p>
<ul>
<li>Les fichiers <i>.network</i>. Ils vont appliquer une configuration réseau pour un périphérique <i>correspondant</i>.</li>
<li>Les fichiers <i>.netdev</i>. Ils vont créer un <i>périphérique réseau virtuel</i> pour un environnement <i>correspondant</i>.</li>
<li>Les fichiers <i>.link</i>. Lorsqu'un périphérique réseau apparaît, <a href="../fr/Udev.html" title="Udev (Français)">udev</a> cherchera le premier fichier <i>.link</i> correspondant.</li>
</ul>
<p>Ils suivent tous les mêmes règles : 
</p>
<ul>
<li>Si <b>toutes</b> les conditions de la section <code>[Match]</code> sont remplies, le profil sera activé.</li>
<li>Une section <code>[Match]</code> vide signifie que le profil s'appliquera dans tous les cas (peut être comparé au caractère générique <code>*</code>).</li>
<li>tous les fichiers de configuration sont triés collectivement et traités dans l'ordre lexical, quel que soit le répertoire dans lequel ils se trouvent</li>
<li>les fichiers ayant un nom identique se remplacent les uns les autres</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> 
<ul>
<li>Les fichiers dans <code>/etc/systemd/network/</code> remplacent le fichier correspondant fourni par le système dans <code>/usr/lib/systemd/network/</code>. Vous pouvez également créer un lien symbolique vers <code>/dev/null</code> pour "masquer" un fichier système.</li>
<li>systemd accepte les valeurs <code>1</code>, <code>true</code>, <code>yes</code>, <code>on</code> pour un booléen vrai, et les valeurs <code>0</code>, <code>false</code>, <code>no</code>, <code>off</code> pour un booléen faux. Consultez <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.syntax"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.syntax.7">systemd.syntax(7)</a></span>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Fichiers_network">Fichiers network</span></h3>
<p>Ces fichiers sont destinés à définir les variables de configuration du réseau, notamment pour les serveurs et les conteneurs.
</p>
<p>Les fichiers <i>.network</i> ont les sections suivantes : <code>[Match]</code>, <code>[Link]</code>, <code>[Network]</code>, <code>[Address]</code>, <code>[Route]</code>, et <code>[DHCPv4]</code>. Vous trouverez ci-dessous les clés communément configurées pour chaque section. Consultez <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5">systemd.network(5)</a></span> pour plus d'informations et d'exemples.
</p>
<h4>
<span id=".5BMatch.5D"></span><span class="mw-headline" id="[Match]">[Match]</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs acceptées</th>
<th>Valeur par défaut
</th>
</tr>
<tr>
<td><code>Name=</code></td>
<td>Correspond aux noms de périphériques, par exemple <code>en*</code>. En préfixant avec <code>!</code>, la liste peut être inversée.</td>
<td>noms de périphériques séparés par des espaces blancs, avec des globales, la négation logique (<code>!</code>)</td>
<td>
</td>
</tr>
<tr>
<td><code>MACAddress=</code></td>
<td>Correspondance des adresses MAC, par exemple <code>MACAddress=01:23:45:67:89:ab 00-11-22-33-44-55 AABB.CCDD.EEFF</code>
</td>
<td>Les adresses MAC sont séparées par des espaces dans un format hexadécimal délimité par deux points, un trait d'union ou un point.</td>
<td>
</td>
</tr>
<tr>
<td><code>Host=</code></td>
<td>Correspond au nom d'hôte ou à l'ID de la machine de l'hôte.</td>
<td>La chaîne de noms d'hôtes avec des expressions globales, <span class="plainlinks archwiki-template-man" title="$ man 5 machine-id"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-id.5">machine-id(5)</a></span>
</td>
<td>
</td>
</tr>
<tr>
<td><code>Virtualization=</code></td>
<td>Vérifie si le système est exécuté dans un environnement virtualisé. <code>Virtualization=false</code> correspondra uniquement à votre machine hôte, tandis que <code>Virtualization=true</code> correspondra à tout conteneur ou VM. Il est possible de vérifier un type ou une implémentation de virtualisation spécifique, ou un espace de noms d'utilisateur (avec <code>private-users</code>).</td>
<td>Les paramètres suivants peuvent être utilisés : booléen, négation logique (<code>!</code>), type (<code>vm</code>, <code>container</code>), implémentation (consultez <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-detect-virt"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-detect-virt.1">systemd-detect-virt(1)</a></span>), <code>private-users</code>.</td>
<td>
</td>
</tr>
</tbody>
</table>
<h4>
<span id=".5BLink.5D"></span><span class="mw-headline" id="[Link]">[Link]</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs acceptées</th>
<th>Valeur par défaut
</th>
</tr>
<tr>
<td><code>MACAddress=</code></td>
<td>Attribue une adresse matérielle au périphérique. Utile pour <a href="../en/MAC_address_spoofing.html#systemd-udevd" title="MAC address spoofing">MAC address spoofing</a>.</td>
<td>Les adresses MAC hexadécimales délimitées par deux points, un trait d'union ou un point.</td>
<td>
</td>
</tr>
<tr>
<td><code>MTUBytes=</code></td>
<td>Unité de transmission maximale en octets à définir pour le périphérique. Notez que si IPv6 est activé sur l'interface, et que le MTU est choisi en dessous de 1280 (le MTU minimum pour IPv6), il sera automatiquement augmenté à cette valeur. La définition d'une valeur MTU plus grande (par exemple, lors de l'utilisation de <a href="../en/Network_configuration.html#Set_device_MTU_and_queue_length" class="mw-redirect" title="Jumbo frames">jumbo frames</a>) peut accélérer de manière significative vos transferts sur le réseau</td>
<td>integer (les suffixes habituels K, M, G, sont pris en charge et sont compris dans la base de 1024)</td>
<td>
</td>
</tr>
<tr>
<td><code>Multicast=</code></td>
<td>permet l'utilisation de <a href="https://en.wikipedia.org/wiki/Multicast_address" class="extiw" title="wikipedia:Multicast address">multicast</a>
</td>
<td>booléen</td>
<td>? non documenté ?
</td>
</tr>
</tbody>
</table>
<h4>
<span id=".5BNetwork.5D"></span><span class="mw-headline" id="[Network]">[Network]</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs acceptées</th>
<th>Valeur par défaut
</th>
</tr>
<tr>
<td><code>DHCP=</code></td>
<td>Contrôle la prise en charge des clients DHCPv4 et/ou DHCPv6.</td>
<td>boolean, <code>ipv4</code>, <code>ipv6</code>
</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>DHCPServer=</code></td>
<td>Si cette option est activée, un serveur DHCPv4 sera lancé.</td>
<td>boolean</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>MulticastDNS=</code></td>
<td>Active la prise en charge du <a href="https://tools.ietf.org/html/rfc6762" class="extiw" title="rfc:6762">multicast DNS</a>. Lorsqu'il a pour valeur <code>resolve</code>, seule la résolution est activée, mais pas l'enregistrement et l'annonce des hôtes ou des services.</td>
<td>booléen, <code>resolve</code>
</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>DNSSEC=</code></td>
<td>Contrôle la prise en charge de la validation DNSSEC du DNS sur le lien. Lorsqu'il est défini sur <code>allow-downgrade</code>, la compatibilité avec les réseaux non compatibles DNSSEC est améliorée, en désactivant automatiquement le DNSSEC dans ce cas.</td>
<td>booléen, <code>allow-downgrade</code>
</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>DNS=</code></td>
<td>Configurer des adresses <a href="../en/Domain_name_resolution.html" class="mw-redirect" title="DNS">DNS</a> statiques. Peut être spécifié plus d'une fois.</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 3 inet_pton"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/inet_pton.3">inet_pton(3)</a></span></td>
<td>
</td>
</tr>
<tr>
<td><code>Domains=</code></td>
<td>Une liste de domaines qui doivent être résolus en utilisant les serveurs DNS de ce lien. <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5#%5BNETWORK%5D_SECTION_OPTIONS">systemd.network(5) § [NETWORK] SECTION OPTIONS</a></span>
</td>
<td>Nom de domaine, éventuellement préfixé d'un tilde (<code>~</code>)</td>
<td>
</td>
</tr>
<tr>
<td><code>IPForward=</code></td>
<td>Si elle est activée, les paquets entrants sur n'importe quelle interface réseau seront transférés vers n'importe quelle autre interface en fonction de la table de routage. Consultez <a href="../en/Internet_sharing.html#Enable_packet_forwarding" title="Internet sharing">Internet sharing#Enable packet forwarding</a> pour plus de détails.</td>
<td>boolean, <code>ipv4</code>, <code>ipv6</code>
</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>IPMasquerade=</code></td>
<td>Si elle est activée, les paquets transférés depuis l'interface réseau apparaîtront comme provenant de l'hôte local. Selon la valeur, implique <code>IPForward=ipv4</code>, <code>IPForward=ipv6</code> ou <code>IPForward=yes</code>
</td>
<td>
<code>ipv4</code>, <code>ipv6</code>, <code>both</code>, <code>no</code>
</td>
<td>
<code>no</code>
</td>
</tr>
<tr>
<td><code>IPv6PrivacyExtensions=</code></td>
<td>Configure l'utilisation d'adresses temporaires sans état qui changent avec le temps (consultez <a href="https://tools.ietf.org/html/rfc4941" class="extiw" title="rfc:4941">RFC 4941</a>). Lorsque <code>prefer-public</code>, active les extensions de confidentialité, mais préfère les adresses publiques aux adresses temporaires. Lorsque <code>kernel</code>, le paramètre par défaut du noyau est laissé en place.</td>
<td>boolean, <code>prefer-public</code>, <code>kernel</code>
</td>
<td>
<code>false</code>
</td>
</tr>
</tbody>
</table>
<h4>
<span id=".5BAdress.5D"></span><span class="mw-headline" id="[Adress]">[Adress]</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs acceptées</th>
<th>Valeur par défaut
</th>
</tr>
<tr>
<td><code>Address=</code></td>
<td>Spécifiez cette clé plusieurs fois pour configurer plusieurs adresses. Obligatoire sauf si DHCP est utilisé. Si l'adresse spécifiée est <code>0.0.0.0</code> (pour IPv4) ou <code>::</code>} (pour IPv6), une nouvelle plage d'adresses de la taille demandée est automatiquement allouée à partir d'un pool de plages inutilisées à l'échelle du système.</td>
<td>adresse IPv4 ou IPv6 statique et sa longueur de préfixe (consultez <span class="plainlinks archwiki-template-man" title="$ man 3 inet_pton"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/inet_pton.3">inet_pton(3)</a></span>)</td>
<td>
</td>
</tr>
</tbody>
</table>
<h4>
<span id=".5BRoute.5D"></span><span class="mw-headline" id="[Route]">[Route]</span>
</h4>
<ul>
<li>
<code>Gateway=</code> cette option est <b>obligatoire</b> sauf si DHCP est utilisé.</li>
<li>
<code>Destination=</code> le préfixe de destination de la route, éventuellement suivi d'une barre oblique et de la longueur du préfixe.</li>
</ul>
<p>Si <code>Destination</code> n'est pas présent dans la section <code>[Route]</code>, cette section est traitée comme une route par défaut.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Vous pouvez placer les clés <code>Address=</code> et <code>Gateway=</code> dans la section <code>[Network]</code> comme raccourci si la section <code>[Address]</code> ne contient qu'une clé <code>Address</code> et la section <code>[Route]</code> ne contient qu'une clé <code>Gateway</code>.</div>
<h4>
<span id=".5BDHCPv4.5D"></span><span class="mw-headline" id="[DHCPv4]">[DHCPv4]</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs acceptées</th>
<th>Valeur par défaut
</th>
</tr>
<tr>
<td><code>UseDNS=</code></td>
<td>contrôle si les serveurs DNS annoncés par le serveur DHCP sont utilisés</td>
<td>booléen</td>
<td>
<code>true</code>
</td>
</tr>
<tr>
<td><code>Anonymize=</code></td>
<td>Lorsque cette option est vraie, les options envoyées au serveur DHCP suivent la <a href="https://tools.ietf.org/html/rfc7844" class="extiw" title="rfc:7844">RFC:7844</a>. (Profils d'anonymat pour les clients DHCP) pour minimiser la divulgation d'informations d'identification</td>
<td>booléen</td>
<td>
<code>false</code>
</td>
</tr>
<tr>
<td><code>UseDomains=</code></td>
<td>contrôle si le nom de domaine reçu du serveur DHCP sera utilisé comme domaine de recherche DNS. S'il a pour valeur <code>route</code>, le nom de domaine reçu du serveur DHCP sera utilisé pour le routage des requêtes DNS uniquement, mais pas pour la recherche. Cette option peut parfois corriger la résolution de noms locaux lors de l'utilisation de <a href="../fr/Systemd-resolved.html" title="Systemd-resolved (Français)">systemd-resolved</a>.</td>
<td>booléen, <code>route</code>
</td>
<td>
<code>false</code>
</td>
</tr>
</tbody>
</table>
<h4>
<span id=".5BDHCPServer.5D"></span><span class="mw-headline" id="[DHCPServer]">[DHCPServer]</span>
</h4>
<p>Voici un exemple de configuration de serveur DHCP qui fonctionne bien avec <a href="../en/Software_access_point.html#Wi-Fi_link_layer" class="mw-redirect" title="Hostapd">hostapd</a> pour créer un hotspot sans fil. <code>IPMasquerade</code> ajoute les règles de pare-feu pour <a href="../en/Internet_sharing.html#Enable_NAT" title="Internet sharing">NAT</a> et implique <code>IPForward=ipv4</code> pour activer <a href="../en/Internet_sharing.html#Enable_packet_forwarding" title="Internet sharing">packet forwarding</a>.
</p>
<div class="noprint archwiki-template-message">
<p><span class="mw-default-size" typeof="mw:File"><span><img src="../File:Inaccurate.svg" decoding="async" width="48" height="48" class="mw-file-element"></span></span><b>The factual accuracy of this article or section is disputed.</b></p>
<div>
<b>Reason:</b> <code>IPMasquerade=ipv4</code> n'ajoute pas les règles pour la table <code>filter</code>, elles doivent être ajoutées manuellement. Consultez <a href="../en/Systemd-nspawn.html#Use_a_virtual_Ethernet_link" title="Systemd-nspawn">Systemd-nspawn#Use a virtual Ethernet link</a>. (Discuss in <a href="../en/Talk:Systemd-networkd.html" title="Talk:Systemd-networkd">Talk:Systemd-networkd</a>)</div>
</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/<i>wlan0</i>.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=wlan0

[Network]
Address=10.1.1.1/24
DHCPServer=true
IPMasquerade=ipv4

[DHCPServer]
PoolOffset=100
PoolSize=20
EmitDNS=yes
DNS=9.9.9.9
</pre>
<h3><span class="mw-headline" id="Fichiers_netdev">Fichiers netdev</span></h3>
<p>Ces fichiers permettent de créer des périphériques réseau virtuels. Ils comportent deux sections : <code>[Match]</code> et <code>[NetDev]</code>. Vous trouverez ci-dessous les clés communément configurées pour chaque section. Consultez <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.netdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.netdev.5">systemd.netdev(5)</a></span> pour plus d'informations et d'exemples.
</p>
<h4>
<span id="Section_.5BMatch.5D"></span><span class="mw-headline" id="Section_[Match]">Section [Match]</span>
</h4>
<ul>
<li>
<code>Host=</code> le nom d'hôte</li>
<li>
<code>Virtualization=</code> vérifie si le système fonctionne dans un environnement virtualisé.</li>
</ul>
<h4>
<span id="Section_.5BNetDev.5D"></span><span class="mw-headline" id="Section_[NetDev]">Section [NetDev]</span>
</h4>
<p>Les clés les plus courantes sont :
</p>
<ul>
<li>
<code>Name=</code> le nom de l'interface. <b>obligatoire</b>
</li>
<li>
<code>Kind=</code> par exemple <i>bridge</i>, <i>bond</i>, <i>vlan</i>, <i>veth</i>, <i>sit</i>, etc. <b>obligatoire</b>
</li>
</ul>
<h3><span class="mw-headline" id="Fichiers_link">Fichiers link</span></h3>
<p>Ces fichiers sont une alternative aux règles udev personnalisées et seront appliqués par <a href="../en/Udev.html" title="Udev">udev</a> lorsque le périphérique apparaîtra. Ils ont deux sections : <code>[Match]</code> et <code>[Link]</code>. Vous trouverez ci-dessous les clés communément configurées pour chaque section. Consultez <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.link.5">systemd.link(5)</a></span> pour plus d'informations et d'exemples.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> Utiliser <code>udevadm test-builtin net_setup_link /sys/path/to/network/device</code> en tant qu'utilisateur root pour diagnostiquer les problèmes avec les fichiers <i>.link</i>. </div>
<h4>
<span id="Section_.5BMatch.5D_2"></span><span class="mw-headline" id="Section_[Match]_2">Section [Match]</span>
</h4>
<ul>
<li>
<code>MACAddress=</code> l'adresse MAC</li>
<li>
<code>Host=</code> le nom de l'hôte</li>
<li>
<code>Virtualization=</code> vérifie si le système fonctionne dans un environnement virtualisé</li>
<li>
<code>Type=</code> le type de périphérique, par exemple vlan</li>
</ul>
<h4>
<span id="Section_.5BLink.5D"></span><span class="mw-headline" id="Section_[Link]">Section [Link]</span>
</h4>
<ul>
<li>
<code>MACAddressPolicy=</code> adresses persistantes ou aléatoires, ou</li>
<li>
<code>MACAddress=</code> une adresse spécifique</li>
<li>
<code>NamePolicy=</code> liste des politiques par lesquelles le nom de l'interface doit être défini, par exemple, noyau, garder</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> le <code>/usr/lib/systemd/network/99-default.link</code> du système est généralement suffisant pour la plupart des cas de base.</div>
<h2><span class="mw-headline" id="Utilisation_avec_les_conteneurs">Utilisation avec les conteneurs</span></h2>
<p><i>systemd-networkd</i> peut fournir une configuration entièrement automatique du réseau pour les conteneurs <a href="../en/Systemd-nspawn.html" title="Systemd-nspawn">systemd-nspawn</a> lorsqu'il est utilisé sur le système hôte ainsi qu'à l'intérieur du conteneur. Consultez <a href="../en/Systemd-nspawn.html#Networking" title="Systemd-nspawn">systemd-nspawn#Networking</a> pour une présentation complète.
</p>
<p>Pour les exemples ci-dessous , 
</p>
<ul>
<li>nous limiterons la sortie de la commande <code>ip a</code> aux interfaces concernées.</li>
<li>Nous supposons que l'hôte est le système d'exploitation principal sur lequel vous démarrez et que le conteneur est votre machine virtuelle invitée.</li>
<li>tous les noms d'interfaces et les adresses IP ne sont que des exemples.</li>
</ul>
<h3>
<span id="Pont_r.C3.A9seau_avec_DHCP"></span><span class="mw-headline" id="Pont_réseau_avec_DHCP">Pont réseau avec DHCP</span>
</h3>
<h4><span class="mw-headline" id="Interface_pont">Interface pont</span></h4>
<p>Tout d'abord, créez une interface virtuelle <a href="../en/Network_bridge.html" class="mw-redirect" title="Bridge">bridge</a> avec un fichier d'unité netdev. Nous demandons à systemd de créer un périphérique nommé <i>br0</i> qui fonctionne comme un pont Ethernet.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/<i>mybridge</i>.netdev</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[NetDev]
Name=br0
Kind=bridge</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> <i>systemd-networkd</i> attribue au pont une adresse MAC générée à partir du nom de l'interface et de l'ID de la machine. Cela peut provoquer des problèmes de connexion, par exemple en cas de routage basé sur le filtrage MAC. Pour contourner ces problèmes, vous pouvez attribuer une adresse MAC à votre passerelle, probablement la même que celle de votre périphérique physique, en ajoutant la ligne <code>MACAddress=xx:xx:xx:xx:xx:xx</code> dans la section <i>NetDev</i> ci-dessus.</div>
<p><a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">Redémarrez</a> <code>systemd-networkd.service</code> pour que systemd crée le pont.
</p>
<p>Pour consulter le pont nouvellement créé sur l'hôte et sur le conteneur, tapez :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip a</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">3 : br0 : &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default 
    link/ether ae:bd:35:ea:0c:c9 brd ff:ff:ff:ff:ff:ff:ff
</pre>
<p>Notez que l'interface <i>br0</i> est listée mais est toujours DOWN à ce stade.
</p>
<h4><span class="mw-headline" id="Lier_Ethernet_au_pont">Lier Ethernet au pont</span></h4>
<p>L'étape suivante consiste à ajouter une interface réseau au pont nouvellement créé. Son fichier de configuration doit être chargé avant ceux des interfaces liées, donc son fichier de configuration doit être alphanumériquement antérieur à ceux-ci. Dans l'exemple ci-dessous, nous ajoutons toute interface qui correspond au nom <i>en*</i> au pont <i>br0</i>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/10_<i>bind</i>.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=en*

[Network]
Bridge=br0</pre>
<p>L'interface Ethernet ne doit pas avoir de DHCP ou d'adresse IP associée car le pont a besoin d'une interface à laquelle se lier sans IP : modifiez le <code>/etc/systemd/network/<i>MyEth</i>.network</code> correspondant en conséquence pour supprimer l'adressage.
</p>
<h4>
<span id="R.C3.A9seau_du_pont"></span><span class="mw-headline" id="Réseau_du_pont">Réseau du pont</span>
</h4>
<p>Maintenant que le pont a été créé et qu'il a été lié à une interface réseau existante, la configuration IP de l'interface du pont doit être spécifiée. Ceci est défini dans un troisième fichier <i>.network</i>, l'exemple ci-dessous utilise DHCP.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/<i>mybridge</i>.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=br0

[Network]
DHCP=ipv4</pre>
<h4><span class="mw-headline" id="Configurer_le_conteneur">Configurer le conteneur</span></h4>
<p>Utilisez l'option <code>--network-bridge=br0</code> lors du démarrage du conteneur. Consultez <a href="../en/Systemd-nspawn.html#Use_a_network_bridge" title="Systemd-nspawn">Systemd-nspawn#Use a network bridge</a> pour plus de détails.
</p>
<h4>
<span id="R.C3.A9sultat"></span><span class="mw-headline" id="Résultat">Résultat</span>
</h4>
<ul><li>sur l'hôte</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip a</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">3 : br0 : &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default 
    link/ether 14:da:e9:b5:7a:88 brd ff:ff:ff:ff:ff:ff:ff
    inet 192.168.1.87/24 brd 192.168.1.255 scope global br0
       valid_lft forever preferred_lft forever
    inet6 fe80::16da:e9ff:feb5:7a88/64 scope link 
       valid_lft forever preferred_lft forever
6 : vb-<i>MyContainer</i> : &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP group default qlen 1000
    link/ether d2:7c:97:97:37:25 brd ff:ff:ff:ff:ff:ff:ff
    inet6 fe80::d07c:97ff:fe97:3725/64 scope link 
       valid_lft forever preferred_lft forever
</pre>
<ul><li>sur le conteneur</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip a</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2 : host0 : &lt;BROADCAST,MULTICAST,ALLMULTI,AUTOMEDIA,NOTRAILERS,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 5e:96:85:83:a8:5d brd ff:ff:ff:ff:ff:ff:ff
    inet 192.168.1.73/24 brd 192.168.1.255 scope global host0
       valid_lft forever preferred_lft forever
    inet6 fe80::5c96:85ff:fe83:a85d/64 scope lien 
       valid_lft forever preferred_lft forever
</pre>
<h4><span class="mw-headline" id="Avertissement">Avertissement</span></h4>
<ul>
<li>Nous avons maintenant une adresse IP pour <code>br0</code> sur l'hôte et une pour <code>host0</code> dans le conteneur.</li>
<li>deux nouvelles interfaces sont apparues : <code>vb-<i>MyContainer</i></code> dans l'hôte et <code>host0</code> dans le conteneur. Ceci est le résultat de l'option <code>--network-bridge=br0</code> comme expliqué dans <a href="../en/Systemd-nspawn.html#Use_a_network_bridge" title="Systemd-nspawn">Systemd-nspawn#Use a network bridge</a> pour plus de détails.</li>
<li>l'adresse DHCP sur <code>host0</code> provient du fichier <code>/usr/lib/systemd/network/80-container-host0.network</code> du système.</li>
<li>sur l'hôte</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ brctl show</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bridge name	bridge id		STP enabled	interfaces
br0		8000.14dae9b57a88	no		enp7s0
							vb-<i>MyContainer</i>
</pre>
<p>la sortie de la commande ci-dessus confirme que nous avons un pont avec deux interfaces liées à.
</p>
<ul><li>sur l'hôte</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip route</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default via 192.168.1.254 dev br0 
192.168.1.0/24 dev br0 proto kernel scope link src 192.168.1.87
</pre>
<ul><li>sur le conteneur</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip route</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default via 192.168.1.254 dev host0 
192.168.1.0/24 dev host0 proto kernel scope link src 192.168.1.73
</pre>
<p>Les résultats de la commande ci-dessus confirment que nous avons activé les interfaces {ic|br0}} et {ic|host0}} avec une adresse IP et une passerelle 192.168.1.254. L'adresse de la passerelle a été automatiquement récupérée par <i>systemd-networkd</i>.
</p>
<h3>
<span id="Pont_r.C3.A9seau_avec_adresses_IP_statiques"></span><span class="mw-headline" id="Pont_réseau_avec_adresses_IP_statiques">Pont réseau avec adresses IP statiques</span>
</h3>
<p>Définir une adresse IP statique pour chaque appareil peut être utile dans le cas de services web déployés (par exemple FTP, http, SSH). Chaque périphérique conservera la même adresse MAC lors des redémarrages si le fichier <code>/usr/lib/systemd/network/99-default.link</code> de votre système possède l'option <code>MACAddressPolicy=persistent</code> (par défaut). Ainsi, vous pourrez facilement router n'importe quel service sur votre passerelle vers le périphérique souhaité.
</p>
<p>La configuration suivante doit être effectuée pour cette installation :
</p>
<ul><li>sur l'hôte</li></ul>
<p>La configuration est très similaire à celle de la section <a href="#Pont_r%C3%A9seau_avec_DHCP">#Pont réseau avec DHCP</a>. Tout d'abord, une interface de pont virtuelle doit être créée et l'interface physique principale doit lui être liée. Cette tâche peut être accomplie avec les deux fichiers suivants, dont le contenu est identique à celui de la section DHCP.
</p>
<pre>/etc/systemd/network/<i>MyBridge</i>.netdev
/etc/systemd/network/<i>MyEth</i>.network
</pre>
<p>Ensuite, vous devez configurer l'IP et le DNS de l'interface de pont virtuel nouvellement créée. Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/<i>MyBridge</i>.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=br0

[Network]
DNS=192.168.1.254
Address=192.168.1.87/24
Gateway=192.168.1.254
</pre>
<ul><li>sur le conteneur</li></ul>
<p>Pour obtenir la configuration d'une adresse IP statique sur le conteneur, nous devons remplacer le fichier <code>/usr/lib/systemd/network/80-container-host0.network</code> du système, qui fournit une configuration DHCP pour l'interface réseau <code>host0</code> du conteneur. Pour ce faire, il suffit de placer la configuration dans <code>/etc/systemd/network/80-container-host0.network</code>. Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/80-container-host0.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=host0

[Network]
DNS=192.168.1.254
Address=192.168.1.94/24
Gateway=192.168.1.254</pre>
<p>Assurez-vous que <code>systemd-networkd.service</code> est <a href="../fr/Systemd.html#Utilisation_des_unit%C3%A9s" title="Systemd (Français)">activé</a> dans le conteneur.
</p>
<h2><span class="mw-headline" id="Trucs_et_astuces">Trucs et astuces</span></h2>
<h3>
<span id="Interface_et_int.C3.A9gration_au_bureau"></span><span class="mw-headline" id="Interface_et_intégration_au_bureau">Interface et intégration au bureau</span>
</h3>
<p><i>systemd-networkd</i> ne dispose pas d'une interface de gestion interactive appropriée, que ce soit via le <a href="../en/Command-line_shell.html" title="Command-line shell">shell de ligne de commande</a> ou graphique.
</p>
<p>Néanmoins, certains outils sont disponibles pour afficher l'état actuel du réseau, recevoir des notifications ou interagir avec la configuration sans fil :
</p>
<ul>
<li>
<i>networkctl</i> (via CLI) offre un vidage simple des états de l'interface réseau.</li>
<li>Lorsque <i>networkd</i> est configuré avec <a href="../en/Wpa_supplicant.html" title="Wpa supplicant">wpa_supplicant</a>, <i>wpa_cli</i> et <i>wpa_gui</i> offrent la possibilité d'associer et de configurer les interfaces WLAN dynamiquement.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkd-notify-git/">networkd-notify-git</a></span><sup><small>AUR</small></sup> peut générer des notifications simples en réponse aux changements d'état de l'interface réseau (tels que la connexion/déconnexion et la réassociation).</li>
<li>Le daemon <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/networkd-dispatcher/">networkd-dispatcher</a></span><sup><small>AUR</small></sup> permet d'exécuter des scripts en réponse aux changements d'état de l'interface réseau, de manière similaire à <i>NetworkManager-dispatcher</i>.</li>
<li>Comme pour le résolveur DNS <i>systemd-resolved</i>, les informations sur les serveurs DNS actuels peuvent être visualisées avec <code>resolvectl status</code>.</li>
</ul>
<h3>
<span id="Configuration_d.27une_IP_statique_ou_DHCP_bas.C3.A9e_sur_le_SSID_.28emplacement.29"></span><span class="mw-headline" id="Configuration_d'une_IP_statique_ou_DHCP_basée_sur_le_SSID_(emplacement)">Configuration d'une IP statique ou DHCP basée sur le SSID (emplacement)</span>
</h3>
<p>Il arrive souvent que le réseau sans fil de votre domicile utilise le DHCP et que le réseau sans fil de votre bureau utilise une IP statique. Cette configuration mixte peut être configurée comme suit :
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Le numéro dans le nom du fichier décide de l'ordre dans lequel les fichiers sont traités. Vous pouvez [Match] en fonction du SSID, du BSSID ou des deux.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/24-wireless-office.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># special configuration for office WiFi network
[Match]
Name=wlp2s0
SSID=office_ap_name
#BSSID=aa:bb:cc:dd:ee:ff

[Network]
Address=10.1.10.9/24
Gateway=10.1.10.1
DNS=10.1.10.1
#DNS=8.8.8.8
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/25-wireless-dhcp.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># use DHCP for any other WiFi network
[Match]
Name=wlp2s0

[Network]
DHCP=ipv4
</pre>
<h3>
<span id="Collage_d.27une_interface_filaire_et_sans_fil"></span><span class="mw-headline" id="Collage_d'une_interface_filaire_et_sans_fil">Collage d'une interface filaire et sans fil</span>
</h3>
<p>Consulter également <a href="../en/Wireless_bonding.html" title="Wireless bonding">Liaison sans fil</a>.
</p>
<p>Le bonding permet le partage de la connexion à travers plusieurs interfaces, donc si par exemple l'interface filaire est débranchée, le sans-fil reste connecté et la connectivité du réseau reste en place de manière transparente.
</p>
<p>Créez une interface de liaison. Dans ce cas, le mode est <i>active-backup</i>, ce qui signifie que les paquets sont acheminés par une interface secondaire si l'interface primaire tombe en panne.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/30-bond0.netdev</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[NetDev]
Name=bond0
Kind=bond

[Bond]
Mode=active-backup
PrimaryReselectPolicy=always
MIIMonitorSec=1s
</pre>
<p>Définissez l'interface filaire comme primaire :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/30-ethernet-bond0.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=enp0s25

[Network]
Bond=bond0
PrimarySlave=true
</pre>
<p>Définissez le réseau sans fil comme secondaire :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/30-wifi-bond0.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=wlan0

[Network]
Bond=bond0
</pre>
<p>Configurez l'interface de liaison comme vous le feriez pour une interface normale :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/30-bond0.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=bond0

[Network]
DHCP=ipv4
</pre>
<p>Maintenant, si le réseau filaire est débranché, la connexion devrait rester via le sans fil :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ networkctl</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">IDX LINK    TYPE     OPERATIONAL      SETUP     
  1 lo      loopback carrier          unmanaged 
  2 enp0s25 ether    no-carrier       configured
  3 bond0   bond     degraded-carrier configured
  5 wlan0   wlan     enslaved         configured

4 links listed.
</pre>
<h3>
<span id="Acc.C3.A9l.C3.A9rer_le_d.C3.A9marrage_lent_de_TCP"></span><span class="mw-headline" id="Accélérer_le_démarrage_lent_de_TCP">Accélérer le démarrage lent de TCP</span>
</h3>
<p>Sur une liaison à bande passante élevée avec une latence modérée (généralement une connexion Internet domestique supérieure à 10 Mbit/s), les paramètres par défaut de l'algorithme de démarrage lent TCP sont quelque peu conservateurs.  Ce problème se manifeste par des téléchargements qui démarrent lentement et qui mettent plusieurs secondes à s'accélérer avant d'atteindre la pleine largeur de bande de la connexion.  Il est particulièrement visible lors d'une mise à jour de pacman, où chaque paquet téléchargé démarre lentement et se termine souvent avant d'avoir atteint la vitesse maximale de la connexion.
</p>
<p>Ces paramètres peuvent être ajustés pour que les connexions TCP démarrent avec des tailles de fenêtre plus grandes que les valeurs par défaut, évitant ainsi le temps qu'il faut pour qu'elles augmentent automatiquement à chaque nouvelle connexion TCP <a rel="nofollow" class="external autonumber" href="https://www.cdnplanet.com/blog/tune-tcp-initcwnd-for-optimum-performance/">[1]</a>.  Bien que cela diminue généralement les performances sur les connexions lentes (ou si les valeurs sont trop élevées) en raison de la nécessité de retransmettre un plus grand nombre de paquets perdus, elles peuvent augmenter considérablement les performances sur les connexions avec une bande passante suffisante.
</p>
<p>Il est important d'effectuer une analyse comparative avant et après la modification de ces valeurs pour s'assurer que la vitesse du réseau est améliorée et non réduite.  Si vous ne consultez pas les téléchargements qui commencent lentement et s'accélèrent progressivement, il n'est pas nécessaire de modifier ces valeurs car elles sont déjà optimales pour la vitesse de votre connexion.  Lors de l'évaluation comparative, veillez à effectuer des tests sur un serveur distant à haute et à basse vitesse pour vous assurer que vous n'accélérez pas l'accès aux machines rapides au détriment de l'accès aux serveurs lents.
</p>
<p>Pour ajuster ces valeurs, modifiez le fichier <i>.network</i> de la connexion :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/network/eth0.network</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Name=eth0

#[Network]
#Gateway=...  &lt;-- Remove this if you have it, and put it in the Gateway= line below

[Route]
# This will apply to the gateway supplied via DHCP.  If you manually specify
# your gateway, put it here instead.
Gateway=_dhcp4

# The defaults for these values is 10.  They are a multiple of the MSS (1460 bytes).
InitialCongestionWindow=10
InitialAdvertisedReceiveWindow=10</pre>
<p>Les valeurs par défaut de <code>10</code> fonctionnent bien pour les connexions plus lentes que 10 Mbit/s.  Pour une connexion de 100 Mbit/s, une valeur de <code>30</code> fonctionne bien.  La page de manuel <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.network.5#%5BROUTE%5D_SECTION_OPTIONS">systemd.network(5) § [ROUTE] SECTION OPTIONS</a></span> indique qu'une valeur de <code>100</code> est considérée comme excessive.
</p>
<p>Si le paramètre <a href="../en/Sysctl.html" title="Sysctl">sysctl</a> <code>net.ipv4.tcp_slow_start_after_idle</code> est activé, la connexion reviendra à ces paramètres initiaux après un certain temps d'inactivité (souvent très court).  Si ce paramètre est désactivé, la connexion maintiendra une fenêtre plus élevée si une fenêtre plus grande a été négociée pendant le transfert de paquets.  Quel que soit le paramètre, chaque nouvelle connexion TCP commencera avec les paramètres <code>Initial*</code> définis ci-dessus.
</p>
<p>Le paramètre sysctl <code>net.ipv4.tcp_congestion_control</code> n'est pas directement lié à ces valeurs, car il contrôle la façon dont les fenêtres d'encombrement et de réception sont ajustées lorsqu'une liaison TCP est active, et particulièrement lorsque le chemin entre les deux hôtes est encombré et que le débit doit être réduit.  Les valeurs <code>Initial*</code> ci-dessus définissent simplement les valeurs de fenêtre par défaut sélectionnées pour chaque nouvelle connexion, avant qu'un algorithme de congestion prenne le relais et les ajuste si nécessaire.  Définir des valeurs initiales plus élevées raccourcit simplement une partie de la négociation pendant que l'algorithme de congestion tente de trouver les valeurs optimales (ou, à l'inverse, définir des valeurs initiales erronées ajoute un temps de négociation supplémentaire pendant que l'algorithme de congestion s'efforce de les corriger, ralentissant chaque connexion TCP nouvellement établie pendant quelques secondes supplémentaires).
</p>
<h2><span class="mw-headline" id="Voir_aussi">Voir aussi</span></h2>
<ul>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 systemd-networkd"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-networkd.8">systemd-networkd(8)</a></span></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20201111213850/https://coreos.com/blog/intro-to-systemd-networkd/">Messages de Tom Gundersen sur le blog de Core OS</a></li>
<li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1393759#p1393759">Comment configurer systemd-networkd avec wpa_supplicant</a> (Instruction de WonderWoofy sur les forums Arch)</li>
</ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fr/Category:Network_managers.html" title="Category:Network managers (Français)">Network managers (Français)</a></li>
<li><a href="../fr/Category:Virtualization.html" title="Category:Virtualization (Français)">Virtualization (Français)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd-networkd_(Fran%C3%A7ais)&amp;oldid=801752">https://wiki.archlinux.org/index.php?title=Systemd-networkd_(Français)&amp;oldid=801752</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 29 February 2024, at 22:03.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
