<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-disabled vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd (Français)/Journal (Français) - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.42.1">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_Français_Journal_Français rootpage-Systemd_Français skin-vector-2022 action-view skin--responsive">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" role="navigation" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Niveau_de_priorité" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Niveau_de_priorit%C3%A9">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">1</span>Niveau de priorité</div>
		</a>
		
		<ul id="toc-Niveau_de_priorité-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Fonctionnalité" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Fonctionnalit%C3%A9">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">2</span>Fonctionnalité</div>
		</a>
		
		<ul id="toc-Fonctionnalité-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Filtrage_de_la_sortie" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Filtrage_de_la_sortie">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">3</span>Filtrage de la sortie</div>
		</a>
		
		<ul id="toc-Filtrage_de_la_sortie-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Limite_de_taille_du_journal" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Limite_de_taille_du_journal">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">4</span>Limite de taille du journal</div>
		</a>
		
			<button aria-controls="toc-Limite_de_taille_du_journal-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon vector-icon--x-small mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Limite de taille du journal subsection</span>
			</button>
		
		<ul id="toc-Limite_de_taille_du_journal-sublist" class="vector-toc-list">
			<li id="toc-Limite_de_taille_par_unité_avec_un_espace_de_nom_séparé" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Limite_de_taille_par_unit%C3%A9_avec_un_espace_de_nom_s%C3%A9par%C3%A9">
				<div class="vector-toc-text">
				<span class="vector-toc-numb">4.1</span>Limite de taille par unité avec un espace de nom séparé</div>
			</a>
			
			<ul id="toc-Limite_de_taille_par_unité_avec_un_espace_de_nom_séparé-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Nettoyer_les_fichiers_journaux_manuellement" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Nettoyer_les_fichiers_journaux_manuellement">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">5</span>Nettoyer les fichiers journaux manuellement</div>
		</a>
		
		<ul id="toc-Nettoyer_les_fichiers_journaux_manuellement-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Journald_en_conjonction_avec_syslog" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Journald_en_conjonction_avec_syslog">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">6</span>Journald en conjonction avec syslog</div>
		</a>
		
		<ul id="toc-Journald_en_conjonction_avec_syslog-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Transférer_journald_sur_/dev/tty12" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Transf%C3%A9rer_journald_sur_/dev/tty12">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">7</span>Transférer journald sur /dev/tty12</div>
		</a>
		
		<ul id="toc-Transférer_journald_sur_/dev/tty12-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Spécifier_un_autre_journal_à_afficher" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Sp%C3%A9cifier_un_autre_journal_%C3%A0_afficher">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">8</span>Spécifier un autre journal à afficher</div>
		</a>
		
		<ul id="toc-Spécifier_un_autre_journal_à_afficher-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Accès_au_journal_en_tant_qu'utilisateur" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Acc%C3%A8s_au_journal_en_tant_qu'utilisateur">
			<div class="vector-toc-text">
			<span class="vector-toc-numb">9</span>Accès au journal en tant qu'utilisateur</div>
		</a>
		
		<ul id="toc-Accès_au_journal_en_tant_qu'utilisateur-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" role="main" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav role="navigation" aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading">systemd (Français)/Journal (Français)</h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 6 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-6" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">6 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-en mw-list-item"><a href="../../en/Systemd/Journal.html" title="Systemd/Journal – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../../es/Systemd/Journal.html" title="Systemd (Español)/Journal – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/Systemd/%E3%82%B8%E3%83%A3%E3%83%BC%E3%83%8A%E3%83%AB" title="Systemd/ジャーナル – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../../pt/Systemd/Journal.html" title="Systemd (Português)/Journal – português" lang="pt" hreflang="pt" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../../ru/Systemd/Journal.html" title="Systemd (Русский)/Journal – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/Systemd/Journal" title="Systemd/Journal – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-client-prefs-landmark" aria-label="Appearance">
						</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"><div class="subpages">&lt; <a href="../../fr/Systemd.html" title="Systemd (Français)">Systemd (Français)</a>
</div></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<p><span>
</span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../../en/Systemd/Journal.html" title="Systemd/Journal">systemd/Journal</a>. Date de la dernière traduction: 2022-04-30. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Systemd/Journal&amp;diff=0&amp;oldid=728069">changements</a> dans la version anglaise.</div>
<p><i>systemd</i> possède son propre système de journalisation appelé journal ; il n'est pas nécessaire d'exécuter un daemon de journalisation séparé. Pour lire le journal, utilisez <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>.
</p>
<p>Sous Arch Linux, le répertoire <code>/var/log/journal/</code> fait partie du paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>, et le journal (lorsque <code>Storage=</code> est défini sur <code>auto</code> dans <code>/etc/systemd/journald.conf</code>) écrira dans <code>/var/log/journal/</code>.  Si ce répertoire est supprimé, <i>systemd</i> ne le recréera <i>pas</i> automatiquement et écrira ses journaux dans <code>/run/systemd/journal</code> de manière non persistante. Cependant, le répertoire sera recréé si <code>Storage=persistent</code> est ajouté à <code>journald.conf</code> et <code>systemd-journald.service</code> est <a href="../../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">redémarré</a> (ou si le système est redémarré).
</p>
<p>Le journal de systemd classe les messages par <a href="#Niveau_de_priorit%C3%A9">Niveau de priorité</a> et <a href="#Fonctionnalit%C3%A9">Fonctionnalité</a>. La classification des journaux correspond au protocole classique <a href="https://en.wikipedia.org/wiki/fr:Syslog" class="extiw" title="wikipedia:fr:Syslog">Syslog</a> (<a href="https://tools.ietf.org/html/rfc5424" class="extiw" title="rfc:5424">RFC 5424</a>).
</p>
<meta property="mw:PageProp/toc">
<h2>
<span id="Niveau_de_priorit.C3.A9"></span><span class="mw-headline" id="Niveau_de_priorité">Niveau de priorité</span>
</h2>
<p>Un code de gravité syslog (appelé priorité dans systemd) est utilisé pour marquer l'importance d'un message <a href="https://tools.ietf.org/html/rfc5424#section-6.2.1" class="extiw" title="rfc:5424">RFC 5424 6.2.1</a>.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Valeur</th>
<th>Gravité</th>
<th>Mot-Clef</th>
<th>Description</th>
<th>Exemples
</th>
</tr>
<tr>
<td>0
</td>
<td>Urgente
</td>
<td>emerg
</td>
<td>Système inutilisable
</td>
<td>BUG sévère du noyau, <a href="../../en/Core_dump.html" class="mw-redirect" title="Systemd-coredump">systemd a reçu un «core dump»</a>.<br>Ce niveau ne doit pas être utilisé par les applications.
</td>
</tr>
<tr>
<td>1
</td>
<td>Alerte
</td>
<td>alert
</td>
<td>Doit être corrigé immédiatement
</td>
<td>Un sous-système vital ne fonctionne plus. Perte de données. <br><code>kernel: BUG: unable to handle kernel paging request at ffffc90403238ffc</code>
</td>
</tr>
<tr>
<td>2
</td>
<td>Critique
</td>
<td>crit
</td>
<td>Situations critiques
</td>
<td>Crashs, coredumps. Un exemple habituel était Adobe Flash :<br><code>systemd-coredump[25319]: Process 25310 (plugin-containe) of user 1000 dumped core</code><br>Défaillance de l'application principale du système, comme X11.
</td>
</tr>
<tr>
<td>3
</td>
<td>Erreur
</td>
<td>err
</td>
<td>Situations d'erreurs
</td>
<td>Erreur non grave signalée:<br><code>kernel: usb 1-3: 3:1: cannot get freq at ep 0x84</code><br><code>systemd[1]: Failed unmounting /var.</code><br><code>libvirtd[1720]: internal error: Failed to initialize a valid firewall backend</code>
</td>
</tr>
<tr>
<td>4
</td>
<td>Avertissement
</td>
<td>warning
</td>
<td>Peut indiquer qu'une erreur se produira si aucune action n'est entreprise.
</td>
<td>Un système de fichiers hors racine n'a plus que 1 Go de libre.<br><code>org.freedesktop. Notifications[1860]: (process:5999): Gtk-WARNING **: Locale not supported by C library. Using the fallback 'C' locale</code>
</td>
</tr>
<tr>
<td>5
</td>
<td>Avis
</td>
<td>notice
</td>
<td>Les événements qui sont inhabituels, mais pas des situations d'erreur.
</td>
<td>
<code>systemd[1]: var.mount: Directory /var to mount over is not empty, mounting anyway</code><br><code>gcr-prompter[4997]: Gtk: GtkDialog mapped without a transient parent. This is discouraged</code>
</td>
</tr>
<tr>
<td>6
</td>
<td>Informative
</td>
<td>info
</td>
<td>Messages durant un fonctionnement normal qui ne nécessitent aucune action.
</td>
<td>
<code>lvm[585]: 7 logical volume(s) in volume group "archvg" now active</code>
</td>
</tr>
<tr>
<td>7
</td>
<td>Débogage
</td>
<td>debug
</td>
<td>Informations utiles aux développeurs pour le débogage de l'application.
</td>
<td>
<code>kdeinit5[1900] : powerdevil : Programmation de l'inhibition de ":1.14" "firefox" avec le cookie 13 et la raison "screen"</code>
</td>
</tr>
</tbody>
</table>
<p>Ces règles sont des recommandations, et le niveau de priorité d'une erreur donnée est à la discrétion du développeur de l'application. Il est toujours possible que l'erreur soit à un niveau plus élevé ou plus bas que prévu.
</p>
<h2>
<span id="Fonctionnalit.C3.A9"></span><span class="mw-headline" id="Fonctionnalité">Fonctionnalité</span>
</h2>
<p>Un code de fonctionnalité syslog est utilisé pour spécifier le type de programme qui enregistre le message <a href="https://tools.ietf.org/html/rfc5424#section-6.2.1" class="extiw" title="rfc:5424">RFC 5424 6.2.1</a>.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Code de fonctionnalité</th>
<th>Mot-clé</th>
<th>Description</th>
<th>Info
</th>
</tr>
<tr>
<td>0</td>
<td>kern</td>
<td>Messages du noyau
</td>
</tr>
<tr>
<td>1</td>
<td>user</td>
<td>Messages au niveau de l'utilisateur
</td>
</tr>
<tr>
<td>2</td>
<td>mail</td>
<td>Système de messagerie</td>
<td>Archaïque, POSIX, encore pris en charge et parfois utilisé (voir <span class="plainlinks archwiki-template-man" title="$ man 1 mail"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mail.1">mail(1)</a></span>)
</td>
</tr>
<tr>
<td>3</td>
<td>daemon</td>
<td>Daemon système</td>
<td>Tous les daemons, y compris systemd et ses sous-systèmes
</td>
</tr>
<tr>
<td>4</td>
<td>auth</td>
<td>Messages de sécurité/autorisation</td>
<td>Voir aussi la fonctionnalité n°10
</td>
</tr>
<tr>
<td>5</td>
<td>syslog</td>
<td>Messages générés en interne par syslogd</td>
<td>Pour les implémentations de syslogd (non utilisé par systemd, voir la fonctionnalité n°3)
</td>
</tr>
<tr>
<td>6</td>
<td>lpr</td>
<td>Sous-système d'imprimante de ligne (sous-système archaïque)
</td>
</tr>
<tr>
<td>7</td>
<td>news</td>
<td>Sous-système d'informations réseau (sous-système archaïque)
</td>
</tr>
<tr>
<td>8</td>
<td>uucp</td>
<td>Sous-système UUCP (sous-système archaïque)
</td>
</tr>
<tr>
<td>9</td>
<td></td>
<td>Daemon horloge</td>
<td>systemd-timesyncd
</td>
</tr>
<tr>
<td>10</td>
<td>authpriv</td>
<td>Messages de sécurité/autorisation</td>
<td>Voir aussi la fonctionnalité n°4
</td>
</tr>
<tr>
<td>11</td>
<td>ftp</td>
<td>Daemon FTP
</td>
</tr>
<tr>
<td>12</td>
<td>-</td>
<td>Sous-système NTP
</td>
</tr>
<tr>
<td>13</td>
<td>-</td>
<td>Journal des audits
</td>
</tr>
<tr>
<td>14</td>
<td>-</td>
<td>Journal des alertes
</td>
</tr>
<tr>
<td>15</td>
<td>cron</td>
<td>Daemon de planification
</td>
</tr>
<tr>
<td>16</td>
<td>local0</td>
<td>Utilisation locale 0 (local0)
</td>
</tr>
<tr>
<td>17</td>
<td>local1</td>
<td>Utilisation locale 1 (local1)
</td>
</tr>
<tr>
<td>18</td>
<td>local2</td>
<td>Utilisation locale 2 (local2)
</td>
</tr>
<tr>
<td>19</td>
<td>local3</td>
<td>Utilisation locale 3 (local3)
</td>
</tr>
<tr>
<td>20</td>
<td>local4</td>
<td>Utilisation locale 4 (local4)
</td>
</tr>
<tr>
<td>21</td>
<td>local5</td>
<td>Utilisation locale 5 (local5)
</td>
</tr>
<tr>
<td>22</td>
<td>local6</td>
<td>Utilisation locale 6 (local6)
</td>
</tr>
<tr>
<td>23</td>
<td>local7</td>
<td>Utilisation locale 7 (local7)
</td>
</tr>
</tbody>
</table>
<p>Installations utiles à surveiller : 0, 1, 3, 4, 9, 10, 15.
</p>
<h2><span class="mw-headline" id="Filtrage_de_la_sortie">Filtrage de la sortie</span></h2>
<p><i>journalctl</i> permet de filtrer la sortie par des champs spécifiques. S'il y a beaucoup de messages à afficher, ou si le filtrage de grandes périodes de temps doit être fait, la sortie de cette commande peut être largement retardée.
</p>
<p>Exemples :
</p>
<ul>
<li>Afficher tous les messages de ce démarrage : <pre># journalctl -b</pre> Cependant, il arrive souvent que l'on soit intéressé par des messages provenant non pas du démarrage actuel, mais du démarrage précédent (par exemple, si un crash système irrécupérable s'est produit). Ceci est possible grâce au paramètre optionnel offset de l'indicateur <code>-b</code> : <code>journalctl -b -0</code> affiche les messages du démarrage actuel, <code>journalctl -b -1</code> du démarrage précédent, <code>journalctl -b -2</code> du deuxième démarrage précédent et ainsi de suite - vous pouvez voir la liste des démarrages avec leurs numéros en utilisant <code>journalctl --list-boots</code>. Voir <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> pour une description complète ; la sémantique est plus puissante que celle indiquée ici.</li>
<li>Inclure les explications des messages du journal à partir du catalogue de messages lorsqu'il est disponible : <pre># journalctl -x</pre> Notez que cette fonctionnalité ne devrait pas être utilisée lorsque vous joignez des journaux à des rapports de bogues et à des fils de support, afin de limiter les sorties superflues. Vous pouvez lister toutes les entrées de catalogue connues en exécutant <code>journalctl --list-catalog</code>.</li>
<li>Afficher tous les messages depuis la date (et éventuellement l'heure) : <pre># journalctl --since="2012-10-30 18:17:16"</pre>
</li>
<li>Afficher tous les messages depuis 20 minutes : <pre># journalctl --since "20 min ago"</pre>
</li>
<li>Suivre les nouveaux messages : <pre># journalctl -f</pre>
</li>
<li>Afficher tous les messages par un exécutable spécifique : <pre># journalctl /usr/lib/systemd/systemd</pre>
</li>
<li>Afficher tous les messages d'un processus spécifique : <pre># journalctl _PID=1</pre>
</li>
<li>Afficher tous les messages d'une unité spécifique : <pre># journalctl -u man-db.service</pre>
</li>
<li>Afficher tous les messages des services utilisateurs par une unité spécifique : <pre>$ journalctl --user -u dbus</pre>
</li>
<li>Afficher le tampon du noyau : <pre># journalctl -k</pre>
</li>
<li>Afficher uniquement les messages d'erreur, critiques et d'alerte prioritaires : <pre># journalctl -p err..alert</pre> Vous pouvez également utiliser un niveau de journal numérique, comme <code>journalctl -p 3..1</code>. Si un seul nombre/niveau de journal est utilisé, <code>journalctl -p 3</code>, alors tous les niveaux de journaux de priorité supérieure sont également inclus (c'est-à-dire de 0 à 3 dans ce cas).</li>
<li>Montrer l'équivalent de auth.log en filtrant sur la facilité syslog : <pre># journalctl SYSLOG_FACILITY=10</pre>
</li>
<li>Si le répertoire journal (situé par défaut sous <code>/var/log/journal</code>) contient une grande quantité de données de journal, <code>journalctl</code> peut prendre plusieurs minutes pour filtrer la sortie. Il peut être accéléré de manière significative en utilisant l'option <code>--file</code> pour forcer <code>journalctl</code> à ne regarder que dans le journal le plus récent : <pre># journalctl --file /var/log/journal/*/system.journal -f</pre>
</li>
</ul>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.journal-fields"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.journal-fields.7">systemd.journal-fields(7)</a></span>, ou <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/journalctl.html">l'article du blog de Lennart Poettering</a> pour plus de détails.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Astuce:</strong> 
<ul><li>Par défaut, <i>journalctl</i> tronque les lignes plus longues que la largeur de l'écran, mais dans certains cas, il peut être préférable d'activer l'habillage au lieu de tronquer. Ceci peut être contrôlé par la <code>SYSTEMD_LESS</code> [qui contient les options passées à <a href="../../en/Core_utilities.html#Essentials" title="Core utilities">less</a>. (le pager par défaut) et a pour valeur par défaut <code>FRSXMK</code>. (voir <span class="plainlinks archwiki-template-man" title="$ man 1 less"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/less.1">less(1)</a></span> et <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> pour plus de détails).</li></ul>
<dl><dd>En omettant l'option <code>S</code>, la sortie sera enveloppée au lieu d'être tronquée. Par exemple, lancez <i>journalctl</i> comme suit : <pre>$ SYSTEMD_LESS=FRXMK journalctl</pre>
</dd></dl>
<dl><dd>Pour définir ce comportement par défaut, <a href="../../en/Environment_variables.html#Per_user" title="Environment variables">exportez</a> la variable de <code>~/.bashrc</code> ou <code>~/.zshrc</code>.</dd></dl>
<ul><li>Bien que le journal soit stocké dans un format binaire, le contenu des messages stockés n'est pas modifié. Cela signifie qu'il est consultable avec des <i>strings</i>, par exemple pour la récupération dans un environnement qui n'a pas <i>systemd</i> installé, par exemple : <pre>$ strings /mnt/arch/var/log/journal/af4967d77fba44c6b093d0e9862f6ddd/system.journal | grep -i <i>message</i></pre>
</li></ul>
</div>
<h2><span class="mw-headline" id="Limite_de_taille_du_journal">Limite de taille du journal</span></h2>
<p>Si le journal est persistant (non-volatile), sa taille limite est fixée par défaut à 10 % de la taille du système de fichiers sous-jacent, mais est plafonnée à 4 Go. Par exemple, avec <code>/var/log/journal/</code> situé sur une partition de 20 Go, les données du journal peuvent occuper jusqu'à 2 Go. Sur une partition de 50 Go, elles seraient limitées à 4 Go. Pour confirmer les limites actuelles sur votre système, examinez les journaux de l'unité <code>systemd-journald</code> :
</p>
<pre># journalctl -b -u systemd-journald
</pre>
<p>La taille maximale du journal persistant peut être contrôlée en décommentant et en modifiant les éléments suivants :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SystemMaxUse=50M</pre>
<p>Il est également possible d'utiliser des <a href="../../fr/Systemd.html#Fichiers_de_substitution" title="Systemd (Français)">fichiers de substitution</a> plutôt que de modifier le fichier de configuration global. Dans ce cas, placez les surcharges sous l'en-tête <code>[Journal]</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf.d/00-journal-size.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Journal]
SystemMaxUse=50M</pre>
<p><a href="../../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">Redémarrez</a> le <code>systemd-journald.service</code> après avoir modifié ce paramètre pour appliquer la nouvelle limite.
</p>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 5 journald.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journald.conf.5">journald.conf(5)</a></span> pour plus d'informations.
</p>
<h3>
<span id="Limite_de_taille_par_unit.C3.A9_avec_un_espace_de_nom_s.C3.A9par.C3.A9"></span><span class="mw-headline" id="Limite_de_taille_par_unité_avec_un_espace_de_nom_séparé">Limite de taille par unité avec un espace de nom séparé</span>
</h3>
<p><a href="../../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" class="mw-redirect" title="Éditez">Éditez</a> le fichier d'unité pour le service que vous souhaitez configurer (par exemple sshd) et ajoutez <code>LogNamespace=ssh</code> dans la section <code>[Service]</code>.
</p>
<p>Créez ensuite <code>/etc/systemd/journald@ssh.conf</code> en copiant <code>/etc/systemd/journald.conf</code>. Après cela, éditez <code>journald@ssh.conf</code> et ajustez <code>SystemMaxUse</code> à votre convenance.
</p>
<p>[Le redémarrage du service devrait automatiquement démarrer le nouveau service de journal <code>systemd-journald@ssh.service</code>. Les journaux du service avec son propre espace de nom peuvent être visualisés avec <code>journalctl --namespace ssh</code>.
</p>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-journald.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-journald.service.8#JOURNAL_NAMESPACES">systemd-journald.service(8) § JOURNAL NAMESPACES</a></span> pour plus de détails sur les espaces de noms des journaux.
</p>
<h2><span class="mw-headline" id="Nettoyer_les_fichiers_journaux_manuellement">Nettoyer les fichiers journaux manuellement</span></h2>
<p>Les fichiers journaux peuvent être supprimés globalement de <code>/var/log/journal/</code> à l'aide de <code>rm</code> par exemple, ou peuvent être découpés selon divers critères en utilisant <code>journalctl</code>. Par exemple :
</p>
<ul>
<li>Supprimez les fichiers journaux archivés jusqu'à ce que l'espace disque qu'ils utilisent tombe en dessous de 100M : <pre># journalctl --vacuum-size=100M</pre>
</li>
<li>Faites en sorte que tous les fichiers journaux ne contiennent aucune donnée datant de plus de 2 semaines. <pre># journalctl --vacuum-time=2weeks</pre>
</li>
</ul>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span> pour plus d'informations.
</p>
<h2><span class="mw-headline" id="Journald_en_conjonction_avec_syslog">Journald en conjonction avec syslog</span></h2>
<p>La compatibilité avec une implémentation classique, non compatible avec Journald, de <a href="../../en/Syslog-ng.html" title="Syslog-ng">syslog</a> peut être assurée en laissant <i>systemd</i> transmettre tous les messages via le socket <code>/run/systemd/journal/syslog</code>. Pour que le daemon syslog fonctionne avec le journal, il doit se lier à cette socket au lieu de <code>/dev/log</code>. (<a rel="nofollow" class="external text" href="https://lwn.net/Articles/474968/">annonce officielle</a>). 
</p>
<p>La valeur par défaut de <code>journald.conf</code> pour la redirection vers la socket est <code>ForwardToSyslog=no</code> pour éviter la surcharge du système, car <a href="../../en/Rsyslog.html" title="Rsyslog">rsyslog</a> ou <a href="../../en/Syslog-ng.html" title="Syslog-ng">syslog-ng</a> extraient les messages du journal par <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/systemd-devel/2014-August/022295.html#journald">eux-même</a>. 
</p>
<p>Voir <a href="../../en/Syslog-ng.html#Overview" title="Syslog-ng">Syslog-ng#Overview</a> et <a href="../../en/Syslog-ng.html#syslog-ng_and_systemd_journal" title="Syslog-ng">Syslog-ng#syslog-ng and systemd journal</a>, ou <a href="../../en/Rsyslog.html" title="Rsyslog">rsyslog</a> respectivement, pour plus de détails sur la configuration.
</p>
<h2>
<span id="Transf.C3.A9rer_journald_sur_.2Fdev.2Ftty12"></span><span class="mw-headline" id="Transférer_journald_sur_/dev/tty12">Transférer journald sur /dev/tty12</span>
</h2>
<p>Créez un <a href="../../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" title="Systemd (Français)">répertoire de remplacement</a> <code>/etc/systemd/journald.conf.d</code> et créez-y un fichier <code>fw-tty12.conf</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/journald.conf.d/fw-tty12.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Journal]
ForwardToConsole=yes
TTYPath=/dev/tty12
MaxLevelConsole=info</pre>
<p>Puis <a href="../../fr/Systemd.html#Utilisation_des_unit%C3%A9s" class="mw-redirect" title="Redémarrez">redémarrez</a> <code>systemd-journald.service</code>.
</p>
<h2>
<span id="Sp.C3.A9cifier_un_autre_journal_.C3.A0_afficher"></span><span class="mw-headline" id="Spécifier_un_autre_journal_à_afficher">Spécifier un autre journal à afficher</span>
</h2>
<p>Il peut y avoir un besoin de vérifier les journaux d'un autre système qui est mort dans l'eau, comme démarrer à partir d'un système "live" pour récupérer un système de production. Dans ce cas, on peut monter le disque dans par exemple <code>/mnt</code>, et spécifier le chemin du journal via <code>-D</code>/<code>--directory</code>, comme ceci :
</p>
<pre># journalctl -D <i>/mnt</i>/var/log/journal -e
</pre>
<h2>
<span id="Acc.C3.A8s_au_journal_en_tant_qu.27utilisateur"></span><span class="mw-headline" id="Accès_au_journal_en_tant_qu'utilisateur">Accès au journal en tant qu'utilisateur</span>
</h2>
<p>Par défaut, un utilisateur normal n'a accès qu'à son propre journal par utilisateur. Pour accorder un accès en lecture au journal du système en tant qu'utilisateur normal, vous pouvez ajouter cet utilisateur au <code>systemd-journal</code> <a href="../../fr/Users_and_groups.html#Gestion_des_groupes" class="mw-redirect" title="Groupe d'utilisateur">groupe d'utilisateurs</a>. Les membres des groupes <code>adm</code> et <code>wheel</code> ont également un accès en lecture.
</p>
<p>Voir <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1#DESCRIPTION">journalctl(1) § DESCRIPTION</a></span> et <a href="../../fr/Users_and_groups.html#Groupes_d'utilisateurs" title="Users and groups (Français)">Users and groups (Français)#Groupes d'utilisateurs</a> pour plus d'informations.
</p>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../fr/Category:Logging.html" title="Category:Logging (Français)">Logging (Français)</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd_(Fran%C3%A7ais)/Journal_(Fran%C3%A7ais)&amp;oldid=767100">https://wiki.archlinux.org/index.php?title=Systemd_(Français)/Journal_(Français)&amp;oldid=767100</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 9 February 2023, at 06:39.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul>
		<li>
		<button class="cdx-button cdx-button--icon-only vector-limited-width-toggle" id=""><span class="vector-icon mw-ui-icon-fullScreen mw-ui-icon-wikimedia-fullScreen"></span>

<span>Toggle limited content width</span>
</button>
</li>
	</ul>
</div>
</body>
</html>
