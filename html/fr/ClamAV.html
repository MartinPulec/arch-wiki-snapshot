<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-os vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ClamAV (Français) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.44.2">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ClamAV_Français rootpage-ClamAV_Français skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Mise_à_jour_de_la_base_de_données" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Mise_%C3%A0_jour_de_la_base_de_donn%C3%A9es">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Mise à jour de la base de données</span>
			</div>
		</a>
		
		<ul id="toc-Mise_à_jour_de_la_base_de_données-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Démarrage_du_daemon" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#D%C3%A9marrage_du_daemon">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Démarrage du daemon</span>
			</div>
		</a>
		
		<ul id="toc-Démarrage_du_daemon-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tester_le_logiciel" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tester_le_logiciel">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Tester le logiciel</span>
			</div>
		</a>
		
		<ul id="toc-Tester_le_logiciel-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Ajouter_d'autres_dépôts_de_bases_de_données/signatures" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Ajouter_d'autres_d%C3%A9p%C3%B4ts_de_bases_de_donn%C3%A9es/signatures">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Ajouter d'autres dépôts de bases de données/signatures</span>
			</div>
		</a>
		
			<button aria-controls="toc-Ajouter_d'autres_dépôts_de_bases_de_données/signatures-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Ajouter d'autres dépôts de bases de données/signatures subsection</span>
			</button>
		
		<ul id="toc-Ajouter_d'autres_dépôts_de_bases_de_données/signatures-sublist" class="vector-toc-list">
			<li id="toc-Option_#1_:_Configurer_Fangfrisch" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Option_#1_:_Configurer_Fangfrisch">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.1</span>
					<span>Option #1 : Configurer Fangfrisch</span>
				</div>
			</a>
			
			<ul id="toc-Option_#1_:_Configurer_Fangfrisch-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Option_#2_:_Configurer_clamav-unofficial-sigs" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Option_#2_:_Configurer_clamav-unofficial-sigs">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2</span>
					<span>Option #2 : Configurer clamav-unofficial-sigs</span>
				</div>
			</a>
			
			<ul id="toc-Option_#2_:_Configurer_clamav-unofficial-sigs-sublist" class="vector-toc-list">
				<li id="toc-Base_de_données_MalwarePatrol" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Base_de_donn%C3%A9es_MalwarePatrol">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">5.2.1</span>
					<span>Base de données MalwarePatrol</span>
				</div>
			</a>
			
			<ul id="toc-Base_de_données_MalwarePatrol-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Scanner_les_virus" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Scanner_les_virus">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Scanner les virus</span>
			</div>
		</a>
		
			<button aria-controls="toc-Scanner_les_virus-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Scanner les virus subsection</span>
			</button>
		
		<ul id="toc-Scanner_les_virus-sublist" class="vector-toc-list">
			<li id="toc-utilisation_de_l'analyseur_autonome" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#utilisation_de_l'analyseur_autonome">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>utilisation de l'analyseur autonome</span>
				</div>
			</a>
			
			<ul id="toc-utilisation_de_l'analyseur_autonome-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-utilisation_du_daemon" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#utilisation_du_daemon">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>utilisation du daemon</span>
				</div>
			</a>
			
			<ul id="toc-utilisation_du_daemon-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Utilisation_de_milter" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Utilisation_de_milter">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Utilisation de milter</span>
			</div>
		</a>
		
		<ul id="toc-Utilisation_de_milter-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-OnAccessScan" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#OnAccessScan">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>OnAccessScan</span>
			</div>
		</a>
		
		<ul id="toc-OnAccessScan-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Dépannage" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#D%C3%A9pannage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Dépannage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Dépannage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Dépannage subsection</span>
			</button>
		
		<ul id="toc-Dépannage-sublist" class="vector-toc-list">
			<li id="toc-Erreur_:_Clamd_n'a_PAS_été_notifié" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erreur_:_Clamd_n'a_PAS_%C3%A9t%C3%A9_notifi%C3%A9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1</span>
					<span>Erreur : Clamd n'a PAS été notifié</span>
				</div>
			</a>
			
			<ul id="toc-Erreur_:_Clamd_n'a_PAS_été_notifié-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Erreur_:_Aucun_fichier_de_base_de_données_pris_en_charge_n'a_été_trouvé" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erreur_:_Aucun_fichier_de_base_de_donn%C3%A9es_pris_en_charge_n'a_%C3%A9t%C3%A9_trouv%C3%A9">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.2</span>
					<span>Erreur : Aucun fichier de base de données pris en charge n'a été trouvé</span>
				</div>
			</a>
			
			<ul id="toc-Erreur_:_Aucun_fichier_de_base_de_données_pris_en_charge_n'a_été_trouvé-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Erreur_:_Impossible_de_créer_un_répertoire_temporaire" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Erreur_:_Impossible_de_cr%C3%A9er_un_r%C3%A9pertoire_temporaire">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.3</span>
					<span>Erreur : Impossible de créer un répertoire temporaire</span>
				</div>
			</a>
			
			<ul id="toc-Erreur_:_Impossible_de_créer_un_répertoire_temporaire-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Trucs_et_astuces" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Trucs_et_astuces">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">10</span>
				<span>Trucs et astuces</span>
			</div>
		</a>
		
			<button aria-controls="toc-Trucs_et_astuces-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Trucs et astuces subsection</span>
			</button>
		
		<ul id="toc-Trucs_et_astuces-sublist" class="vector-toc-list">
			<li id="toc-Exécuter_en_plusieurs_threads" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Ex%C3%A9cuter_en_plusieurs_threads">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">10.1</span>
					<span>Exécuter en plusieurs threads</span>
				</div>
			</a>
			
			<ul id="toc-Exécuter_en_plusieurs_threads-sublist" class="vector-toc-list">
				<li id="toc-Utilisation_de_clamscan" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_de_clamscan">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">10.1.1</span>
					<span>Utilisation de clamscan</span>
				</div>
			</a>
			
			<ul id="toc-Utilisation_de_clamscan-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Utilisation_de_clamdscan" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Utilisation_de_clamdscan">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">10.1.2</span>
					<span>Utilisation de clamdscan</span>
				</div>
			</a>
			
			<ul id="toc-Utilisation_de_clamdscan-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Voir_aussi" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Voir_aussi">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">11</span>
				<span>Voir aussi</span>
			</div>
		</a>
		
		<ul id="toc-Voir_aussi-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar vector-feature-custom-font-size-clientpref--excluded">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left" title="Table of Contents">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">ClamAV (Français)</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 9 languages">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-9" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">9 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-de mw-list-item"><a href="https://wiki.archlinux.de/title/ClamAV" title="ClamAV – Deutsch" lang="de" hreflang="de" data-title="ClamAV" data-language-autonym="Deutsch" data-language-local-name="Deutsch" class="interlanguage-link-target"><span>Deutsch</span></a></li>
<li class="interlanguage-link interwiki-en mw-list-item"><a href="../en/ClamAV.html" title="ClamAV – English" lang="en" hreflang="en" data-title="ClamAV" data-language-autonym="English" data-language-local-name="English" class="interlanguage-link-target"><span>English</span></a></li>
<li class="interlanguage-link interwiki-es mw-list-item"><a href="../es/ClamAV.html" title="ClamAV – español" lang="es" hreflang="es" data-title="ClamAV" data-language-autonym="Español" data-language-local-name="español" class="interlanguage-link-target"><span>Español</span></a></li>
<li class="interlanguage-link interwiki-hu mw-list-item"><a href="../hu/ClamAV.html" title="ClamAV – magyar" lang="hu" hreflang="hu" data-title="ClamAV" data-language-autonym="Magyar" data-language-local-name="magyar" class="interlanguage-link-target"><span>Magyar</span></a></li>
<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/ClamAV" title="ClamAV – 日本語" lang="ja" hreflang="ja" data-title="ClamAV" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
<li class="interlanguage-link interwiki-ko mw-list-item"><a href="../ko/ClamAV.html" title="ClamAV – 한국어" lang="ko" hreflang="ko" data-title="ClamAV" data-language-autonym="한국어" data-language-local-name="한국어" class="interlanguage-link-target"><span>한국어</span></a></li>
<li class="interlanguage-link interwiki-pt mw-list-item"><a href="../pt/ClamAV.html" title="ClamAV – português" lang="pt" hreflang="pt" data-title="ClamAV" data-language-autonym="Português" data-language-local-name="português" class="interlanguage-link-target"><span>Português</span></a></li>
<li class="interlanguage-link interwiki-ru mw-list-item"><a href="../ru/ClamAV.html" title="ClamAV – русский" lang="ru" hreflang="ru" data-title="ClamAV" data-language-autonym="Русский" data-language-local-name="русский" class="interlanguage-link-target"><span>Русский</span></a></li>
<li class="interlanguage-link interwiki-zh-hans mw-list-item"><a href="https://wiki.archlinuxcn.org/wiki/ClamAV" title="ClamAV – 中文（简体）" lang="zh-Hans" hreflang="zh-Hans" data-title="ClamAV" data-language-autonym="中文（简体）" data-language-local-name="中文（简体）" class="interlanguage-link-target"><span>中文（简体）</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>État de la traduction:</strong> Cet article est la version francophone de <a href="../en/ClamAV.html" title="ClamAV">ClamAV</a>. Date de la dernière traduction: 2022-10-03. Vous pouvez aider à synchroniser la traduction s'il y a eu des <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=ClamAV&amp;diff=0&amp;oldid=751111">changements</a> dans la version anglaise.</div>
<p><a rel="nofollow" class="external text" href="https://www.clamav.net">Clam AntiVirus</a> est un kit d'outils antivirus open source (GPL) pour UNIX.  Il fournit un certain nombre d'utilitaires, notamment un daemon multithread flexible et évolutif, un scanner en ligne de commande et un outil avancé de mise à jour automatique des bases de données. Comme ClamAV est principalement utilisé sur les serveurs de fichiers et de courrier électronique pour les ordinateurs de bureau Windows, il détecte principalement les virus et les logiciels malveillants Windows grâce à ses signatures intégrées.
</p>
<meta property="mw:PageProp/toc">
<div class="mw-heading mw-heading2"><h2 id="Installation">Installation</h2></div>
<p><a href="../fr/Help:Reading.html#Installation_de_paquets" class="mw-redirect" title="Installez">Installez</a> le paquet <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=clamav">clamav</a></span>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Mise_à_jour_de_la_base_de_données">
<span id="Mise_.C3.A0_jour_de_la_base_de_donn.C3.A9es"></span>Mise à jour de la base de données</h2></div>
<p>Mettez à jour les définitions de virus avec :
</p>
<pre># freshclam
</pre>
<p>Si vous êtes derrière un proxy, éditez <code>/etc/clamav/freshclam.conf</code> et mettez à jour HTTPProxyServer, HTTPProxyPort, HTTPProxyUsername et HTTPProxyPassword.
</p>
<p>Les fichiers de la base de données sont enregistrés dans :
</p>
<pre>/var/lib/clamav/daily.cvd
/var/lib/clamav/main.cvd
/var/lib/clamav/bytecode.cvd
</pre>
<p><a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Démarrez">Démarrez</a> et <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">activez</a> <code>clamav-freshclam.service</code> pour que les définitions de virus restent récentes.
</p>
<div class="mw-heading mw-heading2"><h2 id="Démarrage_du_daemon">
<span id="D.C3.A9marrage_du_daemon"></span>Démarrage du daemon</h2></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> 
<ul>
<li>Vous devrez exécuter <code>freshclam</code> avant de démarrer le service pour la première fois ou vous rencontrerez des problèmes/erreurs qui empêcheront ClamAV de démarrer correctement.</li>
<li>Le daemon n'est pas nécessaire si vous souhaitez uniquement effectuer des analyses autonomes. Consultez <a href="#Scanner_les_virus">#Scanner les virus</a> ci-dessous.</li>
</ul>
</div>
<p>Le service s'appelle <code>clamav-daemon.service</code>. <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Démarrez">Démarrez</a> et <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">activez</a> son exécution au démarrage.
</p>
<div class="mw-heading mw-heading2"><h2 id="Tester_le_logiciel">Tester le logiciel</h2></div>
<p>Afin de vous assurer que ClamAV et les définitions sont correctement installés, analysez le <a rel="nofollow" class="external text" href="https://www.eicar.org/download-anti-malware-testfile/">fichier de test EICAR</a> (une signature inoffensive sans code de virus) avec <i>clamscan</i>.
</p>
<pre>$ curl <a rel="nofollow" class="external free" href="https://secure.eicar.org/eicar.com.txt">https://secure.eicar.org/eicar.com.txt</a> | clamscan -
</pre>
<p>La sortie <b>doit</b> inclure :
</p>
<pre>stdin : Win.Test.EICAR_HDB-1 FOUND
</pre>
<p>Sinon, lisez la partie Dépannage ou demandez de l'aide sur le site <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/">Arch Forums</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Ajouter_d'autres_dépôts_de_bases_de_données/signatures">
<span id="Ajouter_d.27autres_d.C3.A9p.C3.B4ts_de_bases_de_donn.C3.A9es.2Fsignatures"></span>Ajouter d'autres dépôts de bases de données/signatures</h2></div>
<p>ClamAV peut utiliser des bases de données/signatures provenant d'autres dépôts ou de fournisseurs de sécurité. 
</p>
<p>Pour ajouter les plus importants en une seule étape, installez soit <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/clamav-unofficial-sigs/">clamav-unofficial-sigs</a></span><sup><small>AUR</small></sup>. (consultez <a rel="nofollow" class="external text" href="https://github.com/extremeshok/clamav-unofficial-sigs#description">description GitHub</a>) ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-fangfrisch/">python-fangfrisch</a></span><sup><small>AUR</small></sup>. (consultez <a rel="nofollow" class="external text" href="https://rseichter.github.io/fangfrisch/">documentation en ligne</a>). Les deux ajouteront des signatures/bases de données provenant de fournisseurs populaires, par exemple MalwarePatrol, SecuriteInfo, Yara, Linux Malware Detect, etc.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong> Vous devez toujours avoir le <code>clamav-freshclam.service</code> <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Démarré">démarré</a> pour avoir les mises à jour officielles des signatures des miroirs ClamAV. </div>
<div class="mw-heading mw-heading3"><h3 id="Option_#1_:_Configurer_Fangfrisch">
<span id="Option_.231_:_Configurer_Fangfrisch"></span>Option #1 : Configurer Fangfrisch</h3></div>
<p><a rel="nofollow" class="external text" href="https://rseichter.github.io/fangfrisch/">Fangfrisch</a> a été conçu comme un remplacement plus sûr, plus flexible et plus pratique de clamav-unofficial-sigs, et nécessite <a rel="nofollow" class="external text" href="https://rseichter.github.io/fangfrisch/#_configuration">très peu de configuration</a> (<code>/etc/fangfrisch/fangfrisch.conf</code>).
</p>
<p>Plus important encore, Fangfrisch n'a jamais besoin d'être exécuté avec les droits root, contrairement à clamav-unofficial-sigs.
</p>
<p>Créez la structure de la base de données en exécutant :
</p>
<pre># sudo -u clamav /usr/bin/fangfrisch --conf /etc/fangfrisch/fangfrisch.conf initdb
</pre>
<p><a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">Activez</a> <code>fangfrisch.timer</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Option_#2_:_Configurer_clamav-unofficial-sigs">
<span id="Option_.232_:_Configurer_clamav-unofficial-sigs"></span>Option #2 : Configurer clamav-unofficial-sigs</h3></div>
<p><a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">Activez</a> <code>clamav-unofficial-sigs.timer</code>.
</p>
<p>Cela mettra régulièrement à jour les signatures non officielles en fonction des fichiers de configuration du répertoire <code>/etc/clamav-unofficial-sigs</code>.
</p>
<p>Pour mettre à jour les signatures manuellement, exécutez la commande suivante :
</p>
<pre># clamav-unofficial-sigs.sh
</pre>
<p>Pour changer les paramètres par défaut, consultez et modifiez <code>/etc/clamav-unofficial-sigs/user.conf</code>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Base_de_données_MalwarePatrol">
<span id="Base_de_donn.C3.A9es_MalwarePatrol"></span>Base de données MalwarePatrol</h4></div>
<p>Si vous souhaitez utiliser la base de données MalwarePatrol, créez un compte à l'adresse <a rel="nofollow" class="external free" href="https://www.malwarepatrol.net/free-guard-upgrade-option">https://www.malwarepatrol.net/free-guard-upgrade-option</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2023-07-30—HTTP 404]</sup>.
</p>
<p>Dans <code>/etc/clamav-unofficial-sigs/user.conf</code>, modifiez les éléments suivants pour activer cette fonctionnalité :
</p>
<pre>malwarepatrol_receipt_code="YOUR-RECEIPT-NUMBER" # entrez votre numéro de reçu ici
malwarepatrol_product_code="8" # Utilisez 8 si vous avez un compte gratuit ou 15 si vous êtes un client Premium.
malwarepatrol_list="clamav_basic" # clamav_basic ou clamav_ext
malwarepatrol_free="yes" # Définir à oui si vous avez un compte gratuit ou non si vous êtes un client Premium.
</pre>
<p>Source : <a rel="nofollow" class="external free" href="https://www.malwarepatrol.net/clamav-configuration-guide/">https://www.malwarepatrol.net/clamav-configuration-guide/</a>
</p>
<div class="mw-heading mw-heading2"><h2 id="Scanner_les_virus">Scanner les virus</h2></div>
<p>Il existe deux options pour l'analyse à la demande :
</p>
<div class="mw-heading mw-heading3"><h3 id="utilisation_de_l'analyseur_autonome">
<span id="utilisation_de_l.27analyseur_autonome"></span>utilisation de l'analyseur autonome</h3></div>
<p><code>clamscan</code> peut être utilisé pour analyser certains fichiers, répertoires personnels ou un système entier :
</p>
<pre>$ clamscan monfichier
$ clamscan --recursive --infected /home
# clamscan --recursive --infected --exclude-dir='^/sys|^/dev' /
</pre>
<p>Si vous souhaitez que <code>clamscan</code> supprime le fichier infecté, ajoutez à la commande l'option <code>--remove</code>, ou vous pouvez utiliser <code>--move=/dir</code> pour les mettre en quarantaine.
</p>
<p>Vous pouvez également souhaiter que <code>clamscan</code> analyse des fichiers plus volumineux. Dans ce cas, ajoutez les options <code>--max-filesize=4000M</code> et <code>--max-scansize=4000M</code> à la commande. 4000M' est la plus grande valeur possible, et peut être réduite si nécessaire.
</p>
<p>L'utilisation de l'option <code>-l /path/to/file</code> imprimera les journaux de <code>clamscan</code> dans un fichier texte pour localiser les infections signalées.
</p>
<div class="mw-heading mw-heading3"><h3 id="utilisation_du_daemon">utilisation du daemon</h3></div>
<p><code>clamdscan</code> est similaire à la commande ci-dessus mais utilise le daemon, qui doit être en cours d'exécution pour que la commande fonctionne. La plupart des options sont ignorées puisque le daemon lit les paramètres spécifiés dans <code>/etc/clamav/clamd.conf</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Utilisation_de_milter">Utilisation de milter</h2></div>
<p>Milter analysera votre serveur sendmail pour détecter les e-mails contenant des virus. Adaptez <code>/etc/clamav/clamav-milter.conf</code> à vos besoins. Par exemple :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/clamav/clamav-milter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MilterSocket /tmp/clamav-milter.socket
MilterSocketMode 660
FixStaleSocket yes
User clamav
MilterSocketGroup clamav
PidFile /run/clamav/clamav-milter.pid
TemporaryDirectory /tmp
ClamdSocket unix:/run/clamav/clamd.ctl
LogSyslog yes
LogInfected Basic</pre>
<p>Créer <code>/etc/systemd/system/clamav-milter.service</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/clamav-milter.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description='ClamAV Milter'
After=clamav-daemon.service

[Service]
Type=forking
ExecStart=/usr/bin/clamav-milter --config-file /etc/clamav/clamav-milter.conf
Restart=Always

[Install]
WantedBy=multi-user.target</pre>
<p>Vous pourriez avoir envie d'ajuster la ligne <code>Restart=</code> pour vos besoins. Cette ligne est nécessaire si vous utilisez des outils qui tuent le service clamav-milter, tels que <a href="../en/Logrotate.html" title="Logrotate">logrotate</a>.
</p>
<p><a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">Activez</a> et <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Démarrez">démarrez</a> <code>clamav-milter.service</code>.
</p>
<p>Pour <a href="../en/Postfix.html" title="Postfix">Postfix</a>, ajoutez les lignes suivantes à <code>/etc/postfix/main.cf</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">etc/postfix/main.cf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">smtpd_milters = unix:/tmp/clamav-milter.socket
milter_default_action = tempfail</pre>
<p>Vérifiez <a href="../fr/Systemd/Journal.html" title="Systemd (Français)/Journal (Français)">journalctl</a> si la permission d'accéder à <code>clamav-milter.socket</code> pour postfix est définie en conséquence, si non, ajoutez l'utilisateur postfix au groupe <code>clamav</code>.
</p>
<div class="mw-heading mw-heading2"><h2 id="OnAccessScan">OnAccessScan</h2></div>
<dl><dd><i>(Source originale : <a rel="nofollow" class="external free" href="https://blog.clamav.net/2016/03/configuring-on-access-scanning-in-clamav.html">https://blog.clamav.net/2016/03/configuring-on-access-scanning-in-clamav.html</a>)</i></dd></dl>
<p>L'analyse à l'accès analyse le fichier pendant sa lecture, son écriture ou son exécution.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention</strong> A ce jour (novembre 2021), l'analyse à l'accès dans ClamAV est encore immature, vous pouvez consulter des plantages inexpliqués de <i>clamd</i>, et les processus conteneurisés ne sont pas protégés. Par conséquent, on peut se demander s'il s'agit d'une amélioration de la sécurité ou non. Ne l'activez pas à moins que des réglementations, des contrats ou votre propre curiosité ne vous y obligent.</div>
<p>L'analyse à l'accès nécessite que le noyau soit compilé avec le module de noyau <i>fanotify</i> (noyau &gt;= 3.8), ce qui est vrai pour les paquets officiels du noyau d'Arch Linux. Vérifiez si <i>fanotify</i> a été activé avant d'activer l'analyse sur accès.
</p>
<pre>$ zgrep FANOTIFY /proc/config.gz
</pre>
<p>Tout d'abord, modifiez le fichier de configuration <code>/etc/clamav/clamd.conf</code> en ajoutant ce qui suit à la fin du fichier (vous pouvez également modifier les options individuelles).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention</strong> Veuillez tenir compte de l'avertissement suivant concernant la sécurité du port clamd si vous modifiez d'autres parties du fichier. Utilisez généralement un socket unix local mais notez que ce port n'est ni authentifié ni protégé. Consultez <a rel="nofollow" class="external free" href="https://docs.clamav.net/manual/Usage/Scanning.html#clamd-v0101">https://docs.clamav.net/manual/Usage/Scanning.html#clamd-v0101</a> pour plus de détails dans la section Daemon puis ClamD.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/clamav/clamd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set the mount point where to recursively perform the scan,
# this could be every path or multiple path (one line for path)
OnAccessMountPath /
OnAccessExcludePath /proc
OnAccessExcludePath /run
OnAccessExcludePath /sys

# Alternatively, add some directories instead of mount points
# OnAccessIncludePath /home

# Prevention doesn't work with OnAccessMountPath.
# It works with OnAccessIncludePath, as long as /usr and /etc are not included.
# Including /var while activating prevention is also not recommended, because
# this would slow down package installation by a factor of 1000.
OnAccessPrevention false

# Perform scans on newly created, moved, or renamed files
OnAccessExtraScanning true

# Exclude the UID of the scanner itself from checking, to prevent loops
OnAccessExcludeUname clamav

# Optionally, also exclude root-owned processes
# OnAccessExcludeRootUID true

# Specify an action to perform when clamav detects a malicious file
# it is possible to specify an inline command too
VirusEvent /etc/clamav/virus-event.bash

# WARNING: for security reasons, clamd should NEVER run as root.
# Previous instructions in this wiki included this line, remove it:
# User root    # REMOVE THIS
# Add this instead:
User clamav
</pre>
<p>Ensuite, autorisez l'utilisateur <i>clamav</i> à exécuter <i>notify-send</i> en tant qu'utilisateur avec des variables d'environnement personnalisées via <a href="../fr/Sudo.html" title="Sudo (Français)">sudo</a> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sudoers.d/clamav</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">clamav ALL = (ALL) NOPASSWD : SETENV : /usr/bin/notify-send</pre>
<p>Ensuite, créez le fichier <code>/etc/clamav/virus-event.bash</code>, rendez-le <a href="../fr/Help:Reading.html#Rendre_ex%C3%A9cutable" class="mw-redirect" title="Exécutable">exécutable</a> et ajoutez ce qui suit :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/clamav/virus-event.bash</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
PATH=/usr/bin
ALERT="Signature détectée par clamav : $CLAM_VIRUSEVENT_VIRUSNAME dans $CLAM_VIRUSEVENT_FILENAME"

# Envoyer une alerte à tous les utilisateurs graphiques.
for ADDRESS in /run/user/* ; do
    USERID=${ADDRESS#/run/user/}
    /usr/bin/sudo -u "#$USERID" DBUS_SESSION_BUS_ADDRESS="unix:path=$ADDRESS/bus" PATH=${PATH} \
        /usr/bin/notify-send -i dialog-warning "Virus trouvé !" "$ALERT"
done
</pre>
<p>Cela vous permet de modifier/spécifier le message lorsqu'un virus a été détecté par le service d'analyse à l'accès de clamd. 
</p>
<p><a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Redémarrez">Redémarrez</a> <code>clamav-daemon.service</code>.
</p>
<p>Par défaut, <i>clamonacc</i> transmet à <i>clamav</i> les noms des fichiers qui viennent d'être accédés pour analyse. C'est un problème, car les fichiers inaccessibles à l'utilisateur de <i>clamav</i> ne peuvent pas être analysés de cette manière. À la place, il est possible de demander à <i>clamonacc</i> (qui s'exécute toujours en tant que <i>root</i>) d'utiliser le passage par les descripteurs de fichiers.
</p>
<p><a href="../fr/Systemd.html#Modifier_les_unit%C3%A9s_fournies" class="mw-redirect" title="Éditez">Éditez</a> <code>clamav-clamonacc.service</code> avec le contenu suivant : 
</p>
<pre>[Service]
ExecStart=
ExecStart=/usr/sbin/clamonacc -F <b>--fdpass</b> --log=/var/log/clamav/clamonacc.log
</pre>
<p>Enfin, <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Activez">activez</a> et <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Démarrez">démarrez</a> <code>clamav-clamonacc.service</code>.
</p>
<p>Si vous obtenez des refus de <a href="../en/AppArmor.html" title="AppArmor">AppArmor</a> concernant <i>clamd</i>, définissez le profil en mode plainte uniquement :
</p>
<pre># aa-complain clamd
</pre>
<div class="mw-heading mw-heading2"><h2 id="Dépannage">
<span id="D.C3.A9pannage"></span>Dépannage</h2></div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note</strong>  Assurez-vous que l'utilisateur à partir duquel vous exécutez <code>clamscan</code> a les droits de lecture pour les fichiers de la base de données (<code>/var/lib/clamav/*.cvd</code>)</div>
<div class="mw-heading mw-heading3"><h3 id="Erreur_:_Clamd_n'a_PAS_été_notifié">
<span id="Erreur_:_Clamd_n.27a_PAS_.C3.A9t.C3.A9_notifi.C3.A9"></span>Erreur : Clamd n'a PAS été notifié</h3></div>
<p>Si vous obtenez les messages suivants après avoir exécuté freshclam :
</p>
<pre>WARNING: Clamd was NOT notified: Cannot connect to clamd through 
/var/lib/clamav/clamd.sock connect(): No such file or directory
</pre>
<p>Ajoutez un fichier sock pour ClamAV :
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attention</strong> Consultez l'avertissement dans <a href="#OnAccessScan">#OnAccessScan</a> sur la sécurité du port clamd:</div>
<pre># touch /run/clamav/clamd.ctl
# chown clamav:clamav /run/clamav/clamd.ctl
</pre>
<p>Ensuite, éditez <code>/etc/clamav/clamd.conf</code> - décommentez cette ligne :
</p>
<pre>LocalSocket /run/clamav/clamd.ctl
</pre>
<p>Sauvegardez le fichier et <a href="../fr/Help:Reading.html#Contr%C3%B4le_des_unit%C3%A9s_de_systemd" class="mw-redirect" title="Redémarrez">redémarrez</a> <code>clamav-daemon.service</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Erreur_:_Aucun_fichier_de_base_de_données_pris_en_charge_n'a_été_trouvé">
<span id="Erreur_:_Aucun_fichier_de_base_de_donn.C3.A9es_pris_en_charge_n.27a_.C3.A9t.C3.A9_trouv.C3.A9"></span>Erreur : Aucun fichier de base de données pris en charge n'a été trouvé</h3></div>
<p>Si vous obtenez l'erreur suivante au démarrage du daemon :
</p>
<pre>LibClamAV Error: cli_loaddb(): No supported database files found
in /var/lib/clamav ERROR: Not supported data format
</pre>
<p>Cela se produit à cause d'un désaccord entre le paramètre <code>/etc/clamav/freshclam.conf</code> <code>DatabaseDirectory</code> et le paramètre <code>/etc/clamav/clamd.conf</code> <code>DatabaseDirectory</code>. <code>/etc/clamav/freshclam.conf</code> pointe vers <code>/var/lib/clamav</code>, mais <code>/etc/clamav/clamd.conf</code> (répertoire par défaut) pointe vers <code>/usr/share/clamav</code>, ou un autre répertoire. Modifiez <code>/etc/clamav/clamd.conf</code> et remplacez par le même <code>DatabaseDirectory</code> que dans <code>/etc/clamav/freshclam.conf</code>. Après cela, <i>clamav</i> démarrera avec succès.
</p>
<div class="mw-heading mw-heading3"><h3 id="Erreur_:_Impossible_de_créer_un_répertoire_temporaire">
<span id="Erreur_:_Impossible_de_cr.C3.A9er_un_r.C3.A9pertoire_temporaire"></span>Erreur : Impossible de créer un répertoire temporaire</h3></div>
<p>Si vous obtenez l'erreur suivante, accompagnée d'un 'HINT' (indice) contenant un numéro UID et un numéro GID :
</p>
<pre># can't create temporary directory (Impossible de créer un répertoire temporaire)
</pre>
<p>Corrigez les permissions comme suit :
</p>
<pre># chown UID:GID /var/lib/clamav &amp;&amp; chmod 755 /var/lib/clamav
</pre>
<div class="mw-heading mw-heading2"><h2 id="Trucs_et_astuces">Trucs et astuces</h2></div>
<div class="mw-heading mw-heading3"><h3 id="Exécuter_en_plusieurs_threads">
<span id="Ex.C3.A9cuter_en_plusieurs_threads"></span>Exécuter en plusieurs threads</h3></div>
<div class="mw-heading mw-heading4"><h4 id="Utilisation_de_clamscan">Utilisation de clamscan</h4></div>
<p>Lors de l'analyse d'un fichier ou d'un répertoire à partir de la ligne de commande en utilisant <code>clamscan</code>, un seul thread CPU est utilisé. Cela peut convenir dans les cas où le temps n'est pas critique ou si vous ne voulez pas que l'ordinateur devienne lent. S'il est nécessaire d'analyser rapidement un grand répertoire ou un lecteur USB, vous pouvez vouloir utiliser tous les processeurs disponibles pour accélérer le processus.
</p>
<p><code>clamscan</code> est conçu pour être monotâche, donc <code>xargs</code> peut être utilisé pour exécuter l'analyse en parallèle :
</p>
<pre>$ find /home/archie -type f -print0 | xargs -0 -P $(nproc) clamscan
</pre>
<p>Dans cet exemple, le paramètre <code>-P</code> de <code>xargs</code> exécute <code>clamscan</code> dans autant de processus qu'il y a de CPU (signalés par <code>nproc</code>) en même temps. Les options <code>--max-lines</code> et <code>--max-args</code> permettent un contrôle encore plus fin de la répartition de la charge de travail entre les threads.
</p>
<div class="mw-heading mw-heading4"><h4 id="Utilisation_de_clamdscan">Utilisation de clamdscan</h4></div>
<p>Si le daemon <code>clamd</code> fonctionne déjà, <code>clamdscan</code> peut être utilisé à la place (consultez <a href="#D%C3%A9marrage_du_daemon">#Démarrage du daemon</a>) :
</p>
<pre>$ clamdscan --multiscan --fdpass /home/archie
</pre>
<p>Ici, le paramètre <code>--multiscan</code> permet à <code>clamd</code> d'analyser le contenu du répertoire en parallèle en utilisant les threads disponibles. Le paramètre <code>--fdpass</code> est nécessaire pour transmettre les permissions du descripteur de fichier à <code>clamd</code> car le daemon est exécuté sous l'utilisateur et le groupe <code>clamav</code>. 
</p>
<p>Le nombre de threads disponibles pour <code>clamdscan</code> est déterminé dans <code>/etc/clamav/clamd.conf</code> via le paramètre <code>MaxThreads</code> (consultez <span class="plainlinks archwiki-template-man" title="$ man 5 clamd.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/clamd.conf.5">clamd.conf(5)</a></span>). Même si vous pouvez constater que le nombre de <code>MaxThreads</code> spécifié est supérieur à un (la valeur par défaut actuelle est 10), lorsque vous lancez l'analyse en utilisant <code>clamdscan</code> à partir de la ligne de commande et que vous ne spécifiez pas l'option <code>--multiscan</code>, un seul thread CPU réel sera utilisé pour l'analyse.
</p>
<div class="mw-heading mw-heading2"><h2 id="Voir_aussi">Voir aussi</h2></div>
<ul><li><a href="https://en.wikipedia.org/wiki/ClamAV" class="extiw" title="wikipedia:ClamAV">Wikipedia:ClamAV</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../fr/Category:Security.html" title="Category:Security (Français)">Security (Français)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ClamAV_(Fran%C3%A7ais)&amp;oldid=839337">https://wiki.archlinux.org/index.php?title=ClamAV_(Français)&amp;oldid=839337</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 25 June 2025, at 20:42.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><picture><source media="(min-width: 500px)" srcset="/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/resources/assets/mediawiki_compact.svg" width="25" height="25" loading="lazy"></picture></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search">
					<form action="/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div class="cdx-search-input__input-wrapper" data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input class="cdx-text-input__input" type="search" name="search" placeholder="Search ArchWiki">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left">
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true"><span class="mw-page-title-main">ClamAV (Français)</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
</body>
</html>
